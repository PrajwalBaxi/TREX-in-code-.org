(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{0:function(e,t,o){e.exports=o(155)()},1037:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return(0,i.default)(e,function(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{},n=Object.keys(Object(o));"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(o).filter(function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable}))),n.forEach(function(e){l(t,e,o[e])})}return t}({ErrorComponent:u,LoadingComponent:c},t))};var n=s(o(1)),r=s(o(18)),i=s(o(1156)),a=s(o(4));function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function c(){return n.default.createElement(r.default,{icon:"spinner",className:"fa-pulse fa-3x"})}function u(){return n.default.createElement(r.default,{icon:"exclamation-triangle",className:"fa-2x",title:a.default.loadingError()})}e.exports=t.default},1038:function(e,t,o){"use strict";function n(e){var o="function"==typeof Map?new Map:void 0;return(n=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==o){if(o.has(e))return o.get(e);o.set(e,t)}function t(){return r(e,arguments,a(this).constructor)}return t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),i(t,e)})(e)}function r(e,t,o){return(r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()?Reflect.construct:function(e,t,o){var n=[null];n.push.apply(n,t);var r=new(Function.bind.apply(e,n));return o&&i(r,o.prototype),r}).apply(null,arguments)}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=function(i){function e(){for(var e,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",o=arguments.length,n=new Array(1<o?o-1:0),r=1;r<o;r++)n[r-1]=arguments[r];return(e=i.call.apply(i,[this].concat(n))||this).name="NameFailureError",e.message="Rename failed",e.nameFailure=t,e}return function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(e,i),e}(n(Error));t.default=s,e.exports=t.default},1039:function(e,t,o){"use strict";function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=u(o(0)),i=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var t=c();if(t&&t.has(e))return t.get(e);var o={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(o,r,i):o[r]=e[r]}o.default=e,t&&t.set(e,o);return o}(o(1)),s=u(o(18)),r=u(o(6)),l=o(11);function c(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return c=function(){return e},e}function u(e){return e&&e.__esModule?e:{default:e}}function d(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var p={link:{color:r.default.teal,fontSize:14,fontFamily:'"Gotham 4r", sans-serif',fontWeight:"bold",display:"inline",textDecoration:"none"},chevron:{display:"inline",color:r.default.teal,fontSize:12,fontWeight:"bold",marginLeft:8},chevronRtl:{display:"inline",color:r.default.teal,fontSize:12,fontWeight:"bold",marginRight:8},linkBox:{display:"block",textDecoration:"none"}},h=(0,l.makeEnum)("left","right"),g=function(r){function e(){for(var o,e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return d(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(o=r.call.apply(r,[this].concat(t))||this),"renderChevron",function(){var e=o.props.isRtl,t=e?"chevron-left":"chevron-right";return i.default.createElement(s.default,{icon:t,style:e?p.chevronRtl:p.chevron})}),o}return function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(e,r),e.prototype.render=function(){var e=this.props,t=e.link,o=e.linkText,n=e.chevronSide;return i.default.createElement("div",{style:p.linkBox},i.default.createElement("a",{href:t,style:p.link},n===h.left&&this.renderChevron(),i.default.createElement("h3",{style:p.link},o),(!n||n===h.right)&&this.renderChevron()))},e}(i.Component);d(t.default=g,"propTypes",{linkText:n.default.string.isRequired,link:n.default.string.isRequired,isRtl:n.default.bool.isRequired,chevronSide:n.default.oneOf(Object.values(h))}),e.exports=t.default},1040:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.UnconnectedAssignButton=void 0;var r=d(o(1)),n=d(o(0)),i=o(9),a=d(o(23)),s=d(o(4)),l=o(56),c=d(o(1041)),u=o(147);function d(e){return e&&e.__esModule?e:{default:e}}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var g={buttonMargin:{marginLeft:10}},f=function(n){function e(){for(var a,e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];return h(p(a=n.call.apply(n,[this].concat(t))||this),"state",{confirmationDialogOpen:!1}),h(p(a),"onCloseDialog",function(){a.setState({confirmationDialogOpen:!1})}),h(p(a),"unhideAndAssign",function(){var e=a.props,t=e.sectionId,o=e.courseId,n=e.scriptId,r=e.assignToSection;(0,e.updateHiddenScript)(t,n,!1),r(t,o,n)}),h(p(a),"handleClick",function(){var e=a.props,t=e.scriptId,o=e.courseId,n=e.sectionId,r=e.hiddenStageState,i=e.assignToSection;n&&t&&r&&(0,u.isScriptHiddenForSection)(r,n,t)?a.setState({confirmationDialogOpen:!0}):i(n,o,t)}),a}return function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(e,n),e.prototype.render=function(){var e=this.state.confirmationDialogOpen,t=this.props,o=t.assignmentName,n=t.sectionName;return r.default.createElement("div",null,r.default.createElement("div",{style:g.buttonMargin},r.default.createElement(a.default,{__useDeprecatedTag:!0,color:a.default.ButtonColor.orange,text:s.default.assignToSection(),icon:"plus",onClick:this.handleClick,className:"uitest-assign-button"})),e&&r.default.createElement(c.default,{sectionName:n,assignmentName:o,onClose:this.onCloseDialog,onConfirm:this.unhideAndAssign}))},e}(r.default.Component);h(f,"propTypes",{sectionId:n.default.number.isRequired,sectionName:n.default.string,courseId:n.default.number,scriptId:n.default.number,assignmentName:n.default.string,assignToSection:n.default.func.isRequired,hiddenStageState:n.default.object,updateHiddenScript:n.default.func.isRequired});var m=f;t.UnconnectedAssignButton=m;var y=(0,i.connect)(function(e){return{sections:e.teacherSections.sections,hiddenStageState:e.hiddenStage}},{assignToSection:l.assignToSection,updateHiddenScript:u.updateHiddenScript})(f);t.default=y},1041:function(e,t,o){"use strict";function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=d(o(0)),i=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var t=u();if(t&&t.has(e))return t.get(e);var o={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(o,r,i):o[r]=e[r]}o.default=e,t&&t.set(e,o);return o}(o(1)),r=d(o(6)),s=d(o(4)),l=d(o(66)),c=d(o(23));function u(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return u=function(){return e},e}function d(e){return e&&e.__esModule?e:{default:e}}var p,h,g,f={header:{fontSize:16,marginBottom:5,fontWeight:"bold"},content:{fontSize:14,marginBottom:10,marginTop:10,paddingBottom:20,paddingTop:20,borderTopWidth:1,borderBottomWidth:1,borderLeftWidth:0,borderRightWidth:0,borderStyle:"solid",borderColor:r.default.lighter_gray}},m=function(e){function t(){return e.apply(this,arguments)||this}return function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(t,e),t.prototype.render=function(){var e=this.props,t=e.sectionName,o=e.assignmentName,n=e.onClose,r=e.onConfirm;return i.default.createElement(l.default,{isOpen:!0,handleClose:n},i.default.createElement("div",{style:f.header,className:"uitest-confirm-assignment-dialog"},s.default.unhideAndAssignHeader()),i.default.createElement("div",{style:f.content},s.default.assignHiddenUnitConfirm({assignmentName:o,sectionName:t})),i.default.createElement("div",{style:{textAlign:"right"}},i.default.createElement(c.default,{__useDeprecatedTag:!0,text:s.default.dialogCancel(),onClick:n,color:c.default.ButtonColor.gray}),i.default.createElement(c.default,{__useDeprecatedTag:!0,id:"confirm-assign",text:s.default.unhideUnitAndAssign(),style:{marginLeft:5},onClick:r,color:c.default.ButtonColor.orange})))},t}(i.Component);t.default=m,p=m,h="propTypes",g={sectionName:n.default.string.isRequired,assignmentName:n.default.string.isRequired,onClose:n.default.func.isRequired,onConfirm:n.default.func.isRequired},h in p?Object.defineProperty(p,h,{value:g,enumerable:!0,configurable:!0,writable:!0}):p[h]=g,e.exports=t.default},1042:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.UnconnectedUnassignButton=void 0;var n=c(o(1)),r=c(o(0)),i=o(9),a=c(o(23)),s=c(o(4)),l=o(56);function c(e){return e&&e.__esModule?e:{default:e}}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var p={buttonMargin:{marginLeft:10}},h=function(e){function t(){var o;return d(u(o=e.call(this)||this),"onMouseOver",function(e){o.setState({text:s.default.unassign(),icon:"times"})}),d(u(o),"onMouseOut",function(e){o.setState({text:s.default.assigned(),icon:"check"})}),d(u(o),"onClickUnassign",function(){var e=o.props,t=e.sectionId;(0,e.unassignSection)(t)}),o.state={text:s.default.assigned(),icon:"check"},o}return function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(t,e),t.prototype.render=function(){var e=this.state,t=e.text,o=e.icon;return n.default.createElement("div",{onMouseOver:this.onMouseOver,onMouseLeave:this.onMouseOut,style:p.buttonMargin,className:"uitest-unassign-button"},n.default.createElement(a.default,{__useDeprecatedTag:!0,color:a.default.ButtonColor.green,text:t,icon:o,onClick:this.onClickUnassign}))},t}(n.default.Component);d(h,"propTypes",{sectionId:r.default.number.isRequired,unassignSection:r.default.func.isRequired});var g=h;t.UnconnectedUnassignButton=g;var f=(0,i.connect)(function(e){return{sections:e.teacherSections.sections}},{unassignSection:l.unassignSection})(h);t.default=f},1043:function(e,t,o){"use strict";function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var t=c();if(t&&t.has(e))return t.get(e);var o={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(o,r,i):o[r]=e[r]}o.default=e,t&&t.set(e,o);return o}(o(1)),r=l(o(18)),i=l(o(6)),s=l(o(4));function l(e){return e&&e.__esModule?e:{default:e}}function c(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return c=function(){return e},e}var u={assigned:{color:i.default.level_perfect,fontSize:16,fontFamily:'"Gotham 5r", sans-serif',lineHeight:"36px",marginLeft:10,verticalAlign:"top"}},d=function(e){function t(){return e.apply(this,arguments)||this}return function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(t,e),t.prototype.render=function(){return n.default.createElement("span",{style:u.assigned,className:"uitest-assigned"},n.default.createElement(r.default,{icon:"check"}),s.default.assigned())},t}(n.Component);t.default=d,e.exports=t.default},1044:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(o(0)),r=s(o(1)),i=s(o(23)),a=s(o(4));function s(e){return e&&e.__esModule?e:{default:e}}function l(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{},n=Object.keys(Object(o));"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(o).filter(function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable}))),n.forEach(function(e){c(t,e,o[e])})}return t}function c(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var u={main:{wrap:"nowrap",marginTop:5,marginLeft:15,marginRight:15},disabled:{opacity:.5},button:{display:"inline-block",paddingLeft:0,paddingRight:0,boxSizing:"border-box",width:"50%"},leftButton:{borderTopRightRadius:0,borderBottomRightRadius:0},rightButton:{borderTopLeftRadius:0,borderBottomLeftRadius:0}},d=function(e){function t(){return e.apply(this,arguments)||this}return function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(t,e),t.prototype.render=function(){var e=this.props,t=e.hidden,o=e.disabled,n=e.onChange;return r.default.createElement("div",{style:l({},u.main,o&&u.disabled),className:"uitest-togglehidden"},r.default.createElement(i.default,{__useDeprecatedTag:!0,onClick:function(){return!o&&n("visible")},text:a.default.visible(),color:i.default.ButtonColor.gray,disabled:!t,icon:"eye",style:l({},u.button,u.leftButton)}),r.default.createElement(i.default,{__useDeprecatedTag:!0,onClick:function(){return!o&&n("hidden")},text:a.default.hidden(),color:i.default.ButtonColor.gray,disabled:t,icon:"eye-slash",style:l({},u.button,u.rightButton)}))},t}(r.default.Component);c(t.default=d,"propTypes",{hidden:n.default.bool.isRequired,disabled:n.default.bool,onChange:n.default.func.isRequired}),e.exports=t.default},1045:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(o(0)),r=a(o(1)),i=a(o(6));function a(e){return e&&e.__esModule?e:{default:e}}var s={outer:{display:"table-cell",verticalAlign:"top",width:200,height:"100%",borderRadius:2},inner:{backgroundColor:i.default.lightest_cyan,height:"100%",borderWidth:1,borderColor:i.default.cyan,borderStyle:"solid",textAlign:"center"}},l=function(e){var t=e.children;return 0===t.length?null:r.default.createElement("div",{style:s.outer},r.default.createElement("div",{style:s.inner},t))};l.propTypes={children:n.default.node.isRequired};var c=l;t.default=c,e.exports=t.default},1046:function(e,t,o){"use strict";function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=u;var n=c(o(0)),r=c(o(1)),i=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var t=l();if(t&&t.has(e))return t.get(e);var o={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(o,r,i):o[r]=e[r]}o.default=e,t&&t.set(e,o);return o}(o(179)),s=c(o(4));function l(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return l=function(){return e},e}function c(e){return e&&e.__esModule?e:{default:e}}function u(e){var t=e.width;return r.default.createElement(i.default,{type:i.NotificationType.information,notice:s.default.verifiedResourcesNotice(),details:s.default.verifiedResourcesDetails(),buttonText:s.default.learnMore(),buttonLink:"https://support.code.org/hc/en-us/articles/115001550131",dismissible:!0,width:t})}u.propTypes={width:n.default.number},e.exports=t.default},1047:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.renderTeacherPanel=function(t,e,o,n){var r=4<arguments.length&&void 0!==arguments[4]?arguments[4]:null,i=5<arguments.length&&void 0!==arguments[5]?arguments[5]:null,a=6<arguments.length&&void 0!==arguments[6]&&arguments[6],s=document.createElement("div");s.setAttribute("id","teacher-panel-container"),o&&o.students&&t.dispatch((0,g.setStudentsForCurrentSection)(o.id,o.students));d.default.render(u.default.createElement(c.Provider,{store:t},u.default.createElement(m.default,{sectionData:r,onSelectUser:function(e){(0,h.updateQueryParam)("user_id",e),a?t.dispatch((0,f.queryUserProgress)(e)):(0,p.reload)()},scriptName:n,getSelectedUserId:function(){var e=l.default.parse(location.search).user_id;return e?parseInt(e,10):null},pageType:i})),s),document.body.appendChild(s)},t.queryLockStatus=function(r,t,i){return new Promise(function(n,e){$.ajax("/api/lock_status",{data:{script_id:t}}).done(function(e){var t=Object.values(e).map(function(e){return{id:e.section_id,name:e.section_name}});"script_overview"!==i&&r.dispatch((0,s.setSections)(t)),r.dispatch((0,a.setSectionLockStatus)(e));var o=l.default.parse(location.search);o.section_id&&r.dispatch((0,s.selectSection)(o.section_id)),n()})})};var l=n(o(86)),a=o(136),s=o(56),c=o(9),u=n(o(1)),d=n(o(8)),p=o(11),h=o(96),g=o(56),f=o(95),m=n(o(1083));function n(e){return e&&e.__esModule?e:{default:e}}},1052:function(e,t,o){"use strict";var n=c(o(0)),r=c(o(1)),i=c(o(1889)),a=c(o(1890)),s=c(o(1891)),l=c(o(1266));function c(e){return e&&e.__esModule?e:{default:e}}var u,d,p,h={inTopPane:{overflow:"hidden"},notInTopPane:{overflow:"auto"}},g=function(e){function t(){return e.apply(this,arguments)||this}!function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(t,e);var o=t.prototype;return o.renderMainBody=function(){return this.props.longInstructions?r.default.createElement(i.default,{markdown:this.props.longInstructions,onResize:this.props.onResize,inTopPane:this.props.inTopPane}):r.default.createElement(a.default,{puzzleTitle:this.props.puzzleTitle,shortInstructions:this.props.shortInstructions,instructions2:this.props.instructions2})},o.render=function(){return r.default.createElement("div",{style:this.props.inTopPane?h.inTopPane:h.notInTopPane},this.renderMainBody(),this.props.inputOutputTable&&r.default.createElement(s.default,{data:this.props.inputOutputTable}),this.props.imgURL&&!this.props.inTopPane&&r.default.createElement("img",{className:"aniGif example-image",src:this.props.imgURL}),this.props.imgURL&&this.props.inTopPane&&r.default.createElement(l.default,null),this.props.authoredHints)},t}(r.default.Component);u=g,d="propTypes",p={puzzleTitle:n.default.string,shortInstructions:n.default.string,instructions2:n.default.string,longInstructions:n.default.string,imgURL:n.default.string,authoredHints:n.default.element,inputOutputTable:n.default.arrayOf(n.default.arrayOf(n.default.number)),inTopPane:n.default.bool,onResize:n.default.func},d in u?Object.defineProperty(u,d,{value:p,enumerable:!0,configurable:!0,writable:!0}):u[d]=p,e.exports=g},1053:function(e,t,o){"use strict";function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var t=h();if(t&&t.has(e))return t.get(e);var o={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(o,r,i):o[r]=e[r]}o.default=e,t&&t.set(e,o);return o}(o(1)),n=p(o(0)),i=p(o(14)),s=p(o(15)),l=p(o(4)),c=p(o(605)),u=o(11),d=p(o(6));function p(e){return e&&e.__esModule?e:{default:e}}function h(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return h=function(){return e},e}function g(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var f={main:{width:21,height:24},flagNormal:{color:d.default.white},checkFlagNormal:{color:d.default.lighter_gray},focused:{color:d.default.level_perfect},hoverOverlay:{":hover":{color:d.default.orange}},smallStack:{width:"1em",height:"1em",lineHeight:"1em"}},m=function(e){function t(){return e.apply(this,arguments)||this}return function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(t,e),t.prototype.render=function(){var e=this.props,t=e.stageExtrasUrl,o=e.onStageExtras,n=s.default.uniqueId();return r.default.createElement("a",{href:t+(0,u.currentLocation)().search,style:f.main,"data-tip":!0,"data-for":n,"aria-describedby":n},r.default.createElement("div",{style:f.main},r.default.createElement("span",{className:"fa-stack fa-1x",style:f.smallStack},r.default.createElement("i",{className:"fa fa-flag fa-stack-1x",style:f.flagNormal}),r.default.createElement("i",{className:"fa fa-flag-checkered fa-stack-1x",style:function(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{},n=Object.keys(Object(o));"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(o).filter(function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable}))),n.forEach(function(e){g(t,e,o[e])})}return t}({},f.checkFlagNormal,f.hoverOverlay,o&&f.focused)}))),r.default.createElement(c.default,{tooltipId:n,icon:"flag-checkered",text:l.default.stageExtras(),includeAssessmentIcon:!1}))},t}(r.Component);g(m,"propTypes",{stageExtrasUrl:n.default.string.isRequired,onStageExtras:n.default.bool.isRequired});var y=(0,i.default)(m);t.default=y,e.exports=t.default},1054:function(e,t,o){"use strict";function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(o(0)),l=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var o={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(o,r,i):o[r]=e[r]}o.default=e,t&&t.set(e,o);return o}(o(1)),c=r(o(6)),u=r(o(1055));function s(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function r(e){return e&&e.__esModule?e:{default:e}}var i,d,p,h={main:{marginLeft:"auto"}},g=function(e){function t(){return e.apply(this,arguments)||this}return function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(t,e),t.prototype.render=function(){var e=this.props.percentPerfect,t=Math.round(100*e),o=2*Math.PI*e,n=18*Math.cos(o),r=18*Math.sin(o),i=.5<e?1:0,a=1===e?"Z":"",s=c.default.level_perfect;return 1===e?s=c.default.yellow:0===e&&(s=c.default.lighter_gray),l.default.createElement("svg",{style:h.main,width:"50",height:"90"},l.default.createElement("g",{transform:"translate(7, 27)"},l.default.createElement("g",{transform:"translate(18, 18)"},l.default.createElement("circle",{r:"25",fill:"white"}),l.default.createElement("circle",{r:"19.8",fill:c.default.lighter_gray}),l.default.createElement("circle",{r:"16.2",fill:1===e?c.default.white:c.default.lightest_gray}),l.default.createElement("g",{transform:"rotate(-90)"},l.default.createElement("path",{d:"M 18 0.00001 A 18 18 0 ".concat(i," 1 ").concat(n," ").concat(r).concat(a),fill:"none",stroke:s,strokeWidth:"3"}))),l.default.createElement("g",{transform:"translate(6, 8)"},l.default.createElement("use",{href:"".concat(u.default,"#trophy"),transform:"scale(0.04)",fill:1===e?c.default.yellow:c.default.lighter_gray}))),l.default.createElement("g",{transform:"translate(25, 70)"},l.default.createElement("text",{textAnchor:"middle",alignmentBaseline:"hanging",fill:s,fontSize:"14",fontFamily:'"Gotham 5r", sans-serif'},t,"%")))},t}(l.Component);t.default=g,i=g,d="propTypes",p={percentPerfect:n.default.number.isRequired},d in i?Object.defineProperty(i,d,{value:p,enumerable:!0,configurable:!0,writable:!0}):i[d]=p,e.exports=t.default},1055:function(e,t,o){e.exports=o.p+"f5e1081deedd64646a3ba3481d41e0e5.svg"},1056:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.UnconnectedScriptOverviewTopRow=t.COMPLETED=t.IN_PROGRESS=t.NOT_STARTED=void 0;var n,r=l(o(0)),g=l(o(1)),i=o(9),f=l(o(4)),m=l(o(23)),y=l(o(856)),_=l(o(624)),v=o(59),b=o(519),E=l(o(900)),T=l(o(1043)),a=o(82),s=o(56);function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var u="NOT_STARTED";t.NOT_STARTED=u;var d="IN_PROGRESS";t.IN_PROGRESS=d;var p="COMPLETED";t.COMPLETED=p;var S=(c(n={},u,f.default.tryNow()),c(n,d,f.default.continue()),c(n,p,f.default.printCertificate()),n),k={buttonRow:{minHeight:50,position:"relative"},right:{position:"absolute",right:0,top:0},left:{position:"absolute",left:0,top:0},dropdown:{display:"inline-block"}},h=function(e){function t(){return e.apply(this,arguments)||this}return function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(t,e),t.prototype.render=function(){var e=this.props,t=e.sectionsForDropdown,o=e.selectedSectionId,n=e.currentCourseId,r=e.professionalLearningCourse,i=e.scriptProgress,a=e.scriptId,s=e.scriptName,l=e.scriptTitle,c=e.viewAs,u=e.isRtl,d=e.resources,p=e.showAssignButton,h=e.assignedSectionId;return g.default.createElement("div",{style:k.buttonRow},!r&&c===v.ViewType.Student&&g.default.createElement("div",null,g.default.createElement(m.default,{__useDeprecatedTag:!0,href:"/s/".concat(s,"/next"),text:S[i],size:m.default.ButtonSize.large}),g.default.createElement(m.default,{__useDeprecatedTag:!0,href:"//support.code.org",text:f.default.getHelp(),color:m.default.ButtonColor.white,size:m.default.ButtonSize.large,style:{marginLeft:10}}),h&&g.default.createElement(T.default,null)),!r&&c===v.ViewType.Teacher&&0<d.length&&g.default.createElement("div",{style:k.dropdown},g.default.createElement(y.default,{text:f.default.teacherResources(),color:m.default.ButtonColor.blue},d.map(function(e,t){var o=e.type,n=e.link;return g.default.createElement("a",{key:t,href:n,target:"_blank"},b.stringForType[o])}))),!r&&c===v.ViewType.Teacher&&g.default.createElement(E.default,{sections:t,selectedSectionId:o,assignmentName:l,showAssignButton:p,courseId:n,scriptId:a,forceReload:!0}),g.default.createElement("div",{style:u?k.left:k.right},g.default.createElement("span",null,g.default.createElement(_.default,null))))},t}(g.default.Component);c(h,"propTypes",{sectionsForDropdown:r.default.arrayOf(a.sectionForDropdownShape).isRequired,selectedSectionId:r.default.number,assignedSectionId:r.default.number,currentCourseId:r.default.number,professionalLearningCourse:r.default.bool,scriptProgress:r.default.oneOf([u,d,p]),scriptId:r.default.number.isRequired,scriptName:r.default.string.isRequired,scriptTitle:r.default.string.isRequired,viewAs:r.default.oneOf(Object.values(v.ViewType)).isRequired,isRtl:r.default.bool.isRequired,resources:r.default.arrayOf(b.resourceShape).isRequired,showAssignButton:r.default.bool});var C=h;t.UnconnectedScriptOverviewTopRow=C;var A=(0,i.connect)(function(e,t){return{sectionsForDropdown:(0,s.sectionsForDropdown)(e.teacherSections,t.scriptId,t.currentCourseId,!1)}})(h);t.default=A},1057:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAXCAYAAAAP6L+eAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4QEfBicvUU//cAAAAKtJREFUOMvtlLENwjAURN93kQoWoGEzNggNVPRxl4ZMAJNBkwVIExccTaJYFpLTIBq/8p/vbMlfB79Ckpc0amGU5CO9SfQcoyRvkl7AJrlvMLPtFPxNzzE4oANCNAzTbCbVcwTgSmHG7s/e662ToAIwCOasPex3F4Dbo2+QzrOeDZz8TqKOTYJKoo7OHteGxn5nRmfRrxsEs2UrUn3Ni8tWlK4oXVG64u9d8QEqLgOqdcEqDwAAAABJRU5ErkJggg=="},1058:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAXCAYAAAAP6L+eAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4QEfBjoS9kvffQAAALhJREFUOMvtlLERglAQRN/9gCJMbMYOzO0AEojIISORCjTXChxr0YQiCFgDAf9gAASOyd/s397+u5nbWfgRjMutBFIg6mstULHf5QBc7wXqMo+fQwtUDiyeiKK+9oaUrPh01DtQ3U/xJqr+PL/4+Y3NjgSMrjg/m1KdUvUHMmjNWXXYbnKA06MpkDItPOCgdxKxLxJEErHXm2iFKwa9M6M27+oGrRmjK6b8ko2B4IqQFSErQlb8NyteNvx30d8zRqcAAAAASUVORK5CYII="},1059:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAXCAYAAAAP6L+eAAAAWklEQVR4AWP4//9/GxD//E8lADWrDWTw5//UB59p52I4GAULHzxrXXj/6c8F95/+pwYGmQUykwHZUGoazgBi0AKPGjxqMCamXTpe9PBZG01yHgyMgtE6D+5iAJNEO6l4m/U/AAAAAElFTkSuQmCC"},106:function(e,t,o){"use strict";var c={};function u(e,t,o){var n,r,i,a,s,l="";for("string"!=typeof t&&(o=t,t=u.defaultChars),void 0===o&&(o=!0),s=function(e){var t,o,n=c[e];if(n)return n;for(n=c[e]=[],t=0;t<128;t++)o=String.fromCharCode(t),/^[0-9a-z]$/i.test(o)?n.push(o):n.push("%"+("0"+t.toString(16).toUpperCase()).slice(-2));for(t=0;t<e.length;t++)n[e.charCodeAt(t)]=e[t];return n}(t),n=0,r=e.length;n<r;n++)if(i=e.charCodeAt(n),o&&37===i&&n+2<r&&/^[0-9a-f]{2}$/i.test(e.slice(n+1,n+3)))l+=e.slice(n,n+3),n+=2;else if(i<128)l+=s[i];else if(55296<=i&&i<=57343){if(55296<=i&&i<=56319&&n+1<r&&56320<=(a=e.charCodeAt(n+1))&&a<=57343){l+=encodeURIComponent(e[n]+e[n+1]),n++;continue}l+="%EF%BF%BD"}else l+=encodeURIComponent(e[n]);return l}u.defaultChars=";/?:@&=+$,-_.!~*'()#",u.componentChars="-_.!~*'()",e.exports=u},1060:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAXCAYAAAAP6L+eAAAAXklEQVR4AWNgWLunDYh/AvF/amCoWW1Ag/d+BglQE4PMpJ2L4WAULHzwrHXh/ac/F9x/+p8aGGQWyEwGZEOpaTgDiEELPGrwqMGYmHbpeNHDZ200yXkwMApG6zy4iwHRcmtODj8COgAAAABJRU5ErkJggg=="},1061:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAXCAYAAAAP6L+eAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4QICFAQd3UBbHQAAAKtJREFUOMvtlCEOwkAQRd+OqIKDcA0sZwEDCt91NXAVsIRbEM5BTSv2I9iWZiFpKghmn/w/M5NMfj78CkleUqM3jSQ/8MvEH6OR5J2kBzBL7tXOuXlc/M0fozbgCLQDsY1aR+qP0QIHMh3ucr55Alug6H9kVMvVYg9wPd3LoLAb+OM/NipzgXUyVEQtxi1sJizt5032mYqovRbb9FQ4ZzkVuStyV+Su+G9XPAEHR/tdHoJiGAAAAABJRU5ErkJggg=="},1062:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAXBAMAAAD9xqKtAAAAIVBMVEUAAAB4ZaJ3ZKF2ZKB3ZqF3ZaG+tde+s9e+s9fAtNm/s9cBl+tXAAAAAXRSTlMAQObYZgAAAAFiS0dEAIgFHUgAAAAJcEhZcwAACxMAAAsTAQCanBgAAAAHdElNRQfhAgIUAzNO18AVAAAAQElEQVQY02NgQAJCxooMTsYgoMgQbGwKxCBgChYXArNVGIgB6R1lDNM7QKCMYUVHFxCDQBdYPB3MriTKnAFyDwAcICqBavjlqwAAAABJRU5ErkJggg=="},1063:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAXCAYAAAAP6L+eAAAAWElEQVR4AWP4//9/GxD//E8lADWrDWTw5//UB59p52I4GAXH9t6tOLb33oNje+49pQYGmQUykwHZUGoazgBi0AKPGjxqMCamZTq+W0mTnAcDo2C0zoO7GAAwoh96Y8e3+QAAAABJRU5ErkJggg=="},1064:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAXCAYAAAAP6L+eAAAAYUlEQVR4AWOoSF3UVp6y8GdZyoL/1MAgs0BmMpSnLvwMEqAmBplJOxfDwSg4tvduxbG99x4c23PvKTUwyCyQmQzIhlLTcAYQgxZ41OBRgzExLdPx3Uqa5DwYGAWjdR7cxQDMOFgjH064QwAAAABJRU5ErkJggg=="},1065:function(e,t,o){"use strict";function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var t=m();if(t&&t.has(e))return t.get(e);var o={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(o,r,i):o[r]=e[r]}o.default=e,t&&t.set(e,o);return o}(o(1)),n=f(o(0)),r=f(o(6)),c=f(o(4)),u=f(o(176)),d=f(o(1066)),i=o(82),p=f(o(1039)),s=o(96),h=o(11),g=f(o(86));function f(e){return e&&e.__esModule?e:{default:e}}function m(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return m=function(){return e},e}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var v={select:{height:34,width:300},addNewSection:{borderTop:"1px solid ".concat(r.default.charcoal),paddingTop:16,paddingBottom:8,paddingLeft:20,paddingRight:12,width:268}},b=function(r){function e(){for(var o,e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return _(y(o=r.call.apply(r,[this].concat(t))||this),"state",{isMenuOpen:!1,canMenuOpen:!0,targetPoint:{top:0,left:0}}),_(y(o),"handleMouseDown",function(e){e.preventDefault()}),_(y(o),"handleClick",function(){!o.state.isMenuOpen&&o.state.canMenuOpen&&o.openMenu()}),_(y(o),"handleNativeDropdownChange",function(e){var t=parseInt(e.target.value);o.props.onChangeSection(t)}),_(y(o),"beforeClose",function(e,t){t(),o.closeMenu(),window.setTimeout(function(){o.setState({canMenuOpen:!0})})}),_(y(o),"chooseMenuItem",function(e){o.props.onChangeSection(e.id),(0,s.updateQueryParam)("section_id",e.id),(0,s.updateQueryParam)("user_id",void 0),o.props.forceReload&&(0,h.reload)(),o.closeMenu()}),o}!function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(e,r);var t=e.prototype;return t.openMenu=function(){var e=this.select.getBoundingClientRect(),t={top:e.bottom+window.pageYOffset,left:e.left+window.pageXOffset};this.setState({isMenuOpen:!0,canMenuOpen:!1,targetPoint:t})},t.closeMenu=function(){this.setState({isMenuOpen:!1})},t.render=function(){var t=this,e=this.props,o=e.sections,n=e.selectedSection,r=e.courseId,i=e.scriptId,a=n?n.id:"",s=g.default.stringify({courseId:r,scriptId:i});return l.default.createElement("div",null,l.default.createElement("select",{value:a,onChange:this.props.onChangeSection,ref:function(e){return t.select=e},onClick:this.handleClick,onMouseDown:this.handleMouseDown,style:v.select},l.default.createElement("option",{value:""},c.default.selectSectionOption()),o&&o.map(function(e){return l.default.createElement("option",{key:e.id,value:e.id},e.name)})),l.default.createElement(u.default,{isOpen:this.state.isMenuOpen,targetPoint:this.state.targetPoint,beforeClose:this.beforeClose,offset:{x:0,y:0}},o&&o.map(function(e){return l.default.createElement(d.default,{section:e,onClick:function(){return t.chooseMenuItem(e)},key:e.id})}),l.default.createElement("div",{style:v.addNewSection},l.default.createElement(p.default,{link:"/home?".concat(s),linkText:c.default.addNewSection(),isRtl:!1}))))},e}(l.Component);_(t.default=b,"propTypes",{sections:n.default.arrayOf(i.sectionForDropdownShape).isRequired,selectedSection:n.default.object,onChangeSection:n.default.func.isRequired,forceReload:n.default.bool,courseId:n.default.number,scriptId:n.default.number}),e.exports=t.default},1066:function(e,t,o){"use strict";function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=d(o(0)),r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var t=u();if(t&&t.has(e))return t.get(e);var o={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(o,r,i):o[r]=e[r]}o.default=e,t&&t.set(e,o);return o}(o(1)),i=d(o(176)),s=d(o(18)),l=d(o(6)),c=o(82);function u(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return u=function(){return e},e}function d(e){return e&&e.__esModule?e:{default:e}}var p,h,g,f={item:{height:28,lineHeight:"28px",width:270,fontSize:14,fontFamily:'"Gotham 4r", sans-serif',whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",paddingLeft:10}},m=function(e){function t(){return e.apply(this,arguments)||this}return function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(t,e),t.prototype.render=function(){var e=this.props,t=e.section,o=e.onClick,n={marginRight:5,color:l.default.level_perfect,visibility:t.isAssigned?"visible":"hidden"};return r.default.createElement(i.default.Item,{onClick:o,style:f.item},r.default.createElement("span",{style:n},r.default.createElement(s.default,{icon:"check"})),r.default.createElement("span",null,t.name))},t}(r.Component);t.default=m,p=m,h="propTypes",g={section:c.sectionForDropdownShape,onClick:n.default.func.isRequired},h in p?Object.defineProperty(p,h,{value:g,enumerable:!0,configurable:!0,writable:!0}):p[h]=g,e.exports=t.default},1067:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.UnconnectedProgressTable=t.styles=void 0;var n=d(o(0)),r=d(o(1)),i=o(9),a=o(95),s=d(o(625)),l=d(o(627)),c=d(o(1076)),u=o(57);function d(e){return e&&e.__esModule?e:{default:e}}var p={hidden:{display:"none"}};t.styles=p;var h,g,f,m=function(e){function t(){return e.apply(this,arguments)||this}!function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(t,e);var o=t.prototype;return o.componentDidMount=function(){$(".container.main").css({width:"initial",maxWidth:1100,paddingLeft:80,paddingRight:80})},o.render=function(){var e=this.props,t=e.isSummaryView,o=e.isPlc,n=e.categorizedLessons;return 1===n.length?r.default.createElement("div",null,r.default.createElement("div",{style:t?{}:p.hidden},r.default.createElement(s.default,{lessons:n[0].lessons,levelsByLesson:n[0].levels})),r.default.createElement("div",{style:t?p.hidden:{}},r.default.createElement(l.default,{lessons:n[0].lessons,levelsByLesson:n[0].levels}))):r.default.createElement("div",null,n.map(function(e){return r.default.createElement(c.default,{key:e.category,isPlc:o,groupName:e.category,isSummaryView:t,lessons:e.lessons,levelsByLesson:e.levels})}))},t}(r.default.Component);h=m,g="propTypes",f={isPlc:n.default.bool.isRequired,isSummaryView:n.default.bool.isRequired,categorizedLessons:n.default.arrayOf(n.default.shape({category:n.default.string.isRequired,lessons:n.default.arrayOf(u.lessonType).isRequired,levels:n.default.arrayOf(n.default.arrayOf(u.levelType)).isRequired})).isRequired},g in h?Object.defineProperty(h,g,{value:f,enumerable:!0,configurable:!0,writable:!0}):h[g]=f;var y=m;t.UnconnectedProgressTable=y;var _=(0,i.connect)(function(e){return{isPlc:e.progress.professionalLearningCourse,isSummaryView:e.progress.isSummaryView,categorizedLessons:(0,a.categorizedLessons)(e.progress)}})(m);t.default=_},1068:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.styles=void 0;var n=a(o(0)),p=a(o(1)),r=a(o(6)),h=a(o(123)),g=a(o(369)),f=a(o(18)),i=o(57),m=o(59),y=o(61),_=a(o(626)),v=a(o(15)),b=a(o(4)),E=o(128);function a(e){return e&&e.__esModule?e:{default:e}}function T(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{},n=Object.keys(Object(o));"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(o).filter(function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable}))),n.forEach(function(e){s(t,e,o[e])})}return t}function s(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var S={lightRow:{backgroundColor:r.default.table_light_row},darkRow:{backgroundColor:r.default.table_dark_row},hiddenRow:{borderStyle:"dashed",borderWidth:2,borderColor:r.default.border_gray,backgroundColor:r.default.table_light_row},col1:{width:200,minWidth:200,maxWidth:200,lineHeight:"52px",color:r.default.charcoal,letterSpacing:-.11,whiteSpace:"nowrap",paddingLeft:20,paddingRight:20,borderRightWidth:1,borderRightColor:r.default.border_light_gray,borderRightStyle:"solid"},col2:{position:"relative",width:"100%",paddingLeft:20,paddingRight:20},fadedCol:{opacity:.6},colText:{color:r.default.charcoal,fontFamily:'"Gotham 5r", sans-serif',fontSize:12,overflow:"hidden",textOverflow:"ellipsis"},icon:{marginRight:5,fontSize:12,color:r.default.cyan},locked:{borderStyle:"dashed",borderWidth:2},unlockedIcon:{color:r.default.orange},focusAreaMargin:{marginRight:130},opaque:{opacity:1}};t.styles=S;var l=function(e){function t(){return e.apply(this,arguments)||this}return function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(t,e),t.prototype.render=function(){var e=this.props,t=e.dark,o=e.lesson,n=e.levels,r=e.lockedForSection,i=e.lessonIsVisible,a=e.viewAs;if(!i(o,a))return null;var s=!i(o,m.ViewType.Student),l=o.name;o.stageNumber&&(l=o.stageNumber+". "+l);var c=r||n.every(function(e){return e.status===y.LevelStatus.locked})||o.lockable&&(0,E.stageLocked)(n),u=v.default.uniqueId(),d=v.default.uniqueId();return p.default.createElement("tr",{style:T({},!t&&S.lightRow,t&&S.darkRow,s&&S.hiddenRow,c&&S.locked,a===m.ViewType.Teacher&&S.opaque)},p.default.createElement("td",{style:T({},S.col1,(s||c)&&a===m.ViewType.Student&&S.fadedCol)},p.default.createElement("div",{style:S.colText},s&&p.default.createElement(f.default,{icon:"eye-slash",style:S.icon}),o.lockable&&p.default.createElement("span",{"data-tip":!0,"data-for":d},p.default.createElement(f.default,{icon:c?"lock":"unlock",style:T({},S.icon,!c&&S.unlockedIcon)}),!c&&a===m.ViewType.Teacher&&p.default.createElement(h.default,{id:d,role:"tooltip",wrapper:"span",effect:"solid"},b.default.lockAssessmentLong())),p.default.createElement("span",{"data-tip":!0,"data-for":u,"aria-describedby":u},l,p.default.createElement(h.default,{id:u,role:"tooltip",wrapper:"span",effect:"solid"},o.name)))),p.default.createElement("td",{style:T({},S.col2,(s||c)&&a===m.ViewType.Student&&S.fadedCol)},p.default.createElement(g.default,{levels:n,disabled:c&&a!==m.ViewType.Teacher,style:o.isFocusArea?S.focusAreaMargin:void 0}),o.isFocusArea&&p.default.createElement(_.default,null)))},t}(p.default.Component);s(t.default=l,"propTypes",{dark:n.default.bool.isRequired,lesson:i.lessonType.isRequired,levels:n.default.arrayOf(i.levelType).isRequired,lockedForSection:n.default.bool.isRequired,viewAs:n.default.oneOf(Object.keys(m.ViewType)),lessonIsVisible:n.default.func.isRequired})},1069:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.UnconnectedProgressLesson=void 0;var n=s(o(0)),m=s(o(1)),r=o(9),y=s(o(1070)),_=s(o(18)),i=s(o(6)),a=o(57),v=o(59),b=s(o(4)),E=o(128),T=s(o(1072)),S=s(o(626)),k=s(o(123)),C=s(o(15));function s(e){return e&&e.__esModule?e:{default:e}}function A(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{},n=Object.keys(Object(o));"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(o).filter(function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable}))),n.forEach(function(e){l(t,e,o[e])})}return t}function l(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var O={outer:{position:"relative",display:"table",width:"100%",height:"100%",background:i.default.lightest_gray,borderColor:i.default.border_gray,borderStyle:"solid",borderRadius:2,borderWidth:1,marginTop:3,marginBottom:15,marginLeft:3,marginRight:3},main:{padding:20},heading:{fontSize:18,fontFamily:'"Gotham 5r", sans-serif',cursor:"pointer"},hiddenOrLocked:{borderStyle:"dashed",borderWidth:4,marginTop:0,marginBottom:12,marginLeft:0,marginRight:0},translucent:{opacity:.6},caret:{marginRight:10},icon:{marginRight:5,fontSize:18,color:i.default.cyan},unlockedIcon:{color:i.default.orange}},c=function(o){function e(e){var t;return l(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t=o.call(this,e)||this),"toggleCollapsed",function(){return t.setState({collapsed:!t.state.collapsed})}),t.state={collapsed:e.viewAs!==v.ViewType.Teacher&&e.currentStageId!==e.lesson.id},t}!function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(e,o);var t=e.prototype;return t.componentWillReceiveProps=function(e){e.currentStageId!==this.props.currentStageId&&this.setState({collapsed:this.state.collapsed&&e.currentStageId!==this.props.lesson.id})},t.render=function(){var e=this.props,t=e.lesson,o=e.levels,n=e.showTeacherInfo,r=e.viewAs,i=e.showLockIcon,a=e.lessonIsVisible,s=e.lessonLockedForSection,l=e.selectedSectionId;if(!a(t,r))return null;var c=!a(t,v.ViewType.Student),u=t.stageNumber?b.default.lessonNumbered({lessonNumber:t.stageNumber,lessonName:t.name}):t.name,d=this.state.collapsed?"caret-right":"caret-down",p=t.lockable&&((0,E.stageLocked)(o)||s(t.id)),h=c||p,g=C.default.uniqueId(),f=r===v.ViewType.Teacher?t.description_teacher:t.description_student;return m.default.createElement("div",{style:A({},O.outer,h&&O.hiddenOrLocked)},m.default.createElement("div",{style:A({},O.main,h&&r!==v.ViewType.Teacher&&O.translucent)},m.default.createElement("div",{style:O.heading,onClick:this.toggleCollapsed},m.default.createElement(_.default,{icon:d,style:O.caret}),c&&m.default.createElement(_.default,{icon:"eye-slash",style:O.icon}),i&&t.lockable&&p&&m.default.createElement(_.default,{icon:"lock",style:O.icon}),i&&t.lockable&&!p&&m.default.createElement("span",{"data-tip":!0,"data-for":g},m.default.createElement(_.default,{icon:"unlock",style:A({},O.icon,O.unlockedIcon)}),r===v.ViewType.Teacher&&m.default.createElement(k.default,{id:g,role:"tooltip",wrapper:"span",effect:"solid"},b.default.lockAssessmentLong())),m.default.createElement("span",null,u)),!this.state.collapsed&&m.default.createElement(y.default,{description:f,levels:o,disabled:p&&r!==v.ViewType.Teacher,selectedSectionId:l})),n&&r===v.ViewType.Teacher&&m.default.createElement(T.default,{lesson:t}),t.isFocusArea&&m.default.createElement(S.default,null))},e}(m.default.Component);l(c,"propTypes",{lesson:a.lessonType.isRequired,levels:n.default.arrayOf(a.levelType).isRequired,currentStageId:n.default.number,showTeacherInfo:n.default.bool.isRequired,viewAs:n.default.oneOf(Object.values(v.ViewType)).isRequired,showLockIcon:n.default.bool.isRequired,lessonIsVisible:n.default.func.isRequired,lessonLockedForSection:n.default.func.isRequired,selectedSectionId:n.default.string});var u=c;t.UnconnectedProgressLesson=u;var d=(0,r.connect)(function(o){return{currentStageId:o.progress.currentStageId,showTeacherInfo:o.progress.showTeacherInfo,viewAs:o.viewAs,showLockIcon:!!o.teacherSections.selectedSectionId||o.viewAs===v.ViewType.Student,lessonLockedForSection:function(e){return(0,E.lessonIsLockedForAllStudents)(e,o)},lessonIsVisible:function(e,t){return(0,E.lessonIsVisible)(e,o,t)},selectedSectionId:o.teacherSections.selectedSectionId.toString()}})(c);t.default=d},107:function(e,t,o){"use strict";var n=o(431),r=o(159),s=o(432),i=o(160),c=r.CODE_POINTS,a=r.CODE_POINT_SEQUENCES,l={128:8364,130:8218,131:402,132:8222,133:8230,134:8224,135:8225,136:710,137:8240,138:352,139:8249,140:338,142:381,145:8216,146:8217,147:8220,148:8221,149:8226,150:8211,151:8212,152:732,153:8482,154:353,155:8250,156:339,158:382,159:376},u="DATA_STATE",d="RCDATA_STATE",p="RAWTEXT_STATE",h="SCRIPT_DATA_STATE",g="PLAINTEXT_STATE",f="TAG_OPEN_STATE",m="END_TAG_OPEN_STATE",y="TAG_NAME_STATE",_="RCDATA_LESS_THAN_SIGN_STATE",v="RCDATA_END_TAG_OPEN_STATE",b="RCDATA_END_TAG_NAME_STATE",E="RAWTEXT_LESS_THAN_SIGN_STATE",T="RAWTEXT_END_TAG_OPEN_STATE",S="RAWTEXT_END_TAG_NAME_STATE",k="SCRIPT_DATA_LESS_THAN_SIGN_STATE",C="SCRIPT_DATA_END_TAG_OPEN_STATE",A="SCRIPT_DATA_END_TAG_NAME_STATE",O="SCRIPT_DATA_ESCAPE_START_STATE",w="SCRIPT_DATA_ESCAPE_START_DASH_STATE",B="SCRIPT_DATA_ESCAPED_STATE",I="SCRIPT_DATA_ESCAPED_DASH_STATE",R="SCRIPT_DATA_ESCAPED_DASH_DASH_STATE",N="SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN_STATE",P="SCRIPT_DATA_ESCAPED_END_TAG_OPEN_STATE",L="SCRIPT_DATA_ESCAPED_END_TAG_NAME_STATE",x="SCRIPT_DATA_DOUBLE_ESCAPE_START_STATE",D="SCRIPT_DATA_DOUBLE_ESCAPED_STATE",M="SCRIPT_DATA_DOUBLE_ESCAPED_DASH_STATE",U="SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH_STATE",F="SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN_STATE",H="SCRIPT_DATA_DOUBLE_ESCAPE_END_STATE",j="BEFORE_ATTRIBUTE_NAME_STATE",G="ATTRIBUTE_NAME_STATE",V="AFTER_ATTRIBUTE_NAME_STATE",W="BEFORE_ATTRIBUTE_VALUE_STATE",z="ATTRIBUTE_VALUE_DOUBLE_QUOTED_STATE",q="ATTRIBUTE_VALUE_SINGLE_QUOTED_STATE",K="ATTRIBUTE_VALUE_UNQUOTED_STATE",Y="AFTER_ATTRIBUTE_VALUE_QUOTED_STATE",X="SELF_CLOSING_START_TAG_STATE",J="BOGUS_COMMENT_STATE",Q="MARKUP_DECLARATION_OPEN_STATE",$="COMMENT_START_STATE",Z="COMMENT_START_DASH_STATE",ee="COMMENT_STATE",te="COMMENT_LESS_THAN_SIGN_STATE",oe="COMMENT_LESS_THAN_SIGN_BANG_STATE",ne="COMMENT_LESS_THAN_SIGN_BANG_DASH_STATE",re="COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH_STATE",ie="COMMENT_END_DASH_STATE",ae="COMMENT_END_STATE",se="COMMENT_END_BANG_STATE",le="DOCTYPE_STATE",ce="BEFORE_DOCTYPE_NAME_STATE",ue="DOCTYPE_NAME_STATE",de="AFTER_DOCTYPE_NAME_STATE",pe="AFTER_DOCTYPE_PUBLIC_KEYWORD_STATE",he="BEFORE_DOCTYPE_PUBLIC_IDENTIFIER_STATE",ge="DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED_STATE",fe="DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED_STATE",me="AFTER_DOCTYPE_PUBLIC_IDENTIFIER_STATE",ye="BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS_STATE",_e="AFTER_DOCTYPE_SYSTEM_KEYWORD_STATE",ve="BEFORE_DOCTYPE_SYSTEM_IDENTIFIER_STATE",be="DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED_STATE",Ee="DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED_STATE",Te="AFTER_DOCTYPE_SYSTEM_IDENTIFIER_STATE",Se="BOGUS_DOCTYPE_STATE",ke="CDATA_SECTION_STATE",Ce="CDATA_SECTION_BRACKET_STATE",Ae="CDATA_SECTION_END_STATE",Oe="CHARACTER_REFERENCE_STATE",we="NAMED_CHARACTER_REFERENCE_STATE",Be="AMBIGUOS_AMPERSAND_STATE",Ie="NUMERIC_CHARACTER_REFERENCE_STATE",Re="HEXADEMICAL_CHARACTER_REFERENCE_START_STATE",Ne="DECIMAL_CHARACTER_REFERENCE_START_STATE",Pe="HEXADEMICAL_CHARACTER_REFERENCE_STATE",Le="DECIMAL_CHARACTER_REFERENCE_STATE",xe="NUMERIC_CHARACTER_REFERENCE_END_STATE";function De(e){return e===c.SPACE||e===c.LINE_FEED||e===c.TABULATION||e===c.FORM_FEED}function Me(e){return e>=c.DIGIT_0&&e<=c.DIGIT_9}function Ue(e){return e>=c.LATIN_CAPITAL_A&&e<=c.LATIN_CAPITAL_Z}function Fe(e){return e>=c.LATIN_SMALL_A&&e<=c.LATIN_SMALL_Z}function He(e){return Fe(e)||Ue(e)}function je(e){return He(e)||Me(e)}function Ge(e){return e>=c.LATIN_CAPITAL_A&&e<=c.LATIN_CAPITAL_F}function Ve(e){return e>=c.LATIN_SMALL_A&&e<=c.LATIN_SMALL_F}function We(e){return e+32}function ze(e){return e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode(e>>>10&1023|55296)+String.fromCharCode(56320|1023&e))}function qe(e){return String.fromCharCode(We(e))}function Ke(e,t){for(var o=s[++e],n=++e,r=n+o-1;n<=r;){var i=n+r>>>1,a=s[i];if(a<t)n=1+i;else{if(!(t<a))return s[i+o];r=i-1}}return-1}var Ye=function(){function o(){this.preprocessor=new n,this.tokenQueue=[],this.allowCDATA=!1,this.state=u,this.returnState="",this.charRefCode=-1,this.tempBuff=[],this.lastStartTagName="",this.consumedAfterSnapshot=-1,this.active=!1,this.currentCharacterToken=null,this.currentToken=null,this.currentAttr=null}var e=o.prototype;return e._err=function(){},e._errOnNextCodePoint=function(e){this._consume(),this._err(e),this._unconsume()},e.getNextToken=function(){for(;!this.tokenQueue.length&&this.active;){this.consumedAfterSnapshot=0;var e=this._consume();this._ensureHibernation()||this[this.state](e)}return this.tokenQueue.shift()},e.write=function(e,t){this.active=!0,this.preprocessor.write(e,t)},e.insertHtmlAtCurrentPos=function(e){this.active=!0,this.preprocessor.insertHtmlAtCurrentPos(e)},e._ensureHibernation=function(){if(this.preprocessor.endOfChunkHit){for(;0<this.consumedAfterSnapshot;this.consumedAfterSnapshot--)this.preprocessor.retreat();return this.active=!1,this.tokenQueue.push({type:o.HIBERNATION_TOKEN}),!0}return!1},e._consume=function(){return this.consumedAfterSnapshot++,this.preprocessor.advance()},e._unconsume=function(){this.consumedAfterSnapshot--,this.preprocessor.retreat()},e._reconsumeInState=function(e){this.state=e,this._unconsume()},e._consumeSequenceIfMatch=function(e,t,o){for(var n=0,r=!0,i=e.length,a=0,s=t,l=void 0;a<i;a++){if(0<a&&(s=this._consume(),n++),s===c.EOF){r=!1;break}if(s!==(l=e[a])&&(o||s!==We(l))){r=!1;break}}if(!r)for(;n--;)this._unconsume();return r},e._isTempBufferEqualToScriptString=function(){if(this.tempBuff.length!==a.SCRIPT_STRING.length)return!1;for(var e=0;e<this.tempBuff.length;e++)if(this.tempBuff[e]!==a.SCRIPT_STRING[e])return!1;return!0},e._createStartTagToken=function(){this.currentToken={type:o.START_TAG_TOKEN,tagName:"",selfClosing:!1,ackSelfClosing:!1,attrs:[]}},e._createEndTagToken=function(){this.currentToken={type:o.END_TAG_TOKEN,tagName:"",selfClosing:!1,attrs:[]}},e._createCommentToken=function(){this.currentToken={type:o.COMMENT_TOKEN,data:""}},e._createDoctypeToken=function(e){this.currentToken={type:o.DOCTYPE_TOKEN,name:e,forceQuirks:!1,publicId:null,systemId:null}},e._createCharacterToken=function(e,t){this.currentCharacterToken={type:e,chars:t}},e._createEOFToken=function(){this.currentToken={type:o.EOF_TOKEN}},e._createAttr=function(e){this.currentAttr={name:e,value:""}},e._leaveAttrName=function(e){null===o.getTokenAttr(this.currentToken,this.currentAttr.name)?this.currentToken.attrs.push(this.currentAttr):this._err(i.duplicateAttribute),this.state=e},e._leaveAttrValue=function(e){this.state=e},e._emitCurrentToken=function(){this._emitCurrentCharacterToken();var e=this.currentToken;this.currentToken=null,e.type===o.START_TAG_TOKEN?this.lastStartTagName=e.tagName:e.type===o.END_TAG_TOKEN&&(0<e.attrs.length&&this._err(i.endTagWithAttributes),e.selfClosing&&this._err(i.endTagWithTrailingSolidus)),this.tokenQueue.push(e)},e._emitCurrentCharacterToken=function(){this.currentCharacterToken&&(this.tokenQueue.push(this.currentCharacterToken),this.currentCharacterToken=null)},e._emitEOFToken=function(){this._createEOFToken(),this._emitCurrentToken()},e._appendCharToCurrentCharacterToken=function(e,t){this.currentCharacterToken&&this.currentCharacterToken.type!==e&&this._emitCurrentCharacterToken(),this.currentCharacterToken?this.currentCharacterToken.chars+=t:this._createCharacterToken(e,t)},e._emitCodePoint=function(e){var t=o.CHARACTER_TOKEN;De(e)?t=o.WHITESPACE_CHARACTER_TOKEN:e===c.NULL&&(t=o.NULL_CHARACTER_TOKEN),this._appendCharToCurrentCharacterToken(t,ze(e))},e._emitSeveralCodePoints=function(e){for(var t=0;t<e.length;t++)this._emitCodePoint(e[t])},e._emitChars=function(e){this._appendCharToCurrentCharacterToken(o.CHARACTER_TOKEN,e)},e._matchNamedCharacterReference=function(e){var t=null,o=1,n=Ke(0,e);for(this.tempBuff.push(e);-1<n;){var r=s[n],i=r<7;i&&1&r&&(t=2&r?[s[++n],s[++n]]:[s[++n]],o=0);var a=this._consume();if(this.tempBuff.push(a),o++,a===c.EOF)break;n=i?4&r?Ke(n,a):-1:a===r?++n:-1}for(;o--;)this.tempBuff.pop(),this._unconsume();return t},e._isCharacterReferenceInAttribute=function(){return this.returnState===z||this.returnState===q||this.returnState===K},e._isCharacterReferenceAttributeQuirk=function(e){if(e||!this._isCharacterReferenceInAttribute())return!1;var t=this._consume();return this._unconsume(),t===c.EQUALS_SIGN||je(t)},e._flushCodePointsConsumedAsCharacterReference=function(){if(this._isCharacterReferenceInAttribute())for(var e=0;e<this.tempBuff.length;e++)this.currentAttr.value+=ze(this.tempBuff[e]);else this._emitSeveralCodePoints(this.tempBuff);this.tempBuff=[]},e[u]=function(e){this.preprocessor.dropParsedChunk(),e===c.LESS_THAN_SIGN?this.state=f:e===c.AMPERSAND?(this.returnState=u,this.state=Oe):e===c.NULL?(this._err(i.unexpectedNullCharacter),this._emitCodePoint(e)):e===c.EOF?this._emitEOFToken():this._emitCodePoint(e)},e[d]=function(e){this.preprocessor.dropParsedChunk(),e===c.AMPERSAND?(this.returnState=d,this.state=Oe):e===c.LESS_THAN_SIGN?this.state=_:e===c.NULL?(this._err(i.unexpectedNullCharacter),this._emitChars(r.REPLACEMENT_CHARACTER)):e===c.EOF?this._emitEOFToken():this._emitCodePoint(e)},e[p]=function(e){this.preprocessor.dropParsedChunk(),e===c.LESS_THAN_SIGN?this.state=E:e===c.NULL?(this._err(i.unexpectedNullCharacter),this._emitChars(r.REPLACEMENT_CHARACTER)):e===c.EOF?this._emitEOFToken():this._emitCodePoint(e)},e[h]=function(e){this.preprocessor.dropParsedChunk(),e===c.LESS_THAN_SIGN?this.state=k:e===c.NULL?(this._err(i.unexpectedNullCharacter),this._emitChars(r.REPLACEMENT_CHARACTER)):e===c.EOF?this._emitEOFToken():this._emitCodePoint(e)},e[g]=function(e){this.preprocessor.dropParsedChunk(),e===c.NULL?(this._err(i.unexpectedNullCharacter),this._emitChars(r.REPLACEMENT_CHARACTER)):e===c.EOF?this._emitEOFToken():this._emitCodePoint(e)},e[f]=function(e){e===c.EXCLAMATION_MARK?this.state=Q:e===c.SOLIDUS?this.state=m:He(e)?(this._createStartTagToken(),this._reconsumeInState(y)):e===c.QUESTION_MARK?(this._err(i.unexpectedQuestionMarkInsteadOfTagName),this._createCommentToken(),this._reconsumeInState(J)):e===c.EOF?(this._err(i.eofBeforeTagName),this._emitChars("<"),this._emitEOFToken()):(this._err(i.invalidFirstCharacterOfTagName),this._emitChars("<"),this._reconsumeInState(u))},e[m]=function(e){He(e)?(this._createEndTagToken(),this._reconsumeInState(y)):e===c.GREATER_THAN_SIGN?(this._err(i.missingEndTagName),this.state=u):e===c.EOF?(this._err(i.eofBeforeTagName),this._emitChars("</"),this._emitEOFToken()):(this._err(i.invalidFirstCharacterOfTagName),this._createCommentToken(),this._reconsumeInState(J))},e[y]=function(e){De(e)?this.state=j:e===c.SOLIDUS?this.state=X:e===c.GREATER_THAN_SIGN?(this.state=u,this._emitCurrentToken()):Ue(e)?this.currentToken.tagName+=qe(e):e===c.NULL?(this._err(i.unexpectedNullCharacter),this.currentToken.tagName+=r.REPLACEMENT_CHARACTER):e===c.EOF?(this._err(i.eofInTag),this._emitEOFToken()):this.currentToken.tagName+=ze(e)},e[_]=function(e){e===c.SOLIDUS?(this.tempBuff=[],this.state=v):(this._emitChars("<"),this._reconsumeInState(d))},e[v]=function(e){He(e)?(this._createEndTagToken(),this._reconsumeInState(b)):(this._emitChars("</"),this._reconsumeInState(d))},e[b]=function(e){if(Ue(e))this.currentToken.tagName+=qe(e),this.tempBuff.push(e);else if(Fe(e))this.currentToken.tagName+=ze(e),this.tempBuff.push(e);else{if(this.lastStartTagName===this.currentToken.tagName){if(De(e))return void(this.state=j);if(e===c.SOLIDUS)return void(this.state=X);if(e===c.GREATER_THAN_SIGN)return this.state=u,void this._emitCurrentToken()}this._emitChars("</"),this._emitSeveralCodePoints(this.tempBuff),this._reconsumeInState(d)}},e[E]=function(e){e===c.SOLIDUS?(this.tempBuff=[],this.state=T):(this._emitChars("<"),this._reconsumeInState(p))},e[T]=function(e){He(e)?(this._createEndTagToken(),this._reconsumeInState(S)):(this._emitChars("</"),this._reconsumeInState(p))},e[S]=function(e){if(Ue(e))this.currentToken.tagName+=qe(e),this.tempBuff.push(e);else if(Fe(e))this.currentToken.tagName+=ze(e),this.tempBuff.push(e);else{if(this.lastStartTagName===this.currentToken.tagName){if(De(e))return void(this.state=j);if(e===c.SOLIDUS)return void(this.state=X);if(e===c.GREATER_THAN_SIGN)return this._emitCurrentToken(),void(this.state=u)}this._emitChars("</"),this._emitSeveralCodePoints(this.tempBuff),this._reconsumeInState(p)}},e[k]=function(e){e===c.SOLIDUS?(this.tempBuff=[],this.state=C):e===c.EXCLAMATION_MARK?(this.state=O,this._emitChars("<!")):(this._emitChars("<"),this._reconsumeInState(h))},e[C]=function(e){He(e)?(this._createEndTagToken(),this._reconsumeInState(A)):(this._emitChars("</"),this._reconsumeInState(h))},e[A]=function(e){if(Ue(e))this.currentToken.tagName+=qe(e),this.tempBuff.push(e);else if(Fe(e))this.currentToken.tagName+=ze(e),this.tempBuff.push(e);else{if(this.lastStartTagName===this.currentToken.tagName){if(De(e))return void(this.state=j);if(e===c.SOLIDUS)return void(this.state=X);if(e===c.GREATER_THAN_SIGN)return this._emitCurrentToken(),void(this.state=u)}this._emitChars("</"),this._emitSeveralCodePoints(this.tempBuff),this._reconsumeInState(h)}},e[O]=function(e){e===c.HYPHEN_MINUS?(this.state=w,this._emitChars("-")):this._reconsumeInState(h)},e[w]=function(e){e===c.HYPHEN_MINUS?(this.state=R,this._emitChars("-")):this._reconsumeInState(h)},e[B]=function(e){e===c.HYPHEN_MINUS?(this.state=I,this._emitChars("-")):e===c.LESS_THAN_SIGN?this.state=N:e===c.NULL?(this._err(i.unexpectedNullCharacter),this._emitChars(r.REPLACEMENT_CHARACTER)):e===c.EOF?(this._err(i.eofInScriptHtmlCommentLikeText),this._emitEOFToken()):this._emitCodePoint(e)},e[I]=function(e){e===c.HYPHEN_MINUS?(this.state=R,this._emitChars("-")):e===c.LESS_THAN_SIGN?this.state=N:e===c.NULL?(this._err(i.unexpectedNullCharacter),this.state=B,this._emitChars(r.REPLACEMENT_CHARACTER)):e===c.EOF?(this._err(i.eofInScriptHtmlCommentLikeText),this._emitEOFToken()):(this.state=B,this._emitCodePoint(e))},e[R]=function(e){e===c.HYPHEN_MINUS?this._emitChars("-"):e===c.LESS_THAN_SIGN?this.state=N:e===c.GREATER_THAN_SIGN?(this.state=h,this._emitChars(">")):e===c.NULL?(this._err(i.unexpectedNullCharacter),this.state=B,this._emitChars(r.REPLACEMENT_CHARACTER)):e===c.EOF?(this._err(i.eofInScriptHtmlCommentLikeText),this._emitEOFToken()):(this.state=B,this._emitCodePoint(e))},e[N]=function(e){e===c.SOLIDUS?(this.tempBuff=[],this.state=P):He(e)?(this.tempBuff=[],this._emitChars("<"),this._reconsumeInState(x)):(this._emitChars("<"),this._reconsumeInState(B))},e[P]=function(e){He(e)?(this._createEndTagToken(),this._reconsumeInState(L)):(this._emitChars("</"),this._reconsumeInState(B))},e[L]=function(e){if(Ue(e))this.currentToken.tagName+=qe(e),this.tempBuff.push(e);else if(Fe(e))this.currentToken.tagName+=ze(e),this.tempBuff.push(e);else{if(this.lastStartTagName===this.currentToken.tagName){if(De(e))return void(this.state=j);if(e===c.SOLIDUS)return void(this.state=X);if(e===c.GREATER_THAN_SIGN)return this._emitCurrentToken(),void(this.state=u)}this._emitChars("</"),this._emitSeveralCodePoints(this.tempBuff),this._reconsumeInState(B)}},e[x]=function(e){De(e)||e===c.SOLIDUS||e===c.GREATER_THAN_SIGN?(this.state=this._isTempBufferEqualToScriptString()?D:B,this._emitCodePoint(e)):Ue(e)?(this.tempBuff.push(We(e)),this._emitCodePoint(e)):Fe(e)?(this.tempBuff.push(e),this._emitCodePoint(e)):this._reconsumeInState(B)},e[D]=function(e){e===c.HYPHEN_MINUS?(this.state=M,this._emitChars("-")):e===c.LESS_THAN_SIGN?(this.state=F,this._emitChars("<")):e===c.NULL?(this._err(i.unexpectedNullCharacter),this._emitChars(r.REPLACEMENT_CHARACTER)):e===c.EOF?(this._err(i.eofInScriptHtmlCommentLikeText),this._emitEOFToken()):this._emitCodePoint(e)},e[M]=function(e){e===c.HYPHEN_MINUS?(this.state=U,this._emitChars("-")):e===c.LESS_THAN_SIGN?(this.state=F,this._emitChars("<")):e===c.NULL?(this._err(i.unexpectedNullCharacter),this.state=D,this._emitChars(r.REPLACEMENT_CHARACTER)):e===c.EOF?(this._err(i.eofInScriptHtmlCommentLikeText),this._emitEOFToken()):(this.state=D,this._emitCodePoint(e))},e[U]=function(e){e===c.HYPHEN_MINUS?this._emitChars("-"):e===c.LESS_THAN_SIGN?(this.state=F,this._emitChars("<")):e===c.GREATER_THAN_SIGN?(this.state=h,this._emitChars(">")):e===c.NULL?(this._err(i.unexpectedNullCharacter),this.state=D,this._emitChars(r.REPLACEMENT_CHARACTER)):e===c.EOF?(this._err(i.eofInScriptHtmlCommentLikeText),this._emitEOFToken()):(this.state=D,this._emitCodePoint(e))},e[F]=function(e){e===c.SOLIDUS?(this.tempBuff=[],this.state=H,this._emitChars("/")):this._reconsumeInState(D)},e[H]=function(e){De(e)||e===c.SOLIDUS||e===c.GREATER_THAN_SIGN?(this.state=this._isTempBufferEqualToScriptString()?B:D,this._emitCodePoint(e)):Ue(e)?(this.tempBuff.push(We(e)),this._emitCodePoint(e)):Fe(e)?(this.tempBuff.push(e),this._emitCodePoint(e)):this._reconsumeInState(D)},e[j]=function(e){De(e)||(e===c.SOLIDUS||e===c.GREATER_THAN_SIGN||e===c.EOF?this._reconsumeInState(V):e===c.EQUALS_SIGN?(this._err(i.unexpectedEqualsSignBeforeAttributeName),this._createAttr("="),this.state=G):(this._createAttr(""),this._reconsumeInState(G)))},e[G]=function(e){De(e)||e===c.SOLIDUS||e===c.GREATER_THAN_SIGN||e===c.EOF?(this._leaveAttrName(V),this._unconsume()):e===c.EQUALS_SIGN?this._leaveAttrName(W):Ue(e)?this.currentAttr.name+=qe(e):e===c.QUOTATION_MARK||e===c.APOSTROPHE||e===c.LESS_THAN_SIGN?(this._err(i.unexpectedCharacterInAttributeName),this.currentAttr.name+=ze(e)):e===c.NULL?(this._err(i.unexpectedNullCharacter),this.currentAttr.name+=r.REPLACEMENT_CHARACTER):this.currentAttr.name+=ze(e)},e[V]=function(e){De(e)||(e===c.SOLIDUS?this.state=X:e===c.EQUALS_SIGN?this.state=W:e===c.GREATER_THAN_SIGN?(this.state=u,this._emitCurrentToken()):e===c.EOF?(this._err(i.eofInTag),this._emitEOFToken()):(this._createAttr(""),this._reconsumeInState(G)))},e[W]=function(e){De(e)||(e===c.QUOTATION_MARK?this.state=z:e===c.APOSTROPHE?this.state=q:e===c.GREATER_THAN_SIGN?(this._err(i.missingAttributeValue),this.state=u,this._emitCurrentToken()):this._reconsumeInState(K))},e[z]=function(e){e===c.QUOTATION_MARK?this.state=Y:e===c.AMPERSAND?(this.returnState=z,this.state=Oe):e===c.NULL?(this._err(i.unexpectedNullCharacter),this.currentAttr.value+=r.REPLACEMENT_CHARACTER):e===c.EOF?(this._err(i.eofInTag),this._emitEOFToken()):this.currentAttr.value+=ze(e)},e[q]=function(e){e===c.APOSTROPHE?this.state=Y:e===c.AMPERSAND?(this.returnState=q,this.state=Oe):e===c.NULL?(this._err(i.unexpectedNullCharacter),this.currentAttr.value+=r.REPLACEMENT_CHARACTER):e===c.EOF?(this._err(i.eofInTag),this._emitEOFToken()):this.currentAttr.value+=ze(e)},e[K]=function(e){De(e)?this._leaveAttrValue(j):e===c.AMPERSAND?(this.returnState=K,this.state=Oe):e===c.GREATER_THAN_SIGN?(this._leaveAttrValue(u),this._emitCurrentToken()):e===c.NULL?(this._err(i.unexpectedNullCharacter),this.currentAttr.value+=r.REPLACEMENT_CHARACTER):e===c.QUOTATION_MARK||e===c.APOSTROPHE||e===c.LESS_THAN_SIGN||e===c.EQUALS_SIGN||e===c.GRAVE_ACCENT?(this._err(i.unexpectedCharacterInUnquotedAttributeValue),this.currentAttr.value+=ze(e)):e===c.EOF?(this._err(i.eofInTag),this._emitEOFToken()):this.currentAttr.value+=ze(e)},e[Y]=function(e){De(e)?this._leaveAttrValue(j):e===c.SOLIDUS?this._leaveAttrValue(X):e===c.GREATER_THAN_SIGN?(this._leaveAttrValue(u),this._emitCurrentToken()):e===c.EOF?(this._err(i.eofInTag),this._emitEOFToken()):(this._err(i.missingWhitespaceBetweenAttributes),this._reconsumeInState(j))},e[X]=function(e){e===c.GREATER_THAN_SIGN?(this.currentToken.selfClosing=!0,this.state=u,this._emitCurrentToken()):e===c.EOF?(this._err(i.eofInTag),this._emitEOFToken()):(this._err(i.unexpectedSolidusInTag),this._reconsumeInState(j))},e[J]=function(e){e===c.GREATER_THAN_SIGN?(this.state=u,this._emitCurrentToken()):e===c.EOF?(this._emitCurrentToken(),this._emitEOFToken()):e===c.NULL?(this._err(i.unexpectedNullCharacter),this.currentToken.data+=r.REPLACEMENT_CHARACTER):this.currentToken.data+=ze(e)},e[Q]=function(e){this._consumeSequenceIfMatch(a.DASH_DASH_STRING,e,!0)?(this._createCommentToken(),this.state=$):this._consumeSequenceIfMatch(a.DOCTYPE_STRING,e,!1)?this.state=le:this._consumeSequenceIfMatch(a.CDATA_START_STRING,e,!0)?this.allowCDATA?this.state=ke:(this._err(i.cdataInHtmlContent),this._createCommentToken(),this.currentToken.data="[CDATA[",this.state=J):this._ensureHibernation()||(this._err(i.incorrectlyOpenedComment),this._createCommentToken(),this._reconsumeInState(J))},e[$]=function(e){e===c.HYPHEN_MINUS?this.state=Z:e===c.GREATER_THAN_SIGN?(this._err(i.abruptClosingOfEmptyComment),this.state=u,this._emitCurrentToken()):this._reconsumeInState(ee)},e[Z]=function(e){e===c.HYPHEN_MINUS?this.state=ae:e===c.GREATER_THAN_SIGN?(this._err(i.abruptClosingOfEmptyComment),this.state=u,this._emitCurrentToken()):e===c.EOF?(this._err(i.eofInComment),this._emitCurrentToken(),this._emitEOFToken()):(this.currentToken.data+="-",this._reconsumeInState(ee))},e[ee]=function(e){e===c.HYPHEN_MINUS?this.state=ie:e===c.LESS_THAN_SIGN?(this.currentToken.data+="<",this.state=te):e===c.NULL?(this._err(i.unexpectedNullCharacter),this.currentToken.data+=r.REPLACEMENT_CHARACTER):e===c.EOF?(this._err(i.eofInComment),this._emitCurrentToken(),this._emitEOFToken()):this.currentToken.data+=ze(e)},e[te]=function(e){e===c.EXCLAMATION_MARK?(this.currentToken.data+="!",this.state=oe):e===c.LESS_THAN_SIGN?this.currentToken.data+="!":this._reconsumeInState(ee)},e[oe]=function(e){e===c.HYPHEN_MINUS?this.state=ne:this._reconsumeInState(ee)},e[ne]=function(e){e===c.HYPHEN_MINUS?this.state=re:this._reconsumeInState(ie)},e[re]=function(e){e!==c.GREATER_THAN_SIGN&&e!==c.EOF&&this._err(i.nestedComment),this._reconsumeInState(ae)},e[ie]=function(e){e===c.HYPHEN_MINUS?this.state=ae:e===c.EOF?(this._err(i.eofInComment),this._emitCurrentToken(),this._emitEOFToken()):(this.currentToken.data+="-",this._reconsumeInState(ee))},e[ae]=function(e){e===c.GREATER_THAN_SIGN?(this.state=u,this._emitCurrentToken()):e===c.EXCLAMATION_MARK?this.state=se:e===c.HYPHEN_MINUS?this.currentToken.data+="-":e===c.EOF?(this._err(i.eofInComment),this._emitCurrentToken(),this._emitEOFToken()):(this.currentToken.data+="--",this._reconsumeInState(ee))},e[se]=function(e){e===c.HYPHEN_MINUS?(this.currentToken.data+="--!",this.state=ie):e===c.GREATER_THAN_SIGN?(this._err(i.incorrectlyClosedComment),this.state=u,this._emitCurrentToken()):e===c.EOF?(this._err(i.eofInComment),this._emitCurrentToken(),this._emitEOFToken()):(this.currentToken.data+="--!",this._reconsumeInState(ee))},e[le]=function(e){De(e)?this.state=ce:e===c.GREATER_THAN_SIGN?this._reconsumeInState(ce):e===c.EOF?(this._err(i.eofInDoctype),this._createDoctypeToken(null),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):(this._err(i.missingWhitespaceBeforeDoctypeName),this._reconsumeInState(ce))},e[ce]=function(e){De(e)||(Ue(e)?(this._createDoctypeToken(qe(e)),this.state=ue):e===c.NULL?(this._err(i.unexpectedNullCharacter),this._createDoctypeToken(r.REPLACEMENT_CHARACTER),this.state=ue):e===c.GREATER_THAN_SIGN?(this._err(i.missingDoctypeName),this._createDoctypeToken(null),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this.state=u):e===c.EOF?(this._err(i.eofInDoctype),this._createDoctypeToken(null),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):(this._createDoctypeToken(ze(e)),this.state=ue))},e[ue]=function(e){De(e)?this.state=de:e===c.GREATER_THAN_SIGN?(this.state=u,this._emitCurrentToken()):Ue(e)?this.currentToken.name+=qe(e):e===c.NULL?(this._err(i.unexpectedNullCharacter),this.currentToken.name+=r.REPLACEMENT_CHARACTER):e===c.EOF?(this._err(i.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):this.currentToken.name+=ze(e)},e[de]=function(e){De(e)||(e===c.GREATER_THAN_SIGN?(this.state=u,this._emitCurrentToken()):e===c.EOF?(this._err(i.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):this._consumeSequenceIfMatch(a.PUBLIC_STRING,e,!1)?this.state=pe:this._consumeSequenceIfMatch(a.SYSTEM_STRING,e,!1)?this.state=_e:this._ensureHibernation()||(this._err(i.invalidCharacterSequenceAfterDoctypeName),this.currentToken.forceQuirks=!0,this._reconsumeInState(Se)))},e[pe]=function(e){De(e)?this.state=he:e===c.QUOTATION_MARK?(this._err(i.missingWhitespaceAfterDoctypePublicKeyword),this.currentToken.publicId="",this.state=ge):e===c.APOSTROPHE?(this._err(i.missingWhitespaceAfterDoctypePublicKeyword),this.currentToken.publicId="",this.state=fe):e===c.GREATER_THAN_SIGN?(this._err(i.missingDoctypePublicIdentifier),this.currentToken.forceQuirks=!0,this.state=u,this._emitCurrentToken()):e===c.EOF?(this._err(i.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):(this._err(i.missingQuoteBeforeDoctypePublicIdentifier),this.currentToken.forceQuirks=!0,this._reconsumeInState(Se))},e[he]=function(e){De(e)||(e===c.QUOTATION_MARK?(this.currentToken.publicId="",this.state=ge):e===c.APOSTROPHE?(this.currentToken.publicId="",this.state=fe):e===c.GREATER_THAN_SIGN?(this._err(i.missingDoctypePublicIdentifier),this.currentToken.forceQuirks=!0,this.state=u,this._emitCurrentToken()):e===c.EOF?(this._err(i.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):(this._err(i.missingQuoteBeforeDoctypePublicIdentifier),this.currentToken.forceQuirks=!0,this._reconsumeInState(Se)))},e[ge]=function(e){e===c.QUOTATION_MARK?this.state=me:e===c.NULL?(this._err(i.unexpectedNullCharacter),this.currentToken.publicId+=r.REPLACEMENT_CHARACTER):e===c.GREATER_THAN_SIGN?(this._err(i.abruptDoctypePublicIdentifier),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this.state=u):e===c.EOF?(this._err(i.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):this.currentToken.publicId+=ze(e)},e[fe]=function(e){e===c.APOSTROPHE?this.state=me:e===c.NULL?(this._err(i.unexpectedNullCharacter),this.currentToken.publicId+=r.REPLACEMENT_CHARACTER):e===c.GREATER_THAN_SIGN?(this._err(i.abruptDoctypePublicIdentifier),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this.state=u):e===c.EOF?(this._err(i.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):this.currentToken.publicId+=ze(e)},e[me]=function(e){De(e)?this.state=ye:e===c.GREATER_THAN_SIGN?(this.state=u,this._emitCurrentToken()):e===c.QUOTATION_MARK?(this._err(i.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),this.currentToken.systemId="",this.state=be):e===c.APOSTROPHE?(this._err(i.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),this.currentToken.systemId="",this.state=Ee):e===c.EOF?(this._err(i.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):(this._err(i.missingQuoteBeforeDoctypeSystemIdentifier),this.currentToken.forceQuirks=!0,this._reconsumeInState(Se))},e[ye]=function(e){De(e)||(e===c.GREATER_THAN_SIGN?(this._emitCurrentToken(),this.state=u):e===c.QUOTATION_MARK?(this.currentToken.systemId="",this.state=be):e===c.APOSTROPHE?(this.currentToken.systemId="",this.state=Ee):e===c.EOF?(this._err(i.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):(this._err(i.missingQuoteBeforeDoctypeSystemIdentifier),this.currentToken.forceQuirks=!0,this._reconsumeInState(Se)))},e[_e]=function(e){De(e)?this.state=ve:e===c.QUOTATION_MARK?(this._err(i.missingWhitespaceAfterDoctypeSystemKeyword),this.currentToken.systemId="",this.state=be):e===c.APOSTROPHE?(this._err(i.missingWhitespaceAfterDoctypeSystemKeyword),this.currentToken.systemId="",this.state=Ee):e===c.GREATER_THAN_SIGN?(this._err(i.missingDoctypeSystemIdentifier),this.currentToken.forceQuirks=!0,this.state=u,this._emitCurrentToken()):e===c.EOF?(this._err(i.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):(this._err(i.missingQuoteBeforeDoctypeSystemIdentifier),this.currentToken.forceQuirks=!0,this._reconsumeInState(Se))},e[ve]=function(e){De(e)||(e===c.QUOTATION_MARK?(this.currentToken.systemId="",this.state=be):e===c.APOSTROPHE?(this.currentToken.systemId="",this.state=Ee):e===c.GREATER_THAN_SIGN?(this._err(i.missingDoctypeSystemIdentifier),this.currentToken.forceQuirks=!0,this.state=u,this._emitCurrentToken()):e===c.EOF?(this._err(i.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):(this._err(i.missingQuoteBeforeDoctypeSystemIdentifier),this.currentToken.forceQuirks=!0,this._reconsumeInState(Se)))},e[be]=function(e){e===c.QUOTATION_MARK?this.state=Te:e===c.NULL?(this._err(i.unexpectedNullCharacter),this.currentToken.systemId+=r.REPLACEMENT_CHARACTER):e===c.GREATER_THAN_SIGN?(this._err(i.abruptDoctypeSystemIdentifier),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this.state=u):e===c.EOF?(this._err(i.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):this.currentToken.systemId+=ze(e)},e[Ee]=function(e){e===c.APOSTROPHE?this.state=Te:e===c.NULL?(this._err(i.unexpectedNullCharacter),this.currentToken.systemId+=r.REPLACEMENT_CHARACTER):e===c.GREATER_THAN_SIGN?(this._err(i.abruptDoctypeSystemIdentifier),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this.state=u):e===c.EOF?(this._err(i.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):this.currentToken.systemId+=ze(e)},e[Te]=function(e){De(e)||(e===c.GREATER_THAN_SIGN?(this._emitCurrentToken(),this.state=u):e===c.EOF?(this._err(i.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):(this._err(i.unexpectedCharacterAfterDoctypeSystemIdentifier),this._reconsumeInState(Se)))},e[Se]=function(e){e===c.GREATER_THAN_SIGN?(this._emitCurrentToken(),this.state=u):e===c.NULL?this._err(i.unexpectedNullCharacter):e===c.EOF&&(this._emitCurrentToken(),this._emitEOFToken())},e[ke]=function(e){e===c.RIGHT_SQUARE_BRACKET?this.state=Ce:e===c.EOF?(this._err(i.eofInCdata),this._emitEOFToken()):this._emitCodePoint(e)},e[Ce]=function(e){e===c.RIGHT_SQUARE_BRACKET?this.state=Ae:(this._emitChars("]"),this._reconsumeInState(ke))},e[Ae]=function(e){e===c.GREATER_THAN_SIGN?this.state=u:e===c.RIGHT_SQUARE_BRACKET?this._emitChars("]"):(this._emitChars("]]"),this._reconsumeInState(ke))},e[Oe]=function(e){this.tempBuff=[c.AMPERSAND],e===c.NUMBER_SIGN?(this.tempBuff.push(e),this.state=Ie):je(e)?this._reconsumeInState(we):(this._flushCodePointsConsumedAsCharacterReference(),this._reconsumeInState(this.returnState))},e[we]=function(e){var t=this._matchNamedCharacterReference(e);if(this._ensureHibernation())this.tempBuff=[c.AMPERSAND];else if(t){var o=this.tempBuff[this.tempBuff.length-1]===c.SEMICOLON;this._isCharacterReferenceAttributeQuirk(o)||(o||this._errOnNextCodePoint(i.missingSemicolonAfterCharacterReference),this.tempBuff=t),this._flushCodePointsConsumedAsCharacterReference(),this.state=this.returnState}else this._flushCodePointsConsumedAsCharacterReference(),this.state=Be},e[Be]=function(e){je(e)?this._isCharacterReferenceInAttribute()?this.currentAttr.value+=ze(e):this._emitCodePoint(e):(e===c.SEMICOLON&&this._err(i.unknownNamedCharacterReference),this._reconsumeInState(this.returnState))},e[Ie]=function(e){this.charRefCode=0,e===c.LATIN_SMALL_X||e===c.LATIN_CAPITAL_X?(this.tempBuff.push(e),this.state=Re):this._reconsumeInState(Ne)},e[Re]=function(e){!function(e){return Me(e)||Ge(e)||Ve(e)}(e)?(this._err(i.absenceOfDigitsInNumericCharacterReference),this._flushCodePointsConsumedAsCharacterReference(),this._reconsumeInState(this.returnState)):this._reconsumeInState(Pe)},e[Ne]=function(e){Me(e)?this._reconsumeInState(Le):(this._err(i.absenceOfDigitsInNumericCharacterReference),this._flushCodePointsConsumedAsCharacterReference(),this._reconsumeInState(this.returnState))},e[Pe]=function(e){Ge(e)?this.charRefCode=16*this.charRefCode+e-55:Ve(e)?this.charRefCode=16*this.charRefCode+e-87:Me(e)?this.charRefCode=16*this.charRefCode+e-48:e===c.SEMICOLON?this.state=xe:(this._err(i.missingSemicolonAfterCharacterReference),this._reconsumeInState(xe))},e[Le]=function(e){Me(e)?this.charRefCode=10*this.charRefCode+e-48:e===c.SEMICOLON?this.state=xe:(this._err(i.missingSemicolonAfterCharacterReference),this._reconsumeInState(xe))},e[xe]=function(){if(this.charRefCode===c.NULL)this._err(i.nullCharacterReference),this.charRefCode=c.REPLACEMENT_CHARACTER;else if(1114111<this.charRefCode)this._err(i.characterReferenceOutsideUnicodeRange),this.charRefCode=c.REPLACEMENT_CHARACTER;else if(r.isSurrogate(this.charRefCode))this._err(i.surrogateCharacterReference),this.charRefCode=c.REPLACEMENT_CHARACTER;else if(r.isUndefinedCodePoint(this.charRefCode))this._err(i.noncharacterCharacterReference);else if(r.isControlCodePoint(this.charRefCode)||this.charRefCode===c.CARRIAGE_RETURN){this._err(i.controlCharacterReference);var e=l[this.charRefCode];e&&(this.charRefCode=e)}this.tempBuff=[this.charRefCode],this._flushCodePointsConsumedAsCharacterReference(),this._reconsumeInState(this.returnState)},o}();Ye.CHARACTER_TOKEN="CHARACTER_TOKEN",Ye.NULL_CHARACTER_TOKEN="NULL_CHARACTER_TOKEN",Ye.WHITESPACE_CHARACTER_TOKEN="WHITESPACE_CHARACTER_TOKEN",Ye.START_TAG_TOKEN="START_TAG_TOKEN",Ye.END_TAG_TOKEN="END_TAG_TOKEN",Ye.COMMENT_TOKEN="COMMENT_TOKEN",Ye.DOCTYPE_TOKEN="DOCTYPE_TOKEN",Ye.EOF_TOKEN="EOF_TOKEN",Ye.HIBERNATION_TOKEN="HIBERNATION_TOKEN",Ye.MODE={DATA:u,RCDATA:d,RAWTEXT:p,SCRIPT_DATA:h,PLAINTEXT:g},Ye.getTokenAttr=function(e,t){for(var o=e.attrs.length-1;0<=o;o--)if(e.attrs[o].name===t)return e.attrs[o].value;return null},e.exports=Ye},1070:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=i(o(0)),s=i(o(1)),l=i(o(1071)),c=i(o(369)),r=o(57),u=o(95),d=i(o(93));function i(e){return e&&e.__esModule?e:{default:e}}var a,p,h,g={summary:{marginTop:20,marginBottom:30,fontSize:14,fontFamily:'"Gotham 4r", sans-serif'}},f=function(e){function t(){return e.apply(this,arguments)||this}return function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(t,e),t.prototype.render=function(){var e,t=this.props,o=t.description,n=t.levels,r=t.disabled,i=t.selectedSectionId,a=(0,u.progressionsFromLevels)(n);return e=1!==a.length||a[0].name?a.map(function(e,t){return s.default.createElement(l.default,{key:t,name:e.name,levels:e.levels,disabled:r,selectedSectionId:i})}):s.default.createElement(c.default,{levels:a[0].levels,disabled:r,selectedSectionId:i}),s.default.createElement("div",null,s.default.createElement("div",{style:g.summary},s.default.createElement(d.default,{markdown:o||""})),e)},t}(s.default.Component);t.default=f,a=f,p="propTypes",h={description:n.default.string,levels:n.default.arrayOf(r.levelType).isRequired,disabled:n.default.bool.isRequired,selectedSectionId:n.default.string},p in a?Object.defineProperty(a,p,{value:h,enumerable:!0,configurable:!0,writable:!0}):a[p]=h,e.exports=t.default},1071:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=s(o(1)),n=s(o(0)),r=s(o(14)),c=s(o(369)),i=s(o(6)),a=o(57),u=o(128),d=s(o(606));function s(e){return e&&e.__esModule?e:{default:e}}function p(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var h={table:{marginTop:12},nameText:{color:i.default.charcoal},text:{display:"inline-block",fontFamily:'"Gotham 5r", sans-serif',fontSize:14,letterSpacing:-.12},col2:{paddingLeft:20},linesAndDot:{whiteSpace:"nowrap",marginLeft:"50%",marginRight:14},verticalLine:{display:"inline-block",backgroundColor:i.default.lighter_gray,height:15,width:3,position:"relative",bottom:2},horizontalLine:{display:"inline-block",backgroundColor:i.default.lighter_gray,position:"relative",top:-2,height:3,width:"100%"},dot:{display:"inline-block",position:"relative",left:-2,top:1,backgroundColor:i.default.lighter_gray,height:10,width:10,borderRadius:10}},g=function(e){function t(){return e.apply(this,arguments)||this}return function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(t,e),t.prototype.render=function(){var e,t=this.props,o=t.name,n=t.levels,r=t.disabled,i=t.selectedSectionId,a=1<n.length,s=a?void 0:n[0].url;return n[0].isUnplugged||n[n.length-1].isUnplugged?e="":(e=n[0].levelNumber.toString(),a&&(e+="-".concat(n[n.length-1].levelNumber))),l.default.createElement("table",{style:h.table},l.default.createElement("tbody",null,l.default.createElement("tr",null,l.default.createElement("td",{style:h.col1},l.default.createElement(d.default,{levels:n,icon:(0,u.getIconForLevel)(n[0]),text:e,disabled:r,selectedSectionId:i})),l.default.createElement("td",{style:h.col2},l.default.createElement("a",{href:s},l.default.createElement("div",{style:function(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{},n=Object.keys(Object(o));"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(o).filter(function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable}))),n.forEach(function(e){p(t,e,o[e])})}return t}({},h.nameText,h.text)},o)))),a&&l.default.createElement("tr",null,l.default.createElement("td",null,l.default.createElement("div",{style:h.linesAndDot},l.default.createElement("div",{style:h.verticalLine}),l.default.createElement("div",{style:h.horizontalLine}),l.default.createElement("div",{style:h.dot}))),l.default.createElement("td",{style:h.col2},l.default.createElement(c.default,{levels:n,disabled:r,selectedSectionId:i})))))},t}(l.default.Component);p(g,"propTypes",{name:n.default.string,levels:n.default.arrayOf(a.levelType).isRequired,disabled:n.default.bool.isRequired,selectedSectionId:n.default.string});var f=(0,r.default)(g);t.default=f,e.exports=t.default},1072:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.UnconnectedProgressLessonTeacherInfo=void 0;var n=s(o(0)),l=s(o(1)),r=o(9),c=s(o(4)),i=o(57),u=s(o(1044)),d=s(o(1073)),p=o(147),h=s(o(23)),g=s(o(1045)),a=s(o(62));function s(e){return e&&e.__esModule?e:{default:e}}function f(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var m={buttonContainer:{marginTop:5,marginLeft:15,marginRight:15},button:{width:"100%",paddingLeft:0,paddingRight:0}},y=function(n){function e(){for(var i,e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];return f(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(i=n.call.apply(n,[this].concat(t))||this),"onClickHiddenToggle",function(e){var t=i.props,o=t.scriptName,n=t.sectionId,r=t.lesson;(0,t.toggleHiddenStage)(o,n,r.id,"hidden"===e),a.default.putRecord({study:"hidden-lessons",study_group:"v0",event:e,data_json:JSON.stringify({script_name:o,section_id:n,lesson_id:r.id,lesson_name:r.name})})}),i}return function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(e,n),e.prototype.render=function(){var e=this.props,t=e.sectionId,o=e.scriptAllowsHiddenStages,n=e.hiddenStageState,r=e.hasNoSections,i=e.lesson,a=t&&o&&!r,s=o&&(0,p.isStageHiddenForSection)(n,t,i.id);return l.default.createElement(g.default,null,i.lesson_plan_html_url&&l.default.createElement("div",{style:m.buttonContainer},l.default.createElement(h.default,{__useDeprecatedTag:!0,href:i.lesson_plan_html_url,text:c.default.viewLessonPlan(),icon:"file-text",color:"blue",target:"_blank",style:m.button})),i.lockable&&!r&&l.default.createElement(d.default,{lesson:i}),a&&l.default.createElement(u.default,{hidden:!!s,onChange:this.onClickHiddenToggle}))},e}(l.default.Component);f(y,"propTypes",{lesson:i.lessonType.isRequired,sectionId:n.default.string,scriptAllowsHiddenStages:n.default.bool.isRequired,hiddenStageState:n.default.object.isRequired,scriptName:n.default.string.isRequired,hasNoSections:n.default.bool.isRequired,toggleHiddenStage:n.default.func.isRequired});var _=y;t.UnconnectedProgressLessonTeacherInfo=_;var v=(0,r.connect)(function(e){return{sectionId:e.teacherSections.selectedSectionId.toString(),scriptAllowsHiddenStages:e.hiddenStage.hideableStagesAllowed,hiddenStageState:e.hiddenStage,scriptName:e.progress.scriptName,hasNoSections:e.teacherSections.sectionsAreLoaded&&0===e.teacherSections.sectionIds.length}},{toggleHiddenStage:p.toggleHiddenStage})(y);t.default=v},1073:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.UnconnectedStageLock=void 0;var n=d(o(0)),i=d(o(1)),r=o(9),a=d(o(23)),s=d(o(4)),l=d(o(1074)),c=o(136),u=o(57);function d(e){return e&&e.__esModule?e:{default:e}}function p(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var h={main:{marginTop:5},buttonContainer:{marginLeft:15,marginRight:15},button:{paddingLeft:0,paddingRight:0,width:"100%"}},g=function(r){function e(){for(var t,e=arguments.length,o=new Array(e),n=0;n<e;n++)o[n]=arguments[n];return p(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t=r.call.apply(r,[this].concat(o))||this),"openLockDialog",function(){var e=t.props;(0,e.openLockDialog)(e.sectionId,e.lesson.id)}),t}return function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(e,r),e.prototype.render=function(){var e=this.props,t=e.sectionsAreLoaded,o=e.saving,n=e.closeLockDialog;return t?i.default.createElement("div",{style:h.main},i.default.createElement("div",{style:h.buttonContainer,className:"uitest-locksettings"},i.default.createElement(a.default,{__useDeprecatedTag:!0,onClick:this.openLockDialog,color:a.default.ButtonColor.gray,text:o?s.default.saving():s.default.lockSettings(),icon:"lock",style:h.button})),i.default.createElement(l.default,{handleClose:n})):i.default.createElement("div",null,s.default.loading())},e}(i.default.Component);p(g,"propTypes",{lesson:u.lessonType.isRequired,sectionId:n.default.string.isRequired,sectionsAreLoaded:n.default.bool.isRequired,saving:n.default.bool.isRequired,openLockDialog:n.default.func.isRequired,closeLockDialog:n.default.func.isRequired});var f=g;t.UnconnectedStageLock=f;var m=(0,r.connect)(function(e){return{sectionId:e.teacherSections.selectedSectionId.toString(),sectionsAreLoaded:e.teacherSections.sectionsAreLoaded,saving:e.stageLock.saving}},{openLockDialog:c.openLockDialog,closeLockDialog:c.closeLockDialog})(g);t.default=m},1074:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.UnconnectedStageLockDialog=void 0;var i=g(o(1)),n=g(o(0)),r=g(o(14)),a=o(9),s=g(o(66)),l=g(o(1075)),c=o(136),u=g(o(6)),d=g(o(4)),p=g(o(628)),h=o(473);function g(e){return e&&e.__esModule?e:{default:e}}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var y={main:{marginTop:20,marginBottom:10,marginLeft:20,marginRight:20,color:u.default.charcoal,whiteSpace:"normal",overflowY:"scroll",textAlign:"left"},title:{color:u.default.teal,fontSize:20,fontWeight:900,marginTop:15,marginBottom:15},headerRow:{borderWidth:1,borderStyle:"solid",borderColor:u.default.teal,backgroundColor:u.default.teal,padding:10,fontSize:"100%",fontFamily:'"Gotham 4r", sans-serif',fontWeight:"bold"},descriptionText:{marginTop:10,marginBottom:10},studentTable:{width:"100%"},tableCell:{borderWidth:1,borderStyle:"solid",borderColor:u.default.light_gray,padding:10},selectedCell:{backgroundColor:u.default.lightest_teal},radioCell:{textAlign:"center"},buttonContainer:{textAlign:"right",marginRight:15},hidden:{display:"none"}},_=function(o){function e(e){var t;return m(f(t=o.call(this,e)||this),"allowEditing",function(){return t.setAllLockStatus(c.LockStatus.Editable)}),m(f(t),"lockStage",function(){return t.setAllLockStatus(c.LockStatus.Locked)}),m(f(t),"showAnswers",function(){return t.setAllLockStatus(c.LockStatus.ReadonlyAnswers)}),m(f(t),"viewSection",function(){var e=(0,h.teacherDashboardUrl)(t.props.selectedSectionId,"/assessments");window.open(e,"_blank")}),m(f(t),"handleRadioChange",function(e){var o=parseInt(e.target.name,10),n=e.target.value;setTimeout(function(){t.setState({lockStatus:t.state.lockStatus.map(function(e,t){return t!==o?e:Object.assign({},e,{lockStatus:n})})})},0)}),m(f(t),"handleSave",function(){t.props.saveDialog(t.props.selectedSectionId,t.state.lockStatus)}),t.state={lockStatus:e.initialLockStatus},t}!function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(e,o);var t=e.prototype;return t.componentWillReceiveProps=function(e){e.saving||this.setState({lockStatus:e.initialLockStatus})},t.setAllLockStatus=function(t){this.setState({lockStatus:this.state.lockStatus.map(function(e){return Object.assign({},e,{lockStatus:t})})})},t.render=function(){var r=this,e={maxHeight:.8*window.innerHeight-100},t=""!==this.props.selectedSectionId,o=t?{}:y.hidden;return i.default.createElement(s.default,{isOpen:this.props.isOpen,handleClose:this.props.handleClose},i.default.createElement("div",{style:[y.main,e]},i.default.createElement("div",null,i.default.createElement("span",{style:y.title},d.default.assessmentSteps()),i.default.createElement(p.default,{style:{marginLeft:10},requireSelection:t})),i.default.createElement("table",{style:o},i.default.createElement("tbody",null,i.default.createElement("tr",null,i.default.createElement("td",null,"1. ",d.default.allowEditingInstructions()),i.default.createElement("td",null,i.default.createElement("button",{type:"button",style:l.default.orangeButton,onClick:this.allowEditing},d.default.allowEditing()))),i.default.createElement("tr",null,i.default.createElement("td",null,"2. ",d.default.lockStageInstructions()),i.default.createElement("td",null,i.default.createElement("button",{type:"button",style:l.default.orangeButton,onClick:this.lockStage},d.default.lockStage()))),i.default.createElement("tr",null,i.default.createElement("td",null,"3. ",d.default.showAnswersInstructions()),i.default.createElement("td",null,i.default.createElement("button",{type:"button",style:l.default.orangeButton,onClick:this.showAnswers},d.default.showAnswers()))),i.default.createElement("tr",null,i.default.createElement("td",null,"4. ",d.default.relockStageInstructions()),i.default.createElement("td",null,i.default.createElement("button",{type:"button",style:l.default.orangeButton,onClick:this.lockStage},d.default.relockStage()))),i.default.createElement("tr",null,i.default.createElement("td",null,"5. ",d.default.reviewResponses()),i.default.createElement("td",null,i.default.createElement("button",{type:"button",style:l.default.whiteButton,onClick:this.viewSection},d.default.viewSection()))))),i.default.createElement("div",{style:[y.descriptionText,o]},d.default.autolock()),i.default.createElement("div",{style:[y.title,o]},d.default.studentControl()),i.default.createElement("div",{style:[y.descriptionText,o]},d.default.studentLockStateInstructions()),i.default.createElement("table",{style:[y.studentTable,o]},i.default.createElement("thead",null,i.default.createElement("tr",null,i.default.createElement("th",{style:y.headerRow},d.default.student()),i.default.createElement("th",{style:y.headerRow},d.default.locked()),i.default.createElement("th",{style:y.headerRow},d.default.editable()),i.default.createElement("th",{style:y.headerRow},d.default.answersVisible()))),i.default.createElement("tbody",null,this.state.lockStatus.map(function(e,t){var o=e.name,n=e.lockStatus;return i.default.createElement("tr",{key:t},i.default.createElement("td",{style:y.tableCell},o),i.default.createElement("td",{style:[y.tableCell,y.radioCell,n===c.LockStatus.Locked&&y.selectedCell]},i.default.createElement("input",{type:"radio",name:t,value:c.LockStatus.Locked,checked:n===c.LockStatus.Locked,onChange:r.handleRadioChange})),i.default.createElement("td",{style:[y.tableCell,y.radioCell,n===c.LockStatus.Editable&&y.selectedCell]},i.default.createElement("input",{type:"radio",name:t,value:c.LockStatus.Editable,checked:n===c.LockStatus.Editable,onChange:r.handleRadioChange})),i.default.createElement("td",{style:[y.tableCell,y.radioCell,n===c.LockStatus.ReadonlyAnswers&&y.selectedCell]},i.default.createElement("input",{type:"radio",name:t,value:c.LockStatus.ReadonlyAnswers,checked:n===c.LockStatus.ReadonlyAnswers,onChange:r.handleRadioChange})))})))),i.default.createElement("div",{style:y.buttonContainer},i.default.createElement("button",{type:"button",style:l.default.baseButton,onClick:this.props.handleClose},d.default.dialogCancel()),i.default.createElement("button",{type:"button",style:[l.default.blueButton,o],onClick:this.handleSave,disabled:this.props.saving},this.props.saving?d.default.saving():d.default.save())))},e}(i.default.Component);m(_,"propTypes",{isOpen:n.default.bool.isRequired,handleClose:n.default.func.isRequired,initialLockStatus:n.default.arrayOf(n.default.shape({name:n.default.string.isRequired,lockStatus:n.default.oneOf(Object.values(c.LockStatus)).isRequired})),selectedSectionId:n.default.string.isRequired,saving:n.default.bool.isRequired,saveDialog:n.default.func.isRequired});var v=(0,r.default)(_);t.UnconnectedStageLockDialog=v;var b=(0,a.connect)(function(e){return{initialLockStatus:e.stageLock.lockStatus,isOpen:!!e.stageLock.lockDialogStageId,saving:e.stageLock.saving,selectedSectionId:e.teacherSections.selectedSectionId.toString()}},function(o){return{saveDialog:function(e,t){o((0,c.saveLockDialog)(e,t))}}})(v);t.default=b},1075:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.createOutline=void 0;var n,r=(n=o(6))&&n.__esModule?n:{default:n};t.createOutline=function(e){return"\n    ".concat(e," 0 1px,\n    ").concat(e," 1px 1px,\n    ").concat(e," 1px 0px,\n    ").concat(e," 1px -1px,\n    ").concat(e," 0 -1px,\n    ").concat(e," -1px -1px,\n    ").concat(e," -1px 0,\n    ").concat(e," -1px 1px")};var i={fontSize:14,paddingTop:5,paddingBottom:5,paddingLeft:10,paddingRight:10,whiteSpace:"nowrap"},a={baseButton:i,blueButton:Object.assign({},i,{backgroundColor:r.default.cyan,color:r.default.white}),orangeButton:Object.assign({},i,{backgroundColor:r.default.orange,color:r.default.white}),whiteButton:Object.assign({},i,{backgroundColor:r.default.white,color:r.default.dark_charcoal,borderColor:r.default.lighter_gray})};t.default=a},1076:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,r,l=h(o(1)),i=h(o(0)),a=h(o(14)),c=h(o(627)),u=h(o(625)),d=h(o(18)),s=o(57),p=h(o(6));function h(e){return e&&e.__esModule?e:{default:e}}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var m={main:{marginBottom:20},header:{padding:20,backgroundColor:p.default.purple,fontSize:18,fontFamily:'"Gotham 5r", sans-serif',color:"white",borderTopLeftRadius:4,borderTopRightRadius:4,cursor:"pointer"},headerBlue:{backgroundColor:p.default.cyan},headingText:{marginLeft:10},contents:{backgroundColor:p.default.lighter_purple,padding:20},contentsBlue:{backgroundColor:p.default.lightest_cyan},bottom:{borderBottomLeftRadius:4,borderBottomRightRadius:4}},y=(0,a.default)((r=n=function(r){function e(){for(var e,t=arguments.length,o=new Array(t),n=0;n<t;n++)o[n]=arguments[n];return f(g(e=r.call.apply(r,[this].concat(o))||this),"state",{collapsed:!1}),f(g(e),"toggleCollapsed",function(){return e.setState({collapsed:!e.state.collapsed})}),e}return function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(e,r),e.prototype.render=function(){var e=this.props,t=e.groupName,o=e.lessons,n=e.levelsByLesson,r=e.isSummaryView,i=e.isPlc,a=r?u.default:c.default,s=this.state.collapsed?"caret-right":"caret-down";return l.default.createElement("div",{style:m.main},l.default.createElement("div",{style:[m.header,i&&m.headerBlue,this.state.collapsed&&m.bottom],onClick:this.toggleCollapsed},l.default.createElement(d.default,{icon:s}),l.default.createElement("span",{style:m.headingText},t)),!this.state.collapsed&&l.default.createElement("div",{style:[m.contents,i&&m.contentsBlue,m.bottom]},l.default.createElement(a,{lessons:o,levelsByLesson:n})))},e}(l.default.Component),f(n,"propTypes",{groupName:i.default.string.isRequired,lessons:i.default.arrayOf(s.lessonType).isRequired,levelsByLesson:i.default.arrayOf(i.default.arrayOf(s.levelType)).isRequired,isPlc:i.default.bool.isRequired,isSummaryView:i.default.bool.isRequired}),r));t.default=y,e.exports=t.default},1077:function(e,t,o){"use strict";function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.UnconnectedScriptOverviewHeader=void 0;var n=h(o(0)),S=p(o(1)),i=h(o(8)),r=o(9),k=h(o(168)),C=h(o(902)),A=o(59),s=o(309),O=h(o(903)),l=o(595),w=p(o(179)),B=h(o(4)),c=h(o(6)),I=o(607),R=p(o(904)),u=o(82),N=h(o(905)),P=h(o(1046));function d(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return d=function(){return e},e}function p(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var t=d();if(t&&t.has(e))return t.get(e);var o={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(o,r,i):o[r]=e[r]}return o.default=e,t&&t.set(e,o),o}function h(e){return e&&e.__esModule?e:{default:e}}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var L=1100,x={heading:{width:"100%"},titleWrapper:{display:"flex",justifyContent:"space-between",alignItems:"flex-end"},title:{display:"inline-block"},versionWrapper:{display:"flex",alignItems:"baseline"},versionLabel:{fontFamily:'"Gotham 5r", sans-serif',fontSize:15,color:c.default.charcoal},versionDropdown:{marginBottom:13},description:{width:700}},m=function(r){function e(){for(var n,e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];return f(g(n=r.call.apply(r,[this].concat(t))||this),"onChangeVersion",function(t){var e=n.props.versions.find(function(e){return e.year===t});if(e&&0<e.name.length&&e.name!==n.props.scriptName){var o=window.location.search||"";window.location.href="/s/".concat(e.name).concat(o)}}),f(g(n),"onDismissVersionWarning",function(){$.ajax({method:"PATCH",url:"/api/v1/user_scripts/".concat(n.props.scriptId),type:"json",contentType:"application/json;charset=UTF-8",data:JSON.stringify({version_warning_dismissed:!0})})}),f(g(n),"filterAnnouncements",function(t){var o=[];return n.props.announcements.forEach(function(e){e.visibility===l.VisibilityType.teacherAndStudent?o.push(e):"Teacher"!==t||e.visibility!==l.VisibilityType.teacher&&void 0!==e.visibility?"Student"===t&&e.visibility===l.VisibilityType.student&&o.push(e):o.push(e)}),o}),n}!function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(e,r);var t=e.prototype;return t.componentDidMount=function(){$("#lesson-heading-extras").appendTo(i.default.findDOMNode(this.protected))},t.render=function(){var e,t=this,o=this.props,n=o.plcHeaderProps,r=o.scriptName,i=o.scriptTitle,a=o.scriptDescription,s=o.betaTitle,l=o.viewAs,c=o.isSignedIn,u=o.showCourseUnitVersionWarning,d=o.showScriptVersionWarning,p=o.showRedirectWarning,h=o.versions,g=o.showHiddenUnitWarning,f=o.courseName,m=o.userId,y=o.isVerifiedTeacher,_=o.hasVerifiedResources,v=l===A.ViewType.Teacher&&!y&&_,b=p&&!(0,I.dismissedRedirectWarning)(f||r);u?e=B.default.wrongUnitVersionWarningDetails():d&&(e=B.default.wrongCourseVersionWarningDetails());var E=h.filter(function(e){return e.canViewVersion}),T=E.find(function(e){return e.name===t.props.scriptName});return(0,R.setRecommendedAndSelectedVersions)(E,this.props.localeEnglishName,T&&T.year),S.default.createElement("div",null,n&&S.default.createElement(C.default,{unit_name:n.unitName,course_view_path:n.courseViewPath}),c&&S.default.createElement(O.default,{announcements:this.filterAnnouncements(l),width:L}),m&&S.default.createElement(N.default,{studentId:m}),v&&S.default.createElement(P.default,{width:L}),b&&S.default.createElement(w.default,{type:w.NotificationType.warning,notice:"",details:B.default.redirectCourseVersionWarningDetails(),dismissible:!0,width:L,onDismiss:function(){return(0,I.onDismissRedirectWarning)(f||r)}}),e&&S.default.createElement(w.default,{type:w.NotificationType.warning,notice:B.default.wrongCourseVersionWarningNotice(),details:e,dismissible:!0,width:L,onDismiss:this.onDismissVersionWarning}),g&&S.default.createElement(w.default,{type:w.NotificationType.warning,notice:B.default.hiddenUnitWarningNotice(),details:B.default.hiddenUnitWarningDetails(),dismissible:!1,width:L,buttonText:B.default.learnMore(),buttonLink:"https://support.code.org/hc/en-us/articles/115001479372-Hiding-units-and-lessons-in-Code-org-s-CS-Principles-and-CS-Discoveries-courses"}),S.default.createElement("div",{id:"lesson"},S.default.createElement("div",{id:"heading",style:x.heading},S.default.createElement("div",{style:x.titleWrapper},S.default.createElement("h1",{style:x.title,id:"script-title"},i," ",s&&S.default.createElement("span",{className:"betatext"},s)),1<E.length&&S.default.createElement(R.default,{onChangeVersion:this.onChangeVersion,versions:E,rightJustifiedPopupMenu:!0})),S.default.createElement("p",{style:x.description},a)),S.default.createElement(k.default,{ref:function(e){return t.protected=e}})))},e}(S.Component);f(m,"propTypes",{showCourseUnitVersionWarning:n.default.bool,showScriptVersionWarning:n.default.bool,showRedirectWarning:n.default.bool,showHiddenUnitWarning:n.default.bool,courseName:n.default.string,versions:n.default.arrayOf(u.assignmentVersionShape).isRequired,userId:n.default.number,plcHeaderProps:n.default.shape({unitName:n.default.string.isRequired,courseViewPath:n.default.string.isRequired}),announcements:n.default.arrayOf(l.announcementShape),scriptId:n.default.number.isRequired,scriptName:n.default.string.isRequired,scriptTitle:n.default.string.isRequired,scriptDescription:n.default.string.isRequired,betaTitle:n.default.string,viewAs:n.default.oneOf(Object.values(A.ViewType)).isRequired,isSignedIn:n.default.bool.isRequired,isVerifiedTeacher:n.default.bool.isRequired,hasVerifiedResources:n.default.bool.isRequired,localeEnglishName:n.default.string});var y=m;t.UnconnectedScriptOverviewHeader=y;var _=(0,r.connect)(function(e){return{plcHeaderProps:e.plcHeader,announcements:e.scriptAnnouncements||[],scriptId:e.progress.scriptId,scriptName:e.progress.scriptName,scriptTitle:e.progress.scriptTitle,scriptDescription:e.progress.scriptDescription,betaTitle:e.progress.betaTitle,isSignedIn:e.currentUser.signInState===s.SignInState.SignedIn,viewAs:e.viewAs,isVerifiedTeacher:e.verifiedTeacher.isVerified,hasVerifiedResources:e.verifiedTeacher.hasVerifiedResources,localeEnglishName:e.locales.localeEnglishName}})(m);t.default=_},1078:function(e,t,o){"use strict";function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var t=u();if(t&&t.has(e))return t.get(e);var o={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(o,r,i):o[r]=e[r]}o.default=e,t&&t.set(e,o);return o}(o(1)),r=c(o(176)),i=c(o(4)),s=c(o(6)),l=o(629);function c(e){return e&&e.__esModule?e:{default:e}}function u(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return u=function(){return e},e}function d(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{},n=Object.keys(Object(o));"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(o).filter(function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable}))),n.forEach(function(e){p(t,e,o[e])})}return t}function p(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var h={item:{backgroundColor:s.default.charcoal,":hover":{backgroundColor:s.default.charcoal},cursor:"default"},wrapper:{fontSize:16,fontWeight:"bold",height:l.rowHeight,color:"white"},selectedColumn:d({},l.cellStyle,{width:l.columnWidths.selected,marginLeft:-10}),titleColumn:d({},l.cellStyle,{width:l.columnWidths.title}),statusColumn:d({},l.cellStyle,{width:l.columnWidths.status}),languageColumn:d({},l.cellStyle,{width:l.columnWidths.language,marginRight:-10})},g=function(e){function t(){return e.apply(this,arguments)||this}return function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(t,e),t.prototype.render=function(){return n.default.createElement(r.default.Item,{onClick:function(){},style:h.item},n.default.createElement("div",{style:h.wrapper},n.default.createElement("span",{style:h.selectedColumn}),n.default.createElement("span",{style:h.titleColumn},i.default.version()),n.default.createElement("span",{style:h.statusColumn}),n.default.createElement("span",{style:h.languageColumn},i.default.languages())))},t}(n.Component);t.default=g,e.exports=t.default},1079:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.UnconnectedMiniView=void 0;var n=a(o(0)),l=a(o(1)),r=o(9),c=a(o(623)),u=a(o(1080)),i=o(95);function a(e){return e&&e.__esModule?e:{default:e}}function d(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var p={detailView:{margin:10},groupView:{margin:20}},s=function(e){function t(){return e.apply(this,arguments)||this}return function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(t,e),t.prototype.render=function(){var e,t=this.props,o=t.linesOfCodeText,n=t.isSummaryView,r=t.hasGroups,i=t.scriptName,a=t.hasFullProgress,s=t.selectedSectionId;return e=a?l.default.createElement("div",{style:function(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{},n=Object.keys(Object(o));"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(o).filter(function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable}))),n.forEach(function(e){d(t,e,o[e])})}return t}({},!r&&!n&&p.detailView,r&&p.groupView)},l.default.createElement(c.default,{onOverviewPage:!1,excludeCsfColumnInLegend:!1,teacherResources:[]})):l.default.createElement("div",{className:"loading"}),l.default.createElement("div",null,l.default.createElement(u.default,{scriptName:i,linesOfCodeText:o,selectedSectionId:s}),e)},t}(l.default.Component);d(s,"propTypes",{linesOfCodeText:n.default.string,isSummaryView:n.default.bool.isRequired,hasGroups:n.default.bool.isRequired,scriptName:n.default.string.isRequired,hasFullProgress:n.default.bool.isRequired,selectedSectionId:n.default.string});var h=s;t.UnconnectedMiniView=h;var g=(0,r.connect)(function(e){return{isSummaryView:e.progress.isSummaryView,scriptName:e.progress.scriptName,hasFullProgress:e.progress.hasFullProgress,hasGroups:(0,i.hasGroups)(e.progress),selectedSectionId:e.teacherSections.selectedSectionId.toString()}})(s);t.default=g},108:function(e,t,o){"use strict";var n=o(239),r=o(241),i=o(244),a=o(245),s=o(248),l=o(445);e.exports=n([i,r,a,s,l])},1080:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(o(0)),a=r(o(1)),s=r(o(6)),l=r(o(4)),c=r(o(624)),u=r(o(23)),d=o(11),p=o(96);function r(e){return e&&e.__esModule?e:{default:e}}var i,h,g,f={main:{fontSize:16,backgroundColor:s.default.teal,color:s.default.white,padding:15,marginBottom:0,height:34,lineHeight:"34px"},link:{color:s.default.white,position:"absolute",left:15,textDecoration:"underline",lineHeight:"34px"},linesOfCodeText:{position:"absolute",right:105},toggle:{position:"absolute",top:10,right:10}},m=function(e){function t(){return e.apply(this,arguments)||this}return function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(t,e),t.prototype.render=function(){var e=this.props,t=e.scriptName,o=e.linesOfCodeText,n=e.selectedSectionId,r=(0,p.queryParams)("section_id"),i=n?(0,d.stringifyQueryParams)({section_id:n}):(0,d.stringifyQueryParams)({section_id:r});return a.default.createElement("div",{style:f.main},a.default.createElement(u.default,{__useDeprecatedTag:!0,text:l.default.viewUnitOverview(),href:"/s/".concat(t).concat(i),color:u.default.ButtonColor.gray}),a.default.createElement("span",{style:f.linesOfCodeText},o),a.default.createElement("div",{style:f.toggle},a.default.createElement(c.default,{activeColor:s.default.teal,whiteBorder:!0})))},t}(a.default.Component);t.default=m,i=m,h="propTypes",g={scriptName:n.default.string.isRequired,linesOfCodeText:n.default.string,selectedSectionId:n.default.string},h in i?Object.defineProperty(i,h,{value:g,enumerable:!0,configurable:!0,writable:!0}):i[h]=g,e.exports=t.default},1081:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(o(1)),i=r(o(66)),a=r(o(4));function r(e){return e&&e.__esModule?e:{default:e}}function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var c={main:{fontSize:16,margin:15},paragraph:{paddingTop:5,paddingBottom:5},button:{textAlign:"right"}},u=function(r){function e(){for(var e,t=arguments.length,o=new Array(t),n=0;n<t;n++)o[n]=arguments[n];return l(s(e=r.call.apply(r,[this].concat(o))||this),"state",{open:!0}),l(s(e),"handleClose",function(){return e.setState({open:!1})}),e}return function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(e,r),e.prototype.render=function(){return n.default.createElement(i.default,{isOpen:this.state.open,uncloseable:!0},n.default.createElement("div",{style:c.main},n.default.createElement("div",{style:c.paragraph},a.default.disabledProgress1()),n.default.createElement("div",{style:c.paragraph},a.default.disabledProgress2()),n.default.createElement("div",{style:c.paragraph},a.default.disabledProgress3()),n.default.createElement("div",{style:c.paragraph},n.default.createElement("a",{target:"_blank",href:"https://support.code.org/hc/en-us/articles/115002660852"},a.default.learnMore())),n.default.createElement("div",{style:c.button},n.default.createElement("button",{type:"button",onClick:this.handleClose},a.default.dialogOK()))))},e}(n.default.Component);t.default=u,e.exports=t.default},1082:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(o(1)),i=n(o(747)),a=n(o(4));function n(e){return e&&e.__esModule?e:{default:e}}var s={bold:{fontFamily:'"Gotham 5r", sans-serif'}},l=function(n){function e(e){var t;!function(e,t,o){t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o}(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t=n.call(this,e)||this),"onClose",function(){t.setState({visible:!1}),sessionStorage.setItem("disabledBubblesAlertSeen",!0)});var o=sessionStorage.getItem("disabledBubblesAlertSeen");return t.state={visible:!o},t}return function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(e,n),e.prototype.render=function(){return this.state.visible?r.default.createElement(i.default,{onClose:this.onClose,type:"error"},r.default.createElement("div",null,r.default.createElement("span",{style:s.bold},a.default.disabledButtonsWarning()+" "),r.default.createElement("span",null,a.default.disabledButtonsInfo()+" "),r.default.createElement("a",{target:"_blank",href:"https://support.code.org/hc/en-us/articles/115002660852"},a.default.learnMore()))):null},e}(r.default.Component);t.default=l,e.exports=t.default},1083:function(e,t,o){"use strict";function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.UnconnectedTeacherPanel=void 0;var f=c(o(1)),n=c(o(0)),r=o(9),m=c(o(1084)),y=c(o(628)),_=c(o(1085)),v=c(o(18)),h=o(136),b=o(59),g=o(95),i=o(56),E=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var t=l();if(t&&t.has(e))return t.get(e);var o={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(o,r,i):o[r]=e[r]}o.default=e,t&&t.set(e,o);return o}(o(632)),T=o(473),S=o(1086),k=c(o(23)),C=c(o(4)),s=c(o(62));function l(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return l=function(){return e},e}function c(e){return e&&e.__esModule?e:{default:e}}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var A={scrollable:{overflowY:"auto",overflowX:"hidden",maxHeight:"90%"},text:{margin:10},exclamation:{color:"red"},dontForget:{display:"inline",marginLeft:10,fontSize:16,fontFamily:'"Gotham 7r", sans-serif'},sectionHeader:{margin:10,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},exampleSolutions:{textAlign:"center",margin:5},sectionInfo:{textAlign:"center",padding:"5px 0px"},teacherDashboardLink:{fontSize:11}},p=function(r){function e(){for(var n,e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];return d(u(n=r.call.apply(r,[this].concat(t))||this),"logToFirehose",function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},o=function(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{},n=Object.keys(Object(o));"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(o).filter(function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable}))),n.forEach(function(e){d(t,e,o[e])})}return t}({section_id:n.props.selectedSection&&n.props.selectedSection.id,page_type:n.props.pageType},t);s.default.putRecord({study:"teacher_panel",event:e,data_json:JSON.stringify(o)})}),d(u(n),"onSelectUser",function(e,t){n.logToFirehose("select_student",{select_type:t}),n.props.onSelectUser(e)}),n}return function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(e,r),e.prototype.render=function(){var t=this,e=this.props,o=e.sectionData,n=e.viewAs,r=e.hasSections,i=e.sectionsAreLoaded,a=e.selectedSection,s=e.scriptHasLockableStages,l=e.unlockedStageNames,c=e.students,u=e.scriptName,d=null,p=null,h=null;o&&(d=o.section_script_levels,o.section&&o.section.students&&((p=o.section.students.find(function(e){return t.props.getSelectedUserId()===e.id}))?d&&(h=d.find(function(e){return t.props.getSelectedUserId()===e.user_id})):(p={id:null,name:C.default.studentTableTeacherDemo()},h=o.teacher_level)));var g=a&&a.id;return f.default.createElement(m.default,{logToFirehose:this.logToFirehose},f.default.createElement("h3",null,C.default.teacherPanel()),f.default.createElement("div",{style:A.scrollable},f.default.createElement(_.default,{logToFirehose:this.logToFirehose}),n===b.ViewType.Teacher&&p&&0<(c||[]).length&&f.default.createElement(S.SelectedStudentInfo,{students:c,selectedStudent:p,level:h,onSelectUser:function(e){return t.onSelectUser(e,"iterator")},getSelectedUserId:this.props.getSelectedUserId}),n===b.ViewType.Teacher&&o&&o.level_examples&&f.default.createElement("div",{style:A.exampleSolutions},o.level_examples.map(function(e,t){return f.default.createElement(k.default,{__useDeprecatedTag:!0,key:t,text:C.default.exampleSolution({number:t+1}),color:"blue",href:e,target:"_blank"})})),!i&&f.default.createElement("div",{style:A.text},C.default.loading()),i&&r&&f.default.createElement("div",{style:A.sectionInfo},f.default.createElement("div",null,C.default.viewingSection()),f.default.createElement(y.default,{style:{margin:"0px 10px"},reloadOnChange:!0,logToFirehose:function(){return t.logToFirehose("select_section")}}),a&&f.default.createElement("a",{href:(0,T.teacherDashboardUrl)(a.id),target:"_blank",style:A.teacherDashboardLink,onClick:function(){return t.logToFirehose("select_teacher_dashboard")}},C.default.teacherDashboard())),r&&s&&n===b.ViewType.Teacher&&f.default.createElement("div",null,f.default.createElement("div",{style:A.text},C.default.selectSectionInstructions()),0<l.length&&f.default.createElement("div",null,f.default.createElement("div",{style:A.text},f.default.createElement(v.default,{icon:"exclamation-triangle",style:A.exclamation}),f.default.createElement("div",{style:A.dontForget},C.default.dontForget())),f.default.createElement("div",{style:A.text},C.default.lockFollowing(),f.default.createElement("ul",null,l.map(function(e,t){return f.default.createElement("li",{key:t},e)}))))),n===b.ViewType.Teacher&&0<(c||[]).length&&f.default.createElement(E.default,{levels:d,students:c,onSelectUser:function(e){return t.onSelectUser(e,"select_specific")},getSelectedUserId:this.props.getSelectedUserId,sectionId:g,scriptName:u})))},e}(f.default.Component);d(p,"propTypes",{onSelectUser:n.default.func,getSelectedUserId:n.default.func,sectionData:n.default.object,scriptName:n.default.string,pageType:n.default.oneOf([i.pageTypes.level,i.pageTypes.scriptOverview,i.pageTypes.stageExtras]),viewAs:n.default.oneOf(Object.values(b.ViewType)).isRequired,hasSections:n.default.bool.isRequired,sectionsAreLoaded:n.default.bool.isRequired,selectedSection:n.default.shape({id:n.default.number.isRequired,name:n.default.string.isRequired}),scriptHasLockableStages:n.default.bool.isRequired,unlockedStageNames:n.default.arrayOf(n.default.string).isRequired,students:n.default.arrayOf(E.studentShape)});var O=p;t.UnconnectedTeacherPanel=O;var w=(0,r.connect)(function(e){var t=e.stageLock,o=t.stagesBySectionId,n=t.lockableAuthorized,r=e.teacherSections,i=r.selectedSectionId,a=r.sectionsAreLoaded,s=r.sectionIds,l=o[i],c=(0,h.fullyLockedStageMapping)(e.stageLock.stagesBySectionId[i]),u=Object.keys(l||{}).filter(function(e){return!c[e]}),d={};e.progress.stages.forEach(function(e){d[e.id]=e.name});var p=n&&(0,g.hasLockableStages)(e.progress);return{viewAs:e.viewAs,hasSections:0<s.length,sectionsAreLoaded:a,scriptHasLockableStages:p,selectedSection:e.teacherSections.sections[i],unlockedStageNames:u.map(function(e){return d[e]}),students:e.teacherSections.selectedStudents}})(p);t.default=w},1084:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(o(0)),i=r(o(1)),a=r(o(2)),s=r(o(18)),l=o(11);function r(e){return e&&e.__esModule?e:{default:e}}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var d=function(r){function e(){for(var t,e=arguments.length,o=new Array(e),n=0;n<e;n++)o[n]=arguments[n];return u(c(t=r.call.apply(r,[this].concat(o))||this),"state",{open:"closed"!==(0,l.tryGetLocalStorage)("teacher-panel","open")}),u(c(t),"logToFirehose",function(){if(t.props.logToFirehose){var e=t.state.open?"open":"close";t.props.logToFirehose(e)}}),u(c(t),"hide",function(){t.setState({open:!1},t.logToFirehose),(0,l.trySetLocalStorage)("teacher-panel","closed")}),u(c(t),"show",function(){t.setState({open:!0},t.logToFirehose),(0,l.trySetLocalStorage)("teacher-panel","open")}),t}return function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(e,r),e.prototype.render=function(){return i.default.createElement("div",{className:(0,a.default)("teacher-panel",{hidden:!this.state.open})},i.default.createElement("div",{className:"hide-handle"},i.default.createElement(s.default,{icon:"chevron-right",onClick:this.hide})),i.default.createElement("div",{className:"show-handle"},i.default.createElement(s.default,{icon:"chevron-left",onClick:this.show})),this.props.children)},e}(i.default.Component);u(t.default=d,"propTypes",{children:n.default.node,logToFirehose:n.default.func}),e.exports=t.default},1085:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.UnconnectedViewAsToggle=void 0;var i=d(o(10)),n=d(o(0)),a=d(o(1)),r=o(9),s=d(o(4)),l=d(o(392)),c=o(59),u=o(96);function d(e){return e&&e.__esModule?e:{default:e}}function p(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var h={main:{textAlign:"center"},viewAs:{fontSize:16,margin:10},toggleGroup:{margin:10}},g=function(r){function e(){for(var o,e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return p(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(o=r.call.apply(r,[this].concat(t))||this),"onChange",function(e){var t=o.props.changeViewType;(0,u.updateQueryParam)("viewAs",e),e===c.ViewType.Student&&(0,u.queryParams)("user_id")||(0,i.default)(".hide-as-student").toggle(e===c.ViewType.Teacher),t(e),o.props.logToFirehose&&o.props.logToFirehose("toggle_view",{view_type:e})}),o}!function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(e,r);var t=e.prototype;return t.componentDidMount=function(){var e=this.props.viewAs;(0,i.default)(".hide-as-student").toggle(e===c.ViewType.Teacher)},t.render=function(){var e=this.props.viewAs;return a.default.createElement("div",{className:"non-scrollable-wrapper",style:h.main},a.default.createElement("div",{style:h.viewAs},s.default.viewPageAs()),a.default.createElement("div",{style:h.toggleGroup},a.default.createElement(l.default,{selected:e,onChange:this.onChange},a.default.createElement("button",{type:"button",className:"uitest-viewAsStudent",value:c.ViewType.Student},s.default.student()),a.default.createElement("button",{type:"button",className:"uitest-viewAsTeacher",value:c.ViewType.Teacher},s.default.teacher()))))},e}(a.default.Component);p(g,"propTypes",{viewAs:n.default.oneOf(Object.values(c.ViewType)).isRequired,changeViewType:n.default.func.isRequired,logToFirehose:n.default.func});var f=g;t.UnconnectedViewAsToggle=f;var m=(0,r.connect)(function(e){return{viewAs:e.viewAs}},function(t){return{changeViewType:function(e){t((0,c.changeViewType)(e))}}})(f);t.default=m},1086:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SelectedStudentInfo=void 0;var n=p(o(0)),i=p(o(1)),a=p(o(4)),s=o(633),l=p(o(23)),c=o(61),r=p(o(14)),u=p(o(18)),d=o(632);function p(e){return e&&e.__esModule?e:{default:e}}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var f=(0,r.default)(u.default),m={main:{display:"flex",justifyContent:"center",flexDirection:"row"},studentInfo:{width:150,textAlign:"center",display:"flex",justifyContent:"center",flexDirection:"column"},bubble:{marginLeft:0},name:{fontFamily:'"Gotham 5r", sans-serif',fontWeight:"bold",fontSize:15},timeHeader:{fontFamily:'"Gotham 5r", sans-serif',fontWeight:"bold"},arrow:{fontSize:40,cursor:"pointer",position:"relative",top:30}},y=function(r){function e(){for(var o,e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return g(h(o=r.call.apply(r,[this].concat(t))||this),"onUnsubmit",function(){$.ajax({url:"/user_levels/".concat(o.props.level.id),method:"PUT",data:{user_level:{best_result:1,submitted:!1}}}).done(function(e){location.reload()}).fail(function(e){return console.error(e)})}),g(h(o),"onClearResponse",function(){$.ajax({url:"/user_levels/".concat(o.props.level.id),method:"DELETE"}).done(function(e){location.reload()}).fail(function(e){return console.error(e)})}),g(h(o),"nextStudent",function(){var t=o.props.getSelectedUserId(),e=o.props.students.findIndex(function(e){return e.id===t});e===o.props.students.length-1?o.props.onSelectUser(null):o.props.onSelectUser(o.props.students[e+1].id)}),g(h(o),"previousStudent",function(){var t=o.props.getSelectedUserId(),e=o.props.students.findIndex(function(e){return e.id===t});0===e?o.props.onSelectUser(null):-1===e?o.props.onSelectUser(o.props.students[o.props.students.length-1].id):o.props.onSelectUser(o.props.students[e-1].id)}),o}return function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(e,r),e.prototype.render=function(){var e=this.props,t=e.selectedStudent,o=e.level;return i.default.createElement("div",{style:m.main},i.default.createElement(f,{icon:"caret-left",onClick:this.previousStudent,style:m.arrow}),i.default.createElement("div",{style:m.studentInfo},i.default.createElement("div",{style:m.name},t.name),o.paired&&i.default.createElement("div",null,i.default.createElement("div",null,a.default.workedWith()),o.navigator&&i.default.createElement("div",{key:o.navigator},a.default.partner({partner:o.navigator})),o.driver&&i.default.createElement("div",{key:o.driver},a.default.loggedIn({partner:o.driver}))),i.default.createElement("div",{style:m.bubble},i.default.createElement(s.TeacherPanelProgressBubble,{level:o})),!o.submitLevel&&i.default.createElement("div",null,i.default.createElement("div",{style:m.timeHeader},a.default.lastUpdatedNoTime()),i.default.createElement("div",null,o.status!==c.LevelStatus.not_tried?new Date(o.updated_at).toLocaleString():a.default.notApplicable())),o.submitLevel&&i.default.createElement("div",null,i.default.createElement("div",{style:m.timeHeader},a.default.submittedOn()),i.default.createElement("div",null,o.status===c.LevelStatus.submitted?new Date(o.updated_at).toLocaleString():a.default.notApplicable()),i.default.createElement(l.default,{__useDeprecatedTag:!0,text:a.default.unsubmit(),color:"blue",onClick:this.onUnsubmit,id:"unsubmit-button-uitest",disabled:o.status!==c.LevelStatus.submitted}))),i.default.createElement(f,{icon:"caret-right",onClick:this.nextStudent,style:m.arrow}))},e}(i.default.Component);g(t.SelectedStudentInfo=y,"propTypes",{students:n.default.arrayOf(d.studentShape).isRequired,selectedStudent:n.default.object,level:n.default.object,onSelectUser:n.default.func.isRequired,getSelectedUserId:n.default.func.isRequired})},1087:function(e,t,o){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e}).apply(this,arguments)}function d(e,t){if(null==e)return{};var o,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)o=i[n],0<=t.indexOf(o)||(r[o]=e[o]);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)o=a[n],0<=t.indexOf(o)||Object.prototype.propertyIsEnumerable.call(e,o)&&(r[o]=e[o])}return r}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t,o){return t&&r(e.prototype,t),o&&r(e,o),e}function l(e,t){if(t&&("object"===n(t)||"function"==typeof t))return t;if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var p=o(1),a=o(0),h=o(1900),g=o(1270);function f(e){for(var t="",o=0;o<e.length;o++){var n=e.charCodeAt(o);n<128?t+=String.fromCharCode(n):(n<2048?t+=String.fromCharCode(192|n>>6):(n<55296||57344<=n?t+=String.fromCharCode(224|n>>12):(o++,n=65536+((1023&n)<<10|1023&e.charCodeAt(o)),t+=String.fromCharCode(240|n>>18),t+=String.fromCharCode(128|n>>12&63)),t+=String.fromCharCode(128|n>>6&63)),t+=String.fromCharCode(128|63&n))}return t}var m={size:128,level:"L",bgColor:"#FFFFFF",fgColor:"#000000"},y={value:a.string.isRequired,size:a.number,level:a.oneOf(["L","M","Q","H"]),bgColor:a.string,fgColor:a.string},_=function(e){function a(){var e,t,o;s(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return l(o,(t=o=l(this,(e=a.__proto__||Object.getPrototypeOf(a)).call.apply(e,[this].concat(r))),Object.defineProperty(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(o),"_canvas",{configurable:!0,enumerable:!0,writable:!0,value:void 0}),t))}return c(a,p.Component),i(a,[{key:"shouldComponentUpdate",value:function(t){var o=this;return Object.keys(a.propTypes).some(function(e){return o.props[e]!==t[e]})}},{key:"componentDidMount",value:function(){this.update()}},{key:"componentDidUpdate",value:function(){this.update()}},{key:"update",value:function(){var e=this.props,t=e.value,o=e.size,n=e.level,i=e.bgColor,a=e.fgColor,r=new h(-1,g[n]);if(r.addData(f(t)),r.make(),null!=this._canvas){var s=this._canvas,l=s.getContext("2d");if(!l)return;var c=r.modules;if(null===c)return;var u=o/c.length,d=o/c.length,p=(window.devicePixelRatio||1)/function(e){return e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1}(l);s.height=s.width=o*p,l.scale(p,p),c.forEach(function(e,r){e.forEach(function(e,t){l&&(l.fillStyle=e?a:i);var o=Math.ceil((t+1)*u)-Math.floor(t*u),n=Math.ceil((r+1)*d)-Math.floor(r*d);l&&l.fillRect(Math.round(t*u),Math.round(r*d),o,n)})})}}},{key:"render",value:function(){var t=this,e=this.props,o=(e.value,e.size),n=(e.level,e.bgColor,e.fgColor,e.style),r=d(e,["value","size","level","bgColor","fgColor","style"]),i=u({height:o,width:o},n);return p.createElement("canvas",u({style:i,height:o,width:o,ref:function(e){return t._canvas=e}},r))}}]),a}();Object.defineProperty(_,"defaultProps",{configurable:!0,enumerable:!0,writable:!0,value:m}),Object.defineProperty(_,"propTypes",{configurable:!0,enumerable:!0,writable:!0,value:y});var v=function(e){function t(){return s(this,t),l(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return c(t,p.Component),i(t,[{key:"shouldComponentUpdate",value:function(t){var o=this;return Object.keys(_.propTypes).some(function(e){return o.props[e]!==t[e]})}},{key:"render",value:function(){var e=this.props,t=e.value,o=e.size,n=e.level,r=e.bgColor,i=e.fgColor,a=d(e,["value","size","level","bgColor","fgColor"]),s=new h(-1,g[n]);s.addData(f(t)),s.make();var l=s.modules;if(null!==l){var c=[];return l.forEach(function(o,n){var r=null;o.forEach(function(e,t){if(!e&&null!==r)return c.push("M".concat(r," ").concat(n,"h").concat(t-r,"v1H").concat(r,"z")),void(r=null);if(t!==o.length-1)e&&null===r&&(r=t);else{if(!e)return;null===r?c.push("M".concat(t,",").concat(n," h1v1H").concat(t,"z")):c.push("M".concat(r,",").concat(n," h").concat(t+1-r,"v1H").concat(r,"z"))}})}),p.createElement("svg",u({shapeRendering:"crispEdges",height:o,width:o,viewBox:"0 0 ".concat(l.length," ").concat(l.length)},a),p.createElement("path",{fill:r,d:"M0,0 h".concat(l.length,"v").concat(l.length,"H0z")}),p.createElement("path",{fill:i,d:c.join("")}))}}}]),t}();Object.defineProperty(v,"defaultProps",{configurable:!0,enumerable:!0,writable:!0,value:m}),Object.defineProperty(v,"propTypes",{configurable:!0,enumerable:!0,writable:!0,value:y});var b=function(e){var t=e.renderAs,o=d(e,["renderAs"]),n="svg"===t?v:_;return p.createElement(n,o)};b.defaultProps=u({renderAs:"canvas"},m),e.exports=b},109:function(e,t,o){"use strict";var n=0;function r(){return Math.pow(2,++n)}t.boolean=r(),t.booleanish=r(),t.overloadedBoolean=r(),t.number=r(),t.spaceSeparated=r(),t.commaSeparated=r(),t.commaOrSpaceSeparated=r()},11:function(e,r,i){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.isSubsequence=function(e,t){var o=0,n=0;for(;n<t.length;){for(;o<e.length&&t[n]!==e[o];)o++;if(o>=e.length)return!1;n++,o++}return!0},r.shallowCopy=function(e){var t={};for(var o in e)t[o]=e[o];return t},r.cloneWithoutFunctions=function(e){return JSON.parse(JSON.stringify(e))},r.quote=function(e){return'"'+e+'"'},r.extend=function(e,t){var o=r.shallowCopy(e);for(var n in t)o[n]=t[n];return o},r.escapeHtml=function(e){return e?e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/\//g,"&#47;"):""},r.mod=function(e,t){return(e%t+t)%t},r.range=function(e,t){for(var o=[],n=e;n<=t;n++)o.push(n);return o},r.executeIfConditional=function(e,t){return function(){if(e())return t.apply(this,arguments)}},r.stripQuotes=function(e){return e.replace(/["']/g,"")},r.wrapNumberValidatorsForLevelBuilder=function(){var t=Blockly.FieldTextInput.nonnegativeIntegerValidator,o=Blockly.FieldTextInput.numberValidator;Blockly.FieldTextInput.nonnegativeIntegerValidator=function(e){return"???"===e?e:t(e)},Blockly.FieldTextInput.numberValidator=function(e){return"???"===e?e:o(e)}},r.randomValue=c,r.randomKey=function(e){return c(Object.keys(e))},r.createUuid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0,o="x"===e?t:3&t|8;return o.toString(16)})},r.fireResizeEvent=function(){var e=document.createEvent("Event");e.initEvent("resize",!0,!0),window.dispatchEvent(e)},r.valueOr=function(e,t){return void 0===e?t:e},r.isInfiniteRecursionError=function(e){if(e instanceof RangeError&&/^Maximum call stack size exceeded/.test(e.message))return!0;if("undefined"!=typeof InternalError&&e instanceof InternalError&&"too much recursion"===e.message)return!0;if(e instanceof Error&&"Out of stack space"===e.message)return!0;return!1},r.unescapeText=function(e){var t=e;return t=(t=(t=(t=(t=(t=t.replace(/(?!^)<div[^>]*>/gi,"\n")).replace(/<[^>]+>/gi,"")).replace(/&nbsp;/gi," ")).replace(/&gt;/gi,">")).replace(/&lt;/gi,"<")).replace(/&amp;/gi,"&")},r.escapeText=function(e){var t=e.toString(),o=(t=(t=(t=(t=t.replace(/&/g,"&amp;")).replace(/</g,"&lt;")).replace(/>/g,"&gt;")).replace(/ {2}/g," &nbsp;")).split("\n"),n=o[0],r=o.slice(1);0===n.length&&1<o.length&&(n="<br>");return n+r.map(function(e){return"<div>"+(e.length?e:"<br>")+"</div>"}).join("")},r.showGenericQtip=u,r.showUnusedBlockQtip=function(e){var t=i(4),o=t.unattachedBlockTipTitle(),n=t.unattachedBlockTipBody();u(e,o,n,{my:"bottom left",at:"top right"})},r.tryGetLocalStorage=function(e,t){if(void 0===t)throw"tryGetLocalStorage requires defaultValue";var o=t;try{o=localStorage.getItem(e)}catch(e){}return o},r.trySetLocalStorage=function(e,t){try{return localStorage.setItem(e,t),!0}catch(e){return!1}},r.tryGetSessionStorage=d,r.trySetSessionStorage=p,r.makeEnum=function(){for(var e,t={},o=0;o<arguments.length;o++){if(e=String(arguments[o]),t[e])throw new Error('Key "'+e+'" occurred twice while constructing enum');t[e]=e}Object.freeze&&Object.freeze(t);return t},r.ellipsify=function(e,t){if(e&&e.length>t)return e.substr(0,t-3)+"...";return e||""},r.deepMergeConcatArrays=function(e,t){return s.default.fromJS(e).mergeWith(function e(t,o){var n=s.default.List.isList;if(n(t)&&n(o))return t.concat(o);if(t&&t.mergeWith)return t.mergeWith(e,o);return o},t).toJS()},r.createEvent=function(t){var o,n=1<arguments.length&&void 0!==arguments[1]&&arguments[1],r=2<arguments.length&&void 0!==arguments[2]&&arguments[2];try{o=new Event(t,{bubbles:n,cancelable:r})}catch(e){(o=document.createEvent("Event")).initEvent(t,n,r)}return o},r.normalize=function(e){var t=Math.sqrt(e.x*e.x+e.y*e.y);return 0!==t?{x:e.x/t,y:e.y/t}:e},r.xFromPosition=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0;switch(e){case n.Position.OUTTOPOUTLEFT:case n.Position.TOPOUTLEFT:case n.Position.MIDDLEOUTLEFT:case n.Position.BOTTOMOUTLEFT:case n.Position.OUTBOTTOMOUTLEFT:return-o;case n.Position.OUTTOPLEFT:case n.Position.TOPLEFT:case n.Position.MIDDLELEFT:case n.Position.BOTTOMLEFT:case n.Position.OUTBOTTOMLEFT:return 0;case n.Position.OUTTOPCENTER:case n.Position.TOPCENTER:case n.Position.MIDDLECENTER:case n.Position.BOTTOMCENTER:case n.Position.OUTBOTTOMCENTER:return(t-o)/2;case n.Position.OUTTOPRIGHT:case n.Position.TOPRIGHT:case n.Position.MIDDLERIGHT:case n.Position.BOTTOMRIGHT:case n.Position.OUTBOTTOMRIGHT:return t-o;case n.Position.OUTTOPOUTRIGHT:case n.Position.TOPOUTRIGHT:case n.Position.MIDDLEOUTRIGHT:case n.Position.BOTTOMOUTRIGHT:case n.Position.OUTBOTTOMOUTRIGHT:return t}},r.yFromPosition=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0;switch(e){case n.Position.OUTTOPOUTLEFT:case n.Position.OUTTOPLEFT:case n.Position.OUTTOPCENTER:case n.Position.OUTTOPRIGHT:case n.Position.OUTTOPOUTRIGHT:return-o;case n.Position.TOPOUTLEFT:case n.Position.TOPLEFT:case n.Position.TOPCENTER:case n.Position.TOPRIGHT:case n.Position.TOPOUTRIGHT:return 0;case n.Position.MIDDLEOUTLEFT:case n.Position.MIDDLELEFT:case n.Position.MIDDLECENTER:case n.Position.MIDDLERIGHT:case n.Position.MIDDLEOUTRIGHT:return(t-o)/2;case n.Position.BOTTOMOUTLEFT:case n.Position.BOTTOMLEFT:case n.Position.BOTTOMCENTER:case n.Position.BOTTOMRIGHT:case n.Position.BOTTOMOUTRIGHT:return t-o;case n.Position.OUTBOTTOMOUTLEFT:case n.Position.OUTBOTTOMLEFT:case n.Position.OUTBOTTOMCENTER:case n.Position.OUTBOTTOMRIGHT:case n.Position.OUTBOTTOMOUTRIGHT:return t}},r.levenshtein=function(e,t){if(!e||!t)return(e||t).length;for(var o=[],n=0;n<=t.length;n++)if(o[n]=[n],0!==n)for(var r=0;r<=e.length;r++)0!==(o[0][r]=r)&&(o[n][r]=t.charAt(n-1)===e.charAt(r-1)?o[n-1][r-1]:Math.min(o[n-1][r-1]+1,o[n][r-1]+1,o[n-1][r]+1));return o[t.length][e.length]},r.bisect=function(e,t){var o=e.filter(function(e){return t(e)}),n=e.filter(function(e){return!t(e)});return[o,n]},r.flatten=function o(e){return e.reduce(function(e,t){return e.concat(Array.isArray(t)?o(t):t)},[])},r.reload=function(){window.location.reload()},r.currentLocation=function(){return window.location},r.windowOpen=function(){var e;return(e=window).open.apply(e,arguments)},r.navigateToHref=function(e){window.location.href=e},r.stringifyQueryParams=function(t){if(!t)return"";var e=Object.keys(t);return e.length?"?"+e.map(function(e){return"".concat(e,"=").concat(t[e])}).join("&"):""},r.resetAniGif=function(e){if(!e)return;var t=e.src;e.src="#",setTimeout(function(){return e.src=t},0)},r.interpolateColors=function(e,t,o){var n=new l.default(e),r=new l.default(t),i=n.r*(1-o)+r.r*o,a=n.g*(1-o)+r.g*o,s=n.b*(1-o)+r.b*o;return"rgb(".concat(i,", ").concat(a,", ").concat(s,")")},r.getTabId=function(){var e=d("tabId",!1);if(e)return e;return p("tabId",Math.random()+""),d("tabId",!1)},r.createHiddenPrintWindow=function(e){(0,t.dataURIFromURI)(e).then(function(e){var t=(0,a.default)('<iframe style="position: absolute; visibility: hidden;"></iframe>');t.appendTo("body"),t[0].contentWindow.document.write('<img src="'.concat(e,'" style="border: 1px solid #000;" onload="if (document.execCommand(\'print\', false, null)) {  } else { window.print(); }"/>'))})},r.calculateOffsetCoordinates=function(e,t,o){var n=e.getBoundingClientRect();return{x:Math.round((t-n.left)*e.offsetWidth/n.width),y:Math.round((o-n.top)*e.offsetHeight/n.height)}},r.escapeRegExp=function(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")};var a=o(i(10)),s=o(i(102)),l=o(i(302)),n=i(37),t=i(199);function o(e){return e&&e.__esModule?e:{default:e}}function c(e){return e[Math.floor(Math.random()*e.length)]}function u(e,t,o,n){(0,a.default)(e).qtip({content:{text:"\n        <h4>".concat(t,"</h4>\n        <p>").concat(o,"</p>\n      "),title:{button:(0,a.default)('<div class="tooltip-x-close"/>')}},position:n,style:{classes:"cdo-qtips",tip:{width:20,height:20}},hide:{event:"unfocus"},show:!1}).qtip("show")}function d(e,t){if(void 0===t)throw"tryGetSessionStorage requires defaultValue";var o=t;try{o=sessionStorage.getItem(e)}catch(e){}return o}function p(e,t){try{return sessionStorage.setItem(e,t),!0}catch(e){if("QuotaExceededError"!==e.name)throw e;return!1}}i(284),Function.prototype.inherits=function(e){this.prototype=Object.create(e.prototype),(this.prototype.constructor=this).superPrototype=e.prototype}},110:function(e,t,o){"use strict";var n=o(239),r=o(241),i=o(244),a=o(245),s=o(248),l=o(446);e.exports=n([i,r,a,s,l])},111:function(e,t,o){"use strict";var i=o(162),a=o(242),s=o(243),l="data";e.exports=function(e,t){var o=i(t),n=t,r=s;if(o in e.normal)return e.property[e.normal[o]];4<o.length&&o.slice(0,4)===l&&c.test(t)&&("-"===t.charAt(4)?n=function(e){var t=e.slice(5).replace(u,h);return l+t.charAt(0).toUpperCase()+t.slice(1)}(t):t=function(e){var t=e.slice(4);if(u.test(t))return e;"-"!==(t=t.replace(d,p)).charAt(0)&&(t="-"+t);return l+t}(t),r=a);return new r(n,t)};var c=/^data[-a-z0-9.:_]+$/i,u=/-[a-z]/g,d=/[A-Z]/g;function p(e){return"-"+e.toLowerCase()}function h(e){return e.charAt(1).toUpperCase()}},112:function(e,t,o){"use strict";var n=0;function r(){return Math.pow(2,++n)}t.boolean=r(),t.booleanish=r(),t.overloadedBoolean=r(),t.number=r(),t.spaceSeparated=r(),t.commaSeparated=r(),t.commaOrSpaceSeparated=r()},114:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e;0;(e=window).trackEvent.apply(e,arguments)},e.exports=t.default},1150:function(e,t){e.exports=function(e){var t,o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:function(){},n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:function(){},r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:5e3,i=4<arguments.length&&void 0!==arguments[4]&&arguments[4];t=i?document.createElement("video"):new Image;var a=!1;function s(e){return function(){a||(a=!0,window.clearTimeout(l),e())}}var l=window.setTimeout(s(n),r);t.onerror=s(n),i?t.ondurationchange=s(o):t.onload=s(o),t.src=e,window.testImages=window.testImages||[],window.testImages.push(t)}},1151:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,r=o(2416),i=(n=r)&&n.__esModule?n:{default:n};var a={fieldName:"property",getColumn:function(e,t){return(0,i.default)(e,{property:t})}};t.default={byIndex:{fieldName:"columnIndex",getColumn:function(e,t){return e[t]}},byProperty:a}},1152:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e},c=r(o(1)),n=r(o(394));function r(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){var i=e.getSortingColumns,t=e.props,a=void 0===t?{}:t,o=e.strategy,s=void 0===o?n.default:o;if(!i)throw new Error("order - Missing getSortingColumns!");return function(e,t){var o=i(),n=o&&o[t[s.fieldName]]||{},r=n.position;return{}.hasOwnProperty.call(n,"position")?c.default.createElement("span",l({className:"sort-order"},a),r+1):null}}},1153:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CP_ACCEL_STREAM_ON=t.CP_COMMAND=t.SONG_CONCLUSION=t.SONG_ASCENDING=t.SONG_LEVEL_COMPLETE=t.SONG_1D=t.SONG_CHARGE=t.BOARD_EVENT_ALIASES=t.COMPONENT_EVENTS=t.BUTTON_VARS=t.SENSOR_VARS=t.J5_CONSTANTS=t.TOUCH_PINS=t.EXTERNAL_PINS=t.N_COLOR_LEDS=void 0;var n,r=(n=o(80))&&n.__esModule?n:{default:n};t.N_COLOR_LEDS=10;t.EXTERNAL_PINS=[0,1,2,3,6,9,10,12];var i=[0,2,3,6,9,10,12];t.TOUCH_PINS=i;t.J5_CONSTANTS={INPUT:0,OUTPUT:1,ANALOG:2,PWM:3,SERVO:4};var a=["soundSensor","lightSensor","tempSensor"];t.SENSOR_VARS=a;t.BUTTON_VARS=["buttonL","buttonR"];var s=i.map(function(e){return"touchPad".concat(e)}),l=["down","up"],c=["change","data"],u=["down","up"],d={buttonL:l,buttonR:l,toggleSwitch:["open","close","change"],accelerometer:["change","data","shake"]};t.COMPONENT_EVENTS=d,a.forEach(function(e){return d[e]=c}),r.default.isEnabled("maker-captouch")&&s.forEach(function(e){return d[e]=u});t.BOARD_EVENT_ALIASES={shake:"tap:single",singleTap:"tap:single",doubleTap:"tap:double"};t.SONG_CHARGE=[["G3",.25],["C4",.25],["E4",.25],["G4",1/8],[null,3/8],["E4",3/16],["G4",1]];t.SONG_1D=["B4",null,"B4",null,"G#4","F#4","E4",null,"E4"];t.SONG_LEVEL_COMPLETE=[["G#4",1/8],[null,1/8],["G#4",1/8],["C#5",.5]];t.SONG_ASCENDING=[["C4",1/3],["D4",1/3],["E4",1/3],["G4",.25],[null,1/12],["C5",1/3],["D5",1/3],["E5",1/3],["G5",.25],[null,1/12],["C6",1/3],["D6",1/3],["E6",1/3],["G6",.25],[null,1/12],["C7",1/16],["G6",1/32],["C7",1/32],["G6",1/32],["C7",1/32],["G6",1/32],["C7",1/32],["G6",1/32],["C7",1/32],["G6",1/32],["C7",1/32],["G6",1/32],["C7",1/32],["G6",1/32],["C7",1/32],["G6",1/32],["C7",1/32],["G6",1/32],["C7",1/32],["G6",1/32],["C7",1/32],["G6",1/32],["C7",1/32],["G6",1/32],["C7",1/32],["G6",1/32],["C7",1/32],["G6",1/32],["C7",1/32],["G6",1/32],["C7",1/32],["G6",1/32],["C7",1/32],["G6",1/32],["C7",1/32]];t.SONG_CONCLUSION=[["C5",.25],["A4",.25],["G4",.5],[null,.25],["A#4",1/32],["G4",1/32],["A#4",1/32],["G4",1/32],["A#4",1/32],["G4",1/32],["A#4",1/32],["G4",1/32],["A#4",1/32],["G4",1/32],["A#4",1/32],["G4",1/32],["A#4",1/32],["G4",1/32],["A#4",1/32],["G4",1/32],["A#4",1/32],["G4",1/32],["A#4",1/32],["G4",1/32],[null,.25],["B4",1/32],["G4",1/32],["B4",1/32],["G4",1/32],["B4",1/32],["G4",1/32],["B4",1/32],["G4",1/32],["B4",1/32],["G4",1/32],["B4",1/32],["G4",1/32],["B4",1/32],["G4",1/32],["B4",1/32],["G4",1/32],["B4",1/32],["G4",1/32],["B4",1/32],["G4",1/32],[null,.25],["C5",1/32],["E4",1/32],["C5",1/32],["E4",1/32],["C5",1/32],["E4",1/32],["C5",1/32],["E4",1/32],["C5",1/32],["E4",1/32],["C5",1/32],["E4",1/32],["C5",1/32],["E4",1/32]];t.CP_COMMAND=64;t.CP_ACCEL_STREAM_ON=58},1156:function(e,t,o){"use strict";o.r(t),o.d(t,"componentTracker",function(){return y}),o.d(t,"loadComponents",function(){return c}),o.d(t,"getState",function(){return u}),o.d(t,"LOADABLE",function(){return f});var n=o(1),d=o.n(n),r=o(708),p=o.n(r),h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e},i={},g=function e(t,o){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,r=o.join("-");return n&&(r+="-"+n),i[r]?e(t,o,n+1):(i[r]=t,r)},a=function(e){return i[e]},s=function(){return h({},i)},l="__LOADABLE_STATE__",f="@@loadable-components/loadable";function c(){if("undefined"==typeof window)return Promise.reject(new Error("loadable-components: `loadComponents` must be called client-side: `window` is undefined"));var e=window[l];return e?function n(e){return e.children?Promise.all(e.children.map(function(e){var t=a(e.id);if(!t)return console.warn("loadable-component client modules:",s()),console.warn("loadable-component server modules:",window[l]),Promise.reject(new Error('loadable-components: module "'+e.id+'" is not found, client and server modules are not sync. You are probably not using the same resolver on server and client.'));var o=t[f];return"function"!=typeof o?Promise.reject(new Error('loadable-components: module "'+e.id+'" is not a loadable component, please verify your SSR setup')):o().load().then(function(){return n(e)})})):Promise.resolve(null)}(e):Promise.reject(new Error("loadable-components state not found. You have a problem server-side. Please verify that you have called `loadableState.getScriptTag()` server-side."))}function u(){var e,n=s(),t=Object.keys(n).reduce(function(e,t){var o=n[t];return o.loadingPromise?[].concat(e,[{id:o.componentId}]):e},[]);return(e={})[l]={children:t},e}var m=function(){return null};var y=Object.freeze({track:g,get:a,getAll:s,reset:function(){i={}}});t.default=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},o=t.ErrorComponent,r=void 0===o?m:o,n=t.LoadingComponent,i=void 0===n?m:n,a=t.render,s=t.modules,l=t.asyncMode,c=function(o){function n(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,o.call(this,e));return t.state={Component:n.Component,error:null,loading:!n.Component},t.mounted=!1,t.loadingPromise=null,"undefined"!=typeof window&&null===t.state.Component&&null===t.loadingPromise&&(t.loadingPromise=n.load().then(function(e){t.safeSetState({Component:e,loading:!1})}).catch(function(e){t.safeSetState({error:e,loading:!1})})),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,o),n.load=function(){return n.loadingPromise||(n.loadingPromise=e().then(function(e){var t,o=function(e){return e.default||e}(e);return n.Component=o,p()(n,o,((t={Component:!0,loadingPromise:!0,load:!0})[f]=!0,t.componentId=!0,t)),o}).catch(function(e){throw n.loadingPromise=null,e})),n.loadingPromise},n.prototype.componentDidMount=function(){this.mounted=!0},n.prototype.componentWillUnmount=function(){this.mounted=!1},n.prototype.safeSetState=function(e){this.mounted&&this.setState(e)},n.prototype.render=function(){var e=this.state,t=e.Component,o=e.error;if("function"==typeof a)return a(h({},this.state,{ownProps:this.props}));if(null!==t)return d.a.createElement(t,this.props);if(null!==o)return d.a.createElement(r,{error:o,ownProps:this.props});if(l)throw this.loadingPromise;return d.a.createElement(i,this.props)},n}(d.a.Component);if(c.Component=null,c.loadingPromise=null,c[f]=function(){return c},s){var u=g(c,s);c.componentId=u}return c}},1157:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(o(0)),r=a(o(1)),i=a(o(93));function a(e){return e&&e.__esModule?e:{default:e}}var s,l,c,u=function(e){function t(){return e.apply(this,arguments)||this}return function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(t,e),t.prototype.render=function(){return r.default.createElement("div",{className:this.props.className,style:this.props.style},r.default.createElement("div",null,r.default.createElement(i.default,{markdown:this.props.i18n.tos})),r.default.createElement("div",null,r.default.createElement(i.default,{markdown:this.props.i18n.contact_us})))},t}(r.default.Component);t.default=u,s=u,l="propTypes",c={i18n:n.default.shape({tos:n.default.string.isRequired,contact_us:n.default.string.isRequired}).isRequired,className:n.default.string,style:n.default.object,textStyle:n.default.object},l in s?Object.defineProperty(s,l,{value:c,enumerable:!0,configurable:!0,writable:!0}):s[l]=c,e.exports=t.default},116:function(e,t,o){"use strict";function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var n=m(o(10)),r=m(o(705)),i=m(o(4)),l=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var t=f();if(t&&t.has(e))return t.get(e);var o={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(o,r,i):o[r]=e[r]}o.default=e,t&&t.set(e,o);return o}(o(11)),s=o(37),c=o(126),u=m(o(62)),d=o(61),p=m(o(80)),h=m(o(1038)),g=o(96);function f(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return f=function(){return e},e}function m(e){return e&&e.__esModule?e:{default:e}}function y(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{},n=Object.keys(Object(o));"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(o).filter(function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable}))),n.forEach(function(e){_(t,e,o[e])})}return t}function _(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function v(e,t){if(null==e)return{};var o,n,r=function(e,t){if(null==e)return{};var o,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)o=i[n],0<=t.indexOf(o)||(r[o]=e[o]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)o=i[n],0<=t.indexOf(o)||Object.prototype.propertyIsEnumerable.call(e,o)&&(r[o]=e[o])}return r}var b,E,T,S=d.AbuseConstants.ABUSE_THRESHOLD,k=!1,C=o(181).create("/v3/assets"),A=o(181).create("/v3/files"),O=o(181).create("/v3/sources"),w=o(181).create("/v3/sources-public"),B=o(181).create("/v3/channels"),I=o(897),R=o(783),N="main.json",P="appModeChanged",L="appInitialized",x="workspaceChange",D=0,M=0,U={START:0,PROJECTS:1,APP:2,CHANNEL_ID:3,ACTION:4},F=!1,H=0,j=9e5,G=0,V=!1,W=!1,z="",q="",K=!1,Y=!1,X=!1,J=!1,Q=!1,$=null,Z={source:null,html:null,makerAPIsEnabled:!1,animations:null,selectedSong:null};function ee(e){Z={source:e.source,html:e.html,animations:e.animations,makerAPIsEnabled:e.makerAPIsEnabled,generatedProperties:e.generatedProperties,selectedSong:e.selectedSong,libraries:e.libraries}}var te=/^(.*\/projects\/\w+\/[\w\d-]+)\/.*/,oe=".metadata/thumbnail.png",ne=e.exports={getCurrentId:function(){if(b)return b.id},getCurrentName:function(){if(b)return b.name},getCurrentLibraryName:function(){if(b)return b.libraryName},getCurrentLibrarySharedClasses:function(){if(b)return b.sharedWith},getCurrentLibraryDescription:function(){if(b)return b.libraryDescription},getUrl:function(){return this.getLocation().href},getLocation:function(){return document.location},getProjectUrl:function(){var e,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",o=this.getUrl().match(te),n=(e=o?o[1]:this.getUrl()).indexOf("#");-1!==n&&(e=e.substring(0,n));var r="",i=e.indexOf("?");if(-1!==i&&(r=e.substring(i),e=e.substring(0,i)),t.startsWith("/"))for(;e.endsWith("/");)e=e.substring(0,e.length-1);return e+t+r},getShareUrl:function(){var e=this.getLocation();if(this.isWebLab()){var t=e.hostname.replace(/([-.]?studio)?\.?code.org/i,""),o=0<t.length?"".concat(t,"."):"",n="localhost"===t?":".concat(e.port):"";return"".concat(e.protocol,"//").concat(o,"codeprojects.org").concat(n,"/").concat(this.getCurrentId())}return e.origin+this.getPathName()},getCurrentTimestamp:function(){if(b)return b.updatedAt},getAbuseScore:function(){return G},getSharingDisabled:function(){return V},useMakerAPIs:function(){return Z.makerAPIsEnabled},md5CurrentSources:function(){var e=Z,t=(e.generatedProperties,v(e,["generatedProperties"]));return(0,r.default)(JSON.stringify(t)).toString()},getCurrentSourceVersionId:function(){return E},disableAutoContentModeration:function(){var e=this;return new Promise(function(t,o){B.update("".concat(e.getCurrentId(),"/disable-content-moderation"),null,function(e){e?o(e):t()})})},enableAutoContentModeration:function(){var e=this;return new Promise(function(t,o){B.update("".concat(e.getCurrentId(),"/enable-content-moderation"),null,function(e){e?o(e):t()})})},adminResetAbuseScore:function(){var o=this.getCurrentId();o&&B.delete(o+"/abuse",function(e,t){if(e)throw e;C.patchAll(o,"abuse_score=0",null,function(e,t){if(e)throw e}),A.patchAll(o,"abuse_score=0",null,function(e,t){if(e)throw e;(0,n.default)(".admin-abuse-score").text(0)})})},isEditable:ue,isFrozen:function(){if(b)return b.frozen},isOwner:function(){return!(!b||!b.isOwner)},isPublished:function(){return!(!b||!b.publishedAt)},hasPrivacyProfanityViolation:function(){return W},privacyProfanityDetailsEnglish:function(){return z},privacyProfanityDetailsIntl:function(){return q},privacyProfanitySecondLanguage:function(){return K},exceedsAbuseThreshold:function(){return S<=G},hideBecausePrivacyViolationOrProfane:function(){return!this.showEvenIfPolicyViolatingOrAbusiveProject()&&this.hasPrivacyProfanityViolation()},hideBecauseAbusive:function(){return!this.showEvenIfPolicyViolatingOrAbusiveProject()&&this.exceedsAbuseThreshold()},showEvenIfPolicyViolatingOrAbusiveProject:function(){if(appOptions.scriptId)return!0;var e=he().action;return(this.isOwner()||appOptions.canResetAbuse)&&("edit"===e||"view"===e)},__TestInterface:{getCurrent:function(){return b},isInitialSaveComplete:function(){return X},isInitialCaptureComplete:function(){return J},setCurrentData:function(e){b=e},setSourceVersionInterval:function(e){j=1e3*e},setCurrentSourceVersionId:function(e){E=e}},isEditing:function(){return Y},isProjectLevel:function(){return appOptions.level&&appOptions.level.isProjectLevel},shouldUpdateHeaders:function(){return!appOptions.isExternalProjectLevel},showProjectHeader:function(){this.shouldUpdateHeaders()&&R.showProjectHeader({showExport:this.shouldShowExport()})},showMinimalProjectHeader:function(){this.shouldUpdateHeaders()&&R.showMinimalProjectHeader()},shouldHideShareAndRemix:function(){return appOptions.level&&appOptions.level.hideShareAndRemix||appOptions.embed&&("applab"===appOptions.app||"gamelab"===appOptions.app||"spritelab"===appOptions.app)},shouldShowExport:function(){var e=appOptions,t=e.level,o=void 0===t?{}:t,n=e.app;return!o.hideShareAndRemix&&("applab"===n||"gamelab"===n)&&p.default.isEnabled("exportExpo")},showHeaderForProjectBacked:function(){this.shouldUpdateHeaders()&&R.showHeaderForProjectBacked({showShareAndRemix:!this.shouldHideShareAndRemix(),showExport:this.shouldShowExport()})},setName:function(e){b=b||{},e&&(b.name=e,this.setTitle(e))},setLibrarySharedClasses:function(e,t){b=b||{},Array.isArray(e)&&(b.sharedWith=e,this.updateChannels_(t))},setLibraryDetails:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};b=b||{};var t=e.libraryName,o=e.libraryDescription,n=e.latestLibraryVersion,r=e.publishing;t!==b.libraryName&&(b.libraryName=t),o!==b.libraryDescription&&(b.libraryDescription=o),n!==b.latestLibraryVersion&&(b.latestLibraryVersion=-1===n?null:n),r?b.publishLibrary=!0:!1===r&&(b.libraryPublishedAt=null,b.publishLibrary=!1),this.updateChannels_()},setTitle:function(e){e&&appOptions.gameDisplayName&&(document.title=e+" - "+appOptions.gameDisplayName)},init:function(e){this.sourceHandler=e,pe()||de()||(this.isProjectLevel()||b?(Z.html&&e.setInitialLevelHtml(Z.html),appOptions.level.makerlabEnabled&&(Z.makerAPIsEnabled=appOptions.level.makerlabEnabled),function(){(0,g.hasQueryParam)("enableMaker")&&(Z.makerAPIsEnabled=!0,(0,g.updateQueryParam)("enableMaker",void 0,!0));(0,g.hasQueryParam)("disableMaker")&&(Z.makerAPIsEnabled=!1,(0,g.updateQueryParam)("disableMaker",void 0,!0))}(),Z.makerAPIsEnabled&&e.setMakerAPIsEnabled(Z.makerAPIsEnabled),Z.selectedSong&&e.setSelectedSong(Z.selectedSong),Z.animations&&e.setInitialAnimationList(Z.animations),Z.libraries&&e.setInitialLibrariesList(Z.libraries),Z.generatedProperties&&e.setInitialGeneratedProperties(Z.generatedProperties),Y?(b?Z.source&&e.setInitialLevelSource(Z.source):this.setName("My Project"),appOptions.level.skipRunSave||(0,n.default)(window).on(P,this.saveIfSourcesChanged.bind(this)),(0,n.default)(window).on(L,function(){this.sourceHandler.getLevelSource(Z.source).then(function(e){Z.source=e})}.bind(this)),(0,n.default)(window).on(x,function(){k=!0}),appOptions.level.skipAutosave||window.setInterval(this.autosave.bind(this),3e4),b.hidden?this.isFrozen()||this.showHeaderForProjectBacked():b.isOwner||!he().channelId?this.showProjectHeader():this.showMinimalProjectHeader()):b&&(this.sourceHandler.setInitialLevelSource(Z.source),this.showMinimalProjectHeader())):appOptions.legacyShareStyle&&this.getStandaloneApp()&&(this.setName("Untitled Project"),this.showMinimalProjectHeader()),appOptions.noPadding&&(0,n.default)(".full_container").css({padding:"0px"}),I(this))},projectChanged:function(){k=!0},hasOwnerChangedProject:function(){return this.isOwner()&&k},getNewProjectName:function(){switch(appOptions.app){case"applab":return i.default.defaultProjectNameAppLab();case"gamelab":return i.default.defaultProjectNameGameLab();case"spritelab":return i.default.defaultProjectNameSpriteLab();case"weblab":return i.default.defaultProjectNameWebLab();case"turtle":switch(appOptions.skinId){case"artist":case"artist_zombie":return i.default.defaultProjectNameArtist();case"anna":case"elsa":return i.default.defaultProjectNameFrozen()}break;case"studio":if(appOptions.level.useContractEditor)return i.default.defaultProjectNameBigGame();switch(appOptions.skinId){case"studio":return i.default.defaultProjectNamePlayLab();case"infinity":return i.default.defaultProjectNameInfinity();case"gumball":return i.default.defaultProjectNameGumball();case"iceage":return i.default.defaultProjectNameIceAge();case"hoc2015":return i.default.defaultProjectNameStarWars()}break;case"craft":return i.default.defaultProjectNameMinecraft();case"flappy":return i.default.defaultProjectNameFlappy();case"bounce":return"sports"===appOptions.skinId?i.default.defaultProjectNameSports():"basketball"===appOptions.skinId?i.default.defaultProjectNameBasketball():i.default.defaultProjectNameBounce();case"dance":return i.default.defaultProjectNameDance()}return i.default.defaultProjectName()},getStandaloneApp:function(){if(appOptions.level&&appOptions.level.projectType)return appOptions.level.projectType;switch(appOptions.app){case"applab":case"calc":case"dance":case"eval":case"flappy":case"scratch":case"weblab":case"gamelab":case"spritelab":return appOptions.app;case"turtle":return"elsa"===appOptions.skinId||"anna"===appOptions.skinId?"frozen":appOptions.level.isK1?"artist_k1":"artist";case"craft":return appOptions.level.isAgentLevel?"minecraft_hero":appOptions.level.isEventLevel?"minecraft_designer":appOptions.level.isConnectionLevel?"minecraft_codebuilder":appOptions.level.isAquaticLevel?"minecraft_aquatic":"minecraft_adventurer";case"studio":return appOptions.level.useContractEditor?"algebra_game":"hoc2015"===appOptions.skinId?appOptions.droplet?"starwars":"starwarsblocks_hour":"iceage"===appOptions.skinId?"iceage":"infinity"===appOptions.skinId?"infinity":"gumball"===appOptions.skinId?"gumball":appOptions.level.isK1?"playlab_k1":"playlab";case"bounce":return"sports"===appOptions.skinId?"sports":"basketball"===appOptions.skinId?"basketball":"bounce";default:return null}},isWebLab:function(){return"weblab"===this.getStandaloneApp()},canServerSideRemix:function(){return!b.isOwner||!["artist","playlab"].includes(ne.getStandaloneApp())},isSupportedLevelType:function(){return!!this.getStandaloneApp()},useSourcesApi:function(){return"weblab"!==this.getStandaloneApp()},appToProjectUrl:function(){var e=ne.getStandaloneApp();if(!e)throw new Error("This type of project cannot be run as a standalone app.");return"/projects/"+e},clearHtml:function(){Z.html=""},saveIfSourcesChanged:function(){var o=this;return ue()?new Promise(function(t){o.getUpdatedSourceAndHtml_(function(e){JSON.stringify(Z)!==JSON.stringify(e)||Q?(Q=!1,o.saveSourceAndHtml_(e,t)):t()})}):Promise.resolve()},save:function(t,r){var i=this;if(!ue())return Promise.resolve();var e=function(){return new Promise(function(o,n){return i.getUpdatedSourceAndHtml_(function(e){return i.saveSourceAndHtml_(e,function(e,t){return e?n(e):o()},t,r)})})};return r?this.sourceHandler.prepareForRemix().then(e):e()},saveSourceAndHtml_:function(e,o,t,n){if(ue()){R.showProjectSaving(),H+j<Date.now()&&(t=!0),t&&(H=Date.now(),F=!1);var r=b.id;if(Z.html&&!e.html)throw new Error("Attempting to blow away existing levelHtml");if(this.getStandaloneApp()&&(b.level=this.appToProjectUrl(),b.projectType=this.getStandaloneApp()),$){var i=$;$=null,this.saveThumbnail(i)}if(ee(e),this.useSourcesApi()){var a="";E&&!n&&(a="?currentVersion=".concat(E)+"&replace=".concat(!!F)+"&firstSaveTimestamp=".concat(encodeURIComponent(T))+"&tabId=".concat(l.getTabId()));var s=N+a;O.put(r,JSON.stringify(Z),s,function(e,t){if(e)if(e.message.includes("httpStatusCode: 401"))this.showSaveError_("unauthorized-save-sources-reload",M,e.message),l.reload();else{if(!e.message.includes("httpStatusCode: 409"))return M++,this.showSaveError_("save-sources-error",M,e.message),void(3<=M&&R.showTryAgainDialog());this.showSaveError_("conflict-save-sources-reload",M,e.message),l.reload()}else 0<M&&this.logError_("sources-saved-after-errors",M,"sources saved after ".concat(M," consecutive failures"));M=0,T||(T=t.timestamp),E=t.versionId,F=!0,b.migratedToS3=!0,this.updateChannels_(o)}.bind(this))}else this.updateChannels_(o)}},saveSelectedSong:function(e){return this.sourceHandler.setSelectedSong(e),this.save()},updateChannels_:function(o){B.update(b.id,b,function(e,t){X=!0,this.updateCurrentData_(e,t,!1),ce(o,e,t)}.bind(this))},getSourceForChannel:function(n,r){B.fetch(n,function(e,t){if(e)ce(r,null);else{var o=n+"/"+N;O.fetch(o,function(e,t){ce(r,e?null:t.source)})}})},createNewChannelFromSource:function(t,n){B.create({name:"New Project"},function(e,o){O.put(o.id,JSON.stringify({source:t}),N,function(e,t){o.migratedToS3=!0,B.update(o.id,o,function(e,t){ce(n,t)})})})},getUpdatedSourceAndHtml_:function(s){var l=this;this.sourceHandler.getAnimationList(function(a){return l.sourceHandler.getLevelSource().then(function(e){var t=l.sourceHandler.getLevelHtml(),o=l.sourceHandler.getMakerAPIsEnabled(),n=l.sourceHandler.getSelectedSong(),r=l.sourceHandler.getGeneratedProperties(),i=l.sourceHandler.getLibrariesList();s({source:e,html:t,animations:a,makerAPIsEnabled:o,selectedSong:n,generatedProperties:r,libraries:i})})})},getSelectedSong:function(){return Z.selectedSong},getGeneratedProperties:function(){return Z.generatedProperties},toggleMakerEnabled:function(){var o=this;return new Promise(function(t){o.getUpdatedSourceAndHtml_(function(e){o.saveSourceAndHtml_(y({},e,{makerAPIsEnabled:!e.makerAPIsEnabled}),function(){t(),l.reload()})})})},setProjectLibraries:function(o){var n=this;return appOptions.level.editBlocks&&(Z.libraries=o).forEach(function(e){e.fromLevelbuilder=!0}),new Promise(function(t){n.getUpdatedSourceAndHtml_(function(e){n.saveSourceAndHtml_(y({},e,{libraries:o}),function(){t(),l.reload()})})})},getProjectLibraries:function(){var e=appOptions.level.startLibraries;return Z.libraries||e&&JSON.parse(e)},getLevelName:function(){var e=b&&b.name;return e=e||appOptions.level.name},showSaveError_:function(e,t,o){R.showProjectSaveError(),this.logError_(e,t,o)},logError_:function(e,t,o){var n=this.getStandaloneApp()?this.getShareUrl():"";u.default.putRecord({study:"project-data-integrity",study_group:"v4",event:e,data_int:t,project_id:b&&b.id+"",data_string:o,data_json:JSON.stringify({errorCount:t,errorText:o,isOwner:this.isOwner(),currentUrl:window.location.href,shareUrl:n,currentSourceVersionId:E})},{includeUserId:!0})},updateCurrentData_:function(e,t){var o=(2<arguments.length&&void 0!==arguments[2]?arguments[2]:{}).shouldNavigate;if(e)return D++,this.showSaveError_("save-channel-error",D,e+""),void(3<=D&&R.showTryAgainDialog());D&&this.logError_("channel-saved-after-errors",D,"channel save succeeded after ".concat(D," consecutive failures")),D=0,R.hideTryAgainDialog(),b=b||{},Object.assign(b,t),o&&(Y&&he().appName?window.history.pushState&&window.history.pushState(null,document.title,this.getPathName("edit")):location.href=this.getPathName("edit")),R.updateTimestamp()},autosave:function(e){var t=this,o=function(){e&&e()};null!==Z.source&&(appOptions.droplet||k)&&0===(0,n.default)("#designModeViz .ui-draggable-dragging").length?this.getUpdatedSourceAndHtml_(function(e){if(JSON.stringify(Z)===JSON.stringify(e))return k=!1,void o();t.saveSourceAndHtml_(e,function(){k=!1,o()})}):o()},rename:function(e){return this.setName(e),this.save().catch(function(e){if(e.responseText){var t=JSON.parse(e.responseText);throw new h.default(t.nameFailure)}throw new Error("Unknown error")})},freeze:function(e){b&&b.isOwner&&(b.frozen=!0,b.hidden=!0,this.updateChannels_(e))},unfreeze:function(e){b&&b.isOwner&&(b.frozen=!1,b.hidden=!1,this.updateChannels_(e))},copy:function(e){var r=this,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},t=i.shouldPublish,a=(b=b||{}).id?{parent:b.id}:null;return delete b.id,delete b.hidden,delete b.libraryName,delete b.libraryDescription,b.projectType=this.getStandaloneApp(),t&&(b.shouldPublish=!0),this.setName(e),new Promise(function(o,n){B.create(b,function(e,t){r.updateCurrentData_(e,t,i),e?n(e):o()},a)}).then(function(){return r.save(!1,!0)})},copyAssets:function(e,t){if(e){var o=b.id;C.copyAll(e,o,function(e){e?R.showProjectSaveError():ce(t)})}else ce(t)},copyAnimations:function(e,t){ce(t)},serverSideRemix:function(){var t,o;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(o=function(){l.navigateToHref("".concat(ne.getPathName("remix")))},b&&!b.name&&(t=ne.appToProjectUrl(),this.setName("/projects/algebra_game"===t?"Big Game Template":"My Project")),b.isOwner)return e.next=5,regeneratorRuntime.awrap(ne.save(!1,!0).then(o));e.next=7;break;case 5:e.next=8;break;case 7:o();case 8:case"end":return e.stop()}},null,this)},createNew:function(){var e="".concat(ne.appToProjectUrl(),"/new");ne.save().then(function(){location.href=e})},delete:function(o){var e=b.id;B.delete(e,function(e,t){ce(o,t)})},load:function(){return ne.isProjectLevel()?pe()||de()?Promise.resolve():this.loadStandaloneProject_():appOptions.channel?this.loadProjectBackedLevel_():Promise.resolve()},loadStandaloneProject_:function(){var e=this,t=he();return t.channelId?("edit"===t.action?Y=!0:(0,n.default)("#betainfo").hide(),this.fetchChannel(t.channelId).catch(function(e){if(e.message.includes("error: Not Found")){var t=l.currentLocation().pathname.split("/").slice(U.START,U.APP+1).join("/");l.navigateToHref(t)}return Promise.reject(e)}).then(this.fetchSource.bind(this)).then(function(){return b.isOwner&&"view"===t.action&&(Y=!0),le(e)})):(Y=!0,Promise.resolve())},loadProjectBackedLevel_:function(){var e=this;return Y=!0,this.fetchChannel(appOptions.channel).then(this.fetchSource.bind(this)).then(function(){return ne.showHeaderForProjectBacked(),le(e)})},getPathName:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.getCurrentId(),o=this.appToProjectUrl()+"/"+t;return e&&(o+="/"+e),o},getThumbnailUrl:function(){return b&&b.thumbnailUrl},setThumbnailUrl:function(){b.thumbnailUrl="/v3/files/".concat(b.id,"/").concat(oe),Q=!0},setThumbnailPngBlob:function(e){e&&($=e,ne.setThumbnailUrl())},saveThumbnail:function(o){return o?b?b.isOwner?new Promise(function(e,t){c.files.putFile(oe,o,function(){ne.setThumbnailUrl(),J||(J=!0),e()},function(e){t("error saving thumbnail image: ".concat(e))})}):Promise.reject("Project not owned by current user."):Promise.reject("Project not initialized."):Promise.reject("PNG blob required.")},setPublishedAt:function(e){(b=b||{}).publishedAt=e},fetchChannel:function(e){var t=this;return new Promise(function(o,n){B.fetch(e,function(e,t){return e?n(e):o(t)})}).catch(function(e){return t.logError_("load-channel-error",null,"unable to fetch project channel: ".concat(e)),Promise.reject(e)})},fetchSource:function(e){var t=this;delete e.levelSource,delete e.levelHtml,delete e.html,b=e,ne.setTitle(b.name);var o=this.getSourcesApi_();if(o&&e.migratedToS3){var i=b.id+"/"+N,n=(0,g.queryParams)("version");return n&&(i+="?version="+n),new Promise(function(n,r){o.fetch(i,function(e,t,o){return e?r(e):n({data:t,jqXHR:o})})}).catch(function(e){return t.logError_("load-sources-error",null,"unable to fetch project source file: ".concat(e)),Promise.reject(e)}).then(function(e){var t=e.data,o=e.jqXHR;E=o&&o.getResponseHeader("S3-Version-Id"),ee(t)})}return Promise.resolve()},getSourcesApi_:function(){var e,t=appOptions.share&&appOptions.level&&"dance"===appOptions.level.projectType;return this.useSourcesApi()&&(e=t?w:O),e}};function re(o){B.fetch(b.id+"/abuse",function(e,t){if(G=t&&t.abuse_score||G,o(),e)throw e})}function ie(o){B.fetch(b.id+"/sharing_disabled",function(e,t){if(V=t&&t.sharing_disabled||V,o(),e)throw e})}function ae(o){B.fetch(b.id+"/share-failure",function(e,t){if(z=t&&t.share_failure&&t.share_failure.content?t.share_failure.content:z,q=t&&t.intl_share_failure&&t.intl_share_failure.content?t.intl_share_failure.content:q,K=t&&t.language?t.language:K,o(),e)throw e})}function se(o){B.fetch(b.id+"/privacy-profanity",function(e,t){if(W=t&&!!t.has_violation||W,o(),e)throw e})}function le(e){var t=[new Promise(re),new Promise(ae)];return"playlab"===e.getStandaloneApp()?t.push(new Promise(se)):("applab"===e.getStandaloneApp()||"gamelab"===e.getStandaloneApp()||e.isWebLab())&&t.push(new Promise(ie)),Promise.all(t)}function ce(e){if("function"==typeof e){for(var t=arguments.length,o=new Array(1<t?t-1:0),n=1;n<t;n++)o[n-1]=arguments[n];e.apply(void 0,o)}}function ue(){return b&&b.isOwner&&!b.frozen&&!(0,g.queryParams)("version")}function de(){var e,t=he();if(t.action&&b)return"view"===t.action&&ue()?(e=location.href.replace(/(\/projects\/[^/]+\/[^/]+)\/view/,"$1/edit"),appOptions.readonlyWorkspace=!1,Y=!0):"edit"!==t.action||ue()||(e=location.href.replace(/(\/projects\/[^/]+\/[^/]+)\/edit/,"$1/view"),appOptions.readonlyWorkspace=!0,Y=!1),e&&e!==location.href&&window.history.pushState&&window.history.pushState({modified:!0},document.title,e),!1}function pe(){var e=location.href.replace("#","/");return e!==location.href&&(location.href=e,!0)}function he(){var e=l.currentLocation().pathname;l.currentLocation().hash&&(e+=l.currentLocation().hash.replace("#","/"));var t=e.split("/");if("p"!==t[U.PROJECTS]&&"projects"!==t[U.PROJECTS])return{appName:null,channelId:null,action:null};var o=t[U.CHANNEL_ID];return 0<=l.currentLocation().search.indexOf("nosource")&&(o=o.split("").map(function(e){return s.ALPHABET[s.CIPHER.indexOf(e)]||e}).join("")),{appName:t[U.APP],channelId:o,action:t[U.ACTION]}}},1166:function(e,t,o){"use strict";function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.UnconnectedVisualizationResizeBar=t.RESIZE_VISUALIZATION_EVENT=void 0;var n=u(o(0)),i=u(o(1)),r=o(9),s=u(o(268)),l=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var t=c();if(t&&t.has(e))return t.get(e);var o={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(o,r,i):o[r]=e[r]}o.default=e,t&&t.set(e,o);return o}(o(127));function c(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return c=function(){return e},e}function u(e){return e&&e.__esModule?e:{default:e}}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var h="mouseup",g=l.getTouchEventName(h),f="mousemove",m=l.getTouchEventName(f),y="resize-visualization-event";t.RESIZE_VISUALIZATION_EVENT=y;var _=function(r){function e(){for(var n,e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];return p(d(n=r.call.apply(r,[this].concat(t))||this),"isMouseMoveBound",!1),p(d(n),"removeMouseDownTouchEvent",null),p(d(n),"onMouseDown",function(e){n.isMouseMoveBound||(document.body.addEventListener(f,n.onMouseMove),m&&document.body.addEventListener(m,n.onMouseMove),n.isMouseMoveBound=!0,e.preventDefault())}),p(d(n),"onMouseUp",function(){n.isMouseMoveBound&&(document.body.removeEventListener(f,n.onMouseMove),m&&document.body.removeEventListener(m,n.onMouseMove),n.isMouseMoveBound=!1)}),p(d(n),"onMouseMove",function(e){var t,o=n.domElement.getBoundingClientRect();!function(e){var t=document.createEvent("CustomEvent");t.initCustomEvent(y,!0,!0,e),window.dispatchEvent(t)}(n.props.isRtl?(t=window.innerWidth-(window.pageXOffset+o.left+o.width/2)-parseInt(window.getComputedStyle(n.domElement).right,10),window.innerWidth-e.pageX-t):(t=window.pageXOffset+o.left+o.width/2-parseInt(window.getComputedStyle(n.domElement).left,10),e.pageX-t))}),n}!function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(e,r);var t=e.prototype;return t.componentDidMount=function(){this.removeMouseDownTouchEvent=l.addMouseDownTouchEvent(this.domElement,this.onMouseDown),document.body.addEventListener(h,this.onMouseUp),g&&document.body.addEventListener(g,this.onMouseUp)},t.componentWillUnmount=function(){this.onMouseUp(),this.removeMouseDownTouchEvent(),this.removeMouseDownTouchEvent=null,document.body.removeEventListener(h,this.onMouseUp),g&&document.body.removeEventListener(g,this.onMouseUp)},t.render=function(){var t=this;return i.default.createElement("div",{id:"visualizationResizeBar",className:"fa fa-ellipsis-v",style:function(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{},n=Object.keys(Object(o));"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(o).filter(function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable}))),n.forEach(function(e){p(t,e,o[e])})}return t}({},this.props.hidden&&s.default.hidden),ref:function(e){return t.domElement=e}})},e}(i.default.Component);p(_,"propTypes",{hidden:n.default.bool,isRtl:n.default.bool});var v=_;t.UnconnectedVisualizationResizeBar=v;var b=(0,r.connect)(function(e){return{hidden:e.pageConstants.widgetMode||e.pageConstants.noVisualization||e.pageConstants.hideSource&&!e.pageConstants.isResponsive,isRtl:e.pageConstants.isRtl}})(_);t.default=b},1168:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.setupApp=setupApp,exports.setAppOptions=setAppOptions,exports.getAppOptions=getAppOptions,exports.default=loadAppOptions;var _jquery=_interopRequireDefault(__webpack_require__(10)),_react=_interopRequireDefault(__webpack_require__(1)),_reactDom=_interopRequireDefault(__webpack_require__(8)),_constants=__webpack_require__(37),_redux=__webpack_require__(596),_progressRedux=__webpack_require__(95),_currentUserRedux=__webpack_require__(309),_verifiedTeacherRedux=__webpack_require__(348),_clientApi=__webpack_require__(126),_getScriptData=_interopRequireDefault(__webpack_require__(288)),_playzone=_interopRequireDefault(__webpack_require__(2566)),_codeStudioLevels=__webpack_require__(474),_queryString=_interopRequireDefault(__webpack_require__(86)),imageUtils=_interopRequireWildcard(__webpack_require__(199)),_trackEvent=_interopRequireDefault(__webpack_require__(114)),_locale=_interopRequireDefault(__webpack_require__(4));function _getRequireWildcardCache(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return _getRequireWildcardCache=function(){return e},e}function _interopRequireWildcard(e){if(e&&e.__esModule)return e;if(null===e||"object"!==_typeof(e)&&"function"!=typeof e)return{default:e};var t=_getRequireWildcardCache();if(t&&t.has(e))return t.get(e);var o={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(o,r,i):o[r]=e[r]}return o.default=e,t&&t.set(e,o),o}function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var renderAbusive=__webpack_require__(3163),userAgentParser=__webpack_require__(1635),progress=__webpack_require__(855),clientState=__webpack_require__(347),timing=__webpack_require__(3165),chrome34Fix=__webpack_require__(3166),project=__webpack_require__(116),createCallouts=__webpack_require__(784).default,reporting=__webpack_require__(1580),LegacyDialog=__webpack_require__(622),showVideoDialog=__webpack_require__(1246).showVideoDialog,LAST_ATTEMPT_TIMEOUT=5e3,SHARE_IMAGE_NAME="_share_image.png";function mergeProgressData(t,o){(0,_redux.getStore)().dispatch((0,_progressRedux.mergeProgress)(o)),Object.keys(o).forEach(function(e){clientState.trackProgress(null,null,o[e],t,e)})}function setupApp(appOptions){if(!window.dashboard)throw new Error("Assume existence of window.dashboard");var lastSavedProgram;timing.startTiming("Puzzle",window.script_path,""),appOptions.hasContainedLevels&&(appOptions.readonlyWorkspace&&(0,_codeStudioLevels.lockContainedLevelAnswers)(),appOptions.level.edit_blocks||(appOptions.readonlyWorkspace=!0));var baseOptions={containerId:"codeApp",position:{blockYCoordinateInterval:25},onInitialize:function(){createCallouts(this.level.callouts||this.callouts),userAgentParser.isChrome34()&&chrome34Fix.fixup(),(appOptions.level.projectTemplateLevelName||"applab"===appOptions.app||"gamelab"===appOptions.app||"spritelab"===appOptions.app||"weblab"===appOptions.app)&&((0,_jquery.default)("#clear-puzzle-header").hide(),project.isEditable()&&(0,_jquery.default)("#versions-header").show()),(0,_jquery.default)(document).trigger("appInitialized")},onAttempt:function(e){if(appOptions.level.isProjectLevel&&!appOptions.level.edit_blocks)return tryToUploadShareImageToS3({image:e.image,level:appOptions.level});if(!appOptions.channel||appOptions.level.edit_blocks||appOptions.hasContainedLevels){if(e.testResult!==_constants.TestResults.SKIPPED){lastSavedProgram=decodeURIComponent(e.program);var t=appOptions.hasContainedLevels&&!appOptions.level.edit_blocks?(0,_codeStudioLevels.getContainedLevelId)():appOptions.serverProjectLevelId||appOptions.serverLevelId;clientState.writeSourceForLevel(appOptions.scriptName,t,+new Date,lastSavedProgram)}}else delete e.program,delete e.image;if(appOptions.level.edit_blocks||!appOptions.hasContainedLevels){if(appOptions.hasContainedLevels){var o=Blockly.Xml.blockSpaceToDom(Blockly.mainBlockSpace);e.program=Blockly.Xml.domToText(o)}e.callback=appOptions.report.callback}(0,_trackEvent.default)("Activity","Lines of Code",window.script_path,e.lines),e.fallbackResponse=appOptions.report.fallback_response,(0,_trackEvent.default)("Puzzle","Attempt",window.script_path,e.pass?1:0),e.pass&&((0,_trackEvent.default)("Puzzle","Success",window.script_path,e.attempt),timing.stopTiming("Puzzle",window.script_path,"")),reporting.sendReport(e)},onComplete:function(e){appOptions.channel||appOptions.hasContainedLevels||clientState.writeSourceForLevel(appOptions.scriptName,appOptions.serverProjectLevelId||appOptions.serverLevelId,e.timestamp,lastSavedProgram)},onResetPressed:function(){reporting.cancelReport()},onContinue:function(){var e=reporting.getLastServerResponse();if(e.videoInfo)showVideoDialog(e.videoInfo);else if(e.endOfStageExperience){var t=document.createElement("div"),o=e.previousStageInfo,n="".concat(_locale.default.stage()," ").concat(o.position,": ").concat(o.name);_reactDom.default.render(_react.default.createElement(_playzone.default,{stageName:n,onContinue:function(){r.hide()}}),t);var r=new LegacyDialog({body:t,width:800,redirect:e.nextRedirect});r.show()}else e.nextRedirect&&(window.location.href=e.nextRedirect)},showInstructionsWrapper:function(e){if(!this.share&&!appOptions.level.skipInstructionsPopup){var t=e;appOptions.level.afterVideoBeforeInstructionsFn&&(t=function(){appOptions.level.afterVideoBeforeInstructionsFn(e)});var o=!!appOptions.autoplayVideo,n=!(!appOptions.level.shortInstructions&&!appOptions.level.aniGifURL),r=!!_queryString.default.parse(location.search).noautoplay;o&&!r?(n&&(appOptions.autoplayVideo.onClose=t),showVideoDialog(appOptions.autoplayVideo)):(o&&r&&clientState.recordVideoSeen(appOptions.autoplayVideo.key),n&&t())}}};_jquery.default.extend(!0,appOptions,baseOptions),function fixUpFunctions(node){if("object"===_typeof(node))for(var i in node)if(/^fn_/.test(i))try{node[i.replace(/^fn_/,"")]=eval("("+node[i]+")")}catch(e){}else fixUpFunctions(node[i])}(appOptions.level),appOptions.noPadding=userAgentParser.isMobile()}function tryToUploadShareImageToS3(e){var t=e.image;if(!e.level.disableSharing&&t){var o="data:image/png;base64,".concat(decodeURIComponent(t));imageUtils.dataURIToFramedBlob(o,function(e){_clientApi.files.putFile(SHARE_IMAGE_NAME,e)})}}function loadProjectAndCheckAbuse(o){return new Promise(function(e,t){project.load().then(function(){project.hideBecauseAbusive()?renderAbusive(project,_locale.default.tosLong({url:"http://code.org/tos"})):project.hideBecausePrivacyViolationOrProfane()?renderAbusive(project,_locale.default.policyViolation()):project.getSharingDisabled()?renderAbusive(project,_locale.default.sharingDisabled()):e(o)})})}function loadAppAsync(c){setupApp(c);var e="true"===clientState.queryParams("solution"),t=!!clientState.queryParams("user_id");return c.share&&!window.navigator.standalone&&userAgentParser.isSafari()&&window.addEventListener("load",function(){return addToHome.show(!0)},!1),e?Promise.resolve(c):c.channel||t?loadProjectAndCheckAbuse(c):new Promise(function(a,e){var s=!1,l=function(){s||(s=!0,c.level.lastAttempt=clientState.sourceForLevel(c.scriptName,c.serverProjectLevelId||c.serverLevelId),a(c))};c.publicCaching&&(c.disableSocialShare=!0),_jquery.default.ajax("/api/user_progress"+"/".concat(c.scriptName)+"/".concat(c.stagePosition)+"/".concat(c.levelPosition)+"/".concat(c.serverLevelId)).done(function(e){c.disableSocialShare=e.disableSocialShare;var t=e.progress||{};if(mergeProgressData(c.scriptName,t),!s){if(e.lastAttempt){s=!0;var o=e.lastAttempt.timestamp,n=e.lastAttempt.source,r=clientState.sourceForLevel(c.scriptName,c.serverLevelId,o);void 0!==r?c.level.lastAttempt=r:n&&n.length&&(c.level.lastAttempt=n,clientState.writeSourceForLevel(c.scriptName,c.serverLevelId,o,n)),a(c)}else l();e.pairingDriver&&(c.level.pairingDriver=e.pairingDriver,c.level.pairingAttempt=e.pairingAttempt,c.level.pairingChannelId=e.pairingChannelId)}var i=(0,_redux.getStore)();i.getState().currentUser.signInState===_currentUserRedux.SignInState.SignedIn&&progress.showDisabledBubblesAlert(),e.isVerifiedTeacher&&i.dispatch((0,_verifiedTeacherRedux.setVerified)())}).fail(l),setTimeout(l,LAST_ATTEMPT_TIMEOUT)})}window.dashboard=window.dashboard||{};var sourceHandler={setMakerAPIsEnabled:function(e){getAppOptions().level.makerlabEnabled=e},getMakerAPIsEnabled:function(){return getAppOptions().level.makerlabEnabled},setSelectedSong:function(e){getAppOptions().level.selectedSong=e},getSelectedSong:function(){return getAppOptions().level.selectedSong},setInitialLevelHtml:function(e){getAppOptions().level.levelHtml=e},getLevelHtml:function(){return window.Applab&&Applab.getHtml()},setInitialLibrariesList:function(e){getAppOptions().level.libraries=e},getLibrariesList:function(){return getAppOptions().level.libraries},setInitialLevelSource:function(e){getAppOptions().level.lastAttempt=e},getLevelSource:function(r){return new Promise(function(t,e){var o,n=getAppOptions();n.level&&n.level.scratch?t(n.getCode()):window.Blockly?(o=Blockly.mainBlockSpace.isReadOnly()?r:Blockly.Xml.domToText(Blockly.Xml.blockSpaceToDom(Blockly.mainBlockSpace)),t(o)):n.getCode?(o=n.getCode(),t(o)):n.getCodeAsync&&n.getCodeAsync().then(function(e){t(e)})})},setInitialAnimationList:function(e){getAppOptions().initialAnimationList=e},getAnimationList:function(e){getAppOptions().getAnimationList?getAppOptions().getAnimationList(e):e({})},setInitialGeneratedProperties:function(e){getAppOptions().initialGeneratedProperties=e},getGeneratedProperties:function(){var e=getAppOptions().getGeneratedProperties;return e&&e()},prepareForRemix:function(){var e=getAppOptions().prepareForRemix;return e?e():Promise.resolve()}},APP_OPTIONS;function setAppOptions(e){(APP_OPTIONS=e).nonGlobal||(window.appOptions=e)}function getAppOptions(){if(!APP_OPTIONS)throw new Error("App Options have not been loaded yet! Did you forget to call loadAppOptions()?");return APP_OPTIONS}function loadAppOptions(){return new Promise(function(t,o){try{setAppOptions((0,_getScriptData.default)("appoptions"))}catch(e){return void o(e)}var e=getAppOptions();e.embedded?t(e):loadAppAsync(e).then(function(e){project.init(sourceHandler),t(e)})})}},12:function(e,t){function o(e){if(e&&"object"==typeof e){var t=e.which||e.keyCode||e.charCode;t&&(e=t)}if("number"==typeof e)return a[e];var o,n=String(e);return(o=r[n.toLowerCase()])?o:(o=i[n.toLowerCase()])||(1===n.length?n.charCodeAt(0):void 0)}o.isEventKey=function(e,t){if(e&&"object"==typeof e){var o=e.which||e.keyCode||e.charCode;if(null==o)return!1;if("string"==typeof t){var n;if(n=r[t.toLowerCase()])return n===o;if(n=i[t.toLowerCase()])return n===o}else if("number"==typeof t)return t===o;return!1}};var r=(t=e.exports=o).code=t.codes={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,"pause/break":19,"caps lock":20,esc:27,space:32,"page up":33,"page down":34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,delete:46,command:91,"left command":91,"right command":93,"numpad *":106,"numpad +":107,"numpad -":109,"numpad .":110,"numpad /":111,"num lock":144,"scroll lock":145,"my computer":182,"my calculator":183,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},i=t.aliases={windows:91,"⇧":16,"⌥":18,"⌃":17,"⌘":91,ctl:17,control:17,option:18,pause:19,break:19,caps:20,return:13,escape:27,spc:32,spacebar:32,pgup:33,pgdn:34,ins:45,del:46,cmd:91};
/*!
 * Programatically add the following
 */
for(n=97;n<123;n++)r[String.fromCharCode(n)]=n-32;for(var n=48;n<58;n++)r[n-48]=n;for(n=1;n<13;n++)r["f"+n]=n+111;for(n=0;n<10;n++)r["numpad "+n]=n+96;var a=t.names=t.title={};for(n in r)a[r[n]]=n;for(var s in i)r[s]=i[s]},1203:function(e,t,o){"use strict";t.__esModule=!0,t.default={noWobble:{stiffness:170,damping:26},gentle:{stiffness:120,damping:14},wobbly:{stiffness:180,damping:12},stiff:{stiffness:210,damping:20}},e.exports=t.default},1204:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=i(o(10)),n=i(o(0)),r=i(o(1)),u=i(o(114));function i(e){return e&&e.__esModule?e:{default:e}}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function a(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var s="invalidVal",p="canSubmit",h="sending",g="sent",f="error";var l={label:{},div:{}},m=function(n){function e(){for(var l,e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];return a(d(l=n.call.apply(n,[this].concat(t))||this),"state",{sendState:s}),a(d(l),"handleSubmit",function(){var e=l.props,t=e.appType,o=e.channelId,n=e.isLegacyShare,r=e.downloadUrl;if(l.state.sendState===p){var i=l.refs.phone;l.setState({sendState:h});var a={type:t,phone:(0,c.default)(i).val()};n?a.level_source=+location.pathname.split("/")[2]:r?a.url=r:a.channel_id=o;var s=r?"/sms/send_download":"/sms/send";c.default.post(s,c.default.param(a)).done(function(){this.setState({sendState:g}),(0,u.default)("SendToPhone","success")}.bind(d(l))).fail(function(){this.setState({sendState:f}),(0,u.default)("SendToPhone","error")}.bind(d(l)))}}),l}!function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(e,n);var t=e.prototype;return t.componentDidMount=function(){this.maskPhoneInput()},t.maskPhoneInput=function(){if(this.refs.phone){var e=this.refs.phone;(0,c.default)(e).mask("(000) 000-0000",{onComplete:function(){this.setState({sendState:p})}.bind(this),onChange:function(){this.setState({sendState:s})}.bind(this)}),e.focus()}},t.render=function(){var e=function(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{},n=Object.keys(Object(o));"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(o).filter(function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable}))),n.forEach(function(e){a(t,e,o[e])})}return t}({},l,this.props.styles);return r.default.createElement("div",null,r.default.createElement("label",{style:e.label,htmlFor:"phone"},"Enter a US phone number:"),r.default.createElement("input",{type:"text",ref:"phone",name:"phone",style:{height:32,margin:0},disabled:this.state.sendState!==s&&this.state.sendState!==p}),r.default.createElement("button",{type:"button",disabled:this.state.sendState===s,onClick:this.handleSubmit},function(e){switch(e){case s:case p:return"Send";case h:return"Sending...";case g:return"Sent!";case f:return"Error!";default:throw new Error("unexpected")}}(this.state.sendState)),r.default.createElement("div",{style:e.div},"A text message will be sent via ",r.default.createElement("a",{href:"http://twilio.com"},"Twilio"),". Charges may apply to the recipient."))},e}(r.default.Component);a(t.default=m,"propTypes",{isLegacyShare:n.default.bool.isRequired,channelId:n.default.string,downloadUrl:n.default.string,appType:n.default.string.isRequired,styles:n.default.shape({label:n.default.object,div:n.default.object})}),window.dashboard=window.dashboard||{},window.dashboard.SendToPhone=m,e.exports=t.default},1215:function(e,t){e.exports={toUnsigned:function(e){return e>>>0},toHexString:function(e){return("00"+e.toString(16)).slice(-2)}}},1216:function(e,t,o){"use strict";e.exports={parseSei:function(e){for(var t=0,o={payloadType:-1,payloadSize:0},n=0,r=0;t<e.byteLength&&128!==e[t];){for(;255===e[t];)n+=255,t++;for(n+=e[t++];255===e[t];)r+=255,t++;if(r+=e[t++],!o.payload&&4===n){o.payloadType=n,o.payloadSize=r,o.payload=e.subarray(t,t+r);break}t+=r,r=n=0}return o},parseUserData:function(e){return 181!==e.payload[0]?null:49!=(e.payload[1]<<8|e.payload[2])?null:"GA94"!==String.fromCharCode(e.payload[3],e.payload[4],e.payload[5],e.payload[6])?null:3!==e.payload[7]?null:e.payload.subarray(8,e.payload.length-1)},parseCaptionPackets:function(e,t){var o,n,r,i,a=[];if(!(64&t[0]))return a;for(n=31&t[0],o=0;o<n;o++)i={type:3&t[2+(r=3*o)],pts:e},4&t[2+r]&&(i.ccData=t[3+r]<<8|t[4+r],a.push(i));return a},discardEmulationPreventionBytes:function(e){for(var t,o,n=e.byteLength,r=[],i=1;i<n-2;)0===e[i]&&0===e[i+1]&&3===e[i+2]?(r.push(i+2),i+=2):i++;if(0===r.length)return e;t=n-r.length,o=new Uint8Array(t);var a=0;for(i=0;i<t;a++,i++)a===r[0]&&(a++,r.shift()),o[i]=e[a];return o},USER_DATA_REGISTERED_ITU_T_T35:4}},1217:function(e,t,o){"use strict";var n=function(){this.init=function(){var i={};this.on=function(e,t){i[e]||(i[e]=[]),i[e]=i[e].concat(t)},this.off=function(e,t){var o;return!!i[e]&&(o=i[e].indexOf(t),i[e]=i[e].slice(),i[e].splice(o,1),-1<o)},this.trigger=function(e){var t,o,n,r;if(t=i[e])if(2===arguments.length)for(n=t.length,o=0;o<n;++o)t[o].call(this,arguments[1]);else{for(r=[],o=arguments.length,o=1;o<arguments.length;++o)r.push(arguments[o]);for(n=t.length,o=0;o<n;++o)t[o].apply(this,r)}},this.dispose=function(){i={}}}};n.prototype.pipe=function(t){return this.on("data",function(e){t.push(e)}),this.on("done",function(e){t.flush(e)}),this.on("partialdone",function(e){t.partialFlush(e)}),this.on("endedtimeline",function(e){t.endTimeline(e)}),this.on("reset",function(e){t.reset(e)}),t},n.prototype.push=function(e){this.trigger("data",e)},n.prototype.flush=function(e){this.trigger("done",e)},n.prototype.partialFlush=function(e){this.trigger("partialdone",e)},n.prototype.endTimeline=function(e){this.trigger("endedtimeline",e)},n.prototype.reset=function(e){this.trigger("reset",e)},e.exports=n},1218:function(e,t,o){"use strict";e.exports={H264_STREAM_TYPE:27,ADTS_STREAM_TYPE:15,METADATA_STREAM_TYPE:21}},123:function(e,t,o){"use strict";var n,r,i,d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e},a=function(){function n(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,o){return t&&n(e.prototype,t),o&&n(e,o),e}}(),p=S(o(1)),s=S(o(0)),_=S(o(8)),h=S(o(2)),l=S(o(818)),c=S(o(819)),u=S(o(820)),g=S(o(821)),f=S(o(822)),m=S(o(823)),v=S(o(824)),b=S(o(825)),y=o(826),E=S(o(827)),T=S(o(828));function S(e){return e&&e.__esModule?e:{default:e}}var k=(0,l.default)(n=(0,c.default)(n=(0,u.default)(n=(0,g.default)(n=(0,f.default)(n=(0,m.default)((i=r=function(e){function u(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,e));return t.state={place:e.place||"top",desiredPlace:e.place||"top",type:"dark",effect:"float",show:!1,border:!1,offset:{},extraClass:"",html:!1,delayHide:0,delayShow:0,event:e.event||null,eventOff:e.eventOff||null,currentEvent:null,currentTarget:null,ariaProps:(0,y.parseAria)(e),isEmptyTip:!1,disable:!1,originTooltip:null,isMultiline:!1},t.bind(["showTooltip","updateTooltip","hideTooltip","getTooltipContent","globalRebuild","globalShow","globalHide","onWindowResize","mouseOnToolTip"]),t.mount=!0,t.delayShowLoop=null,t.delayHideLoop=null,t.delayReshow=null,t.intervalUpdateContent=null,t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(u,p.default.Component),a(u,[{key:"bind",value:function(e){var t=this;e.forEach(function(e){t[e]=t[e].bind(t)})}},{key:"componentDidMount",value:function(){var e=this.props,t=e.insecure,o=e.resizeHide;t&&this.setStyleHeader(),this.bindListener(),this.bindWindowEvents(o)}},{key:"componentWillReceiveProps",value:function(e){var t=this.state.ariaProps,o=(0,y.parseAria)(e);Object.keys(o).some(function(e){return o[e]!==t[e]})&&this.setState({ariaProps:o})}},{key:"componentWillUnmount",value:function(){this.mount=!1,this.clearTimer(),this.unbindListener(),this.removeScrollListener(),this.unbindWindowEvents()}},{key:"mouseOnToolTip",value:function(){return!(!this.state.show||!this.tooltipRef)&&(this.tooltipRef.matches||(this.tooltipRef.msMatchesSelector?this.tooltipRef.matches=this.tooltipRef.msMatchesSelector:this.tooltipRef.matches=this.tooltipRef.mozMatchesSelector),this.tooltipRef.matches(":hover"))}},{key:"getTargetArray",value:function(e){var t=void 0;if(e){var o=e.replace(/\\/g,"\\\\").replace(/"/g,'\\"');t=document.querySelectorAll('[data-tip][data-for="'+o+'"]')}else t=document.querySelectorAll("[data-tip]:not([data-for])");return(0,E.default)(t)}},{key:"bindListener",value:function(){var n=this,e=this.props,t=e.id,o=e.globalEventOff,r=e.isCapture;this.getTargetArray(t).forEach(function(e){var t=n.isCapture(e),o=n.getEffect(e);null===e.getAttribute("currentItem")&&e.setAttribute("currentItem","false"),n.unbindBasicListener(e),n.isCustomEvent(e)?n.customBindListener(e):(e.addEventListener("mouseenter",n.showTooltip,t),"float"===o&&e.addEventListener("mousemove",n.updateTooltip,t),e.addEventListener("mouseleave",n.hideTooltip,t))}),o&&(window.removeEventListener(o,this.hideTooltip),window.addEventListener(o,this.hideTooltip,r)),this.bindRemovalTracker()}},{key:"unbindListener",value:function(){var t=this,e=this.props,o=e.id,n=e.globalEventOff;this.getTargetArray(o).forEach(function(e){t.unbindBasicListener(e),t.isCustomEvent(e)&&t.customUnbindListener(e)}),n&&window.removeEventListener(n,this.hideTooltip),this.unbindRemovalTracker()}},{key:"unbindBasicListener",value:function(e){var t=this.isCapture(e);e.removeEventListener("mouseenter",this.showTooltip,t),e.removeEventListener("mousemove",this.updateTooltip,t),e.removeEventListener("mouseleave",this.hideTooltip,t)}},{key:"getTooltipContent",value:function(){var e=this.props,t=e.getContent,o=e.children,n=void 0;return t&&(n=Array.isArray(t)?t[0]&&t[0](this.state.originTooltip):t(this.state.originTooltip)),(0,b.default)(this.state.originTooltip,o,n,this.state.isMultiline)}},{key:"isEmptyTip",value:function(e){return"string"==typeof e&&""===e||null===e}},{key:"showTooltip",value:function(t,e){if(e&&!this.getTargetArray(this.props.id).some(function(e){return e===t.currentTarget}))return;var o=this.props,n=o.multiline,r=o.getContent,i=t.currentTarget.getAttribute("data-tip"),a=t.currentTarget.getAttribute("data-multiline")||n||!1,s=t instanceof window.FocusEvent||e,l=!0;t.currentTarget.getAttribute("data-scroll-hide")?l="true"===t.currentTarget.getAttribute("data-scroll-hide"):null!=this.props.scrollHide&&(l=this.props.scrollHide);var c=t.currentTarget.getAttribute("data-place")||this.props.place||"top",u=s?"solid":this.getEffect(t.currentTarget),d=t.currentTarget.getAttribute("data-offset")||this.props.offset||{},p=(0,v.default)(t,t.currentTarget,_.default.findDOMNode(this),c,c,u,d),h=p.isNewState?p.newState.place:c;this.clearTimer();var g=t.currentTarget,f=this.state.show?g.getAttribute("data-delay-update")||this.props.delayUpdate:0,m=this,y=function(){m.setState({originTooltip:i,isMultiline:a,desiredPlace:c,place:h,type:g.getAttribute("data-type")||m.props.type||"dark",effect:u,offset:d,html:g.getAttribute("data-html")?"true"===g.getAttribute("data-html"):m.props.html||!1,delayShow:g.getAttribute("data-delay-show")||m.props.delayShow||0,delayHide:g.getAttribute("data-delay-hide")||m.props.delayHide||0,delayUpdate:g.getAttribute("data-delay-update")||m.props.delayUpdate||0,border:g.getAttribute("data-border")?"true"===g.getAttribute("data-border"):m.props.border||!1,extraClass:g.getAttribute("data-class")||m.props.class||m.props.className||"",disable:g.getAttribute("data-tip-disable")?"true"===g.getAttribute("data-tip-disable"):m.props.disable||!1,currentTarget:g},function(){l&&m.addScrollListener(m.state.currentTarget),m.updateTooltip(t),r&&Array.isArray(r)&&(m.intervalUpdateContent=setInterval(function(){if(m.mount){var e=m.props.getContent,t=(0,b.default)(i,"",e[0](),a),o=m.isEmptyTip(t);m.setState({isEmptyTip:o}),m.updatePosition()}},r[1]))})};f?this.delayReshow=setTimeout(y,f):y()}},{key:"updateTooltip",value:function(t){var o=this,e=this.state,n=e.delayShow,r=e.disable,i=this.props.afterShow,a=this.getTooltipContent(),s=parseInt(n,10),l=t.currentTarget||t.target;if(!this.mouseOnToolTip()&&!this.isEmptyTip(a)&&!r){var c=function(){if(Array.isArray(a)&&0<a.length||a){var e=!o.state.show;o.setState({currentEvent:t,currentTarget:l,show:!0},function(){o.updatePosition(),e&&i&&i(t)})}};clearTimeout(this.delayShowLoop),n?this.delayShowLoop=setTimeout(c,s):c()}}},{key:"listenForTooltipExit",value:function(){this.state.show&&this.tooltipRef&&this.tooltipRef.addEventListener("mouseleave",this.hideTooltip)}},{key:"removeListenerForTooltipExit",value:function(){this.state.show&&this.tooltipRef&&this.tooltipRef.removeEventListener("mouseleave",this.hideTooltip)}},{key:"hideTooltip",value:function(t,e){var o=this,n=this.state,r=n.delayHide,i=n.disable,a=this.props.afterHide,s=this.getTooltipContent();if(this.mount&&!this.isEmptyTip(s)&&!i){if(e)if(!this.getTargetArray(this.props.id).some(function(e){return e===t.currentTarget})||!this.state.show)return;var l=function(){var e=o.state.show;o.mouseOnToolTip()?o.listenForTooltipExit():(o.removeListenerForTooltipExit(),o.setState({show:!1},function(){o.removeScrollListener(),e&&a&&a(t)}))};this.clearTimer(),r?this.delayHideLoop=setTimeout(l,parseInt(r,10)):l()}}},{key:"addScrollListener",value:function(e){var t=this.isCapture(e);window.addEventListener("scroll",this.hideTooltip,t)}},{key:"removeScrollListener",value:function(){window.removeEventListener("scroll",this.hideTooltip)}},{key:"updatePosition",value:function(){var e=this,t=this.state,o=t.currentEvent,n=t.currentTarget,r=t.place,i=t.desiredPlace,a=t.effect,s=t.offset,l=_.default.findDOMNode(this),c=(0,v.default)(o,n,l,r,i,a,s);if(c.isNewState)return this.setState(c.newState,function(){e.updatePosition()});l.style.left=c.position.left+"px",l.style.top=c.position.top+"px"}},{key:"setStyleHeader",value:function(){var e=document.getElementsByTagName("head")[0];if(!e.querySelector('style[id="react-tooltip"]')){var t=document.createElement("style");t.id="react-tooltip",t.innerHTML=T.default,o.nc&&t.setAttribute("nonce",o.nc),e.insertBefore(t,e.firstChild)}}},{key:"clearTimer",value:function(){clearTimeout(this.delayShowLoop),clearTimeout(this.delayHideLoop),clearTimeout(this.delayReshow),clearInterval(this.intervalUpdateContent)}},{key:"render",value:function(){var t=this,e=this.state,o=e.extraClass,n=e.html,r=e.ariaProps,i=e.disable,a=this.getTooltipContent(),s=this.isEmptyTip(a),l=(0,h.default)("__react_component_tooltip",{show:this.state.show&&!i&&!s},{border:this.state.border},{"place-top":"top"===this.state.place},{"place-bottom":"bottom"===this.state.place},{"place-left":"left"===this.state.place},{"place-right":"right"===this.state.place},{"type-dark":"dark"===this.state.type},{"type-success":"success"===this.state.type},{"type-warning":"warning"===this.state.type},{"type-error":"error"===this.state.type},{"type-info":"info"===this.state.type},{"type-light":"light"===this.state.type},{allow_hover:this.props.delayUpdate}),c=this.props.wrapper;return u.supportedWrappers.indexOf(c)<0&&(c=u.defaultProps.wrapper),n?p.default.createElement(c,d({className:l+" "+o,id:this.props.id,ref:function(e){return t.tooltipRef=e}},r,{"data-id":"tooltip",dangerouslySetInnerHTML:{__html:a}})):p.default.createElement(c,d({className:l+" "+o,id:this.props.id},r,{ref:function(e){return t.tooltipRef=e},"data-id":"tooltip"}),a)}}]),u}(),r.propTypes={children:s.default.any,place:s.default.string,type:s.default.string,effect:s.default.string,offset:s.default.object,multiline:s.default.bool,border:s.default.bool,insecure:s.default.bool,class:s.default.string,className:s.default.string,id:s.default.string,html:s.default.bool,delayHide:s.default.number,delayUpdate:s.default.number,delayShow:s.default.number,event:s.default.string,eventOff:s.default.string,watchWindow:s.default.bool,isCapture:s.default.bool,globalEventOff:s.default.string,getContent:s.default.any,afterShow:s.default.func,afterHide:s.default.func,disable:s.default.bool,scrollHide:s.default.bool,resizeHide:s.default.bool,wrapper:s.default.string},r.defaultProps={insecure:!0,resizeHide:!0,wrapper:"div"},r.supportedWrappers=["div","span"],r.displayName="ReactTooltip",n=i))||n)||n)||n)||n)||n)||n;e.exports=k},1234:function(e,t){e.exports=function(e,t){var o,n=null;try{o=JSON.parse(e,t)}catch(e){n=e}return[n,o]}},1235:function(e,t,o){"use strict";var p=o(1216).discardEmulationPreventionBytes,r=o(1792).CaptionStream,h=o(332),g=o(849),f=function(e,t){for(var o=e,n=0;n<t.length;n++){var r=t[n];if(o<r.size)return r;o-=r.size}return null},c=function(e,u){var n=h.findBox(e,["moof","traf"]),t=h.findBox(e,["mdat"]),d={},r=[];return t.forEach(function(e,t){var o=n[t];r.push({mdat:e,traf:o})}),r.forEach(function(e){var t,o=e.mdat,n=e.traf,r=h.findBox(n,["tfhd"]),i=g.parseTfhd(r[0]),a=i.trackId,s=h.findBox(n,["tfdt"]),l=0<s.length?g.parseTfdt(s[0]).baseMediaDecodeTime:0,c=h.findBox(n,["trun"]);u===a&&0<c.length&&(t=function(e,t,o){var n,r,i,a,s=new DataView(e.buffer,e.byteOffset,e.byteLength),l=[];for(r=0;r+4<e.length;r+=i)if(i=s.getUint32(r),r+=4,!(i<=0))switch(31&e[r]){case 6:var c=e.subarray(r+1,r+1+i),u=f(r,t);n={nalUnitType:"sei_rbsp",size:i,data:c,escapedRBSP:p(c),trackId:o},u?(n.pts=u.pts,n.dts=u.dts,a=u):(n.pts=a.pts,n.dts=a.dts),l.push(n)}return l}(o,function(e,t,o){var n=t,r=o.defaultSampleDuration||0,i=o.defaultSampleSize||0,a=o.trackId,s=[];return e.forEach(function(e){var t=g.parseTrun(e).samples;t.forEach(function(e){void 0===e.duration&&(e.duration=r),void 0===e.size&&(e.size=i),e.trackId=a,e.dts=n,void 0===e.compositionTimeOffset&&(e.compositionTimeOffset=0),e.pts=n+e.compositionTimeOffset,n+=e.duration}),s=s.concat(t)}),s}(c,l,i),a),d[a]||(d[a]=[]),d[a]=d[a].concat(t))}),d};e.exports=function(){var t,i,a,s,l,o,n=!1;this.isInitialized=function(){return n},this.init=function(e){t=new r,n=!0,o=!!e&&e.isPartial,t.on("data",function(e){e.startTime=e.startPts/s,e.endTime=e.endPts/s,l.captions.push(e),l.captionStreams[e.stream]=!0})},this.isNewInit=function(e,t){return!(e&&0===e.length||t&&"object"==typeof t&&0===Object.keys(t).length||a===e[0]&&s===t[a])},this.parse=function(e,t,o){var n;if(!this.isInitialized())return null;if(!t||!o)return null;if(this.isNewInit(t,o))a=t[0],s=o[a];else if(null===a||!s)return i.push(e),null;for(;0<i.length;){var r=i.shift();this.parse(r,t,o)}return null!==(n=function(e,t,o){return null===t?null:{seiNals:c(e,t)[t],timescale:o}}(e,a,s))&&n.seiNals?(this.pushNals(n.seiNals),this.flushStream(),l):null},this.pushNals=function(e){if(!this.isInitialized()||!e||0===e.length)return null;e.forEach(function(e){t.push(e)})},this.flushStream=function(){if(!this.isInitialized())return null;o?t.partialFlush():t.flush()},this.clearParsedCaptions=function(){l.captions=[],l.captionStreams={}},this.resetCaptionStream=function(){if(!this.isInitialized())return null;t.reset()},this.clearAllCaptions=function(){this.clearParsedCaptions(),this.resetCaptionStream()},this.reset=function(){i=[],s=a=null,l?this.clearParsedCaptions():l={captions:[],captionStreams:{}},this.resetCaptionStream()},this.reset()}},1236:function(e,t,o){"use strict";var r=o(1218),i=o(1793).handleRollover,f={};f.ts=o(1794),f.aac=o(1795);var c=o(1796).ONE_SECOND_IN_TS,a=function(e,t,o){for(var n,r,i,a,s=0,l=188,c=!1;l<=e.byteLength;)if(71!==e[s]||71!==e[l]&&l!==e.byteLength)s++,l++;else{switch(n=e.subarray(s,l),f.ts.parseType(n,t.pid)){case"pes":r=f.ts.parsePesType(n,t.table),i=f.ts.parsePayloadUnitStartIndicator(n),"audio"===r&&i&&(a=f.ts.parsePesTime(n))&&(a.type="audio",o.audio.push(a),c=!0)}if(c)break;s+=188,l+=188}for(s=(l=e.byteLength)-188,c=!1;0<=s;)if(71!==e[s]||71!==e[l]&&l!==e.byteLength)s--,l--;else{switch(n=e.subarray(s,l),f.ts.parseType(n,t.pid)){case"pes":r=f.ts.parsePesType(n,t.table),i=f.ts.parsePayloadUnitStartIndicator(n),"audio"===r&&i&&(a=f.ts.parsePesTime(n))&&(a.type="audio",o.audio.push(a),c=!0)}if(c)break;s-=188,l-=188}},s=function(e,t,o){for(var n,r,i,a,s,l,c,u=0,d=188,p=!1,h={data:[],size:0};d<e.byteLength;)if(71!==e[u]||71!==e[d])u++,d++;else{switch(n=e.subarray(u,d),f.ts.parseType(n,t.pid)){case"pes":if(r=f.ts.parsePesType(n,t.table),i=f.ts.parsePayloadUnitStartIndicator(n),"video"===r&&(i&&!p&&(a=f.ts.parsePesTime(n))&&(a.type="video",o.video.push(a),p=!0),!o.firstKeyFrame)){if(i&&0!==h.size){for(s=new Uint8Array(h.size),l=0;h.data.length;)c=h.data.shift(),s.set(c,l),l+=c.byteLength;if(f.ts.videoPacketContainsKeyFrame(s)){var g=f.ts.parsePesTime(s);g?(o.firstKeyFrame=g,o.firstKeyFrame.type="video"):console.warn("Failed to extract PTS/DTS from PES at first keyframe. This could be an unusual TS segment, or else mux.js did not parse your TS segment correctly. If you know your TS segments do contain PTS/DTS on keyframes please file a bug report! You can try ffprobe to double check for yourself.")}h.size=0}h.data.push(n),h.size+=n.byteLength}}if(p&&o.firstKeyFrame)break;u+=188,d+=188}for(u=(d=e.byteLength)-188,p=!1;0<=u;)if(71!==e[u]||71!==e[d])u--,d--;else{switch(n=e.subarray(u,d),f.ts.parseType(n,t.pid)){case"pes":r=f.ts.parsePesType(n,t.table),i=f.ts.parsePayloadUnitStartIndicator(n),"video"===r&&i&&(a=f.ts.parsePesTime(n))&&(a.type="video",o.video.push(a),p=!0)}if(p)break;u-=188,d-=188}},n=function(e){var t={pid:null,table:null},o={};for(var n in function(e,t){for(var o,n=0,r=188;r<e.byteLength;)if(71!==e[n]||71!==e[r])n++,r++;else{switch(o=e.subarray(n,r),f.ts.parseType(o,t.pid)){case"pat":t.pid||(t.pid=f.ts.parsePat(o));break;case"pmt":t.table||(t.table=f.ts.parsePmt(o))}if(t.pid&&t.table)return;n+=188,r+=188}}(e,t),t.table){if(t.table.hasOwnProperty(n))switch(t.table[n]){case r.H264_STREAM_TYPE:o.video=[],s(e,t,o),0===o.video.length&&delete o.video;break;case r.ADTS_STREAM_TYPE:o.audio=[],a(e,t,o),0===o.audio.length&&delete o.audio}}return o};e.exports={inspect:function(e,t){var o;return(o=f.aac.isLikelyAacData(e)?function(e){for(var t,o=!1,n=0,r=null,i=null,a=0,s=0;3<=e.length-s;){switch(f.aac.parseType(e,s)){case"timed-metadata":if(e.length-s<10){o=!0;break}if((a=f.aac.parseId3TagSize(e,s))>e.length){o=!0;break}null===i&&(t=e.subarray(s,s+a),i=f.aac.parseAacTimestamp(t)),s+=a;break;case"audio":if(e.length-s<7){o=!0;break}if((a=f.aac.parseAdtsSize(e,s))>e.length){o=!0;break}null===r&&(t=e.subarray(s,s+a),r=f.aac.parseSampleRate(t)),n++,s+=a;break;default:s++}if(o)return null}if(null===r||null===i)return null;var l=c/r;return{audio:[{type:"audio",dts:i,pts:i},{type:"audio",dts:i+1024*n*l,pts:i+1024*n*l}]}}(e):n(e))&&(o.audio||o.video)?(function(e,t){if(e.audio&&e.audio.length){var o=t;void 0===o&&(o=e.audio[0].dts),e.audio.forEach(function(e){e.dts=i(e.dts,o),e.pts=i(e.pts,o),e.dtsTime=e.dts/c,e.ptsTime=e.pts/c})}if(e.video&&e.video.length){var n=t;if(void 0===n&&(n=e.video[0].dts),e.video.forEach(function(e){e.dts=i(e.dts,n),e.pts=i(e.pts,n),e.dtsTime=e.dts/c,e.ptsTime=e.pts/c}),e.firstKeyFrame){var r=e.firstKeyFrame;r.dts=i(r.dts,n),r.pts=i(r.pts,n),r.dtsTime=r.dts/c,r.ptsTime=r.dts/c}}}(o,t),o):null},parseAudioPes_:a}},1240:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"listStore",{enumerable:!0,get:function(){return r.default}}),t.hideAssetManager=t.showAssetManager=void 0;var n=i(o(1883)),r=i(o(1631));function i(e){return e&&e.__esModule?e:{default:e}}t.showAssetManager=function(){return n.default.showAssetManager.apply(n.default,arguments)};t.hideAssetManager=function(){return n.default.hideAssetManager.apply(n.default,arguments)}},1241:function(e,t,o){"use strict";var r=a(o(10)),n=a(o(1261)),i=o(11);function a(e){return e&&e.__esModule?e:{default:e}}var s=o(612).parseElement,l=o(4),c={};(e.exports=c).getFromLocalStorage_=function(e,t){var o=localStorage.getItem(e);try{o=o?JSON.parse(o):t}catch(e){o=t}return o},c.getUnfinishedHints_=function(){return c.getFromLocalStorage_("unfinished_authored_hint_views",[])},c.getFinishedHints_=function(){return c.getFromLocalStorage_("finished_authored_hint_views",[])},c.getLastAttemptRecord_=function(){return c.getFromLocalStorage_("last_attempt_record",void 0)},c.recordFinishedHints_=function(e){var t=c.getFinishedHints_();t=t.concat(e),(0,i.trySetLocalStorage)("finished_authored_hint_views",JSON.stringify(t))},c.clearUnfinishedHints=function(){(0,i.trySetLocalStorage)("unfinished_authored_hint_views",JSON.stringify([]))},c.clearFinishedHints_=function(){(0,i.trySetLocalStorage)("finished_authored_hint_views",JSON.stringify([]))},c.finalizeHints_=function(){var t=c.getLastAttemptRecord_();localStorage.removeItem("last_attempt_record");var e=c.getFinishedHints_();return t&&(e=e.map(function(e){return e=Object.assign({finalTime:t.time,finalAttempt:t.attempt,finalTestResult:t.testResult,finalActivityId:t.activityId,finalLevelSourceId:t.levelSourceId},e)})),e},c.recordUnfinishedHint=function(e){var t=c.getLastAttemptRecord_();t&&(e=Object.assign({prevTime:t.time,prevAttempt:t.attempt,prevTestResult:t.testResult,prevActivityId:t.activityId,prevLevelSourceId:t.levelSourceId},e));var o=c.getUnfinishedHints_();o.push(e),(0,i.trySetLocalStorage)("unfinished_authored_hint_views",JSON.stringify(o))},c.finishHints=function(t){if(t){(0,i.trySetLocalStorage)("last_attempt_record",JSON.stringify(t));var e=c.getUnfinishedHints_();c.clearUnfinishedHints();var o=e.map(function(e){return e=Object.assign({nextTime:t.time,nextAttempt:t.attempt,nextTestResult:t.testResult,nextActivityId:t.activityId,nextLevelSourceId:t.levelSourceId},e)});c.recordFinishedHints_(o)}},c.submitHints=function(e){var t=c.getUnfinishedHints_();if(t&&t.length){var o=t[t.length-1];c.finishHints({time:o.prevTime,attempt:o.prevAttempt,testResult:o.prevTestResult,activityId:o.prevActivityId,levelSourceId:o.prevLevelSourceId})}var n=c.finalizeHints_();n&&n.length&&r.default.ajax({url:e,method:"POST",contentType:"application/json",data:JSON.stringify({hints:n}),complete:function(){c.clearFinishedHints_()}})},c.createContextualHintsFromBlocks=function(e){return e.map(function(e){var t=s(n.default.generateXMLForBlocks([e])),o=t.firstChild.getAttribute("type");return{markdown:l.recommendedBlockContextualHintTitle(),ttsMessage:l.recommendedBlockContextualHintTitle(),block:t,hintId:"recommended_block_"+o,hintClass:"recommended",hintType:"contextual",alreadySeen:e.alreadySeen}})},c.generateAuthoredHints=function(e){var t;try{t=JSON.parse(e)}catch(e){t=[]}return t.map(function(e){return{markdown:e.hint_markdown,hintId:e.hint_id,hintClass:e.hint_class,hintType:e.hint_type,hintPath:JSON.parse(e.hint_path||"[]"),hintVideo:e.hint_video||void 0,ttsUrl:e.tts_url,alreadySeen:!1}})},c.currentOpenedHintCount=function(t){var e=c.getUnfinishedHints_(),o=c.getFinishedHints_();return e.concat(o).filter(function(e){return e.levelId===t}).length}},1242:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){0;return"/blockly/".concat(e)},e.exports=t.default},1243:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e.default:e}t.__esModule=!0;var r=o(1758);t.Motion=n(r);var i=o(1759);t.StaggeredMotion=n(i);var a=o(1760);t.TransitionMotion=n(a);var s=o(1762);t.spring=n(s);var l=o(1203);t.presets=n(l);var c=o(696);t.stripStyle=n(c);var u=o(1763);t.reorderKeys=n(u)},1244:function(e,t,o){"use strict";function d(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{},n=Object.keys(Object(o));"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(o).filter(function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable}))),n.forEach(function(e){r(t,e,o[e])})}return t}function r(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:y,t=1<arguments.length?arguments[1]:void 0;if(t.type===p){var o=t.displayingShareControls;return d({},e,{displayingFeedback:!0,displayingShareControls:o})}if(t.type===h)return d({},e,{displayingFeedback:!1});if(t.type===f){var n=t.blockLimit;return d({},e,{blockLimit:n})}if(t.type===m){var r=t.isChallenge,i=t.isPerfect,a=t.blocksUsed,s=t.displayFunometer,l=t.studentCode,c=t.feedbackImage;return d({},e,{isChallenge:r,isPerfect:i,blocksUsed:a,displayFunometer:s,studentCode:l,feedbackImage:c})}if(t.type!==g)return e;var u=t.achievements;return d({},e,{achievements:u})},t.setAchievements=t.setFeedbackData=t.setBlockLimit=t.hideFeedback=t.showFeedback=void 0;var p="feedback/show_feedback",h="feedback/hide_feedback",g="feedback/set_achievemnts",f="feedback/set_block_limit",m="feedback/set_data",y={displayingFeedback:!1,displayingCode:!1,displayingShareControls:!1,isChallenge:!1,isPerfect:!0,blocksUsed:0,blockLimit:void 0,achievements:[],displayFunometer:!0,studentCode:{message:"",code:""},feedbackImage:null};t.showFeedback=function(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0];return{type:p,displayingShareControls:e}};t.hideFeedback=function(){return{type:h}};t.setBlockLimit=function(e){return{type:f,blockLimit:e}};t.setFeedbackData=function(e){return d({type:m},e)};t.setAchievements=function(e){return{type:g,achievements:e}}},1246:function(e,t,o){"use strict";var E=n(o(10)),T=n(o(114)),c=n(o(1)),u=n(o(8)),d=n(o(1784)),S=n(o(1845)),k=n(o(4));function n(e){return e&&e.__esModule?e:{default:e}}var C,r=o(1150),A=o(347),i=e.exports={};function O(){(0,E.default)(".video-modal").trigger("ended")}function w(e){var t=(0,E.default)('<iframe id="video"/>').addClass("video-player").attr({src:e.src,allowfullscreen:"true",scrolling:"no"});return(0,E.default)("<div id='videoTabContainer'></div>").append(t)}function B(e,t,o,n){n=n||function(){return!0},e.enable_fallback&&(e.force_fallback?I(e,t,o):i.onYouTubeBlocked(function(){n()&&I(e,t,o)},e))}function I(e,t,o){var n,r="fallbackPlayer"+Date.now(),i="",a="";"100%"===t&&"100%"===o?(n="position: absolute; top: 0; bottom: 0; left: 0; right: 0",i="vjs-fill"):(n="",a='width="'+t+'" height="'+o+'" ');var s='<div style="'+n+'"><video id="'+r+'" '+a+(e.autoplay?"autoplay ":"")+'class="video-js vjs-default-skin vjs-big-play-centered '+i+'" controls preload="auto" poster="'+e.thumbnail+'"><source src="'+e.download+'" type="video/mp4"/></video></div>';(0,E.default)("#videoTabContainer").empty(),(0,E.default)("#videoTabContainer").append(s);var l=(0,S.default)(r,{nativeControlsForTouch:!0},function(){var t=(0,E.default)("#"+r);this.on("error",function(e){t.addClass("fallback-video-player-failed"),0<(0,E.default)('.dash_modal_body a[href="#notes-outer"]').length&&function(){var e=(0,E.default)('.dash_modal_body a[href="#notes-outer"]').parent().index();(0,E.default)(".ui-tabs").tabs("option","active",e)}()}),t.parents(".modal").one("hidden.bs.modal",function(){l.dispose()})});l.on("ended",O),function(e){var t=document.getElementById("fallback-player-caption-dialog-link");t&&u.default.render(c.default.createElement(d.default,{inDialog:e}),t)}(e.inDialog)}function R(e){e.src&&(e.src=e.src.replace(/^http:\/\//,"//")),e.download&&(e.download=e.download.replace(/^http:\/\//,"//"))}i.createVideoWithFallback=function(e,t,o,n,r,i){R(t);var a=w(t);return r?(a.addClass("video-player-full-width"),e.addClass("video-content-full-width"),n=o="100%"):a.width(o).height(n),i&&a.addClass("video-player-rounded-corners"),e&&e.append(a),B(t,o,n),a},i.showVideoDialog=function(a,e){if(void 0===e&&(e=!1),void 0===a.onClose&&(a.onClose=function(){}),A.hasSeenVideo(a.key)&&!1===e)return a.onClose(),void(a.redirect&&(window.location.href=a.redirect));a.inDialog=!0,R(a);var t=(0,E.default)("<div/>"),o=(0,E.default)("#notes-content").contents().clone();o.find(".video-name").text(a.name),t.append(o);var s=w(a);t.append(s);var n=(0,E.default)('<div id="notes-outer"><div id="notes"/></div>');t.append(n),function(e,t,o){E.default.ajax({url:"/notes/"+e,success:t,error:o})}(a.key,function(e){n.children("#notes").html(e)},function(){!function(){var e=(0,E.default)('.dash_modal_body a[href="#videoTabContainer"]').parent().index();(0,E.default)(".ui-tabs").tabs("option","active",e)}(),t.find('a[href="#notes-outer"]').parent().remove(),t.tabs("refresh")});var r=new Dialog({body:t,redirect:a.redirect}),i=(0,E.default)(r.div);i.addClass("video-modal"),(0,E.default)(".video-modal").on("remove",function(){s.removeAttr("src"),a.onClose(),A.recordVideoSeen(a.key);var e=document.createEvent("Event");e.initEvent("videoHidden",!0,!0),document.dispatchEvent(e)});var l=function(e,t){var o=t.tab||t.newTab,n=(0,E.default)("#video");if("#video"===o.find("a").attr("href"))n.attr("src",a.src);else{s.removeAttr("src");var r=document.querySelector(".video-js");r&&(0,S.default)(r).pause()}var i=o.parents(".ui-tabs").tabs("option","active");try{window.sessionStorage.setItem("lastTab",i)}catch(e){console.log("Caught exception in sessionStorage.setItem: ",e)}},c=window.sessionStorage.getItem("lastTab");t.tabs({event:"click touchend",activate:l,create:l,active:null!==c?c:0});var u=(0,E.default)("<a/>").append((0,E.default)('<img src="/shared/images/download_button.png"/>')).addClass("download-video").css("float","left").attr("href",a.download).click(function(){return(0,T.default)("downloadvideo","startdownloadvideo",a.key),!0});"rtl"===document.dir&&u.css("float","right");var d=i.find(".ui-tabs-nav");d.append(u);var p=(0,E.default)('<div id="fallback-player-caption-dialog-link"><a style="opacity: 0; pointer-events: none">'+k.default.fallbackVideoClosedCaptioningLink()+"</a></div>").css({"padding-right":"40px","padding-top":"9px","text-align":"right"});d.append(p);var h=.8*(0,E.default)(window).height(),g=.8*(0,E.default)(window).width();16/9*h<g?(i.height(h),i.width(16/9*h)):(i.height(g/(16/9)),i.width(g)),i.css({top:"50%",left:"50%",marginTop:i.height()/-2+"px",marginLeft:i.width()/-2+"px"});var f=i.innerHeight()-d.outerHeight();if((0,E.default)(s).height(f),n.height(f),C=a,window.YT&&window.YT.loaded)new YT.Player("video",{events:{onStateChange:function(e){e.data===YT.PlayerState.ENDED&&O()},onError:function(e){if(C){var t=e.target.f.getBoundingClientRect();I(C,t.width,t.height)}}}});else{var m=document.createElement("script");m.src="https://www.youtube.com/iframe_api";var y=document.getElementsByTagName("script")[0];y.parentNode.insertBefore(m,y)}r.show();var _=(0,E.default)(".video-modal");_.on("ended",function(){r.hide()});var v=document.createEvent("Event");v.initEvent("videoShown",!0,!0),document.dispatchEvent(v);var b=!0;_.one("hidden.bs.modal",function(){b=!1}),B(a,i.width(),f,function(){return b})},i.onYouTubeBlocked=function(e,t){var o=t?t.key:void 0,n=!t||-1!==t.src.indexOf("youtube-nocookie.com");r(function(e){var t=window.document.URL.toString();{if(0<=t.indexOf("force_youtube_fallback"))return"https://unreachable-test-subdomain.example.com/favicon.ico";if(0<=t.indexOf("force_youtube_player"))return"https://code.org/images/favicon.ico"}return e?"https://www.youtube-nocookie.com/favicon.ico":"https://www.youtube.com/favicon.ico"}(n)+"?"+Math.random(),function(){(0,T.default)("showvideo","startVideoYouTube",o)},function(){(0,T.default)("showvideo","startVideoFallback",o),e()})}},125:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return window.blockly&&window.blockly[e]?window.blockly[e]:(console.warn("Loading translations can only be done in a context where blockly is available, but blockly was not found in the global scope. Falling back on an empty translation object. The page may break due to missing translations."),{})},e.exports=t.default},1251:function(e,t,o){"use strict";function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.UnconnectedPublishDialog=void 0;var n=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var t=g();if(t&&t.has(e))return t.get(e);var o={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(o,r,i):o[r]=e[r]}o.default=e,t&&t.set(e,o);return o}(o(1)),r=o(9),i=h(o(0)),s=h(o(14)),l=h(o(66)),c=h(o(287)),u=h(o(23)),d=h(o(4)),p=o(322);function h(e){return e&&e.__esModule?e:{default:e}}function g(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return g=function(){return e},e}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var y={dialog:{paddingLeft:20,paddingRight:20,paddingBottom:20}},_=function(r){function e(){for(var e,t=arguments.length,o=new Array(t),n=0;n<t;n++)o[n]=arguments[n];return m(f(e=r.call.apply(r,[this].concat(o))||this),"confirm",function(){e.props.onConfirmPublishOverride?e.props.onConfirmPublishOverride():e.props.onConfirmPublish(e.props.projectId,e.props.projectType).then(e.props.afterPublish)}),m(f(e),"close",function(){return e.props.onClose()}),e}return function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(e,r),e.prototype.render=function(){return n.default.createElement(l.default,{isOpen:this.props.isOpen,handleClose:this.close,useUpdatedStyles:!0,style:y.dialog},n.default.createElement("h2",{className:"publish-dialog-title"},d.default.publishToPublicGallery()),n.default.createElement("div",{style:{marginBottom:10}},d.default.publishToPublicGalleryWarning()),n.default.createElement(c.default,null,n.default.createElement(u.default,{__useDeprecatedTag:!0,text:d.default.dialogCancel(),onClick:this.close,color:u.default.ButtonColor.gray,className:"no-mc"}),n.default.createElement(u.default,{__useDeprecatedTag:!0,text:d.default.publish(),onClick:this.confirm,color:u.default.ButtonColor.orange,className:"no-mc",isPending:this.props.isPublishPending,pendingText:d.default.publishPending(),id:"publish-dialog-publish-button"})))},e}(n.Component);m(_,"propTypes",{isOpen:i.default.bool.isRequired,isPublishPending:i.default.bool.isRequired,projectId:i.default.string,projectType:i.default.string,onClose:i.default.func.isRequired,onConfirmPublish:i.default.func.isRequired,onConfirmPublishOverride:i.default.func,afterPublish:i.default.func});var v=(0,s.default)(_);t.UnconnectedPublishDialog=v;var b=(0,r.connect)(function(e){return{isOpen:e.publishDialog.isOpen,isPublishPending:e.publishDialog.isPublishPending,projectId:e.publishDialog.projectId,projectType:e.publishDialog.projectType}},function(o){return{onClose:function(){o((0,p.hidePublishDialog)())},onConfirmPublish:function(e,t){return o((0,p.publishProject)(e,t))}}})((0,s.default)(_));t.default=b},1259:function(e,t,o){"use strict";var n=function(){};e.exports=n},126:function(e,t,o){"use strict";var a=n(o(86)),r=n(o(62));function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}function s(){return o(116)}function l(e,t,o){var n="/v3/".concat(e,"/").concat(t);return o&&(n+="/".concat(o)),n}function c(e,t,o,n,r){var i=new XMLHttpRequest;i.addEventListener("load",function(){400<=i.status?n&&n(i):o(i)}),i.addEventListener("error",function(){n&&n(i)}),i.open(e,t,!0),i.send(r)}var u=function(){function e(e){this.collectionType=e}var t=e.prototype;return t.withProjectId=function(e){var t=new this.constructor(this.collectionType);return t.projectId=e,t},t.getProjectId=function(){return this.projectId||s().getCurrentId()},t.basePath=function(e){var t;return e&&(t=encodeURIComponent(e).replace(/%2F/g,"/")),l(this.collectionType,this.getProjectId(),t)},t.ajax=function(e,t,o,n,r){if(n=n||function(){},window.dashboard||this.getProjectId())return c(e,this.basePath(t),o,n,r);n({status:"No dashboard"})},t.getFile=function(e,t,o,n,r){if(n=n||function(){},window.dashboard||this.getProjectId()){var i=this.basePath(e);return t&&(i="".concat(i,"?version=").concat(t)),c("GET",i,o,n)}n({status:"No dashboard"})},t.restorePreviousFileVersion=function(e,t,o,n){var r=this.basePath("".concat(e,"/restore"));return c("PUT",r+="?"+a.default.stringify({version:t}),o,n)},t._withBeforeFirstWriteHook=function(o){var n=this;this._shouldCallBeforeFirstWriteHook&&this._beforeFirstWriteHook?this._beforeFirstWriteHook(function(e,t){e?(r.default.putRecord({study:"weblab_loading_investigation",study_group:"empty_manifest",event:"error_uploading_starter_files",project_id:n.getProjectId()},{includeUserId:!0}),n._shouldCallBeforeFirstWriteHook=!0,n._errorAction()):t&&(n._shouldCallBeforeFirstWriteHook=!1,n._beforeFirstWriteHook=null,o())}):o()},t.registerBeforeFirstWriteHook=function(e){this._shouldCallBeforeFirstWriteHook=!0,this._beforeFirstWriteHook=e},t.registerErrorAction=function(e){this._errorAction=e},e}(),d=function(e){function t(){return e.apply(this,arguments)||this}i(t,e);var o=t.prototype;return o.copyAssets=function(e,t,o,n){var r=l("copy-assets",this.getProjectId());return c("POST",r+="?"+a.default.stringify({src_channel:e,src_files:JSON.stringify(t)}),o,n)},o.deleteFile=function(e,t,o){return c("DELETE",this.basePath(e),t,o)},o.getUploadUrl=function(){return this.basePath("/")},o.wrapUploadDoneCallback=function(e){return e},o.wrapUploadStartCallback=function(e){return e},o.getFiles=function(o,n,e){return c("GET",this.basePath(""),function(t){var e;try{e=JSON.parse(t.responseText)}catch(e){if(n)return void n(t)}o&&o({files:e},t)},n)},o.putAsset=function(e,t){var o=this,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:function(){},r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:function(){};this._withBeforeFirstWriteHook(function(){c("PUT",o.basePath(e),n,r,t)})},t}(u),p=function(e){function t(){return e.apply(this,arguments)||this}i(t,e);var o=t.prototype;return o.getVersionHistory=function(e,t){return c("GET",l("files-version",this.getProjectId()),e,t)},o.restorePreviousVersion=function(e,t,o){var n=l("files-version",this.getProjectId());return c("PUT",n+="?"+a.default.stringify({version:e}),t,o)},o._renameFileInternal=function(e,t,o,n){var r=this.basePath(t),i={src:e,delete:e};return s().filesVersionId&&(i["files-version"]=s().filesVersionId),c("PUT",r+="?"+a.default.stringify(i),function(e){var t=JSON.parse(e.response);s().filesVersionId=t.filesVersionId,o&&o(e,s().filesVersionId)},n)},o.renameFile=function(e,t,o,n){var r=this;this._withBeforeFirstWriteHook(function(){r._renameFileInternal(e,t,o,n)})},o.prepareForRemix=function(e){this._withBeforeFirstWriteHook(e)},o.basePathWithFilesVersion=function(e){var t=this.basePath(e);return s().filesVersionId&&(t+="?files-version=".concat(s().filesVersionId)),t},o._deleteFileInternal=function(e,o,t){return c("DELETE",this.basePathWithFilesVersion(e),function(e){var t=JSON.parse(e.response);s().filesVersionId=t.filesVersionId,o&&o(e,s().filesVersionId)},t)},o.deleteFile=function(e,t,o){var n=this;this._withBeforeFirstWriteHook(function(){n._deleteFileInternal(e,t,o)})},o._putFileInternal=function(e,t,o,n){return c("PUT",this.basePathWithFilesVersion(e),function(e){var t=JSON.parse(e.response);s().filesVersionId=t.filesVersionId,o&&o(e,s().filesVersionId)},n,t)},o.putFile=function(e,t,o,n){var r=this,i=function(){return r._putFileInternal(e,t,o,n)};4<arguments.length&&void 0!==arguments[4]&&arguments[4]?i():this._withBeforeFirstWriteHook(i)},o.deleteAll=function(e,t){return this._beforeFirstWriteHook=null,this._shouldCallBeforeFirstWriteHook=!1,c("DELETE",this.basePath("*"),e,t)},o.getUploadUrl=function(){return this.basePathWithFilesVersion("/")},o.wrapUploadDoneCallback=function(t){return function(e){s().filesVersionId=e.filesVersionId,t&&t(e)}},o.wrapUploadStartCallback=function(t){var o=this;return function(e){o._withBeforeFirstWriteHook(function(){t(e)})}},o.getFiles=function(o,n,e){var t=this.basePath("");return e&&(t+="?version=".concat(e)),c("GET",t,function(t){var e;try{e=JSON.parse(t.responseText)}catch(e){if(n)return void n(t)}o&&o(e,t)},n)},t}(u),h=function(){function e(){}var t=e.prototype;return t.getStarterAssets=function(e,t,o){return c("GET",this.withLevelName(e).basePath(""),t,o)},t.withLevelName=function(e){var t=new this.constructor;return t.levelName=e,t},t.basePath=function(e){if(this&&this.levelName)return"/level_starter_assets/".concat(this.levelName,"/").concat(e);throw new Error("You must bind the API and set levelName before creating a base path.")},t.getUploadUrl=function(){return this.basePath("")},t.wrapUploadDoneCallback=function(e){return e},t.wrapUploadStartCallback=function(e){return e},t.deleteFile=function(e,t,o){return c("DELETE",this.basePath(e),t,o)},e}();e.exports={animations:new u("animations"),assets:new d("assets"),starterAssets:new h,files:new p("files"),sources:new u("sources"),channels:new u("channels")}},1260:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isUnsupportedBrowser=function(){return function(){var e=-1!==navigator.userAgent.indexOf("MSIE"),t=navigator.appVersion.indexOf("Trident/"),o=e&&t<8,n=navigator.userAgent.match("MSIE 7.0;"),r=navigator.userAgent.match("MSIE 8.0;"),i=navigator.userAgent.match("MSIE 9.0;"),a=navigator.userAgent.match("MSIE 10.0;");return o||n||r||i||a}()||function(){var e=-1!==navigator.userAgent.lastIndexOf("Chrome/"),t=navigator.userAgent.substr(navigator.userAgent.lastIndexOf("Chrome/")+7,2);return e&&t<33}()||function(){var e=-1!==navigator.userAgent.indexOf("Safari/"),t=navigator.userAgent.substr(navigator.userAgent.lastIndexOf("Version/")+8,2);return e&&t<7}()||function(){var e=-1!==navigator.userAgent.indexOf("Firefox"),t=navigator.userAgent.substr(navigator.userAgent.lastIndexOf("Firefox/")+8,2);return e&&t<25}()},t.isMobileDevice=function(){var t=!1;return function(e){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino|android|ipad|playbook|silk/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4)))&&(t=!0)}(navigator.userAgent||navigator.vendor||window.opera),t},t.isIE11=function(){return!!window.MSInputMethodContext&&!!document.documentMode},t.isStorageAvailable=function(e){try{var t=window[e],o="__storage_test__";return t.setItem(o,o),t.removeItem(o),!0}catch(e){return!1}}},1261:function(e,t,o){"use strict";var a=o(37),n=o(612).parseElement,r=function e(t,o,n){if(t.feedbackType===a.TestResults.MISSING_BLOCK_UNFINISHED||t.feedbackType===a.TestResults.MISSING_BLOCK_FINISHED||t.feedbackType===a.TestResults.MISSING_RECOMMENDED_BLOCK_UNFINISHED||t.feedbackType===a.TestResults.MISSING_RECOMMENDED_BLOCK_FINISHED){var r=[];o.blocksToDisplay.length?i(o):i(n),0!==r.length&&(this.xml=e.generateXMLForBlocks(r),this.div=document.createElement("div"),this.div.setAttribute("id","feedbackBlocks"),this.blockSpaceEditor=void 0)}function i(e){r=e.blocksToDisplay,e.message&&(t.message=e.message)}};(e.exports=r).prototype.render=function(){if(document.body.contains(this.div)){var e=n(this.xml),t=Blockly.BlockSpace.createReadOnlyBlockSpace(this.div,e);this.blockSpaceEditor=t.blockSpaceEditor}},r.prototype.show=function(){this.div.style.visibility="",this.div.style.height="",this.blockSpaceEditor&&this.blockSpaceEditor.svgResize()},r.prototype.hide=function(){this.div.style.visibility="hidden",this.div.style.height="0px"},r.generateXMLForBlocks=function(e){for(var t,o,n=["<xml>"],r=10,i=0,a=0;a<e.length;a++){var s=e[a];if(s.blockDisplayXML)n.push(s.blockDisplayXML);else{if(n.push("<block",' type="',s.type,'" x="',r.toString(),'" y="',i,'">'),s.titles){var l=Object.keys(s.titles);for(t=0;t<l.length;t++)o=l[t],n.push('<title name="',o,'">',s.titles[o],"</title>")}if(s.values){var c=Object.keys(s.values);for(t=0;t<c.length;t++)o=c[t],n.push('<value name="',o,'">',s.values[o],"</value>")}s.extra&&n.push(s.extra),n.push("</block>"),(a+1)%2==0?(i+=120,r=0):r+=200}}return n.push("</xml>"),n.join("")}},1262:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=p(o(66)),r=p(o(1263)),i=p(o(658)),a=p(o(1264)),s=p(o(0)),l=p(o(14)),c=p(o(1)),u=p(o(1242)),d=p(o(6));function p(e){return e&&e.__esModule?e:{default:e}}function h(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{},n=Object.keys(Object(o));"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(o).filter(function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable}))),n.forEach(function(e){f(t,e,o[e])})}return t}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var m={dialog:{top:"20%",border:"5px solid ".concat(d.default.purple),borderRadius:10},banner:{backgroundPosition:"top center",backgroundRepeat:"no-repeat",backgroundImage:"url(".concat((0,u.default)("media/dialog/challenge_target.svg"),")"),position:"relative",marginTop:-85,height:135},bannerComplete:{backgroundImage:"url(".concat((0,u.default)("media/dialog/challenge_target_complete.svg"),")"),marginTop:-99,height:149},content:{color:d.default.purple,position:"relative",textAlign:"center",marginBottom:30},text:{margin:"0px 40px 20px",textAlign:"center",fontSize:18},title:{textAlign:"center",position:"absolute",bottom:0,color:"#fff",backgroundColor:d.default.purple,border:"3px solid white",minWidth:"50%",left:"25%",fontSize:"150%",height:30,lineHeight:"30px"},confetti:{position:"relative",left:"50%",top:150},primaryButton:{float:"right"},footer:{marginTop:20,paddingTop:20,borderTop:"2px solid #ccc"}},y=function(o){function e(e){var t;return f(g(t=o.call(this,e)||this),"handlePrimary",function(){t.props.handlePrimary&&t.props.handlePrimary(),t.setState({isOpen:!1})}),f(g(t),"handleCancel",function(){t.props.handleCancel&&t.props.handleCancel(),t.setState({isOpen:!1})}),t.state={isOpen:void 0===t.props.isOpen||t.props.isOpen,confettiActive:!1,confettiOnTop:!1},t}!function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(e,o);var t=e.prototype;return t.componentDidMount=function(){var e=this;this.props.complete&&!this.props.isIntro&&(window.setTimeout(function(){return e.setState({confettiActive:!0})},0),window.setTimeout(function(){return e.setState({confettiOnTop:!0})},700))},t.render=function(){var e=this.state.confettiOnTop?1:-1;return c.default.createElement(n.default,{isOpen:this.state.isOpen,style:m.dialog,handleClose:this.handlePrimary,hideCloseButton:!0,hideBackdrop:this.props.hideBackdrop},c.default.createElement("img",{className:"modal-image",src:this.props.avatar}),c.default.createElement("div",{style:h({},m.banner,this.props.complete?m.bannerComplete:{})},c.default.createElement("h1",{style:m.title,id:"uitest-challenge-title"},this.props.title),c.default.createElement("div",{style:h({},m.confetti,{zIndex:e})},c.default.createElement(r.default,{active:this.state.confettiActive}))),c.default.createElement("div",{style:m.content},c.default.createElement("div",{style:m.text},this.props.text),this.props.children),c.default.createElement(i.default,{type:"cancel",onClick:this.handleCancel,id:"challengeCancelButton"},this.props.cancelButtonLabel),c.default.createElement(i.default,{type:"primary",style:m.primaryButton,onClick:this.handlePrimary,id:"challengePrimaryButton"},this.props.primaryButtonLabel),this.props.showPuzzleRatingButtons&&c.default.createElement("div",{style:m.footer},c.default.createElement(a.default,{useLegacyStyles:!0})))},e}(c.default.Component);f(y,"propTypes",{avatar:s.default.string,cancelButtonLabel:s.default.string,children:s.default.oneOfType([s.default.node,s.default.arrayOf(s.default.node)]),complete:s.default.bool,isIntro:s.default.bool,isOpen:s.default.bool,handleCancel:s.default.func,handlePrimary:s.default.func,hideBackdrop:s.default.bool,primaryButtonLabel:s.default.string,showPuzzleRatingButtons:s.default.bool,text:s.default.string,title:s.default.string});var _=(0,l.default)(y);t.default=_,e.exports=t.default},1263:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,r=function(){function n(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,o){return t&&n(e.prototype,t),o&&n(e,o),e}}(),i=o(1),a=(n=i)&&n.__esModule?n:{default:n},s=o(1887);var l={position:"relative"},c=function(e){function o(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,e));return t.setRef=t.setRef.bind(t),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(o,i.Component),r(o,[{key:"componentWillReceiveProps",value:function(e){e.active&&!this.props.active&&(0,s.confetti)(this.container,e.config)}},{key:"setRef",value:function(e){this.container=e}},{key:"render",value:function(){return a.default.createElement("div",{className:this.props.className,style:l,ref:this.setRef})}}]),o}();t.default=c},1264:function(e,t,o){"use strict";function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var t=u();if(t&&t.has(e))return t.get(e);var o={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(o,r,i):o[r]=e[r]}o.default=e,t&&t.set(e,o);return o}(o(1)),r=c(o(0)),i=c(o(14)),s=c(o(6)),l=c(o(4));function c(e){return e&&e.__esModule?e:{default:e}}function u(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return u=function(){return e},e}var d,p,h,g={puzzleRatingButton:{fill:s.default.light_gray,cursor:"pointer",display:"inline-block",backgroundColor:s.default.lightest_gray,borderColor:s.default.light_gray,borderWidth:1,borderStyle:"solid",padding:"5px 5px 0px",":active":{backgroundColor:s.default.lighter_gray}},like:{borderRadius:"2px 0px 0px 2px"},likeDisabled:{":hover":{fill:"#333"}},likeEnabled:{fill:s.default.red,backgroundColor:s.default.lighter_gray,":hover":{fill:s.default.dark_red}},dislike:{borderRadius:"0px 2px 2px 0px"},dislikeDisabled:{":hover":{fill:s.default.dark_gray}},dislikeEnabled:{fill:s.default.cyan,backgroundColor:s.default.lighter_gray,":hover":{fill:s.default.dark_blue}}},f={puzzleRatingButton:{verticalAlign:"middle"},question:{fontSize:16,color:s.default.light_gray,marginRight:10}},m=function(t){function e(){var e;return(e=t.call(this)||this).state={liked:!1,disliked:!1},e}!function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(e,t);var o=e.prototype;return o.like=function(){this.setState({liked:!this.state.liked,disliked:!1})},o.dislike=function(){this.setState({liked:!1,disliked:!this.state.disliked})},o.render=function(){var e=this.props.useLegacyStyles?f:g,t=this.props.label||l.default.puzzleRatingQuestion();return n.default.createElement("div",{id:"puzzleRatingButtons",style:{display:"inline-block"}},this.props.useLegacyStyles&&n.default.createElement("span",{style:e.question},t),n.default.createElement("a",{className:(this.state.liked?"enabled":"")+" "+(this.props.useLegacyStyles?"puzzle-rating-btn":""),id:"like",key:"like","data-value":"1",onClick:this.like.bind(this),style:[e.puzzleRatingButton,e.like,this.state.liked?e.likeEnabled:e.likeDisabled]},n.default.createElement("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",width:"27px",height:"27px",viewBox:"0 0 26.055 21.058",enableBackground:"new 0 0 26.055 21.058",xmlSpace:"preserve",value:"1"},n.default.createElement("path",{d:"M14.426,2.5c0.986-1.348,2.83-2.5,5.092-2.5c3.613,0,6.537,3.044,6.537,6.537 c0,2.357-1.076,3.709-1.894,4.525c-0.941,0.941-8.082,8.082-9.113,9.113c-1.244,1.243-3.019,1.137-4.246-0.09 c-1.314-1.314-7.158-7.158-9.131-9.131C0.408,9.693,0,8.113,0,6.537C0,2.926,3.197,0,6.537,0c2.451,0,4.438,1.508,5.188,2.535 C12.4,3.459,13.643,3.564,14.426,2.5z"}))),n.default.createElement("a",{className:(this.state.disliked?"enabled":"")+" "+(this.props.useLegacyStyles?"puzzle-rating-btn":""),id:"dislike",key:"dislike","data-value":"0",onClick:this.dislike.bind(this),style:[e.puzzleRatingButton,e.dislike,this.state.disliked?e.dislikeEnabled:e.dislikeDisabled]},n.default.createElement("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",width:"27px",height:"27px",viewBox:"382.321 292.82 26.37 26.371",enableBackground:"new 382.321 292.82 26.37 26.371",xmlSpace:"preserve"},n.default.createElement("path",{d:"M395.506,292.82c-7.282,0.002-13.184,5.904-13.185,13.185c0.001,7.283,5.902,13.184,13.185,13.186 c7.281-0.002,13.183-5.902,13.185-13.186C408.689,298.725,402.787,292.822,395.506,292.82z M402.5,313 c-1.795,1.793-4.257,2.896-6.994,2.898c-2.737-0.002-5.199-1.105-6.994-2.898c-1.794-1.795-2.897-4.258-2.897-6.994 s1.103-5.199,2.897-6.994c1.795-1.793,4.257-2.897,6.994-2.897s5.199,1.104,6.994,2.897c1.792,1.795,2.896,4.258,2.896,6.994 S404.292,311.205,402.5,313z M391.317,304.951c1.054,0,1.907-0.854,1.907-1.906c0-1.053-0.854-1.906-1.907-1.906 c-1.054,0-1.907,0.854-1.907,1.906C389.41,304.098,390.264,304.951,391.317,304.951z M399.691,304.951 c1.053,0,1.906-0.854,1.906-1.906c0-1.053-0.853-1.906-1.906-1.906s-1.907,0.854-1.907,1.906 C397.784,304.098,398.639,304.951,399.691,304.951z M391.773,311.928c1.037-1.035,2.379-1.543,3.739-1.545 c1.352,0.002,2.689,0.512,3.724,1.545c0.642,0.643,1.685,0.643,2.328,0c0.645-0.643,0.645-1.686,0-2.33 c-1.665-1.666-3.864-2.51-6.052-2.508h-0.008c-2.185,0-4.39,0.838-6.06,2.51c-0.642,0.643-0.643,1.686,0,2.328 C390.088,312.571,391.131,312.571,391.773,311.928z"}))))},e}(n.Component);d=m,p="propTypes",h={useLegacyStyles:r.default.bool,label:r.default.string},p in d?Object.defineProperty(d,p,{value:h,enumerable:!0,configurable:!0,writable:!0}):d[p]=h;var y=(0,i.default)(m);t.default=y,e.exports=t.default},1265:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(o(0)),i=a(o(1)),r=a(o(6));function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var l={count:{fontWeight:"bold",fontSize:"400px",fill:r.default.white,stroke:r.default.black,strokeWidth:"30px",fontFamily:"Verdana, Geneva, sans-serif"}},c=function(e){function t(){return e.apply(this,arguments)||this}return function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(t,e),t.prototype.render=function(){var e,t;if(this.props.isMinecraft){var o=this.props.lit?"iVBORw0KGgoAAAANSUhEUgAAAAsAAAAOCAYAAAD5YeaVAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAACzSURBVHjalJExDsIwDEW/GzbYG4m5A505BzuH6cQpEGdg6TlYWLp0rpSOiHZrZIaGCsfNwJcsR8mT/fVDkGJokToAYNdVyO1ZkqZcuEyA+RHgFsgOc3EL9s2ykQT4K3Oau68BKkCmxAYp+VpdZfhDCh7GSfS1WITvYZyw2waHwS8A+k4mu7+g7x/RqEJEF4tdV/H7dWf2DcefpNK43gjAM5SUgq21yTQU7JxLwmvGOfX+GQDlKDxFgn7+bgAAAABJRU5ErkJggg==":"iVBORw0KGgoAAAANSUhEUgAAAAsAAAAOCAYAAAD5YeaVAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4AsRFQUQP8g1cwAAAKpJREFUKM+VkbENxCAMRR+nK1JHAmWCZIVMkWHZAyktmSCioKbzVRfBGYr7jRF+sj8fQytBy6gDIN579n1vSOfcw71qcF1Xcs5Ya7HWknMmpfRsNDVYa9s2AGKMzPOMc443A8UY1d2LP6TgUkpTe7E0vkspTNME8PgFzHeyOY6D67qaSTXYsyXeeznPU1JK8vtJKo0QAiGE7gMVvCzLMA0F3/c9hHvGZdT/APfyQc3umPvfAAAAAElFTkSuQmCC";e=i.default.createElement("g",{className:this.props.shouldAnimate?"animate-hint":""},i.default.createElement("image",{width:"450",height:"450",x:"80",y:"140",className:"pixelated",xlinkHref:"data:image/png;base64,"+o}))}else{var n=this.props.lit?[i.default.createElement("g",{key:"line-0"},i.default.createElement("line",{fill:"#EFB834",x1:"473.582",y1:"208.1",x2:"560.578",y2:"159.16"}),i.default.createElement("path",{fill:"#EFB834",d:"M473.141,207.315c0,0,1.225-1.003,3.396-2.711c1.08-0.864,2.402-1.894,3.925-3.063 c1.525-1.167,3.227-2.514,5.117-3.927c1.887-1.418,3.931-2.954,6.092-4.578c2.158-1.632,4.462-3.3,6.831-5.055 c2.386-1.723,4.843-3.519,7.372-5.285c2.515-1.791,5.104-3.552,7.677-5.341c2.578-1.778,5.065-3.721,7.503-5.648 c1.228-0.948,2.436-1.907,3.665-2.792c1.231-0.881,2.478-1.695,3.736-2.442c2.527-1.472,5.12-2.629,7.656-3.587 c2.529-0.971,4.998-1.751,7.331-2.377c4.655-1.268,8.797-1.858,11.81-2.069c1.504-0.109,2.718-0.138,3.572-0.111 c0.843,0.007,1.313,0.047,1.313,0.047l0.883,1.569c0,0-0.21,0.422-0.641,1.146c-0.42,0.744-1.075,1.766-1.95,2.995 c-1.745,2.465-4.4,5.698-7.9,9.019c-1.746,1.669-3.694,3.374-5.838,5.031c-2.136,1.671-4.471,3.285-7.041,4.681 c-1.291,0.687-2.635,1.331-4.027,1.925c-1.394,0.591-2.841,1.126-4.289,1.683c-2.914,1.083-5.865,2.2-8.723,3.48 c-2.865,1.27-5.713,2.568-8.55,3.788c-2.823,1.245-5.633,2.412-8.345,3.556c-2.729,1.113-5.352,2.217-7.867,3.213 c-2.511,1.004-4.885,1.953-7.076,2.83c-2.189,0.881-4.224,1.637-6.013,2.334c-1.79,0.695-3.357,1.29-4.656,1.764 c-2.587,0.968-4.08,1.494-4.08,1.494L473.141,207.315z"})),i.default.createElement("g",{key:"line-1"},i.default.createElement("line",{fill:"#EFB834",x1:"492.348",y1:"410.008",x2:"589.509",y2:"432.883"}),i.default.createElement("path",{fill:"#EFB834",d:"M492.555,409.132c0,0,1.581,0.091,4.335,0.303c1.38,0.095,3.05,0.232,4.962,0.403 c1.912,0.173,4.077,0.334,6.424,0.574c2.348,0.234,4.892,0.487,7.583,0.755c2.693,0.259,5.519,0.592,8.45,0.904 c2.923,0.347,5.947,0.688,9.004,1.101c3.064,0.384,6.161,0.841,9.266,1.266c3.102,0.437,6.247,0.691,9.346,0.922 c1.546,0.133,3.084,0.246,4.588,0.426c1.502,0.185,2.972,0.43,4.403,0.732c2.857,0.628,5.548,1.531,8.064,2.543 c2.519,0.998,4.864,2.095,7.004,3.213c4.285,2.219,7.732,4.588,10.093,6.472c1.181,0.938,2.094,1.738,2.704,2.337 c0.615,0.576,0.934,0.923,0.934,0.923l-0.412,1.752c0,0-0.44,0.169-1.248,0.41c-0.813,0.263-1.987,0.572-3.463,0.885 c-2.953,0.633-7.096,1.216-11.92,1.29c-2.414,0.046-5.003-0.018-7.702-0.249c-2.703-0.216-5.515-0.609-8.351-1.322 c-1.415-0.368-2.84-0.804-4.267-1.309c-1.426-0.509-2.853-1.095-4.296-1.665c-2.878-1.176-5.805-2.351-8.776-3.344 c-2.968-1.004-5.944-1.977-8.857-3c-2.92-0.995-5.779-2.038-8.549-3.032c-2.762-1.029-5.44-1.992-7.965-2.961 c-2.528-0.961-4.918-1.869-7.124-2.708c-2.207-0.833-4.217-1.655-6.005-2.353c-1.788-0.7-3.344-1.323-4.621-1.854 c-2.559-1.039-4.015-1.663-4.015-1.663L492.555,409.132z"})),i.default.createElement("g",{key:"line-2"},i.default.createElement("line",{fill:"#EFB834",x1:"502.559",y1:"301.7",x2:"602.37",y2:"300.685"}),i.default.createElement("path",{fill:"#EFB834",d:"M502.55,300.8c0,0,1.557-0.289,4.282-0.742c1.362-0.237,3.017-0.504,4.915-0.795 c1.898-0.289,4.039-0.65,6.375-0.979c2.336-0.334,4.867-0.697,7.544-1.08c2.677-0.392,5.5-0.744,8.421-1.142 c2.921-0.362,5.939-0.753,9.006-1.084c3.067-0.359,6.183-0.656,9.3-0.985c3.116-0.317,6.23-0.823,9.296-1.339 c1.533-0.24,3.053-0.499,4.556-0.683c1.503-0.18,2.989-0.293,4.45-0.342c2.924-0.073,5.753,0.16,8.438,0.542 c2.685,0.366,5.224,0.871,7.57,1.446c4.691,1.13,8.605,2.607,11.347,3.872c1.371,0.629,2.449,1.187,3.185,1.622 c0.735,0.412,1.128,0.673,1.128,0.673l0.018,1.8c0,0-0.387,0.269-1.114,0.696c-0.727,0.45-1.793,1.031-3.151,1.687 c-2.716,1.321-6.6,2.877-11.266,4.102c-2.333,0.622-4.862,1.179-7.539,1.599c-2.676,0.436-5.5,0.727-8.425,0.713 c-1.462-0.019-2.95-0.102-4.456-0.251c-1.506-0.153-3.032-0.381-4.569-0.59c-3.075-0.454-6.199-0.895-9.321-1.149 c-3.122-0.266-6.244-0.499-9.318-0.796c-3.073-0.268-6.099-0.598-9.026-0.9c-2.928-0.338-5.758-0.634-8.442-0.971 c-2.684-0.329-5.222-0.639-7.564-0.926c-2.342-0.281-4.49-0.599-6.394-0.849c-1.903-0.253-3.563-0.486-4.93-0.695 c-2.734-0.397-4.296-0.655-4.296-0.655L502.55,300.8z"})),i.default.createElement("g",{key:"line-3"},i.default.createElement("line",{fill:"#EFB834",x1:"135.661",y1:"212.764",x2:"48.665",y2:"163.824"}),i.default.createElement("path",{fill:"#EFB834",d:"M135.22,213.548c0,0-1.493-0.526-4.08-1.494c-1.299-0.474-2.866-1.069-4.656-1.764 c-1.789-0.697-3.824-1.453-6.013-2.334c-2.191-0.876-4.565-1.826-7.076-2.83c-2.515-0.996-5.138-2.1-7.867-3.213 c-2.712-1.144-5.522-2.312-8.345-3.556c-2.837-1.22-5.686-2.518-8.55-3.788c-2.859-1.28-5.81-2.397-8.723-3.48 c-1.448-0.557-2.895-1.092-4.289-1.683c-1.392-0.594-2.736-1.238-4.027-1.925c-2.57-1.396-4.905-3.01-7.041-4.681 c-2.143-1.657-4.092-3.363-5.838-5.031c-3.5-3.32-6.155-6.554-7.9-9.019c-0.874-1.229-1.53-2.251-1.95-2.995 c-0.431-0.724-0.641-1.146-0.641-1.146l0.883-1.569c0,0,0.47-0.04,1.313-0.047c0.854-0.027,2.068,0.002,3.572,0.111 c3.013,0.211,7.155,0.801,11.81,2.069c2.332,0.625,4.801,1.406,7.331,2.377c2.537,0.958,5.129,2.115,7.656,3.587 c1.258,0.746,2.505,1.561,3.736,2.442c1.229,0.885,2.437,1.844,3.665,2.792c2.438,1.928,4.925,3.87,7.503,5.648 c2.573,1.789,5.161,3.549,7.677,5.341c2.529,1.766,4.986,3.562,7.372,5.285c2.368,1.755,4.673,3.423,6.831,5.055 c2.162,1.625,4.206,3.16,6.092,4.578c1.889,1.413,3.592,2.76,5.117,3.927c1.523,1.169,2.845,2.199,3.925,3.063 c2.17,1.708,3.396,2.711,3.396,2.711L135.22,213.548z"})),i.default.createElement("g",{key:"line-4"},i.default.createElement("line",{fill:"#EFB834",x1:"120.895",y1:"411.672",x2:"23.734",y2:"434.547"}),i.default.createElement("path",{fill:"#EFB834",d:"M121.101,412.548c0,0-1.456,0.623-4.015,1.663c-1.277,0.53-2.833,1.153-4.621,1.854 c-1.788,0.698-3.798,1.52-6.005,2.353c-2.206,0.838-4.596,1.747-7.124,2.708c-2.526,0.969-5.203,1.932-7.965,2.961 c-2.77,0.993-5.629,2.037-8.549,3.032c-2.914,1.023-5.889,1.996-8.857,3c-2.971,0.993-5.899,2.169-8.776,3.344 c-1.443,0.57-2.87,1.156-4.296,1.665c-1.427,0.505-2.852,0.941-4.267,1.309c-2.836,0.713-5.648,1.105-8.351,1.321 c-2.699,0.231-5.288,0.295-7.702,0.249c-4.824-0.074-8.967-0.657-11.92-1.29c-1.476-0.313-2.65-0.621-3.463-0.885 c-0.808-0.241-1.248-0.41-1.248-0.41l-0.413-1.752c0,0,0.319-0.347,0.934-0.923c0.61-0.598,1.523-1.399,2.704-2.337 c2.36-1.884,5.808-4.254,10.093-6.472c2.14-1.119,4.485-2.216,7.004-3.213c2.516-1.012,5.207-1.915,8.064-2.543 c1.431-0.302,2.9-0.547,4.403-0.732c1.503-0.181,3.042-0.293,4.588-0.426c3.1-0.232,6.245-0.486,9.346-0.922 c3.104-0.425,6.201-0.882,9.265-1.266c3.057-0.412,6.081-0.754,9.004-1.101c2.931-0.312,5.757-0.644,8.45-0.904 c2.691-0.268,5.235-0.521,7.583-0.755c2.347-0.239,4.512-0.4,6.424-0.574c1.913-0.171,3.583-0.308,4.962-0.403 c2.754-0.212,4.335-0.303,4.335-0.303L121.101,412.548z"})),i.default.createElement("g",{key:"line-5"},i.default.createElement("line",{fill:"#EFB834",x1:"112.684",y1:"306.364",x2:"12.873",y2:"305.349"}),i.default.createElement("path",{fill:"#EFB834",d:"M112.675,307.264c0,0-1.562,0.257-4.296,0.655c-1.367,0.21-3.026,0.443-4.93,0.695 c-1.904,0.25-4.051,0.568-6.394,0.849c-2.343,0.287-4.88,0.598-7.564,0.926c-2.684,0.337-5.514,0.633-8.442,0.971 c-2.928,0.302-5.953,0.632-9.026,0.9c-3.074,0.297-6.195,0.53-9.318,0.796c-3.122,0.254-6.246,0.696-9.321,1.149 c-1.537,0.209-3.063,0.437-4.569,0.59c-1.506,0.149-2.994,0.232-4.456,0.251c-2.925,0.014-5.749-0.277-8.425-0.713 c-2.676-0.421-5.205-0.977-7.539-1.599c-4.667-1.225-8.55-2.781-11.266-4.102c-1.358-0.656-2.424-1.237-3.151-1.687 c-0.727-0.427-1.114-0.696-1.114-0.696l0.018-1.8c0,0,0.393-0.261,1.128-0.673c0.736-0.435,1.814-0.994,3.185-1.622 c2.742-1.265,6.657-2.742,11.347-3.872c2.345-0.575,4.885-1.079,7.57-1.446c2.685-0.382,5.514-0.615,8.438-0.542 c1.462,0.049,2.947,0.162,4.45,0.342c1.503,0.184,3.024,0.443,4.556,0.683c3.065,0.516,6.18,1.021,9.296,1.339 c3.116,0.329,6.232,0.626,9.299,0.985c3.067,0.33,6.085,0.722,9.006,1.084c2.92,0.398,5.744,0.75,8.421,1.142 c2.677,0.383,5.208,0.745,7.544,1.08c2.336,0.329,4.477,0.69,6.375,0.979c1.898,0.291,3.552,0.558,4.915,0.795 c2.725,0.453,4.282,0.742,4.282,0.742L112.675,307.264z"}))]:[];e=i.default.createElement("g",{className:this.props.shouldAnimate?"animate-hint":""},i.default.createElement("path",{fill:this.props.lit?"#EFB834":"#C9C9C9",d:"M453.775,353.156c0,24.012-57.189,128.942-61.414,132.265c-12.384,9.741-48.514,15.318-82.869,16.518 c-8.362,0.292-16.619,0.325-24.403,0.096c-20.716-0.611-38.081-3.079-45.155-7.464c-6.896-4.274-74.477-119.24-74.477-141.415 c0-89.195,64.542-161.502,144.159-161.502S453.775,263.961,453.775,353.156z"}),i.default.createElement("g",{transform:"matrix(1,0,0,-1,379.66102,1293.0169)"},i.default.createElement("path",{fill:"#5D5D5D",d:"M7.357,980.857c0-2.96-1.081-5.521-3.244-7.684 s-4.724-3.244-7.684-3.244s-5.521,1.081-7.684,3.244s-3.244,4.724-3.244,7.684c0,10.473-6.147,18.556-18.442,24.248 c-12.295,5.692-24.362,8.538-36.201,8.538c-2.96,0-5.521,1.081-7.684,3.244s-3.244,4.724-3.244,7.684 c0,2.96,1.081,5.521,3.244,7.684s4.724,3.244,7.684,3.244c11.384,0,22.711-1.821,33.981-5.464s21.174-9.79,29.712-18.442 S7.357,992.696,7.357,980.857z M62,980.857c0,16.393-3.927,31.647-11.782,45.763s-18.1,25.671-30.737,34.664 s-26.638,16.051-42.007,21.174s-30.907,7.684-46.617,7.684s-31.249-2.561-46.617-7.684s-29.371-12.181-42.007-21.174 c-12.636-8.993-22.882-20.548-30.737-34.664c-7.855-14.116-11.782-29.371-11.782-45.763c0-22.996,7.741-43.487,23.223-61.473 c2.277-2.504,5.749-6.261,10.416-11.27c4.667-5.009,8.14-8.766,10.416-11.27c29.143-34.835,45.194-68.759,48.154-101.772h77.866 c2.96,33.013,19.011,66.938,48.154,101.772c2.277,2.504,5.749,6.261,10.416,11.27s8.14,8.766,10.416,11.27 C54.259,937.37,62,957.862,62,980.857z M105.714,980.857c0-35.29-11.725-65.799-35.176-91.527 c-10.246-11.156-18.727-21.06-25.443-29.712s-13.49-19.523-20.32-32.615c-6.83-13.092-10.701-25.329-11.612-36.713 c10.701-6.375,16.051-15.71,16.051-28.004c0-8.424-2.846-15.71-8.538-21.857c5.692-6.147,8.538-13.433,8.538-21.857 c0-11.839-5.123-21.06-15.368-27.663c2.96-5.237,4.44-10.587,4.44-16.051c0-10.473-3.586-18.556-10.758-24.248 s-15.994-8.538-26.468-8.538c-4.554-10.018-11.384-17.987-20.491-23.906c-9.107-5.92-19.011-8.879-29.712-8.879 c-10.701,0-20.605,2.96-29.712,8.879c-9.107,5.92-15.938,13.888-20.491,23.906c-10.473,0-19.296,2.846-26.468,8.538 s-10.758,13.775-10.758,24.248c0,5.464,1.48,10.815,4.44,16.051c-10.246,6.603-15.368,15.824-15.368,27.663 c0,8.424,2.846,15.71,8.538,21.857c-5.692,6.147-8.538,13.433-8.538,21.857c0,12.295,5.35,21.629,16.051,28.004 c-0.911,11.384-4.781,23.622-11.612,36.713c-6.83,13.091-13.604,23.963-20.32,32.615s-15.198,18.556-25.443,29.712 C-232.275,915.058-244,945.567-244,980.857c0,22.54,5.066,43.544,15.198,63.01c10.132,19.467,23.451,35.632,39.958,48.496 c16.507,12.864,35.176,22.995,56.009,30.395s42.064,11.099,63.693,11.099s42.86-3.7,63.693-11.099s39.502-17.531,56.009-30.395 c16.507-12.864,29.826-29.029,39.958-48.496C100.648,1024.401,105.714,1003.397,105.714,980.857z"})),n)}if(this.props.lit&&this.props.count){var r=9<this.props.count?"9+":this.props.count;t=i.default.createElement("g",null,i.default.createElement("text",{id:"hintCount",x:"400",y:"700",style:l.count},r))}return i.default.createElement("svg",{width:this.props.size,height:this.props.size,style:this.props.style,viewBox:"0 0 612 792"},e,t)},t}(i.default.Component);s(t.default=c,"propTypes",{shouldAnimate:n.default.bool,count:n.default.number,lit:n.default.bool,size:n.default.number,style:n.default.object,isMinecraft:n.default.bool}),s(c,"defaultProps",{shouldAnimate:!1,count:0,lit:!0,size:40,style:{}}),e.exports=t.default},1266:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.ImagePreview=void 0;var n=l(o(1)),r=l(o(0)),i=l(o(14)),a=o(9),s=o(854);function l(e){return e&&e.__esModule?e:{default:e}}var c,u,d,p={wrapper:{display:"inline-block",position:"relative"},aniGifPreview:function(e){return{cursor:"pointer",backgroundImage:"url('".concat(e,"')")}},bigPreview:{width:240,height:180,backgroundSize:"240px 180px"}},h=function(e){function t(){return e.apply(this,arguments)||this}return function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(t,e),t.prototype.render=function(){return n.default.createElement("div",{id:"ani-gif-preview-wrapper",style:p.wrapper},n.default.createElement("div",{id:"ani-gif-preview",style:[p.aniGifPreview(this.props.url),this.props.noVisualization&&p.bigPreview],onClick:this.props.showInstructionsDialog}))},t}(n.default.Component);c=h,u="propTypes",d={url:r.default.string.isRequired,showInstructionsDialog:r.default.func.isRequired,noVisualization:r.default.bool.isRequired},u in c?Object.defineProperty(c,u,{value:d,enumerable:!0,configurable:!0,writable:!0}):c[u]=d;var g=(0,i.default)(h);t.ImagePreview=g;var f=(0,a.connect)(function(e){return{url:e.pageConstants.aniGifURL,noVisualization:e.pageConstants.noVisualization}},function(e){return{showInstructionsDialog:function(){e((0,s.openDialog)({autoClose:!1,imgOnly:!0,hintsOnly:!1}))}}})(g);t.default=f},1267:function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){rethrow=rethrow||function(e,t,o,n,r){var i=t.split("\n"),a=Math.max(n-3,0),s=Math.min(i.length,n+3),l=r(o),c=i.slice(a,s).map(function(e,t){var o=t+a+1;return(o==n?" >> ":"    ")+o+"| "+e}).join("\n");throw e.path=l,e.message=(l||"ejs")+":"+n+"\n"+c+"\n\n"+e.message,e},escapeFn=escapeFn||function(e){return null==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __line=1,__lines='<% function getPrefixedName () {\n  return locals.tipPrefix ? locals.tipPrefix + locals.functionName : locals.functionName;\n} %>\n<div class="function-name">\n  <% if (locals.signatureOverride) { -%>\n    <%= locals.signatureOverride %>\n  <% } else if (locals.isProperty) { -%>\n    <%= getPrefixedName() %>\n  <% } else {\n    /**\n     * TODO(bjordan): would be nice to split the following line up, can\'t figure\n     * out how to do so without inserting extraneous spaces between locals.parameters.\n     */\n    -%>\n    <%= getPrefixedName() %>(<% for (var i = 0; i < locals.parameters.length; i++) { -%><%- locals.parameters[i].name -%><% if (i < locals.parameters.length - 1) { -%>, <% } -%><% } -%>)\n  <% } %>\n</div>\n<% if (locals.functionShortDescription) { %>\n  <% locals.functionShortDescription.split(\'\\n\').map(function(descriptionLine) { %>\n    <div>\n      <%= descriptionLine %>\n    </div>\n  <% }) %>\n<% } %>\n<% var linkText = "See examples" %>\n<% if (locals.customExamplesLink) { %>\n  <% linkText = "" %>\n<% } %>\n<% if (locals.showExamplesLink) { %>\n  <div class="tooltip-example-link">\n    <a href="javascript:void(0);">\n      <%= linkText %>\n    </a>\n  </div>\n<% } %>\n',__filename="src/blockTooltips/DropletFunctionTooltip.html.ejs";try{var __output=[],__append=__output.push.bind(__output);with(locals||{}){function getPrefixedName(){return locals.tipPrefix?locals.tipPrefix+locals.functionName:locals.functionName}if(__line=3,__append('\n<div class="function-name">\n  '),__line=5,locals.signatureOverride)__append("    "),__line=6,__append(escapeFn(locals.signatureOverride)),__append("\n  "),__line=7;else if(locals.isProperty)__append("    "),__line=8,__append(escapeFn(getPrefixedName())),__append("\n  "),__line=9;else{__line=14,__append("    "),__line=15,__append(escapeFn(getPrefixedName())),__append("(");for(var i=0;i<locals.parameters.length;i++)__append(locals.parameters[i].name),i<locals.parameters.length-1&&__append(", ");__append(")\n  "),__line=16}__append("\n</div>\n"),__line=18,locals.functionShortDescription&&(__append("\n  "),__line=19,locals.functionShortDescription.split("\n").map(function(e){__append("\n    <div>\n      "),__line=21,__append(escapeFn(e)),__append("\n    </div>\n  "),__line=23}),__append("\n"),__line=24),__append("\n"),__line=25;var linkText="See examples";__append("\n"),__line=26,locals.customExamplesLink&&(__append("\n  "),__line=27,linkText="",__append("\n"),__line=28),__append("\n"),__line=29,locals.showExamplesLink&&(__append('\n  <div class="tooltip-example-link">\n    <a href="javascript:void(0);">\n      '),__line=32,__append(escapeFn(linkText)),__append("\n    </a>\n  </div>\n"),__line=35),__append("\n"),__line=36}return __output.join("")}catch(e){rethrow(e,__lines,__filename,__line,escapeFn)}}},1268:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.UnconnectedDownloadReplayVideoButton=void 0;var n=l(o(0)),i=l(o(1)),r=o(9),a=l(o(4)),s=l(o(6));function l(e){return e&&e.__esModule?e:{default:e}}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var d={disabledLink:{backgroundColor:s.default.lighter_gray,borderColor:s.default.lighter_gray,boxShadow:"none"},icon:{fontSize:17},span:{paddingLeft:10}},p=function(r){function e(){for(var n,e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];return u(c(n=r.call.apply(r,[this].concat(t))||this),"state",{videoExists:!1,downloadInitiated:!1,checkVideoAttempts:0}),u(c(n),"getUploadUrl",function(){return window&&window.appOptions&&window.appOptions.signedReplayLogUrl}),u(c(n),"hasReplayVideo",function(){return"dance"===n.props.appType&&n.getUploadUrl()}),u(c(n),"shouldCreateReplayVideo",function(){return n.hasReplayVideo()&&n.props.replayLog&&1<n.props.replayLog.length}),u(c(n),"tryCreateReplayVideo",function(){n.shouldCreateReplayVideo()&&fetch(n.getUploadUrl(),{method:"PUT",body:JSON.stringify(n.props.replayLog)})}),u(c(n),"getVideoUrl",function(){return"https://dance-api.code.org/videos/video-".concat(n.props.channelId,".mp4")}),u(c(n),"buttonEnabled",function(){return n.state.videoExists||!n.state.downloadInitiated}),u(c(n),"tryDownloadVideo",function(e){return n.state.downloadInitiated||n.setState({downloadInitiated:!0}),n.state.videoExists?(function(e,n){fetch(e,{method:"GET"}).then(function(e){return e.blob()}).then(function(e){var t=document.createElement("a"),o=URL.createObjectURL(e);t.setAttribute("href",o),t.setAttribute("download",n),t.style.display="none",document.body.appendChild(t),t.click(),document.body.removeChild(t)}).catch(function(e){console.log(e)})}(n.getVideoUrl(),"dance_party.mp4"),n.setState({downloadInitiated:!1})):n.checkVideo(),e&&e.preventDefault(),!1}),u(c(n),"checkVideoUntilSuccess",function(){var o=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1e3;if(n.hasReplayVideo()&&!n.state.videoExists){if(n.checkVideoUntilSuccessTimeout&&clearTimeout(n.checkVideoUntilSuccessTimeout),30<=n.state.checkVideoAttempts)return n.setState({checkVideoAttempts:0}),void(n.props.onError&&n.props.onError());n.checkVideo().then(function(e){n.checkVideoUntilSuccessTimeout=null;var t=n.state.checkVideoAttempts;e.ok||(n.checkVideoUntilSuccessTimeout=setTimeout(n.checkVideoUntilSuccess,o),t+=1),n.setState({checkVideoAttempts:t})})}}),n}!function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(e,r);var t=e.prototype;return t.componentDidUpdate=function(e,t,o){this.state.downloadInitiated&&this.state.videoExists&&!t.videoExists&&this.tryDownloadVideo()},t.componentDidMount=function(){this.tryCreateReplayVideo(),this.checkVideoUntilSuccess()},t.componentWillUnmount=function(){clearTimeout(this.checkVideoUntilSuccessTimeout)},t.checkVideo=function(){var t=this;return fetch(this.getVideoUrl(),{method:"HEAD"}).then(function(e){return t.setState({videoExists:e.ok}),e})},t.render=function(){if(!this.props.channelId||!this.hasReplayVideo())return null;var e="fa-download";this.state.downloadInitiated&&(e="fa-spinner fa-pulse");var t=Object.assign({},this.props.style);return this.buttonEnabled()||Object.assign(t,d.disabledLink),i.default.createElement("button",{type:"button",className:"download-replay-video-button",style:t,disabled:!this.buttonEnabled(),onClick:this.tryDownloadVideo},i.default.createElement("i",{className:"fa ".concat(e),style:d.icon}),i.default.createElement("span",{style:d.span},a.default.downloadReplayVideoButtonDownload()))},e}(i.default.Component);u(p,"propTypes",{appType:n.default.string,channelId:n.default.string,onError:n.default.func,replayLog:n.default.array,style:n.default.object});var h=p;t.UnconnectedDownloadReplayVideoButton=h;var g=(0,r.connect)(function(e){return{appType:e.pageConstants.appType,channelId:e.pageConstants.channelId,replayLog:e.shareDialog.replayLog}})(p);t.default=g},1269:function(e,t){e.exports={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8}},127:function(e,l){l.addReadyListener=function(e){"complete"===document.readyState?setTimeout(e,1):window.addEventListener("load",e,!1)},l.getTouchEventName=function(e){var t,o=window.navigator.pointerEnabled,n=window.navigator.msPointerEnabled;if(o?t="ie11":n?t="ie10":!(o||n)&&(t="standard"),t&&r[e])return r[e][t]};var n=function(n,e,t){var o=!(3<arguments.length&&void 0!==arguments[3])||arguments[3],r={},i=function(e,t,o){n.addEventListener(t,o,!1),r[e]={name:t,handler:o}},a=function(e){var t=r[e];t&&(n.removeEventListener(t.name,t.handler),delete r[e])};i("click",e,t);var s=l.getTouchEventName(e);return s&&i("touch",s,function(e){o&&e.preventDefault();["pointerdown","MSPointerDown","pointermove","MSPointerMove","pointerup","MSPointerUp"].includes(s)&&a("click"),t.call(this,e)}),function(){a("click"),a("touch")}};l.addMouseDownTouchEvent=function(e,t){return n(e,"mousedown",t)},l.addMouseUpTouchEvent=function(e,t){var o=!(2<arguments.length&&void 0!==arguments[2])||arguments[2];return n(e,"mouseup",t,o)},l.addMouseMoveTouchEvent=function(e,t){return n(e,"mousemove",t)},l.addClickTouchEvent=function(e,t){return n(e,"click",t)};var r={click:{standard:"touchstart",ie10:"MSPointerDown",ie11:"pointerdown"},mousedown:{standard:"touchstart",ie10:"MSPointerDown",ie11:"pointerdown"},mouseup:{standard:"touchend",ie10:"MSPointerUp",ie11:"pointerup"},mousemove:{standard:"touchmove",ie10:"MSPointerMove",ie11:"pointermove"}};l.TOUCH_MAP=r,l.isMobile=function(){return/Mobile|iP(hone|od|ad)|Android|BlackBerry|IEMobile/.test(window.navigator.userAgent)},l.isWindowsTouch=function(){return/MSIE.*Touch/.test(window.navigator.userAgent)},l.isAndroid=function(){return/Android/.test(window.navigator.userAgent)},l.isIOS=function(){return/iP(hone|od|ad)/.test(window.navigator.userAgent)},l.isIPad=function(){return/iPad/i.test(window.navigator.userAgent)}},1270:function(e,t){e.exports={L:1,M:0,Q:3,H:2}},1271:function(e,t,o){var r=o(1272);function i(e,t){if(null==e.length)throw new Error(e.length+"/"+t);for(var o=0;o<e.length&&0==e[o];)o++;this.num=new Array(e.length-o+t);for(var n=0;n<e.length-o;n++)this.num[n]=e[n+o]}i.prototype={get:function(e){return this.num[e]},getLength:function(){return this.num.length},multiply:function(e){for(var t=new Array(this.getLength()+e.getLength()-1),o=0;o<this.getLength();o++)for(var n=0;n<e.getLength();n++)t[o+n]^=r.gexp(r.glog(this.get(o))+r.glog(e.get(n)));return new i(t,0)},mod:function(e){if(this.getLength()-e.getLength()<0)return this;for(var t=r.glog(this.get(0))-r.glog(e.get(0)),o=new Array(this.getLength()),n=0;n<this.getLength();n++)o[n]=this.get(n);for(n=0;n<e.getLength();n++)o[n]^=r.gexp(r.glog(e.get(n))+t);return new i(o,0).mod(e)}},e.exports=i},1272:function(e,t){for(var o={glog:function(e){if(e<1)throw new Error("glog("+e+")");return o.LOG_TABLE[e]},gexp:function(e){for(;e<0;)e+=255;for(;256<=e;)e-=255;return o.EXP_TABLE[e]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},n=0;n<8;n++)o.EXP_TABLE[n]=1<<n;for(n=8;n<256;n++)o.EXP_TABLE[n]=o.EXP_TABLE[n-4]^o.EXP_TABLE[n-5]^o.EXP_TABLE[n-6]^o.EXP_TABLE[n-8];for(n=0;n<255;n++)o.LOG_TABLE[o.EXP_TABLE[n]]=n;e.exports=o},1273:function(e,t,i){"use strict";var a=n(i(4)),s=n(i(10)),o=i(11);function n(e){return e&&e.__esModule?e:{default:e}}var l=i(127),c={};(e.exports=c).buildPuzzleRatingButtons=function(){var e=document.createElement("div");e.id="puzzleRatingButtons",e.innerHTML=i(1905)({label:a.default.puzzleRatingQuestion()});for(var t,o=e.querySelectorAll(".puzzle-rating-btn"),n=function(){for(var e,t=0;e=o[t];t++)e!==this&&(0,s.default)(e).removeClass("enabled");(0,s.default)(this).toggleClass("enabled")},r=0;t=o[r];r++)l.addClickTouchEvent(t,n);return e},c.getPuzzleRatings_=function(){var e=localStorage.getItem("puzzleRatings");try{return e?JSON.parse(e):[]}catch(e){return[]}},c.setPuzzleRatings_=function(e){(0,o.trySetLocalStorage)("puzzleRatings",JSON.stringify(e))},c.removePuzzleRating_=function(t){var e=c.getPuzzleRatings_().filter(function(e){return!(t.level_id===e.level_id&&t.script_id===e.script_id&&t.rating===e.rating)});c.setPuzzleRatings_(e)},c.cachePuzzleRating=function(e,t){var o=e.querySelector(".enabled");if(o){var n=Object.assign({},t,{rating:o.getAttribute("data-value")}),r=c.getPuzzleRatings_();r.push(n),c.setPuzzleRatings_(r)}},c.submitCachedPuzzleRatings=function(t){c.getPuzzleRatings_().forEach(function(e){s.default.ajax({url:t,type:"POST",data:e,complete:function(){c.removePuzzleRating_(e)}})})}},1274:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(o(0)),r=a(o(1)),i=a(o(93));function a(e){return e&&e.__esModule?e:{default:e}}var s,l,c,u=function(e){function t(){return e.apply(this,arguments)||this}return function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(t,e),t.prototype.render=function(){return r.default.createElement("div",{className:"generated-code-container",style:this.props.style},r.default.createElement("div",{className:"generatedCodeMessage"},r.default.createElement(i.default,{markdown:this.props.message})),r.default.createElement("pre",{className:"generatedCode",dir:"ltr"},this.props.code))},t}(r.default.Component);t.default=u,s=u,l="propTypes",c={message:n.default.string.isRequired,code:n.default.string.isRequired,style:n.default.object},l in s?Object.defineProperty(s,l,{value:c,enumerable:!0,configurable:!0,writable:!0}):s[l]=c,e.exports=t.default},1275:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(o(1)),r=s(o(0)),i=s(o(4)),a=s(o(23));function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var c={copy:{cursor:"copy",width:250,height:25,marginBottom:0},button:{marginLeft:10}},u=function(r){function e(){for(var e,t=arguments.length,o=new Array(t),n=0;n<t;n++)o[n]=arguments[n];return l(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e=r.call.apply(r,[this].concat(o))||this),"copyChannelId",function(){e.channelId.select(),document.execCommand("copy")}),e}return function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(e,r),e.prototype.render=function(){var t=this,e=this.props.channelId;return n.default.createElement("div",null,n.default.createElement("input",{type:"text",ref:function(e){return t.channelId=e},onClick:function(e){return e.target.select()},readOnly:"true",value:e,style:c.copy}),n.default.createElement(a.default,{onClick:this.copyChannelId,text:i.default.copyId(),style:c.button}))},e}(n.default.Component);l(t.default=u,"propTypes",{channelId:r.default.string.isRequired}),e.exports=t.default},1277:function(e,t,o){(function(e){"use strict";var c,h,a,o;e.version="0.4.1",e.parse=function(e,t){return h=String(e),a=h.length,r(t),qe(),function(e){_=v=l,c.locations&&(b=new ze);E=S=null,T=[],$e();var t=e||ut(),o=!0;e||(t.body=[]);for(;f!==R;){var n=Tt();t.body.push(n),o&&ht(n)&&st(!0),o=!1}return pt(t,"Program")}(c.program)};var n=e.defaultOptions={ecmaVersion:5,strictSemicolons:!1,allowTrailingCommas:!0,forbidReserved:!1,locations:!1,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null};function r(e){for(var t in c=e||{},n)Object.prototype.hasOwnProperty.call(c,t)||(c[t]=n[t]);o=c.sourceFile||null}var l,g,i,s,u,f,m,d,p,y,_,v,b,E,T,S,k=e.getLineInfo=function(e,t){for(var o=1,n=0;;){Ge.lastIndex=n;var r=Ge.exec(e);if(!(r&&r.index<t))break;++o,n=r.index+r[0].length}return{line:o,column:t-n}};function C(e,t){var o=k(h,e);t+=" ("+o.line+":"+o.column+")";var n=new SyntaxError(t);throw n.pos=e,n.loc=o,n.raisedAt=l,n}e.tokenize=function(e,t){h=String(e),a=h.length,r(t),qe();var o={};function n(e){return $e(e),o.start=g,o.end=i,o.startLoc=s,o.endLoc=u,o.type=f,o.value=m,o}return n.jumpTo=function(e,t){var o;if(l=e,c.locations)for(p=1,y=Ge.lastIndex=0;(o=Ge.exec(h))&&o.index<e;)++p,y=o.index+o[0].length;d=t,Je()},n};var A=[],O={type:"num"},w={type:"regexp"},B={type:"string"},I={type:"name"},R={type:"eof"},N={keyword:"break"},P={keyword:"case",beforeExpr:!0},L={keyword:"catch"},x={keyword:"continue"},D={keyword:"debugger"},M={keyword:"default"},U={keyword:"do",isLoop:!0},F={keyword:"else",beforeExpr:!0},H={keyword:"finally"},j={keyword:"for",isLoop:!0},G={keyword:"function"},V={keyword:"if"},W={keyword:"return",beforeExpr:!0},z={keyword:"switch"},q={keyword:"throw",beforeExpr:!0},K={keyword:"try"},Y={keyword:"var"},X={keyword:"while",isLoop:!0},J={keyword:"with"},Q={keyword:"new",beforeExpr:!0},$={keyword:"this"},Z={keyword:"null",atomValue:null},ee={keyword:"true",atomValue:!0},te={keyword:"false",atomValue:!1},oe={keyword:"in",binop:7,beforeExpr:!0},ne={break:N,case:P,catch:L,continue:x,debugger:D,default:M,do:U,else:F,finally:H,for:j,function:G,if:V,return:W,switch:z,throw:q,try:K,var:Y,while:X,with:J,null:Z,true:ee,false:te,new:Q,in:oe,instanceof:{keyword:"instanceof",binop:7,beforeExpr:!0},this:$,typeof:{keyword:"typeof",prefix:!0,beforeExpr:!0},void:{keyword:"void",prefix:!0,beforeExpr:!0},delete:{keyword:"delete",prefix:!0,beforeExpr:!0}},re={type:"[",beforeExpr:!0},ie={type:"]"},ae={type:"{",beforeExpr:!0},se={type:"}"},le={type:"(",beforeExpr:!0},ce={type:")"},ue={type:",",beforeExpr:!0},de={type:";",beforeExpr:!0},pe={type:":",beforeExpr:!0},he={type:"."},ge={type:"?",beforeExpr:!0},fe={binop:10,beforeExpr:!0},me={isAssign:!0,beforeExpr:!0},ye={isAssign:!0,beforeExpr:!0},_e={postfix:!0,prefix:!0,isUpdate:!0},ve={prefix:!0,beforeExpr:!0},be={binop:1,beforeExpr:!0},Ee={binop:2,beforeExpr:!0},Te={binop:3,beforeExpr:!0},Se={binop:4,beforeExpr:!0},ke={binop:5,beforeExpr:!0},Ce={binop:6,beforeExpr:!0},Ae={binop:7,beforeExpr:!0},Oe={binop:8,beforeExpr:!0},we={binop:9,prefix:!0,beforeExpr:!0},Be={binop:10,beforeExpr:!0};for(var t in e.tokTypes={bracketL:re,bracketR:ie,braceL:ae,braceR:se,parenL:le,parenR:ce,comma:ue,semi:de,colon:pe,dot:he,question:ge,slash:fe,eq:me,name:I,eof:R,num:O,regexp:w,string:B},ne)e.tokTypes["_"+t]=ne[t];function Ie(e){e=e.split(" ");var o="",t=[];e:for(var n=0;n<e.length;++n){for(var r=0;r<t.length;++r)if(t[r][0].length==e[n].length){t[r].push(e[n]);continue e}t.push([e[n]])}function i(e){if(1==e.length)return o+="return str === "+JSON.stringify(e[0])+";";o+="switch(str){";for(var t=0;t<e.length;++t)o+="case "+JSON.stringify(e[t])+":";o+="return true}return false;"}if(3<t.length){t.sort(function(e,t){return t.length-e.length}),o+="switch(str.length){";for(n=0;n<t.length;++n){var a=t[n];o+="case "+a[0].length+":",i(a)}o+="}"}else i(e);return new Function("str",o)}var Re,Ne=Ie("abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile"),Pe=Ie("class enum extends super const export import"),Le=Ie("implements interface let package private protected public static yield"),xe=Ie("eval arguments"),De=Ie("break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this"),Me=/[\u1680\u180e\u2000-\u200a\u202f\u205f\u3000\ufeff]/,Ue="ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԧԱ-Ֆՙա-ևא-תװ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࢠࢢ-ࢬऄ-हऽॐक़-ॡॱ-ॷॹ-ॿঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-ళవ-హఽౘౙౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൠൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛰᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤜᥐ-ᥭᥰ-ᥴᦀ-ᦫᧁ-ᧇᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᳩ-ᳬᳮ-ᳱᳵᳶᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々-〇〡-〩〱-〵〸-〼ぁ-ゖゝ-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿌ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚗꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐ-ꞓꞠ-Ɦꟸ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꪀ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꯀ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ",Fe=new RegExp("["+Ue+"]"),He=new RegExp("["+Ue+"̀-ͯ҃-֑҇-ׇֽֿׁׂׅׄؐ-ؚؠ-ىٲ-ۓۧ-ۨۻ-ۼܰ-݊ࠀ-ࠔࠛ-ࠣࠥ-ࠧࠩ-࠭ࡀ-ࡗࣤ-ࣾऀ-ःऺ-़ा-ॏ॑-ॗॢ-ॣ०-९ঁ-ঃ়া-ৄেৈৗয়-ৠਁ-ਃ਼ਾ-ੂੇੈੋ-੍ੑ੦-ੱੵઁ-ઃ઼ા-ૅે-ૉો-્ૢ-ૣ૦-૯ଁ-ଃ଼ା-ୄେୈୋ-୍ୖୗୟ-ୠ୦-୯ஂா-ூெ-ைொ-்ௗ௦-௯ఁ-ఃె-ైొ-్ౕౖౢ-ౣ౦-౯ಂಃ಼ಾ-ೄೆ-ೈೊ-್ೕೖೢ-ೣ೦-೯ംഃെ-ൈൗൢ-ൣ൦-൯ංඃ්ා-ුූෘ-ෟෲෳิ-ฺเ-ๅ๐-๙ິ-ູ່-ໍ໐-໙༘༙༠-༩༹༵༷ཁ-ཇཱ-྄྆-྇ྍ-ྗྙ-ྼ࿆က-ဩ၀-၉ၧ-ၭၱ-ၴႂ-ႍႏ-ႝ፝-፟ᜎ-ᜐᜠ-ᜰᝀ-ᝐᝲᝳក-ឲ៝០-៩᠋-᠍᠐-᠙ᤠ-ᤫᤰ-᤻ᥑ-ᥭᦰ-ᧀᧈ-ᧉ᧐-᧙ᨀ-ᨕᨠ-ᩓ᩠-᩿᩼-᪉᪐-᪙ᭆ-ᭋ᭐-᭙᭫-᭳᮰-᮹᯦-᯳ᰀ-ᰢ᱀-᱉ᱛ-ᱽ᳐-᳒ᴀ-ᶾḁ-ἕ‌‍‿⁀⁔⃐-⃥⃜⃡-⃰ⶁ-ⶖⷠ-ⷿ〡-〨゙゚Ꙁ-ꙭꙴ-꙽ꚟ꛰-꛱ꟸ-ꠀ꠆ꠋꠣ-ꠧꢀ-ꢁꢴ-꣄꣐-꣙ꣳ-ꣷ꤀-꤉ꤦ-꤭ꤰ-ꥅꦀ-ꦃ꦳-꧀ꨀ-ꨧꩀ-ꩁꩌ-ꩍ꩐-꩙ꩻꫠ-ꫩꫲ-ꫳꯀ-ꯡ꯬꯭꯰-꯹ﬠ-ﬨ︀-️︠-︦︳︴﹍-﹏０-９＿]"),je=/[\n\r\u2028\u2029]/,Ge=/\r\n|[\n\r\u2028\u2029]/g,Ve=e.isIdentifierStart=function(e){return e<65?36===e:e<91||(e<97?95===e:e<123||170<=e&&Fe.test(String.fromCharCode(e)))},We=e.isIdentifierChar=function(e){return e<48?36===e:e<58||!(e<65)&&(e<91||(e<97?95===e:e<123||170<=e&&He.test(String.fromCharCode(e))))};function ze(){this.line=p,this.column=l-y}function qe(){p=1,l=y=0,d=!0,Je()}function Ke(e,t){i=l,c.locations&&(u=new ze),f=e,Je(),m=t,d=e.beforeExpr}function Ye(){var e,t=c.onComment&&c.locations&&new ze,o=l,n=h.indexOf("*/",l+=2);if(-1===n&&C(l-2,"Unterminated comment"),l=n+2,c.locations)for(Ge.lastIndex=o;(e=Ge.exec(h))&&e.index<l;)++p,y=e.index+e[0].length;c.onComment&&c.onComment(!0,h.slice(o+2,n),o,l,t,c.locations&&new ze)}function Xe(){for(var e=l,t=c.onComment&&c.locations&&new ze,o=h.charCodeAt(l+=2);l<a&&10!==o&&13!==o&&8232!==o&&8233!==o;)++l,o=h.charCodeAt(l);c.onComment&&c.onComment(!1,h.slice(e+2,l),e,l,t,c.locations&&new ze)}function Je(){for(;l<a;){var e=h.charCodeAt(l);if(32===e)++l;else if(13===e){++l,10===(t=h.charCodeAt(l))&&++l,c.locations&&(++p,y=l)}else if(10===e||8232===e||8233===e)++l,c.locations&&(++p,y=l);else if(8<e&&e<14)++l;else if(47===e){var t;if(42===(t=h.charCodeAt(l+1)))Ye();else{if(47!==t)break;Xe()}}else if(160===e)++l;else{if(!(5760<=e&&Me.test(String.fromCharCode(e))))break;++l}}}function Qe(e){switch(e){case 46:return function(){var e=h.charCodeAt(l+1);return 48<=e&&e<=57?ot(!0):(++l,Ke(he))}();case 40:return++l,Ke(le);case 41:return++l,Ke(ce);case 59:return++l,Ke(de);case 44:return++l,Ke(ue);case 91:return++l,Ke(re);case 93:return++l,Ke(ie);case 123:return++l,Ke(ae);case 125:return++l,Ke(se);case 58:return++l,Ke(pe);case 63:return++l,Ke(ge);case 48:var t=h.charCodeAt(l+1);if(120===t||88===t)return function(){l+=2;var e=tt(16);null==e&&C(g+2,"Expected hexadecimal number");Ve(h.charCodeAt(l))&&C(l,"Identifier directly after number");return Ke(O,e)}();case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return ot(!1);case 34:case 39:return function(e){l++;for(var t="";;){a<=l&&C(g,"Unterminated string constant");var o=h.charCodeAt(l);if(o===e)return++l,Ke(B,t);if(92===o){o=h.charCodeAt(++l);var n=/^[0-7]+/.exec(h.slice(l,l+3));for(n&&(n=n[0]);n&&255<parseInt(n,8);)n=n.slice(0,-1);if("0"===n&&(n=null),++l,n)S&&C(l-2,"Octal literal in strict mode"),t+=String.fromCharCode(parseInt(n,8)),l+=n.length-1;else switch(o){case 110:t+="\n";break;case 114:t+="\r";break;case 120:t+=String.fromCharCode(nt(2));break;case 117:t+=String.fromCharCode(nt(4));break;case 85:t+=String.fromCharCode(nt(8));break;case 116:t+="\t";break;case 98:t+="\b";break;case 118:t+="\v";break;case 102:t+="\f";break;case 48:t+="\0";break;case 13:10===h.charCodeAt(l)&&++l;case 10:c.locations&&(y=l,++p);break;default:t+=String.fromCharCode(o)}}else 13!==o&&10!==o&&8232!==o&&8233!==o||C(g,"Unterminated string constant"),t+=String.fromCharCode(o),++l}}(e);case 47:return function(){var e=h.charCodeAt(l+1);return d?(++l,et()):61===e?Ze(ye,2):Ze(fe,1)}();case 37:case 42:return 61===h.charCodeAt(l+1)?Ze(ye,2):Ze(Be,1);case 124:case 38:return function(e){var t=h.charCodeAt(l+1);return t===e?Ze(124===e?be:Ee,2):61===t?Ze(ye,2):Ze(124===e?Te:ke,1)}(e);case 94:return 61===h.charCodeAt(l+1)?Ze(ye,2):Ze(Se,1);case 43:case 45:return function(e){var t=h.charCodeAt(l+1);return t===e?45==t&&62==h.charCodeAt(l+2)&&je.test(h.slice(v,l))?(l+=3,Xe(),Je(),$e()):Ze(_e,2):61===t?Ze(ye,2):Ze(we,1)}(e);case 60:case 62:return function(e){var t=h.charCodeAt(l+1),o=1;return t===e?(o=62===e&&62===h.charCodeAt(l+2)?3:2,61===h.charCodeAt(l+o)?Ze(ye,o+1):Ze(Oe,o)):33==t&&60==e&&45==h.charCodeAt(l+2)&&45==h.charCodeAt(l+3)?(l+=4,Xe(),Je(),$e()):(61===t&&(o=61===h.charCodeAt(l+2)?3:2),Ze(Ae,o))}(e);case 61:case 33:return function(e){return 61===h.charCodeAt(l+1)?Ze(Ce,61===h.charCodeAt(l+2)?3:2):Ze(61===e?me:ve,1)}(e);case 126:return Ze(ve,1)}return!1}function $e(e){if(e?l=g+1:g=l,c.locations&&(s=new ze),e)return et();if(a<=l)return Ke(R);var t=h.charCodeAt(l);if(Ve(t)||92===t)return it();var o=Qe(t);if(!1===o){var n=String.fromCharCode(t);if("\\"===n||Fe.test(n))return it();C(l,"Unexpected character '"+n+"'")}return o}function Ze(e,t){var o=h.slice(l,l+t);l+=t,Ke(e,o)}function et(){for(var e,t,o=l;;){a<=l&&C(o,"Unterminated regular expression");var n=h.charAt(l);if(je.test(n)&&C(o,"Unterminated regular expression"),e)e=!1;else{if("["===n)t=!0;else if("]"===n&&t)t=!1;else if("/"===n&&!t)break;e="\\"===n}++l}var r=h.slice(o,l);++l;var i=rt();return i&&!/^[gmsiy]*$/.test(i)&&C(o,"Invalid regexp flag"),Ke(w,new RegExp(r,i))}function tt(e,t){for(var o=l,n=0,r=0,i=null==t?1/0:t;r<i;++r){var a,s=h.charCodeAt(l);if(e<=(a=97<=s?s-97+10:65<=s?s-65+10:48<=s&&s<=57?s-48:1/0))break;++l,n=n*e+a}return l===o||null!=t&&l-o!==t?null:n}function ot(e){var t=l,o=!1,n=48===h.charCodeAt(l);e||null!==tt(10)||C(t,"Invalid number"),46===h.charCodeAt(l)&&(++l,tt(10),o=!0);var r=h.charCodeAt(l);69!==r&&101!==r||(43!==(r=h.charCodeAt(++l))&&45!==r||++l,null===tt(10)&&C(t,"Invalid number"),o=!0),Ve(h.charCodeAt(l))&&C(l,"Identifier directly after number");var i,a=h.slice(t,l);return o?i=parseFloat(a):n&&1!==a.length?/[89]/.test(a)||S?C(t,"Invalid number"):i=parseInt(a,8):i=parseInt(a,10),Ke(O,i)}function nt(e){var t=tt(16,e);return null===t&&C(g,"Bad character escape sequence"),t}function rt(){for(var e,t=!(Re=!1),o=l;;){var n=h.charCodeAt(l);if(We(n))Re&&(e+=h.charAt(l)),++l;else{if(92!==n)break;Re||(e=h.slice(o,l)),Re=!0,117!=h.charCodeAt(++l)&&C(l,"Expecting Unicode escape sequence \\uXXXX"),++l;var r=nt(4),i=String.fromCharCode(r);i||C(l-1,"Invalid Unicode escape"),(t?Ve(r):We(r))||C(l-4,"Invalid Unicode escape"),e+=i}t=!1}return Re?e:h.slice(o,l)}function it(){var e=rt(),t=I;return Re||(De(e)?t=ne[e]:(c.forbidReserved&&(3===c.ecmaVersion?Ne:Pe)(e)||S&&Le(e))&&C(g,"The keyword '"+e+"' is reserved")),Ke(t,e)}function at(){_=g,v=i,b=u,$e()}function st(e){if(S=e,l=v,c.locations)for(;l<y;)y=h.lastIndexOf("\n",y-2)+1,--p;Je(),$e()}function lt(){this.type=null,this.start=g,this.end=null}function ct(){this.start=s,(this.end=null)!==o&&(this.source=o)}function ut(){var e=new lt;return c.locations&&(e.loc=new ct),c.directSourceFile&&(e.sourceFile=c.directSourceFile),c.ranges&&(e.range=[g,0]),e}function dt(e){var t=new lt;return t.start=e.start,c.locations&&(t.loc=new ct,t.loc.start=e.loc.start),c.ranges&&(t.range=[e.range[0],0]),t}function pt(e,t){return e.type=t,e.end=v,c.locations&&(e.loc.end=b),c.ranges&&(e.range[1]=v),e}function ht(e){return 5<=c.ecmaVersion&&"ExpressionStatement"===e.type&&"Literal"===e.expression.type&&"use strict"===e.expression.value}function gt(e){if(f===e)return at(),!0}function ft(){return!c.strictSemicolons&&(f===R||f===se||je.test(h.slice(v,g)))}function mt(){gt(de)||ft()||_t()}function yt(e){f===e?at():_t()}function _t(){C(g,"Unexpected token")}function vt(e){"Identifier"!==e.type&&"MemberExpression"!==e.type&&C(e.start,"Assigning to rvalue"),S&&"Identifier"===e.type&&xe(e.name)&&C(e.start,"Assigning to "+e.name+" in strict mode")}var bt={kind:"loop"},Et={kind:"switch"};function Tt(){(f===fe||f===ye&&"/="==m)&&$e(!0);var e=f,t=ut();switch(e){case N:case x:at();var o=e===N;gt(de)||ft()?t.label=null:f!==I?_t():(t.label=Dt(),mt());for(var n=0;n<T.length;++n){var r=T[n];if(null==t.label||r.name===t.label.name){if(null!=r.kind&&(o||"loop"===r.kind))break;if(t.label&&o)break}}return n===T.length&&C(t.start,"Unsyntactic "+e.keyword),pt(t,o?"BreakStatement":"ContinueStatement");case D:return at(),mt(),pt(t,"DebuggerStatement");case U:return at(),T.push(bt),t.body=Tt(),T.pop(),yt(X),t.test=St(),mt(),pt(t,"DoWhileStatement");case j:if(at(),T.push(bt),yt(le),f===de)return Ct(t,null);if(f===Y){var i=ut();return at(),Ot(i,!0),pt(i,"VariableDeclaration"),1===i.declarations.length&&gt(oe)?At(t,i):Ct(t,i)}i=wt(!1,!0);return gt(oe)?(vt(i),At(t,i)):Ct(t,i);case G:return at(),Lt(t,!0);case V:return at(),t.test=St(),t.consequent=Tt(),t.alternate=gt(F)?Tt():null,pt(t,"IfStatement");case W:return E||C(g,"'return' outside of function"),at(),gt(de)||ft()?t.argument=null:(t.argument=wt(),mt()),pt(t,"ReturnStatement");case z:at(),t.discriminant=St(),t.cases=[],yt(ae),T.push(Et);for(var a,s;f!=se;)if(f===P||f===M){var l=f===P;a&&pt(a,"SwitchCase"),t.cases.push(a=ut()),a.consequent=[],at(),l?a.test=wt():(s&&C(_,"Multiple default clauses"),s=!0,a.test=null),yt(pe)}else a||_t(),a.consequent.push(Tt());return a&&pt(a,"SwitchCase"),at(),T.pop(),pt(t,"SwitchStatement");case q:return at(),je.test(h.slice(v,g))&&C(v,"Illegal newline after throw"),t.argument=wt(),mt(),pt(t,"ThrowStatement");case K:if(at(),t.block=kt(),t.handler=null,f===L){var c=ut();at(),yt(le),c.param=Dt(),S&&xe(c.param.name)&&C(c.param.start,"Binding "+c.param.name+" in strict mode"),yt(ce),c.guard=null,c.body=kt(),t.handler=pt(c,"CatchClause")}return t.guardedHandlers=A,t.finalizer=gt(H)?kt():null,t.handler||t.finalizer||C(t.start,"Missing catch or finally clause"),pt(t,"TryStatement");case Y:return at(),Ot(t),mt(),pt(t,"VariableDeclaration");case X:return at(),t.test=St(),T.push(bt),t.body=Tt(),T.pop(),pt(t,"WhileStatement");case J:return S&&C(g,"'with' in strict mode"),at(),t.object=St(),t.body=Tt(),pt(t,"WithStatement");case ae:return kt();case de:return at(),pt(t,"EmptyStatement");default:var u=m,d=wt();if(e===I&&"Identifier"===d.type&&gt(pe)){for(n=0;n<T.length;++n)T[n].name===u&&C(d.start,"Label '"+u+"' is already declared");var p=f.isLoop?"loop":f===z?"switch":null;return T.push({name:u,kind:p}),t.body=Tt(),T.pop(),t.label=d,pt(t,"LabeledStatement")}return t.expression=d,mt(),pt(t,"ExpressionStatement")}}function St(){yt(le);var e=wt();return yt(ce),e}function kt(e){var t,o=ut(),n=!0,r=!1;for(o.body=[],yt(ae);!gt(se);){var i=Tt();o.body.push(i),n&&e&&ht(i)&&(t=r,st(r=!0)),n=!1}return r&&!t&&st(!1),pt(o,"BlockStatement")}function Ct(e,t){return e.init=t,yt(de),e.test=f===de?null:wt(),yt(de),e.update=f===ce?null:wt(),yt(ce),e.body=Tt(),T.pop(),pt(e,"ForStatement")}function At(e,t){return e.left=t,e.right=wt(),yt(ce),e.body=Tt(),T.pop(),pt(e,"ForInStatement")}function Ot(e,t){for(e.declarations=[],e.kind="var";;){var o=ut();if(o.id=Dt(),S&&xe(o.id.name)&&C(o.id.start,"Binding "+o.id.name+" in strict mode"),o.init=gt(me)?wt(!0,t):null,e.declarations.push(pt(o,"VariableDeclarator")),!gt(ue))break}return e}function wt(e,t){var o=Bt(t);if(e||f!==ue)return o;var n=dt(o);for(n.expressions=[o];gt(ue);)n.expressions.push(Bt(t));return pt(n,"SequenceExpression")}function Bt(e){var t=function(e){var t=function(e){return function e(t,o,n){var r=f.binop;if(null!=r&&(!n||f!==oe)&&o<r){var i=dt(t);i.left=t,i.operator=m;var a=f;at(),i.right=e(It(),r,n);var s=pt(i,a===be||a===Ee?"LogicalExpression":"BinaryExpression");return e(s,o,n)}return t}(It(),-1,e)}(e);if(gt(ge)){var o=dt(t);return o.test=t,o.consequent=wt(!0),yt(pe),o.alternate=wt(!0,e),pt(o,"ConditionalExpression")}return t}(e);if(f.isAssign){var o=dt(t);return o.operator=m,o.left=t,at(),o.right=Bt(e),vt(t),pt(o,"AssignmentExpression")}return t}function It(){if(f.prefix){var e=ut(),t=f.isUpdate;return e.operator=m,e.prefix=!0,d=!0,at(),e.argument=It(),t?vt(e.argument):S&&"delete"===e.operator&&"Identifier"===e.argument.type&&C(e.start,"Deleting local variable in strict mode"),pt(e,t?"UpdateExpression":"UnaryExpression")}for(var o=Rt(Nt());f.postfix&&!ft();){(e=dt(o)).operator=m,e.prefix=!1,vt(e.argument=o),at(),o=pt(e,"UpdateExpression")}return o}function Rt(e,t){var o;return gt(he)?((o=dt(e)).object=e,o.property=Dt(!0),o.computed=!1,Rt(pt(o,"MemberExpression"),t)):gt(re)?((o=dt(e)).object=e,o.property=wt(),o.computed=!0,yt(ie),Rt(pt(o,"MemberExpression"),t)):t||!gt(le)?e:((o=dt(e)).callee=e,o.arguments=xt(ce,!1),Rt(pt(o,"CallExpression"),t))}function Nt(){switch(f){case $:var e=ut();return at(),pt(e,"ThisExpression");case I:return Dt();case O:case B:case w:return(e=ut()).value=m,e.raw=h.slice(g,i),at(),pt(e,"Literal");case Z:case ee:case te:return(e=ut()).value=f.atomValue,e.raw=f.keyword,at(),pt(e,"Literal");case le:var t=s,o=g;at();var n=wt();return n.start=o,n.end=i,c.locations&&(n.loc.start=t,n.loc.end=u),c.ranges&&(n.range=[o,i]),yt(ce),n;case re:e=ut();return at(),e.elements=xt(ie,!0,!0),pt(e,"ArrayExpression");case ae:return function(){var e=ut(),t=!0,o=!1;e.properties=[],at();for(;!gt(se);){if(t)t=!1;else if(yt(ue),c.allowTrailingCommas&&gt(se))break;var n,r={key:Pt()},i=!1;if(gt(pe)?(r.value=wt(!0),n=r.kind="init"):5<=c.ecmaVersion&&"Identifier"===r.key.type&&("get"===r.key.name||"set"===r.key.name)?(i=o=!0,n=r.kind=r.key.name,r.key=Pt(),f!==le&&_t(),r.value=Lt(ut(),!1)):_t(),"Identifier"===r.key.type&&(S||o))for(var a=0;a<e.properties.length;++a){var s=e.properties[a];if(s.key.name===r.key.name){var l=n==s.kind||i&&"init"===s.kind||"init"===n&&("get"===s.kind||"set"===s.kind);l&&!S&&"init"===n&&"init"===s.kind&&(l=!1),l&&C(r.key.start,"Redefinition of property")}}e.properties.push(r)}return pt(e,"ObjectExpression")}();case G:e=ut();return at(),Lt(e,!1);case Q:return function(){var e=ut();at(),e.callee=Rt(Nt(),!0),gt(le)?e.arguments=xt(ce,!1):e.arguments=A;return pt(e,"NewExpression")}();default:_t()}}function Pt(){return f===O||f===B?Nt():Dt(!0)}function Lt(e,t){f===I?e.id=Dt():t?_t():e.id=null,e.params=[];var o=!0;for(yt(le);!gt(ce);)o?o=!1:yt(ue),e.params.push(Dt());var n=E,r=T;if(E=!0,T=[],e.body=kt(!0),E=n,T=r,S||e.body.body.length&&ht(e.body.body[0]))for(var i=e.id?-1:0;i<e.params.length;++i){var a=i<0?e.id:e.params[i];if((Le(a.name)||xe(a.name))&&C(a.start,"Defining '"+a.name+"' in strict mode"),0<=i)for(var s=0;s<i;++s)a.name===e.params[s].name&&C(a.start,"Argument name clash in strict mode")}return pt(e,t?"FunctionDeclaration":"FunctionExpression")}function xt(e,t,o){for(var n=[],r=!0;!gt(e);){if(r)r=!1;else if(yt(ue),t&&c.allowTrailingCommas&&gt(e))break;o&&f===ue?n.push(null):n.push(wt(!0))}return n}function Dt(e){var t=ut();return t.name=f===I?m:e&&!c.forbidReserved&&f.keyword||_t(),d=!1,at(),pt(t,"Identifier")}})(t)},1278:function(e,t,o){"use strict";
/**
 * @license
 * JavaScript Interpreter
 *
 * Copyright 2013 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var m=o(1277),y=e.exports=function(e,t){"string"==typeof e&&(e=m.parse(e,y.PARSE_OPTIONS)),this.ast=e,this.initFunc_=t,this.paused_=!1,this.polyfills_=[],this.functionCounter_=0,this.functionMap_=Object.create(null);var o,n=/^step([A-Z]\w*)$/;for(var r in this)(o=r.match(n))&&(this.functionMap_[o[1]]=this[r].bind(this));var i={properties:{prototype:null}};this.NUMBER=i,this.BOOLEAN=i,this.STRING=i,this.UNDEFINED=new y.Primitive(void 0,this),this.NULL=new y.Primitive(null,this),this.NAN=new y.Primitive(NaN,this),this.TRUE=new y.Primitive(!0,this),this.FALSE=new y.Primitive(!1,this),this.NUMBER_ZERO=new y.Primitive(0,this),this.NUMBER_ONE=new y.Primitive(1,this),this.STRING_EMPTY=new y.Primitive("",this),this.global=this.createScope(this.ast,null),this.NAN.proto=this.NUMBER.properties.prototype,this.TRUE.proto=this.BOOLEAN.properties.prototype,this.FALSE.proto=this.BOOLEAN.properties.prototype,this.NUMBER_ZERO.proto=this.NUMBER.properties.prototype,this.NUMBER_ONE.proto=this.NUMBER.properties.prototype,this.STRING_EMPTY.proto=this.STRING.properties.prototype,this.ast=m.parse(this.polyfills_.join("\n"),y.PARSE_OPTIONS),this.polyfills_=void 0,this.stripLocations_(this.ast,void 0,void 0),this.stateStack=[{node:this.ast,scope:this.global,thisExpression:this.global,done:!1}],this.run(),this.value=this.UNDEFINED,this.ast=e,this.stateStack=[{node:this.ast,scope:this.global,thisExpression:this.global,done:!1}],this.UNDEFINED=this.UNDEFINED,this.NULL=this.NULL,this.NAN=this.NAN,this.TRUE=this.TRUE,this.FALSE=this.FALSE};y.PARSE_OPTIONS={ecmaVersion:5},y.READONLY_DESCRIPTOR={configurable:!0,enumerable:!0,writable:!1},y.NONENUMERABLE_DESCRIPTOR={configurable:!0,enumerable:!1,writable:!0},y.READONLY_NONENUMERABLE_DESCRIPTOR={configurable:!0,enumerable:!1,writable:!1},y.toStringCycles_=[],y.generateAST=function(e,t){var o=y.PARSE_OPTIONS;return Object.keys(t).forEach(function(e){o[e]=t[e]}),m.parse(e,o)},y.prototype.appendCode=function(e,t){void 0===t&&(t={});var o=this.stateStack[0];if(!o||"Program"!=o.node.type)throw Error("Expecting original AST to start with a Program node.");if("string"==typeof e){var n={};for(var r in y.PARSE_OPTIONS)n[r]=y.PARSE_OPTIONS[r];for(var r in t)n[r]=t[r];e=m.parse(e,n)}if(!e||"Program"!=e.type)throw Error("Expecting new AST to start with a Program node.");this.populateScope_(e,o.scope);for(var i,a=0;i=e.body[a];a++)o.node.body.push(i);o.done=!1},y.prototype.step=function(){var e;do{var t=this.stateStack,o=t[t.length-1];if(!o)return!1;var n=(e=o.node).type;if("Program"===n&&o.done)return!1;if(this.paused_)return!0;this.functionMap_[n]()}while(!e.end);return!0},y.prototype.run=function(){for(;!this.paused_&&this.step(););return this.paused_},y.prototype.initGlobalScope=function(e){this.setProperty(e,"Infinity",this.createPrimitive(1/0),y.READONLY_DESCRIPTOR),this.setProperty(e,"NaN",this.NAN,y.READONLY_DESCRIPTOR),this.setProperty(e,"undefined",this.UNDEFINED,y.READONLY_DESCRIPTOR),this.setProperty(e,"window",e,y.READONLY_DESCRIPTOR),this.setProperty(e,"self",e),this.initFunction(e),this.initObject(e),e.proto=this.OBJECT.properties.prototype,this.setProperty(e,"constructor",this.OBJECT),this.initArray(e),this.initNumber(e),this.initString(e),this.initBoolean(e),this.initDate(e),this.initMath(e),this.initRegExp(e),this.initJSON(e),this.initError(e);var t,o=this;t=function(e){return e=e||o.UNDEFINED,o.createPrimitive(isNaN(e.toNumber()))},this.setProperty(e,"isNaN",this.createNativeFunction(t,!1)),t=function(e){return e=e||o.UNDEFINED,o.createPrimitive(isFinite(e.toNumber()))},this.setProperty(e,"isFinite",this.createNativeFunction(t,!1)),this.setProperty(e,"parseFloat",this.getProperty(this.NUMBER,"parseFloat")),this.setProperty(e,"parseInt",this.getProperty(this.NUMBER,"parseInt"));var n=this.createObject(this.FUNCTION);n.eval=!0,this.setProperty(n,"length",this.NUMBER_ONE,y.READONLY_DESCRIPTOR),this.setProperty(e,"eval",n);for(var r=[[escape,"escape"],[unescape,"unescape"],[decodeURI,"decodeURI"],[decodeURIComponent,"decodeURIComponent"],[encodeURI,"encodeURI"],[encodeURIComponent,"encodeURIComponent"]],i=0;i<r.length;i++)t=function(t){return function(e){e=(e||o.UNDEFINED).toString();try{e=t(e)}catch(e){o.throwException(o.URI_ERROR,e.message)}return o.createPrimitive(e)}}(r[i][0]),this.setProperty(e,r[i][1],this.createNativeFunction(t,!1));this.initFunc_&&this.initFunc_(this,e)},y.prototype.initFunction=function(e){var t,s=this,l=/^[A-Za-z_$][\w$]*$/;(t=function(e){if(s.calledWithNew())var t=this;else t=s.createObject(s.FUNCTION);if(arguments.length)var o=arguments[arguments.length-1].toString();else o="";for(var n=[],r=0;r<arguments.length-1;r++){var i=arguments[r].toString();if(!i.match(l))return void s.throwException(s.SYNTAX_ERROR,"Invalid function argument: "+i);n.push(i)}n=n.join(", "),t.parentScope=s.stateStack[0].scope;var a=m.parse("$ = function("+n+") {"+o+"};",y.PARSE_OPTIONS);if(1==a.body.length)return t.node=a.body[0].expression.right,s.setProperty(t,"length",s.createPrimitive(t.node.length),y.READONLY_DESCRIPTOR),t;s.throwException(s.SYNTAX_ERROR,"Invalid code in function body.")}).id=this.functionCounter_++,this.FUNCTION=this.createObject(null),this.setProperty(e,"Function",this.FUNCTION),this.FUNCTION.type="function",this.setProperty(this.FUNCTION,"prototype",this.createObject(null)),this.setProperty(this.FUNCTION.properties.prototype,"constructor",this.FUNCTION,y.NONENUMERABLE_DESCRIPTOR),this.FUNCTION.nativeFunc=t;var r=function(e){if(e.isPrimitive&&!s.getScope().strict)if(e==s.UNDEFINED||e==s.NULL)e=s.global;else{var t=s.createObject(e.properties.constructor);t.data=e.data,e=t}return e};t=function(e,t){var o=s.stateStack[s.stateStack.length-1];if(o.func_=this,o.funcThis_=r(e),o.arguments_=[],t)if(s.isa(t,s.ARRAY))for(var n=0;n<t.length;n++)o.arguments_[n]=s.getProperty(t,n);else s.throwException(s.TYPE_ERROR,"CreateListFromArrayLike called on non-object");o.doneArgs_=!0,o.doneExec_=!1},this.setNativeFunctionPrototype(this.FUNCTION,"apply",t),t=function(e,t){var o=s.stateStack[s.stateStack.length-1];o.func_=this,o.funcThis_=r(e),o.arguments_=[];for(var n=1;n<arguments.length;n++)o.arguments_.push(arguments[n]);o.doneArgs_=!0,o.doneExec_=!1},this.setNativeFunctionPrototype(this.FUNCTION,"call",t),this.polyfills_.push("Object.defineProperty(Function.prototype, 'bind', {configurable: true, value:","function(oThis) {","if (typeof this !== 'function') {","throw new TypeError('Function.prototype.bind - what is trying to be bound is not callable');","}","var aArgs   = Array.prototype.slice.call(arguments, 1),","fToBind = this,","fNOP    = function() {},","fBound  = function() {","return fToBind.apply(this instanceof fNOP","? this",": oThis,","aArgs.concat(Array.prototype.slice.call(arguments)));","};","if (this.prototype) {","fNOP.prototype = this.prototype;","}","fBound.prototype = new fNOP();","return fBound;","}","});",""),t=function(){return s.createPrimitive(this.toString())},this.setNativeFunctionPrototype(this.FUNCTION,"toString",t),this.setProperty(this.FUNCTION,"toString",this.createNativeFunction(t,!1),y.NONENUMERABLE_DESCRIPTOR),t=function(){return s.createPrimitive(this.valueOf())},this.setNativeFunctionPrototype(this.FUNCTION,"valueOf",t),this.setProperty(this.FUNCTION,"valueOf",this.createNativeFunction(t,!1),y.NONENUMERABLE_DESCRIPTOR)},y.prototype.initObject=function(e){var t,l=this;t=function(e){if(!e||e==l.UNDEFINED||e==l.NULL)return l.calledWithNew()?this:l.createObject(l.OBJECT);if(e.isPrimitive){var t=l.createObject(e.properties.constructor);return t.data=e.data,t}return e},this.OBJECT=this.createNativeFunction(t,!0),this.setProperty(e,"Object",this.OBJECT),t=function(e){if(e!=l.UNDEFINED&&e!=l.NULL){var t=e.isPrimitive?e.data:e.properties;return l.nativeToPseudo(Object.getOwnPropertyNames(t))}l.throwException(l.TYPE_ERROR,"Cannot convert undefined or null to object")},this.setProperty(this.OBJECT,"getOwnPropertyNames",this.createNativeFunction(t,!1),y.NONENUMERABLE_DESCRIPTOR),t=function(e){if(e.isPrimitive)return l.nativeToPseudo(Object.keys(e.data));var t=[];for(var o in e.properties)e.notEnumerable[o]||t.push(o);return l.nativeToPseudo(t)},this.setProperty(this.OBJECT,"keys",this.createNativeFunction(t,!1),y.NONENUMERABLE_DESCRIPTOR),t=function(e){return e==l.NULL?l.createObject(null):e.isPrimitive?void l.throwException(l.TYPE_ERROR,"Object prototype may only be an Object or null"):l.createObjectProto(e)},this.setProperty(this.OBJECT,"create",this.createNativeFunction(t,!1),y.NONENUMERABLE_DESCRIPTOR),this.polyfills_.push("(function() {","var create_ = Object.create;","Object.defineProperty(Object, 'create', {configurable: true, value:","function(proto, props) {","var obj = create_(proto);","props && Object.defineProperties(obj, props);","return obj;","}","});","})();",""),t=function(e,t,o){if(t=(t||l.UNDEFINED).toString(),o instanceof y.Object){if(e.properties[t]||!e.preventExtensions){var n=l.getProperty(o,"value");n==l.UNDEFINED&&(n=null);var r=l.getProperty(o,"get"),i=l.getProperty(o,"set"),a={configurable:l.pseudoToNative(l.getProperty(o,"configurable")),enumerable:l.pseudoToNative(l.getProperty(o,"enumerable")),writable:l.pseudoToNative(l.getProperty(o,"writable")),get:r==l.UNDEFINED?void 0:r,set:i==l.UNDEFINED?void 0:i};return l.setProperty(e,t,n,a),e}l.throwException(l.TYPE_ERROR,"Can't define property "+t+", object is not extensible")}else l.throwException(l.TYPE_ERROR,"Property description must be an object.")},this.setProperty(this.OBJECT,"defineProperty",this.createNativeFunction(t,!1),y.NONENUMERABLE_DESCRIPTOR),this.polyfills_.push("Object.defineProperty(Object, 'defineProperties', {configurable: true, value:","function(obj, props) {","var keys = Object.keys(props);","for (var i = 0; i < keys.length; i++) {","Object.defineProperty(obj, keys[i], props[keys[i]]);","}","return obj;","}","});",""),t=function(e,t){if(!((t=(t||l.UNDEFINED).toString())in e.properties))return l.UNDEFINED;var o=!e.notConfigurable[t],n=!e.notEnumerable[t],r=!e.notWritable[t],i=e.getter[t],a=e.setter[t],s=l.createObject(l.OBJECT);return l.setProperty(s,"configurable",l.createPrimitive(o)),l.setProperty(s,"enumerable",l.createPrimitive(n)),i||a?(l.setProperty(s,"getter",i),l.setProperty(s,"setter",a)):(l.setProperty(s,"writable",l.createPrimitive(r)),l.setProperty(s,"value",l.getProperty(e,t))),s},this.setProperty(this.OBJECT,"getOwnPropertyDescriptor",this.createNativeFunction(t,!1),y.NONENUMERABLE_DESCRIPTOR),t=function(e){return e!=l.UNDEFINED&&e!=l.NULL||l.throwException(l.TYPE_ERROR,"Cannot convert undefined or null to object"),e.proto||l.NULL},this.setProperty(this.OBJECT,"getPrototypeOf",this.createNativeFunction(t,!1),y.NONENUMERABLE_DESCRIPTOR),t=function(e){return l.createPrimitive(!e.preventExtensions)},this.setProperty(this.OBJECT,"isExtensible",this.createNativeFunction(t,!1),y.NONENUMERABLE_DESCRIPTOR),t=function(e){return e.isPrimitive||(e.preventExtensions=!0),e},this.setProperty(this.OBJECT,"preventExtensions",this.createNativeFunction(t,!1),y.NONENUMERABLE_DESCRIPTOR),t=function(){return l.createPrimitive(this.toString())},this.setNativeFunctionPrototype(this.OBJECT,"toString",t),t=function(){return l.createPrimitive(this.toString())},this.setNativeFunctionPrototype(this.OBJECT,"toLocaleString",t),t=function(){return l.createPrimitive(this.valueOf())},this.setNativeFunctionPrototype(this.OBJECT,"valueOf",t),t=function(e){if(this!=l.UNDEFINED&&this!=l.NULL)return(e=(e||l.UNDEFINED).toString())in this.properties?l.TRUE:l.FALSE;l.throwException(l.TYPE_ERROR,"Cannot convert undefined or null to object")},this.setNativeFunctionPrototype(this.OBJECT,"hasOwnProperty",t),t=function(e){var t=(e=(e||l.UNDEFINED).toString())in this.properties&&!this.notEnumerable[e];return l.createPrimitive(t)},this.setNativeFunctionPrototype(this.OBJECT,"propertyIsEnumerable",t),t=function(e){for(;;){if(!e.proto||e.proto==e)return l.FALSE;if((e=e.proto)==this)return l.TRUE}},this.setNativeFunctionPrototype(this.OBJECT,"isPrototypeOf",t)},y.prototype.initArray=function(e){var t,l=this,c=function(e,t){var o=e?Math.floor(e.toNumber()):t;return isNaN(o)&&(o=t),o},i=function(e,t){return e.isPrimitive&&t.isPrimitive?e.data===t.data:e===t};t=function(e){if(l.calledWithNew())var t=this;else t=l.createObject(l.ARRAY);var o=e;if(1==arguments.length&&"number"==o.type)isNaN(l.arrayIndex(o))&&l.throwException(l.RANGE_ERROR,"Invalid array length"),t.length=o.data;else{for(var n=0;n<arguments.length;n++)t.properties[n]=arguments[n];t.length=n}return t},this.ARRAY=this.createNativeFunction(t,!0),this.setProperty(e,"Array",this.ARRAY),t=function(e){return l.createPrimitive(l.isa(e,l.ARRAY))},this.setProperty(this.ARRAY,"isArray",this.createNativeFunction(t,!1),y.NONENUMERABLE_DESCRIPTOR),t=function(){if(this.length){var e=this.properties[this.length-1];delete this.properties[this.length-1],this.length--}else e=l.UNDEFINED;return e},this.setNativeFunctionPrototype(this.ARRAY,"pop",t),t=function(e){for(var t=0;t<arguments.length;t++)this.properties[this.length]=arguments[t],this.length++;return l.createPrimitive(this.length)},this.setNativeFunctionPrototype(this.ARRAY,"push",t),t=function(){if(this.length){for(var e=this.properties[0],t=1;t<this.length;t++)this.properties[t-1]=this.properties[t];this.length--,delete this.properties[this.length]}else e=l.UNDEFINED;return e},this.setNativeFunctionPrototype(this.ARRAY,"shift",t),t=function(e){for(var t=this.length-1;0<=t;t--)this.properties[t+arguments.length]=this.properties[t];this.length+=arguments.length;for(t=0;t<arguments.length;t++)this.properties[t]=arguments[t];return l.createPrimitive(this.length)},this.setNativeFunctionPrototype(this.ARRAY,"unshift",t),t=function(){for(var e=0;e<this.length/2;e++){var t=this.properties[this.length-e-1];this.properties[this.length-e-1]=this.properties[e],this.properties[e]=t}return this},this.setNativeFunctionPrototype(this.ARRAY,"reverse",t),t=function(e,t,o){e=(e=c(e,0))<0?Math.max(this.length+e,0):Math.min(e,this.length),t=c(t,1/0),t=Math.min(t,this.length-e);for(var n=l.createObject(l.ARRAY),r=e;r<e+t;r++)n.properties[n.length++]=this.properties[r],this.properties[r]=this.properties[r+t];for(r=e+t;r<this.length-t;r++)this.properties[r]=this.properties[r+t];for(r=this.length-t;r<this.length;r++)delete this.properties[r];this.length-=t;for(r=this.length-1;e<=r;r--)this.properties[r+arguments.length-2]=this.properties[r];this.length+=arguments.length-2;for(r=2;r<arguments.length;r++)this.properties[e+r-2]=arguments[r];return n},this.setNativeFunctionPrototype(this.ARRAY,"splice",t),t=function(e,t){var o=l.createObject(l.ARRAY),n=c(e,0);n<0&&(n=this.length+n),n=Math.max(0,Math.min(n,this.length));var r=c(t,this.length);r<0&&(r=this.length+r),r=Math.max(0,Math.min(r,this.length));for(var i=0,a=n;a<r;a++){var s=l.getProperty(this,a);l.setProperty(o,i++,s)}return o},this.setNativeFunctionPrototype(this.ARRAY,"slice",t),t=function(e){var t=y.toStringCycles_;t.push(this);try{if(e&&void 0!==e.data)o=e.toString();else var o=void 0;for(var n=[],r=0;r<this.length;r++)n[r]=this.properties[r].toString()}finally{t.pop()}return l.createPrimitive(n.join(o))},this.setNativeFunctionPrototype(this.ARRAY,"join",t),t=function(e){for(var t=l.createObject(l.ARRAY),o=0,n=0;n<this.length;n++){var r=l.getProperty(this,n);l.setProperty(t,o++,r)}for(n=0;n<arguments.length;n++){var i=arguments[n];if(l.isa(i,l.ARRAY))for(var a=0;a<i.length;a++){r=l.getProperty(i,a);l.setProperty(t,o++,r)}else l.setProperty(t,o++,i)}return t},this.setNativeFunctionPrototype(this.ARRAY,"concat",t),t=function(e,t){e=e||l.UNDEFINED;var o=c(t,0);o<0&&(o=this.length+o);for(var n=o=Math.max(0,o);n<this.length;n++){var r=l.getProperty(this,n);if(i(r,e))return l.createPrimitive(n)}return l.createPrimitive(-1)},this.setNativeFunctionPrototype(this.ARRAY,"indexOf",t),t=function(e,t){e=e||l.UNDEFINED;var o=c(t,this.length);o<0&&(o=this.length+o);for(var n=o=Math.min(o,this.length-1);0<=n;n--){var r=l.getProperty(this,n);if(i(r,e))return l.createPrimitive(n)}return l.createPrimitive(-1)},this.setNativeFunctionPrototype(this.ARRAY,"lastIndexOf",t),this.polyfills_.push("Object.defineProperty(Array.prototype, 'every', {configurable: true, value:","function(callbackfn, thisArg) {","if (this == null || typeof callbackfn !== 'function') throw new TypeError;","var T, k;","var O = Object(this);","var len = O.length >>> 0;","if (arguments.length > 1) T = thisArg;","k = 0;","while (k < len) {","if (k in O && !callbackfn.call(T, O[k], k, O)) return false;","k++;","}","return true;","}","});","Object.defineProperty(Array.prototype, 'filter', {configurable: true, value:","function(fun/*, thisArg*/) {","if (this === void 0 || this === null || typeof fun !== 'function') throw new TypeError;","var t = Object(this);","var len = t.length >>> 0;","var res = [];","var thisArg = arguments.length >= 2 ? arguments[1] : void 0;","for (var i = 0; i < len; i++) {","if (i in t) {","var val = t[i];","if (fun.call(thisArg, val, i, t)) res.push(val);","}","}","return res;","}","});","Object.defineProperty(Array.prototype, 'forEach', {configurable: true, value:","function(callback, thisArg) {","if (this == null || typeof callback !== 'function') throw new TypeError;","var T, k;","var O = Object(this);","var len = O.length >>> 0;","if (arguments.length > 1) T = thisArg;","k = 0;","while (k < len) {","if (k in O) callback.call(T, O[k], k, O);","k++;","}","}","});","Object.defineProperty(Array.prototype, 'map', {configurable: true, value:","function(callback, thisArg) {","if (this == null || typeof callback !== 'function') new TypeError;","var T, A, k;","var O = Object(this);","var len = O.length >>> 0;","if (arguments.length > 1) T = thisArg;","A = new Array(len);","k = 0;","while (k < len) {","if (k in O) A[k] = callback.call(T, O[k], k, O);","k++;","}","return A;","}","});","Object.defineProperty(Array.prototype, 'reduce', {configurable: true, value:","function(callback /*, initialValue*/) {","if (this == null || typeof callback !== 'function') throw new TypeError;","var t = Object(this), len = t.length >>> 0, k = 0, value;","if (arguments.length == 2) {","value = arguments[1];","} else {","while (k < len && !(k in t)) k++;","if (k >= len) {","throw new TypeError('Reduce of empty array with no initial value');","}","value = t[k++];","}","for (; k < len; k++) {","if (k in t) value = callback(value, t[k], k, t);","}","return value;","}","});","Object.defineProperty(Array.prototype, 'reduceRight', {configurable: true, value:","function(callback /*, initialValue*/) {","if (null === this || 'undefined' === typeof this || 'function' !== typeof callback) throw new TypeError;","var t = Object(this), len = t.length >>> 0, k = len - 1, value;","if (arguments.length >= 2) {","value = arguments[1];","} else {","while (k >= 0 && !(k in t)) k--;","if (k < 0) {","throw new TypeError('Reduce of empty array with no initial value');","}","value = t[k--];","}","for (; k >= 0; k--) {","if (k in t) value = callback(value, t[k], k, t);","}","return value;","}","});","Object.defineProperty(Array.prototype, 'some', {configurable: true, value:","function(fun/*, thisArg*/) {","if (this == null || typeof fun !== 'function') throw new TypeError;","var t = Object(this);","var len = t.length >>> 0;","var thisArg = arguments.length >= 2 ? arguments[1] : void 0;","for (var i = 0; i < len; i++) {","if (i in t && fun.call(thisArg, t[i], i, t)) {","return true;","}","}","return false;","}","});","Object.defineProperty(Array.prototype, 'sort', {configurable: true, value:","function(opt_comp) {","for (var i = 0; i < this.length; i++) {","var changes = 0;","for (var j = 0; j < this.length - i - 1; j++) {","if (opt_comp ?opt_comp(this[j], this[j + 1]) > 0 : this[j] > this[j + 1]) {","var swap = this[j];","this[j] = this[j + 1];","this[j + 1] = swap;","changes++;","}","}","if (!changes) break;","}","return this;","}","});","Object.defineProperty(Array.prototype, 'toLocaleString', {configurable: true, value:","function() {","var out = [];","for (var i = 0; i < this.length; i++) {","out[i] = (this[i] === null || this[i] === undefined) ? '' : this[i].toLocaleString();","}","return out.join(',');","}","});","")},y.prototype.initNumber=function(e){var t,o=this;t=function(e){return e=e?e.toNumber():0,o.calledWithNew()?(this.data=e,this):o.createPrimitive(e)},this.NUMBER=this.createNativeFunction(t,!0),this.setProperty(e,"Number",this.NUMBER);for(var n=["MAX_VALUE","MIN_VALUE","NaN","NEGATIVE_INFINITY","POSITIVE_INFINITY"],r=0;r<n.length;r++)this.setProperty(this.NUMBER,n[r],this.createPrimitive(Number[n[r]]));t=function(e){return e=e||o.UNDEFINED,o.createPrimitive(parseFloat(e.toString()))},this.setProperty(this.NUMBER,"parseFloat",this.createNativeFunction(t,!1)),t=function(e,t){return e=e||o.UNDEFINED,t=t||o.UNDEFINED,o.createPrimitive(parseInt(e.toString(),t.toNumber()))},this.setProperty(this.NUMBER,"parseInt",this.createNativeFunction(t,!1)),t=function(e){e=e?e.toNumber():void 0;var t=this.toNumber();return o.createPrimitive(t.toExponential(e))},this.setNativeFunctionPrototype(this.NUMBER,"toExponential",t),t=function(e){e=e?e.toNumber():void 0;var t=this.toNumber();return o.createPrimitive(t.toFixed(e))},this.setNativeFunctionPrototype(this.NUMBER,"toFixed",t),t=function(e){e=e?e.toNumber():void 0;var t=this.toNumber();return o.createPrimitive(t.toPrecision(e))},this.setNativeFunctionPrototype(this.NUMBER,"toPrecision",t),t=function(e){e=e?e.toNumber():10;var t=this.toNumber();return o.createPrimitive(t.toString(e))},this.setNativeFunctionPrototype(this.NUMBER,"toString",t),t=function(e,t){return e=e?o.pseudoToNative(e):void 0,t=t?o.pseudoToNative(t):void 0,o.createPrimitive(this.toNumber().toLocaleString(e,t))},this.setNativeFunctionPrototype(this.NUMBER,"toLocaleString",t)},y.prototype.initString=function(e){var t,a=this;t=function(e){return e=e?e.toString():"",a.calledWithNew()?(this.data=e,this):a.createPrimitive(e)},this.STRING=this.createNativeFunction(t,!0),this.setProperty(e,"String",this.STRING),t=function(e){for(var t=0;t<arguments.length;t++)arguments[t]=arguments[t].toNumber();return a.createPrimitive(String.fromCharCode.apply(String,arguments))},this.setProperty(this.STRING,"fromCharCode",this.createNativeFunction(t,!1),y.NONENUMERABLE_DESCRIPTOR);for(var o=["toLowerCase","toUpperCase","toLocaleLowerCase","toLocaleUpperCase"],n=0;n<o.length;n++)t=function(e){return function(){return a.createPrimitive(e.apply(this))}}(String.prototype[o[n]]),this.setNativeFunctionPrototype(this.STRING,o[n],t);t=function(){var e=this.toString();return a.createPrimitive(e.replace(/^\s+|\s+$/g,""))},this.setNativeFunctionPrototype(this.STRING,"trim",t),t=function(){var e=this.toString();return a.createPrimitive(e.replace(/^\s+/g,""))},this.setNativeFunctionPrototype(this.STRING,"trimLeft",t),t=function(){var e=this.toString();return a.createPrimitive(e.replace(/\s+$/g,""))},this.setNativeFunctionPrototype(this.STRING,"trimRight",t),o=["charAt","charCodeAt","substring","slice","substr"];for(n=0;n<o.length;n++)t=function(t){return function(){for(var e=0;e<arguments.length;e++)arguments[e]=arguments[e].toNumber();return a.createPrimitive(t.apply(this,arguments))}}(String.prototype[o[n]]),this.setNativeFunctionPrototype(this.STRING,o[n],t);t=function(e,t){var o=this.toString();return e=(e||a.UNDEFINED).toString(),t=t?t.toNumber():void 0,a.createPrimitive(o.indexOf(e,t))},this.setNativeFunctionPrototype(this.STRING,"indexOf",t),t=function(e,t){var o=this.toString();return e=(e||a.UNDEFINED).toString(),t=t?t.toNumber():void 0,a.createPrimitive(o.lastIndexOf(e,t))},this.setNativeFunctionPrototype(this.STRING,"lastIndexOf",t),t=function(e,t,o){return e=(e||a.UNDEFINED).toString(),t=t?a.pseudoToNative(t):void 0,o=o?a.pseudoToNative(o):void 0,a.createPrimitive(this.toString().localeCompare(e,t,o))},this.setNativeFunctionPrototype(this.STRING,"localeCompare",t),t=function(e,t){var o=this.toString();e=e?a.isa(e,a.REGEXP)?e.data:e.toString():void 0,t=t?t.toNumber():void 0;for(var n=o.split(e,t),r=a.createObject(a.ARRAY),i=0;i<n.length;i++)a.setProperty(r,i,a.createPrimitive(n[i]));return r},this.setNativeFunctionPrototype(this.STRING,"split",t),t=function(e){for(var t=this.toString(),o=0;o<arguments.length;o++)t+=arguments[o].toString();return a.createPrimitive(t)},this.setNativeFunctionPrototype(this.STRING,"concat",t),t=function(e){var t=this.toString();e=e?e.data:void 0;var o=t.match(e);if(null===o)return a.NULL;for(var n=a.createObject(a.ARRAY),r=0;r<o.length;r++)a.setProperty(n,r,a.createPrimitive(o[r]));return n},this.setNativeFunctionPrototype(this.STRING,"match",t),t=function(e){var t=this.toString();return e=e?e.data:void 0,a.createPrimitive(t.search(e))},this.setNativeFunctionPrototype(this.STRING,"search",t),t=function(e,t){var o=this.toString();return e=(e||a.UNDEFINED).valueOf(),t=(t||a.UNDEFINED).toString(),a.createPrimitive(o.replace(e,t))},this.setNativeFunctionPrototype(this.STRING,"replace",t)},y.prototype.initBoolean=function(e){var t,o=this;t=function(e){return e=!!e&&e.toBoolean(),o.calledWithNew()?(this.data=e,this):o.createPrimitive(e)},this.BOOLEAN=this.createNativeFunction(t,!0),this.setProperty(e,"Boolean",this.BOOLEAN)},y.prototype.initDate=function(e){var t,i=this;t=function(e,t){if(!i.calledWithNew())return i.createPrimitive(Date());var o=this;if(arguments.length)if(1!=arguments.length||"string"!=e.type&&!i.isa(e,i.STRING)){for(var n=[null],r=0;r<arguments.length;r++)n[r+1]=arguments[r]?arguments[r].toNumber():void 0;o.data=new(Function.prototype.bind.apply(Date,n))}else o.data=new Date(e.toString());else o.data=new Date;return o},this.DATE=this.createNativeFunction(t,!0),this.setProperty(e,"Date",this.DATE),t=function(){return i.createPrimitive((new Date).getTime())},this.setProperty(this.DATE,"now",this.createNativeFunction(t,!1),y.NONENUMERABLE_DESCRIPTOR),t=function(e){return e=e?e.toString():void 0,i.createPrimitive(Date.parse(e))},this.setProperty(this.DATE,"parse",this.createNativeFunction(t,!1),y.NONENUMERABLE_DESCRIPTOR),t=function(e){for(var t=[],o=0;o<arguments.length;o++)t[o]=arguments[o]?arguments[o].toNumber():void 0;return i.createPrimitive(Date.UTC.apply(Date,t))},this.setProperty(this.DATE,"UTC",this.createNativeFunction(t,!1),y.NONENUMERABLE_DESCRIPTOR);for(var o=["getDate","getDay","getFullYear","getHours","getMilliseconds","getMinutes","getMonth","getSeconds","getTime","getTimezoneOffset","getUTCDate","getUTCDay","getUTCFullYear","getUTCHours","getUTCMilliseconds","getUTCMinutes","getUTCMonth","getUTCSeconds","getYear","setDate","setFullYear","setHours","setMilliseconds","setMinutes","setMonth","setSeconds","setTime","setUTCDate","setUTCFullYear","setUTCHours","setUTCMilliseconds","setUTCMinutes","setUTCMonth","setUTCSeconds","setYear","toDateString","toISOString","toJSON","toGMTString","toLocaleDateString","toLocaleString","toLocaleTimeString","toTimeString","toUTCString"],n=0;n<o.length;n++)t=function(n){return function(e){for(var t=[],o=0;o<arguments.length;o++)t[o]=i.pseudoToNative(arguments[o]);return i.createPrimitive(this.data[n].apply(this.data,t))}}(o[n]),this.setNativeFunctionPrototype(this.DATE,o[n],t)},y.prototype.initMath=function(e){var o=this,t=this.createObject(this.OBJECT);this.setProperty(e,"Math",t);for(var n=["E","LN2","LN10","LOG2E","LOG10E","PI","SQRT1_2","SQRT2"],r=0;r<n.length;r++)this.setProperty(t,n[r],this.createPrimitive(Math[n[r]]),y.READONLY_NONENUMERABLE_DESCRIPTOR);var i=["abs","acos","asin","atan","atan2","ceil","cos","exp","floor","log","max","min","pow","random","round","sin","sqrt","tan"];for(r=0;r<i.length;r++){var a=function(t){return function(){for(var e=0;e<arguments.length;e++)arguments[e]=arguments[e].toNumber();return o.createPrimitive(t.apply(Math,arguments))}}(Math[i[r]]);this.setProperty(t,i[r],this.createNativeFunction(a,!1),y.NONENUMERABLE_DESCRIPTOR)}},y.prototype.initRegExp=function(e){var t,r=this;t=function(e,t){if(r.calledWithNew())var o=this;else o=r.createObject(r.REGEXP);return e=e?e.toString():"",t=t?t.toString():"",r.populateRegExp_(o,new RegExp(e,t))},this.REGEXP=this.createNativeFunction(t,!0),this.setProperty(e,"RegExp",this.REGEXP),this.setProperty(this.REGEXP.properties.prototype,"global",this.UNDEFINED,y.READONLY_NONENUMERABLE_DESCRIPTOR),this.setProperty(this.REGEXP.properties.prototype,"ignoreCase",this.UNDEFINED,y.READONLY_NONENUMERABLE_DESCRIPTOR),this.setProperty(this.REGEXP.properties.prototype,"multiline",this.UNDEFINED,y.READONLY_NONENUMERABLE_DESCRIPTOR),this.setProperty(this.REGEXP.properties.prototype,"source",this.createPrimitive("(?:)"),y.READONLY_NONENUMERABLE_DESCRIPTOR),t=function(e){return e=e.toString(),r.createPrimitive(this.data.test(e))},this.setNativeFunctionPrototype(this.REGEXP,"test",t),t=function(e){e=e.toString(),this.data.lastIndex=r.getProperty(this,"lastIndex").toNumber();var t=this.data.exec(e);if(r.setProperty(this,"lastIndex",r.createPrimitive(this.data.lastIndex)),t){for(var o=r.createObject(r.ARRAY),n=0;n<t.length;n++)r.setProperty(o,n,r.createPrimitive(t[n]));return r.setProperty(o,"index",r.createPrimitive(t.index)),r.setProperty(o,"input",r.createPrimitive(t.input)),o}return r.NULL},this.setNativeFunctionPrototype(this.REGEXP,"exec",t)},y.prototype.initJSON=function(e){var n=this,t=n.createObject(this.OBJECT);this.setProperty(e,"JSON",t);var o=function(e){try{var t=JSON.parse(e.toString())}catch(e){return void n.throwException(n.SYNTAX_ERROR,e.message)}return n.nativeToPseudo(t)};this.setProperty(t,"parse",this.createNativeFunction(o,!1)),o=function(e){var t=n.pseudoToNative(e);try{var o=JSON.stringify(t)}catch(e){return void n.throwException(n.TYPE_ERROR,e.message)}return n.createPrimitive(o)},this.setProperty(t,"stringify",this.createNativeFunction(o,!1))},y.prototype.initError=function(t){var n=this;this.ERROR=this.createNativeFunction(function(e){if(n.calledWithNew())var t=this;else t=n.createObject(n.ERROR);return e&&n.setProperty(t,"message",n.createPrimitive(String(e)),y.NONENUMERABLE_DESCRIPTOR),t},!0),this.setProperty(t,"Error",this.ERROR),this.setProperty(this.ERROR.properties.prototype,"message",this.STRING_EMPTY,y.NONENUMERABLE_DESCRIPTOR),this.setProperty(this.ERROR.properties.prototype,"name",this.createPrimitive("Error"),y.NONENUMERABLE_DESCRIPTOR);var e=function(e){var o=n.createNativeFunction(function(e){if(n.calledWithNew())var t=this;else t=n.createObject(o);return e&&n.setProperty(t,"message",n.createPrimitive(String(e)),y.NONENUMERABLE_DESCRIPTOR),t},!0);return n.setProperty(o,"prototype",n.createObject(n.ERROR)),n.setProperty(o.properties.prototype,"name",n.createPrimitive(e),y.NONENUMERABLE_DESCRIPTOR),n.setProperty(t,e,o),o};this.EVAL_ERROR=e("EvalError"),this.RANGE_ERROR=e("RangeError"),this.REFERENCE_ERROR=e("ReferenceError"),this.SYNTAX_ERROR=e("SyntaxError"),this.TYPE_ERROR=e("TypeError"),this.URI_ERROR=e("URIError")},y.prototype.isa=function(e,t){if(!e||!t)return!1;var o=t.properties.prototype;do{if(e==o)return!0}while(e=e.proto);return!1},y.prototype.comp=function(e,t){if(e.isPrimitive&&"number"==typeof e.data&&isNaN(e.data)||t.isPrimitive&&"number"==typeof t.data&&isNaN(t.data))return NaN;if(e===t)return 0;var o=e.isPrimitive?e.data:e.toString(),n=t.isPrimitive?t.data:t.toString();return o<n?-1:n<o?1:(e.isPrimitive||t.isPrimitive)&&o==n?0:NaN},y.prototype.arrayIndex=function(e){return e=Number(e),!isFinite(e)||e!=Math.floor(e)||e<0||e>=Math.pow(2,32)?NaN:e},y.Primitive=function(e,t){var o=typeof e;this.data=e,"number"==(this.type=o)?this.proto=t.NUMBER.properties.prototype:"string"==o?this.proto=t.STRING.properties.prototype:"boolean"==o&&(this.proto=t.BOOLEAN.properties.prototype)},y.Primitive.prototype.data=void 0,y.Primitive.prototype.type="undefined",y.Primitive.prototype.proto=null,y.Primitive.prototype.isPrimitive=!0,y.Primitive.prototype.toBoolean=function(){return Boolean(this.data)},y.Primitive.prototype.toNumber=function(){return Number(this.data)},y.Primitive.prototype.toString=function(){return String(this.data)},y.Primitive.prototype.valueOf=function(){return this.data},y.prototype.createPrimitive=function(e){return void 0===e?this.UNDEFINED:null===e?this.NULL:!0===e?this.TRUE:!1===e?this.FALSE:0===e?this.NUMBER_ZERO:1===e?this.NUMBER_ONE:""===e?this.STRING_EMPTY:e instanceof RegExp?this.populateRegExp_(this.createObject(this.REGEXP),e):new y.Primitive(e,this)},y.Object=function(e){this.notConfigurable=Object.create(null),this.notEnumerable=Object.create(null),this.notWritable=Object.create(null),this.getter=Object.create(null),this.setter=Object.create(null),this.properties=Object.create(null),this.proto=e},y.Object.prototype.type="object",y.Object.prototype.proto=null,y.Object.prototype.isPrimitive=!1,y.Object.prototype.data=void 0,y.Object.prototype.toBoolean=function(){return!0},y.Object.prototype.toNumber=function(){return Number(void 0===this.data?this.toString():this.data)},y.Object.prototype.toString=function(){if(0<=this.length){(n=y.toStringCycles_).push(this);try{for(var e=[],t=0;t<this.length;t++){var o=this.properties[t];e[t]=!o||o.isPrimitive&&(null===o.data||void 0===o.data)||-1!=n.indexOf(o)?"":o.toString()}}finally{n.pop()}return e.join(",")}if(this.error){var n,r,i;if(-1!=(n=y.toStringCycles_).indexOf(this))return"[Error]";var a=this;do{if("name"in a.properties){r=a.properties.name;break}}while(a.proto!=a&&(a=a.proto));a=this;do{if("message"in a.properties){i=a.properties.message;break}}while(a=a.proto);n.push(this);try{r=r&&r.toString(),i=i&&i.toString()}finally{n.pop()}return i?r+": "+i:r+""}return void 0!==this.data?String(this.data):"["+this.type+"]"},y.Object.prototype.valueOf=function(){return void 0===this.data?this:this.data},y.prototype.createObject=function(e){return this.createObjectProto(e&&e.properties.prototype)},y.prototype.createObjectProto=function(e){var t=new y.Object(e);return this.isa(t,this.FUNCTION)&&(t.type="function",this.setProperty(t,"prototype",this.createObject(this.OBJECT||null))),this.isa(t,this.ARRAY)&&(t.length=0),this.isa(t,this.ERROR)&&(t.error=!0),t},y.prototype.populateRegExp_=function(e,t){return e.data=t,this.setProperty(e,"lastIndex",this.createPrimitive(t.lastIndex),y.NONENUMERABLE_DESCRIPTOR),this.setProperty(e,"source",this.createPrimitive(t.source),y.READONLY_NONENUMERABLE_DESCRIPTOR),this.setProperty(e,"global",this.createPrimitive(t.global),y.READONLY_NONENUMERABLE_DESCRIPTOR),this.setProperty(e,"ignoreCase",this.createPrimitive(t.ignoreCase),y.READONLY_NONENUMERABLE_DESCRIPTOR),this.setProperty(e,"multiline",this.createPrimitive(t.multiline),y.READONLY_NONENUMERABLE_DESCRIPTOR),e.toString=function(){return String(this.data)},e.valueOf=function(){return this.data},e},y.prototype.createFunction=function(e,t){var o=this.createObject(this.FUNCTION);return o.parentScope=t,o.node=e,this.setProperty(o,"length",this.createPrimitive(o.node.params.length),y.READONLY_DESCRIPTOR),o},y.prototype.createNativeFunction=function(e,t){var o=this.createObject(this.FUNCTION);return(o.nativeFunc=e).id=this.functionCounter_++,this.setProperty(o,"length",this.createPrimitive(e.length),y.READONLY_DESCRIPTOR),t?this.setProperty(o.properties.prototype,"constructor",o,y.NONENUMERABLE_DESCRIPTOR):!1===t&&(o.illegalConstructor=!0,this.setProperty(o,"prototype",this.UNDEFINED)),o},y.prototype.createAsyncFunction=function(e){var t=this.createObject(this.FUNCTION);return(t.asyncFunc=e).id=this.functionCounter_++,this.setProperty(t,"length",this.createPrimitive(e.length),y.READONLY_DESCRIPTOR),t},y.prototype.nativeToPseudo=function(e){if("boolean"==typeof e||"number"==typeof e||"string"==typeof e||null==e||e instanceof RegExp)return this.createPrimitive(e);if(e instanceof Function){var t=this;return this.createNativeFunction(function(){return t.nativeToPseudo(e.apply(t,Array.prototype.slice.call(arguments).map(function(e){return t.pseudoToNative(e)})))},void 0)}var o;if(e instanceof Array){o=this.createObject(this.ARRAY);for(var n=0;n<e.length;n++)this.setProperty(o,n,this.nativeToPseudo(e[n]))}else for(var r in o=this.createObject(this.OBJECT),e)this.setProperty(o,r,this.nativeToPseudo(e[r]));return o},y.prototype.pseudoToNative=function(e,t){if(e.isPrimitive||this.isa(e,this.NUMBER)||this.isa(e,this.STRING)||this.isa(e,this.BOOLEAN))return e.data;var o,n=t||{pseudo:[],native:[]};if(-1!=(r=n.pseudo.indexOf(e)))return n.native[r];if(n.pseudo.push(e),this.isa(e,this.ARRAY)){o=[],n.native.push(o);for(var r=0;r<e.length;r++)o[r]=this.pseudoToNative(e.properties[r],n)}else{var i;for(var a in o={},n.native.push(o),e.properties)e.notEnumerable[a]||(i=e.properties[a],o[a]=this.pseudoToNative(i,n))}return n.pseudo.pop(),n.native.pop(),o},y.prototype.getFullyQualifiedName=function(e){for(var t="";e.object&&e.property;){var o=e.property;if(e.computed)t="["+(o.name?o.name:o.raw)+"]"+t;else t="."+o.name+t;e=e.object}return t="ArrayExpression"==e.type?"Array"+t:e.name+t},y.prototype.getProperty=function(e,t){if(t=t.toString(),e==this.UNDEFINED||e==this.NULL)return this.throwException(this.TYPE_ERROR,"Cannot read property '"+t+"' of "+e),null;if("length"==t){if(this.isa(e,this.STRING))return this.createPrimitive(e.data.length);if(this.isa(e,this.ARRAY))return this.createPrimitive(e.length)}else if(t.charCodeAt(0)<64&&this.isa(e,this.STRING)){var o=this.arrayIndex(t);if(!isNaN(o)&&o<e.data.length)return this.createPrimitive(e.data[o])}do{if(e.properties&&t in e.properties){var n=e.getter[t];return n?(n.isGetter=!0,n):e.properties[t]}}while(e=e.proto);return this.UNDEFINED},y.prototype.hasProperty=function(e,t){if(t=t.toString(),e.isPrimitive)throw TypeError("Primitive data type has no properties");if("length"==t&&(this.isa(e,this.STRING)||this.isa(e,this.ARRAY)))return!0;if(this.isa(e,this.STRING)){var o=this.arrayIndex(t);if(!isNaN(o)&&o<e.data.length)return!0}do{if(e.properties&&t in e.properties)return!0}while(e=e.proto);return!1},y.prototype.setProperty=function(e,t,o,n){if(t=t.toString(),n&&e.notConfigurable[t]&&this.throwException(this.TYPE_ERROR,"Cannot redefine property: "+t),"object"!=typeof o)throw Error("Failure to wrap a value: "+o);e!=this.UNDEFINED&&e!=this.NULL||this.throwException(this.TYPE_ERROR,"Cannot set property '"+t+"' of "+e),n&&(n.get||n.set)&&(o||void 0!==n.writable)&&this.throwException(this.TYPE_ERROR,"Invalid property descriptor. Cannot both specify accessors and a value or writable attribute");var r=!this.stateStack||this.getScope().strict;if(e.isPrimitive)r&&this.throwException(this.TYPE_ERROR,"Can't create property '"+t+"' on '"+e.data+"'");else{if(this.isa(e,this.STRING)){var i=this.arrayIndex(t);if("length"==t||!isNaN(i)&&i<e.data.length)return void(r&&this.throwException(this.TYPE_ERROR,"Cannot assign to read only property '"+t+"' of String '"+e.data+"'"))}if(this.isa(e,this.ARRAY)){var a;if("length"==t){var s=this.arrayIndex(o.toNumber());if(isNaN(s)&&this.throwException(this.RANGE_ERROR,"Invalid array length"),s<e.length)for(a in e.properties)a=this.arrayIndex(a),!isNaN(a)&&s<=a&&delete e.properties[a];return void(e.length=s)}isNaN(a=this.arrayIndex(t))||(e.length=Math.max(e.length,a+1))}if(e.properties[t]||!e.preventExtensions)if(n){e.properties[t]=o,n.configurable||(e.notConfigurable[t]=!0);var l=n.get;l?e.getter[t]=l:delete e.getter[t];var c=n.set;if(c?e.setter[t]=c:delete e.setter[t],n.enumerable||!1?delete e.notEnumerable[t]:e.notEnumerable[t]=!0,l||c)delete e.notWritable[t],e.properties[t]=this.UNDEFINED;else n.writable||!1?delete e.notWritable[t]:e.notWritable[t]=!0}else{var u=e;do{if(u.setter&&u.setter[t])return u.setter[t]}while(u=u.proto);e.getter&&e.getter[t]?r&&this.throwException(this.TYPE_ERROR,"Cannot set property '"+t+"' of object '"+e+"' which only has a getter"):e.notWritable[t]?r&&this.throwException(this.TYPE_ERROR,"Cannot assign to read only property '"+t+"' of object '"+e+"'"):e.properties[t]=o}else r&&this.throwException(this.TYPE_ERROR,"Can't add property "+t+", object is not extensible")}},y.prototype.setNativeFunctionPrototype=function(e,t,o){this.setProperty(e.properties.prototype,t,this.createNativeFunction(o,!1),y.NONENUMERABLE_DESCRIPTOR)},y.prototype.deleteProperty=function(e,t){return t=t.toString(),!e.isPrimitive&&!e.notWritable[t]&&(("length"!=t||!this.isa(e,this.ARRAY))&&delete e.properties[t])},y.prototype.getScope=function(){for(var e=this.stateStack.length-1;0<=e;e--)if(this.stateStack[e].scope)return this.stateStack[e].scope;throw Error("No scope found.")},y.prototype.createScope=function(e,t){var o=this.createObject(null);if((o.parentScope=t)||this.initGlobalScope(o),this.populateScope_(e,o),o.strict=!1,t&&t.strict)o.strict=!0;else{var n=e.body&&e.body[0];n&&n.expression&&"Literal"==n.expression.type&&"use strict"==n.expression.value&&(o.strict=!0)}return o},y.prototype.createSpecialScope=function(e,t){if(!e)throw Error("parentScope required");var o=t||this.createObject(null);return o.parentScope=e,o.strict=e.strict,o},y.prototype.getValueFromScope=function(e){for(var t=this.getScope(),o=e.toString();t&&t!=this.global;){if(o in t.properties)return t.properties[o];t=t.parentScope}if(t==this.global&&this.hasProperty(t,o))return this.getProperty(t,o);var n=this.stateStack[this.stateStack.length-1].node;return"UnaryExpression"==n.type&&"typeof"==n.operator?this.UNDEFINED:(this.throwException(this.REFERENCE_ERROR,o+" is not defined"),null)},y.prototype.setValueToScope=function(e,t){for(var o=this.getScope(),n=e.toString();o&&o!=this.global;){if(n in o.properties)return void(o.properties[n]=t);o=o.parentScope}if(o==this.global&&(!o.strict||this.hasProperty(o,n)))return this.setProperty(o,n,t);this.throwException(this.REFERENCE_ERROR,n+" is not defined")},y.prototype.populateScope_=function(e,t){if("VariableDeclaration"==e.type)for(var o=0;o<e.declarations.length;o++)this.setProperty(t,e.declarations[o].id.name,this.UNDEFINED);else{if("FunctionDeclaration"==e.type)return void this.setProperty(t,e.id.name,this.createFunction(e,t));if("FunctionExpression"==e.type)return;if("ExpressionStatement"==e.type)return}var n=e.constructor;for(var r in e){var i=e[r];if(i&&"object"==typeof i)if(i instanceof Array)for(o=0;o<i.length;o++)i[o]&&i[o].constructor==n&&this.populateScope_(i[o],t);else i.constructor==n&&this.populateScope_(i,t)}},y.prototype.stripLocations_=function(e,t,o){for(var n in t?e.start=t:delete e.start,o?e.end=o:delete e.end,e)if(e.hasOwnProperty(n)){var r=e[n];r&&"object"==typeof r&&this.stripLocations_(r,t,o)}},y.prototype.calledWithNew=function(){return this.stateStack[this.stateStack.length-1].isConstructor},y.prototype.getValue=function(e){if(e instanceof Array){var t=e[0],o=e[1];return this.getProperty(t,o)}return this.getValueFromScope(e)},y.prototype.setValue=function(e,t){if(e instanceof Array){var o=e[0],n=e[1];return this.setProperty(o,n,t)}return this.setValueToScope(e,t)},y.prototype.throwException=function(e,t){if(void 0===t)var o=e;else{o=this.createObject(e);this.setProperty(o,"message",this.createPrimitive(t),y.NONENUMERABLE_DESCRIPTOR)}this.executeException(o)},y.prototype.executeException=function(e){do{this.stateStack.pop();var t=this.stateStack[this.stateStack.length-1];if("TryStatement"==t.node.type)return void(t.throwValue=e)}while(t&&"Program"!=t.node.type);var o;if(this.isa(e,this.ERROR)){var n={EvalError:EvalError,RangeError:RangeError,ReferenceError:ReferenceError,SyntaxError:SyntaxError,TypeError:TypeError,URIError:URIError},r=this.getProperty(e,"name").toString(),i=this.getProperty(e,"message").valueOf();o=(n[r]||Error)(i)}else o=e.toString();throw o},y.prototype.pushGetter_=function(e,t){var o=t instanceof Array?t[0]:t;this.stateStack.push({node:{type:"CallExpression"},doneCallee_:!0,funcThis_:o,func_:e,doneArgs_:!0,arguments_:[]})},y.prototype.pushSetter_=function(e,t,o){var n=t instanceof Array?t[0]:this.global;this.stateStack.push({node:{type:"CallExpression"},doneCallee_:!0,funcThis_:n,func_:e,doneArgs_:!0,arguments_:[o]})},y.prototype.stepArrayExpression=function(){var e=this.stateStack,t=e[e.length-1],o=t.node,n=t.n_||0;t.array_?t.value&&this.setProperty(t.array_,n-1,t.value):t.array_=this.createObject(this.ARRAY),n<o.elements.length?(t.n_=n+1,o.elements[n]?e.push({node:o.elements[n]}):t.value=void 0):(t.array_.length=t.n_||0,e.pop(),e[e.length-1].value=t.array_)},y.prototype.stepAssignmentExpression=function(){var e=this.stateStack,t=e[e.length-1],o=t.node;if(!t.doneLeft_)return t.doneLeft_=!0,void e.push({node:o.left,components:!0});if(t.doneRight_){if(t.doneSetter_)return e.pop(),void(e[e.length-1].value=t.doneSetter_);var n,r=t.value;if("="==o.operator)n=r;else{var i,a,s=r,l=t.leftValue_.toNumber(),c=s.toNumber();if("+="==o.operator)a="string"==t.leftValue_.type||"string"==s.type?(i=t.leftValue_.toString(),s.toString()):(i=l,c),n=i+a;else if("-="==o.operator)n=l-c;else if("*="==o.operator)n=l*c;else if("/="==o.operator)n=l/c;else if("%="==o.operator)n=l%c;else if("<<="==o.operator)n=l<<c;else if(">>="==o.operator)n=l>>c;else if(">>>="==o.operator)n=l>>>c;else if("&="==o.operator)n=l&c;else if("^="==o.operator)n=l^c;else{if("|="!=o.operator)throw SyntaxError("Unknown assignment expression: "+o.operator);n=l|c}n=this.createPrimitive(n)}var u=this.setValue(t.leftSide_,n);if(u)return t.doneSetter_=n,void this.pushSetter_(u,t.leftSide_,n);e.pop(),e[e.length-1].value=n}else{if(t.leftSide_||(t.leftSide_=t.value),t.doneGetter_&&(t.leftValue_=t.value),t.doneGetter_||"="==o.operator||(t.leftValue_=this.getValue(t.leftSide_),!t.leftValue_.isGetter))return t.doneRight_=!0,void e.push({node:o.right});t.leftValue_.isGetter=!1,t.doneGetter_=!0;var d=t.leftValue_;this.pushGetter_(d,t.leftSide_)}},y.prototype.stepBinaryExpression=function(){var e=this.stateStack,t=e[e.length-1],o=t.node;if(!t.doneLeft_)return t.doneLeft_=!0,void e.push({node:o.left});if(!t.doneRight_)return t.doneRight_=!0,t.leftValue_=t.value,void e.push({node:o.right});e.pop();var n,r=t.leftValue_,i=t.value,a=this.comp(r,i);if("=="==o.operator||"!="==o.operator)n=r.isPrimitive&&i.isPrimitive?r.data==i.data:0===a,"!="==o.operator&&(n=!n);else if("==="==o.operator||"!=="==o.operator)n=r.isPrimitive&&i.isPrimitive?r.data===i.data:r===i,"!=="==o.operator&&(n=!n);else if(">"==o.operator)n=1==a;else if(">="==o.operator)n=1==a||0===a;else if("<"==o.operator)n=-1==a;else if("<="==o.operator)n=-1==a||0===a;else if("+"==o.operator){n=(s=r.isPrimitive?r.data:r.toString())+(l=i.isPrimitive?i.data:i.toString())}else if("in"==o.operator)i.isPrimitive?this.throwException(this.TYPE_ERROR,"Expecting an object evaluating 'in'"):n=this.hasProperty(i,r);else if("instanceof"==o.operator)this.isa(i,this.FUNCTION)?n=r.isPrimitive?this.FALSE:this.isa(r,i):this.throwException(this.TYPE_ERROR,"Expecting a function in instanceof check");else{var s=r.toNumber(),l=i.toNumber();if("-"==o.operator)n=s-l;else if("*"==o.operator)n=s*l;else if("/"==o.operator)n=s/l;else if("%"==o.operator)n=s%l;else if("&"==o.operator)n=s&l;else if("|"==o.operator)n=s|l;else if("^"==o.operator)n=s^l;else if("<<"==o.operator)n=s<<l;else if(">>"==o.operator)n=s>>l;else{if(">>>"!=o.operator)throw SyntaxError("Unknown binary operator: "+o.operator);n=s>>>l}}e[e.length-1].value=this.createPrimitive(n)},y.prototype.stepBlockStatement=function(){var e=this.stateStack,t=e[e.length-1],o=t.node,n=t.n_||0;o.body[n]?(t.n_=n+1,e.push({node:o.body[n]})):e.pop()},y.prototype.stepBreakStatement=function(){var e=this.stateStack,t=e.pop(),o=null;for(t.node.label&&(o=t.node.label.name);t&&"CallExpression"!=t.node.type&&"NewExpression"!=t.node.type;){if(o){if(t.labels&&-1!=t.labels.indexOf(o))return}else if(t.isLoop||t.isSwitch)return;t=e.pop()}throw SyntaxError("Illegal break statement")},y.prototype.stepCallExpression=function(){var e=this.stateStack,t=e[e.length-1],o=t.node;if(!t.doneCallee_)return t.doneCallee_=!0,void e.push({node:o.callee,components:!0});if(!t.func_){if("function"==t.value.type)t.func_=t.value;else{if(t.func_=this.getValue(t.value),t.func_.isGetter)return t.func_.isGetter=!1,this.pushGetter_(t.func_,t.value),void(t.func_=null);if(!t.func_)return;if("function"!=t.func_.type){var n=this.getFullyQualifiedName(o.callee);return void this.throwException(this.TYPE_ERROR,n+" is not a function")}}if("NewExpression"==t.node.type){if(t.func_.illegalConstructor)return void this.throwException(this.TYPE_ERROR,"function is not a constructor");t.funcThis_=this.createObject(t.func_),t.isConstructor=!0}else t.value.length?t.funcThis_=t.value[0]:t.funcThis_=this.getScope().strict?this.UNDEFINED:this.global;t.arguments_=[],t.n_=0}if(!t.doneArgs_){if(0!=t.n_&&t.arguments_.push(t.value),o.arguments[t.n_])return e.push({node:o.arguments[t.n_]}),void t.n_++;t.doneArgs_=!0}if(t.doneExec_)e.pop(),t.isConstructor&&"object"!==t.value.type?e[e.length-1].value=t.funcThis_:e[e.length-1].value=t.value;else{t.doneExec_=!0;var r=t.func_.node;if(r){for(var i=this.createScope(r.body,t.func_.parentScope),a=0;a<r.params.length;a++){var s=this.createPrimitive(r.params[a].name),l=t.arguments_.length>a?t.arguments_[a]:this.UNDEFINED;this.setProperty(i,s,l)}var c=this.createObject(this.ARRAY);for(a=0;a<t.arguments_.length;a++)this.setProperty(c,this.createPrimitive(a),t.arguments_[a]);this.setProperty(i,"arguments",c);var u=r.id&&r.id.name;u&&this.setProperty(i,u,t.func_);var d={node:r.body,scope:i,thisExpression:t.funcThis_};e.push(d),t.value=this.UNDEFINED}else if(t.func_.nativeFunc)t.value=t.func_.nativeFunc.apply(t.funcThis_,t.arguments_);else{if(t.func_.asyncFunc){var p=this,h=t.arguments_.concat(function(e){t.value=e||p.UNDEFINED,p.paused_=!1});return this.paused_=!0,void t.func_.asyncFunc.apply(t.funcThis_,h)}if(t.func_.eval){var g=t.arguments_[0];if(g)if(g.isPrimitive){var f=m.parse(g.toString(),y.PARSE_OPTIONS);t={node:{type:"EvalProgram_",body:f.body}},this.stripLocations_(t.node,o.start,o.end);i=this.getScope();this.populateScope_(f,i),e.push(t)}else t.value=g;else t.value=this.UNDEFINED}else this.throwException(this.TYPE_ERROR,"function is not a function")}}},y.prototype.stepCatchClause=function(){var e=this.stateStack,t=e[e.length-1],o=t.node;if(t.done_)e.pop();else{var n;if(t.done_=!0,o.param){n=this.createSpecialScope(this.getScope());var r=this.createPrimitive(o.param.name);this.setProperty(n,r,t.throwValue)}e.push({node:o.body,scope:n})}},y.prototype.stepConditionalExpression=function(){var e=this.stateStack,t=e[e.length-1],o=t.mode_||0;if(0==o)return t.mode_=1,void e.push({node:t.node.test});if(1==o){t.mode_=2;var n=t.value.toBoolean();if(n&&t.node.consequent)return void e.push({node:t.node.consequent});if(!n&&t.node.alternate)return void e.push({node:t.node.alternate});this.value=this.UNDEFINED}e.pop(),"ConditionalExpression"==t.node.type&&(e[e.length-1].value=t.value)},y.prototype.stepContinueStatement=function(){var e=this.stateStack,t=e.pop(),o=null;for(t.node.label&&(o=t.node.label.name),t=e[e.length-1];t&&"CallExpression"!=t.node.type&&"NewExpression"!=t.node.type;){if(t.isLoop&&(!o||t.labels&&-1!=t.labels.indexOf(o)))return;e.pop(),t=e[e.length-1]}throw SyntaxError("Illegal continue statement")},y.prototype.stepDebugger=function(){},y.prototype.stepDoWhileStatement=function(){var e=this.stateStack,t=e[e.length-1];"DoWhileStatement"==t.node.type&&void 0===t.test_&&(t.value=this.TRUE,t.test_=!0),t.test_?t.value.toBoolean()?t.node.body&&(t.test_=!1,t.isLoop=!0,e.push({node:t.node.body})):e.pop():(t.test_=!0,e.push({node:t.node.test}))},y.prototype.stepEmptyStatement=function(){this.stateStack.pop()},y.prototype.stepEvalProgram_=function(){var e=this.stateStack,t=e[e.length-1],o=t.node,n=t.n_||0;o.body[n]?(t.n_=n+1,e.push({node:o.body[n]})):(e.pop(),e[e.length-1].value=this.value)},y.prototype.stepExpressionStatement=function(){var e=this.stateStack,t=e[e.length-1];t.done_?(e.pop(),this.value=t.value):(t.done_=!0,e.push({node:t.node.expression}))},y.prototype.stepForInStatement=function(){var e=this.stateStack,t=e[e.length-1],o=t.node;if(!t.doneInit_&&(t.doneInit_=!0,o.left.declarations&&o.left.declarations[0].init)){if(this.getScope().strict)throw SyntaxError("for-in loop variable declaration may not have an initializer.");e.push({node:o.left})}else{if(!t.doneObject_)return t.doneObject_=!0,t.variable_||(t.variable_=t.value),void e.push({node:o.right});if(t.object_||(t.isLoop=!0,t.object_=t.value,t.visited_=[]),void 0===t.name_){e:do{if(t.object_.isPrimitive){for(var n in t.object_.data)if(-1==t.visited_.indexOf(n)){t.visited_.push(n),t.name_=n,t.visited_.push(n);break e}}else for(var n in t.object_.properties)if(-1==t.visited_.indexOf(n)&&(t.visited_.push(n),!t.object_.notEnumerable[n])){t.name_=n,t.visited_.push(n);break e}t.object_=t.object_.proto}while(t.object_);if(!t.object_)return void e.pop()}if(!t.doneVariable_){t.doneVariable_=!0;var r=o.left;if("VariableDeclaration"!=r.type)return t.variable_=null,void e.push({node:r,components:!0});t.variable_=r.declarations[0].id.name}if(t.variable_||(t.variable_=t.value),!t.doneSetter_){t.doneSetter_=!0;var i=this.createPrimitive(t.name_),a=this.setValue(t.variable_,i);if(a)return void this.pushSetter_(a,t.variable_,i)}o.body&&e.push({node:o.body}),t.name_=void 0,t.variable_ instanceof Array&&(t.doneVariable_=!1),t.doneSetter_=!1}},y.prototype.stepForStatement=function(){var e=this.stateStack,t=e[e.length-1],o=t.node,n=t.mode_||0;0==n?(t.mode_=1,o.init&&e.push({node:o.init})):1==n?(t.mode_=2,o.test&&e.push({node:o.test})):2==n?(t.mode_=3,o.test&&t.value&&!t.value.toBoolean()?e.pop():o.body&&(t.isLoop=!0,e.push({node:o.body}))):3==n&&(t.mode_=1,o.update&&e.push({node:o.update}))},y.prototype.stepFunctionDeclaration=function(){this.stateStack.pop()},y.prototype.stepFunctionExpression=function(){var e=this.stateStack,t=e.pop();e[e.length-1].value=this.createFunction(t.node,this.getScope())},y.prototype.stepIdentifier=function(){var e=this.stateStack,t=e.pop(),o=t.node.name,n=this.createPrimitive(o),r=t.components?n:this.getValueFromScope(n);if(r&&r.isGetter){r.isGetter=!1;for(var i=this.getScope();!this.hasProperty(i,o);)i=i.parentScope;var a=r;this.pushGetter_(a,this.global)}else e[e.length-1].value=r},y.prototype.stepIfStatement=y.prototype.stepConditionalExpression,y.prototype.stepLabeledStatement=function(){var e=this.stateStack,t=e.pop(),o=t.labels||[];o.push(t.node.label.name),e.push({node:t.node.body,labels:o})},y.prototype.stepLiteral=function(){var e=this.stateStack,t=e.pop();e[e.length-1].value=this.createPrimitive(t.node.value)},y.prototype.stepLogicalExpression=function(){var e=this.stateStack,t=e[e.length-1],o=t.node;if("&&"!=o.operator&&"||"!=o.operator)throw SyntaxError("Unknown logical operator: "+o.operator);t.doneLeft_?t.doneRight_?(e.pop(),e[e.length-1].value=t.value):"&&"==o.operator&&!t.value.toBoolean()||"||"==o.operator&&t.value.toBoolean()?(e.pop(),e[e.length-1].value=t.value):(t.doneRight_=!0,e.push({node:o.right})):(t.doneLeft_=!0,e.push({node:o.left}))},y.prototype.stepMemberExpression=function(){var e=this.stateStack,t=e[e.length-1],o=t.node;if(t.doneObject_)if(t.doneProperty_)if(e.pop(),t.components)e[e.length-1].value=[t.object_,t.value];else{if(t.object_==this.NULL||t.object_==this.UNDEFINED){var n=this.getFullyQualifiedName(o.object);return void this.throwException(this.TYPE_ERROR,n+" is "+t.object_.toString())}var r=this.getProperty(t.object_,t.value);if(!r)return e.push({}),void this.throwException(this.TYPE_ERROR,"Cannot read property '"+t.value+"' of "+t.object_.toString());if(r.isGetter){r.isGetter=!1;var i=r;this.pushGetter_(i,t.object_)}else e[e.length-1].value=r}else t.doneProperty_=!0,t.object_=t.value,e.push({node:o.property,components:!o.computed});else t.doneObject_=!0,e.push({node:o.object})},y.prototype.stepNewExpression=y.prototype.stepCallExpression,y.prototype.stepObjectExpression=function(){var e=this.stateStack,t=e[e.length-1],o=t.node,n=t.valueToggle_,r=t.n_||0;if(t.object?n?t.key_=t.value:(t.properties[t.key_]||(t.properties[t.key_]={}),t.properties[t.key_][t.kind_]=t.value):(t.object=this.createObject(this.OBJECT),t.properties=Object.create(null)),o.properties[r])n?(t.n_=r+1,e.push({node:o.properties[r].value})):(t.kind_=o.properties[r].kind,e.push({node:o.properties[r].key,components:!0})),t.valueToggle_=!n;else{for(var i in t.properties){var a=t.properties[i];if("get"in a||"set"in a){var s={configurable:!0,enumerable:!0,get:a.get,set:a.set};this.setProperty(t.object,i,null,s)}else this.setProperty(t.object,i,a.init)}e.pop(),e[e.length-1].value=t.object}},y.prototype.stepProgram=function(){var e=this.stateStack,t=e[e.length-1],o=t.node,n=t.n_||0;o.body[n]?(t.done=!1,t.n_=n+1,e.push({node:o.body[n]})):t.done=!0},y.prototype.stepReturnStatement=function(){var e=this.stateStack,t=e[e.length-1],o=t.node;if(o.argument&&!t.done_)t.done_=!0,e.push({node:o.argument});else{var n=t.value||this.UNDEFINED,r=e.length-1;for(t=e[r];"CallExpression"!=t.node.type&&"NewExpression"!=t.node.type;){if("TryStatement"!=t.node.type&&e.splice(r,1),--r<0)throw SyntaxError("Illegal return statement");t=e[r]}t.value=n}},y.prototype.stepSequenceExpression=function(){var e=this.stateStack,t=e[e.length-1],o=t.node,n=t.n_||0;o.expressions[n]?(t.n_=n+1,e.push({node:o.expressions[n]})):(e.pop(),e[e.length-1].value=t.value)},y.prototype.stepSwitchStatement=function(){var e=this.stateStack,t=e[e.length-1];if(!t.test_)return t.test_=!0,void e.push({node:t.node.discriminant});for(t.switchValue_||(t.switchValue_=t.value);;){var o=t.index_||0,n=t.node.cases[o];if(t.matched_||!n||n.test)if(n||t.matched_||!t.defaultCase_){if(!n)return void e.pop();if(!t.matched_&&!e.tested_&&n.test)return e.tested_=!0,void e.push({node:n.test});if(t.matched_||0==this.comp(t.value,t.switchValue_)){t.matched_=!0;var r=t.n_||0;if(n.consequent[r])return t.isSwitch=!0,e.push({node:n.consequent[r]}),void(t.n_=r+1)}e.tested_=!1,t.n_=0,t.index_=o+1}else t.matched_=!0,t.index_=t.defaultCase_;else t.defaultCase_=o,t.index_=o+1}},y.prototype.stepThisExpression=function(){var e=this.stateStack;e.pop();for(var t=e.length-1;0<=t;t--)if(e[t].thisExpression)return void(e[e.length-1].value=e[t].thisExpression);throw Error("No this expression found.")},y.prototype.stepThrowStatement=function(){var e=this.stateStack,t=e[e.length-1],o=t.node;t.done_?this.throwException(t.value):(t.done_=!0,e.push({node:o.argument}))},y.prototype.stepTryStatement=function(){var e=this.stateStack,t=e[e.length-1],o=t.node;t.doneBlock_?t.throwValue&&!t.doneHandler_&&o.handler?(t.doneHandler_=!0,e.push({node:o.handler,throwValue:t.throwValue}),t.throwValue=null):!t.doneFinalizer_&&o.finalizer?(t.doneFinalizer_=!0,e.push({node:o.finalizer})):t.throwValue?this.executeException(t.throwValue):e.pop():(t.doneBlock_=!0,e.push({node:o.block}))},y.prototype.stepUnaryExpression=function(){var e=this.stateStack,t=e[e.length-1],o=t.node;if(t.done_){e.pop();var n=t.value;if("-"==o.operator)n=-n.toNumber();else if("+"==o.operator)n=n.toNumber();else if("!"==o.operator)n=!n.toBoolean();else if("~"==o.operator)n=~n.toNumber();else if("delete"==o.operator){if(n.length)var r=n[0],i=n[1];else r=this.getScope(),i=n;if(!(n=this.deleteProperty(r,i))&&this.getScope().strict)return void this.throwException(this.TYPE_ERROR,"Cannot delete property '"+i+"' of '"+r+"'")}else if("typeof"==o.operator)n=n.type;else{if("void"!=o.operator)throw SyntaxError("Unknown unary operator: "+o.operator);n=void 0}e[e.length-1].value=this.createPrimitive(n)}else{t.done_=!0;var a={node:o.argument,components:"delete"==o.operator};e.push(a)}},y.prototype.stepUpdateExpression=function(){var e=this.stateStack,t=e[e.length-1],o=t.node;if(!t.doneLeft_)return t.doneLeft_=!0,void e.push({node:o.argument,components:!0});if(t.leftSide_||(t.leftSide_=t.value),t.doneGetter_&&(t.leftValue_=t.value),!t.doneGetter_){if(t.leftValue_=this.getValue(t.leftSide_),!t.leftValue_)return;if(t.leftValue_.isGetter){t.leftValue_.isGetter=!1,t.doneGetter_=!0;var n=t.leftValue_;return void this.pushGetter_(n,t.leftSide_)}}if(t.doneSetter_)return e.pop(),void(e[e.length-1].value=t.doneSetter_);var r,i=t.leftValue_.toNumber();if("++"==o.operator)r=this.createPrimitive(i+1);else{if("--"!=o.operator)throw SyntaxError("Unknown update expression: "+o.operator);r=this.createPrimitive(i-1)}var a=o.prefix?r:this.createPrimitive(i),s=this.setValue(t.leftSide_,r);if(s)return t.doneSetter_=a,void this.pushSetter_(s,t.leftSide_,r);e.pop(),e[e.length-1].value=a},y.prototype.stepVariableDeclaration=function(){var e=this.stateStack,t=e[e.length-1],o=t.node,n=t.n_||0,r=o.declarations[n];for(t.value&&r&&(this.setValue(this.createPrimitive(r.id.name),t.value),t.value=null,r=o.declarations[++n]);r;){if(r.init)return t.n_=n,void e.push({node:r.init});r=o.declarations[++n]}e.pop()},y.prototype.stepWithStatement=function(){var e=this.stateStack,t=e[e.length-1],o=t.node;if(t.doneObject_)if(t.doneBody_)e.pop();else{t.doneBody_=!0;var n=this.createSpecialScope(this.getScope(),t.value);e.push({node:o.body,scope:n})}else t.doneObject_=!0,e.push({node:o.object})},y.prototype.stepWhileStatement=y.prototype.stepDoWhileStatement,(this.Interpreter=y).prototype.step=y.prototype.step,y.prototype.run=y.prototype.run,y.prototype.appendCode=y.prototype.appendCode,y.prototype.createPrimitive=y.prototype.createPrimitive,y.prototype.createAsyncFunction=y.prototype.createAsyncFunction,y.prototype.createNativeFunction=y.prototype.createNativeFunction,y.prototype.getProperty=y.prototype.getProperty,y.prototype.setProperty=y.prototype.setProperty,y.prototype.nativeToPseudo=y.prototype.nativeToPseudo,y.prototype.pseudoToNative=y.prototype.pseudoToNative},1279:function(e,t){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}e.exports=function(){"use strict";function e(e){var t=e.globalProperties,o=e.blockedProperties,n=e.objectList;this.globalProperties=t||{},this.blockedProperties=o||[],this.objectList=n||[],this.marshaledMap=new Map}var t=e.prototype;return t.getObjectListData=function(e,t){for(var o=0;o<this.objectList.length;o++){var n=this.objectList[o];if(e instanceof n.instance&&(void 0===n.requiredMethod||void 0!==e[n.requiredMethod])||"function"!=typeof e&&t instanceof n.instance)return n}return null},t.shouldCustomMarshalObject=function(e,t){return!!this.getObjectListData(e,t)},t.getCustomMarshalMethodOptions=function(e,t){for(var o=0;o<this.objectList.length;o++){var n=this.objectList[o];if(e instanceof n.instance||t===n.instance)return(void 0===n.requiredMethod||void 0!==e[n.requiredMethod])&&n.methodOpts||{}}return{}},t.createCustomMarshalObject=function(e,t,o){var n=this.marshaledMap.get(t);if(n)return n;((n=e.createObject()).data=t,n.isCustomMarshal=!0,n.type=r(t),n.toBoolean=function(){return Boolean(this.data)},n.toNumber=function(){return Number(this.data)},n.toString=function(){return String(this.data)},n.valueOf=function(){return this.data},"object"===r(t))&&((this.getObjectListData(t,o)||{}).ensureIdenticalMarshalInstances&&this.marshaledMap.set(t,n));return n},e}()},128:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lessonIsVisible=function(e,t,o){if(!o)throw new Error("missing param viewAs in lessonIsVisible");if(e.lockable&&!t.stageLock.lockableAuthorized)return!1;var n=t.hiddenStage,r=t.teacherSections.selectedSectionId;return!(0,a.isStageHiddenForSection)(n,r,e.id)||o===i.ViewType.Teacher},t.lessonIsLockedForAllStudents=function(e,t){var o=t.teacherSections.selectedSectionId,n=t.stageLock.stagesBySectionId[o];return!!(0,r.fullyLockedStageMapping)(n)[e]},t.stageLocked=function(e){var t=e[e.length-1];return t.status===s.LevelStatus.locked||"assessment"===t.kind&&"submitted"===t.status},t.getIconForLevel=function(e){if(1<arguments.length&&void 0!==arguments[1]&&arguments[1]&&n(e))return"check-circle";if(e.icon){var t=/fa-(.*)/.exec(e.icon);if(!t||!t[1])throw new Error("Unknown iconType: "+e.icon);return t[1]}if(e.isUnplugged)return"scissors";if(e.bonus)return"flag-checkered";return"desktop"},t.isLevelAssessment=n,t.stageIsAllAssessment=function(e){return e.every(function(e){return e.kind===s.LevelKind.assessment})},t.summarizeProgressInStage=function(e){for(var t={total:(e=e.filter(function(e){return!e.bonus})).length,completed:0,imperfect:0,incomplete:0,attempted:0},o=0;o<e.length;o++){var n=e[o].status;switch(n){case s.LevelStatus.perfect:case s.LevelStatus.submitted:case s.LevelStatus.free_play_complete:case s.LevelStatus.completed_assessment:case s.LevelStatus.readonly:t.completed=t.completed+1;break;case s.LevelStatus.not_tried:t.incomplete=t.incomplete+1;break;case s.LevelStatus.attempted:t.incomplete=t.incomplete+1,t.attempted=t.attempted+1;break;case s.LevelStatus.passed:t.imperfect=t.imperfect+1;break;default:t.incomplete=t.incomplete+1}}return t},t.processedLevel=void 0;var r=o(136),i=o(59),a=o(147),s=o(61);function n(e){return"assessment"===e.kind}t.processedLevel=function(e){return{url:e.url,name:e.name,progression:e.progression,kind:e.kind,icon:e.icon,isUnplugged:e.display_as_unplugged,levelNumber:e.kind===s.LevelKind.unplugged?void 0:e.title,isConceptLevel:e.is_concept_level,bonus:e.bonus}}},13:function(r,e,i){(function(e){var t,o=void 0!==e?e:"undefined"!=typeof window?window:{},n=i(1785);"undefined"!=typeof document?t=document:(t=o["__GLOBAL_DOCUMENT_CACHE@4"])||(t=o["__GLOBAL_DOCUMENT_CACHE@4"]=n),r.exports=t}).call(this,i(25))},130:function(e,t){(t=e.exports=function(e){return e.replace(/^\s*|\s*$/g,"")}).left=function(e){return e.replace(/^\s*/,"")},t.right=function(e){return e.replace(/\s*$/,"")}},136:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:T,t=1<arguments.length?arguments[1]:void 0;if(t.type===b)return Object.assign({},e,{lockableAuthorized:!0});if(t.type===E)return g({},e,{stagesBySectionId:p.default.mapValues(t.sections,function(e){return e.stages})});if(t.type===h.SELECT_SECTION){if(0===Object.keys(e.stagesBySectionId).length)return e;var o=t.sectionId;if(o===h.NO_SECTION)return g({},e,{lockStatus:T.lockStatus});if(!e.stagesBySectionId[o])throw new Error("Unknown sectionId ".concat(o));var n=e.lockDialogStageId;if(n)return g({},e,{lockStatus:S(e.stagesBySectionId[o],n)})}if(t.type===m){var r=t.sectionId,i=t.stageId;return Object.assign({},e,{lockDialogStageId:i,lockStatus:S(e.stagesBySectionId[r],i)})}if(t.type===y)return Object.assign({},e,{lockDialogStageId:null,lockStatus:T.lockStatus});if(t.type===_)return Object.assign({},e,{saving:!0});if(t.type!==v)return e;var a=e.stagesBySectionId,s=t.lockStatus,l=t.sectionId,c=t.stageId,u=p.default.cloneDeep(a[l][c]);u.forEach(function(e,t){var o=s[t];if(e.user_level_id!==o.userLevelId)throw new Error("Expect user ids be the same");e.locked=o.lockStatus===f.Locked,e.readonly_answers=o.lockStatus===f.ReadonlyAnswers});var d=p.default.cloneDeep(e);return d.stagesBySectionId[l][c]=u,Object.assign(d,{lockStatus:s,saving:!1})},t.setSectionLockStatus=t.fullyLockedStageMapping=t.closeLockDialog=t.lockStage=t.saveLockDialog=t.finishSave=t.beginSave=t.openLockDialog=t.authorizeLockable=t.FINISH_SAVE=t.BEGIN_SAVE=t.CLOSE_LOCK_DIALOG=t.LockStatus=void 0;var l=r(o(10)),p=r(o(15)),n=o(11),h=o(56);function r(e){return e&&e.__esModule?e:{default:e}}function g(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{},n=Object.keys(Object(o));"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(o).filter(function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable}))),n.forEach(function(e){i(t,e,o[e])})}return t}function i(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var f=(0,n.makeEnum)("Locked","Editable","ReadonlyAnswers");t.LockStatus=f;var m="stageLock/OPEN_LOCK_DIALOG",y="stageLock/CLOSE_LOCK_DIALOG";t.CLOSE_LOCK_DIALOG=y;var _="stageLock/BEGIN_SAVE";t.BEGIN_SAVE=_;var v="stageLock/FINISH_SAVE";t.FINISH_SAVE=v;var b="stageLock/AUTHORIZE_LOCKABLE",E="stageLock/SET_SECTION_LOCK_STATUS",T={stagesBySectionId:{},lockDialogStageId:null,lockStatus:[],saving:!1,lockableAuthorized:!1};t.authorizeLockable=function(){return{type:b}};t.openLockDialog=function(e,t){return{type:m,sectionId:e,stageId:t}};var c=function(){return{type:_}};t.beginSave=c;var u=function(e,t,o){return{type:v,sectionId:e,stageId:t,lockStatus:o}};t.finishSave=u;var a=function(r,i,a,s){return function(e,t){var o=t().stageLock.lockStatus,n=a.filter(function(e,t){return!p.default.isEqual(e,o[t])}).map(function(e){return{user_level_data:e.userLevelData,locked:e.lockStatus===f.Locked,readonly_answers:e.lockStatus===f.ReadonlyAnswers}});0!==n.length?(e(c()),l.default.ajax({type:"POST",url:"/api/lock_status",dataType:"json",contentType:"application/json",data:JSON.stringify({updates:n})}).done(function(){e(u(r,i,a)),s()}).fail(function(e){console.error(e),s()})):s()}};t.saveLockDialog=function(n,r){return function(e,t){var o=t().stageLock.lockDialogStageId;e(a(n,o,r,function(){e(s())}))}};t.lockStage=function(r,i){return function(e,t){var o=t().stageLock.stagesBySectionId[r],n=S(o,i).map(function(e){return g({},e,{lockStatus:f.Locked})});e(a(r,i,n,function(){}))}};var s=function(){return{type:y}};t.closeLockDialog=s;var S=function(e,t){return void 0===e?[]:e[t].map(function(e){return{userLevelData:e.user_level_data,name:e.name,lockStatus:e.locked?f.Locked:e.readonly_answers?f.ReadonlyAnswers:f.Editable}})};t.fullyLockedStageMapping=function(o){return o?Object.keys(o).reduce(function(e,t){return g({},e,i({},t,!o[t].some(function(e){return!e.locked})))},{}):{}};t.setSectionLockStatus=function(e){return{type:E,sections:e}}},139:function(e,t,o){"use strict";e.exports=s;var n=o(401),r=n.CONTINUE,i=n.SKIP,a=n.EXIT;function s(e,t,r,o){"function"==typeof t&&"function"!=typeof r&&(o=r,r=t,t=null),n(e,t,function(e,t){var o=t[t.length-1],n=o?o.children.indexOf(e):null;return r(e,n,o)},o)}s.CONTINUE=r,s.SKIP=i,s.EXIT=a},147:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:new y,t=1<arguments.length?arguments[1]:void 0;if(t.type===g){var o=t.hiddenStagesPerSection,n=t.hideableStagesAllowed,r=Object.keys(o),i=e;return r.forEach(function(t){var e=o[t];e.forEach(function(e){i=i.setIn(["stagesBySection",t,e.toString()],!0)})}),_(i),i.merge({hiddenStagesInitialized:!0,hideableStagesAllowed:n})}if(t.type===f){var a=t.sectionId,s=t.stageId,l=t.hidden,c=e.setIn(["stagesBySection",a,s.toString()],l);return _(c),c}if(t.type!==m)return e;var u=t.sectionId,d=t.scriptId,p=t.hidden,h=e.setIn(["scriptsBySection",u.toString(),d.toString()],p);return _(h),h},t.setHiddenStages=l,t.updateHiddenStage=c,t.updateHiddenScript=u,t.toggleHiddenStage=function(t,o,n,r){return function(e){e(c(o,n,r)),d(t,o,n,r)}},t.toggleHiddenScript=function(t,o,n,r){return function(e){e(u(o,n,r)),d(t,o,null,r)}},t.getHiddenStages=function(e,o){return function(t){i.default.ajax({type:"GET",url:"/s/".concat(e,"/hidden_stages"),dataType:"json",contentType:"application/json"}).done(function(e){return t(function(t,o){return function(e){Array.isArray(t)&&(t=a({},s,t)),e(l(t,!!o))}}(e,o))}).fail(function(e){return console.error(e)})}},t.initializeHiddenScripts=function(n){return function(o){n&&(Array.isArray(n)&&(n=a({},s,n)),Object.keys(n).forEach(function(t){var e=n[t];e.forEach(function(e){o(u(t,e,!0))})}))}},t.isStageHiddenForSection=function(e,t,o){return p(e,t,o,"stagesBySection")},t.isScriptHiddenForSection=function(e,t,o){return p(e,t,o,"scriptsBySection")},t.STUDENT_SECTION_ID=void 0;var i=r(o(10)),n=r(o(102));function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var g="hiddenStage/SET_HIDDEN_STAGES",f="hiddenStage/UPDATE_HIDDEN_STAGE",m="hiddenStage/UPDATE_HIDDEN_SCRIPT",s="STUDENT";t.STUDENT_SECTION_ID=s;var y=n.default.Record({hiddenStagesInitialized:!1,hideableStagesAllowed:!1,stagesBySection:n.default.Map({}),scriptsBySection:n.default.Map({})});function _(e){if(e.getIn(["stagesBySection",s])&&1<e.get("stagesBySection").size)throw new Error("Should never have STUDENT_SECTION_ID alongside other sectionIds")}function l(e,t){return{type:g,hiddenStagesPerSection:e,hideableStagesAllowed:t}}function c(e,t,o){return{type:f,sectionId:e,stageId:t,hidden:o}}function u(e,t,o){return{type:m,sectionId:e,scriptId:t,hidden:o}}function d(e,t,o,n){var r={section_id:t,hidden:n};o&&(r.stage_id=o),i.default.ajax({type:"POST",url:"/s/".concat(e,"/toggle_hidden"),dataType:"json",contentType:"application/json",data:JSON.stringify(r)}).success(function(){window.__TestInterface=window.__TestInterface||{},window.__TestInterface.toggleHiddenUnitComplete=!0})}function p(e,t,o,n){return!!o&&(t||(t=s),!!e.get(n).getIn([t.toString(),o.toString()]))}},149:function(e,t,o){"use strict";var r=o(17);e.exports=function(e){return function(e){return!!e&&("object"==typeof e||"function"==typeof e)&&"length"in e&&!("setInterval"in e)&&"number"!=typeof e.nodeType&&(Array.isArray(e)||"callee"in e||"item"in e)}(e)?Array.isArray(e)?e.slice():function(e){var t=e.length;if((Array.isArray(e)||"object"!=typeof e&&"function"!=typeof e)&&r(!1),"number"!=typeof t&&r(!1),0===t||t-1 in e||r(!1),"function"==typeof e.callee&&r(!1),e.hasOwnProperty)try{return Array.prototype.slice.call(e)}catch(e){}for(var o=Array(t),n=0;n<t;n++)o[n]=e[n];return o}(e):[e]}},150:function(e,t,o){"use strict";var n=o(44),r=o(17),i=n.canUseDOM?document.createElement("div"):null,a={},s=[1,'<select multiple="true">',"</select>"],l=[1,"<table>","</table>"],c=[3,"<table><tbody><tr>","</tr></tbody></table>"],u=[1,'<svg xmlns="http://www.w3.org/2000/svg">',"</svg>"],d={"*":[1,"?<div>","</div>"],area:[1,"<map>","</map>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],legend:[1,"<fieldset>","</fieldset>"],param:[1,"<object>","</object>"],tr:[2,"<table><tbody>","</tbody></table>"],optgroup:s,option:s,caption:l,colgroup:l,tbody:l,tfoot:l,thead:l,td:c,th:c};["circle","clipPath","defs","ellipse","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","text","tspan"].forEach(function(e){d[e]=u,a[e]=!0}),e.exports=function(e){return i||r(!1),d.hasOwnProperty(e)||(e="*"),a.hasOwnProperty(e)||(i.innerHTML="*"===e?"<link />":"<"+e+"></"+e+">",a[e]=!i.firstChild),a[e]?d[e]:null}},151:function(e,t,o){"use strict";var n=/-(.)/g;e.exports=function(e){return e.replace(n,function(e,t){return t.toUpperCase()})}},152:function(e,t,o){"use strict";var n=/([A-Z])/g;e.exports=function(e){return e.replace(n,"-$1").toLowerCase()}},153:function(e,t,o){"use strict";var n=o(154);e.exports=function(e){return n(e)&&3==e.nodeType}},154:function(e,t,o){"use strict";e.exports=function(e){var t=(e?e.ownerDocument||e:document).defaultView||window;return!(!e||!("function"==typeof t.Node?e instanceof t.Node:"object"==typeof e&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName))}},155:function(e,t,o){"use strict";var s=o(156);function n(){}e.exports=function(){function e(e,t,o,n,r,i){if(i!==s){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}var o={array:e.isRequired=e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return o.checkPropTypes=n,o.PropTypes=o}},156:function(e,t,o){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},1564:function(e,t,o){"use strict";function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.ages=void 0;var n,r=(n=o(0))&&n.__esModule?n:{default:n},i=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var o={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(o,r,i):o[r]=e[r]}o.default=e,t&&t.set(e,o);return o}(o(1));function s(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}var l=["","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21+"];t.ages=l;var c,u,d,p=function(e){function t(){return e.apply(this,arguments)||this}!function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(t,e);var o=t.prototype;return o.getValue=function(){return this.root.value},o.render=function(){var t=this,e=this.props.age&&this.props.age.toString();return i.default.createElement("select",{ref:function(e){return t.root=e},name:"age",style:this.props.style,id:"uitest-age-selector",defaultValue:e},l.map(function(e){return i.default.createElement("option",{key:e,value:e},e)}))},t}(i.Component);t.default=p,c=p,u="propTypes",d={style:r.default.object,age:r.default.oneOfType([r.default.string,r.default.number])},u in c?Object.defineProperty(c,u,{value:d,enumerable:!0,configurable:!0,writable:!0}):c[u]=d},1565:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.childrenOfType=function(){for(var e=arguments.length,i=new Array(e),t=0;t<e;t++)i[t]=arguments[t];return function(e,t,o){if("children"!==t)return new Error("The childrenOfType prop type should only be used on the children prop.");var n=e[t];if(n){var r=p.default.Children.map(n,function(e){return e&&e.type})||[];return(0,a.isSubsequence)(i,r)?void 0:new Error(o+" was given children of types "+r.map(function(e){return"<".concat(e.name,">")}).join(", ")+" but only accepts one of each child in the following order: "+i.map(function(e){return"<".concat(e.name,">")}).join(", ")+".")}}},t.whenNoChildOfTypes=function(){for(var e=arguments.length,d=new Array(e),t=0;t<e;t++)d[t]=arguments[t];return function(e,t,o){if(e.children&&e[t]){var n,r=p.default.Children.map(e.children,function(e){return e.type}),i=!0,a=!1,s=void 0;try{for(var l,c=r[Symbol.iterator]();!(i=(l=c.next()).done);i=!0){var u=l.value;if(d.includes(u)){n=new Error("".concat(o," was given a ").concat(t," prop and a ")+"<".concat(u.name,"> child, but only one of those is allowed."));break}}}catch(e){a=!0,s=e}finally{try{i||null==c.return||c.return()}finally{if(a)throw s}}return n}}};var n,p=(n=o(1))&&n.__esModule?n:{default:n},a=o(11)},1566:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e},n=function(){function n(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,o){return t&&n(e.prototype,t),o&&n(e,o),e}}(),i=s(o(1)),a=(s(o(0)),o(361));function s(e){return e&&e.__esModule?e:{default:e}}var l=a.tableDefaults.renderers,c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),n(t,[{key:"getChildContext",value:function(){var e=this.props,t=e.columns,o=e.components,n=e.renderers;return o&&(console.warn("`components` have been deprecated in favor of `renderers` and will be removed in the next major version, please rename!"),n=o),{columns:t,renderers:{table:n.table||l.table,header:r({},l.header,n.header),body:r({},l.body,n.body)}}}},{key:"render",value:function(){var e=this.props,t=(e.columns,e.renderers),o=(e.components,e.children),n=function(e,t){var o={};for(var n in e)0<=t.indexOf(n)||Object.prototype.hasOwnProperty.call(e,n)&&(o[n]=e[n]);return o}(e,["columns","renderers","components","children"]);return i.default.createElement(t.table||a.tableDefaults.renderers.table,n,o)}}]),t}();(t.default=c).defaultProps=r({},a.tableDefaults),c.childContextTypes=a.tableContextTypes},1567:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function n(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,o){return t&&n(e.prototype,t),o&&n(e,o),e}}(),c=i(o(1)),r=o(361),u=i(o(1568));function i(e){return e&&e.__esModule?e:{default:e}}var a=function(e){function o(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,e));return t.ref=null,t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(o,c.default.Component),n(o,[{key:"render",value:function(){var t=this,e=this.props,o=e.children,n=e.headerRows,r=e.onRow,i=function(e,t){var o={};for(var n in e)0<=t.indexOf(n)||Object.prototype.hasOwnProperty.call(e,n)&&(o[n]=e[n]);return o}(e,["children","headerRows","onRow"]),a=this.context,s=a.renderers,l=a.columns;return i.ref=function(e){t.ref=e},c.default.createElement(s.header.wrapper,i,[(n||[l]).map(function(e,t){return c.default.createElement(u.default,{key:t+"-header-row",renderers:s.header,onRow:r,rowData:e,rowIndex:t})})].concat(o))}},{key:"getRef",value:function(){return this.ref}}]),o}();a.contextTypes=r.tableHeaderContextTypes,t.default=a},1568:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e},y=r(o(1)),_=r(o(698)),v=r(o(699)),b=r(o(520)),n=o(361);function r(e){return e&&e.__esModule?e:{default:e}}var i=function(e){var t=e.rowData,o=e.rowIndex,f=e.renderers,n=e.onRow;return y.default.createElement(f.row,n(t,{rowIndex:o}),t.map(function(e,t){var o=e.property,n=e.header,r=void 0===n?{}:n,i=e.props,a=void 0===i?{}:i,s=o||r&&r.property,l=r.label,c=r.transforms,u=void 0===c?[]:c,d=r.formatters,p=void 0===d?[]:d,h={columnIndex:t,property:s,column:e},g=(0,v.default)(u,l,h);return g||console.warn("Table.Header - Failed to receive a transformed result"),y.default.createElement(f.cell,m({key:t+"-header"},(0,b.default)(a,r&&r.props,g)),g.children||(0,_.default)(p)(l,h))}))};i.defaultProps=n.tableHeaderRowDefaults,t.default=i},1569:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=s(o(393)),i=s(o(1245)),n=function(){function n(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,o){return t&&n(e.prototype,t),o&&n(e,o),e}}(),c=s(o(1)),a=o(361),u=s(o(907)),d=s(o(909));function s(e){return e&&e.__esModule?e:{default:e}}function p(e,t){var o={};for(var n in e)0<=t.indexOf(n)||Object.prototype.hasOwnProperty.call(e,n)&&(o[n]=e[n]);return o}var l=function(e){function o(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,e));return t.ref=null,t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(o,c.default.Component),n(o,[{key:"shouldComponentUpdate",value:function(e,t,o){var n=o.renderers;return n&&n.body&&n.body.wrapper.shouldComponentUpdate?!(0,r.default)(n.body.wrapper.shouldComponentUpdate)||n.body.wrapper.shouldComponentUpdate.call(this,e,t,o):!((0,i.default)(h(this.props),h(e))&&(0,i.default)(this.context,o))}},{key:"render",value:function(){var t=this,e=this.props,r=e.onRow,o=e.rows,i=e.rowKey,n=p(e,["onRow","rows","rowKey"]),a=this.context,s=a.columns,l=a.renderers;return n.ref=function(e){t.ref=e},c.default.createElement(l.body.wrapper,n,o.map(function(e,t){var o=e._index||t,n=(0,d.default)({rowData:e,rowIndex:o,rowKey:i});return c.default.createElement(u.default,{key:n,renderers:l.body,onRow:r,rowKey:n,rowIndex:o,rowData:e,columns:s})}))}},{key:"getRef",value:function(){return this.ref}}]),o}();function h(e){e.onRow;return p(e,["onRow"])}l.defaultProps=a.tableBodyDefaults,l.contextTypes=a.tableBodyContextTypes,t.default=l},157:function(e,t,o){"use strict";function c(e){if("string"==typeof e)return function(t){return function(e){return Boolean(e&&e.type===t)}}(e);if(null==e)return n;if("object"==typeof e)return("length"in e?function(e){var t=function(e){var t=[],o=e.length,n=-1;for(;++n<o;)t[n]=c(e[n]);return t}(e),o=t.length;return function(){var e=-1;for(;++e<o;)if(t[e].apply(this,arguments))return!0;return!1}}:function(o){return function(e){var t;for(t in o)if(e[t]!==o[t])return!1;return!0}})(e);if("function"==typeof e)return e;throw new Error("Expected function, string, or object as test")}function n(){return!0}e.exports=function e(t,o,n,r,i){var a=null!=r;var s=null!=n;var l=c(t);if(s&&("number"!=typeof n||n<0||n===1/0))throw new Error("Expected positive finite index or child node");if(a&&(!e(null,r)||!r.children))throw new Error("Expected parent node");if(!o||!o.type||"string"!=typeof o.type)return!1;if(a!=s)throw new Error("Expected both parent and index");return Boolean(l.call(i,o,n,r))}},1577:function(e,t){var o=e.exports=function(){this.observerList_=[]};o.prototype.register=function(e){var t={toCall:e};return Object.freeze(t),this.observerList_.push(t),t},o.prototype.unregister=function(e){for(var t=0;t<this.observerList_.length;t++)if(e===this.observerList_[t])return this.observerList_.splice(t,1),!0;return!1},o.prototype.notifyObservers=function(){var t=Array.prototype.slice.call(arguments,0);this.observerList_.forEach(function(e){e.toCall.apply(void 0,t)})}},1578:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.UnlocalizedTimeAgo=void 0;var n=s(o(0)),i=s(o(1)),r=o(9),a=s(o(29));function s(e){return e&&e.__esModule?e:{default:e}}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var u=function(r){function e(){for(var t,e=arguments.length,o=new Array(e),n=0;n<e;n++)o[n]=arguments[n];return c(l(t=r.call.apply(r,[this].concat(o))||this),"state",{timeout:void 0}),c(l(t),"startTimer",function(){var e=setTimeout(t.startTimer,1e4);t.setState({timeout:e})}),c(l(t),"clearTimer",function(){clearTimeout(t.state.timeout),t.setState({timeout:void 0})}),t}!function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(e,r);var t=e.prototype;return t.componentDidMount=function(){this.startTimer()},t.componentWillUnmount=function(){this.clearTimer()},t.render=function(){return this.props.locale&&a.default.locale(this.props.locale),i.default.createElement("time",{style:this.props.style||{},dateTime:this.props.dateString},(0,a.default)(this.props.dateString).fromNow())},e}(i.default.Component);c(u,"propTypes",{dateString:n.default.oneOfType([n.default.string,n.default.instanceOf(Date)]).isRequired,locale:n.default.string,style:n.default.object});var d=u;t.UnlocalizedTimeAgo=d;var p=(0,r.connect)(function(e){return{locale:e.pageConstants&&e.pageConstants.locale}})(u);t.default=p},158:function(e,t,o){"use strict";var n=t;function r(o){return e.displayName=o,e;function e(e){var t=e&&e.position&&e.position[o]||{};return{line:t.line||null,column:t.column||null,offset:isNaN(t.offset)?null:t.offset}}}n.start=r("start"),n.end=r("end")},1580:function(e,t,o){"use strict";var l=n(o(10)),c=n(o(15)),u=o(37),d=o(61);function n(e){return e&&e.__esModule?e:{default:e}}function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var h,g=o(347),r={},i=e.exports;function f(e,t,o){var n=!1;(n="array"===o?n||Array.isArray(t):n||p(t)===o)||console.error("Expected ".concat(e," to be of type '").concat(o,"'. Got '").concat(p(t),"'"))}function m(e){var t=function(e){if("string"==typeof e)try{return JSON.parse(e)}catch(e){}return e}(e.fallbackResponse);return t?e.pass?t.success:t.failure:null}function y(e,t){h=null,t&&(r.report_error=e.error,r.nextRedirect=t.redirect,r.videoInfo=t.video_info,r.endOfStageExperience=t.end_of_stage_experience,r.previousStageInfo=t.stage_changing&&t.stage_changing.previous),e.onComplete&&e.onComplete(t)}i.getLastServerResponse=function(){return r},i.sendReport=function(n){!function(e){for(var t in e)if(e.hasOwnProperty(t)){var o=!0===e.allowMultipleSends,n=e.testResult===u.TestResults.CONTAINED_LEVEL_RESULT,r=e[t];switch(t){case"program":"match"===e.app?f("program",r,"array"):"multi"===e.app&&n?f("program",r,"number"):"multi"!==e.app||o?f("program",r,"string"):f("program",r,"array");break;case"fallbackResponse":break;case"callback":f("callback",r,"string");break;case"app":f("app",r,"string");break;case"allowMultipleSends":f("allowMultipleSends",r,"boolean");break;case"level":null!==r&&("level_group"===e.app||n?f("level",r,"number"):f("level",r,"string"));break;case"result":f("result",r,o?"object":"boolean");break;case"pass":f("pass",r,o?"object":"boolean");break;case"testResult":f("testResult",r,"number");break;case"submitted":"applab"===e.app||"gamelab"===e.app||"spritelab"===e.app||"weblab"===e.app?f("submitted",r,"boolean"):"true"!==r&&!1!==r&&console.error('Expected submitted to be either string "true" or value false');break;case"onComplete":void 0!==r&&f("onComplete",r,"function");break;case"time":f("time",r,"number");break;case"lines":f("lines",r,"number");break;case"save_to_gallery":f("save_to_gallery",r,"boolean");break;case"attempt":f("attempt",r,"number");break;case"image":null!==r&&f("image",r,"string");break;case"containedLevelResultsInfo":f("containedLevelResultsInfo",r,"object");break;case"feedback":r&&f("feedback",r,"string");break;default:console.error("Unexpected report key '".concat(t,"' of type '").concat(p(e[t]),"'"))}}}(n);var e=[],t=c.default.pick(n,["program","app","allowMultipleSends","level","result","testResult","submitted","time","lines","save_to_gallery","attempt","image"]);for(var o in t)e.push(o+"="+n[o]);var r=e.join("&");g.trackProgress(n.result,n.lines,n.testResult,appOptions.scriptName,n.serverLevelId||appOptions.serverLevelId);var i,a=appOptions.postMilestoneMode||d.PostMilestoneMode.all;switch(a){case d.PostMilestoneMode.all:i=!0;break;case d.PostMilestoneMode.successful_runs_and_final_level_only:i=n.pass||appOptions.level.final_level;break;case d.PostMilestoneMode.final_level_only:i=appOptions.level.final_level;break;default:console.error("Unexpected postMilestoneMode "+a),i=!0}if(i){var s=l.default.ajax({type:"POST",url:n.callback,contentType:"application/x-www-form-urlencoded",timeout:15e3,data:r,dataType:"json",jsonp:!1,beforeSend:function(e){e.setRequestHeader("X-CSRF-Token",(0,l.default)('meta[name="csrf-token"]').attr("content"))},success:function(e){if(n.allowMultipleSends||s===h){if(appOptions.hasContainedLevels&&!e.redirect){n.pass=!0;var t=m(n)||{};e.redirect=t.redirect}appOptions.isBonusLevel&&(e.redirect=appOptions.nextLevelUrl),y(n,e)}},error:function(e,t,o){(n.allowMultipleSends||s===h)&&(n.error=e.responseText,y(n,m(n)))}});h=s}else setTimeout(function(){y(n,m(n))},1e3)},i.cancelReport=function(){h&&h.abort(),h=null}},1587:function(e,t,o){"use strict";e.exports=function(){}},1588:function(e,t,o){"use strict";var P=o(1874),L=o(1875);function O(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}t.parse=i,t.resolve=function(e,t){return i(e,!1,!0).resolve(t)},t.resolveObject=function(e,t){return e?i(e,!1,!0).resolveObject(t):t},t.format=function(e){L.isString(e)&&(e=i(e));return e instanceof O?e.format():O.prototype.format.call(e)},t.Url=O;var x=/^([a-z0-9.+-]+:)/i,n=/:[0-9]*$/,D=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,r=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),M=["'"].concat(r),U=["%","/","?",";","#"].concat(M),F=["/","?","#"],H=/^[+a-z0-9A-Z_-]{0,63}$/,j=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,G={javascript:!0,"javascript:":!0},V={javascript:!0,"javascript:":!0},W={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},z=o(1645);function i(e,t,o){if(e&&L.isObject(e)&&e instanceof O)return e;var n=new O;return n.parse(e,t,o),n}O.prototype.parse=function(e,t,o){if(!L.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var n=e.indexOf("?"),r=-1!==n&&n<e.indexOf("#")?"?":"#",i=e.split(r);i[0]=i[0].replace(/\\/g,"/");var a=e=i.join(r);if(a=a.trim(),!o&&1===e.split("#").length){var s=D.exec(a);if(s)return this.path=a,this.href=a,this.pathname=s[1],s[2]?(this.search=s[2],this.query=t?z.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var l=x.exec(a);if(l){var c=(l=l[0]).toLowerCase();this.protocol=c,a=a.substr(l.length)}if(o||l||a.match(/^\/\/[^@\/]+@[^@\/]+/)){var u="//"===a.substr(0,2);!u||l&&V[l]||(a=a.substr(2),this.slashes=!0)}if(!V[l]&&(u||l&&!W[l])){for(var d,p,h=-1,g=0;g<F.length;g++){-1!==(f=a.indexOf(F[g]))&&(-1===h||f<h)&&(h=f)}-1!==(p=-1===h?a.lastIndexOf("@"):a.lastIndexOf("@",h))&&(d=a.slice(0,p),a=a.slice(p+1),this.auth=decodeURIComponent(d)),h=-1;for(g=0;g<U.length;g++){var f;-1!==(f=a.indexOf(U[g]))&&(-1===h||f<h)&&(h=f)}-1===h&&(h=a.length),this.host=a.slice(0,h),a=a.slice(h),this.parseHost(),this.hostname=this.hostname||"";var m="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!m)for(var y=this.hostname.split(/\./),_=(g=0,y.length);g<_;g++){var v=y[g];if(v&&!v.match(H)){for(var b="",E=0,T=v.length;E<T;E++)127<v.charCodeAt(E)?b+="x":b+=v[E];if(!b.match(H)){var S=y.slice(0,g),k=y.slice(g+1),C=v.match(j);C&&(S.push(C[1]),k.unshift(C[2])),k.length&&(a="/"+k.join(".")+a),this.hostname=S.join(".");break}}}255<this.hostname.length?this.hostname="":this.hostname=this.hostname.toLowerCase(),m||(this.hostname=P.toASCII(this.hostname));var A=this.port?":"+this.port:"",O=this.hostname||"";this.host=O+A,this.href+=this.host,m&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==a[0]&&(a="/"+a))}if(!G[c])for(g=0,_=M.length;g<_;g++){var w=M[g];if(-1!==a.indexOf(w)){var B=encodeURIComponent(w);B===w&&(B=escape(w)),a=a.split(w).join(B)}}var I=a.indexOf("#");-1!==I&&(this.hash=a.substr(I),a=a.slice(0,I));var R=a.indexOf("?");if(-1!==R?(this.search=a.substr(R),this.query=a.substr(R+1),t&&(this.query=z.parse(this.query)),a=a.slice(0,R)):t&&(this.search="",this.query={}),a&&(this.pathname=a),W[c]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){A=this.pathname||"";var N=this.search||"";this.path=A+N}return this.href=this.format(),this},O.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",o=this.pathname||"",n=this.hash||"",r=!1,i="";this.host?r=e+this.host:this.hostname&&(r=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(r+=":"+this.port)),this.query&&L.isObject(this.query)&&Object.keys(this.query).length&&(i=z.stringify(this.query));var a=this.search||i&&"?"+i||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||W[t])&&!1!==r?(r="//"+(r||""),o&&"/"!==o.charAt(0)&&(o="/"+o)):r||(r=""),n&&"#"!==n.charAt(0)&&(n="#"+n),a&&"?"!==a.charAt(0)&&(a="?"+a),t+r+(o=o.replace(/[?#]/g,function(e){return encodeURIComponent(e)}))+(a=a.replace("#","%23"))+n},O.prototype.resolve=function(e){return this.resolveObject(i(e,!1,!0)).format()},O.prototype.resolveObject=function(e){if(L.isString(e)){var t=new O;t.parse(e,!1,!0),e=t}for(var o=new O,n=Object.keys(this),r=0;r<n.length;r++){var i=n[r];o[i]=this[i]}if(o.hash=e.hash,""===e.href)return o.href=o.format(),o;if(e.slashes&&!e.protocol){for(var a=Object.keys(e),s=0;s<a.length;s++){var l=a[s];"protocol"!==l&&(o[l]=e[l])}return W[o.protocol]&&o.hostname&&!o.pathname&&(o.path=o.pathname="/"),o.href=o.format(),o}if(e.protocol&&e.protocol!==o.protocol){if(!W[e.protocol]){for(var c=Object.keys(e),u=0;u<c.length;u++){var d=c[u];o[d]=e[d]}return o.href=o.format(),o}if(o.protocol=e.protocol,e.host||V[e.protocol])o.pathname=e.pathname;else{for(var p=(e.pathname||"").split("/");p.length&&!(e.host=p.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==p[0]&&p.unshift(""),p.length<2&&p.unshift(""),o.pathname=p.join("/")}if(o.search=e.search,o.query=e.query,o.host=e.host||"",o.auth=e.auth,o.hostname=e.hostname||e.host,o.port=e.port,o.pathname||o.search){var h=o.pathname||"",g=o.search||"";o.path=h+g}return o.slashes=o.slashes||e.slashes,o.href=o.format(),o}var f=o.pathname&&"/"===o.pathname.charAt(0),m=e.host||e.pathname&&"/"===e.pathname.charAt(0),y=m||f||o.host&&e.pathname,_=y,v=o.pathname&&o.pathname.split("/")||[],b=(p=e.pathname&&e.pathname.split("/")||[],o.protocol&&!W[o.protocol]);if(b&&(o.hostname="",o.port=null,o.host&&(""===v[0]?v[0]=o.host:v.unshift(o.host)),o.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===p[0]?p[0]=e.host:p.unshift(e.host)),e.host=null),y=y&&(""===p[0]||""===v[0])),m)o.host=e.host||""===e.host?e.host:o.host,o.hostname=e.hostname||""===e.hostname?e.hostname:o.hostname,o.search=e.search,o.query=e.query,v=p;else if(p.length)v||(v=[]),v.pop(),v=v.concat(p),o.search=e.search,o.query=e.query;else if(!L.isNullOrUndefined(e.search)){if(b)o.hostname=o.host=v.shift(),(C=!!(o.host&&0<o.host.indexOf("@"))&&o.host.split("@"))&&(o.auth=C.shift(),o.host=o.hostname=C.shift());return o.search=e.search,o.query=e.query,L.isNull(o.pathname)&&L.isNull(o.search)||(o.path=(o.pathname?o.pathname:"")+(o.search?o.search:"")),o.href=o.format(),o}if(!v.length)return o.pathname=null,o.search?o.path="/"+o.search:o.path=null,o.href=o.format(),o;for(var E=v.slice(-1)[0],T=(o.host||e.host||1<v.length)&&("."===E||".."===E)||""===E,S=0,k=v.length;0<=k;k--)"."===(E=v[k])?v.splice(k,1):".."===E?(v.splice(k,1),S++):S&&(v.splice(k,1),S--);if(!y&&!_)for(;S--;S)v.unshift("..");!y||""===v[0]||v[0]&&"/"===v[0].charAt(0)||v.unshift(""),T&&"/"!==v.join("/").substr(-1)&&v.push("");var C,A=""===v[0]||v[0]&&"/"===v[0].charAt(0);b&&(o.hostname=o.host=A?"":v.length?v.shift():"",(C=!!(o.host&&0<o.host.indexOf("@"))&&o.host.split("@"))&&(o.auth=C.shift(),o.host=o.hostname=C.shift()));return(y=y||o.host&&v.length)&&!A&&v.unshift(""),v.length?o.pathname=v.join("/"):(o.pathname=null,o.path=null),L.isNull(o.pathname)&&L.isNull(o.search)||(o.path=(o.pathname?o.pathname:"")+(o.search?o.search:"")),o.auth=e.auth||o.auth,o.slashes=o.slashes||e.slashes,o.href=o.format(),o},O.prototype.parseHost=function(){var e=this.host,t=n.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},1589:function(e,t,o){"use strict";function n(e,t){this.config=e,this.audioContext=t,this.audioElement=null,this.reusableBuffer=null,this.playableBuffer=null,this.isPlaying_=!1,this.isLoaded_=!1,this.didLoadFail_=!1}Object.defineProperty(t,"__esModule",{value:!0}),(t.default=n).prototype.play=function(e){if(e=e||{},this.audioElement||this.reusableBuffer){if(this.reusableBuffer)return this.playableBuffer=this.newPlayableBufferSource(this.reusableBuffer,e),this.playableBuffer.onended=function(){this.isPlaying_=!1,e.onEnded&&e.onEnded()}.bind(this),this.playableBuffer.start?this.playableBuffer.start(0):this.playableBuffer.noteOn(0),void this.handlePlayStarted(e);if(!this.config.allowHTML5Mobile&&"ontouchstart"in document.documentElement)this.handlePlayFailed(e);else{var t=void 0===e.volume?1:Math.max(0,Math.min(1,e.volume));this.audioElement.volume=t,this.audioElement.loop=!!e.loop;var o=function(){this.audioElement.removeEventListener("abort",o),this.audioElement.removeEventListener("ended",o),this.audioElement.removeEventListener("pause",o),this.isPlaying_=!1,e.onEnded&&e.onEnded()}.bind(this);this.audioElement.addEventListener("abort",o),this.audioElement.addEventListener("ended",o),this.audioElement.addEventListener("pause",o),this.audioElement.play(),this.handlePlayStarted(e)}}else this.handlePlayFailed(e)},n.prototype.playAfterLoad=function(e){this.isLoaded()||this.config.playAfterLoad?this.handlePlayFailed(e):(this.config.playAfterLoad=!0,this.config.playAfterLoadOptions=e)},n.prototype.handlePlayFailed=function(e){e.callback&&e.callback(!1)},n.prototype.handleLoadFailed=function(e){this.didLoadFail_=!0;var t=this.config,o=t.onPreloadError,n=t.playAfterLoadOptions;o&&o(e);var r=n&&n.callback;r&&r(!1)},n.prototype.handlePlayStarted=function(e){this.isPlaying_=!0,e.callback&&e.callback(!0)},n.prototype.stop=function(){try{this.playableBuffer?this.playableBuffer.stop?this.playableBuffer.stop(0):this.playableBuffer.noteOff&&this.playableBuffer.noteOff(0):this.audioElement&&(this.audioElement.pause(),this.audioElement.currentTime=0)}catch(e){if("InvalidStateError"!==e.name)throw e}this.isPlaying_=!1},n.prototype.isPlaying=function(){return this.isPlaying_},n.prototype.isLoaded=function(){return this.isLoaded_},n.prototype.didLoadFail=function(){return this.didLoadFail_},n.prototype.newPlayableBufferSource=function(e,t){var o=this.audioContext.createBufferSource();if(this.audioContext.createGain)this.gainNode=this.audioContext.createGain();else{if(!this.audioContext.createGainNode)return null;this.gainNode=this.audioContext.createGainNode()}o.buffer=e,o.loop=!!t.loop,o.connect(this.gainNode),this.gainNode.connect(this.audioContext.destination);var n=void 0===t.volume?1:t.volume;return this.gainNode.gain.value=n,o},n.prototype.fadeToGain=function(e,t){this.gainNode?this.fadeToGainWebAudio_(e,t):this.audioElement&&this.fadeToGainHtml5Audio_(e,t)},n.prototype.fadeToGainWebAudio_=function(e,t){if(this.gainNode){0===e&&(e=.01);var o=this.audioContext.currentTime;this.gainNode.gain.setValueAtTime(this.gainNode.gain.value,o),this.gainNode.gain.exponentialRampToValueAtTime(e,o+t)}},n.prototype.fadeToGainHtml5Audio_=function(e,t){if(this.audioElement)var o=this.audioElement.volume||1,n=Math.max(0,Math.min(1,e)),r=n-o,i=1e3*t,a=(new Date).getTime(),s=setInterval(function(){var e=(new Date).getTime()-a;if(i<=e)return this.audioElement.volume=n,void clearInterval(s);var t=r*Math.pow(e/i,2)+o;this.audioElement.volume=Math.max(0,Math.min(1,t))}.bind(this),100)},n.prototype.getPlayableFile=function(){try{if(!window.Audio)return!1;var e=new window.Audio;if(this.config.hasOwnProperty("mp3")&&e.canPlayType("audio/mp3"))return this.config.mp3;if(this.config.hasOwnProperty("ogg")&&e.canPlayType("audio/ogg"))return this.config.ogg;if(this.config.hasOwnProperty("wav")&&e.canPlayType("audio/wav"))return this.config.wav}catch(e){}return!1},n.prototype.preload=function(){var e=this,t=this.getPlayableFile();if(t)if(!this.config.forceHTML5&&window.AudioContext&&this.audioContext){var o=this;this.preloadViaWebAudio(t,function(e){o.reusableBuffer=e})}else if(window.Audio){var n=new window.Audio(t);if(!n||!n.play)return;(function(){var e=-1;return/MSIE\s([\d.]+)/.test(navigator.userAgent)&&(e=parseInt(RegExp.$1)),9===e})()||(n.play(),n.pause()),this.audioElement=n;var r="canplaythrough",i=function(){this.onSoundLoaded(),n.removeEventListener(r,i)}.bind(this);n.addEventListener(r,i),n.addEventListener("error",function(){e.handleLoadFailed()})}},n.prototype.onSoundLoaded=function(){this.isLoaded_=!0,this.config.playAfterLoad&&this.play(this.config.playAfterLoadOptions),this.onLoad&&this.onLoad()},n.prototype.preloadViaWebAudio=function(e,t){var o=new XMLHttpRequest;o.open("GET",e,!0),o.responseType="arraybuffer";var n=this;o.onload=function(){200===o.status?n.audioContext.decodeAudioData(o.response,function(e){t(e),n.onSoundLoaded()}):n.handleLoadFailed(o.status)},o.onerror=function(){n.handleLoadFailed(o.status)},o.send()},e.exports=t.default},159:function(e,t,o){"use strict";var n=[65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111];t.REPLACEMENT_CHARACTER="�",t.CODE_POINTS={EOF:-1,NULL:0,TABULATION:9,CARRIAGE_RETURN:13,LINE_FEED:10,FORM_FEED:12,SPACE:32,EXCLAMATION_MARK:33,QUOTATION_MARK:34,NUMBER_SIGN:35,AMPERSAND:38,APOSTROPHE:39,HYPHEN_MINUS:45,SOLIDUS:47,DIGIT_0:48,DIGIT_9:57,SEMICOLON:59,LESS_THAN_SIGN:60,EQUALS_SIGN:61,GREATER_THAN_SIGN:62,QUESTION_MARK:63,LATIN_CAPITAL_A:65,LATIN_CAPITAL_F:70,LATIN_CAPITAL_X:88,LATIN_CAPITAL_Z:90,RIGHT_SQUARE_BRACKET:93,GRAVE_ACCENT:96,LATIN_SMALL_A:97,LATIN_SMALL_F:102,LATIN_SMALL_X:120,LATIN_SMALL_Z:122,REPLACEMENT_CHARACTER:65533},t.CODE_POINT_SEQUENCES={DASH_DASH_STRING:[45,45],DOCTYPE_STRING:[68,79,67,84,89,80,69],CDATA_START_STRING:[91,67,68,65,84,65,91],SCRIPT_STRING:[115,99,114,105,112,116],PUBLIC_STRING:[80,85,66,76,73,67],SYSTEM_STRING:[83,89,83,84,69,77]},t.isSurrogate=function(e){return 55296<=e&&e<=57343},t.isSurrogatePair=function(e){return 56320<=e&&e<=57343},t.getSurrogatePairCodePoint=function(e,t){return 1024*(e-55296)+9216+t},t.isControlCodePoint=function(e){return 32!==e&&10!==e&&13!==e&&9!==e&&12!==e&&1<=e&&e<=31||127<=e&&e<=159},t.isUndefinedCodePoint=function(e){return 64976<=e&&e<=65007||-1<n.indexOf(e)}},1591:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,r=o(744),s=(n=r)&&n.__esModule?n:{default:n};t.default=function(e){var t=e.sortingColumns,o=e.sortingOrder,n=void 0===o?s.default:o,r=e.selectedColumn,i=void 0===r?-1:r,a=n.FIRST;return i<0?t:t&&{}.hasOwnProperty.call(t,i)&&!(a=n[t[i].direction])?{}:function(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}({},i,{direction:a,position:0})}},1592:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var c=n(o(1570)),u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e},d=n(o(744));function n(e){return e&&e.__esModule?e:{default:e}}function p(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}t.default=function(e){var t=e.sortingColumns,o=e.sortingOrder,n=void 0===o?d.default:o,r=e.selectedColumn,i=void 0===r?-1:r,a={};if(i<0)return t;if(!t)return p({},i,{direction:n.FIRST,position:0});if({}.hasOwnProperty.call(t,i)){var s=n[(a=(0,c.default)(t))[i].direction];if(s)a[i]={direction:s,position:a[i].position};else{var l=a[i].position;delete a[i],Object.keys(a).forEach(function(e){var t=a[e];t.position>l&&(t.position-=1)})}return a}return u({},t,p({},i,{direction:n.FIRST,position:Object.keys(t).length}))}},1593:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var c=n(o(1570)),u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e},d=n(o(744));function n(e){return e&&e.__esModule?e:{default:e}}function p(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}t.default=function(e){var t=e.sortingColumns,o=e.sortingOrder,n=void 0===o?d.default:o,r=e.selectedColumn,i=void 0===r?-1:r,a={};if(i<0)return t;if(!t)return p({},i,{direction:n.FIRST,position:0});if({}.hasOwnProperty.call(t,i)){var s=n[(a=(0,c.default)(t))[i].direction],l=a[i].position;return s?(Object.keys(a).forEach(function(e){var t=a[e];t.position<l&&(t.position+=1)}),a[i]={direction:s,position:0}):(delete a[i],Object.keys(a).forEach(function(e){var t=a[e];t.position>l&&(t.position-=1)})),a}return a=(0,c.default)(t),Object.keys(a).forEach(function(e){a[e].position+=1}),u({},a,p({},i,{direction:n.FIRST,position:0}))}},1594:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e},l=n(o(1)),c=n(o(394)),u=n(o(1152));function n(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){var o=e.sortable,n=e.getSortingColumns,t=e.props,r=void 0===t?{container:{},value:{},order:{}}:t,i=e.strategy,a=void 0===i?c.default:i;if(!n)throw new Error("header - Missing getSortingColumns!");return function(e,t){return l.default.createElement("div",s({className:"sort-container"},r.container),l.default.createElement("span",s({className:"sort-value"},r.value),e),(0,u.default)({getSortingColumns:n,props:r.order,strategy:a})(e,t),o?l.default.createElement("span",o(e,t)):null)}}},1595:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=r(o(2417)),c=r(o(2335)),n=r(o(394));function r(e){return e&&e.__esModule?e:{default:e}}t.default=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},i=e.columns,a=e.sortingColumns,t=e.sort,o=e.strategy,s=void 0===o?n.default:o;return function(e){if(!i)throw new Error('sort.sorter - Missing "columns" argument!');if(!t)throw new Error('sort.sorter - Missing "sort" argument!');if(!a)return e;var o=new Array(a.length),n=new Array(a.length);return Object.keys(a).forEach(function(e){var r=s.getColumn(i,e)||{},t=a[e];o[t.position]=function(e){var t=r.property,o=e[t],n=(0,c.default)(e,"_"+t,o);return(0,l.default)(n,"toLowerCase",n)},n[t.position]=t.direction}),t(e,o,n)}}},1596:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e},r=o(394),u=(n=r)&&n.__esModule?n:{default:n};t.default=function(e){var t=e.event,o=void 0===t?"onDoubleClick":t,n=e.getSortingColumns,i=void 0===n?function(){return[]}:n,r=e.onReset,a=void 0===r?function(){}:r,s=e.strategy,l=void 0===s?u.default:s;return function(e,t){return function(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}({},o,function(){var o=i();if(o&&Object.keys(o).length){var e=t[l.fieldName];if(o[e]){var n=o[e].position,r={};delete o[e],Object.keys(o).forEach(function(e){var t=o[e];t.position>n?r[e]=c({},t,{position:t.position-1}):r[e]=t}),a({sortingColumns:r})}}})}}},1597:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e},h=n(o(2)),i=n(o(394));function n(e){return e&&e.__esModule?e:{default:e}}t.default=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.event,l=void 0===t?"onClick":t,o=e.getSortingColumns,c=void 0===o?function(){return[]}:o,n=e.onSort,u=void 0===n?function(){}:n,r=e.strategy,d=void 0===r?i.default:r;return function(e,t){var o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},n=o.className,r=function(e,t){var o={};for(var n in e)0<=t.indexOf(n)||Object.prototype.hasOwnProperty.call(e,n)&&(o[n]=e[n]);return o}(o,["className"]),i=c(),a=t[d.fieldName],s="sort sort-none";return void 0!==i[a]&&(s="sort sort-"+i[a].direction),p({},r,function(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}({className:(0,h.default)(n,s)},l,function(){return u(a)}))}}},1598:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=u(o(10)),i=u(o(209)),a=u(o(15)),r=u(o(0)),s=u(o(1)),l=u(o(656)),c=u(o(93));function u(e){return e&&e.__esModule?e:{default:e}}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var h="MINIMIZING",g="MINIMIZED",f="EXPANDED",m="COPYRIGHT",y=function(r){function e(){for(var t,e=arguments.length,o=new Array(e),n=0;n<e;n++)o[n]=arguments[n];return p(d(t=r.call.apply(r,[this].concat(o))||this),"state",{menuState:g,baseWidth:0,baseHeight:0}),p(d(t),"captureBaseElementDimensions",function(){var e=t.refs.base;t.setState({baseWidth:e.offsetWidth,baseHeight:e.offsetHeight})}),p(d(t),"clickBase",function(){t.props.copyrightInBase||t.clickBaseMenu()}),p(d(t),"clickBasePrivacyPolicy",function(){t.props.privacyPolicyInBase||t.clickBaseMenu()}),p(d(t),"clickBaseCopyright",function(e){e.preventDefault(),t.state.menuState!==h&&(t.state.menuState!==m?(t.setState({menuState:m}),t.minimizeOnClickAnywhere()):t.setState({menuState:g}))}),p(d(t),"clickMenuCopyright",function(e){t.setState({menuState:m}),t.minimizeOnClickAnywhere()}),p(d(t),"clickBaseMenu",function(){t.state.menuState!==h&&(t.state.menuState!==f?(t.setState({menuState:f}),t.minimizeOnClickAnywhere()):t.setState({menuState:g}))}),t}!function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(e,r);var t=e.prototype;return t.componentDidMount=function(){this.captureBaseElementDimensions(),window.addEventListener("resize",(0,l.default)(this.captureBaseElementDimensions,100))},t.minimizeOnClickAnywhere=function(e){(0,n.default)(document.body).one("click",function(e){e.target!==this.refs.menuCopyright&&(this.setState({menuState:h,moreOffset:0}),setTimeout(function(){this.setState({menuState:g})}.bind(this),200))}.bind(this))},t.render=function(){var e={smallFooter:{fontSize:this.props.fontSize},base:{paddingBottom:3,paddingTop:3,height:this.props.rowHeight?this.props.rowHeight-6:void 0},baseFullWidth:{width:"100%",boxSizing:"border-box"},privacy:{color:"#0094ca"},copyright:{display:this.state.menuState===m?"block":"none",position:"absolute",bottom:0,left:0,width:650,maxWidth:"50%",minWidth:this.state.baseWidth},copyrightScrollArea:{overflowY:"auto",maxHeight:this.props.phoneFooter?210:void 0,padding:"0.8em",borderBottom:"solid thin #e7e8ea",marginBottom:this.state.baseHeight},moreMenu:{display:this.state.menuState===f?"block":"none",bottom:this.state.baseHeight,width:this.state.baseWidth},listItem:{height:this.props.rowHeight,lineHeight:this.props.rowHeight?this.props.rowHeight-6-1+"px":void 0}},t=this.state.menuState===f?"fa fa-caret-down":"fa fa-caret-up",o=function(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{},n=Object.keys(Object(o));"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(o).filter(function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable}))),n.forEach(function(e){p(t,e,o[e])})}return t}({},e.base,this.props.baseStyle,this.props.fullWidth&&e.baseFullWidth);return s.default.createElement("div",{className:this.props.className,style:e.smallFooter},s.default.createElement("div",{className:"small-footer-base",ref:"base",style:o,onClick:this.clickBase},s.default.createElement("div",{dangerouslySetInnerHTML:{__html:decodeURIComponent(this.props.i18nDropdown)}}),s.default.createElement("small",null,this.renderPrivacy(e),this.renderCopyright(),s.default.createElement("a",{className:"more-link",href:"javascript:void(0)",onClick:this.clickBaseMenu},this.props.baseMoreMenuString+" ",s.default.createElement("i",{className:t})))),s.default.createElement("div",{id:"copyright-flyout",style:e.copyright},s.default.createElement("div",{id:"copyright-scroll-area",style:e.copyrightScrollArea},s.default.createElement(c.default,{markdown:decodeURIComponent(this.props.copyrightStrings.thank_you)}),s.default.createElement("p",null,this.props.copyrightStrings.help_from_html),s.default.createElement(c.default,{markdown:decodeURIComponent(this.props.copyrightStrings.art_from_html)}),s.default.createElement(c.default,{markdown:decodeURIComponent(this.props.copyrightStrings.code_from_html)}),s.default.createElement("p",null,this.props.copyrightStrings.powered_by_aws),s.default.createElement(c.default,{markdown:decodeURIComponent(this.props.copyrightStrings.trademark)}))),this.renderMoreMenu(e))},t.renderPrivacy=function(e){if(this.props.privacyPolicyInBase)return s.default.createElement("span",null,s.default.createElement("a",{className:"privacy-link",href:"https://code.org/privacy",target:"_blank",style:e.privacy,onClick:this.clickBasePrivacyPolicy},this.props.basePrivacyPolicyString),"  |  ")},t.renderCopyright=function(){if(this.props.copyrightInBase)return s.default.createElement("span",null,s.default.createElement("a",{className:"copyright-link",href:"#",onClick:this.clickBaseCopyright},this.props.baseCopyrightString),"  |  ")},t.renderMoreMenu=function(o){i.default.get("reported_abuse")&&a.default.includes(JSON.parse(i.default.get("reported_abuse")),this.props.channel)&&a.default.remove(this.props.menuItems,function(e){return"report-abuse"===e.key});var e=this.props.menuItems.map(function(e,t){return s.default.createElement("li",{key:t,style:o.listItem,className:"ui-test-".concat(e.key)},s.default.createElement("a",{href:e.link,ref:e.copyright?"menuCopyright":void 0,target:e.newWindow?"_blank":"_parent",onClick:e.copyright?this.clickMenuCopyright:void 0},e.text))}.bind(this));return s.default.createElement("ul",{id:"more-menu",style:o.moreMenu},e)},e}(s.default.Component);p(t.default=y,"propTypes",{i18nDropdown:r.default.string,privacyPolicyInBase:r.default.bool.isRequired,copyrightInBase:r.default.bool.isRequired,copyrightStrings:r.default.shape({thank_you:r.default.string.isRequired,help_from_html:r.default.string.isRequired,art_from_html:r.default.string.isRequired,code_from_html:r.default.string.isRequired,powered_by_aws:r.default.string.isRequired,trademark:r.default.string.isRequired}),basePrivacyPolicyString:r.default.string,baseCopyrightString:r.default.string,baseMoreMenuString:r.default.string.isRequired,baseStyle:r.default.object,menuItems:r.default.arrayOf(r.default.shape({text:r.default.string.isRequired,link:r.default.string.isRequired,copyright:r.default.bool,newWindow:r.default.bool})).isRequired,phoneFooter:r.default.bool,className:r.default.string,fontSize:r.default.number,rowHeight:r.default.number,fullWidth:r.default.bool,channel:r.default.string}),window.dashboard=window.dashboard||{},window.dashboard.SmallFooter=y,e.exports=t.default},1599:function(e,t,o){"use strict";function r(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:i,t=1<arguments.length?arguments[1]:void 0;return t.type!==n?e:function(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{},n=Object.keys(Object(o));"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(o).filter(function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable}))),n.forEach(function(e){r(t,e,o[e])})}return t}({},e,{visualizationScale:t.scale})},t.setVisualizationScale=function(e){return{type:n,scale:e}},t.getVisualizationScale=function(e){return function(e){return e.layout}(e).visualizationScale};var n="layout/SET_VISUALIZATION_SCALE",i={visualizationScale:null}},160:function(e,t,o){"use strict";e.exports={controlCharacterInInputStream:"control-character-in-input-stream",noncharacterInInputStream:"noncharacter-in-input-stream",surrogateInInputStream:"surrogate-in-input-stream",nonVoidHtmlElementStartTagWithTrailingSolidus:"non-void-html-element-start-tag-with-trailing-solidus",endTagWithAttributes:"end-tag-with-attributes",endTagWithTrailingSolidus:"end-tag-with-trailing-solidus",unexpectedSolidusInTag:"unexpected-solidus-in-tag",unexpectedNullCharacter:"unexpected-null-character",unexpectedQuestionMarkInsteadOfTagName:"unexpected-question-mark-instead-of-tag-name",invalidFirstCharacterOfTagName:"invalid-first-character-of-tag-name",unexpectedEqualsSignBeforeAttributeName:"unexpected-equals-sign-before-attribute-name",missingEndTagName:"missing-end-tag-name",unexpectedCharacterInAttributeName:"unexpected-character-in-attribute-name",unknownNamedCharacterReference:"unknown-named-character-reference",missingSemicolonAfterCharacterReference:"missing-semicolon-after-character-reference",unexpectedCharacterAfterDoctypeSystemIdentifier:"unexpected-character-after-doctype-system-identifier",unexpectedCharacterInUnquotedAttributeValue:"unexpected-character-in-unquoted-attribute-value",eofBeforeTagName:"eof-before-tag-name",eofInTag:"eof-in-tag",missingAttributeValue:"missing-attribute-value",missingWhitespaceBetweenAttributes:"missing-whitespace-between-attributes",missingWhitespaceAfterDoctypePublicKeyword:"missing-whitespace-after-doctype-public-keyword",missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers:"missing-whitespace-between-doctype-public-and-system-identifiers",missingWhitespaceAfterDoctypeSystemKeyword:"missing-whitespace-after-doctype-system-keyword",missingQuoteBeforeDoctypePublicIdentifier:"missing-quote-before-doctype-public-identifier",missingQuoteBeforeDoctypeSystemIdentifier:"missing-quote-before-doctype-system-identifier",missingDoctypePublicIdentifier:"missing-doctype-public-identifier",missingDoctypeSystemIdentifier:"missing-doctype-system-identifier",abruptDoctypePublicIdentifier:"abrupt-doctype-public-identifier",abruptDoctypeSystemIdentifier:"abrupt-doctype-system-identifier",cdataInHtmlContent:"cdata-in-html-content",incorrectlyOpenedComment:"incorrectly-opened-comment",eofInScriptHtmlCommentLikeText:"eof-in-script-html-comment-like-text",eofInDoctype:"eof-in-doctype",nestedComment:"nested-comment",abruptClosingOfEmptyComment:"abrupt-closing-of-empty-comment",eofInComment:"eof-in-comment",incorrectlyClosedComment:"incorrectly-closed-comment",eofInCdata:"eof-in-cdata",absenceOfDigitsInNumericCharacterReference:"absence-of-digits-in-numeric-character-reference",nullCharacterReference:"null-character-reference",surrogateCharacterReference:"surrogate-character-reference",characterReferenceOutsideUnicodeRange:"character-reference-outside-unicode-range",controlCharacterReference:"control-character-reference",noncharacterCharacterReference:"noncharacter-character-reference",missingWhitespaceBeforeDoctypeName:"missing-whitespace-before-doctype-name",missingDoctypeName:"missing-doctype-name",invalidCharacterSequenceAfterDoctypeName:"invalid-character-sequence-after-doctype-name",duplicateAttribute:"duplicate-attribute",nonConformingDoctype:"non-conforming-doctype",missingDoctype:"missing-doctype",misplacedDoctype:"misplaced-doctype",endTagWithoutMatchingOpenElement:"end-tag-without-matching-open-element",closingOfElementWithOpenChildElements:"closing-of-element-with-open-child-elements",disallowedContentInNoscriptInHead:"disallowed-content-in-noscript-in-head",openElementsLeftAfterEof:"open-elements-left-after-eof",abandonedHeadElementChild:"abandoned-head-element-child",misplacedStartTagForHeadElement:"misplaced-start-tag-for-head-element",nestedNoscriptInHead:"nested-noscript-in-head",eofInElementThatCanContainOnlyText:"eof-in-element-that-can-contain-only-text"}},161:function(e,t,o){"use strict";var n=function(n){function e(e,t){var o;return(o=n.call(this,e)||this).posTracker=null,o.onParseError=t.onParseError,o}!function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(e,n);var t=e.prototype;return t._setErrorLocation=function(e){e.startLine=e.endLine=this.posTracker.line,e.startCol=e.endCol=this.posTracker.col,e.startOffset=e.endOffset=this.posTracker.offset},t._reportError=function(e){var t={code:e,startLine:-1,startCol:-1,startOffset:-1,endLine:-1,endCol:-1,endOffset:-1};this._setErrorLocation(t),this.onParseError(t)},t._getOverriddenMethods=function(t){return{_err:function(e){t._reportError(e)}}},e}(o(42));e.exports=n},162:function(e,t,o){"use strict";e.exports=function(e){return e.toLowerCase()}},163:function(e,t,o){"use strict";var n=o(130);t.parse=function(e){var t=n(String(e||r));return t===r?[]:t.split(a)},t.stringify=function(e){return n(e.join(i))};var r="",i=" ",a=/[ \t\n\r\f]+/g},1631:function(e,t){var o=[];e.exports={reset:function(e){return o=e.slice()},add:function(e){return(o=this.remove(e.filename)).push(e),o.slice()},remove:function(t){return(o=o.filter(function(e){return e.filename!==t})).slice()},list:function(n){return n?o.filter(function(e){var t=e.filename.toLowerCase().match(/\.[^.]+$/);if(t){var o=t[0];return-1<n.split(", ").indexOf(o)}}):o.slice()}}},1633:function(module,exports,__webpack_require__){(function(global){var $jscomp=$jscomp||{},O9a;$jscomp.scope={},$jscomp.ASSUME_ES5=!1,$jscomp.ASSUME_NO_NATIVE_MAP=!1,$jscomp.ASSUME_NO_NATIVE_SET=!1,$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,o){e!=Array.prototype&&e!=Object.prototype&&(e[t]=o.value)},$jscomp.getGlobal=function(e){return"undefined"!=typeof window&&window===e?e:void 0!==global&&null!=global?global:e},$jscomp.global=$jscomp.getGlobal(this),$jscomp.SYMBOL_PREFIX="jscomp_symbol_",$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){},$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)},$jscomp.Symbol=(O9a=0,function(e){return $jscomp.SYMBOL_PREFIX+(e||"")+O9a++}),$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var e=$jscomp.global.Symbol.iterator;e||(e=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator")),"function"!=typeof Array.prototype[e]&&$jscomp.defineProperty(Array.prototype,e,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}}),$jscomp.initSymbolIterator=function(){}},$jscomp.arrayIterator=function(e){var t=0;return $jscomp.iteratorPrototype(function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}})},$jscomp.iteratorPrototype=function(e){return $jscomp.initSymbolIterator(),(e={next:e})[$jscomp.global.Symbol.iterator]=function(){return this},e},$jscomp.makeIterator=function(e){$jscomp.initSymbolIterator();var t=e[Symbol.iterator];return t?t.call(e):$jscomp.arrayIterator(e)},$jscomp.checkStringArgs=function(e,t,o){if(null==e)throw new TypeError("The 'this' value for String.prototype."+o+" must not be null or undefined");if(t instanceof RegExp)throw new TypeError("First argument to String.prototype."+o+" must not be a regular expression");return e+""},$jscomp.polyfill=function(e,t,o,n){if(t){for(o=$jscomp.global,e=e.split("."),n=0;n<e.length-1;n++){var r=e[n];r in o||(o[r]={}),o=o[r]}(t=t(n=o[e=e[e.length-1]]))!=n&&null!=t&&$jscomp.defineProperty(o,e,{configurable:!0,writable:!0,value:t})}},$jscomp.polyfill("String.prototype.repeat",function(e){return e||function(e){var t=$jscomp.checkStringArgs(this,null,"repeat");if(e<0||1342177279<e)throw new RangeError("Invalid count value");e|=0;for(var o="";e;)1&e&&(o+=t),(e>>>=1)&&(t+=t);return o}},"es6","es3"),$jscomp.findInternal=function(e,t,o){e instanceof String&&(e=String(e));for(var n=e.length,r=0;r<n;r++){var i=e[r];if(t.call(o,i,r,e))return{i:r,v:i}}return{i:-1,v:void 0}},$jscomp.polyfill("Array.prototype.findIndex",function(e){return e||function(e,t){return $jscomp.findInternal(this,e,t).i}},"es6","es3"),$jscomp.polyfill("Array.prototype.find",function(e){return e||function(e,t){return $jscomp.findInternal(this,e,t).v}},"es6","es3"),$jscomp.iteratorFromArray=function(t,o){$jscomp.initSymbolIterator(),t instanceof String&&(t+="");var n=0,r={next:function(){if(n<t.length){var e=n++;return{value:o(e,t[e]),done:!1}}return r.next=function(){return{done:!0,value:void 0}},r.next()}};return r[Symbol.iterator]=function(){return r},r},$jscomp.polyfill("Array.prototype.keys",function(e){return e||function(){return $jscomp.iteratorFromArray(this,function(e){return e})}},"es6","es3"),$jscomp.polyfill("String.prototype.endsWith",function(e){return e||function(e,t){var o=$jscomp.checkStringArgs(this,e,"endsWith");e+="",void 0===t&&(t=o.length),t=Math.max(0,Math.min(0|t,o.length));for(var n=e.length;0<n&&0<t;)if(o[--t]!=e[--n])return!1;return n<=0}},"es6","es3"),$jscomp.polyfill("String.prototype.startsWith",function(e){return e||function(e,t){var o=$jscomp.checkStringArgs(this,e,"startsWith");e+="";var n=o.length,r=e.length;t=Math.max(0,Math.min(0|t,o.length));for(var i=0;i<r&&t<n;)if(o[t++]!=e[i++])return!1;return r<=i}},"es6","es3"),$jscomp.polyfill("Array.prototype.values",function(e){return e||function(){return $jscomp.iteratorFromArray(this,function(e,t){return t})}},"es8","es3");var COMPILED=!0,goog=goog||{};goog.global=this,goog.isDef=function(e){return void 0!==e},goog.exportPath_=function(e,t,o){e=e.split("."),o=o||goog.global,e[0]in o||!o.execScript||o.execScript("var "+e[0]);for(var n;e.length&&(n=e.shift());)!e.length&&goog.isDef(t)?o[n]=t:o=o[n]?o[n]:o[n]={}},goog.define=function(e,t){COMPILED||(goog.global.CLOSURE_UNCOMPILED_DEFINES&&Object.prototype.hasOwnProperty.call(goog.global.CLOSURE_UNCOMPILED_DEFINES,e)?t=goog.global.CLOSURE_UNCOMPILED_DEFINES[e]:goog.global.CLOSURE_DEFINES&&Object.prototype.hasOwnProperty.call(goog.global.CLOSURE_DEFINES,e)&&(t=goog.global.CLOSURE_DEFINES[e])),goog.exportPath_(e,t)},goog.DEBUG=!0,goog.LOCALE="en",goog.TRUSTED_SITE=!0,goog.STRICT_MODE_COMPATIBLE=!1,goog.DISALLOW_TEST_ONLY_CODE=COMPILED&&!goog.DEBUG,goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING=!1,goog.provide=function(e){if(goog.isInModuleLoader_())throw Error("goog.provide can not be used within a goog.module.");if(!COMPILED&&goog.isProvided_(e))throw Error('Namespace "'+e+'" already declared.');goog.constructNamespace_(e)},goog.constructNamespace_=function(e,t){if(!COMPILED){delete goog.implicitNamespaces_[e];for(var o=e;(o=o.substring(0,o.lastIndexOf(".")))&&!goog.getObjectByName(o);)goog.implicitNamespaces_[o]=!0}goog.exportPath_(e,t)},goog.VALID_MODULE_RE_=/^[a-zA-Z_$][a-zA-Z0-9._$]*$/,goog.module=function(e){if(!goog.isString(e)||!e||-1==e.search(goog.VALID_MODULE_RE_))throw Error("Invalid module identifier");if(!goog.isInModuleLoader_())throw Error("Module "+e+" has been loaded incorrectly. Note, modules cannot be loaded as normal scripts. They require some kind of pre-processing step. You're likely trying to load a module via a script tag or as a part of a concatenated bundle without rewriting the module. For more info see: https://github.com/google/closure-library/wiki/goog.module:-an-ES6-module-like-alternative-to-goog.provide.");if(goog.moduleLoaderState_.moduleName)throw Error("goog.module may only be called once per module.");if(goog.moduleLoaderState_.moduleName=e,!COMPILED){if(goog.isProvided_(e))throw Error('Namespace "'+e+'" already declared.');delete goog.implicitNamespaces_[e]}},goog.module.get=function(e){return goog.module.getInternal_(e)},goog.module.getInternal_=function(e){if(!COMPILED){if(e in goog.loadedModules_)return goog.loadedModules_[e];if(!goog.implicitNamespaces_[e])return null!=(e=goog.getObjectByName(e))?e:null}return null},goog.moduleLoaderState_=null,goog.isInModuleLoader_=function(){return null!=goog.moduleLoaderState_},goog.module.declareLegacyNamespace=function(){if(!COMPILED&&!goog.isInModuleLoader_())throw Error("goog.module.declareLegacyNamespace must be called from within a goog.module");if(!COMPILED&&!goog.moduleLoaderState_.moduleName)throw Error("goog.module must be called prior to goog.module.declareLegacyNamespace.");goog.moduleLoaderState_.declareLegacyNamespace=!0},goog.setTestOnly=function(e){if(goog.DISALLOW_TEST_ONLY_CODE)throw e=e||"",Error("Importing test-only code into non-debug environment"+(e?": "+e:"."))},goog.forwardDeclare=function(e){},COMPILED||(goog.isProvided_=function(e){return e in goog.loadedModules_||!goog.implicitNamespaces_[e]&&goog.isDefAndNotNull(goog.getObjectByName(e))},goog.implicitNamespaces_={"goog.module":!0}),goog.getObjectByName=function(e,t){e=e.split("."),t=t||goog.global;for(var o;o=e.shift();){if(!goog.isDefAndNotNull(t[o]))return null;t=t[o]}return t},goog.globalize=function(e,t){for(var o in t=t||goog.global,e)t[o]=e[o]},goog.addDependency=function(e,t,o,n){if(goog.DEPENDENCIES_ENABLED){var r;e=e.replace(/\\/g,"/");var i=goog.dependencies_;n&&"boolean"!=typeof n||(n=n?{module:"goog"}:{});for(var a=0;r=t[a];a++)i.nameToPath[r]=e,i.loadFlags[e]=n;for(n=0;t=o[n];n++)e in i.requires||(i.requires[e]={}),i.requires[e][t]=!0}},goog.ENABLE_DEBUG_LOADER=!0,goog.logToConsole_=function(e){goog.global.console&&goog.global.console.error(e)},goog.require=function(e){if(!COMPILED){if(goog.ENABLE_DEBUG_LOADER&&goog.IS_OLD_IE_&&goog.maybeProcessDeferredDep_(e),goog.isProvided_(e)){if(goog.isInModuleLoader_())return goog.module.getInternal_(e)}else if(goog.ENABLE_DEBUG_LOADER){var t=goog.getPathFromDeps_(e);if(!t)throw e="goog.require could not find: "+e,goog.logToConsole_(e),Error(e);goog.writeScripts_(t)}return null}},goog.basePath="",goog.nullFunction=function(){},goog.abstractMethod=function(){throw Error("unimplemented abstract method")},goog.addSingletonGetter=function(e){e.instance_=void 0,e.getInstance=function(){return e.instance_?e.instance_:(goog.DEBUG&&(goog.instantiatedSingletons_[goog.instantiatedSingletons_.length]=e),e.instance_=new e)}},goog.instantiatedSingletons_=[],goog.LOAD_MODULE_USING_EVAL=!0,goog.SEAL_MODULE_EXPORTS=goog.DEBUG,goog.loadedModules_={},goog.DEPENDENCIES_ENABLED=!COMPILED&&goog.ENABLE_DEBUG_LOADER,goog.TRANSPILE="detect",goog.TRANSPILER="transpile.js",goog.DEPENDENCIES_ENABLED&&(goog.dependencies_={loadFlags:{},nameToPath:{},requires:{},visited:{},written:{},deferred:{}},goog.inHtmlDocument_=function(){var e=goog.global.document;return null!=e&&"write"in e},goog.findBasePath_=function(){if(goog.isDef(goog.global.CLOSURE_BASE_PATH))goog.basePath=goog.global.CLOSURE_BASE_PATH;else if(goog.inHtmlDocument_())for(var e=goog.global.document.getElementsByTagName("SCRIPT"),t=e.length-1;0<=t;--t){var o=e[t].src,n=o.lastIndexOf("?");if(n=-1==n?o.length:n,"base.js"==o.substr(n-7,7)){goog.basePath=o.substr(0,n-7);break}}},goog.importScript_=function(e,t){(goog.global.CLOSURE_IMPORT_SCRIPT||goog.writeScriptTag_)(e,t)&&(goog.dependencies_.written[e]=!0)},goog.IS_OLD_IE_=!(goog.global.atob||!goog.global.document||!goog.global.document.all),goog.importProcessedScript_=function(e,t,o){goog.importScript_("",'goog.retrieveAndExec_("'+e+'", '+t+", "+o+");")},goog.queuedModules_=[],goog.wrapModule_=function(e,t){return goog.LOAD_MODULE_USING_EVAL&&goog.isDef(goog.global.JSON)?"goog.loadModule("+goog.global.JSON.stringify(t+"\n//# sourceURL="+e+"\n")+");":'goog.loadModule(function(exports) {"use strict";'+t+"\n;return exports});\n//# sourceURL="+e+"\n"},goog.loadQueuedModules_=function(){var e=goog.queuedModules_.length;if(0<e){var t=goog.queuedModules_;goog.queuedModules_=[];for(var o=0;o<e;o++)goog.maybeProcessDeferredPath_(t[o])}},goog.maybeProcessDeferredDep_=function(e){goog.isDeferredModule_(e)&&goog.allDepsAreAvailable_(e)&&(e=goog.getPathFromDeps_(e),goog.maybeProcessDeferredPath_(goog.basePath+e))},goog.isDeferredModule_=function(e){var t=(e=goog.getPathFromDeps_(e))&&goog.dependencies_.loadFlags[e]||{},o=t.lang||"es3";return!(!e||"goog"!=t.module&&!goog.needsTranspile_(o))&&goog.basePath+e in goog.dependencies_.deferred},goog.allDepsAreAvailable_=function(e){if((e=goog.getPathFromDeps_(e))&&e in goog.dependencies_.requires)for(var t in goog.dependencies_.requires[e])if(!goog.isProvided_(t)&&!goog.isDeferredModule_(t))return!1;return!0},goog.maybeProcessDeferredPath_=function(e){if(e in goog.dependencies_.deferred){var t=goog.dependencies_.deferred[e];delete goog.dependencies_.deferred[e],goog.globalEval(t)}},goog.loadModuleFromUrl=function(e){goog.retrieveAndExec_(e,!0,!1)},goog.writeScriptSrcNode_=function(e){goog.global.document.write('<script type="text/javascript" src="'+e+'"><\/script>')},goog.appendScriptSrcNode_=function(e){var t=goog.global.document,o=t.createElement("script");o.type="text/javascript",o.src=e,o.defer=!1,o.async=!1,t.head.appendChild(o)},goog.writeScriptTag_=function(e,t){if(goog.inHtmlDocument_()){var o=goog.global.document;if(goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING||"complete"!=o.readyState)return void 0===t?goog.IS_OLD_IE_?(t=" onreadystatechange='goog.onScriptLoad_(this, "+ ++goog.lastNonModuleScriptIndex_+")' ",o.write('<script type="text/javascript" src="'+e+'"'+t+"><\/script>")):goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING?goog.appendScriptSrcNode_(e):goog.writeScriptSrcNode_(e):o.write('<script type="text/javascript">'+goog.protectScriptTag_(t)+"<\/script>"),!0;if(/\bdeps.js$/.test(e))return!1;throw Error('Cannot write "'+e+'" after document load')}return!1},goog.protectScriptTag_=function(e){return e.replace(/<\/(SCRIPT)/gi,"\\x3c\\$1")},goog.needsTranspile_=function(e){if("always"==goog.TRANSPILE)return!0;if("never"==goog.TRANSPILE)return!1;if(goog.requiresTranspilation_||(goog.requiresTranspilation_=goog.createRequiresTranspilation_()),e in goog.requiresTranspilation_)return goog.requiresTranspilation_[e];throw Error("Unknown language mode: "+e)},goog.requiresTranspilation_=null,goog.lastNonModuleScriptIndex_=0,goog.onScriptLoad_=function(e,t){return"complete"==e.readyState&&goog.lastNonModuleScriptIndex_==t&&goog.loadQueuedModules_(),!0},goog.writeScripts_=function(e){var n=[],r={},i=goog.dependencies_;for(function e(t){if(!(t in i.written||t in i.visited)){if(i.visited[t]=!0,t in i.requires)for(var o in i.requires[t])if(!goog.isProvided_(o)){if(!(o in i.nameToPath))throw Error("Undefined nameToPath for "+o);e(i.nameToPath[o])}t in r||(r[t]=!0,n.push(t))}}(e),e=0;e<n.length;e++){var t=n[e];goog.dependencies_.written[t]=!0}var o=goog.moduleLoaderState_;for(goog.moduleLoaderState_=null,e=0;e<n.length;e++){if(!(t=n[e]))throw goog.moduleLoaderState_=o,Error("Undefined script input");var a=i.loadFlags[t]||{},s=goog.needsTranspile_(a.lang||"es3");"goog"==a.module||s?goog.importProcessedScript_(goog.basePath+t,"goog"==a.module,s):goog.importScript_(goog.basePath+t)}goog.moduleLoaderState_=o},goog.getPathFromDeps_=function(e){return e in goog.dependencies_.nameToPath?goog.dependencies_.nameToPath[e]:null},goog.findBasePath_(),goog.global.CLOSURE_NO_DEPS||goog.importScript_(goog.basePath+"deps.js")),goog.loadModule=function(e){var t=goog.moduleLoaderState_;try{if(goog.moduleLoaderState_={moduleName:void 0,declareLegacyNamespace:!1},goog.isFunction(e))var o=e.call(void 0,{});else{if(!goog.isString(e))throw Error("Invalid module definition");o=goog.loadModuleFromSource_.call(void 0,e)}var n=goog.moduleLoaderState_.moduleName;if(!goog.isString(n)||!n)throw Error('Invalid module name "'+n+'"');goog.moduleLoaderState_.declareLegacyNamespace?goog.constructNamespace_(n,o):goog.SEAL_MODULE_EXPORTS&&Object.seal&&goog.isObject(o)&&Object.seal(o),goog.loadedModules_[n]=o}finally{goog.moduleLoaderState_=t}},goog.loadModuleFromSource_=function(a){return eval(a),{}},goog.normalizePath_=function(e){e=e.split("/");for(var t=0;t<e.length;)"."==e[t]?e.splice(t,1):t&&".."==e[t]&&e[t-1]&&".."!=e[t-1]?e.splice(--t,2):t++;return e.join("/")},goog.loadFileSync_=function(e){if(goog.global.CLOSURE_LOAD_FILE_SYNC)return goog.global.CLOSURE_LOAD_FILE_SYNC(e);try{var t=new goog.global.XMLHttpRequest;return t.open("get",e,!1),t.send(),0==t.status||200==t.status?t.responseText:null}catch(e){return null}},goog.retrieveAndExec_=function(e,t,o){if(!COMPILED){var n=e;e=goog.normalizePath_(e);var r=goog.global.CLOSURE_IMPORT_SCRIPT||goog.writeScriptTag_,i=goog.loadFileSync_(e);if(null==i)throw Error('Load of "'+e+'" failed');o&&(i=goog.transpile_.call(goog.global,i,e)),i=t?goog.wrapModule_(e,i):i+"\n//# sourceURL="+e,goog.IS_OLD_IE_?(goog.dependencies_.deferred[n]=i,goog.queuedModules_.push(n)):r(e,i)}},goog.transpile_=function(a,b){var c=goog.global.$jscomp;c||(goog.global.$jscomp=c={});var d=c.transpile;if(!d){var e=goog.basePath+goog.TRANSPILER,f=goog.loadFileSync_(e);if(f){if(eval(f+"\n//# sourceURL="+e),goog.global.$gwtExport&&goog.global.$gwtExport.$jscomp&&!goog.global.$gwtExport.$jscomp.transpile)throw Error('The transpiler did not properly export the "transpile" method. $gwtExport: '+JSON.stringify(goog.global.$gwtExport));goog.global.$jscomp.transpile=goog.global.$gwtExport.$jscomp.transpile,c=goog.global.$jscomp,d=c.transpile}}return d||(d=c.transpile=function(e,t){return goog.logToConsole_(t+" requires transpilation but no transpiler was found."),e}),d(a,b)},goog.typeOf=function(e){var t=typeof e;if("object"==t){if(!e)return"null";if(e instanceof Array)return"array";if(e instanceof Object)return t;var o=Object.prototype.toString.call(e);if("[object Window]"==o)return"object";if("[object Array]"==o||"number"==typeof e.length&&void 0!==e.splice&&void 0!==e.propertyIsEnumerable&&!e.propertyIsEnumerable("splice"))return"array";if("[object Function]"==o||void 0!==e.call&&void 0!==e.propertyIsEnumerable&&!e.propertyIsEnumerable("call"))return"function"}else if("function"==t&&void 0===e.call)return"object";return t},goog.isNull=function(e){return null===e},goog.isDefAndNotNull=function(e){return null!=e},goog.isArray=function(e){return"array"==goog.typeOf(e)},goog.isArrayLike=function(e){var t=goog.typeOf(e);return"array"==t||"object"==t&&"number"==typeof e.length},goog.isDateLike=function(e){return goog.isObject(e)&&"function"==typeof e.getFullYear},goog.isString=function(e){return"string"==typeof e},goog.isBoolean=function(e){return"boolean"==typeof e},goog.isNumber=function(e){return"number"==typeof e},goog.isFunction=function(e){return"function"==goog.typeOf(e)},goog.isObject=function(e){var t=typeof e;return"object"==t&&null!=e||"function"==t},goog.getUid=function(e){return e[goog.UID_PROPERTY_]||(e[goog.UID_PROPERTY_]=++goog.uidCounter_)},goog.hasUid=function(e){return!!e[goog.UID_PROPERTY_]},goog.removeUid=function(e){null!==e&&"removeAttribute"in e&&e.removeAttribute(goog.UID_PROPERTY_);try{delete e[goog.UID_PROPERTY_]}catch(e){}},goog.UID_PROPERTY_="closure_uid_"+(1e9*Math.random()>>>0),goog.uidCounter_=0,goog.getHashCode=goog.getUid,goog.removeHashCode=goog.removeUid,goog.cloneObject=function(e){var t=goog.typeOf(e);if("object"!=t&&"array"!=t)return e;if(e.clone)return e.clone();for(var o in t="array"==t?[]:{},e)t[o]=goog.cloneObject(e[o]);return t},goog.bindNative_=function(e,t,o){return e.call.apply(e.bind,arguments)},goog.bindJs_=function(t,o,e){if(!t)throw Error();if(2<arguments.length){var n=Array.prototype.slice.call(arguments,2);return function(){var e=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(e,n),t.apply(o,e)}}return function(){return t.apply(o,arguments)}},goog.bind=function(e,t,o){return Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?goog.bind=goog.bindNative_:goog.bind=goog.bindJs_,goog.bind.apply(null,arguments)},goog.partial=function(t,e){var o=Array.prototype.slice.call(arguments,1);return function(){var e=o.slice();return e.push.apply(e,arguments),t.apply(this,e)}},goog.mixin=function(e,t){for(var o in t)e[o]=t[o]},goog.now=goog.TRUSTED_SITE&&Date.now||function(){return+new Date},goog.globalEval=function(e){if(goog.global.execScript)goog.global.execScript(e,"JavaScript");else{if(!goog.global.eval)throw Error("goog.globalEval not available");if(null==goog.evalWorksForGlobals_)if(goog.global.eval("var _evalTest_ = 1;"),void 0!==goog.global._evalTest_){try{delete goog.global._evalTest_}catch(e){}goog.evalWorksForGlobals_=!0}else goog.evalWorksForGlobals_=!1;if(goog.evalWorksForGlobals_)goog.global.eval(e);else{var t=goog.global.document,o=t.createElement("SCRIPT");o.type="text/javascript",o.defer=!1,o.appendChild(t.createTextNode(e)),t.body.appendChild(o),t.body.removeChild(o)}}},goog.evalWorksForGlobals_=null,goog.getCssName=function(e,t){if("."==String(e).charAt(0))throw Error('className passed in goog.getCssName must not start with ".". You passed: '+e);var n=function(e){return goog.cssNameMapping_[e]||e},o=function(e){e=e.split("-");for(var t=[],o=0;o<e.length;o++)t.push(n(e[o]));return t.join("-")};return o=goog.cssNameMapping_?"BY_WHOLE"==goog.cssNameMappingStyle_?n:o:function(e){return e},e=t?e+"-"+o(t):o(e),goog.global.CLOSURE_CSS_NAME_MAP_FN?goog.global.CLOSURE_CSS_NAME_MAP_FN(e):e},goog.setCssNameMapping=function(e,t){goog.cssNameMapping_=e,goog.cssNameMappingStyle_=t},!COMPILED&&goog.global.CLOSURE_CSS_NAME_MAPPING&&(goog.cssNameMapping_=goog.global.CLOSURE_CSS_NAME_MAPPING),goog.getMsg=function(e,o){return o&&(e=e.replace(/\{\$([^}]+)}/g,function(e,t){return null!=o&&t in o?o[t]:e})),e},goog.getMsgWithFallback=function(e,t){return e},goog.exportSymbol=function(e,t,o){goog.exportPath_(e,t,o)},goog.exportProperty=function(e,t,o){e[t]=o},goog.inherits=function(e,i){function t(){}t.prototype=i.prototype,e.superClass_=i.prototype,e.prototype=new t,(e.prototype.constructor=e).base=function(e,t,o){for(var n=Array(arguments.length-2),r=2;r<arguments.length;r++)n[r-2]=arguments[r];return i.prototype[t].apply(e,n)}},goog.base=function(e,t,o){var n=arguments.callee.caller;if(goog.STRICT_MODE_COMPATIBLE||goog.DEBUG&&!n)throw Error("arguments.caller not defined.  goog.base() cannot be used with strict mode code. See http://www.ecma-international.org/ecma-262/5.1/#sec-C");if(n.superClass_){for(var r=Array(arguments.length-1),i=1;i<arguments.length;i++)r[i-1]=arguments[i];return n.superClass_.constructor.apply(e,r)}for(r=Array(arguments.length-2),i=2;i<arguments.length;i++)r[i-2]=arguments[i];i=!1;for(var a=e.constructor;a;a=a.superClass_&&a.superClass_.constructor)if(a.prototype[t]===n)i=!0;else if(i)return a.prototype[t].apply(e,r);if(e[t]===n)return e.constructor.prototype[t].apply(e,r);throw Error("goog.base called from a method of one name to a method of a different name")},goog.scope=function(e){if(goog.isInModuleLoader_())throw Error("goog.scope is not supported within a goog.module.");e.call(goog.global)},COMPILED||(goog.global.COMPILED=COMPILED),goog.defineClass=function(e,t){var o=t.constructor,n=t.statics;return o&&o!=Object.prototype.constructor||(o=function(){throw Error("cannot instantiate an interface (no constructor defined).")}),o=goog.defineClass.createSealingConstructor_(o,e),e&&goog.inherits(o,e),delete t.constructor,delete t.statics,goog.defineClass.applyProperties_(o.prototype,t),null!=n&&(n instanceof Function?n(o):goog.defineClass.applyProperties_(o,n)),o},goog.defineClass.SEAL_CLASS_INSTANCES=goog.DEBUG,goog.defineClass.createSealingConstructor_=function(t,e){if(!goog.defineClass.SEAL_CLASS_INSTANCES)return t;var o=!goog.defineClass.isUnsealable_(e),n=function(){var e=t.apply(this,arguments)||this;return e[goog.UID_PROPERTY_]=e[goog.UID_PROPERTY_],this.constructor===n&&o&&Object.seal instanceof Function&&Object.seal(e),e};return n},goog.defineClass.isUnsealable_=function(e){return e&&e.prototype&&e.prototype[goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_]},goog.defineClass.OBJECT_PROTOTYPE_FIELDS_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),goog.defineClass.applyProperties_=function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);for(var n=0;n<goog.defineClass.OBJECT_PROTOTYPE_FIELDS_.length;n++)o=goog.defineClass.OBJECT_PROTOTYPE_FIELDS_[n],Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},goog.tagUnsealableClass=function(e){!COMPILED&&goog.defineClass.SEAL_CLASS_INSTANCES&&(e.prototype[goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_]=!0)},goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_="goog_defineClass_legacy_unsealable",goog.createRequiresTranspilation_=function(){function a(e,t){d?c[e]=!0:t()?c[e]=!1:d=c[e]=!0}function b(a){try{return!!eval(a)}catch(e){return!1}}var c={es3:!1},d=!1;return a("es5",function(){return b("[1,].length==1")}),a("es6",function(){return b('(()=>{"use strict";class X{constructor(){if(new.target!=String)throw 1;this.x=42}}let q=Reflect.construct(X,[],String);if(q.x!=42||!(q instanceof String))throw 1;for(const a of[2,3]){if(a==2)continue;function f(z={a}){let a=0;return z.a}{function f(){return 0;}}return f()==3}})()')}),a("es6-impl",function(){return!0}),a("es7",function(){return b("2 ** 2 == 4")}),a("es8",function(){return b("async () => 1, true")}),c};var Blockly={},FRAME_MARGIN_SIDE=15,FRAME_MARGIN_TOP=10,FRAME_MARGIN_BOTTOM=5,FRAME_HEADER_HEIGHT=25;Blockly.BlockSvgUnused=function(e){this.block_=e,this.frameHelp_=this.frameText_=this.frameHeader_=this.frameBase_=this.frameClipRect_=this.frameGroup_=this.bindData_=void 0,this.initChildren()},Blockly.BlockSvgUnused.UNUSED_BLOCK_HELP_EVENT="blocklyUnusedBlockHelpClicked",Blockly.BlockSvgUnused.prototype.initChildren=function(){this.frameGroup_=Blockly.createSvgElement("g",{class:"blocklyUnusedFrame"});var e=Blockly.createSvgElement("clipPath",{id:"frameClip"+this.block_.id},this.frameGroup_);this.frameClipRect_=Blockly.createSvgElement("rect",{x:-FRAME_MARGIN_SIDE,y:-(FRAME_MARGIN_TOP+FRAME_HEADER_HEIGHT),height:FRAME_HEADER_HEIGHT},e),this.frameBase_=Blockly.createSvgElement("rect",{x:-FRAME_MARGIN_SIDE,y:-(FRAME_MARGIN_TOP+FRAME_HEADER_HEIGHT),fill:"#e7e8ea",stroke:"#c6cacd",rx:15,ry:15},this.frameGroup_),this.frameHeader_=Blockly.createSvgElement("rect",{x:-FRAME_MARGIN_SIDE,y:-(FRAME_MARGIN_TOP+FRAME_HEADER_HEIGHT),fill:"#c6cacd",rx:15,ry:15,"clip-path":"url(#frameClip"+this.block_.id+")"},this.frameGroup_),e=-(FRAME_MARGIN_TOP+FRAME_HEADER_HEIGHT/2),Blockly.ieVersion()&&(e+=4),this.frameText_=Blockly.createSvgElement("text",{class:"blocklyText",style:"font-size: 12pt",y:e,"dominant-baseline":"central"},this.frameGroup_),this.frameText_.appendChild(document.createTextNode(Blockly.Msg.UNUSED_CODE)),this.frameHelp_=Blockly.createSvgElement("g",{class:"blocklyHelp"},this.frameGroup_),Blockly.createSvgElement("circle",{fill:"#7665a0",r:.375*FRAME_HEADER_HEIGHT},this.frameHelp_),Blockly.createSvgElement("text",{class:"blocklyText",y:Blockly.ieVersion()?4:0},this.frameHelp_).appendChild(document.createTextNode("?"))},Blockly.BlockSvgUnused.prototype.getPadding=function(){return{top:FRAME_MARGIN_TOP+FRAME_HEADER_HEIGHT,right:FRAME_MARGIN_SIDE,bottom:FRAME_MARGIN_BOTTOM,left:FRAME_MARGIN_SIDE}},Blockly.BlockSvgUnused.prototype.bindClickEvent=function(){this.isbound_||(this.isbound_=!0,Blockly.bindEvent_(this.frameHelp_,"mousedown",this,function(e){Blockly.isRightButton(e)||(Blockly.fireUiEvent(this.frameHelp_,Blockly.BlockSvgUnused.UNUSED_BLOCK_HELP_EVENT),e.stopPropagation(),e.preventDefault())}))},Blockly.BlockSvgUnused.prototype.render=function(e){goog.dom.removeNode(this.frameGroup_);var t=e.getBoundingClientRect();goog.dom.insertChildAt(e,this.frameGroup_,0),Blockly.addClass_(this.frameGroup_,"hidden");var o=this.frameGroup_;setTimeout(function(){Blockly.removeClass_(o,"hidden")},0),this.bindClickEvent(),e=this.frameText_.getBoundingClientRect().width+this.frameHelp_.getBoundingClientRect().width,e=Math.max(t.width,e)+2*FRAME_MARGIN_SIDE,t=t.height+FRAME_MARGIN_TOP+FRAME_MARGIN_BOTTOM+FRAME_HEADER_HEIGHT,this.frameClipRect_.setAttribute("width",e),this.frameBase_.setAttribute("width",e),this.frameBase_.setAttribute("height",t),this.frameHeader_.setAttribute("width",e),this.frameHeader_.setAttribute("height",t),Blockly.RTL&&(this.frameClipRect_.setAttribute("x",-e+FRAME_MARGIN_SIDE),this.frameHeader_.setAttribute("x",-e+FRAME_MARGIN_SIDE),this.frameBase_.setAttribute("x",-e+FRAME_MARGIN_SIDE),this.frameText_.setAttribute("x",2*FRAME_MARGIN_SIDE-e)),this.frameHelp_.setAttribute("transform","translate("+(e-2*FRAME_MARGIN_SIDE)+","+-(FRAME_MARGIN_TOP+FRAME_HEADER_HEIGHT/2)+")")},Blockly.BlockSvgUnused.prototype.dispose=function(){this.bindData_&&Blockly.unbindEvent_(this.bindData_),goog.dom.removeNode(this.frameGroup_),this.frameHelp_=this.frameText_=this.frameHeader_=this.frameBase_=this.frameClipRect_=this.frameGroup_=void 0},goog.debug={},goog.debug.Error=function(e){if(Error.captureStackTrace)Error.captureStackTrace(this,goog.debug.Error);else{var t=Error().stack;t&&(this.stack=t)}e&&(this.message=String(e)),this.reportErrorToServer=!0},goog.inherits(goog.debug.Error,Error),goog.debug.Error.prototype.name="CustomError",goog.dom={},goog.dom.NodeType={ELEMENT:1,ATTRIBUTE:2,TEXT:3,CDATA_SECTION:4,ENTITY_REFERENCE:5,ENTITY:6,PROCESSING_INSTRUCTION:7,COMMENT:8,DOCUMENT:9,DOCUMENT_TYPE:10,DOCUMENT_FRAGMENT:11,NOTATION:12},goog.string={},goog.string.DETECT_DOUBLE_ESCAPING=!1,goog.string.FORCE_NON_DOM_HTML_UNESCAPING=!1,goog.string.Unicode={NBSP:" "},goog.string.startsWith=function(e,t){return 0==e.lastIndexOf(t,0)},goog.string.endsWith=function(e,t){var o=e.length-t.length;return 0<=o&&e.indexOf(t,o)==o},goog.string.caseInsensitiveStartsWith=function(e,t){return 0==goog.string.caseInsensitiveCompare(t,e.substr(0,t.length))},goog.string.caseInsensitiveEndsWith=function(e,t){return 0==goog.string.caseInsensitiveCompare(t,e.substr(e.length-t.length,t.length))},goog.string.caseInsensitiveEquals=function(e,t){return e.toLowerCase()==t.toLowerCase()},goog.string.subs=function(e,t){for(var o=e.split("%s"),n="",r=Array.prototype.slice.call(arguments,1);r.length&&1<o.length;)n+=o.shift()+r.shift();return n+o.join("%s")},goog.string.collapseWhitespace=function(e){return e.replace(/[\s\xa0]+/g," ").replace(/^\s+|\s+$/g,"")},goog.string.isEmptyOrWhitespace=function(e){return/^[\s\xa0]*$/.test(e)},goog.string.isEmptyString=function(e){return 0==e.length},goog.string.isEmpty=goog.string.isEmptyOrWhitespace,goog.string.isEmptyOrWhitespaceSafe=function(e){return goog.string.isEmptyOrWhitespace(goog.string.makeSafe(e))},goog.string.isEmptySafe=goog.string.isEmptyOrWhitespaceSafe,goog.string.isBreakingWhitespace=function(e){return!/[^\t\n\r ]/.test(e)},goog.string.isAlpha=function(e){return!/[^a-zA-Z]/.test(e)},goog.string.isNumeric=function(e){return!/[^0-9]/.test(e)},goog.string.isAlphaNumeric=function(e){return!/[^a-zA-Z0-9]/.test(e)},goog.string.isSpace=function(e){return" "==e},goog.string.isUnicodeChar=function(e){return 1==e.length&&" "<=e&&e<="~"||""<=e&&e<="�"},goog.string.stripNewlines=function(e){return e.replace(/(\r\n|\r|\n)+/g," ")},goog.string.canonicalizeNewlines=function(e){return e.replace(/(\r\n|\r|\n)/g,"\n")},goog.string.normalizeWhitespace=function(e){return e.replace(/\xa0|\s/g," ")},goog.string.normalizeSpaces=function(e){return e.replace(/\xa0|[ \t]+/g," ")},goog.string.collapseBreakingSpaces=function(e){return e.replace(/[\t\r\n ]+/g," ").replace(/^[\t\r\n ]+|[\t\r\n ]+$/g,"")},goog.string.trim=goog.TRUSTED_SITE&&String.prototype.trim?function(e){return e.trim()}:function(e){return e.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},goog.string.trimLeft=function(e){return e.replace(/^[\s\xa0]+/,"")},goog.string.trimRight=function(e){return e.replace(/[\s\xa0]+$/,"")},goog.string.caseInsensitiveCompare=function(e,t){return(e=String(e).toLowerCase())<(t=String(t).toLowerCase())?-1:e==t?0:1},goog.string.numberAwareCompare_=function(e,t,o){if(e==t)return 0;if(!e)return-1;if(!t)return 1;for(var n=e.toLowerCase().match(o),r=t.toLowerCase().match(o),i=Math.min(n.length,r.length),a=0;a<i;a++){o=n[a];var s=r[a];if(o!=s)return e=parseInt(o,10),!isNaN(e)&&(t=parseInt(s,10),!isNaN(t)&&e-t)?e-t:o<s?-1:1}return n.length!=r.length?n.length-r.length:e<t?-1:1},goog.string.intAwareCompare=function(e,t){return goog.string.numberAwareCompare_(e,t,/\d+|\D+/g)},goog.string.floatAwareCompare=function(e,t){return goog.string.numberAwareCompare_(e,t,/\d+|\.\d+|\D+/g)},goog.string.numerateCompare=goog.string.floatAwareCompare,goog.string.urlEncode=function(e){return encodeURIComponent(String(e))},goog.string.urlDecode=function(e){return decodeURIComponent(e.replace(/\+/g," "))},goog.string.newLineToBr=function(e,t){return e.replace(/(\r\n|\r|\n)/g,t?"<br />":"<br>")},goog.string.htmlEscape=function(e,t){if(t)e=e.replace(goog.string.AMP_RE_,"&amp;").replace(goog.string.LT_RE_,"&lt;").replace(goog.string.GT_RE_,"&gt;").replace(goog.string.QUOT_RE_,"&quot;").replace(goog.string.SINGLE_QUOTE_RE_,"&#39;").replace(goog.string.NULL_RE_,"&#0;"),goog.string.DETECT_DOUBLE_ESCAPING&&(e=e.replace(goog.string.E_RE_,"&#101;"));else{if(!goog.string.ALL_RE_.test(e))return e;-1!=e.indexOf("&")&&(e=e.replace(goog.string.AMP_RE_,"&amp;")),-1!=e.indexOf("<")&&(e=e.replace(goog.string.LT_RE_,"&lt;")),-1!=e.indexOf(">")&&(e=e.replace(goog.string.GT_RE_,"&gt;")),-1!=e.indexOf('"')&&(e=e.replace(goog.string.QUOT_RE_,"&quot;")),-1!=e.indexOf("'")&&(e=e.replace(goog.string.SINGLE_QUOTE_RE_,"&#39;")),-1!=e.indexOf("\0")&&(e=e.replace(goog.string.NULL_RE_,"&#0;")),goog.string.DETECT_DOUBLE_ESCAPING&&-1!=e.indexOf("e")&&(e=e.replace(goog.string.E_RE_,"&#101;"))}return e},goog.string.AMP_RE_=/&/g,goog.string.LT_RE_=/</g,goog.string.GT_RE_=/>/g,goog.string.QUOT_RE_=/"/g,goog.string.SINGLE_QUOTE_RE_=/'/g,goog.string.NULL_RE_=/\x00/g,goog.string.E_RE_=/e/g,goog.string.ALL_RE_=goog.string.DETECT_DOUBLE_ESCAPING?/[\x00&<>"'e]/:/[\x00&<>"']/,goog.string.unescapeEntities=function(e){return goog.string.contains(e,"&")?!goog.string.FORCE_NON_DOM_HTML_UNESCAPING&&"document"in goog.global?goog.string.unescapeEntitiesUsingDom_(e):goog.string.unescapePureXmlEntities_(e):e},goog.string.unescapeEntitiesWithDocument=function(e,t){return goog.string.contains(e,"&")?goog.string.unescapeEntitiesUsingDom_(e,t):e},goog.string.unescapeEntitiesUsingDom_=function(e,t){var n={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"'},r=t?t.createElement("div"):goog.global.document.createElement("div");return e.replace(goog.string.HTML_ENTITY_PATTERN_,function(e,t){var o=n[e];return o||("#"==t.charAt(0)&&(t=Number("0"+t.substr(1)),isNaN(t)||(o=String.fromCharCode(t))),o||(r.innerHTML=e+" ",o=r.firstChild.nodeValue.slice(0,-1)),n[e]=o)})},goog.string.unescapePureXmlEntities_=function(e){return e.replace(/&([^;]+);/g,function(e,t){switch(t){case"amp":return"&";case"lt":return"<";case"gt":return">";case"quot":return'"';default:return"#"!=t.charAt(0)||(t=Number("0"+t.substr(1)),isNaN(t))?e:String.fromCharCode(t)}})},goog.string.HTML_ENTITY_PATTERN_=/&([^;\s<&]+);?/g,goog.string.whitespaceEscape=function(e,t){return goog.string.newLineToBr(e.replace(/  /g," &#160;"),t)},goog.string.preserveSpaces=function(e){return e.replace(/(^|[\n ]) /g,"$1"+goog.string.Unicode.NBSP)},goog.string.stripQuotes=function(e,t){for(var o=t.length,n=0;n<o;n++){var r=1==o?t:t.charAt(n);if(e.charAt(0)==r&&e.charAt(e.length-1)==r)return e.substring(1,e.length-1)}return e},goog.string.truncate=function(e,t,o){return o&&(e=goog.string.unescapeEntities(e)),e.length>t&&(e=e.substring(0,t-3)+"..."),o&&(e=goog.string.htmlEscape(e)),e},goog.string.truncateMiddle=function(e,t,o,n){if(o&&(e=goog.string.unescapeEntities(e)),n&&e.length>t){t<n&&(n=t);var r=e.length-n;e=e.substring(0,t-n)+"..."+e.substring(r)}else e.length>t&&(n=Math.floor(t/2),r=e.length-n,e=e.substring(0,n+t%2)+"..."+e.substring(r));return o&&(e=goog.string.htmlEscape(e)),e},goog.string.specialEscapeChars_={"\0":"\\0","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\x0B",'"':'\\"',"\\":"\\\\","<":"<"},goog.string.jsEscapeCache_={"'":"\\'"},goog.string.quote=function(e){e=String(e);for(var t=['"'],o=0;o<e.length;o++){var n=e.charAt(o),r=n.charCodeAt(0);t[o+1]=goog.string.specialEscapeChars_[n]||(31<r&&r<127?n:goog.string.escapeChar(n))}return t.push('"'),t.join("")},goog.string.escapeString=function(e){for(var t=[],o=0;o<e.length;o++)t[o]=goog.string.escapeChar(e.charAt(o));return t.join("")},goog.string.escapeChar=function(e){if(e in goog.string.jsEscapeCache_)return goog.string.jsEscapeCache_[e];if(e in goog.string.specialEscapeChars_)return goog.string.jsEscapeCache_[e]=goog.string.specialEscapeChars_[e];var t=e.charCodeAt(0);if(31<t&&t<127)var o=e;else t<256?(o="\\x",(t<16||256<t)&&(o+="0")):(o="\\u",t<4096&&(o+="0")),o+=t.toString(16).toUpperCase();return goog.string.jsEscapeCache_[e]=o},goog.string.contains=function(e,t){return-1!=e.indexOf(t)},goog.string.caseInsensitiveContains=function(e,t){return goog.string.contains(e.toLowerCase(),t.toLowerCase())},goog.string.countOf=function(e,t){return e&&t?e.split(t).length-1:0},goog.string.removeAt=function(e,t,o){var n=e;return 0<=t&&t<e.length&&0<o&&(n=e.substr(0,t)+e.substr(t+o,e.length-t-o)),n},goog.string.remove=function(e,t){return e.replace(t,"")},goog.string.removeAll=function(e,t){return t=new RegExp(goog.string.regExpEscape(t),"g"),e.replace(t,"")},goog.string.replaceAll=function(e,t,o){return t=new RegExp(goog.string.regExpEscape(t),"g"),e.replace(t,o.replace(/\$/g,"$$$$"))},goog.string.regExpEscape=function(e){return String(e).replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},goog.string.repeat=String.prototype.repeat?function(e,t){return e.repeat(t)}:function(e,t){return Array(t+1).join(e)},goog.string.padNumber=function(e,t,o){return-1==(o=(e=goog.isDef(o)?e.toFixed(o):String(e)).indexOf("."))&&(o=e.length),goog.string.repeat("0",Math.max(0,t-o))+e},goog.string.makeSafe=function(e){return null==e?"":String(e)},goog.string.buildString=function(e){return Array.prototype.join.call(arguments,"")},goog.string.getRandomString=function(){return Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^goog.now()).toString(36)},goog.string.compareVersions=function(e,t){var o=0;e=goog.string.trim(String(e)).split("."),t=goog.string.trim(String(t)).split(".");for(var n=Math.max(e.length,t.length),r=0;0==o&&r<n;r++){var i=e[r]||"",a=t[r]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==i[0].length&&0==a[0].length)break;o=0==i[1].length?0:parseInt(i[1],10);var s=0==a[1].length?0:parseInt(a[1],10);o=goog.string.compareElements_(o,s)||goog.string.compareElements_(0==i[2].length,0==a[2].length)||goog.string.compareElements_(i[2],a[2]),i=i[3],a=a[3]}while(0==o)}return o},goog.string.compareElements_=function(e,t){return e<t?-1:t<e?1:0},goog.string.hashCode=function(e){for(var t=0,o=0;o<e.length;++o)t=31*t+e.charCodeAt(o)>>>0;return t},goog.string.uniqueStringCounter_=2147483648*Math.random()|0,goog.string.createUniqueString=function(){return"goog_"+goog.string.uniqueStringCounter_++},goog.string.toNumber=function(e){var t=Number(e);return 0==t&&goog.string.isEmptyOrWhitespace(e)?NaN:t},goog.string.isLowerCamelCase=function(e){return/^[a-z]+([A-Z][a-z]*)*$/.test(e)},goog.string.isUpperCamelCase=function(e){return/^([A-Z][a-z]*)+$/.test(e)},goog.string.toCamelCase=function(e){return String(e).replace(/\-([a-z])/g,function(e,t){return t.toUpperCase()})},goog.string.toSelectorCase=function(e){return String(e).replace(/([A-Z])/g,"-$1").toLowerCase()},goog.string.toTitleCase=function(e,t){return t=goog.isString(t)?goog.string.regExpEscape(t):"\\s",e.replace(new RegExp("(^"+(t?"|["+t+"]+":"")+")([a-z])","g"),function(e,t,o){return t+o.toUpperCase()})},goog.string.capitalize=function(e){return String(e.charAt(0)).toUpperCase()+String(e.substr(1)).toLowerCase()},goog.string.parseInt=function(e){return isFinite(e)&&(e=String(e)),goog.isString(e)?/^\s*-?0x/i.test(e)?parseInt(e,16):parseInt(e,10):NaN},goog.string.splitLimit=function(e,t,o){e=e.split(t);for(var n=[];0<o&&e.length;)n.push(e.shift()),o--;return e.length&&n.push(e.join(t)),n},goog.string.lastComponent=function(e,t){if(!t)return e;"string"==typeof t&&(t=[t]);for(var o=-1,n=0;n<t.length;n++)if(""!=t[n]){var r=e.lastIndexOf(t[n]);o<r&&(o=r)}return-1==o?e:e.slice(o+1)},goog.string.editDistance=function(e,t){var o=[],n=[];if(e==t)return 0;if(!e.length||!t.length)return Math.max(e.length,t.length);for(var r=0;r<t.length+1;r++)o[r]=r;for(r=0;r<e.length;r++){n[0]=r+1;for(var i=0;i<t.length;i++)n[i+1]=Math.min(n[i]+1,o[i+1]+1,o[i]+Number(e[r]!=t[i]));for(i=0;i<o.length;i++)o[i]=n[i]}return n[t.length]},goog.asserts={},goog.asserts.ENABLE_ASSERTS=goog.DEBUG,goog.asserts.AssertionError=function(e,t){t.unshift(e),goog.debug.Error.call(this,goog.string.subs.apply(null,t)),t.shift(),this.messagePattern=e},goog.inherits(goog.asserts.AssertionError,goog.debug.Error),goog.asserts.AssertionError.prototype.name="AssertionError",goog.asserts.DEFAULT_ERROR_HANDLER=function(e){throw e},goog.asserts.errorHandler_=goog.asserts.DEFAULT_ERROR_HANDLER,goog.asserts.doAssertFailure_=function(e,t,o,n){var r="Assertion failed";if(o){r+=": "+o;var i=n}else e&&(r+=": "+e,i=t);e=new goog.asserts.AssertionError(""+r,i||[]),goog.asserts.errorHandler_(e)},goog.asserts.setErrorHandler=function(e){goog.asserts.ENABLE_ASSERTS&&(goog.asserts.errorHandler_=e)},goog.asserts.assert=function(e,t,o){return goog.asserts.ENABLE_ASSERTS&&!e&&goog.asserts.doAssertFailure_("",null,t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.fail=function(e,t){goog.asserts.ENABLE_ASSERTS&&goog.asserts.errorHandler_(new goog.asserts.AssertionError("Failure"+(e?": "+e:""),Array.prototype.slice.call(arguments,1)))},goog.asserts.assertNumber=function(e,t,o){return goog.asserts.ENABLE_ASSERTS&&!goog.isNumber(e)&&goog.asserts.doAssertFailure_("Expected number but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertString=function(e,t,o){return goog.asserts.ENABLE_ASSERTS&&!goog.isString(e)&&goog.asserts.doAssertFailure_("Expected string but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertFunction=function(e,t,o){return goog.asserts.ENABLE_ASSERTS&&!goog.isFunction(e)&&goog.asserts.doAssertFailure_("Expected function but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertObject=function(e,t,o){return goog.asserts.ENABLE_ASSERTS&&!goog.isObject(e)&&goog.asserts.doAssertFailure_("Expected object but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertArray=function(e,t,o){return goog.asserts.ENABLE_ASSERTS&&!goog.isArray(e)&&goog.asserts.doAssertFailure_("Expected array but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertBoolean=function(e,t,o){return goog.asserts.ENABLE_ASSERTS&&!goog.isBoolean(e)&&goog.asserts.doAssertFailure_("Expected boolean but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertElement=function(e,t,o){return!goog.asserts.ENABLE_ASSERTS||goog.isObject(e)&&e.nodeType==goog.dom.NodeType.ELEMENT||goog.asserts.doAssertFailure_("Expected Element but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertInstanceof=function(e,t,o,n){return!goog.asserts.ENABLE_ASSERTS||e instanceof t||goog.asserts.doAssertFailure_("Expected instanceof %s but got %s.",[goog.asserts.getType_(t),goog.asserts.getType_(e)],o,Array.prototype.slice.call(arguments,3)),e},goog.asserts.assertObjectPrototypeIsIntact=function(){for(var e in Object.prototype)goog.asserts.fail(e+" should not be enumerable in Object.prototype.")},goog.asserts.getType_=function(e){return e instanceof Function?e.displayName||e.name||"unknown type name":e instanceof Object?e.constructor.displayName||e.constructor.name||Object.prototype.toString.call(e):null===e?"null":typeof e},goog.array={},goog.NATIVE_ARRAY_PROTOTYPES=goog.TRUSTED_SITE,goog.array.ASSUME_NATIVE_FUNCTIONS=!1,goog.array.peek=function(e){return e[e.length-1]},goog.array.last=goog.array.peek,goog.array.indexOf=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.indexOf)?function(e,t,o){return goog.asserts.assert(null!=e.length),Array.prototype.indexOf.call(e,t,o)}:function(e,t,o){if(o=null==o?0:o<0?Math.max(0,e.length+o):o,goog.isString(e))return goog.isString(t)&&1==t.length?e.indexOf(t,o):-1;for(;o<e.length;o++)if(o in e&&e[o]===t)return o;return-1},goog.array.lastIndexOf=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.lastIndexOf)?function(e,t,o){return goog.asserts.assert(null!=e.length),Array.prototype.lastIndexOf.call(e,t,null==o?e.length-1:o)}:function(e,t,o){if((o=null==o?e.length-1:o)<0&&(o=Math.max(0,e.length+o)),goog.isString(e))return goog.isString(t)&&1==t.length?e.lastIndexOf(t,o):-1;for(;0<=o;o--)if(o in e&&e[o]===t)return o;return-1},goog.array.forEach=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.forEach)?function(e,t,o){goog.asserts.assert(null!=e.length),Array.prototype.forEach.call(e,t,o)}:function(e,t,o){for(var n=e.length,r=goog.isString(e)?e.split(""):e,i=0;i<n;i++)i in r&&t.call(o,r[i],i,e)},goog.array.forEachRight=function(e,t,o){var n=e.length,r=goog.isString(e)?e.split(""):e;for(--n;0<=n;--n)n in r&&t.call(o,r[n],n,e)},goog.array.filter=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.filter)?function(e,t,o){return goog.asserts.assert(null!=e.length),Array.prototype.filter.call(e,t,o)}:function(e,t,o){for(var n=e.length,r=[],i=0,a=goog.isString(e)?e.split(""):e,s=0;s<n;s++)if(s in a){var l=a[s];t.call(o,l,s,e)&&(r[i++]=l)}return r},goog.array.map=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.map)?function(e,t,o){return goog.asserts.assert(null!=e.length),Array.prototype.map.call(e,t,o)}:function(e,t,o){for(var n=e.length,r=Array(n),i=goog.isString(e)?e.split(""):e,a=0;a<n;a++)a in i&&(r[a]=t.call(o,i[a],a,e));return r},goog.array.reduce=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.reduce)?function(e,t,o,n){return goog.asserts.assert(null!=e.length),n&&(t=goog.bind(t,n)),Array.prototype.reduce.call(e,t,o)}:function(o,n,e,r){var i=e;return goog.array.forEach(o,function(e,t){i=n.call(r,i,e,t,o)}),i},goog.array.reduceRight=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.reduceRight)?function(e,t,o,n){return goog.asserts.assert(null!=e.length),goog.asserts.assert(null!=t),n&&(t=goog.bind(t,n)),Array.prototype.reduceRight.call(e,t,o)}:function(o,n,e,r){var i=e;return goog.array.forEachRight(o,function(e,t){i=n.call(r,i,e,t,o)}),i},goog.array.some=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.some)?function(e,t,o){return goog.asserts.assert(null!=e.length),Array.prototype.some.call(e,t,o)}:function(e,t,o){for(var n=e.length,r=goog.isString(e)?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(o,r[i],i,e))return!0;return!1},goog.array.every=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.every)?function(e,t,o){return goog.asserts.assert(null!=e.length),Array.prototype.every.call(e,t,o)}:function(e,t,o){for(var n=e.length,r=goog.isString(e)?e.split(""):e,i=0;i<n;i++)if(i in r&&!t.call(o,r[i],i,e))return!1;return!0},goog.array.count=function(e,n,r){var i=0;return goog.array.forEach(e,function(e,t,o){n.call(r,e,t,o)&&++i},r),i},goog.array.find=function(e,t,o){return(t=goog.array.findIndex(e,t,o))<0?null:goog.isString(e)?e.charAt(t):e[t]},goog.array.findIndex=function(e,t,o){for(var n=e.length,r=goog.isString(e)?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(o,r[i],i,e))return i;return-1},goog.array.findRight=function(e,t,o){return(t=goog.array.findIndexRight(e,t,o))<0?null:goog.isString(e)?e.charAt(t):e[t]},goog.array.findIndexRight=function(e,t,o){var n=e.length,r=goog.isString(e)?e.split(""):e;for(--n;0<=n;n--)if(n in r&&t.call(o,r[n],n,e))return n;return-1},goog.array.contains=function(e,t){return 0<=goog.array.indexOf(e,t)},goog.array.isEmpty=function(e){return 0==e.length},goog.array.clear=function(e){if(!goog.isArray(e))for(var t=e.length-1;0<=t;t--)delete e[t];e.length=0},goog.array.insert=function(e,t){goog.array.contains(e,t)||e.push(t)},goog.array.insertAt=function(e,t,o){goog.array.splice(e,o,0,t)},goog.array.insertArrayAt=function(e,t,o){goog.partial(goog.array.splice,e,o,0).apply(null,t)},goog.array.insertBefore=function(e,t,o){var n;2==arguments.length||(n=goog.array.indexOf(e,o))<0?e.push(t):goog.array.insertAt(e,t,n)},goog.array.remove=function(e,t){var o;return(o=0<=(t=goog.array.indexOf(e,t)))&&goog.array.removeAt(e,t),o},goog.array.removeLast=function(e,t){return 0<=(t=goog.array.lastIndexOf(e,t))&&(goog.array.removeAt(e,t),!0)},goog.array.removeAt=function(e,t){return goog.asserts.assert(null!=e.length),1==Array.prototype.splice.call(e,t,1).length},goog.array.removeIf=function(e,t,o){return 0<=(t=goog.array.findIndex(e,t,o))&&(goog.array.removeAt(e,t),!0)},goog.array.removeAllIf=function(o,n,r){var i=0;return goog.array.forEachRight(o,function(e,t){n.call(r,e,t,o)&&goog.array.removeAt(o,t)&&i++}),i},goog.array.concat=function(e){return Array.prototype.concat.apply(Array.prototype,arguments)},goog.array.join=function(e){return Array.prototype.concat.apply(Array.prototype,arguments)},goog.array.toArray=function(e){var t=e.length;if(0<t){for(var o=Array(t),n=0;n<t;n++)o[n]=e[n];return o}return[]},goog.array.clone=goog.array.toArray,goog.array.extend=function(e,t){for(var o=1;o<arguments.length;o++){var n=arguments[o];if(goog.isArrayLike(n)){var r=e.length||0,i=n.length||0;e.length=r+i;for(var a=0;a<i;a++)e[r+a]=n[a]}else e.push(n)}},goog.array.splice=function(e,t,o,n){return goog.asserts.assert(null!=e.length),Array.prototype.splice.apply(e,goog.array.slice(arguments,1))},goog.array.slice=function(e,t,o){return goog.asserts.assert(null!=e.length),arguments.length<=2?Array.prototype.slice.call(e,t):Array.prototype.slice.call(e,t,o)},goog.array.removeDuplicates=function(e,t,o){t=t||e;var n=function(e){return goog.isObject(e)?"o"+goog.getUid(e):(typeof e).charAt(0)+e};o=o||n,n={};for(var r=0,i=0;i<e.length;){var a=e[i++],s=o(a);Object.prototype.hasOwnProperty.call(n,s)||(n[s]=!0,t[r++]=a)}t.length=r},goog.array.binarySearch=function(e,t,o){return goog.array.binarySearch_(e,o||goog.array.defaultCompare,!1,t)},goog.array.binarySelect=function(e,t,o){return goog.array.binarySearch_(e,t,!0,void 0,o)},goog.array.binarySearch_=function(e,t,o,n,r){for(var i,a=0,s=e.length;a<s;){var l=a+s>>1,c=o?t.call(r,e[l],l,e):t(n,e[l]);0<c?a=1+l:(s=l,i=!c)}return i?a:~a},goog.array.sort=function(e,t){e.sort(t||goog.array.defaultCompare)},goog.array.stableSort=function(e,t){for(var o=Array(e.length),n=0;n<e.length;n++)o[n]={index:n,value:e[n]};var r=t||goog.array.defaultCompare;for(goog.array.sort(o,function(e,t){return r(e.value,t.value)||e.index-t.index}),n=0;n<e.length;n++)e[n]=o[n].value},goog.array.sortByKey=function(e,o,t){var n=t||goog.array.defaultCompare;goog.array.sort(e,function(e,t){return n(o(e),o(t))})},goog.array.sortObjectsByKey=function(e,t,o){goog.array.sortByKey(e,function(e){return e[t]},o)},goog.array.isSorted=function(e,t,o){t=t||goog.array.defaultCompare;for(var n=1;n<e.length;n++){var r=t(e[n-1],e[n]);if(0<r||0==r&&o)return!1}return!0},goog.array.equals=function(e,t,o){if(!goog.isArrayLike(e)||!goog.isArrayLike(t)||e.length!=t.length)return!1;var n=e.length;o=o||goog.array.defaultCompareEquality;for(var r=0;r<n;r++)if(!o(e[r],t[r]))return!1;return!0},goog.array.compare3=function(e,t,o){o=o||goog.array.defaultCompare;for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=o(e[r],t[r]);if(0!=i)return i}return goog.array.defaultCompare(e.length,t.length)},goog.array.defaultCompare=function(e,t){return t<e?1:e<t?-1:0},goog.array.inverseDefaultCompare=function(e,t){return-goog.array.defaultCompare(e,t)},goog.array.defaultCompareEquality=function(e,t){return e===t},goog.array.binaryInsert=function(e,t,o){return(o=goog.array.binarySearch(e,t,o))<0&&(goog.array.insertAt(e,t,-(o+1)),!0)},goog.array.binaryRemove=function(e,t,o){return 0<=(t=goog.array.binarySearch(e,t,o))&&goog.array.removeAt(e,t)},goog.array.bucket=function(e,t,o){for(var n={},r=0;r<e.length;r++){var i=e[r],a=t.call(o,i,r,e);goog.isDef(a)&&(n[a]||(n[a]=[])).push(i)}return n},goog.array.toObject=function(o,n,r){var i={};return goog.array.forEach(o,function(e,t){i[n.call(r,e,t,o)]=e}),i},goog.array.range=function(e,t,o){var n=[],r=0,i=e;if(void 0!==t&&(r=e,i=t),(o=o||1)*(i-r)<0)return[];if(0<o)for(e=r;e<i;e+=o)n.push(e);else for(e=r;i<e;e+=o)n.push(e);return n},goog.array.repeat=function(e,t){for(var o=[],n=0;n<t;n++)o[n]=e;return o},goog.array.flatten=function(e){for(var t=[],o=0;o<arguments.length;o++){var n=arguments[o];if(goog.isArray(n))for(var r=0;r<n.length;r+=8192){var i=goog.array.slice(n,r,r+8192);i=goog.array.flatten.apply(null,i);for(var a=0;a<i.length;a++)t.push(i[a])}else t.push(n)}return t},goog.array.rotate=function(e,t){return goog.asserts.assert(null!=e.length),e.length&&(0<(t%=e.length)?Array.prototype.unshift.apply(e,e.splice(-t,t)):t<0&&Array.prototype.push.apply(e,e.splice(0,-t))),e},goog.array.moveItem=function(e,t,o){goog.asserts.assert(0<=t&&t<e.length),goog.asserts.assert(0<=o&&o<e.length),t=Array.prototype.splice.call(e,t,1),Array.prototype.splice.call(e,o,0,t[0])},goog.array.zip=function(e){if(!arguments.length)return[];for(var t=[],o=e.length,n=1;n<arguments.length;n++)arguments[n].length<o&&(o=arguments[n].length);for(n=0;n<o;n++){for(var r=[],i=0;i<arguments.length;i++)r.push(arguments[i][n]);t.push(r)}return t},goog.array.shuffle=function(e,t){t=t||Math.random;for(var o=e.length-1;0<o;o--){var n=Math.floor(t()*(o+1)),r=e[o];e[o]=e[n],e[n]=r}},goog.array.copyByIndex=function(t,e){var o=[];return goog.array.forEach(e,function(e){o.push(t[e])}),o},goog.array.concatMap=function(e,t,o){return goog.array.concat.apply([],goog.array.map(e,t,o))},goog.labs={},goog.labs.userAgent={},goog.labs.userAgent.util={},goog.labs.userAgent.util.getNativeUserAgentString_=function(){var e=goog.labs.userAgent.util.getNavigator_();return e&&(e=e.userAgent)?e:""},goog.labs.userAgent.util.getNavigator_=function(){return goog.global.navigator},goog.labs.userAgent.util.userAgent_=goog.labs.userAgent.util.getNativeUserAgentString_(),goog.labs.userAgent.util.setUserAgent=function(e){goog.labs.userAgent.util.userAgent_=e||goog.labs.userAgent.util.getNativeUserAgentString_()},goog.labs.userAgent.util.getUserAgent=function(){return goog.labs.userAgent.util.userAgent_},goog.labs.userAgent.util.matchUserAgent=function(e){var t=goog.labs.userAgent.util.getUserAgent();return goog.string.contains(t,e)},goog.labs.userAgent.util.matchUserAgentIgnoreCase=function(e){var t=goog.labs.userAgent.util.getUserAgent();return goog.string.caseInsensitiveContains(t,e)},goog.labs.userAgent.util.extractVersionTuples=function(e){for(var t,o=/(\w[\w ]+)\/([^\s]+)\s*(?:\((.*?)\))?/g,n=[];t=o.exec(e);)n.push([t[1],t[2],t[3]||void 0]);return n},goog.object={},goog.object.is=function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t},goog.object.forEach=function(e,t,o){for(var n in e)t.call(o,e[n],n,e)},goog.object.filter=function(e,t,o){var n,r={};for(n in e)t.call(o,e[n],n,e)&&(r[n]=e[n]);return r},goog.object.map=function(e,t,o){var n,r={};for(n in e)r[n]=t.call(o,e[n],n,e);return r},goog.object.some=function(e,t,o){for(var n in e)if(t.call(o,e[n],n,e))return!0;return!1},goog.object.every=function(e,t,o){for(var n in e)if(!t.call(o,e[n],n,e))return!1;return!0},goog.object.getCount=function(e){var t,o=0;for(t in e)o++;return o},goog.object.getAnyKey=function(e){for(var t in e)return t},goog.object.getAnyValue=function(e){for(var t in e)return e[t]},goog.object.contains=function(e,t){return goog.object.containsValue(e,t)},goog.object.getValues=function(e){var t,o=[],n=0;for(t in e)o[n++]=e[t];return o},goog.object.getKeys=function(e){var t,o=[],n=0;for(t in e)o[n++]=t;return o},goog.object.getValueByKeys=function(e,t){var o=goog.isArrayLike(t),n=o?t:arguments;for(o=o?0:1;o<n.length&&(e=e[n[o]],goog.isDef(e));o++);return e},goog.object.containsKey=function(e,t){return null!==e&&t in e},goog.object.containsValue=function(e,t){for(var o in e)if(e[o]==t)return!0;return!1},goog.object.findKey=function(e,t,o){for(var n in e)if(t.call(o,e[n],n,e))return n},goog.object.findValue=function(e,t,o){return(t=goog.object.findKey(e,t,o))&&e[t]},goog.object.isEmpty=function(e){for(var t in e)return!1;return!0},goog.object.clear=function(e){for(var t in e)delete e[t]},goog.object.remove=function(e,t){var o;return(o=t in e)&&delete e[t],o},goog.object.add=function(e,t,o){if(null!==e&&t in e)throw Error('The object already contains the key "'+t+'"');goog.object.set(e,t,o)},goog.object.get=function(e,t,o){return null!==e&&t in e?e[t]:o},goog.object.set=function(e,t,o){e[t]=o},goog.object.setIfUndefined=function(e,t,o){return t in e?e[t]:e[t]=o},goog.object.setWithReturnValueIfNotSet=function(e,t,o){return t in e?e[t]:(o=o(),e[t]=o)},goog.object.equals=function(e,t){for(var o in e)if(!(o in t)||e[o]!==t[o])return!1;for(o in t)if(!(o in e))return!1;return!0},goog.object.clone=function(e){var t,o={};for(t in e)o[t]=e[t];return o},goog.object.unsafeClone=function(e){var t=goog.typeOf(e);if("object"!=t&&"array"!=t)return e;if(goog.isFunction(e.clone))return e.clone();for(var o in t="array"==t?[]:{},e)t[o]=goog.object.unsafeClone(e[o]);return t},goog.object.transpose=function(e){var t,o={};for(t in e)o[e[t]]=t;return o},goog.object.PROTOTYPE_FIELDS_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),goog.object.extend=function(e,t){for(var o,n,r=1;r<arguments.length;r++){for(o in n=arguments[r])e[o]=n[o];for(var i=0;i<goog.object.PROTOTYPE_FIELDS_.length;i++)o=goog.object.PROTOTYPE_FIELDS_[i],Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}},goog.object.create=function(e){var t=arguments.length;if(1==t&&goog.isArray(e))return goog.object.create.apply(null,e);if(t%2)throw Error("Uneven number of arguments");for(var o={},n=0;n<t;n+=2)o[arguments[n]]=arguments[n+1];return o},goog.object.createSet=function(e){var t=arguments.length;if(1==t&&goog.isArray(e))return goog.object.createSet.apply(null,e);for(var o={},n=0;n<t;n++)o[arguments[n]]=!0;return o},goog.object.createImmutableView=function(e){var t=e;return Object.isFrozen&&!Object.isFrozen(e)&&(t=Object.create(e),Object.freeze(t)),t},goog.object.isImmutableView=function(e){return!!Object.isFrozen&&Object.isFrozen(e)},goog.object.getAllPropertyNames=function(e,t){if(!e)return[];if(!Object.getOwnPropertyNames||!Object.getPrototypeOf)return goog.object.getKeys(e);for(var o={};e&&(e!==Object.prototype||t);){for(var n=Object.getOwnPropertyNames(e),r=0;r<n.length;r++)o[n[r]]=!0;e=Object.getPrototypeOf(e)}return goog.object.getKeys(o)},goog.labs.userAgent.browser={},goog.labs.userAgent.browser.matchOpera_=function(){return goog.labs.userAgent.util.matchUserAgent("Opera")},goog.labs.userAgent.browser.matchIE_=function(){return goog.labs.userAgent.util.matchUserAgent("Trident")||goog.labs.userAgent.util.matchUserAgent("MSIE")},goog.labs.userAgent.browser.matchEdge_=function(){return goog.labs.userAgent.util.matchUserAgent("Edge")},goog.labs.userAgent.browser.matchFirefox_=function(){return goog.labs.userAgent.util.matchUserAgent("Firefox")},goog.labs.userAgent.browser.matchSafari_=function(){return goog.labs.userAgent.util.matchUserAgent("Safari")&&!(goog.labs.userAgent.browser.matchChrome_()||goog.labs.userAgent.browser.matchCoast_()||goog.labs.userAgent.browser.matchOpera_()||goog.labs.userAgent.browser.matchEdge_()||goog.labs.userAgent.browser.isSilk()||goog.labs.userAgent.util.matchUserAgent("Android"))},goog.labs.userAgent.browser.matchCoast_=function(){return goog.labs.userAgent.util.matchUserAgent("Coast")},goog.labs.userAgent.browser.matchIosWebview_=function(){return(goog.labs.userAgent.util.matchUserAgent("iPad")||goog.labs.userAgent.util.matchUserAgent("iPhone"))&&!goog.labs.userAgent.browser.matchSafari_()&&!goog.labs.userAgent.browser.matchChrome_()&&!goog.labs.userAgent.browser.matchCoast_()&&goog.labs.userAgent.util.matchUserAgent("AppleWebKit")},goog.labs.userAgent.browser.matchChrome_=function(){return(goog.labs.userAgent.util.matchUserAgent("Chrome")||goog.labs.userAgent.util.matchUserAgent("CriOS"))&&!goog.labs.userAgent.browser.matchEdge_()},goog.labs.userAgent.browser.matchAndroidBrowser_=function(){return goog.labs.userAgent.util.matchUserAgent("Android")&&!(goog.labs.userAgent.browser.isChrome()||goog.labs.userAgent.browser.isFirefox()||goog.labs.userAgent.browser.isOpera()||goog.labs.userAgent.browser.isSilk())},goog.labs.userAgent.browser.isOpera=goog.labs.userAgent.browser.matchOpera_,goog.labs.userAgent.browser.isIE=goog.labs.userAgent.browser.matchIE_,goog.labs.userAgent.browser.isEdge=goog.labs.userAgent.browser.matchEdge_,goog.labs.userAgent.browser.isFirefox=goog.labs.userAgent.browser.matchFirefox_,goog.labs.userAgent.browser.isSafari=goog.labs.userAgent.browser.matchSafari_,goog.labs.userAgent.browser.isCoast=goog.labs.userAgent.browser.matchCoast_,goog.labs.userAgent.browser.isIosWebview=goog.labs.userAgent.browser.matchIosWebview_,goog.labs.userAgent.browser.isChrome=goog.labs.userAgent.browser.matchChrome_,goog.labs.userAgent.browser.isAndroidBrowser=goog.labs.userAgent.browser.matchAndroidBrowser_,goog.labs.userAgent.browser.isSilk=function(){return goog.labs.userAgent.util.matchUserAgent("Silk")},goog.labs.userAgent.browser.getVersion=function(){function e(e){return e=goog.array.find(e,n),o[e]||""}var t=goog.labs.userAgent.util.getUserAgent();if(goog.labs.userAgent.browser.isIE())return goog.labs.userAgent.browser.getIEVersion_(t);t=goog.labs.userAgent.util.extractVersionTuples(t);var o={};goog.array.forEach(t,function(e){o[e[0]]=e[1]});var n=goog.partial(goog.object.containsKey,o);return goog.labs.userAgent.browser.isOpera()?e(["Version","Opera"]):goog.labs.userAgent.browser.isEdge()?e(["Edge"]):goog.labs.userAgent.browser.isChrome()?e(["Chrome","CriOS"]):(t=t[2])&&t[1]||""},goog.labs.userAgent.browser.isVersionOrHigher=function(e){return 0<=goog.string.compareVersions(goog.labs.userAgent.browser.getVersion(),e)},goog.labs.userAgent.browser.getIEVersion_=function(e){var t=/rv: *([\d\.]*)/.exec(e);if(t&&t[1])return t[1];t="";var o=/MSIE +([\d\.]+)/.exec(e);if(o&&o[1])if(e=/Trident\/(\d.\d)/.exec(e),"7.0"==o[1])if(e&&e[1])switch(e[1]){case"4.0":t="8.0";break;case"5.0":t="9.0";break;case"6.0":t="10.0";break;case"7.0":t="11.0"}else t="7.0";else t=o[1];return t},goog.labs.userAgent.engine={},goog.labs.userAgent.engine.isPresto=function(){return goog.labs.userAgent.util.matchUserAgent("Presto")},goog.labs.userAgent.engine.isTrident=function(){return goog.labs.userAgent.util.matchUserAgent("Trident")||goog.labs.userAgent.util.matchUserAgent("MSIE")},goog.labs.userAgent.engine.isEdge=function(){return goog.labs.userAgent.util.matchUserAgent("Edge")},goog.labs.userAgent.engine.isWebKit=function(){return goog.labs.userAgent.util.matchUserAgentIgnoreCase("WebKit")&&!goog.labs.userAgent.engine.isEdge()},goog.labs.userAgent.engine.isGecko=function(){return goog.labs.userAgent.util.matchUserAgent("Gecko")&&!goog.labs.userAgent.engine.isWebKit()&&!goog.labs.userAgent.engine.isTrident()&&!goog.labs.userAgent.engine.isEdge()},goog.labs.userAgent.engine.getVersion=function(){var e=goog.labs.userAgent.util.getUserAgent();if(e){e=goog.labs.userAgent.util.extractVersionTuples(e);var t,o=goog.labs.userAgent.engine.getEngineTuple_(e);if(o)return"Gecko"==o[0]?goog.labs.userAgent.engine.getVersionForKey_(e,"Firefox"):o[1];if((e=e[0])&&(t=e[2])&&(t=/Trident\/([^\s;]+)/.exec(t)))return t[1]}return""},goog.labs.userAgent.engine.getEngineTuple_=function(e){if(!goog.labs.userAgent.engine.isEdge())return e[1];for(var t=0;t<e.length;t++){var o=e[t];if("Edge"==o[0])return o}},goog.labs.userAgent.engine.isVersionOrHigher=function(e){return 0<=goog.string.compareVersions(goog.labs.userAgent.engine.getVersion(),e)},goog.labs.userAgent.engine.getVersionForKey_=function(e,t){return(e=goog.array.find(e,function(e){return t==e[0]}))&&e[1]||""},goog.labs.userAgent.platform={},goog.labs.userAgent.platform.isAndroid=function(){return goog.labs.userAgent.util.matchUserAgent("Android")},goog.labs.userAgent.platform.isIpod=function(){return goog.labs.userAgent.util.matchUserAgent("iPod")},goog.labs.userAgent.platform.isIphone=function(){return goog.labs.userAgent.util.matchUserAgent("iPhone")&&!goog.labs.userAgent.util.matchUserAgent("iPod")&&!goog.labs.userAgent.util.matchUserAgent("iPad")},goog.labs.userAgent.platform.isIpad=function(){return goog.labs.userAgent.util.matchUserAgent("iPad")},goog.labs.userAgent.platform.isIos=function(){return goog.labs.userAgent.platform.isIphone()||goog.labs.userAgent.platform.isIpad()||goog.labs.userAgent.platform.isIpod()},goog.labs.userAgent.platform.isMacintosh=function(){return goog.labs.userAgent.util.matchUserAgent("Macintosh")},goog.labs.userAgent.platform.isLinux=function(){return goog.labs.userAgent.util.matchUserAgent("Linux")},goog.labs.userAgent.platform.isWindows=function(){return goog.labs.userAgent.util.matchUserAgent("Windows")},goog.labs.userAgent.platform.isChromeOS=function(){return goog.labs.userAgent.util.matchUserAgent("CrOS")},goog.labs.userAgent.platform.getVersion=function(){var e=goog.labs.userAgent.util.getUserAgent(),t="";return goog.labs.userAgent.platform.isWindows()?t=(e=(t=/Windows (?:NT|Phone) ([0-9.]+)/).exec(e))?e[1]:"0.0":goog.labs.userAgent.platform.isIos()?t=(e=(t=/(?:iPhone|iPod|iPad|CPU)\s+OS\s+(\S+)/).exec(e))&&e[1].replace(/_/g,"."):goog.labs.userAgent.platform.isMacintosh()?t=(e=(t=/Mac OS X ([0-9_.]+)/).exec(e))?e[1].replace(/_/g,"."):"10":goog.labs.userAgent.platform.isAndroid()?t=(e=(t=/Android\s+([^\);]+)(\)|;)/).exec(e))&&e[1]:goog.labs.userAgent.platform.isChromeOS()&&(t=(e=(t=/(?:CrOS\s+(?:i686|x86_64)\s+([0-9.]+))/).exec(e))&&e[1]),t||""},goog.labs.userAgent.platform.isVersionOrHigher=function(e){return 0<=goog.string.compareVersions(goog.labs.userAgent.platform.getVersion(),e)},goog.reflect={},goog.reflect.object=function(e,t){return t},goog.reflect.objectProperty=function(e,t){return e},goog.reflect.sinkValue=function(e){return goog.reflect.sinkValue[" "](e),e},goog.reflect.sinkValue[" "]=goog.nullFunction,goog.reflect.canAccessProperty=function(e,t){try{return goog.reflect.sinkValue(e[t]),!0}catch(e){}return!1},goog.reflect.cache=function(e,t,o,n){return n=n?n(t):t,Object.prototype.hasOwnProperty.call(e,n)?e[n]:e[n]=o(t)},goog.userAgent={},goog.userAgent.ASSUME_IE=!1,goog.userAgent.ASSUME_EDGE=!1,goog.userAgent.ASSUME_GECKO=!1,goog.userAgent.ASSUME_WEBKIT=!1,goog.userAgent.ASSUME_MOBILE_WEBKIT=!1,goog.userAgent.ASSUME_OPERA=!1,goog.userAgent.ASSUME_ANY_VERSION=!1,goog.userAgent.BROWSER_KNOWN_=goog.userAgent.ASSUME_IE||goog.userAgent.ASSUME_EDGE||goog.userAgent.ASSUME_GECKO||goog.userAgent.ASSUME_MOBILE_WEBKIT||goog.userAgent.ASSUME_WEBKIT||goog.userAgent.ASSUME_OPERA,goog.userAgent.getUserAgentString=function(){return goog.labs.userAgent.util.getUserAgent()},goog.userAgent.getNavigator=function(){return goog.global.navigator||null},goog.userAgent.OPERA=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_OPERA:goog.labs.userAgent.browser.isOpera(),goog.userAgent.IE=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_IE:goog.labs.userAgent.browser.isIE(),goog.userAgent.EDGE=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_EDGE:goog.labs.userAgent.engine.isEdge(),goog.userAgent.EDGE_OR_IE=goog.userAgent.EDGE||goog.userAgent.IE,goog.userAgent.GECKO=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_GECKO:goog.labs.userAgent.engine.isGecko(),goog.userAgent.WEBKIT=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_WEBKIT||goog.userAgent.ASSUME_MOBILE_WEBKIT:goog.labs.userAgent.engine.isWebKit(),goog.userAgent.isMobile_=function(){return goog.userAgent.WEBKIT&&goog.labs.userAgent.util.matchUserAgent("Mobile")},goog.userAgent.MOBILE=goog.userAgent.ASSUME_MOBILE_WEBKIT||goog.userAgent.isMobile_(),goog.userAgent.SAFARI=goog.userAgent.WEBKIT,goog.userAgent.determinePlatform_=function(){var e=goog.userAgent.getNavigator();return e&&e.platform||""},goog.userAgent.PLATFORM=goog.userAgent.determinePlatform_(),goog.userAgent.ASSUME_MAC=!1,goog.userAgent.ASSUME_WINDOWS=!1,goog.userAgent.ASSUME_LINUX=!1,goog.userAgent.ASSUME_X11=!1,goog.userAgent.ASSUME_ANDROID=!1,goog.userAgent.ASSUME_IPHONE=!1,goog.userAgent.ASSUME_IPAD=!1,goog.userAgent.ASSUME_IPOD=!1,goog.userAgent.PLATFORM_KNOWN_=goog.userAgent.ASSUME_MAC||goog.userAgent.ASSUME_WINDOWS||goog.userAgent.ASSUME_LINUX||goog.userAgent.ASSUME_X11||goog.userAgent.ASSUME_ANDROID||goog.userAgent.ASSUME_IPHONE||goog.userAgent.ASSUME_IPAD||goog.userAgent.ASSUME_IPOD,goog.userAgent.MAC=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_MAC:goog.labs.userAgent.platform.isMacintosh(),goog.userAgent.WINDOWS=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_WINDOWS:goog.labs.userAgent.platform.isWindows(),goog.userAgent.isLegacyLinux_=function(){return goog.labs.userAgent.platform.isLinux()||goog.labs.userAgent.platform.isChromeOS()},goog.userAgent.LINUX=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_LINUX:goog.userAgent.isLegacyLinux_(),goog.userAgent.isX11_=function(){var e=goog.userAgent.getNavigator();return!!e&&goog.string.contains(e.appVersion||"","X11")},goog.userAgent.X11=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_X11:goog.userAgent.isX11_(),goog.userAgent.ANDROID=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_ANDROID:goog.labs.userAgent.platform.isAndroid(),goog.userAgent.IPHONE=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_IPHONE:goog.labs.userAgent.platform.isIphone(),goog.userAgent.IPAD=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_IPAD:goog.labs.userAgent.platform.isIpad(),goog.userAgent.IPOD=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_IPOD:goog.labs.userAgent.platform.isIpod(),goog.userAgent.IOS=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_IPHONE||goog.userAgent.ASSUME_IPAD||goog.userAgent.ASSUME_IPOD:goog.labs.userAgent.platform.isIos(),goog.userAgent.determineVersion_=function(){var e="",t=goog.userAgent.getVersionRegexResult_();return t&&(e=t?t[1]:""),goog.userAgent.IE&&null!=(t=goog.userAgent.getDocumentMode_())&&t>parseFloat(e)?String(t):e},goog.userAgent.getVersionRegexResult_=function(){var e=goog.userAgent.getUserAgentString();return goog.userAgent.GECKO?/rv:([^\);]+)(\)|;)/.exec(e):goog.userAgent.EDGE?/Edge\/([\d\.]+)/.exec(e):goog.userAgent.IE?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):goog.userAgent.WEBKIT?/WebKit\/(\S+)/.exec(e):goog.userAgent.OPERA?/(?:Version)[ \/]?(\S+)/.exec(e):void 0},goog.userAgent.getDocumentMode_=function(){var e=goog.global.document;return e?e.documentMode:void 0},goog.userAgent.VERSION=goog.userAgent.determineVersion_(),goog.userAgent.compare=function(e,t){return goog.string.compareVersions(e,t)},goog.userAgent.isVersionOrHigherCache_={},goog.userAgent.isVersionOrHigher=function(e){return goog.userAgent.ASSUME_ANY_VERSION||goog.reflect.cache(goog.userAgent.isVersionOrHigherCache_,e,function(){return 0<=goog.string.compareVersions(goog.userAgent.VERSION,e)})},goog.userAgent.isVersion=goog.userAgent.isVersionOrHigher,goog.userAgent.isDocumentModeOrHigher=function(e){return Number(goog.userAgent.DOCUMENT_MODE)>=e},goog.userAgent.isDocumentMode=goog.userAgent.isDocumentModeOrHigher,goog.userAgent.DOCUMENT_MODE=function(){var e=goog.global.document,t=goog.userAgent.getDocumentMode_();if(e&&goog.userAgent.IE)return t||("CSS1Compat"==e.compatMode?parseInt(goog.userAgent.VERSION,10):5)}();var INLINE_ROW=-1;Blockly.BlockSvg=function(e){var t={tabindex:0,"block-id":(this.block_=e).id};e.htmlId&&(t.id=e.htmlId),this.svgGroup_=Blockly.createSvgElement("g",t,null),this.initChildren(),this.forcedInputWidths={}},Blockly.BlockSvg.prototype.initChildren=function(){if(Blockly.typeHints){this.svgTypeHints_=Blockly.createSvgElement("g",{class:"blocklyTypeHint"},this.svgGroup_);for(var e=0;e<this.block_.inputList.length;e++)Blockly.createSvgElement("path",{filter:"url(#blocklyTypeHintFilter)"},this.svgTypeHints_)}this.svgPathDark_=Blockly.createSvgElement("path",{class:"blocklyPathDark",transform:"translate(1, 1)","fill-rule":"evenodd"},this.svgGroup_),this.svgPath_=Blockly.createSvgElement("path",{class:"blocklyPath","fill-rule":"evenodd"},this.svgGroup_),this.block_.getFillPattern()&&(this.svgPathFill_=Blockly.createSvgElement("path",{class:"blocklyPath"},this.svgGroup_)),this.svgPathLight_=Blockly.createSvgElement("path",{class:"blocklyPathLight"},this.svgGroup_),this.svgPath_.tooltip=this.block_,this.block_.blockSpace.blockSpaceEditor.disableTooltip||Blockly.Tooltip.bindMouseEvents(this.svgPath_),this.updateMovable()},Blockly.BlockSvg.DISABLED_COLOUR="#808080",Blockly.BlockSvg.prototype.init=function(){var e=this.block_;this.updateColour();for(var t,o=0;t=e.inputList[o];o++)t.init();e.mutator&&e.mutator.createIcon()},Blockly.BlockSvg.prototype.updateMovable=function(){this.block_.isMovable()?(Blockly.addClass_(this.svgGroup_,"blocklyDraggable"),Blockly.removeClass_(this.svgGroup_,"blocklyUndraggable")):(Blockly.removeClass_(this.svgGroup_,"blocklyDraggable"),Blockly.addClass_(this.svgGroup_,"blocklyUndraggable")),this.updateColour()},Blockly.BlockSvg.prototype.grayOut=function(e){e?(Blockly.addClass_(this.svgGroup_,"blocklyUndeletable"),Blockly.removeClass_(this.svgGroup_,"blocklyDeletable")):(Blockly.addClass_(this.svgGroup_,"blocklyDeletable"),Blockly.removeClass_(this.svgGroup_,"blocklyUndeletable")),this.updateColour()},Blockly.BlockSvg.prototype.getRootElement=function(){return this.svgGroup_};var BS=Blockly.BlockSvg;function brokenControlPointWorkaround(){return Blockly.BROKEN_CONTROL_POINTS?"c 0,5 0,-5 0,0":""}function oppositeIfRTL(e){return Blockly.RTL?-e:e}function thickenInlineRows(e){for(var t,o=0;t=e[o];o++)if(t.thicker=!1,t.type===INLINE_ROW)for(var n,r=0;n=t[r];r++)if(n.type===Blockly.INPUT_VALUE||n.type===Blockly.FUNCTIONAL_INPUT){t.height+=2*BS.INLINE_PADDING_Y,t.thicker=!0;break}}function inputRenderSize(e){var t=BS.MIN_BLOCK_Y,o=BS.TAB_WIDTH+BS.SEP_SPACE_X;if(e.type===Blockly.FUNCTIONAL_INPUT&&(o=BS.NOTCH_WIDTH+BS.SEP_SPACE_X),e.connection&&e.connection.targetConnection){var n=e.connection.targetBlock().getHeightWidth();t=Math.max(t,n.height),o=Math.max(o,n.width),t+=e.getStatementTrailingSpace()}return{width:o,height:t}}function inputTitleRenderSize(e,t){t=oppositeIfRTL(t);for(var o,n=0,r=0;o=e.titleRow[r];r++)(o=o.getSize()).width&&(t+=o.width+(0<r?BS.SEP_SPACE_X:0)),n=Math.max(n,o.height);return{width:t,height:n}}BS.SEP_SPACE_X=10,BS.SEP_SPACE_Y=10,BS.INLINE_PADDING_Y=5,BS.MIN_BLOCK_Y=25,BS.TAB_HEIGHT=20,BS.TAB_WIDTH=8,BS.NOTCH_WIDTH=30,BS.CORNER_RADIUS=8,BS.TITLE_HEIGHT=18,BS.DISTANCE_45_INSIDE=(1-Math.SQRT1_2)*(BS.CORNER_RADIUS-1)+1,BS.DISTANCE_45_OUTSIDE=(1-Math.SQRT1_2)*(BS.CORNER_RADIUS+1)-1,BS.NOTCH_PATH_WIDTH=15,BS.JAGGED_TEETH="l 8,0 0,4 8,4 -16,8 8,4",BS.JAGGED_TEETH_HEIGHT=20,BS.TAB_PATH_DOWN="v 5 c 0,10 -"+BS.TAB_WIDTH+",-8 -"+BS.TAB_WIDTH+",7.5 s "+BS.TAB_WIDTH+",-2.5 "+BS.TAB_WIDTH+",7.5",BS.TAB_PATH_DOWN_HIGHLIGHT="m -4.2,"+(BS.TAB_HEIGHT-.4)+" l "+.42*BS.TAB_WIDTH+",-1.8",BS.TAB_PATH_DOWN_HIGHLIGHT_RTL="v 6.5 m -"+.98*BS.TAB_WIDTH+",2.5 q -"+.05*BS.TAB_WIDTH+",10 "+.27*BS.TAB_WIDTH+",10 m "+.71*BS.TAB_WIDTH+",-2.5 v 3.5",BS.TAB_PATH_UP="V "+BS.TAB_HEIGHT+"c 0,-10 -"+BS.TAB_WIDTH+",8 -"+BS.TAB_WIDTH+",-7.5 s "+BS.TAB_WIDTH+",2.5 "+BS.TAB_WIDTH+",-7.5",BS.TAB_PATH_UP_HIGHLIGHT="V "+(BS.TAB_HEIGHT-1)+" m "+-.92*BS.TAB_WIDTH+",-1 q "+-.19*BS.TAB_WIDTH+",-5.5 0,-11 m "+.92*BS.TAB_WIDTH+",1 V 1 H 2",BS.TAB_PATH_UP_HIGHLIGHT_RTL="M "+-.3*BS.TAB_WIDTH+",8.9 l "+-.45*BS.TAB_WIDTH+",-2.1",BS.ANGLE_TAB_PATH_DOWN="v "+BS.TAB_HEIGHT/3+" l "+-1*BS.TAB_WIDTH+" "+BS.TAB_HEIGHT/3+" l "+BS.TAB_WIDTH+" "+BS.TAB_HEIGHT/3,BS.ANGLE_TAB_PATH_DOWN_HIGHLIGHT_RTL="v 5.5 m -"+(BS.TAB_WIDTH-1)+","+(BS.TAB_HEIGHT/3+1)+" l "+(BS.TAB_WIDTH-1)+","+BS.TAB_HEIGHT/3,BS.ANGLE_TAB_PATH_UP="V"+BS.TAB_HEIGHT+" L"+-1*BS.TAB_WIDTH+", "+.66*BS.TAB_HEIGHT+" L0, "+.33*BS.TAB_HEIGHT,BS.ANGLE_TAB_PATH_UP_HIGHLIGHT="V "+(BS.TAB_HEIGHT+2)+" M "+(-1*BS.TAB_WIDTH+1)+", "+.66*BS.TAB_HEIGHT+" L 1, "+(.33*BS.TAB_HEIGHT+1)+" V 1",BS.SQUARE_TAB_PATH_DOWN="v 7 h "+-1*BS.TAB_WIDTH+" v 11 h "+BS.TAB_WIDTH+" v 2",BS.SQUARE_TAB_PATH_DOWN_HIGHLIGHT="m 0 18.5 h "+-.85*BS.TAB_WIDTH,BS.SQUARE_TAB_PATH_DOWN_HIGHLIGHT_RTL="v 6 m "+-1*BS.TAB_WIDTH+" 1 v 11 h "+BS.TAB_WIDTH+" v 2",BS.SQUARE_TAB_PATH_UP="V 17 h "+-1*BS.TAB_WIDTH+" v -10 h "+BS.TAB_WIDTH,BS.SQUARE_TAB_PATH_UP_HIGHLIGHT="V 18 m "+-1*BS.TAB_WIDTH+" -1.5 v -9 h "+BS.TAB_WIDTH+" v -6.5",BS.SQUARE_TAB_PATH_UP_HIGHLIGHT_RTL="M -1.5 7.5 h "+-.8*BS.TAB_WIDTH,BS.ROUNDED_TAB_PATH_DOWN="v 5.5 c "+-.5*BS.TAB_WIDTH+" 0, "+-1*BS.TAB_WIDTH+" 2, "+-1*BS.TAB_WIDTH+" 7 c 0 5, "+.5*BS.TAB_WIDTH+" 7, "+BS.TAB_WIDTH+" 7 v 0.5",BS.ROUNDED_TAB_PATH_DOWN_HIGHLIGHT="m 0 20 c -2 0, -4 -0.5, -4 -0.5",BS.ROUNDED_TAB_PATH_DOWN_HIGHLIGHT_RTL="v 4.5 m -6 2.5 c -2 0, -2 5, -2 5.5 c 0 5, "+.5*BS.TAB_WIDTH+" 7, "+BS.TAB_WIDTH+" 7 v 1",BS.ROUNDED_TAB_PATH_UP="V 19 c "+-.5*BS.TAB_WIDTH+" 0, "+-1*BS.TAB_WIDTH+" 0, "+-1*BS.TAB_WIDTH+" -6 c 0 -6, "+.5*BS.TAB_WIDTH+" -6, "+BS.TAB_WIDTH+" -6 ",BS.ROUNDED_TAB_PATH_UP_HIGHLIGHT="V 19.5 m -6 -2 c -1 -1, -2 -2, -2 -4.5 c 0 -6, "+.5*BS.TAB_WIDTH+" -6, "+BS.TAB_WIDTH+" -6 v -6",BS.ROUNDED_TAB_PATH_UP_HIGHLIGHT_RTL="M -0.5 7.5 c -2 0, -4 0.5, -4 0.5",BS.TAB_PATHS_BY_SHAPE={standard:{TAB_PATH_DOWN:BS.TAB_PATH_DOWN,TAB_PATH_DOWN_HIGHLIGHT:BS.TAB_PATH_DOWN_HIGHLIGHT,TAB_PATH_DOWN_HIGHLIGHT_RTL:BS.TAB_PATH_DOWN_HIGHLIGHT_RTL,TAB_PATH_UP:BS.TAB_PATH_UP,TAB_PATH_UP_HIGHLIGHT:BS.TAB_PATH_UP_HIGHLIGHT,TAB_PATH_UP_HIGHLIGHT_RTL:BS.TAB_PATH_UP_HIGHLIGHT_RTL},angle:{TAB_PATH_DOWN:BS.ANGLE_TAB_PATH_DOWN,TAB_PATH_DOWN_HIGHLIGHT:"",TAB_PATH_DOWN_HIGHLIGHT_RTL:BS.ANGLE_TAB_PATH_DOWN_HIGHLIGHT_RTL,TAB_PATH_UP:BS.ANGLE_TAB_PATH_UP,TAB_PATH_UP_HIGHLIGHT:BS.ANGLE_TAB_PATH_UP_HIGHLIGHT,TAB_PATH_UP_HIGHLIGHT_RTL:""},square:{TAB_PATH_DOWN:BS.SQUARE_TAB_PATH_DOWN,TAB_PATH_DOWN_HIGHLIGHT:BS.SQUARE_TAB_PATH_DOWN_HIGHLIGHT,TAB_PATH_DOWN_HIGHLIGHT_RTL:BS.SQUARE_TAB_PATH_DOWN_HIGHLIGHT_RTL,TAB_PATH_UP:BS.SQUARE_TAB_PATH_UP,TAB_PATH_UP_HIGHLIGHT:BS.SQUARE_TAB_PATH_UP_HIGHLIGHT,TAB_PATH_UP_HIGHLIGHT_RTL:BS.SQUARE_TAB_PATH_UP_HIGHLIGHT_RTL},rounded:{TAB_PATH_DOWN:BS.ROUNDED_TAB_PATH_DOWN,TAB_PATH_DOWN_HIGHLIGHT:BS.ROUNDED_TAB_PATH_DOWN_HIGHLIGHT,TAB_PATH_DOWN_HIGHLIGHT_RTL:BS.ROUNDED_TAB_PATH_DOWN_HIGHLIGHT_RTL,TAB_PATH_UP:BS.ROUNDED_TAB_PATH_UP,TAB_PATH_UP_HIGHLIGHT:BS.ROUNDED_TAB_PATH_UP_HIGHLIGHT,TAB_PATH_UP_HIGHLIGHT_RTL:BS.ROUNDED_TAB_PATH_UP_HIGHLIGHT_RTL}},BS.TOP_LEFT_CORNER_START="m 0,"+BS.CORNER_RADIUS,BS.TOP_LEFT_CORNER_START_HIGHLIGHT_RTL="m "+BS.DISTANCE_45_INSIDE+","+BS.DISTANCE_45_INSIDE,BS.TOP_LEFT_CORNER_START_HIGHLIGHT_LTR="m 1,"+(BS.CORNER_RADIUS-1),BS.TOP_LEFT_CORNER="A "+BS.CORNER_RADIUS+","+BS.CORNER_RADIUS+" 0 0,1 "+BS.CORNER_RADIUS+",0",BS.TOP_LEFT_CORNER_HIGHLIGHT="A "+(BS.CORNER_RADIUS-1)+","+(BS.CORNER_RADIUS-1)+" 0 0,1 "+BS.CORNER_RADIUS+",1",BS.INNER_BOTTOM_LEFT_CORNER="a "+BS.CORNER_RADIUS+","+BS.CORNER_RADIUS+" 0 0,0 "+BS.CORNER_RADIUS+","+BS.CORNER_RADIUS,BS.INNER_TOP_LEFT_CORNER_HIGHLIGHT_RTL="a "+(BS.CORNER_RADIUS+1)+","+(BS.CORNER_RADIUS+1)+" 0 0,0 "+(-BS.DISTANCE_45_OUTSIDE-1)+","+(BS.CORNER_RADIUS-BS.DISTANCE_45_OUTSIDE),BS.INNER_BOTTOM_LEFT_CORNER_HIGHLIGHT_RTL="a "+(BS.CORNER_RADIUS+1)+","+(BS.CORNER_RADIUS+1)+" 0 0,0 "+(BS.CORNER_RADIUS+1)+","+(BS.CORNER_RADIUS+1),BS.INNER_BOTTOM_LEFT_CORNER_HIGHLIGHT_LTR="a "+(BS.CORNER_RADIUS+1)+","+(BS.CORNER_RADIUS+1)+" 0 0,0 "+(BS.CORNER_RADIUS-BS.DISTANCE_45_OUTSIDE)+","+(BS.DISTANCE_45_OUTSIDE+1),Blockly.BlockSvg.prototype.getPadding=function(){return this.unusedSvg_?this.unusedSvg_.getPadding():{top:0,right:0,bottom:0,left:0}},Blockly.BlockSvg.prototype.dispose=function(){goog.dom.removeNode(this.svgGroup_),this.svgPathDark_=this.svgPathLight_=this.svgTypeHints_=this.svgPathFill_=this.svgPath_=this.svgGroup_=null,this.removeUnusedFrame(),this.block_=null},Blockly.BlockSvg.prototype.disposeUiEffect=function(){Blockly.playAudio("delete");var e=this.block_.blockSpace.blockSpaceEditor.svg_,t=Blockly.getSvgXY_(this.svgGroup_,e),o=this.svgGroup_.cloneNode(!0);o.translateX_=t.x,o.translateY_=t.y,o.setAttribute("transform","translate("+o.translateX_+","+o.translateY_+")"),e.appendChild(o),0<=navigator.userAgent.indexOf("MSIE")||0<=navigator.userAgent.indexOf("Trident")?(o.style.display="inline",o.bBox_={x:o.getBBox().x,y:o.getBBox().y,width:o.scrollWidth,height:o.scrollHeight}):o.bBox_=o.getBBox(),o.startDate_=new Date,Blockly.BlockSvg.disposeUiStep_(o)},Blockly.BlockSvg.disposeUiStep_=function(e){var t=(new Date-e.startDate_)/150;if(1<t)goog.dom.removeNode(e);else{var o=e.translateX_+oppositeIfRTL(e.bBox_.width/2*t);e.setAttribute("transform","translate("+o+", "+(e.translateY_+e.bBox_.height*t)+") scale("+(1-t)+")"),window.setTimeout(function(){Blockly.BlockSvg.disposeUiStep_(e)},10)}},Blockly.BlockSvg.prototype.connectionUiEffect=function(){Blockly.playAudio("click");var e=Blockly.getSvgXY_(this.svgGroup_,this.block_.blockSpace.blockSpaceEditor.svg_);this.block_.outputConnection?(e.x+=oppositeIfRTL(-3),e.y+=13):this.block_.previousConnection&&(e.x+=oppositeIfRTL(23),e.y+=3),(e=Blockly.createSvgElement("circle",{cx:e.x,cy:e.y,r:0,fill:"none",stroke:"#888","stroke-width":10},this.block_.blockSpace.blockSpaceEditor.svg_)).startDate_=new Date,Blockly.BlockSvg.connectionUiStep_(e)},Blockly.BlockSvg.connectionUiStep_=function(e){var t=(new Date-e.startDate_)/150;1<t?goog.dom.removeNode(e):(e.setAttribute("r",25*t),e.style.opacity=1-t,window.setTimeout(function(){Blockly.BlockSvg.connectionUiStep_(e)},10))},Blockly.BlockSvg.prototype.updateColour=function(){if(!this.block_.disabled){var e=this.block_.shouldBeGrayedOut()?BS.DISABLED_COLOUR:this.block_.getHexColour();this.updateToColour_(e)}},Blockly.BlockSvg.prototype.updateToColour_=function(e){var t=goog.color.hexToRgb(e),o=goog.color.lighten(t,.3);t=goog.color.darken(t,.4),this.svgPathLight_.setAttribute("stroke",goog.color.rgbArrayToHex(o)),this.svgPathDark_.setAttribute("fill",goog.color.rgbArrayToHex(t)),this.svgPath_.setAttribute("fill",e),(e=this.block_.getFillPattern())&&this.svgPathFill_.setAttribute("fill","url(#"+e+")")},Blockly.BlockSvg.prototype.updateDisabled=function(){this.block_.disabled||this.block_.getInheritedDisabled()?(Blockly.addClass_(this.svgGroup_,"blocklyDisabled"),this.svgPath_.setAttribute("fill","url(#blocklyDisabledPattern)")):(Blockly.removeClass_(this.svgGroup_,"blocklyDisabled"),this.updateColour());for(var e,t=this.block_.getChildren(),o=0;e=t[o];o++)e.svg_.updateDisabled()},Blockly.BlockSvg.prototype.updateLimit=function(e){this.limitGroup_||(this.limitGroup_=Blockly.createSvgElement("g",{class:"blocklyLimit",y:-3},this.svgGroup_),this.limitRect_=Blockly.createSvgElement("rect",{height:18,width:18,x:-9,y:-9,rx:9,ry:9},this.limitGroup_),this.limitText_=Blockly.createSvgElement("text",{class:"blocklyText","dominant-baseline":"central","text-anchor":"middle"},this.limitGroup_)),e<0?(this.limitText_.textContent="!",Blockly.addClass_(this.limitGroup_,"overLimit")):(this.limitText_.textContent=e,Blockly.removeClass_(this.limitGroup_,"overLimit"));try{var t=this.limitText_.getBBox?Math.ceil(this.limitText_.getBBox().width):9}catch(e){t=9}e=Math.max(t+9,18),this.limitRect_.setAttribute("width",e),this.limitText_.setAttribute("x",Math.round(.5*e)-9),(Blockly.isMsie()||Blockly.isTrident())&&this.limitText_.setAttribute("y",4.5)},Blockly.BlockSvg.prototype.addSelect=function(e){Blockly.addClass_(this.svgGroup_,"blocklySelected"),e&&this.svgGroup_.parentNode.appendChild(this.svgGroup_)},Blockly.BlockSvg.prototype.addSelectNoMove=function(){Blockly.elementHasClass_(this.svgGroup_,"blocklyDraggable")&&Blockly.addClass_(this.svgGroup_,"blocklySelected")},Blockly.BlockSvg.prototype.removeSelect=function(){Blockly.removeClass_(this.svgGroup_,"blocklySelected")},Blockly.BlockSvg.prototype.addDragging=function(){Blockly.addClass_(this.svgGroup_,"blocklyDragging")},Blockly.BlockSvg.prototype.removeDragging=function(){Blockly.removeClass_(this.svgGroup_,"blocklyDragging")},Blockly.BlockSvg.prototype.addSpotlight=function(){Blockly.addClass_(this.svgGroup_,"blocklySpotlight")},Blockly.BlockSvg.prototype.removeSpotlight=function(){Blockly.removeClass_(this.svgGroup_,"blocklySpotlight")},Blockly.BlockSvg.prototype.render=function(e){this.block_.rendered=!0;for(var t=oppositeIfRTL(BS.SEP_SPACE_X),o=this.block_.getIcons(),n=0;n<o.length;n++)t=o[n].renderIcon(t);t-=oppositeIfRTL(BS.SEP_SPACE_X),o=this.renderCompute_(t),this.renderDraw_(t,o),e||((e=this.block_.getParent())?e.render():Blockly.fireUiEvent(window,"resize")),this.removeUnusedFrame()},Blockly.BlockSvg.prototype.renderTitles_=function(e,t,o){for(var n,r=t,i=0;n=e[i];i++){var a=n.getSize(),s=t;Blockly.RTL&&(s=-(t+a.width)),n.getRootElement().setAttribute("transform","translate("+s+", "+(o+n.getBufferY())+")"),a.width&&(t+=a.width+BS.SEP_SPACE_X)}return t-r},Blockly.BlockSvg.prototype.renderCompute_=function(e){var t=this.block_.inputList,o=[];o.rightEdge=e+2*BS.SEP_SPACE_X,(this.block_.previousConnection||this.block_.nextConnection)&&(o.rightEdge=Math.max(o.rightEdge,BS.NOTCH_WIDTH+BS.SEP_SPACE_X));for(var n,r,i=0,a=0,s=!1,l=!1,c=!1,u=0;r=t[u];u++)if(r.isVisible()){0!==u&&r.isInline()||((n=[]).type=r.type,n.height=0,o.push(n)),(0<n.length||r.isInline())&&(n.type=INLINE_ROW),0===n.length&&r.type===Blockly.FUNCTIONAL_INPUT&&(n.type=INLINE_ROW),n.push(r);var d=inputRenderSize(r);r.renderHeight=d.height,r.renderWidth=d.width,n.height=Math.max(n.height,r.renderHeight),d=inputTitleRenderSize(r,0===u?e:0),r.titleWidth=d.width,n.height=Math.max(n.height,d.height),n.type!=INLINE_ROW&&(n.type==Blockly.NEXT_STATEMENT?(l=!0,a=Math.max(a,r.titleWidth)):(n.type===Blockly.INPUT_VALUE||n.type===Blockly.FUNCTIONAL_INPUT?s=!0:n.type===Blockly.DUMMY_INPUT&&(c=!0),i=Math.max(i,r.titleWidth)))}for(thickenInlineRows(o),o.statementEdge=2*BS.SEP_SPACE_X+a,l&&(o.rightEdge=Math.max(o.rightEdge,o.statementEdge+BS.NOTCH_WIDTH)),s?o.rightEdge=Math.max(o.rightEdge,i+2*BS.SEP_SPACE_X+BS.TAB_WIDTH):c&&(o.rightEdge=Math.max(o.rightEdge,i+2*BS.SEP_SPACE_X)),o.hasValue=s,o.hasStatement=l,o.hasDummy=c,o.rightEdgeWithoutInline=o.rightEdge,u=0;n=o[u];u++)n.type===INLINE_ROW&&(o.rightEdge=Math.max(o.rightEdge,this.widthInlineRow(n)));return o},Blockly.BlockSvg.prototype.widthInlineRow=function(e){for(var t,o=BS.SEP_SPACE_X,n=0;t=e[n];n++)o+=BS.SEP_SPACE_X+this.inputWidthToOccupy_(t);return o},Blockly.BlockSvg.prototype.renderDraw_=function(e,t){if(this.block_.outputConnection)this.squareBottomLeftCorner_=this.squareTopLeftCorner_=!0;else{if(this.squareBottomLeftCorner_=this.squareTopLeftCorner_=!1,this.block_.previousConnection){var o=this.block_.previousConnection.targetBlock();o&&o.nextConnection&&o.nextConnection.targetConnection==this.block_.previousConnection&&(this.squareTopLeftCorner_=!0)}this.block_.nextConnection&&(o=this.block_.nextConnection.targetBlock())&&o.previousConnection&&o.previousConnection.targetConnection==this.block_.nextConnection&&(this.squareBottomLeftCorner_=!0)}for(this.block_.previousConnection&&this.block_.previousConnection.type===Blockly.FUNCTIONAL_OUTPUT&&(this.squareBottomLeftCorner_=this.squareTopLeftCorner_=!0),o=0;o<this.block_.inputList.length;o++)this.block_.inputList[o].type===Blockly.FUNCTIONAL_INPUT&&(this.squareBottomLeftCorner_=this.squareTopLeftCorner_=!0);var n=this.block_.getRelativeToSurfaceXY();if(o={core:[],inline:[],highlight:[],highlightInline:[],curX:e,curY:0},this.renderDrawTop_(o,t.rightEdge,n),this.renderDrawRight_(o,n,t,e),this.renderDrawBottom_(o,n),this.renderDrawLeft_(o),e=o.core.join(" ")+"\n"+o.inline.join(" "),this.svgPath_.setAttribute("d",e),this.svgPathFill_&&this.svgPathFill_.setAttribute("d",e),this.svgTypeHints_){t=this.svgTypeHints_,n=Math.max(this.block_.inputList.length,t.childNodes.length);for(var r=0;r<n;r++){var i=t.childNodes[r]||Blockly.createSvgElement("path",{filter:"url(#blocklyTypeHintFilter)"},t),a=this.block_.inputList[r];a&&a.connection&&(a=a.connection.getPathInfo())&&a.color?(i.setAttribute("d",a.steps),i.setAttribute("transform",a.transform),i.setAttribute("stroke",Blockly.makeColour.apply(null,a.color))):i.setAttribute("d","")}}this.svgPathDark_.setAttribute("d",e),e=o.highlight.join(" ")+"\n"+o.highlightInline.join(" "),this.svgPathLight_.setAttribute("d",e),Blockly.RTL&&(this.svgPath_.setAttribute("transform","scale(-1 1)"),this.svgPathLight_.setAttribute("transform","scale(-1 1)"),this.svgPathDark_.setAttribute("transform","translate(1,1) scale(-1 1)"))},Blockly.BlockSvg.prototype.renderDrawTop_=function(e,t,o){if(this.squareTopLeftCorner_?(e.core.push("m 0,0"),e.highlight.push("m 1,1")):(e.core.push(BS.TOP_LEFT_CORNER_START),e.highlight.push(Blockly.RTL?BS.TOP_LEFT_CORNER_START_HIGHLIGHT_RTL:BS.TOP_LEFT_CORNER_START_HIGHLIGHT_LTR),e.core.push(BS.TOP_LEFT_CORNER),e.highlight.push(BS.TOP_LEFT_CORNER_HIGHLIGHT)),e.core.push(brokenControlPointWorkaround()),this.block_.previousConnection){var n=this.block_.previousConnection.getNotchPaths();e.core.push("H",BS.NOTCH_WIDTH-BS.NOTCH_PATH_WIDTH),e.highlight.push("H",BS.NOTCH_WIDTH-BS.NOTCH_PATH_WIDTH),e.core.push(n.left),e.highlight.push(n.leftHighlight),n=o.x+oppositeIfRTL(BS.NOTCH_WIDTH),this.block_.previousConnection.moveTo(n,o.y)}e.core.push("H",t),e.highlight.push("H",t+(Blockly.RTL?-1:0)),e.curX=t},Blockly.BlockSvg.prototype.renderDrawRight_=function(e,t,o,n){for(var r,i=0;r=o[i];i++)e.curX=BS.SEP_SPACE_X,0===i&&(e.curX+=oppositeIfRTL(n)),e.highlight.push("M",o.rightEdge-1+","+(e.curY+1)),this.block_.isCollapsed()?this.renderDrawRightCollapsed_(e,r):r.type===INLINE_ROW?this.renderDrawRightInline_(e,o,i,t):r.type===Blockly.INPUT_VALUE?this.renderDrawRightInputValue_(e,o,i,t):r.type===Blockly.DUMMY_INPUT?this.renderDrawRightDummyInput_(e,o,i):r.type===Blockly.NEXT_STATEMENT&&this.renderDrawRightNextStatement_(e,o,i,t),e.curY+=r.height;this.block_.tray?(this.block_.miniFlyout.customMetrics=function(){return{absoluteTop:e.curY-4,absoluteLeft:Blockly.RTL?-e.curX:5,viewWidth:e.curX-10}},this.block_.miniFlyout.softShow(),this.renderDrawTray_(e,this.block_.miniFlyout.getHeight()+7)):this.block_.miniFlyout&&this.block_.miniFlyout.softHide(),o.length||(e.curY=BS.MIN_BLOCK_Y,e.core.push("V",e.curY),Blockly.RTL&&e.highlight.push("V",e.curY-1))},Blockly.BlockSvg.prototype.renderDrawTray_=function(e,t){t=void 0===t?50:t,e.core.push("v",t),Blockly.RTL?e.highlight.push("v",t):e.highlight.push("m 0",t),e.curY+=t},Blockly.BlockSvg.prototype.renderDrawRightCollapsed_=function(e,t){e.curX+=this.renderTitles_(t[0].titleRow,e.curX,e.curY+BS.TITLE_HEIGHT),e.core.push(BS.JAGGED_TEETH),Blockly.RTL?e.highlight.push("l 8,0 0,3.8 7,3.2 m -14.5,9 l 8,4"):e.highlight.push("h 8"),t=t.height-BS.JAGGED_TEETH_HEIGHT,e.core.push("v",t),Blockly.RTL&&e.highlight.push("v",t-2)},Blockly.BlockSvg.prototype.renderDrawRightInputValue_=function(e,t,o,n){var r=t[o];o=r[0];var i=e.curX,a=e.curY+BS.TITLE_HEIGHT;if(o.align!=Blockly.ALIGN_LEFT){var s=t.rightEdge-o.titleWidth-BS.TAB_WIDTH-2*BS.SEP_SPACE_X;o.align===Blockly.ALIGN_RIGHT?i+=s:o.align===Blockly.ALIGN_CENTRE&&(i+=(s+i)/2)}e.curX+=this.renderTitles_(o.titleRow,i,a),i=BS.TAB_PATHS_BY_SHAPE[o.connection.getTabShape()],e.core.push(i.TAB_PATH_DOWN),Blockly.RTL?(e.highlight.push(i.TAB_PATH_DOWN_HIGHLIGHT_RTL),e.highlight.push("v",r.height-BS.TAB_HEIGHT-2)):(e.highlight.push("M",t.rightEdge+","+e.curY),e.highlight.push(i.TAB_PATH_DOWN_HIGHLIGHT)),e.core.push("v",r.height-BS.TAB_HEIGHT),t=n.x+oppositeIfRTL(t.rightEdge+1),o.connection.moveTo(t,n.y+e.curY),o.connection.targetConnection&&o.connection.tighten_()},Blockly.BlockSvg.prototype.renderDrawRightDummyInput_=function(e,t,o){var n=(o=t[o])[0],r=e.curX,i=e.curY+BS.TITLE_HEIGHT;if(n.align===Blockly.ALIGN_RIGHT){var a=t.rightEdge-n.titleWidth-2*BS.SEP_SPACE_X;t.hasValue&&(a-=BS.TAB_WIDTH),r+=a}n.align===Blockly.ALIGN_CENTRE&&(r=(t.rightEdge-n.titleWidth)/2),this.renderTitles_(n.titleRow,r,i),e.core.push("v",o.height),Blockly.RTL&&e.highlight.push("v",o.height-2)},Blockly.BlockSvg.prototype.renderDrawRightNextStatement_=function(e,t,o,n){var r=t[o],i=r[0];0===o&&(e.core.push("v",BS.SEP_SPACE_Y),Blockly.RTL&&e.highlight.push("v",BS.SEP_SPACE_Y-1),e.curY+=BS.SEP_SPACE_Y);var a=e.curX,s=e.curY+BS.TITLE_HEIGHT;if(i.align!=Blockly.ALIGN_LEFT){var l=t.statementEdge-i.titleWidth-2*BS.SEP_SPACE_X;i.align==Blockly.ALIGN_RIGHT?a+=l:i.align==Blockly.ALIGN_CENTRE&&(a+=(l+a)/2)}l=i.connection.getNotchPaths(),this.renderTitles_(i.titleRow,a,s),e.curX=t.statementEdge+BS.NOTCH_WIDTH,e.core.push("H",e.curX),e.core.push(this.innerTopLeftCorner(l.right)),e.core.push("v",r.height-2*BS.CORNER_RADIUS),e.core.push(BS.INNER_BOTTOM_LEFT_CORNER),e.core.push("H",t.rightEdgeWithoutInline),Blockly.RTL?(e.highlight.push("M",e.curX-BS.NOTCH_WIDTH+BS.DISTANCE_45_OUTSIDE+","+(e.curY+BS.DISTANCE_45_OUTSIDE)),e.highlight.push(BS.INNER_TOP_LEFT_CORNER_HIGHLIGHT_RTL),e.highlight.push("v",r.height-2*BS.CORNER_RADIUS),e.highlight.push(BS.INNER_BOTTOM_LEFT_CORNER_HIGHLIGHT_RTL),e.highlight.push("H",t.rightEdgeWithoutInline-1)):(e.highlight.push("M",e.curX-BS.NOTCH_WIDTH+BS.DISTANCE_45_OUTSIDE+","+(e.curY+r.height-BS.DISTANCE_45_OUTSIDE)),e.highlight.push(BS.INNER_BOTTOM_LEFT_CORNER_HIGHLIGHT_LTR),e.highlight.push("H",t.rightEdgeWithoutInline)),r=n.x+oppositeIfRTL(e.curX),i.connection.moveTo(r,n.y+e.curY+1),i.connection.targetConnection&&i.connection.tighten_(),o!==t.length-1&&t[o+1].type!==Blockly.NEXT_STATEMENT||(e.core.push("v",BS.SEP_SPACE_Y),Blockly.RTL&&e.highlight.push("v",BS.SEP_SPACE_Y-1),e.curY+=BS.SEP_SPACE_Y)},Blockly.BlockSvg.prototype.renderDrawRightInline_=function(e,t,o,n){var r,i=!1,a=(o=t[o])[0].align;if(o[0].type===Blockly.FUNCTIONAL_INPUT){var s=BS.SEP_SPACE_X*(o.length-1);o.forEach(function(e){s+=this.inputWidthToOccupy_(e)},this),t.rightEdge>s&&a===Blockly.ALIGN_CENTRE&&(e.curX=(t.rightEdge-s)/2)}for(a=0;r=o[a];a++){var l=e.curX,c=e.curY+BS.TITLE_HEIGHT;o.thicker&&(c+=BS.INLINE_PADDING_Y),e.curX+=this.renderTitles_(r.titleRow,l,c),r.type===Blockly.INPUT_VALUE?(e.curX+=r.renderWidth+BS.SEP_SPACE_X,e.inline.push("M",e.curX-BS.SEP_SPACE_X+","+(e.curY+BS.INLINE_PADDING_Y)),e.inline.push("h",BS.TAB_WIDTH-r.renderWidth),l=BS.TAB_PATHS_BY_SHAPE[r.connection.getTabShape()],e.inline.push(l.TAB_PATH_DOWN),e.inline.push("v",r.renderHeight-BS.TAB_HEIGHT),e.inline.push("h",r.renderWidth-BS.TAB_WIDTH),e.inline.push("z"),Blockly.RTL?(e.highlightInline.push("M",e.curX-BS.SEP_SPACE_X+BS.TAB_WIDTH-r.renderWidth-1+","+(e.curY+BS.INLINE_PADDING_Y+1)),e.highlightInline.push(l.TAB_PATH_DOWN_HIGHLIGHT_RTL),e.highlightInline.push("v",r.renderHeight-BS.TAB_HEIGHT),e.highlightInline.push("h",r.renderWidth-BS.TAB_WIDTH)):(e.highlightInline.push("M",e.curX-BS.SEP_SPACE_X+1+","+(e.curY+BS.INLINE_PADDING_Y+1)),e.highlightInline.push("v",r.renderHeight),e.highlightInline.push("h",BS.TAB_WIDTH-r.renderWidth),e.highlightInline.push("M",e.curX-r.renderWidth-BS.SEP_SPACE_X+BS.TAB_WIDTH+","+(e.curY+BS.INLINE_PADDING_Y)),e.highlightInline.push(l.TAB_PATH_DOWN_HIGHLIGHT)),l=n.x+oppositeIfRTL(e.curX+BS.TAB_WIDTH-BS.SEP_SPACE_X-r.renderWidth+1),c=n.y+e.curY+BS.INLINE_PADDING_Y,r.connection.moveTo(l,c),r.connection.targetConnection&&r.connection.tighten_()):r.type===Blockly.FUNCTIONAL_INPUT?(i=!0,this.renderDrawRightInlineFunctional_(e,r,n)):r.type!=Blockly.DUMMY_INPUT&&(e.curX+=r.renderWidth+BS.SEP_SPACE_X)}e.curX=Math.max(e.curX,t.rightEdge),e.core.push("H",e.curX),i||e.highlight.push("H",e.curX+(Blockly.RTL?-1:0)),e.core.push("v",o.height),Blockly.RTL&&e.highlight.push("v",o.height-2)},Blockly.BlockSvg.prototype.inputWidthToOccupy_=function(e){return e.renderWidth+(e.extraSpace||0)},Blockly.BlockSvg.prototype.renderDrawRightInlineFunctional_=function(e,t,o){throw"Only supported for functional blocks"},Blockly.BlockSvg.prototype.renderDrawBottom_=function(e,t){if(e.core.push(brokenControlPointWorkaround()),this.block_.nextConnection){var o=this.block_.nextConnection.getNotchPaths();e.core.push("H",BS.NOTCH_WIDTH+" "+o.right),o=t.x+oppositeIfRTL(BS.NOTCH_WIDTH),this.block_.nextConnection.moveTo(o,t.y+e.curY+1),this.block_.nextConnection.targetConnection&&this.block_.nextConnection.tighten_()}this.squareBottomLeftCorner_?(e.core.push("H 0"),Blockly.RTL||e.highlight.push("M","1,"+e.curY)):(e.core.push("H",BS.CORNER_RADIUS),e.core.push("a",BS.CORNER_RADIUS+","+BS.CORNER_RADIUS+" 0 0,1 -"+BS.CORNER_RADIUS+",-"+BS.CORNER_RADIUS),Blockly.RTL||(e.highlight.push("M",BS.DISTANCE_45_INSIDE+","+(e.curY-BS.DISTANCE_45_INSIDE)),e.highlight.push("A",BS.CORNER_RADIUS-1+","+(BS.CORNER_RADIUS-1)+" 0 0,1 1,"+(e.curY-BS.CORNER_RADIUS))))},Blockly.BlockSvg.prototype.renderDrawLeft_=function(e){if(this.block_.outputConnection){var t=BS.TAB_PATHS_BY_SHAPE[this.block_.outputConnection.getTabShape()];e.core.push(t.TAB_PATH_UP),Blockly.RTL?e.highlight.push(t.TAB_PATH_UP_HIGHLIGHT_RTL):e.highlight.push(t.TAB_PATH_UP_HIGHLIGHT)}else Blockly.RTL||e.highlight.push("V",this.squareTopLeftCorner_?1:BS.CORNER_RADIUS);e.core.push("z")},Blockly.BlockSvg.prototype.setVisible=function(e){this.svgGroup_.style.display=e?"":"none"},Blockly.BlockSvg.prototype.innerTopLeftCorner=function(e){return e+" h -"+(BS.NOTCH_WIDTH-BS.NOTCH_PATH_WIDTH-BS.CORNER_RADIUS)+" a "+BS.CORNER_RADIUS+","+BS.CORNER_RADIUS+" 0 0,0 -"+BS.CORNER_RADIUS+","+BS.CORNER_RADIUS},Blockly.BlockSvg.prototype.isUnused=function(){return Blockly.elementHasClass_(this.svgGroup_,"blocklyUnused")},Blockly.BlockSvg.prototype.setIsUnused=function(e){e?Blockly.addClass_(this.svgGroup_,"blocklyUnused"):Blockly.removeClass_(this.svgGroup_,"blocklyUnused"),this.removeUnusedFrame()},Blockly.BlockSvg.prototype.addUnusedFrame=function(){this.unusedSvg_||(this.unusedSvg_=new Blockly.BlockSvgUnused(this)),this.unusedSvg_.render(this.svgGroup_)},Blockly.BlockSvg.prototype.removeUnusedFrame=function(){this.unusedSvg_&&(this.unusedSvg_.dispose(),this.unusedSvg_=null)},FRAME_MARGIN_SIDE=15,FRAME_MARGIN_TOP=10,FRAME_MARGIN_BOTTOM=5,FRAME_HEADER_HEIGHT=25,Blockly.BlockSvgFramed=function(e){Blockly.BlockSvg.call(this,e)},goog.inherits(Blockly.BlockSvgFramed,Blockly.BlockSvg),Blockly.BlockSvgFramed.prototype.initChildren=function(){var e=Blockly.createSvgElement("clipPath",{id:"frameClip"+this.block_.id},this.svgGroup_);this.frameClipRect_=Blockly.createSvgElement("rect",{x:-FRAME_MARGIN_SIDE,y:-(FRAME_MARGIN_TOP+FRAME_HEADER_HEIGHT),height:FRAME_HEADER_HEIGHT},e),this.frameBase_=Blockly.createSvgElement("rect",{x:-FRAME_MARGIN_SIDE,y:-(FRAME_MARGIN_TOP+FRAME_HEADER_HEIGHT),fill:"#dddddd",stroke:"#aaaaaa",rx:15,ry:15},this.svgGroup_),this.frameHeader_=Blockly.createSvgElement("rect",{x:-FRAME_MARGIN_SIDE,y:-(FRAME_MARGIN_TOP+FRAME_HEADER_HEIGHT),fill:"#aaaaaa",rx:15,ry:15,"clip-path":"url(#frameClip"+this.block_.id+")"},this.svgGroup_),this.frameText_=Blockly.createSvgElement("text",{class:"blocklyText",style:"font-size: 12pt"},this.svgGroup_),this.frameText_.appendChild(document.createTextNode(Blockly.Msg.FUNCTION_HEADER)),Blockly.BlockSvgFramed.superClass_.initChildren.call(this)},Blockly.BlockSvgFramed.prototype.getPadding=function(){return{top:FRAME_MARGIN_TOP+FRAME_HEADER_HEIGHT,right:FRAME_MARGIN_SIDE,bottom:FRAME_MARGIN_BOTTOM,left:FRAME_MARGIN_SIDE}},Blockly.BlockSvgFramed.prototype.renderDraw_=function(e,t){Blockly.BlockSvgFramed.superClass_.renderDraw_.call(this,e,t),e=(t=this.svgPath_.getBoundingClientRect()).width+2*FRAME_MARGIN_SIDE,t=t.height+FRAME_MARGIN_TOP+FRAME_MARGIN_BOTTOM+FRAME_HEADER_HEIGHT,this.frameClipRect_.setAttribute("width",e),this.frameBase_.setAttribute("width",e),this.frameBase_.setAttribute("height",t),this.frameHeader_.setAttribute("width",e),this.frameHeader_.setAttribute("height",t),Blockly.RTL&&(this.frameClipRect_.setAttribute("x",-e+FRAME_MARGIN_SIDE),this.frameHeader_.setAttribute("x",-e+FRAME_MARGIN_SIDE),this.frameBase_.setAttribute("x",-e+FRAME_MARGIN_SIDE),this.frameText_.setAttribute("x",2*FRAME_MARGIN_SIDE-e)),this.frameText_.getAttribute("y")||(e=Math.abs(this.frameText_.getBoundingClientRect().top-this.svgPathDark_.getBoundingClientRect().top),this.frameText_.setAttribute("y",-(FRAME_MARGIN_TOP+(FRAME_HEADER_HEIGHT-e)/2)))},Blockly.BlockSvgFramed.prototype.dispose=function(){Blockly.BlockSvgFramed.superClass_.dispose.call(this),this.frameText_=this.frameHeader_=this.frameBase_=this.frameClipRect_=null},Blockly.BlockSvgFunctional=function(e,t){t=t||{},this.headerHeight=t.headerHeight||0,this.rowBuffer=t.rowBuffer||0,this.patternId_=null,this.inputMarkers_={},this.inputClickTargets_={},this.forcedInputSpacings={},Blockly.BlockSvg.call(this,e)},goog.inherits(Blockly.BlockSvgFunctional,Blockly.BlockSvg),Blockly.BlockSvgFunctional.prototype.initChildren=function(){var e=Blockly.makeColour(this.block_.getColour(),this.block_.getSaturation(),this.block_.getValue()),t=goog.color.lighten(goog.color.hexToRgb(e),.3);goog.color.lighten(goog.color.hexToRgb(e),.8),Blockly.BlockSvgFunctional.superClass_.initChildren.call(this),e=Blockly.createSvgElement("clipPath",{id:"blockClip"+this.block_.id},this.svgGroup_),this.blockClipRect_=Blockly.createSvgElement("path",{},e),this.divider_=Blockly.createSvgElement("rect",{x:1,y:this.headerHeight,height:3,width:0,fill:goog.color.rgbArrayToHex(t),"clip-path":"url(#blockClip"+this.block_.id+")",visibility:0<this.headerHeight?"visible":"hidden"},this.svgGroup_),this.createFunctionalMarkers_()},Blockly.BlockSvgFunctional.prototype.renderDraw_=function(e,t){this.createFunctionalMarkers_(),Blockly.BlockSvgFunctional.superClass_.renderDraw_.call(this,e,t),this.blockClipRect_.setAttribute("d",this.svgPath_.getAttribute("d"));try{var o=this.svgPath_.getBBox();this.divider_.setAttribute("width",Math.max(0,o.width-2))}catch(e){}},Blockly.BlockSvgFunctional.prototype.createFunctionalMarkers_=function(){for(var o=[],e=0;e<this.block_.inputList.length;e++){var t=this.block_.inputList[e];o.push(t.name),this.inputMarkers_[t.name]||t.type!==Blockly.FUNCTIONAL_INPUT||(this.inputMarkers_[t.name]=Blockly.createSvgElement("rect",{fill:"white"},this.svgGroup_),this.inputClickTargets_[t.name]=Blockly.createSvgElement("path",{fill:"white",opacity:"0",class:"inputClickTarget"},this.svgGroup_),this.block_.blockSpace.isFlyout||this.addInputClickListener_(t.name))}Object.keys(this.inputMarkers_).forEach(function(e){if(-1===o.indexOf(e)){var t=this.inputMarkers_[e];t.parentNode.removeChild(t),delete this.inputMarkers_[e],(t=this.inputClickTargets_[e]).parentNode.removeChild(t),delete this.inputMarkers_[e]}},this)},Blockly.BlockSvgFunctional.prototype.addInputClickListener_=function(n){var r=this.block_.blockSpace,i=this.block_;Blockly.bindEvent_(this.inputClickTargets_[n],"mousedown",this,function(e){if(!Blockly.isRightButton(e)){var t=i.getInput(n);if(!t.connection.acceptsAnyType()){if(t.connection.acceptsType("Number"))e="functional_math_number";else{if(!t.connection.acceptsType("String"))return;e="functional_string"}(e=new Blockly.Block(r,e)).initSvg(),t.connection.connect(e.previousConnection),t=e.getTitles();for(var o=0;o<t.length;o++)t[o]instanceof Blockly.FieldTextInput&&t[o].showEditor_();e.render()}}})},Blockly.BlockSvgFunctional.prototype.renderDrawRight_=function(e,t,o,n){this.rowBuffer&&(e.core.push("v",this.rowBuffer),e.curY+=this.rowBuffer),Blockly.BlockSvgFunctional.superClass_.renderDrawRight_.call(this,e,t,o,n)},Blockly.BlockSvgFunctional.prototype.renderDrawRightInlineFunctional_=function(e,t,o){var n=e.curX,r=e.curY+BS.INLINE_PADDING_Y,i=BS.NOTCH_WIDTH-BS.NOTCH_PATH_WIDTH,a=t.connection.getNotchPaths(),s=[];s.push("M",n+","+r),s.push("h",i),s.push(a.left),s.push("H",n+t.renderWidth),s.push("v",t.renderHeight),s.push("H",n),s.push("z"),e.inline=e.inline.concat(s),this.inputClickTargets_[t.name].setAttribute("d",s.join(" ")),this.inputMarkers_[t.name].setAttribute("x",n+5),this.inputMarkers_[t.name].setAttribute("y",r+15),this.inputMarkers_[t.name].setAttribute("width",t.renderWidth-10),this.inputMarkers_[t.name].setAttribute("height",5),this.inputMarkers_[t.name].setAttribute("fill",t.getHexColour()),this.inputMarkers_[t.name].setAttribute("visibility",t.connection.targetConnection?"hidden":"visible"),this.inputClickTargets_[t.name].setAttribute("visibility",t.connection.targetConnection?"hidden":"visible"),e.curX+=this.inputWidthToOccupy_(t)+BS.SEP_SPACE_X,t.connection.moveTo(o.x+n+BS.NOTCH_WIDTH,o.y+r),t.connection.targetConnection&&t.connection.tighten_()},Blockly.BlockSvgFunctional.prototype.updateToColour_=function(e){Blockly.BlockSvgFunctional.superClass_.updateToColour_.call(this,e),this.divider_&&(e=goog.color.lighten(goog.color.hexToRgb(e),.3),this.divider_.setAttribute("fill",goog.color.rgbArrayToHex(e)))},Blockly.BlockSvgFunctional.prototype.dispose=function(){Blockly.BlockSvgFunctional.superClass_.dispose.call(this),this.divider_=this.blockClipRect_=null},Blockly.Blocks={},Blockly.ScrollbarPair=function(e,t,o){this.blockSpace_=e,this.oldHostMetrics_=null,t&&(this.hScroll=new Blockly.Scrollbar(e,!0,t&&o)),o&&(this.vScroll=new Blockly.Scrollbar(e,!1,t&&o)),t&&o&&(this.corner_=Blockly.createSvgElement("rect",{height:Blockly.Scrollbar.scrollbarThickness,width:Blockly.Scrollbar.scrollbarThickness,style:"fill: #fff"},null),Blockly.Scrollbar.insertAfter_(this.corner_,e.getBubbleCanvas()))},Blockly.ScrollbarPair.prototype.dispose=function(){this.onResizeWrapper_&&(Blockly.unbindEvent_(this.onResizeWrapper_),this.onResizeWrapper_=null),this.corner_&&goog.dom.removeNode(this.corner_),this.oldHostMetrics_=this.blockSpace_=this.corner_=null,this.hScroll&&this.hScroll.dispose(),this.hScroll=null,this.vScroll&&this.vScroll.dispose(),this.vScroll=null},Blockly.ScrollbarPair.prototype.canScrollHorizontally=function(){return!!this.hScroll},Blockly.ScrollbarPair.prototype.canScrollVertically=function(){return!!this.vScroll},Blockly.ScrollbarPair.prototype.resize=function(){var e=this.blockSpace_.getMetrics();if(e){var t=this.metricsChangedOnAxis.bind(this,this.oldHostMetrics_,e),o=t(["viewWidth","absoluteLeft","viewHeight","absoluteTop"]),n=o||t(["contentWidth","viewLeft","contentLeft"]);t=o||t(["contentHeight","viewTop","contentTop"]),this.hScroll&&n&&this.hScroll.resize(e),this.vScroll&&t&&this.vScroll.resize(e),this.vScroll&&this.hScroll&&o&&(this.corner_.setAttribute("x",this.vScroll.xCoordinate),this.corner_.setAttribute("y",this.hScroll.yCoordinate)),this.oldHostMetrics_=e}},Blockly.ScrollbarPair.prototype.metricsChangedOnAxis=function(t,o,e){return!t||e.some(function(e){return t[e]!=o[e]})},Blockly.ScrollbarPair.prototype.set=function(e,t){this.hScroll&&this.hScroll.set(e,!0),this.vScroll&&this.vScroll.set(t,!0)},Blockly.ScrollbarSvg=function(e,t,o){this.blockSpace_=e,this.pair_=o||!1,this.horizontal_=t,this.createDom_(),t?(this.svgBackground_.setAttribute("height",Blockly.Scrollbar.scrollbarThickness),this.svgKnob_.setAttribute("height",Blockly.Scrollbar.scrollbarThickness-6),this.svgKnob_.setAttribute("y",3)):(this.svgBackground_.setAttribute("width",Blockly.Scrollbar.scrollbarThickness),this.svgKnob_.setAttribute("width",Blockly.Scrollbar.scrollbarThickness-6),this.svgKnob_.setAttribute("x",3)),this.onMouseDownBarWrapper_=Blockly.bindEvent_(this.svgBackground_,"mousedown",this,this.onMouseDownBar_),this.onMouseDownKnobWrapper_=Blockly.bindEvent_(this.svgKnob_,"mousedown",this,this.onMouseDownKnob_)},Blockly.ScrollbarSvg.prototype.dispose=function(){this.onMouseUpKnob_(),this.onResizeWrapper_&&(Blockly.unbindEvent_(this.onResizeWrapper_),this.onResizeWrapper_=null),Blockly.unbindEvent_(this.onMouseDownBarWrapper_),this.onMouseDownBarWrapper_=null,Blockly.unbindEvent_(this.onMouseDownKnobWrapper_),this.onMouseDownKnobWrapper_=null,goog.dom.removeNode(this.svgGroup_),this.blockSpace_=this.svgKnob_=this.svgBackground_=this.svgGroup_=null},Blockly.ScrollbarSvg.prototype.resize=function(e){if(e||(e=this.blockSpace_.getMetrics())){var t=this.blockSpace_.getScrollableSize(e);if(this.horizontal_){var o=e.viewWidth;this.pair_?o-=Blockly.Scrollbar.scrollbarThickness:this.setVisible(o<t.width),this.ratio_=o/t.width,(-1/0===this.ratio_||1/0===this.ratio_||isNaN(this.ratio_))&&(this.ratio_=0),t=e.viewWidth*this.ratio_;var n=e.viewLeft*this.ratio_;this.svgKnob_.setAttribute("width",Math.max(0,t)),this.xCoordinate=e.absoluteLeft,this.pair_&&Blockly.RTL&&(this.xCoordinate+=e.absoluteLeft+Blockly.Scrollbar.scrollbarThickness),this.yCoordinate=e.absoluteTop+e.viewHeight-Blockly.Scrollbar.scrollbarThickness,this.svgGroup_.setAttribute("transform","translate("+this.xCoordinate+", "+this.yCoordinate+")"),this.svgBackground_.setAttribute("width",Math.max(0,o)),this.svgKnob_.setAttribute("x",this.constrainKnob_(n))}else o=e.viewHeight,this.pair_?o-=Blockly.Scrollbar.scrollbarThickness:this.setVisible(o<t.height),this.ratio_=o/t.height,(-1/0===this.ratio_||1/0===this.ratio_||isNaN(this.ratio_))&&(this.ratio_=0),t=e.viewHeight*this.ratio_,n=e.viewTop*this.ratio_,this.svgKnob_.setAttribute("height",Math.max(0,t)),this.xCoordinate=e.absoluteLeft,Blockly.RTL||(this.xCoordinate+=e.viewWidth-Blockly.Scrollbar.scrollbarThickness),this.yCoordinate=e.absoluteTop,this.svgGroup_.setAttribute("transform","translate("+this.xCoordinate+", "+this.yCoordinate+")"),this.svgBackground_.setAttribute("height",Math.max(0,o)),this.svgKnob_.setAttribute("y",this.constrainKnob_(n));this.onScroll_()}},Blockly.ScrollbarSvg.prototype.createDom_=function(){this.svgGroup_=Blockly.createSvgElement("g",{},null),this.svgBackground_=Blockly.createSvgElement("rect",{class:"blocklyScrollbarBackground"},this.svgGroup_);var e=Math.floor((Blockly.Scrollbar.scrollbarThickness-6)/2);this.svgKnob_=Blockly.createSvgElement("rect",{class:"blocklyScrollbarKnob",rx:e,ry:e},this.svgGroup_),Blockly.Scrollbar.insertAfter_(this.svgGroup_,this.blockSpace_.getBubbleCanvas())},Blockly.ScrollbarSvg.prototype.isVisible=function(){return"none"!=this.svgGroup_.getAttribute("display")},Blockly.ScrollbarSvg.prototype.setVisible=function(e){if(e!=this.isVisible()){if(this.pair_)throw"Unable to toggle visibility of paired scrollbars.";e?this.svgGroup_.setAttribute("display","block"):(this.blockSpace_.setMetrics({x:0,y:0}),this.svgGroup_.setAttribute("display","none"))}},Blockly.ScrollbarSvg.prototype.onMouseDownBar_=function(e){if(this.blockSpace_.blockSpaceEditor.hideChaff(!0),!Blockly.isRightButton(e)){var t=Blockly.mouseToSvg(e,this.blockSpace_.blockSpaceEditor.svg_);t=this.horizontal_?t.x:t.y;var o=Blockly.getSvgXY_(this.svgKnob_,this.blockSpace_.blockSpaceEditor.svg_);o=this.horizontal_?o.x:o.y;var n=parseFloat(this.svgKnob_.getAttribute(this.horizontal_?"width":"height")),r=parseFloat(this.svgKnob_.getAttribute(this.horizontal_?"x":"y")),i=.95*n;t<=o?r-=i:o+n<=t&&(r+=i),this.svgKnob_.setAttribute(this.horizontal_?"x":"y",this.constrainKnob_(r)),this.onScroll_()}e.stopPropagation()},Blockly.ScrollbarSvg.prototype.onMouseDownKnob_=function(e){this.blockSpace_.blockSpaceEditor.hideChaff(!0),this.onMouseUpKnob_(),Blockly.isRightButton(e)||(this.startDragKnob=parseFloat(this.svgKnob_.getAttribute(this.horizontal_?"x":"y")),this.startDragMouse=this.horizontal_?e.clientX:e.clientY,Blockly.ScrollbarSvg.onMouseUpWrapper_=Blockly.bindEvent_(document,"mouseup",this,this.onMouseUpKnob_),Blockly.ScrollbarSvg.onMouseMoveWrapper_=Blockly.bindEvent_(document,"mousemove",this,this.onMouseMoveKnob_)),e.stopPropagation()},Blockly.ScrollbarSvg.prototype.onMouseMoveKnob_=function(e){this.svgKnob_.setAttribute(this.horizontal_?"x":"y",this.constrainKnob_(this.startDragKnob+((this.horizontal_?e.clientX:e.clientY)-this.startDragMouse))),this.onScroll_()},Blockly.ScrollbarSvg.prototype.onMouseUpKnob_=function(){Blockly.ScrollbarSvg.onMouseUpWrapper_&&(Blockly.unbindEvent_(Blockly.ScrollbarSvg.onMouseUpWrapper_),Blockly.ScrollbarSvg.onMouseUpWrapper_=null),Blockly.ScrollbarSvg.onMouseMoveWrapper_&&(Blockly.unbindEvent_(Blockly.ScrollbarSvg.onMouseMoveWrapper_),Blockly.ScrollbarSvg.onMouseMoveWrapper_=null)},Blockly.ScrollbarSvg.prototype.constrainKnob_=function(e){if(e<=0||isNaN(e))e=0;else{var t=this.horizontal_?"width":"height",o=parseFloat(this.svgBackground_.getAttribute(t));t=parseFloat(this.svgKnob_.getAttribute(t)),e=Math.min(e,o-t)}return e},Blockly.ScrollbarSvg.prototype.onScroll_=function(){var e=parseFloat(this.svgKnob_.getAttribute(this.horizontal_?"x":"y")),t=parseFloat(this.svgBackground_.getAttribute(this.horizontal_?"width":"height"));e/=t,isNaN(e)&&(e=0),t={},this.horizontal_?t.x=e:t.y=e,this.blockSpace_.setMetrics(t)},Blockly.ScrollbarSvg.prototype.set=function(e,t){this.svgKnob_.setAttribute(this.horizontal_?"x":"y",e*this.ratio_),t&&this.onScroll_()},Blockly.Scrollbar=Blockly.ScrollbarSvg,Blockly.Scrollbar.scrollbarThickness=15,Blockly.Scrollbar.insertAfter_=function(e,t){var o=t.nextSibling;if(!(t=t.parentNode))throw"Reference node has no parent.";o?t.insertBefore(e,o):t.appendChild(e)},goog.math={},goog.math.randomInt=function(e){return Math.floor(Math.random()*e)},goog.math.uniformRandom=function(e,t){return e+Math.random()*(t-e)},goog.math.clamp=function(e,t,o){return Math.min(Math.max(e,t),o)},goog.math.modulo=function(e,t){return(e%=t)*t<0?e+t:e},goog.math.lerp=function(e,t,o){return e+o*(t-e)},goog.math.nearlyEquals=function(e,t,o){return Math.abs(e-t)<=(o||1e-6)},goog.math.standardAngle=function(e){return goog.math.modulo(e,360)},goog.math.standardAngleInRadians=function(e){return goog.math.modulo(e,2*Math.PI)},goog.math.toRadians=function(e){return e*Math.PI/180},goog.math.toDegrees=function(e){return 180*e/Math.PI},goog.math.angleDx=function(e,t){return t*Math.cos(goog.math.toRadians(e))},goog.math.angleDy=function(e,t){return t*Math.sin(goog.math.toRadians(e))},goog.math.angle=function(e,t,o,n){return goog.math.standardAngle(goog.math.toDegrees(Math.atan2(n-t,o-e)))},goog.math.angleDifference=function(e,t){return 180<(e=goog.math.standardAngle(t)-goog.math.standardAngle(e))?e-=360:e<=-180&&(e=360+e),e},goog.math.sign=function(e){return 0<e?1:e<0?-1:e},goog.math.longestCommonSubsequence=function(o,e,t,n){t=t||function(e,t){return e==t},n=n||function(e,t){return o[e]};for(var r=o.length,i=e.length,a=[],s=0;s<r+1;s++)a[s]=[],a[s][0]=0;for(var l=0;l<i+1;l++)a[0][l]=0;for(s=1;s<=r;s++)for(l=1;l<=i;l++)t(o[s-1],e[l-1])?a[s][l]=a[s-1][l-1]+1:a[s][l]=Math.max(a[s-1][l],a[s][l-1]);var c=[];for(s=r,l=i;0<s&&0<l;)t(o[s-1],e[l-1])?(c.unshift(n(s-1,l-1)),s--,l--):a[s-1][l]>a[s][l-1]?s--:l--;return c},goog.math.sum=function(e){return goog.array.reduce(arguments,function(e,t){return e+t},0)},goog.math.average=function(e){return goog.math.sum.apply(null,arguments)/arguments.length},goog.math.sampleVariance=function(e){var t=arguments.length;if(t<2)return 0;var o=goog.math.average.apply(null,arguments);return goog.math.sum.apply(null,goog.array.map(arguments,function(e){return Math.pow(e-o,2)}))/(t-1)},goog.math.standardDeviation=function(e){return Math.sqrt(goog.math.sampleVariance.apply(null,arguments))},goog.math.isInt=function(e){return isFinite(e)&&0==e%1},goog.math.isFiniteNumber=function(e){return isFinite(e)&&!isNaN(e)},goog.math.isNegativeZero=function(e){return 0==e&&1/e<0},goog.math.log10Floor=function(e){if(0<e){var t=Math.round(Math.log(e)*Math.LOG10E);return t-(parseFloat("1e"+t)>e?1:0)}return 0==e?-1/0:NaN},goog.math.safeFloor=function(e,t){return goog.asserts.assert(!goog.isDef(t)||0<t),Math.floor(e+(t||2e-15))},goog.math.safeCeil=function(e,t){return goog.asserts.assert(!goog.isDef(t)||0<t),Math.ceil(e-(t||2e-15))},goog.math.Coordinate=function(e,t){this.x=goog.isDef(e)?e:0,this.y=goog.isDef(t)?t:0},goog.math.Coordinate.prototype.clone=function(){return new goog.math.Coordinate(this.x,this.y)},goog.DEBUG&&(goog.math.Coordinate.prototype.toString=function(){return"("+this.x+", "+this.y+")"}),goog.math.Coordinate.prototype.equals=function(e){return e instanceof goog.math.Coordinate&&goog.math.Coordinate.equals(this,e)},goog.math.Coordinate.equals=function(e,t){return e==t||!(!e||!t)&&e.x==t.x&&e.y==t.y},goog.math.Coordinate.distance=function(e,t){var o=e.x-t.x;return e=e.y-t.y,Math.sqrt(o*o+e*e)},goog.math.Coordinate.magnitude=function(e){return Math.sqrt(e.x*e.x+e.y*e.y)},goog.math.Coordinate.azimuth=function(e){return goog.math.angle(0,0,e.x,e.y)},goog.math.Coordinate.squaredDistance=function(e,t){var o=e.x-t.x;return o*o+(e=e.y-t.y)*e},goog.math.Coordinate.difference=function(e,t){return new goog.math.Coordinate(e.x-t.x,e.y-t.y)},goog.math.Coordinate.sum=function(e,t){return new goog.math.Coordinate(e.x+t.x,e.y+t.y)},goog.math.Coordinate.prototype.ceil=function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},goog.math.Coordinate.prototype.floor=function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},goog.math.Coordinate.prototype.round=function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},goog.math.Coordinate.prototype.translate=function(e,t){return e instanceof goog.math.Coordinate?(this.x+=e.x,this.y+=e.y):(this.x+=Number(e),goog.isNumber(t)&&(this.y+=t)),this},goog.math.Coordinate.prototype.scale=function(e,t){return t=goog.isNumber(t)?t:e,this.x*=e,this.y*=t,this},goog.math.Coordinate.prototype.rotateRadians=function(e,t){t=t||new goog.math.Coordinate(0,0);var o=this.x,n=this.y,r=Math.cos(e);e=Math.sin(e),this.x=(o-t.x)*r-(n-t.y)*e+t.x,this.y=(o-t.x)*e+(n-t.y)*r+t.y},goog.math.Coordinate.prototype.rotateDegrees=function(e,t){this.rotateRadians(goog.math.toRadians(e),t)},goog.math.Box=function(e,t,o,n){this.top=e,this.right=t,this.bottom=o,this.left=n},goog.math.Box.boundingBox=function(e){for(var t=new goog.math.Box(e.y,e.x,e.y,e.x),o=1;o<arguments.length;o++)t.expandToIncludeCoordinate(arguments[o]);return t},goog.math.Box.prototype.getWidth=function(){return this.right-this.left},goog.math.Box.prototype.getHeight=function(){return this.bottom-this.top},goog.math.Box.prototype.clone=function(){return new goog.math.Box(this.top,this.right,this.bottom,this.left)},goog.DEBUG&&(goog.math.Box.prototype.toString=function(){return"("+this.top+"t, "+this.right+"r, "+this.bottom+"b, "+this.left+"l)"}),goog.math.Box.prototype.contains=function(e){return goog.math.Box.contains(this,e)},goog.math.Box.prototype.expand=function(e,t,o,n){return goog.isObject(e)?(this.top-=e.top,this.right+=e.right,this.bottom+=e.bottom,this.left-=e.left):(this.top-=e,this.right+=Number(t),this.bottom+=Number(o),this.left-=Number(n)),this},goog.math.Box.prototype.expandToInclude=function(e){this.left=Math.min(this.left,e.left),this.top=Math.min(this.top,e.top),this.right=Math.max(this.right,e.right),this.bottom=Math.max(this.bottom,e.bottom)},goog.math.Box.prototype.expandToIncludeCoordinate=function(e){this.top=Math.min(this.top,e.y),this.right=Math.max(this.right,e.x),this.bottom=Math.max(this.bottom,e.y),this.left=Math.min(this.left,e.x)},goog.math.Box.equals=function(e,t){return e==t||!(!e||!t)&&e.top==t.top&&e.right==t.right&&e.bottom==t.bottom&&e.left==t.left},goog.math.Box.contains=function(e,t){return!(!e||!t)&&(t instanceof goog.math.Box?t.left>=e.left&&t.right<=e.right&&t.top>=e.top&&t.bottom<=e.bottom:t.x>=e.left&&t.x<=e.right&&t.y>=e.top&&t.y<=e.bottom)},goog.math.Box.relativePositionX=function(e,t){return t.x<e.left?t.x-e.left:t.x>e.right?t.x-e.right:0},goog.math.Box.relativePositionY=function(e,t){return t.y<e.top?t.y-e.top:t.y>e.bottom?t.y-e.bottom:0},goog.math.Box.distance=function(e,t){var o=goog.math.Box.relativePositionX(e,t);return e=goog.math.Box.relativePositionY(e,t),Math.sqrt(o*o+e*e)},goog.math.Box.intersects=function(e,t){return e.left<=t.right&&t.left<=e.right&&e.top<=t.bottom&&t.top<=e.bottom},goog.math.Box.intersectsWithPadding=function(e,t,o){return e.left<=t.right+o&&t.left<=e.right+o&&e.top<=t.bottom+o&&t.top<=e.bottom+o},goog.math.Box.prototype.ceil=function(){return this.top=Math.ceil(this.top),this.right=Math.ceil(this.right),this.bottom=Math.ceil(this.bottom),this.left=Math.ceil(this.left),this},goog.math.Box.prototype.floor=function(){return this.top=Math.floor(this.top),this.right=Math.floor(this.right),this.bottom=Math.floor(this.bottom),this.left=Math.floor(this.left),this},goog.math.Box.prototype.round=function(){return this.top=Math.round(this.top),this.right=Math.round(this.right),this.bottom=Math.round(this.bottom),this.left=Math.round(this.left),this},goog.math.Box.prototype.translate=function(e,t){return e instanceof goog.math.Coordinate?(this.left+=e.x,this.right+=e.x,this.top+=e.y,this.bottom+=e.y):(goog.asserts.assertNumber(e),this.left+=e,this.right+=e,goog.isNumber(t)&&(this.top+=t,this.bottom+=t)),this},goog.math.Box.prototype.scale=function(e,t){return t=goog.isNumber(t)?t:e,this.left*=e,this.right*=e,this.top*=t,this.bottom*=t,this},goog.math.IRect=function(){},goog.math.Size=function(e,t){this.width=e,this.height=t},goog.math.Size.equals=function(e,t){return e==t||!(!e||!t)&&e.width==t.width&&e.height==t.height},goog.math.Size.prototype.clone=function(){return new goog.math.Size(this.width,this.height)},goog.DEBUG&&(goog.math.Size.prototype.toString=function(){return"("+this.width+" x "+this.height+")"}),goog.math.Size.prototype.getLongest=function(){return Math.max(this.width,this.height)},goog.math.Size.prototype.getShortest=function(){return Math.min(this.width,this.height)},goog.math.Size.prototype.area=function(){return this.width*this.height},goog.math.Size.prototype.perimeter=function(){return 2*(this.width+this.height)},goog.math.Size.prototype.aspectRatio=function(){return this.width/this.height},goog.math.Size.prototype.isEmpty=function(){return!this.area()},goog.math.Size.prototype.ceil=function(){return this.width=Math.ceil(this.width),this.height=Math.ceil(this.height),this},goog.math.Size.prototype.fitsInside=function(e){return this.width<=e.width&&this.height<=e.height},goog.math.Size.prototype.floor=function(){return this.width=Math.floor(this.width),this.height=Math.floor(this.height),this},goog.math.Size.prototype.round=function(){return this.width=Math.round(this.width),this.height=Math.round(this.height),this},goog.math.Size.prototype.scale=function(e,t){return t=goog.isNumber(t)?t:e,this.width*=e,this.height*=t,this},goog.math.Size.prototype.scaleToCover=function(e){return e=this.aspectRatio()<=e.aspectRatio()?e.width/this.width:e.height/this.height,this.scale(e)},goog.math.Size.prototype.scaleToFit=function(e){return e=this.aspectRatio()>e.aspectRatio()?e.width/this.width:e.height/this.height,this.scale(e)},goog.math.Rect=function(e,t,o,n){this.left=e,this.top=t,this.width=o,this.height=n},goog.math.Rect.prototype.clone=function(){return new goog.math.Rect(this.left,this.top,this.width,this.height)},goog.math.Rect.prototype.toBox=function(){return new goog.math.Box(this.top,this.left+this.width,this.top+this.height,this.left)},goog.math.Rect.createFromPositionAndSize=function(e,t){return new goog.math.Rect(e.x,e.y,t.width,t.height)},goog.math.Rect.createFromBox=function(e){return new goog.math.Rect(e.left,e.top,e.right-e.left,e.bottom-e.top)},goog.DEBUG&&(goog.math.Rect.prototype.toString=function(){return"("+this.left+", "+this.top+" - "+this.width+"w x "+this.height+"h)"}),goog.math.Rect.equals=function(e,t){return e==t||!(!e||!t)&&e.left==t.left&&e.width==t.width&&e.top==t.top&&e.height==t.height},goog.math.Rect.prototype.intersection=function(e){var t=Math.max(this.left,e.left),o=Math.min(this.left+this.width,e.left+e.width);if(t<=o){var n=Math.max(this.top,e.top);if(n<=(e=Math.min(this.top+this.height,e.top+e.height)))return this.left=t,this.top=n,this.width=o-t,this.height=e-n,!0}return!1},goog.math.Rect.intersection=function(e,t){var o=Math.max(e.left,t.left),n=Math.min(e.left+e.width,t.left+t.width);if(o<=n){var r=Math.max(e.top,t.top);if(r<=(e=Math.min(e.top+e.height,t.top+t.height)))return new goog.math.Rect(o,r,n-o,e-r)}return null},goog.math.Rect.intersects=function(e,t){return e.left<=t.left+t.width&&t.left<=e.left+e.width&&e.top<=t.top+t.height&&t.top<=e.top+e.height},goog.math.Rect.prototype.intersects=function(e){return goog.math.Rect.intersects(this,e)},goog.math.Rect.difference=function(e,t){var o=goog.math.Rect.intersection(e,t);if(!o||!o.height||!o.width)return[e.clone()];o=[];var n=e.top,r=e.height,i=e.left+e.width,a=e.top+e.height,s=t.left+t.width,l=t.top+t.height;return t.top>e.top&&(o.push(new goog.math.Rect(e.left,e.top,e.width,t.top-e.top)),n=t.top,r-=t.top-e.top),l<a&&(o.push(new goog.math.Rect(e.left,l,e.width,a-l)),r=l-n),t.left>e.left&&o.push(new goog.math.Rect(e.left,n,t.left-e.left,r)),s<i&&o.push(new goog.math.Rect(s,n,i-s,r)),o},goog.math.Rect.prototype.difference=function(e){return goog.math.Rect.difference(this,e)},goog.math.Rect.prototype.boundingRect=function(e){var t=Math.max(this.left+this.width,e.left+e.width),o=Math.max(this.top+this.height,e.top+e.height);this.left=Math.min(this.left,e.left),this.top=Math.min(this.top,e.top),this.width=t-this.left,this.height=o-this.top},goog.math.Rect.boundingRect=function(e,t){return e&&t?((e=new goog.math.Rect(e.left,e.top,e.width,e.height)).boundingRect(t),e):null},goog.math.Rect.prototype.contains=function(e){return e instanceof goog.math.Coordinate?e.x>=this.left&&e.x<=this.left+this.width&&e.y>=this.top&&e.y<=this.top+this.height:this.left<=e.left&&this.left+this.width>=e.left+e.width&&this.top<=e.top&&this.top+this.height>=e.top+e.height},goog.math.Rect.prototype.squaredDistance=function(e){var t=e.x<this.left?this.left-e.x:Math.max(e.x-(this.left+this.width),0);return t*t+(e=e.y<this.top?this.top-e.y:Math.max(e.y-(this.top+this.height),0))*e},goog.math.Rect.prototype.distance=function(e){return Math.sqrt(this.squaredDistance(e))},goog.math.Rect.prototype.getSize=function(){return new goog.math.Size(this.width,this.height)},goog.math.Rect.prototype.getTopLeft=function(){return new goog.math.Coordinate(this.left,this.top)},goog.math.Rect.prototype.getCenter=function(){return new goog.math.Coordinate(this.left+this.width/2,this.top+this.height/2)},goog.math.Rect.prototype.getBottomRight=function(){return new goog.math.Coordinate(this.left+this.width,this.top+this.height)},goog.math.Rect.prototype.ceil=function(){return this.left=Math.ceil(this.left),this.top=Math.ceil(this.top),this.width=Math.ceil(this.width),this.height=Math.ceil(this.height),this},goog.math.Rect.prototype.floor=function(){return this.left=Math.floor(this.left),this.top=Math.floor(this.top),this.width=Math.floor(this.width),this.height=Math.floor(this.height),this},goog.math.Rect.prototype.round=function(){return this.left=Math.round(this.left),this.top=Math.round(this.top),this.width=Math.round(this.width),this.height=Math.round(this.height),this},goog.math.Rect.prototype.translate=function(e,t){return e instanceof goog.math.Coordinate?(this.left+=e.x,this.top+=e.y):(this.left+=goog.asserts.assertNumber(e),goog.isNumber(t)&&(this.top+=t)),this},goog.math.Rect.prototype.scale=function(e,t){return t=goog.isNumber(t)?t:e,this.left*=e,this.width*=e,this.top*=t,this.height*=t,this},Blockly.Trashcan=function(e){this.blockSpace_=e},Blockly.Trashcan.CLOSED_URL_="media/canclosed.png",Blockly.Trashcan.OPEN_URL_="media/canopen.png",Blockly.Trashcan.WIDTH_=70,Blockly.Trashcan.HEIGHT_=70,Blockly.Trashcan.MARGIN_TOP_=15,Blockly.Trashcan.MARGIN_SIDE_=22,Blockly.Trashcan.MARGIN_HOTSPOT_=25,Blockly.Trashcan.prototype.isOpen=!1,Blockly.Trashcan.prototype.radius=50,Blockly.Trashcan.prototype.svgGroup_=null,Blockly.Trashcan.prototype.svgClosedCan_=null,Blockly.Trashcan.prototype.svgOpenCan_=null,Blockly.Trashcan.prototype.left_=0,Blockly.Trashcan.prototype.top_=0,Blockly.Trashcan.prototype.createDom=function(){return this.svgGroup_=Blockly.createSvgElement("g",{id:"trashcan",filter:"url(#blocklyTrashcanShadowFilter)"},null),this.svgClosedCan_=Blockly.createSvgElement("image",{width:Blockly.Trashcan.WIDTH_,height:Blockly.Trashcan.HEIGHT_},this.svgGroup_),this.svgClosedCan_.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",Blockly.assetUrl(Blockly.Trashcan.CLOSED_URL_)),this.svgOpenCan_=Blockly.createSvgElement("image",{width:Blockly.Trashcan.WIDTH_,height:Blockly.Trashcan.HEIGHT_},this.svgGroup_),this.svgOpenCan_.setAttribute("visibility","hidden"),this.svgOpenCan_.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",Blockly.assetUrl(Blockly.Trashcan.OPEN_URL_)),this.notAllowed_=Blockly.createSvgElement("g",{},this.svgGroup_),Blockly.createSvgElement("line",{x1:15,y1:15,x2:55,y2:55,stroke:"#c00","stroke-width":5},this.notAllowed_),Blockly.createSvgElement("circle",{cx:36,cy:34,r:28,stroke:"#c00","stroke-width":5,fill:"none"},this.notAllowed_),this.notAllowed_.setAttribute("visibility","hidden"),this.svgGroup_},Blockly.Trashcan.prototype.dispose=function(){this.svgGroup_&&(goog.dom.removeNode(this.svgGroup_),this.svgGroup_=null),this.blockSpace_=this.notAllowed_=this.svgOpenCan_=this.svgClosedCan_=null},Blockly.Trashcan.prototype.getHeight=function(){return Blockly.Trashcan.HEIGHT_},Blockly.Trashcan.prototype.setOpen_=function(e){this.isOpen!=e&&(this.isOpen=e,this.animateLid_())},Blockly.Trashcan.prototype.setDisabled=function(e){this.isDisabled!==e&&((this.isDisabled=e)?this.notAllowed_.setAttribute("visibility","visible"):this.notAllowed_.setAttribute("visibility","hidden"))},Blockly.Trashcan.prototype.animateLid_=function(){this.isOpen?this.svgOpenCan_.setAttribute("visibility","visible"):this.svgOpenCan_.setAttribute("visibility","hidden")},Blockly.Trashcan.prototype.close=function(){this.setOpen_(!1)},Blockly.PanDragHandler=function(e){this.blockSpace_=e,this.startScrollY_=this.startScrollX_=this.startMouseY_=this.startMouseX_=this.mouseUpEventBindData_=this.mouseMoveEventBindData_=this.contextMenuBlockEventBindData_=this.mousewheelEventBindData_=this.wheelEventBindData_=this.mouseDownEventBindData_=this.onTargetMouseDown_=this.target_=null},Blockly.PanDragHandler.prototype.bindBeginPanDragHandler=function(e,t){this.unbindBeginPanDragHandler(),this.target_=e,this.onTargetMouseDown_=t,this.mouseDownEventBindData_=Blockly.bindEvent_(e,"mousedown",this,this.onPanDragTargetMouseDown_),this.contextMenuBlockEventBindData_=Blockly.bindEvent_(e,"contextmenu",null,Blockly.blockContextMenu)},Blockly.PanDragHandler.prototype.unbindBeginPanDragHandler=function(){this.mouseDownEventBindData_&&(Blockly.unbindEvent_(this.mouseDownEventBindData_),this.mouseDownEventBindData_=null),this.contextMenuBlockEventBindData_&&(Blockly.unbindEvent_(this.contextMenuBlockEventBindData_),this.contextMenuBlockEventBindData_=null),this.target_=null},Blockly.PanDragHandler.prototype.bindDuringPanDragHandlers_=function(){this.unbindDuringPanDragHandlers_(),this.mouseMoveEventBindData_=Blockly.bindEvent_(window,"mousemove",this,this.onPanDragMouseMove_,!0),this.mouseUpEventBindData_=Blockly.bindEvent_(window,"mouseup",this,this.onPanDragMouseUp_,!0)},Blockly.PanDragHandler.prototype.unbindDuringPanDragHandlers_=function(){this.mouseMoveEventBindData_&&(Blockly.unbindEvent_(this.mouseMoveEventBindData_),this.mouseMoveEventBindData_=null),this.mouseUpEventBindData_&&(Blockly.unbindEvent_(this.mouseUpEventBindData_),this.mouseUpEventBindData_=null)},Blockly.PanDragHandler.prototype.onPanDragTargetMouseDown_=function(e){this.onTargetMouseDown_&&this.onTargetMouseDown_();var t=e.target&&e.target===this.target_;Blockly.selected&&!this.blockSpace_.isReadOnly()&&t&&Blockly.selected.unselect();var o=Blockly.selected&&!Blockly.selected.isMovable()&&!Blockly.selected.isEditable();t=t||o||this.blockSpace_.isReadOnly(),o=!Blockly.isRightButton(e),this.blockSpace_.scrollbarPair&&o&&t&&(this.beginDragScroll_(e),e.stopPropagation(),e.preventDefault())},Blockly.PanDragHandler.prototype.beginDragScroll_=function(e){this.startMouseX_=e.clientX,this.startMouseY_=e.clientY,this.startScrollX_=this.blockSpace_.getScrollOffsetX(),this.startScrollY_=this.blockSpace_.getScrollOffsetY(),this.bindDuringPanDragHandlers_()},Blockly.PanDragHandler.prototype.onPanDragMouseMove_=function(e){Blockly.removeAllRanges(),this.blockSpace_.scrollTo(this.startScrollX_+-(e.clientX-this.startMouseX_),this.startScrollY_+-(e.clientY-this.startMouseY_)),e.stopPropagation(),e.preventDefault()},Blockly.PanDragHandler.prototype.onPanDragMouseUp_=function(e){this.unbindDuringPanDragHandlers_(),e.stopPropagation(),e.preventDefault()},Blockly.ScrollOnWheelHandler=function(e){this.blockSpace_=e,this.mousewheelEventBindData_=this.wheelEventBindData_=null},Blockly.ScrollOnWheelHandler.prototype.bindTo=function(e){this.unbindWheelScrollHandler(),this.wheelEventBindData_=Blockly.bindEvent_(e,"wheel",this,this.onWheel_),this.mousewheelEventBindData_=Blockly.bindEvent_(e,"mousewheel",this,this.onWheel_)},Blockly.ScrollOnWheelHandler.prototype.unbindWheelScrollHandler=function(){this.wheelEventBindData_&&(Blockly.unbindEvent_(this.wheelEventBindData_),this.wheelEventBindData_=null),this.mousewheelEventBindData_&&(Blockly.unbindEvent_(this.mousewheelEventBindData_),this.mousewheelEventBindData_=null)},Blockly.ScrollOnWheelHandler.prototype.onWheel_=function(e){if(this.blockSpace_.scrollbarPair){var t=Blockly.getNormalizedWheelDeltaY(e);t&&(this.blockSpace_.scrollWithAnySelectedBlock(this.blockSpace_.getScrollOffsetX(),this.blockSpace_.getScrollOffsetY()+t,e.clientX,e.clientY),e.stopPropagation(),e.preventDefault())}},goog.disposable={},goog.disposable.IDisposable=function(){},goog.disposable.IDisposable.prototype.dispose=goog.abstractMethod,goog.disposable.IDisposable.prototype.isDisposed=goog.abstractMethod,goog.Disposable=function(){goog.Disposable.MONITORING_MODE!=goog.Disposable.MonitoringMode.OFF&&(goog.Disposable.INCLUDE_STACK_ON_CREATION&&(this.creationStack=Error().stack),goog.Disposable.instances_[goog.getUid(this)]=this),this.disposed_=this.disposed_,this.onDisposeCallbacks_=this.onDisposeCallbacks_},goog.Disposable.MonitoringMode={OFF:0,PERMANENT:1,INTERACTIVE:2},goog.Disposable.MONITORING_MODE=0,goog.Disposable.INCLUDE_STACK_ON_CREATION=!0,goog.Disposable.instances_={},goog.Disposable.getUndisposedObjects=function(){var e,t=[];for(e in goog.Disposable.instances_)goog.Disposable.instances_.hasOwnProperty(e)&&t.push(goog.Disposable.instances_[Number(e)]);return t},goog.Disposable.clearUndisposedObjects=function(){goog.Disposable.instances_={}},goog.Disposable.prototype.disposed_=!1,goog.Disposable.prototype.isDisposed=function(){return this.disposed_},goog.Disposable.prototype.getDisposed=goog.Disposable.prototype.isDisposed,goog.Disposable.prototype.dispose=function(){if(!this.disposed_&&(this.disposed_=!0,this.disposeInternal(),goog.Disposable.MONITORING_MODE!=goog.Disposable.MonitoringMode.OFF)){var e=goog.getUid(this);if(goog.Disposable.MONITORING_MODE==goog.Disposable.MonitoringMode.PERMANENT&&!goog.Disposable.instances_.hasOwnProperty(e))throw Error(this+" did not call the goog.Disposable base constructor or was disposed of after a clearUndisposedObjects call");delete goog.Disposable.instances_[e]}},goog.Disposable.prototype.registerDisposable=function(e){this.addOnDisposeCallback(goog.partial(goog.dispose,e))},goog.Disposable.prototype.addOnDisposeCallback=function(e,t){this.disposed_?goog.isDef(t)?e.call(t):e():(this.onDisposeCallbacks_||(this.onDisposeCallbacks_=[]),this.onDisposeCallbacks_.push(goog.isDef(t)?goog.bind(e,t):e))},goog.Disposable.prototype.disposeInternal=function(){if(this.onDisposeCallbacks_)for(;this.onDisposeCallbacks_.length;)this.onDisposeCallbacks_.shift()()},goog.Disposable.isDisposed=function(e){return!(!e||"function"!=typeof e.isDisposed)&&e.isDisposed()},goog.dispose=function(e){e&&"function"==typeof e.dispose&&e.dispose()},goog.disposeAll=function(e){for(var t=0,o=arguments.length;t<o;++t){var n=arguments[t];goog.isArrayLike(n)?goog.disposeAll.apply(null,n):goog.dispose(n)}},goog.debug.entryPointRegistry={},goog.debug.EntryPointMonitor=function(){},goog.debug.entryPointRegistry.refList_=[],goog.debug.entryPointRegistry.monitors_=[],goog.debug.entryPointRegistry.monitorsMayExist_=!1,goog.debug.entryPointRegistry.register=function(e){if(goog.debug.entryPointRegistry.refList_[goog.debug.entryPointRegistry.refList_.length]=e,goog.debug.entryPointRegistry.monitorsMayExist_)for(var t=goog.debug.entryPointRegistry.monitors_,o=0;o<t.length;o++)e(goog.bind(t[o].wrap,t[o]))},goog.debug.entryPointRegistry.monitorAll=function(e){goog.debug.entryPointRegistry.monitorsMayExist_=!0;for(var t=goog.bind(e.wrap,e),o=0;o<goog.debug.entryPointRegistry.refList_.length;o++)goog.debug.entryPointRegistry.refList_[o](t);goog.debug.entryPointRegistry.monitors_.push(e)},goog.debug.entryPointRegistry.unmonitorAllIfPossible=function(e){var t=goog.debug.entryPointRegistry.monitors_;goog.asserts.assert(e==t[t.length-1],"Only the most recent monitor can be unwrapped."),e=goog.bind(e.unwrap,e);for(var o=0;o<goog.debug.entryPointRegistry.refList_.length;o++)goog.debug.entryPointRegistry.refList_[o](e);t.length--},goog.events={},goog.events.BrowserFeature={HAS_W3C_BUTTON:!goog.userAgent.IE||goog.userAgent.isDocumentModeOrHigher(9),HAS_W3C_EVENT_SUPPORT:!goog.userAgent.IE||goog.userAgent.isDocumentModeOrHigher(9),SET_KEY_CODE_TO_PREVENT_DEFAULT:goog.userAgent.IE&&!goog.userAgent.isVersionOrHigher("9"),HAS_NAVIGATOR_ONLINE_PROPERTY:!goog.userAgent.WEBKIT||goog.userAgent.isVersionOrHigher("528"),HAS_HTML5_NETWORK_EVENT_SUPPORT:goog.userAgent.GECKO&&goog.userAgent.isVersionOrHigher("1.9b")||goog.userAgent.IE&&goog.userAgent.isVersionOrHigher("8")||goog.userAgent.OPERA&&goog.userAgent.isVersionOrHigher("9.5")||goog.userAgent.WEBKIT&&goog.userAgent.isVersionOrHigher("528"),HTML5_NETWORK_EVENTS_FIRE_ON_BODY:goog.userAgent.GECKO&&!goog.userAgent.isVersionOrHigher("8")||goog.userAgent.IE&&!goog.userAgent.isVersionOrHigher("9"),TOUCH_ENABLED:"ontouchstart"in goog.global||!!(goog.global.document&&document.documentElement&&"ontouchstart"in document.documentElement)||!(!goog.global.navigator||!goog.global.navigator.msMaxTouchPoints)},goog.events.EventId=function(e){this.id=e},goog.events.EventId.prototype.toString=function(){return this.id},goog.events.Event=function(e,t){this.type=e instanceof goog.events.EventId?String(e):e,this.currentTarget=this.target=t,this.defaultPrevented=this.propagationStopped_=!1,this.returnValue_=!0},goog.events.Event.prototype.stopPropagation=function(){this.propagationStopped_=!0},goog.events.Event.prototype.preventDefault=function(){this.defaultPrevented=!0,this.returnValue_=!1},goog.events.Event.stopPropagation=function(e){e.stopPropagation()},goog.events.Event.preventDefault=function(e){e.preventDefault()},goog.events.getVendorPrefixedName_=function(e){return goog.userAgent.WEBKIT?"webkit"+e:goog.userAgent.OPERA?"o"+e.toLowerCase():e.toLowerCase()},goog.events.EventType={CLICK:"click",RIGHTCLICK:"rightclick",DBLCLICK:"dblclick",MOUSEDOWN:"mousedown",MOUSEUP:"mouseup",MOUSEOVER:"mouseover",MOUSEOUT:"mouseout",MOUSEMOVE:"mousemove",MOUSEENTER:"mouseenter",MOUSELEAVE:"mouseleave",SELECTIONCHANGE:"selectionchange",SELECTSTART:"selectstart",WHEEL:"wheel",KEYPRESS:"keypress",KEYDOWN:"keydown",KEYUP:"keyup",BLUR:"blur",FOCUS:"focus",DEACTIVATE:"deactivate",FOCUSIN:goog.userAgent.IE?"focusin":"DOMFocusIn",FOCUSOUT:goog.userAgent.IE?"focusout":"DOMFocusOut",CHANGE:"change",RESET:"reset",SELECT:"select",SUBMIT:"submit",INPUT:"input",PROPERTYCHANGE:"propertychange",DRAGSTART:"dragstart",DRAG:"drag",DRAGENTER:"dragenter",DRAGOVER:"dragover",DRAGLEAVE:"dragleave",DROP:"drop",DRAGEND:"dragend",TOUCHSTART:"touchstart",TOUCHMOVE:"touchmove",TOUCHEND:"touchend",TOUCHCANCEL:"touchcancel",BEFOREUNLOAD:"beforeunload",CONSOLEMESSAGE:"consolemessage",CONTEXTMENU:"contextmenu",DEVICEORIENTATION:"deviceorientation",DOMCONTENTLOADED:"DOMContentLoaded",ERROR:"error",HELP:"help",LOAD:"load",LOSECAPTURE:"losecapture",ORIENTATIONCHANGE:"orientationchange",READYSTATECHANGE:"readystatechange",RESIZE:"resize",SCROLL:"scroll",UNLOAD:"unload",CANPLAY:"canplay",CANPLAYTHROUGH:"canplaythrough",DURATIONCHANGE:"durationchange",EMPTIED:"emptied",ENDED:"ended",LOADEDDATA:"loadeddata",LOADEDMETADATA:"loadedmetadata",PAUSE:"pause",PLAY:"play",PLAYING:"playing",RATECHANGE:"ratechange",SEEKED:"seeked",SEEKING:"seeking",STALLED:"stalled",SUSPEND:"suspend",TIMEUPDATE:"timeupdate",VOLUMECHANGE:"volumechange",WAITING:"waiting",HASHCHANGE:"hashchange",PAGEHIDE:"pagehide",PAGESHOW:"pageshow",POPSTATE:"popstate",COPY:"copy",PASTE:"paste",CUT:"cut",BEFORECOPY:"beforecopy",BEFORECUT:"beforecut",BEFOREPASTE:"beforepaste",ONLINE:"online",OFFLINE:"offline",MESSAGE:"message",CONNECT:"connect",ANIMATIONSTART:goog.events.getVendorPrefixedName_("AnimationStart"),ANIMATIONEND:goog.events.getVendorPrefixedName_("AnimationEnd"),ANIMATIONITERATION:goog.events.getVendorPrefixedName_("AnimationIteration"),TRANSITIONEND:goog.events.getVendorPrefixedName_("TransitionEnd"),POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTERCANCEL:"pointercancel",POINTERMOVE:"pointermove",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",GOTPOINTERCAPTURE:"gotpointercapture",LOSTPOINTERCAPTURE:"lostpointercapture",MSGESTURECHANGE:"MSGestureChange",MSGESTUREEND:"MSGestureEnd",MSGESTUREHOLD:"MSGestureHold",MSGESTURESTART:"MSGestureStart",MSGESTURETAP:"MSGestureTap",MSGOTPOINTERCAPTURE:"MSGotPointerCapture",MSINERTIASTART:"MSInertiaStart",MSLOSTPOINTERCAPTURE:"MSLostPointerCapture",MSPOINTERCANCEL:"MSPointerCancel",MSPOINTERDOWN:"MSPointerDown",MSPOINTERENTER:"MSPointerEnter",MSPOINTERHOVER:"MSPointerHover",MSPOINTERLEAVE:"MSPointerLeave",MSPOINTERMOVE:"MSPointerMove",MSPOINTEROUT:"MSPointerOut",MSPOINTEROVER:"MSPointerOver",MSPOINTERUP:"MSPointerUp",TEXT:"text",TEXTINPUT:"textInput",COMPOSITIONSTART:"compositionstart",COMPOSITIONUPDATE:"compositionupdate",COMPOSITIONEND:"compositionend",EXIT:"exit",LOADABORT:"loadabort",LOADCOMMIT:"loadcommit",LOADREDIRECT:"loadredirect",LOADSTART:"loadstart",LOADSTOP:"loadstop",RESPONSIVE:"responsive",SIZECHANGED:"sizechanged",UNRESPONSIVE:"unresponsive",VISIBILITYCHANGE:"visibilitychange",STORAGE:"storage",DOMSUBTREEMODIFIED:"DOMSubtreeModified",DOMNODEINSERTED:"DOMNodeInserted",DOMNODEREMOVED:"DOMNodeRemoved",DOMNODEREMOVEDFROMDOCUMENT:"DOMNodeRemovedFromDocument",DOMNODEINSERTEDINTODOCUMENT:"DOMNodeInsertedIntoDocument",DOMATTRMODIFIED:"DOMAttrModified",DOMCHARACTERDATAMODIFIED:"DOMCharacterDataModified",BEFOREPRINT:"beforeprint",AFTERPRINT:"afterprint"},goog.events.BrowserEvent=function(e,t){goog.events.Event.call(this,e?e.type:""),this.relatedTarget=this.currentTarget=this.target=null,this.charCode=this.keyCode=this.button=this.screenY=this.screenX=this.clientY=this.clientX=this.offsetY=this.offsetX=0,this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.platformModifierKey=!1,this.event_=null,e&&this.init(e,t)},goog.inherits(goog.events.BrowserEvent,goog.events.Event),goog.events.BrowserEvent.MouseButton={LEFT:0,MIDDLE:1,RIGHT:2},goog.events.BrowserEvent.IEButtonMap=[1,4,2],goog.events.BrowserEvent.prototype.init=function(e,t){var o=this.type=e.type,n=e.changedTouches?e.changedTouches[0]:null;this.target=e.target||e.srcElement,this.currentTarget=t,(t=e.relatedTarget)?goog.userAgent.GECKO&&(goog.reflect.canAccessProperty(t,"nodeName")||(t=null)):o==goog.events.EventType.MOUSEOVER?t=e.fromElement:o==goog.events.EventType.MOUSEOUT&&(t=e.toElement),this.relatedTarget=t,goog.isNull(n)?(this.offsetX=goog.userAgent.WEBKIT||void 0!==e.offsetX?e.offsetX:e.layerX,this.offsetY=goog.userAgent.WEBKIT||void 0!==e.offsetY?e.offsetY:e.layerY,this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=e.button,this.keyCode=e.keyCode||0,this.charCode=e.charCode||("keypress"==o?e.keyCode:0),this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.platformModifierKey=goog.userAgent.MAC?e.metaKey:e.ctrlKey,this.state=e.state,(this.event_=e).defaultPrevented&&this.preventDefault()},goog.events.BrowserEvent.prototype.isButton=function(e){return goog.events.BrowserFeature.HAS_W3C_BUTTON?this.event_.button==e:"click"==this.type?e==goog.events.BrowserEvent.MouseButton.LEFT:!!(this.event_.button&goog.events.BrowserEvent.IEButtonMap[e])},goog.events.BrowserEvent.prototype.isMouseActionButton=function(){return this.isButton(goog.events.BrowserEvent.MouseButton.LEFT)&&!(goog.userAgent.WEBKIT&&goog.userAgent.MAC&&this.ctrlKey)},goog.events.BrowserEvent.prototype.stopPropagation=function(){goog.events.BrowserEvent.superClass_.stopPropagation.call(this),this.event_.stopPropagation?this.event_.stopPropagation():this.event_.cancelBubble=!0},goog.events.BrowserEvent.prototype.preventDefault=function(){goog.events.BrowserEvent.superClass_.preventDefault.call(this);var e=this.event_;if(e.preventDefault)e.preventDefault();else if(e.returnValue=!1,goog.events.BrowserFeature.SET_KEY_CODE_TO_PREVENT_DEFAULT)try{(e.ctrlKey||112<=e.keyCode&&e.keyCode<=123)&&(e.keyCode=-1)}catch(e){}},goog.events.BrowserEvent.prototype.getBrowserEvent=function(){return this.event_},goog.events.Listenable=function(){},goog.events.Listenable.IMPLEMENTED_BY_PROP="closure_listenable_"+(1e6*Math.random()|0),goog.events.Listenable.addImplementation=function(e){e.prototype[goog.events.Listenable.IMPLEMENTED_BY_PROP]=!0},goog.events.Listenable.isImplementedBy=function(e){return!(!e||!e[goog.events.Listenable.IMPLEMENTED_BY_PROP])},goog.events.ListenableKey=function(){},goog.events.ListenableKey.counter_=0,goog.events.ListenableKey.reserveKey=function(){return++goog.events.ListenableKey.counter_},goog.events.Listener=function(e,t,o,n,r,i){goog.events.Listener.ENABLE_MONITORING&&(this.creationStack=Error().stack),this.listener=e,this.proxy=t,this.src=o,this.type=n,this.capture=!!r,this.handler=i,this.key=goog.events.ListenableKey.reserveKey(),this.removed=this.callOnce=!1},goog.events.Listener.ENABLE_MONITORING=!1,goog.events.Listener.prototype.markAsRemoved=function(){this.removed=!0,this.handler=this.src=this.proxy=this.listener=null},goog.events.ListenerMap=function(e){this.src=e,this.listeners={},this.typeCount_=0},goog.events.ListenerMap.prototype.getTypeCount=function(){return this.typeCount_},goog.events.ListenerMap.prototype.getListenerCount=function(){var e,t=0;for(e in this.listeners)t+=this.listeners[e].length;return t},goog.events.ListenerMap.prototype.add=function(e,t,o,n,r){var i=e.toString();(e=this.listeners[i])||(e=this.listeners[i]=[],this.typeCount_++);var a=goog.events.ListenerMap.findListenerIndex_(e,t,n,r);return-1<a?(t=e[a],o||(t.callOnce=!1)):((t=new goog.events.Listener(t,null,this.src,i,!!n,r)).callOnce=o,e.push(t)),t},goog.events.ListenerMap.prototype.remove=function(e,t,o,n){if(!((e=e.toString())in this.listeners))return!1;var r=this.listeners[e];return-1<(t=goog.events.ListenerMap.findListenerIndex_(r,t,o,n))&&(r[t].markAsRemoved(),goog.array.removeAt(r,t),0==r.length&&(delete this.listeners[e],this.typeCount_--),!0)},goog.events.ListenerMap.prototype.removeByKey=function(e){var t=e.type;if(!(t in this.listeners))return!1;var o=goog.array.remove(this.listeners[t],e);return o&&(e.markAsRemoved(),0==this.listeners[t].length&&(delete this.listeners[t],this.typeCount_--)),o},goog.events.ListenerMap.prototype.removeAll=function(e){e=e&&e.toString();var t,o=0;for(t in this.listeners)if(!e||t==e){for(var n=this.listeners[t],r=0;r<n.length;r++)++o,n[r].markAsRemoved();delete this.listeners[t],this.typeCount_--}return o},goog.events.ListenerMap.prototype.getListeners=function(e,t){var o=[];if(e=this.listeners[e.toString()])for(var n=0;n<e.length;++n){var r=e[n];r.capture==t&&o.push(r)}return o},goog.events.ListenerMap.prototype.getListener=function(e,t,o,n){var r=-1;return(e=this.listeners[e.toString()])&&(r=goog.events.ListenerMap.findListenerIndex_(e,t,o,n)),-1<r?e[r]:null},goog.events.ListenerMap.prototype.hasListener=function(e,o){var n=goog.isDef(e),r=n?e.toString():"",i=goog.isDef(o);return goog.object.some(this.listeners,function(e,t){for(t=0;t<e.length;++t)if(!(n&&e[t].type!=r||i&&e[t].capture!=o))return!0;return!1})},goog.events.ListenerMap.findListenerIndex_=function(e,t,o,n){for(var r=0;r<e.length;++r){var i=e[r];if(!i.removed&&i.listener==t&&i.capture==!!o&&i.handler==n)return r}return-1},goog.events.LISTENER_MAP_PROP_="closure_lm_"+(1e6*Math.random()|0),goog.events.onString_="on",goog.events.onStringMap_={},goog.events.CaptureSimulationMode={OFF_AND_FAIL:0,OFF_AND_SILENT:1,ON:2},goog.events.CAPTURE_SIMULATION_MODE=2,goog.events.listenerCountEstimate_=0,goog.events.listen=function(e,t,o,n,r){if(goog.isArray(t)){for(var i=0;i<t.length;i++)goog.events.listen(e,t[i],o,n,r);return null}return o=goog.events.wrapListener(o),goog.events.Listenable.isImplementedBy(e)?e.listen(t,o,n,r):goog.events.listen_(e,t,o,!1,n,r)},goog.events.listen_=function(e,t,o,n,r,i){if(!t)throw Error("Invalid event type");var a=!!r;if(a&&!goog.events.BrowserFeature.HAS_W3C_EVENT_SUPPORT){if(goog.events.CAPTURE_SIMULATION_MODE==goog.events.CaptureSimulationMode.OFF_AND_FAIL)return goog.asserts.fail("Can not register capture listener in IE8-."),null;if(goog.events.CAPTURE_SIMULATION_MODE==goog.events.CaptureSimulationMode.OFF_AND_SILENT)return null}var s=goog.events.getListenerMap_(e);if(s||(e[goog.events.LISTENER_MAP_PROP_]=s=new goog.events.ListenerMap(e)),(o=s.add(t,o,n,r,i)).proxy)return o;if(n=goog.events.getProxy(),(o.proxy=n).src=e,n.listener=o,e.addEventListener)e.addEventListener(t.toString(),n,a);else{if(!e.attachEvent)throw Error("addEventListener and attachEvent are unavailable.");e.attachEvent(goog.events.getOnString_(t.toString()),n)}return goog.events.listenerCountEstimate_++,o},goog.events.getProxy=function(){var t=goog.events.handleBrowserEvent_,o=goog.events.BrowserFeature.HAS_W3C_EVENT_SUPPORT?function(e){return t.call(o.src,o.listener,e)}:function(e){if(!(e=t.call(o.src,o.listener,e)))return e};return o},goog.events.listenOnce=function(e,t,o,n,r){if(goog.isArray(t)){for(var i=0;i<t.length;i++)goog.events.listenOnce(e,t[i],o,n,r);return null}return o=goog.events.wrapListener(o),goog.events.Listenable.isImplementedBy(e)?e.listenOnce(t,o,n,r):goog.events.listen_(e,t,o,!0,n,r)},goog.events.listenWithWrapper=function(e,t,o,n,r){t.listen(e,o,n,r)},goog.events.unlisten=function(e,t,o,n,r){if(goog.isArray(t)){for(var i=0;i<t.length;i++)goog.events.unlisten(e,t[i],o,n,r);return null}return o=goog.events.wrapListener(o),goog.events.Listenable.isImplementedBy(e)?e.unlisten(t,o,n,r):!!e&&(n=!!n,!(!(e=goog.events.getListenerMap_(e))||!(t=e.getListener(t,o,n,r)))&&goog.events.unlistenByKey(t))},goog.events.unlistenByKey=function(e){if(goog.isNumber(e)||!e||e.removed)return!1;var t=e.src;if(goog.events.Listenable.isImplementedBy(t))return t.unlistenByKey(e);var o=e.type,n=e.proxy;return t.removeEventListener?t.removeEventListener(o,n,e.capture):t.detachEvent&&t.detachEvent(goog.events.getOnString_(o),n),goog.events.listenerCountEstimate_--,(o=goog.events.getListenerMap_(t))?(o.removeByKey(e),0==o.getTypeCount()&&(o.src=null,t[goog.events.LISTENER_MAP_PROP_]=null)):e.markAsRemoved(),!0},goog.events.unlistenWithWrapper=function(e,t,o,n,r){t.unlisten(e,o,n,r)},goog.events.removeAll=function(e,t){if(!e)return 0;if(goog.events.Listenable.isImplementedBy(e))return e.removeAllListeners(t);if(!(e=goog.events.getListenerMap_(e)))return 0;var o=0;for(var n in t=t&&t.toString(),e.listeners)if(!t||n==t)for(var r=e.listeners[n].concat(),i=0;i<r.length;++i)goog.events.unlistenByKey(r[i])&&++o;return o},goog.events.getListeners=function(e,t,o){return goog.events.Listenable.isImplementedBy(e)?e.getListeners(t,o):e&&(e=goog.events.getListenerMap_(e))?e.getListeners(t,o):[]},goog.events.getListener=function(e,t,o,n,r){return o=goog.events.wrapListener(o),n=!!n,goog.events.Listenable.isImplementedBy(e)?e.getListener(t,o,n,r):e&&(e=goog.events.getListenerMap_(e))?e.getListener(t,o,n,r):null},goog.events.hasListener=function(e,t,o){return goog.events.Listenable.isImplementedBy(e)?e.hasListener(t,o):!!(e=goog.events.getListenerMap_(e))&&e.hasListener(t,o)},goog.events.expose=function(e){var t,o=[];for(t in e)e[t]&&e[t].id?o.push(t+" = "+e[t]+" ("+e[t].id+")"):o.push(t+" = "+e[t]);return o.join("\n")},goog.events.getOnString_=function(e){return e in goog.events.onStringMap_?goog.events.onStringMap_[e]:goog.events.onStringMap_[e]=goog.events.onString_+e},goog.events.fireListeners=function(e,t,o,n){return goog.events.Listenable.isImplementedBy(e)?e.fireListeners(t,o,n):goog.events.fireListeners_(e,t,o,n)},goog.events.fireListeners_=function(e,t,o,n){var r=!0;if((e=goog.events.getListenerMap_(e))&&(t=e.listeners[t.toString()]))for(t=t.concat(),e=0;e<t.length;e++){var i=t[e];i&&i.capture==o&&!i.removed&&(i=goog.events.fireListener(i,n),r=r&&!1!==i)}return r},goog.events.fireListener=function(e,t){var o=e.listener,n=e.handler||e.src;return e.callOnce&&goog.events.unlistenByKey(e),o.call(n,t)},goog.events.getTotalListenerCount=function(){return goog.events.listenerCountEstimate_},goog.events.dispatchEvent=function(e,t){return goog.asserts.assert(goog.events.Listenable.isImplementedBy(e),"Can not use goog.events.dispatchEvent with non-goog.events.Listenable instance."),e.dispatchEvent(t)},goog.events.protectBrowserEventEntryPoint=function(e){goog.events.handleBrowserEvent_=e.protectEntryPoint(goog.events.handleBrowserEvent_)},goog.events.handleBrowserEvent_=function(e,t){if(e.removed)return!0;if(goog.events.BrowserFeature.HAS_W3C_EVENT_SUPPORT)return goog.events.fireListener(e,new goog.events.BrowserEvent(t,this));var o=t||goog.getObjectByName("window.event");t=new goog.events.BrowserEvent(o,this);var n=!0;if(goog.events.CAPTURE_SIMULATION_MODE==goog.events.CaptureSimulationMode.ON){if(!goog.events.isMarkedIeEvent_(o)){goog.events.markIeEvent_(o),o=[];for(var r=t.currentTarget;r;r=r.parentNode)o.push(r);for(e=e.type,r=o.length-1;!t.propagationStopped_&&0<=r;r--){t.currentTarget=o[r];var i=goog.events.fireListeners_(o[r],e,!0,t);n=n&&i}for(r=0;!t.propagationStopped_&&r<o.length;r++)t.currentTarget=o[r],i=goog.events.fireListeners_(o[r],e,!1,t),n=n&&i}}else n=goog.events.fireListener(e,t);return n},goog.events.markIeEvent_=function(e){var t=!1;if(0==e.keyCode)try{return void(e.keyCode=-1)}catch(e){t=!0}(t||null==e.returnValue)&&(e.returnValue=!0)},goog.events.isMarkedIeEvent_=function(e){return e.keyCode<0||null!=e.returnValue},goog.events.uniqueIdCounter_=0,goog.events.getUniqueId=function(e){return e+"_"+goog.events.uniqueIdCounter_++},goog.events.getListenerMap_=function(e){return(e=e[goog.events.LISTENER_MAP_PROP_])instanceof goog.events.ListenerMap?e:null},goog.events.LISTENER_WRAPPER_PROP_="__closure_events_fn_"+(1e9*Math.random()>>>0),goog.events.wrapListener=function(t){return goog.asserts.assert(t,"Listener can not be null."),goog.isFunction(t)?t:(goog.asserts.assert(t.handleEvent,"An object listener must have handleEvent method."),t[goog.events.LISTENER_WRAPPER_PROP_]||(t[goog.events.LISTENER_WRAPPER_PROP_]=function(e){return t.handleEvent(e)}),t[goog.events.LISTENER_WRAPPER_PROP_])},goog.debug.entryPointRegistry.register(function(e){goog.events.handleBrowserEvent_=e(goog.events.handleBrowserEvent_)}),goog.functions={},goog.functions.constant=function(e){return function(){return e}},goog.functions.FALSE=goog.functions.constant(!1),goog.functions.TRUE=goog.functions.constant(!0),goog.functions.NULL=goog.functions.constant(null),goog.functions.identity=function(e,t){return e},goog.functions.error=function(e){return function(){throw Error(e)}},goog.functions.fail=function(e){return function(){throw e}},goog.functions.lock=function(e,t){return t=t||0,function(){return e.apply(this,Array.prototype.slice.call(arguments,0,t))}},goog.functions.nth=function(e){return function(){return arguments[e]}},goog.functions.partialRight=function(t,e){var o=Array.prototype.slice.call(arguments,1);return function(){var e=Array.prototype.slice.call(arguments);return e.push.apply(e,o),t.apply(this,e)}},goog.functions.withReturnValue=function(e,t){return goog.functions.sequence(e,goog.functions.constant(t))},goog.functions.equalTo=function(t,o){return function(e){return o?t==e:t===e}},goog.functions.compose=function(e,t){var o=arguments,n=o.length;return function(){var e;n&&(e=o[n-1].apply(this,arguments));for(var t=n-2;0<=t;t--)e=o[t].call(this,e);return e}},goog.functions.sequence=function(e){var o=arguments,n=o.length;return function(){for(var e,t=0;t<n;t++)e=o[t].apply(this,arguments);return e}},goog.functions.and=function(e){var t=arguments,o=t.length;return function(){for(var e=0;e<o;e++)if(!t[e].apply(this,arguments))return!1;return!0}},goog.functions.or=function(e){var t=arguments,o=t.length;return function(){for(var e=0;e<o;e++)if(t[e].apply(this,arguments))return!0;return!1}},goog.functions.not=function(e){return function(){return!e.apply(this,arguments)}},goog.functions.create=function(e,t){var o=function(){};return o.prototype=e.prototype,o=new o,e.apply(o,Array.prototype.slice.call(arguments,1)),o},goog.functions.CACHE_RETURN_VALUE=!0,goog.functions.cacheReturnValue=function(e){var t,o=!1;return function(){return goog.functions.CACHE_RETURN_VALUE?(o||(t=e(),o=!0),t):e()}},goog.functions.once=function(e){var t=e;return function(){if(t){var e=t;t=null,e()}}},goog.functions.debounce=function(o,n,r){var i=0;return function(e){goog.global.clearTimeout(i);var t=arguments;i=goog.global.setTimeout(function(){o.apply(r,t)},n)}},goog.functions.throttle=function(e,t,o){var n=0,r=!1,i=[],a=function(){n=0,r&&(r=!1,s())},s=function(){n=goog.global.setTimeout(a,t),e.apply(o,i)};return function(e){i=arguments,n?r=!0:s()}},goog.functions.rateLimit=function(t,o,n){var r=0,i=function(){r=0};return function(e){r||(r=goog.global.setTimeout(i,o),t.apply(n,arguments))}},goog.async={},goog.async.AnimationDelay=function(e,t,o){goog.Disposable.call(this),this.id_=null,this.usingListeners_=!1,this.listener_=e,this.handler_=o,this.win_=t||window,this.callback_=goog.bind(this.doAction_,this)},goog.inherits(goog.async.AnimationDelay,goog.Disposable),goog.async.AnimationDelay.TIMEOUT=20,goog.async.AnimationDelay.MOZ_BEFORE_PAINT_EVENT_="MozBeforePaint",goog.async.AnimationDelay.prototype.start=function(){this.stop(),this.usingListeners_=!1;var e=this.getRaf_(),t=this.getCancelRaf_();e&&!t&&this.win_.mozRequestAnimationFrame?(this.id_=goog.events.listen(this.win_,goog.async.AnimationDelay.MOZ_BEFORE_PAINT_EVENT_,this.callback_),this.win_.mozRequestAnimationFrame(null),this.usingListeners_=!0):this.id_=e&&t?e.call(this.win_,this.callback_):this.win_.setTimeout(goog.functions.lock(this.callback_),goog.async.AnimationDelay.TIMEOUT)},goog.async.AnimationDelay.prototype.stop=function(){if(this.isActive()){var e=this.getRaf_(),t=this.getCancelRaf_();e&&!t&&this.win_.mozRequestAnimationFrame?goog.events.unlistenByKey(this.id_):e&&t?t.call(this.win_,this.id_):this.win_.clearTimeout(this.id_)}this.id_=null},goog.async.AnimationDelay.prototype.fire=function(){this.stop(),this.doAction_()},goog.async.AnimationDelay.prototype.fireIfActive=function(){this.isActive()&&this.fire()},goog.async.AnimationDelay.prototype.isActive=function(){return null!=this.id_},goog.async.AnimationDelay.prototype.doAction_=function(){this.usingListeners_&&this.id_&&goog.events.unlistenByKey(this.id_),this.id_=null,this.listener_.call(this.handler_,goog.now())},goog.async.AnimationDelay.prototype.disposeInternal=function(){this.stop(),goog.async.AnimationDelay.superClass_.disposeInternal.call(this)},goog.async.AnimationDelay.prototype.getRaf_=function(){var e=this.win_;return e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||e.oRequestAnimationFrame||e.msRequestAnimationFrame||null},goog.async.AnimationDelay.prototype.getCancelRaf_=function(){var e=this.win_;return e.cancelAnimationFrame||e.cancelRequestAnimationFrame||e.webkitCancelRequestAnimationFrame||e.mozCancelRequestAnimationFrame||e.oCancelRequestAnimationFrame||e.msCancelRequestAnimationFrame||null},Blockly.AutoScroll=function(e,t){this.blockSpace_=e,this.activePanVector_=t,this.animationDelay_=new goog.async.AnimationDelay(this.handleAnimationDelay_.bind(this),window),this.lastTime_=Date.now(),this.animationDelay_.start()},Blockly.AutoScroll.prototype.stopAndDestroy=function(){this.activePanVector_=null,this.animationDelay_.dispose(),this.lastMouseY_=this.lastMouseX_=null},Blockly.AutoScroll.prototype.handleAnimationDelay_=function(e){var t=e-this.lastTime_;this.lastTime_=e,this.scrollTick_(t),this.animationDelay_.start()},Blockly.AutoScroll.prototype.scrollTick_=function(e){this.blockSpace_.scrollDeltaWithAnySelectedBlock(this.activePanVector_.x*e,this.activePanVector_.y*e,this.lastMouseX_,this.lastMouseY_)},Blockly.AutoScroll.prototype.updateProperties=function(e,t,o){this.activePanVector_=e,this.lastMouseX_=t,this.lastMouseY_=o},goog.math.Vec2=function(e,t){this.x=e,this.y=t},goog.inherits(goog.math.Vec2,goog.math.Coordinate),goog.math.Vec2.randomUnit=function(){var e=Math.random()*Math.PI*2;return new goog.math.Vec2(Math.cos(e),Math.sin(e))},goog.math.Vec2.random=function(){var e=Math.sqrt(Math.random()),t=Math.random()*Math.PI*2;return new goog.math.Vec2(Math.cos(t)*e,Math.sin(t)*e)},goog.math.Vec2.fromCoordinate=function(e){return new goog.math.Vec2(e.x,e.y)},goog.math.Vec2.prototype.clone=function(){return new goog.math.Vec2(this.x,this.y)},goog.math.Vec2.prototype.magnitude=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},goog.math.Vec2.prototype.squaredMagnitude=function(){return this.x*this.x+this.y*this.y},goog.math.Vec2.prototype.scale=goog.math.Coordinate.prototype.scale,goog.math.Vec2.prototype.invert=function(){return this.x=-this.x,this.y=-this.y,this},goog.math.Vec2.prototype.normalize=function(){return this.scale(1/this.magnitude())},goog.math.Vec2.prototype.add=function(e){return this.x+=e.x,this.y+=e.y,this},goog.math.Vec2.prototype.subtract=function(e){return this.x-=e.x,this.y-=e.y,this},goog.math.Vec2.prototype.rotate=function(e){var t=Math.cos(e);e=Math.sin(e);var o=this.y*t+this.x*e;return this.x=this.x*t-this.y*e,this.y=o,this},goog.math.Vec2.rotateAroundPoint=function(e,t,o){return e.clone().subtract(t).rotate(o).add(t)},goog.math.Vec2.prototype.equals=function(e){return this==e||e instanceof goog.math.Vec2&&!!e&&this.x==e.x&&this.y==e.y},goog.math.Vec2.distance=goog.math.Coordinate.distance,goog.math.Vec2.squaredDistance=goog.math.Coordinate.squaredDistance,goog.math.Vec2.equals=goog.math.Coordinate.equals,goog.math.Vec2.sum=function(e,t){return new goog.math.Vec2(e.x+t.x,e.y+t.y)},goog.math.Vec2.difference=function(e,t){return new goog.math.Vec2(e.x-t.x,e.y-t.y)},goog.math.Vec2.dot=function(e,t){return e.x*t.x+e.y*t.y},goog.math.Vec2.determinant=function(e,t){return e.x*t.y-e.y*t.x},goog.math.Vec2.lerp=function(e,t,o){return new goog.math.Vec2(goog.math.lerp(e.x,t.x,o),goog.math.lerp(e.y,t.y,o))},Blockly.ScrollOnBlockDragHandler=function(e){this.blockSpace_=e,this.SCROLL_DIRECTION_VECTORS={top:new goog.math.Vec2(0,-1),bottom:new goog.math.Vec2(0,1),left:new goog.math.Vec2(-1,0),right:new goog.math.Vec2(1,0)}},Blockly.ScrollOnBlockDragHandler.prototype.stopAutoScrolling=function(){this.activeAutoScroll_&&this.activeAutoScroll_.stopAndDestroy(),this.activeAutoScroll_=null};var MS_PER_SEC=1e3,MOUSE_SPEED_SLOW=.5,MOUSE_SPEED_FAST=1.6,BLOCK_SPEED_SLOW=.28,BLOCK_SPEED_FAST=1.4,MOUSE_START_DISTANCE=0,MOUSE_START_FAST_DISTANCE=35,BLOCK_START_DISTANCE=0,BLOCK_START_FAST_DISTANCE=50,OVERSIZE_BLOCK_THRESHOLD=.85,FALLBACK_DRAG_MARGIN=15;Blockly.ScrollOnBlockDragHandler.DEBUG=!1,Blockly.ScrollOnBlockDragHandler.prototype.panIfOverEdge=function(e,t,o){if(this.blockSpace_.currentlyScrollable()){var n=[];if(this.blockSpace_.scrollbarPair&&this.blockSpace_.scrollbarPair.canScrollHorizontally()&&n.push("left","right"),this.blockSpace_.scrollbarPair&&this.blockSpace_.scrollbarPair.canScrollVertically()&&n.push("top","bottom"),0!==n.length){var r=Blockly.mouseCoordinatesToSvg(t,o,this.blockSpace_.blockSpaceEditor.svg_);r=Blockly.svgCoordinatesToViewport(new goog.math.Coordinate(r.x,r.y),this.blockSpace_),r=Blockly.viewportCoordinateToBlockSpace(r,this.blockSpace_);var i=this.blockSpace_.getViewportBox(),a=e.getBox(),s=Blockly.getBoxHeight(a),l=Blockly.getBoxHeight(i);l*OVERSIZE_BLOCK_THRESHOLD<s&&(a.top=Math.max(a.top,r.y-FALLBACK_DRAG_MARGIN),a.bottom=Math.min(a.bottom,r.y+FALLBACK_DRAG_MARGIN)),(s=Blockly.getBoxWidth(a))>(l=Blockly.getBoxWidth(i))*OVERSIZE_BLOCK_THRESHOLD&&(a.left=Math.max(a.left,r.x-FALLBACK_DRAG_MARGIN),a.right=Math.min(a.right,r.x+FALLBACK_DRAG_MARGIN));var c=Blockly.getBoxOverflow(i,a),u=Blockly.getPointBoxOverflow(i,new goog.math.Coordinate(r.x,r.y));Blockly.ScrollOnBlockDragHandler.DEBUG&&(this.blockSpace_.drawDebugCircle("mouse circle",new goog.math.Coordinate(r.x,r.y),"orange"),this.blockSpace_.drawDebugBox("block box"+e.id,a,"purple"),this.blockSpace_.drawDebugBox("block space box",i,"blue"));var d=new goog.math.Vec2(0,0);n.forEach(function(e){var t=u[e],o=c[e];e=this.SCROLL_DIRECTION_VECTORS[e];var n=[];Blockly.numberWithin(o,BLOCK_START_DISTANCE,BLOCK_START_FAST_DISTANCE,!1)&&n.push(e.clone().scale(BLOCK_SPEED_SLOW)),BLOCK_START_FAST_DISTANCE<o&&n.push(e.clone().scale(BLOCK_SPEED_FAST)),Blockly.numberWithin(t,MOUSE_START_DISTANCE,MOUSE_START_FAST_DISTANCE,!1)&&n.push(e.clone().scale(MOUSE_SPEED_SLOW)),MOUSE_START_FAST_DISTANCE<t&&n.push(e.clone().scale(MOUSE_SPEED_FAST)),(t=n.reduce(function(e,t){return e&&e.magnitude()>t.magnitude()?e:t},null))&&(d=goog.math.Vec2.sum(d,t))},this),d.equals(new goog.math.Vec2(0,0))?this.stopAutoScrolling():(this.activeAutoScroll_=this.activeAutoScroll_||new Blockly.AutoScroll(this.blockSpace_,d),this.activeAutoScroll_.updateProperties(d,t,o))}}},Blockly.Xml={},Blockly.Xml.blockSpaceToDom=function(e){var t=Blockly.isMsie()?document.createElementNS(null,"xml"):document.createElement("xml");e=e.getTopBlocks(!0);for(var o,n=0;n<e.length;n++)o=e[n],o=Blockly.Xml.blockToDom(o),t.appendChild(o);return t},Blockly.Xml.blockToDom=function(e,t){var o,n,r,i=goog.dom.createDom("block");for(i.setAttribute("type",e.type),e.mutationToDom&&(r=e.mutationToDom())&&i.appendChild(r),o=0;o<e.inputList.length;o++)for(r=e.inputList[o],n=0;n<r.titleRow.length;n++){var a=r.titleRow[n];if(a.name&&a.EDITABLE){var s=goog.dom.createDom("title",null,a.getValue());s.setAttribute("name",a.name),a.config&&s.setAttribute("config",a.config),i.appendChild(s)}}for(o=0;o<e.inputList.length;o++)if(n=!0,(r=e.inputList[o]).type!=Blockly.DUMMY_INPUT){if(a=!1,s=r.connection.targetBlock(),r.type===Blockly.INPUT_VALUE)var l=goog.dom.createDom("value");else r.type===Blockly.NEXT_STATEMENT?(l=goog.dom.createDom("statement"),a=t):r.type===Blockly.FUNCTIONAL_INPUT&&(l=goog.dom.createDom("functional_input"),a=t);s&&!a&&(l.appendChild(Blockly.Xml.blockToDom(s)),n=!1),l.setAttribute("name",r.name),n||i.appendChild(l)}return e.isCollapsed()&&i.setAttribute("collapsed",!0),e.disabled&&i.setAttribute("disabled",!0),e.isDeletable()||i.setAttribute("deletable",!1),e.isMovable()||i.setAttribute("movable",!1),e.isEditable()||i.setAttribute("editable",!1),e.isUserVisible()||i.setAttribute("uservisible",!1),e.inputCount&&i.setAttribute("inputcount",String(e.inputCount)),e.isNextConnectionDisabled()&&i.setAttribute("next_connection_disabled",!0),e.canDisconnectFromParent()||i.setAttribute("can_disconnect_from_parent",!1),e.isFunctionDefinition()&&e.userCreated&&i.setAttribute("usercreated",!0),Blockly.editBlocks&&(l=e.blockSpace.blockSpaceEditor.blockLimits.getLimit(e.type))&&i.setAttribute("limit",l),e.htmlId&&i.setAttribute("id",e.htmlId),e.nextConnection&&!t&&(e=e.nextConnection.targetBlock())&&(l=goog.dom.createDom("next",null,Blockly.Xml.blockToDom(e)),i.appendChild(l)),i},Blockly.Xml.domToText=function(e){return(new XMLSerializer).serializeToString(e).replace(/ xmlns="http:\/\/www.w3.org\/1999\/xhtml"/g,"")},Blockly.Xml.domToPrettyText=function(e){e=Blockly.Xml.domToText(e).split("<");for(var t="",o=1;o<e.length;o++){var n=e[o];"/"==n[0]&&(t=t.substring(2)),e[o]=t+"<"+n,"/"!=n[0]&&"/>"!=n.slice(-2)&&(t+="  ")}return(e=(e=e.join("\n")).replace(/(<(\w+)\b[^>]*>[^\n]*)\n *<\/\2>/g,"$1</$2>")).replace(/^\n/,"")},Blockly.Xml.textToDom=function(e){if(!(e=(new DOMParser).parseFromString(e,"text/xml"))||!e.firstChild||"xml"!=e.firstChild.nodeName.toLowerCase())throw"Blockly.Xml.textToDom did not obtain a valid XML tree.";return e.firstChild},Blockly.Xml.domToBlockSpace=function(e,t){var o=e.getMetrics(),n=o?o.viewWidth:0;o=e.blockSpaceEditor.shouldHavePadding()?Blockly.BlockSpace.AUTO_LAYOUT_PADDING_LEFT:0;var r=e.blockSpaceEditor.shouldHavePadding()?Blockly.BlockSpace.AUTO_LAYOUT_PADDING_TOP:0,i=Blockly.RTL?n-o:o,a=r;o=function(e){var t=e.blockly_block.getSvgPadding()||{top:0,right:0,bottom:0,left:0},o=e.blockly_block.getHeightWidth();isNaN(e.x)?(e.x=i,e.x+=Blockly.RTL?-t.right:t.left):e.x=Blockly.RTL?n-e.x:e.x,isNaN(e.y)&&(e.y=a+t.top,a+=o.height+Blockly.BlockSvg.SEP_SPACE_Y+t.bottom+t.top),e.blockly_block.moveTo(e.x,e.y)},r=[];for(var s,l=0;s=t.childNodes[l];l++)if("block"===s.nodeName.toLowerCase()){var c=Blockly.Xml.domToBlock(e,s),u=parseInt(s.getAttribute("x"),10);s=parseInt(s.getAttribute("y"),10),r.push({blockly_block:c,x:u,y:s})}return r.filter(function(e){return e.blockly_block.isVisible()}).forEach(o),r.filter(function(e){return!e.blockly_block.isVisible()}).forEach(o),Blockly.topLevelProcedureAutopopulate&&e.blockSpaceEditor.updateFlyout(),e.events.dispatchEvent(Blockly.BlockSpace.EVENTS.EVENT_BLOCKS_IMPORTED),e.render(),r},Blockly.Xml.domToBlock=function(e,t){var o=t.getAttribute("type"),n=t.getAttribute("id");(o=new Blockly.Block(e,o,n)).initSvg(),(n=t.getAttribute("collapsed"))&&o.setCollapsed("true"===n),(n=t.getAttribute("disabled"))&&!o.unknownBlock&&o.setDisabled("true"===n),(n=t.getAttribute("deletable"))&&!o.unknownBlock&&o.setDeletable("true"===n),(n=t.getAttribute("movable"))&&!o.unknownBlock&&o.setMovable("true"===n),(n=t.getAttribute("editable"))&&o.setEditable("true"===n),o.unknownBlock&&o.setEditable(!1),(n=t.getAttribute("next_connection_disabled"))&&o.setNextConnectionDisabled("true"===n),(n=t.getAttribute("can_disconnect_from_parent"))&&o.setCanDisconnectFromParent("true"===n),(n=t.getAttribute("uservisible"))&&o.setUserVisible("true"===n),(n=t.getAttribute("usercreated"))&&(o.userCreated="true"===n),(n=t.getAttribute("inputcount"))&&o.setInputCount(n),n=t.getAttribute("limit");var r=Blockly.editBlocks?!e.isFlyout:e.isFlyout;for(n&&r&&e.blockSpaceEditor.blockLimits.setLimit(o.type,parseInt(n)),n=0;n<t.childNodes.length;n++)if(3!=(r=t.childNodes[n]).nodeType||!r.data.match(/^\s*$/)){for(var i,a=null,s=0;s<r.childNodes.length;s++)3==(i=r.childNodes[s]).nodeType&&i.data.match(/^\s*$/)||(a=i);switch(s=r.getAttribute("name"),i=o.getInput(s),r.nodeName.toLowerCase()){case"mutation":o.domToMutation&&o.domToMutation(r);break;case"title":(a=r.getAttribute("config"))&&o.setFieldConfig(s,a),o.setTitleValue(r.textContent,s);break;case"value":i||(i=o.appendValueInput(s),console.warn('Unknown block input: "'+s+'" not found.'));case"statement":i||(i=o.appendStatementInput(s),console.warn('Unknown statement: "'+s+'" not found.'));case"functional_input":if(i||(i=o.appendFunctionalInput(s),console.warn('Unknown functional input: "'+s+'" not found.')),a&&"block"==a.nodeName.toLowerCase()){if(r=Blockly.Xml.domToBlock(e,a),o.unknownBlock&&r.setMovable(!0),r.unknownBlock)switch(i.connection.type){case Blockly.NEXT_STATEMENT:r.setPreviousStatement(!0);break;case Blockly.INPUT_VALUE:r.setOutput(!0);break;default:throw"Unable to infer connection type for unknown block."}if(r.outputConnection)i.connection.connect(r.outputConnection);else{if(!r.previousConnection)throw"Child block does not have output or previous statement.";i.connection.connect(r.previousConnection)}}break;case"next":if(a&&"block"==a.nodeName.toLowerCase()){if(o.nextConnection){if(o.nextConnection.targetConnection)throw"Next statement is already connected."}else{if(!o.unknownBlock)throw"Next statement does not exist.";o.setNextStatement(!0)}if(r=Blockly.Xml.domToBlock(e,a),o.unknownBlock&&r.setMovable(!0),r.unknownBlock&&r.setPreviousStatement(!0),!r.previousConnection)throw"Next block does not have previous statement.";o.nextConnection.connect(r.previousConnection)}}}return(e=o.nextConnection&&o.nextConnection.targetBlock())&&e.render(!0),o.render(!0),o},Blockly.Xml.deleteNext=function(e){for(var t,o=0;o<e.childNodes.length;o++)if("next"==(t=e.childNodes[o]).nodeName.toLowerCase()){e.removeChild(t);break}},Blockly.BlockSpace=function(e,t,o){this.blockSpaceEditor=e,this.getMetrics=t,this.setMetrics=function(e){o(e),Blockly.fireUiEvent(window,"block_space_metrics_set")},this.isFlyout=!1,this.topBlocks_=[],this.deleteAreas_=[],this.pickedUpBlockOrigin_=null,this.maxBlocks=1/0,this.events=new goog.events.EventTarget,this.panDragHandler_=new Blockly.PanDragHandler(this),this.scrollOnWheelHandler_=new Blockly.ScrollOnWheelHandler(this),this.scrollOnBlockDragHandler_=new Blockly.ScrollOnBlockDragHandler(this),Blockly.ConnectionDB.init(this),Blockly.BlockSpace.DEBUG_EVENTS&&this.debugLogOnEvents(),this.events.listen(Blockly.BlockSpace.EVENTS.EVENT_BLOCKS_IMPORTED,this.updateScrollableSize.bind(this))},Blockly.BlockSpace.DEBUG_EVENTS=!1,Blockly.BlockSpace.EVENTS={},Blockly.BlockSpace.EVENTS.MAIN_BLOCK_SPACE_CREATED="mainBlockSpaceCreated",Blockly.BlockSpace.EVENTS.EVENT_BLOCKS_IMPORTED="blocksImported",Blockly.BlockSpace.EVENTS.BLOCK_SPACE_CHANGE="blockSpaceChange",Blockly.BlockSpace.EVENTS.BLOCK_SPACE_SCROLLED="blockSpaceScrolled",Blockly.BlockSpace.EVENTS.RUN_BUTTON_CLICKED="runButtonClicked",Blockly.BlockSpace.SCAN_ANGLE=3,Blockly.BlockSpace.AUTO_LAYOUT_PADDING_TOP=16,Blockly.BlockSpace.AUTO_LAYOUT_PADDING_LEFT=16,Blockly.BlockSpace.DROPPED_BLOCK_PAN_MARGIN=25,Blockly.BlockSpace.SCROLLABLE_MARGIN_BELOW_BOTTOM=100,Blockly.BlockSpace.createReadOnlyBlockSpace=function(e,t,o){return o=o||{},e=new Blockly.BlockSpaceEditor(e,{getMetrics:function(){var e=Blockly.BlockSpaceEditor.prototype.getBlockSpaceMetrics_.call(this);return e?(e.viewHeight+=Blockly.BlockSpace.SCROLLABLE_MARGIN_BELOW_BOTTOM,e):null},setMetrics:function(e){Blockly.BlockSpaceEditor.prototype.setBlockSpaceMetrics_.call(this,e)},hideTrashRect:!0,readOnly:!0,disableTooltip:!0,noScrolling:o.noScrolling,inline:o.inline,disableEventBindings:o.disableEventBindings}).blockSpace,Blockly.Xml.domToBlockSpace(e,t),e},Blockly.BlockSpace.onMainBlockSpaceCreated=function(e){Blockly.mainBlockSpace?e():document.addEventListener(Blockly.BlockSpace.EVENTS.MAIN_BLOCK_SPACE_CREATED,e)},Blockly.BlockSpace.prototype.xOffsetFromView=0,Blockly.BlockSpace.prototype.yOffsetFromView=0,Blockly.BlockSpace.prototype.trashcan=null;var fireGlobalChangeEventPid_=Blockly.BlockSpace.prototype.fireChangeEventPid_=null;Blockly.BlockSpace.prototype.scrollbarPair=null,Blockly.BlockSpace.prototype.isReadOnly=function(){return Blockly.readOnly||this.blockSpaceEditor.isReadOnly()},Blockly.BlockSpace.prototype.isMovementLocked=function(){return this.blockSpaceEditor.isMovementLocked()},Blockly.BlockSpace.prototype.debugLogOnEvents=function(){goog.object.forEach(Blockly.BlockSpace.EVENTS,function(t,o){this.events.listen(t,function(e){console.log(e),console.log(o),console.log(t)},!1,this)},this)},Blockly.BlockSpace.prototype.findFunction=function(t){return goog.array.find(this.getTopBlocks(),function(e){return goog.array.contains(Blockly.Procedures.DEFINITION_BLOCK_TYPES,e.type)&&Blockly.Names.equals(t,e.getTitleValue("NAME"))})},Blockly.BlockSpace.prototype.findFunctionExamples=function(t){return goog.array.filter(this.getTopBlocks(),function(e){return Blockly.ContractEditor.EXAMPLE_BLOCK_TYPE===e.type&&(e=e.getInputTargetBlock(Blockly.ContractEditor.EXAMPLE_BLOCK_ACTUAL_INPUT_NAME))&&(!t||Blockly.Names.equals(t,e.getTitleValue("NAME")))})},Blockly.BlockSpace.prototype.createDom=function(){return this.svgGroup_=Blockly.createSvgElement("g",{class:"svgGroup"},null),this.clippingGroup_=Blockly.createSvgElement("g",{class:"svgClippingGroup"},this.svgGroup_),this.svgBlockCanvas_=Blockly.createSvgElement("g",{class:"svgBlockCanvas"},this.clippingGroup_),this.svgBubbleCanvas_=Blockly.createSvgElement("g",{class:"svgBubbleCanvas"},this.svgGroup_),this.svgDebugCanvas_=Blockly.createSvgElement("g",{class:"svgDebugCanvas"},this.svgGroup_),Blockly.dragSvg||(Blockly.dragSvg=Blockly.createSvgElement("svg",{id:"blocklyDragCanvas",width:"100%",height:"100%"},document.body)),this.svgDragCanvas_=Blockly.createSvgElement("g",{class:"svgDragCanvas"},Blockly.dragSvg),Blockly.bindEvent_(this.svgBlockCanvas_,Blockly.BlockSpace.EVENTS.RUN_BUTTON_CLICKED,this,function(){this.getTopBlocks().forEach(function(e){e.isUnused()&&e.getSvgRenderer().addUnusedFrame()})}),this.fireChangeEvent(),this.svgGroup_},Blockly.BlockSpace.prototype.moveElementToDragCanvas=function(e){this.getDragCanvas().appendChild(e),Blockly.addClass_(Blockly.dragSvg,"isDragging")},Blockly.BlockSpace.prototype.moveElementToMainCanvas=function(e){this.getCanvas().appendChild(e),Blockly.removeClass_(Blockly.dragSvg,"isDragging")},Blockly.BlockSpace.prototype.dispose=function(){this.svgGroup_&&(goog.dom.removeNode(this.svgGroup_),this.svgGroup_=null),this.svgDragCanvas_&&goog.dom.removeNode(this.svgDragCanvas_),this.svgBubbleCanvas_=this.svgDebugCanvas_=this.svgDragCanvas_=this.svgBlockCanvas_=null,this.flyout_&&(this.flyout_.dispose(),this.flyout_=null),this.trashcan&&(this.trashcan.dispose(),this.trashcan=null),this.scrollbarPair&&(this.scrollbarPair.dispose(),this.scrollbarPair=null)},Blockly.BlockSpace.prototype.addTrashcan=function(){if(Blockly.hasTrashcan&&!this.isReadOnly()){this.trashcan=new Blockly.Trashcan(this);var e=this.trashcan.createDom();this.svgBlockCanvas_.appendChild(e),this.trashcan.init()}},Blockly.BlockSpace.prototype.setTrashcan=function(e){this.trashcan=e},Blockly.BlockSpace.prototype.getClippingGroup=function(){return this.clippingGroup_},Blockly.BlockSpace.prototype.getCanvas=function(){return this.svgBlockCanvas_},Blockly.BlockSpace.prototype.getDragCanvas=function(){return this.svgDragCanvas_},Blockly.BlockSpace.prototype.getBubbleCanvas=function(){return this.svgBubbleCanvas_},Blockly.BlockSpace.prototype.addTopBlock=function(e){this.topBlocks_.push(e),this.fireChangeEvent()},Blockly.BlockSpace.prototype.isTopBlock=function(e){return-1<this.topBlocks_.indexOf(e)},Blockly.BlockSpace.prototype.removeTopBlock=function(e){for(var t=!1,o=0;o<this.topBlocks_.length;o++)if(this.topBlocks_[o]==e){this.topBlocks_.splice(o,1),t=!0;break}if(!t)throw"Block not present this blockSpace's list of top-most blocks.";this.fireChangeEvent()},Blockly.BlockSpace.prototype.getTopBlocks=function(e,t){void 0===e&&(e=!1),void 0===t&&(t=!0);var o=[];if(o=!t||this!==Blockly.mainBlockSpace&&this!==Blockly.modalBlockSpace?o.concat(this.topBlocks_):o.concat(Blockly.mainBlockSpace.topBlocks_).concat(Blockly.modalBlockSpace?Blockly.modalBlockSpace.topBlocks_:[]),e&&1<o.length){var n=Math.sin(Blockly.BlockSpace.SCAN_ANGLE/180*Math.PI);Blockly.RTL&&(n*=-1),o.sort(function(e,t){return e=e.getRelativeToSurfaceXY(),t=t.getRelativeToSurfaceXY(),e.y+n*e.x-(t.y+n*t.x)})}return o},Blockly.BlockSpace.prototype.getAllVisibleBlocks=function(){return goog.array.filter(this.getAllBlocks(),function(e){return e.isUserVisible()})},Blockly.BlockSpace.prototype.getAllUsedBlocks=function(){return goog.array.filter(this.getAllBlocks(),function(e){return!e.getRootBlock().isUnused()})},Blockly.BlockSpace.prototype.getTopUsedBlocks=function(){return goog.array.filter(this.getTopBlocks(),function(e){return!e.isUnused()})},Blockly.BlockSpace.prototype.getAllBlocks=function(e){e=e||{},e=this.getTopBlocks(!1,e.shareMainModal);for(var t=0;t<e.length;t++)e=e.concat(e[t].getChildren());return e},Blockly.BlockSpace.prototype.getBlockCount=function(){return this.getAllVisibleBlocks().length},Blockly.BlockSpace.prototype.clear=function(){for(this.blockSpaceEditor.hideChaff();this.topBlocks_.length;)this.topBlocks_[0].dispose()},Blockly.BlockSpace.prototype.render=function(){for(var e,t=this.getAllBlocks(),o=0;o<t.length;o++)(e=t[o]).getChildren().length||e.render()},Blockly.BlockSpace.prototype.getBlockById=function(e){for(var t,o=this.getAllBlocks(),n=0;n<o.length;n++)if((t=o[n]).id==e)return t;return null},Blockly.BlockSpace.prototype.traceOn=function(e){this.traceOn_=e,this.traceWrapper_&&(Blockly.unbindEvent_(this.traceWrapper_),this.traceWrapper_=null),e&&(this.traceWrapper_=Blockly.bindEvent_(this.svgBlockCanvas_,"blocklySelectChange",this,function(){this.traceOn_=!1}))},Blockly.BlockSpace.prototype.highlightBlock=function(e,t){if(this.traceOn_&&!Blockly.Block.isDragging()){var o=null;if(e&&!(o=this.getBlockById(e)))return;this.traceOn(!1),o?o.select(t):Blockly.selected&&Blockly.selected.unselect(),this.traceOn(!0)}},Blockly.BlockSpace.prototype.fireChangeEvent=function(){this.fireChangeEventPid_&&window.clearTimeout(this.fireChangeEventPid_);var e=this.svgBlockCanvas_;if(e){var t=this;this.fireChangeEventPid_=window.setTimeout(function(){t.events.dispatchEvent(Blockly.BlockSpace.EVENTS.BLOCK_SPACE_CHANGE),Blockly.fireUiEvent(e,"blocklyBlockSpaceChange")},0)}fireGlobalChangeEventPid_&&window.clearTimeout(fireGlobalChangeEventPid_),fireGlobalChangeEventPid_=window.setTimeout(function(){Blockly.fireUiEvent(window,"workspaceChange")},0)},Blockly.BlockSpace.prototype.paste=function(e){this===Blockly.mainBlockSpace&&goog.array.forEach(e.querySelectorAll("block[type=parameters_get]"),function(e){goog.dom.removeNode(e)}),e.getElementsByTagName("block").length>=this.remainingCapacity()||((e=Blockly.Xml.domToBlockSpace(this,e)).forEach(function(e){e.blockly_block.bumpNeighbours()}),e[0].blockly_block.select())},Blockly.BlockSpace.prototype.remainingCapacity=function(){return 1/0==this.maxBlocks?1/0:this.maxBlocks-this.getAllBlocks().length},Blockly.BlockSpace.prototype.recordPickedUpBlockOrigin=function(){var e=this.blockSpaceEditor.getCanvasBBox(this.getDragCanvas());this.pickedUpBlockOrigin_=Blockly.svgRectToRect(e)},Blockly.BlockSpace.prototype.clearPickedUpBlockOrigin=function(){this.pickedUpBlockOrigin_=null},Blockly.BlockSpace.prototype.recordDeleteAreas=function(){this.deleteAreas_=[],this.trashcan?(goog.array.extend(this.deleteAreas_,this.trashcan.getRect()),this.deleteAreaTrash_=this.trashcan.getRect()):this.deleteAreaTrash_=null,this.flyout_&&goog.array.extend(this.deleteAreas_,this.flyout_.getRect()),this.blockSpaceEditor&&goog.array.extend(this.deleteAreas_,this.blockSpaceEditor.getDeleteAreas())},Blockly.BlockSpace.prototype.isDeleteArea=function(e,t,o,n){if(!Blockly.languageTree)return!1;for(e=Blockly.mouseCoordinatesToSvg(e,t,this.blockSpaceEditor.svg_),e=new goog.math.Coordinate(e.x,e.y),o=Blockly.mouseCoordinatesToSvg(o,0,this.blockSpaceEditor.svg_),o=new goog.math.Coordinate(o.x,o.x),this.deleteAreaTrash_&&(this.deleteAreaTrash_.contains(e)?this.trashcan.setOpen_(!0):this.trashcan.setOpen_(!1)),this.drawTrashZone(e.x,o.x,n),n=0;n<this.deleteAreas_.length;n++)if((o=this.deleteAreas_[n]).contains(e))return!0;return this.blockSpaceEditor.setCursor(Blockly.Css.Cursor.CLOSED),!1},Blockly.BlockSpace.prototype.hideDelete=function(){this.drawTrashZone(Blockly.RTL?-1e4:1e4,0)},Blockly.BlockSpace.prototype.drawTrashZone=function(e,t,o){var n=null,r=this.blockSpaceEditor.hideTrashRect_?Blockly.mainBlockSpaceEditor:this.blockSpaceEditor;if(this.blockSpaceEditor.toolbox){var i=r.toolbox,a=r.svgBackground_,s=i.tree_.element_,l=i.trashcan;i=i.trashcanHolder,this.blockSpaceEditor.hideTrashRect_&&(n=this.blockSpaceEditor.toolbox.tree_.element_)}else a=(l=r.flyout_).svgBackground_,s=l.blockSpace_.svgGroup_,i=(l=l.trashcan).svgGroup_,this.blockSpaceEditor.hideTrashRect_&&(n=this.blockSpaceEditor.flyout_.svgGroup_);var c=a.getBoundingClientRect().width;if(Blockly.RTL){var u=t+10<e;e=(r=r.svg_.getBoundingClientRect().width-c)-e,r=r-t-10}else u=e<t-10,e-=c,r=t-c-10;c=(t=1)-.8,o?l.setDisabled(!0):l.setDisabled(!1),u&&(e<=0?(t=0,o||l.setOpen_(!0)):(l.setOpen_(!1),t=r<=e?1:r<100?e/r:e<100?e/100*.8:.8+(e-100)/(r-100)*c)),o=1-t,a.style.fill="rgb("+Math.floor(170*o+221*t)+", "+Math.floor(170*o+221*t)+", "+Math.floor(170*o+221*t)+")",s.style.opacity=t,n&&(n.style.opacity=t),i.style.opacity=o,i.style.display=0===o?"none":"block"},Blockly.BlockSpace.prototype.getScrollableSize=function(e){var t=this.scrollbarPair,o=t&&t.canScrollHorizontally();t=t&&t.canScrollVertically();var n=this.isFlyout?0:Blockly.BlockSpace.SCROLLABLE_MARGIN_BELOW_BOTTOM;return{width:o?Math.max(e.contentLeft+e.contentWidth,e.viewWidth):e.viewWidth,height:t?Math.max(e.contentTop+e.contentHeight+n,e.viewHeight):e.viewHeight}},Blockly.BlockSpace.prototype.getScrollableBox=function(){var e=this.getScrollableSize(this.getMetrics());return new goog.math.Box(0,e.width,e.height,0)},Blockly.BlockSpace.prototype.getViewportBox=function(){var e=this.getMetrics();return new goog.math.Box(this.getScrollOffsetY(),this.getScrollOffsetX()+e.viewWidth,this.getScrollOffsetY()+e.viewHeight,this.getScrollOffsetX())},Blockly.BlockSpace.prototype.panIfOverEdge=function(e,t,o){this.scrollOnBlockDragHandler_.panIfOverEdge(e,t,o)},Blockly.BlockSpace.prototype.stopAutoScrolling=function(){this.scrollOnBlockDragHandler_.stopAutoScrolling()},Blockly.BlockSpace.prototype.scrollIntoView=function(e){var t=e.getBox(),o=this.getViewportBox();e=Blockly.getBoxOverflow(o,t),Blockly.addToNonZeroSides(e,Blockly.BlockSpace.DROPPED_BLOCK_PAN_MARGIN);var n=Blockly.isBoxWiderThan(t,o),r=Blockly.isBoxTallerThan(t,o);t=!(!n&&!r)&&goog.math.Box.intersects(t,o),this.scrollToDelta(n&&t?0:e.right-e.left,r&&t?0:e.bottom-e.top)},Blockly.BlockSpace.prototype.scrollDeltaWithAnySelectedBlock=function(e,t,o,n){this.scrollWithAnySelectedBlock(this.getScrollOffsetX()+e,this.getScrollOffsetY()+t,o,n)},Blockly.BlockSpace.prototype.scrollWithAnySelectedBlock=function(e,t,o,n){var r=this.getScrollOffset();this.scrollTo(e,t),Blockly.Block.isFreelyDragging()&&Blockly.selected&&(e=this.getScrollOffset().subtract(r),Blockly.selected.startDragMouseX-=e.x,Blockly.selected.startDragMouseY-=e.y,Blockly.selected.moveBlockBeingDragged_(o,n))},Blockly.BlockSpace.prototype.scrollToDelta=function(e,t){this.scrollTo(this.getScrollOffsetX()+e,this.getScrollOffsetY()+t)},Blockly.BlockSpace.prototype.scrollTo=function(e,t){if(this.scrollbarPair){var o=this.getMaxScrollOffsets();e=goog.math.clamp(e,0,o.x),t=goog.math.clamp(t,0,o.y),this.scrollbarPair.set(e,t),this.events.dispatchEvent(Blockly.BlockSpace.EVENTS.BLOCK_SPACE_SCROLLED)}},Blockly.BlockSpace.prototype.currentlyScrollable=function(){var e=this.getMaxScrollOffsets();return 0<e.x||0<e.y},Blockly.BlockSpace.prototype.getMaxScrollOffsets=function(){var e=this.getMetrics(),t=this.getScrollableSize(e);return{x:t.width-e.viewWidth,y:t.height-e.viewHeight}},Blockly.BlockSpace.prototype.getScrollOffset=function(){return new goog.math.Vec2(this.getScrollOffsetX(),this.getScrollOffsetY())},Blockly.BlockSpace.prototype.getScrollOffsetX=function(){return-this.xOffsetFromView},Blockly.BlockSpace.prototype.getScrollOffsetY=function(){return-this.yOffsetFromView},Blockly.BlockSpace.prototype.updateScrollableSize=function(){this.scrollbarPair&&this.scrollbarPair.resize()},Blockly.BlockSpace.prototype.bindBeginPanDragHandler=function(e,t){this.panDragHandler_.bindBeginPanDragHandler(e,t)},Blockly.BlockSpace.prototype.bindScrollOnWheelHandler=function(e){this.scrollOnWheelHandler_.bindTo(e)},Blockly.BlockSpace.prototype.unbindBeginPanDragHandler=function(){this.panDragHandler_.unbindBeginPanDragHandler()},Blockly.BlockSpace.prototype.debugRects_={},Blockly.BlockSpace.prototype.drawDebugBox=function(e,t,o){t=goog.math.Rect.createFromBox(t),this.debugRects_[e]||(this.debugRects_[e]=Blockly.createSvgElement("rect",{fill:"none",style:"pointer-events: none"},this.svgDebugCanvas_)),this.svgDebugCanvas_.setAttribute("transform",this.svgBlockCanvas_.getAttribute("transform")),(e=this.debugRects_[e]).setAttribute("x",t.left),e.setAttribute("y",t.top),e.setAttribute("width",t.width),e.setAttribute("height",t.height),e.setAttribute("stroke",o),e.setAttribute("stroke-width",3)},Blockly.BlockSpace.prototype.debugCircles_={},Blockly.BlockSpace.prototype.drawDebugCircle=function(e,t,o){this.debugCircles_[e]||(this.debugCircles_[e]=Blockly.createSvgElement("circle",{cx:"50",cy:"50",r:"50",style:"pointer-events: none"},this.svgDebugCanvas_)),this.svgDebugCanvas_.setAttribute("transform",this.svgBlockCanvas_.getAttribute("transform")),(e=this.debugCircles_[e]).setAttribute("cx",""+t.x),e.setAttribute("cy",""+t.y),e.setAttribute("r",10),e.setAttribute("fill",o)},Blockly.BlockSpace.prototype.clearDebugDrawings=function(){[this.debugCircles_,this.debugRects_].forEach(function(e){for(var t in e)goog.dom.removeNode(e[t])}),this.debugCircles_={},this.debugRects_={}};var ROUNDED_NOTCH_PATHS={left:"l 6,4 3,0 6,-4",leftHighlight:"l 6.5,4 2,0 6.5,-4",right:"l -6,4 -3,0 -6,-4"},SQUARE_NOTCH_PATHS={left:"l 0,5 15,0 0,-5",leftHighlight:"l 0,5 15,0 0,-5",right:"l 0,5 -15,0 0,-5"};Blockly.Connection=function(e,t){this.sourceBlock_=e,this.targetConnection=null,this.type=t,this.y_=this.x_=0,this.inDB_=!1,this.dbList_=this.sourceBlock_.blockSpace.connectionDBList,this.check_=null,this.fieldHelpers_={}},Blockly.Connection.Shapes={STANDARD:"standard",ANGLE:"angle",SQUARE:"square",ROUNDED:"rounded"},Blockly.Connection.prototype.isConnected=function(){return null!==this.targetConnection},Blockly.Connection.prototype.dispose=function(){if(this.isConnected())throw"Disconnect connection before disposing of it.";this.inDB_&&this.dbList_[this.type].removeConnection_(this),this.inDB_=!1,Blockly.highlightedConnection_==this&&(Blockly.highlightedConnection_=null),Blockly.localConnection_==this&&(Blockly.localConnection_=null)},Blockly.Connection.prototype.isSuperior=function(){return this.type===Blockly.INPUT_VALUE||this.type===Blockly.NEXT_STATEMENT||this.type===Blockly.FUNCTIONAL_INPUT},Blockly.Connection.prototype.connect=function(e){if(this.sourceBlock_==e.sourceBlock_)throw"Attempted to connect a block to itself.";if(this.sourceBlock_.blockSpace!==e.sourceBlock_.blockSpace)throw"Blocks are on different blockSpaces.";if(Blockly.OPPOSITE_TYPE[this.type]!=e.type)throw"Attempt to connect incompatible types.";if(this.isConnected())throw"Source connection already connected.";if(e.targetConnection&&this.handleOrphan_(e),this.isSuperior())var t=this.sourceBlock_,o=e.sourceBlock_;else t=e.sourceBlock_,o=this.sourceBlock_;(this.targetConnection=e).targetConnection=this,o.setParent(t),t.rendered&&t.getSvgRenderer().updateDisabled(),o.rendered&&o.getSvgRenderer().updateDisabled(),t.rendered&&o.rendered&&(this.type==Blockly.NEXT_STATEMENT||this.type==Blockly.PREVIOUS_STATEMENT?o.render():t.render()),this.sourceBlock_.isUserVisible()||this.sourceBlock_.setUserVisible(!1)},Blockly.Connection.prototype.handleOrphan_=function(e){var t=e.targetBlock();if(t.setParent(null),t.setUserVisible(!0),this.type===Blockly.INPUT_VALUE||this.type===Blockly.OUTPUT_VALUE){if(!t.outputConnection)throw"Orphan block does not have an output connection.";for(var o=this.sourceBlock_;o=Blockly.Connection.singleConnection_(o,t);){if(!o.targetBlock()){o.connect(t.outputConnection),t=null;break}o=o.targetBlock()}t&&window.setTimeout(function(){t.outputConnection.bumpAwayFrom_(e)},Blockly.BUMP_DELAY)}else if(this.type===Blockly.FUNCTIONAL_INPUT||this.type===Blockly.FUNCTIONAL_OUTPUT){if(!t.previousConnection)throw"Orphan block does not have a previous connection.";window.setTimeout(function(){t.previousConnection.bumpAwayFrom_(e)},Blockly.BUMP_DELAY)}else{if(this.type!=Blockly.PREVIOUS_STATEMENT)throw"Can only do a mid-stack connection with the top of a block.";if(!t.previousConnection)throw"Orphan block does not have a previous connection.";for(o=this.sourceBlock_;o.nextConnection;){if(!o.nextConnection.targetConnection){o.nextConnection.connect(t.previousConnection),t=null;break}o=o.nextConnection.targetBlock()}t&&window.setTimeout(function(){t.previousConnection.bumpAwayFrom_(e)},Blockly.BUMP_DELAY)}},Blockly.Connection.singleConnection_=function(e,t){for(var o=!1,n=0;n<e.inputList.length;n++){var r=e.inputList[n].connection;if(r&&r.type==Blockly.INPUT_VALUE&&t.outputConnection.checkAllowedConnectionType_(r)){if(o)return null;o=r}}return o},Blockly.Connection.prototype.disconnect=function(){var e=this.targetConnection;if(!e)throw"Source connection not connected.";if(e.targetConnection!=this)throw"Target connection not connected to source connection.";if(this.targetConnection=e.targetConnection=null,this.sourceBlock_.setUserVisible(!0),this.isSuperior()){var t=this.sourceBlock_;e=e.sourceBlock_}else t=e.sourceBlock_,e=this.sourceBlock_;t.rendered&&t.render(),e.rendered&&(e.getSvgRenderer().updateDisabled(),e.render())},Blockly.Connection.prototype.targetBlock=function(){return this.targetConnection?this.targetConnection.sourceBlock_:null},Blockly.Connection.prototype.bumpAwayFrom_=function(e){if(!Blockly.Block.isDragging()){var t=this.sourceBlock_.getRootBlock();if(!t.isInFlyout){var o=!1;if(!t.isMovable()){if(!(t=e.sourceBlock_.getRootBlock()).isMovable())return;e=this,o=!0}t.getSvgRoot().parentNode.appendChild(t.getSvgRoot());var n=e.x_+Blockly.SNAP_RADIUS-this.x_;e=e.y_+2*Blockly.SNAP_RADIUS-this.y_,o&&(e=-e),Blockly.RTL&&(n=-n),t.moveBy(n,e),t.bumpNeighbours()}}},Blockly.Connection.prototype.moveTo=function(e,t){this.inDB_&&this.dbList_[this.type].removeConnection_(this),this.x_=e,this.y_=t,this.dbList_[this.type].addConnection_(this)},Blockly.Connection.prototype.moveBy=function(e,t){this.moveTo(this.x_+e,this.y_+t)},Blockly.Connection.prototype.colorForType=function(e){if(e&&!(1<e.length))switch(e[0]){case"String":return[160,.45,.65];case"Number":return[258,.35,.62];case"Boolean":return[196,1,.79];case"Array":return[40,1,.99];case"Colour":return[196,1,.79];case"Sprite":return[355,.7,.7];case"Behavior":return[136,.84,.8];case"Location":return[52,.7,.92]}},Blockly.Connection.prototype.getPathInfo=function(){if(this.type===Blockly.INPUT_VALUE||this.type===Blockly.OUTPUT_VALUE)var e="m 0,0 "+Blockly.BlockSvg.TAB_PATHS_BY_SHAPE[this.getTabShape()].TAB_PATH_DOWN+" v 5";else{e=5+Blockly.BlockSvg.NOTCH_PATH_WIDTH;var t=this.getNotchPaths();e="m -"+e+",0 h 5 "+t.left+" h 5"}return t=this.sourceBlock_.getRelativeToSurfaceXY(),t="translate("+(this.x_-t.x)+", "+(this.y_-t.y)+")",Blockly.RTL&&(t+=" scale(-1, 1)"),{steps:e,transform:t,color:this.colorForType(this.check_)}},Blockly.Connection.prototype.highlight=function(){var e=this.getPathInfo();Blockly.Connection.highlightedPath_=Blockly.createSvgElement("path",{class:"blocklyHighlightedConnectionPath",d:e.steps,transform:e.transform},this.sourceBlock_.getSvgRoot())},Blockly.Connection.prototype.unhighlight=function(){goog.dom.removeNode(Blockly.Connection.highlightedPath_),delete Blockly.Connection.highlightedPath_},Blockly.Connection.prototype.getNotchPaths=function(){if(Blockly.Connection.NOTCH_PATHS_OVERRIDE)return Blockly.Connection.NOTCH_PATHS_OVERRIDE;var e=this&&this.check_||[];return 1===e.length&&e[0]===Blockly.BlockValueType.FUNCTION?SQUARE_NOTCH_PATHS:ROUNDED_NOTCH_PATHS},Blockly.Connection.prototype.getTabShape=function(){if(this.type!==Blockly.INPUT_VALUE&&this.type!==Blockly.OUTPUT_VALUE)return null;if(!this.strictType_||!Blockly.valueTypeTabShapeMap)return Blockly.Connection.Shapes.STANDARD;var e=this.check_[0];if(!e)throw"strict connections require a type";return Blockly.valueTypeTabShapeMap[e]||Blockly.Connection.Shapes.STANDARD},Blockly.Connection.prototype.tighten_=function(){var e=Math.round(this.targetConnection.x_-this.x_),t=Math.round(this.targetConnection.y_-this.y_);if(0!=e||0!=t){var o=this.targetBlock(),n=o.getSvgRoot();if(!n)throw"block is not rendered.";n=Blockly.getRelativeXY(n),o.getSvgRoot().setAttribute("transform","translate("+(n.x-e)+", "+(n.y-t)+")"),o.moveConnections_(-e,-t)}},Blockly.Connection.prototype.closest=function(r,i,a){function e(e){var t=s[e],o=t.sourceBlock_;if(!o.isVisible()||(t.type===Blockly.OUTPUT_VALUE||t.type===Blockly.FUNCTIONAL_OUTPUT||t.type===Blockly.PREVIOUS_STATEMENT)&&t.targetConnection||t.targetConnection&&!t.targetBlock().isMovable()||t.targetConnection&&!t.targetBlock().canDisconnectFromParent()||!p.checkAllowedConnectionType_(t))return!0;do{if(d==o)return!0;o=o.getParent()}while(o);var n=t.x_;return o=t.y_,t.sourceBlock_.getDragging()&&(n+=i,o+=a),t=l-n,o=c-o,(t=Math.sqrt(t*t+o*o))<=r&&(u=s[e],r=t),o<r}if(this.isConnected())return{connection:null,radius:r};for(var s=this.dbList_[Blockly.OPPOSITE_TYPE[this.type]],l=this.x_+i,c=this.y_+a,t=0,o=s.length-2,n=o;t<n;)s[n].y_<c?t=n:o=n,n=Math.floor((t+o)/2);o=t=n;var u=null,d=this.sourceBlock_,p=this;if(s.length){for(;0<=t&&e(t);)t--;for(;++o<s.length&&e(o););}return{connection:u,radius:r}},Blockly.Connection.prototype.checkAllowedConnectionType_=function(e){if(!this.strictCheck()&&!e.strictCheck()&&(this.acceptsAnyType()||e.acceptsAnyType()))return!0;if(this.strictCheck()&&e.acceptsAnyType()||this.acceptsAnyType()&&e.strictCheck())return!1;for(var t=0;t<this.check_.length;t++)if(e.acceptsType(this.check_[t]))return!0;return!1},Blockly.Connection.prototype.strictCheck=function(){return this.strictType_},Blockly.Connection.prototype.acceptsAnyType=function(){return!this.check_||this.acceptsType(Blockly.BlockValueType.NONE)},Blockly.Connection.prototype.acceptsType=function(e){return!this.check_||goog.array.contains(this.check_,e)},Blockly.Connection.prototype.setStrictCheck=function(e){return this.setCheck(e,!0)},Blockly.Connection.prototype.setCheck=function(e,t){if(e&&e!==Blockly.BlockValueType.NONE){if(e instanceof Array||(e=[e]),this.check_=e,(this.strictType_=!!t)&&!this.check_)throw"Strict connections must specify a type";this.targetConnection&&!this.checkAllowedConnectionType_(this.targetConnection)&&(this.isSuperior()?this.targetBlock().setParent(null):this.sourceBlock_.setParent(null),this.sourceBlock_.bumpNeighbours()),this.type!==Blockly.OUTPUT_VALUE||this.sourceBlock_.getColour()||this.sourceBlock_.setHSV.apply(this.sourceBlock_,this.colorForType(e))}else this.check_=null;return this},Blockly.Connection.prototype.addFieldHelper=function(e,t){return this.fieldHelpers_[e]=t,this},Blockly.Connection.prototype.getFieldHelperOptions=function(e){return this.fieldHelpers_&&this.fieldHelpers_[e]},Blockly.Connection.prototype.getCheck=function(){return this.check_},Blockly.Connection.prototype.neighbours_=function(n){function e(e){var t=i[e],o=t.sourceBlock_;return!Blockly.editBlocks&&!o.isVisible()||(o=l-t.x_,t=c-t.y_,Math.sqrt(o*o+t*t)<=n&&u.push(i[e]),t<n)}for(var t,o=this.dbList_[this.type],r=this.dbList_[Blockly.OPPOSITE_TYPE[this.type]],i=[],a=0,s=0;a<o.length||s<r.length;)!r[s]||o[a]&&o[a].y_<r[s].y_?((t=o[a])!==this&&i.push(t),a++):((t=r[s])!==this&&i.push(t),s++);var l=this.x_,c=this.y_;for(o=0,a=r=i.length-2;o<a;)i[a].y_<c?o=a:r=a,a=Math.floor((o+r)/2);r=o=a;var u=[];if(i.length){for(;0<=o&&e(o);)o--;for(;++r<i.length&&e(r););}return u},Blockly.Connection.prototype.hideAll=function(){if(this.inDB_&&this.dbList_[this.type].removeConnection_(this),this.isConnected())for(var e=this.targetBlock().getDescendants(),t=0;t<e.length;t++){for(var o=e[t],n=o.getConnections_(!0),r=0;r<n.length;r++){var i=n[r];i.inDB_&&this.dbList_[i.type].removeConnection_(i)}for(o=o.getIcons(),n=0;n<o.length;n++)o[n].setVisible(!1)}},Blockly.Connection.prototype.unhideAll=function(){this.inDB_||this.dbList_[this.type].addConnection_(this);var e=[];if(this.type!=Blockly.INPUT_VALUE&&this.type!=Blockly.NEXT_STATEMENT)return e;var t=this.targetBlock();if(t){if(t.isCollapsed()){var o=[];t.outputConnection&&o.push(t.outputConnection),t.nextConnection&&o.push(t.nextConnection),t.previousConnection&&o.push(t.previousConnection)}else o=t.getConnections_(!0);for(var n=0;n<o.length;n++)e=e.concat(o[n].unhideAll());0==e.length&&(e[0]=t)}return e},Blockly.ConnectionDB=function(){},Blockly.ConnectionDB.prototype=[],Blockly.ConnectionDB.constructor=Blockly.ConnectionDB,Blockly.ConnectionDB.prototype.addConnection_=function(e){if(e.inDB_)throw"Connection already in database.";for(var t=0,o=this.length;t<o;){var n=Math.floor((t+o)/2);if(this[n].y_<e.y_)t=n+1;else{if(!(this[n].y_>e.y_)){t=n;break}o=n}}this.splice(t,0,e),e.inDB_=!0},Blockly.ConnectionDB.prototype.removeConnection_=function(e){if(!e.inDB_)throw"Connection not in database.";e.inDB_=!1;for(var t=0,o=this.length-2,n=o;t<n;)this[n].y_<e.y_?t=n:o=n,n=Math.floor((t+o)/2);for(o=t=n;0<=t&&this[t].y_==e.y_;){if(this[t]==e)return void this.splice(t,1);t--}do{if(this[o]==e)return void this.splice(o,1);o++}while(o<this.length&&this[o].y_==e.y_);throw"Unable to find connection in connectionDB."},Blockly.ConnectionDB.init=function(e){var t=[];t[Blockly.INPUT_VALUE]=new Blockly.ConnectionDB,t[Blockly.OUTPUT_VALUE]=new Blockly.ConnectionDB,t[Blockly.NEXT_STATEMENT]=new Blockly.ConnectionDB,t[Blockly.PREVIOUS_STATEMENT]=new Blockly.ConnectionDB,t[Blockly.FUNCTIONAL_INPUT]=new Blockly.ConnectionDB,t[Blockly.FUNCTIONAL_OUTPUT]=new Blockly.ConnectionDB,e.connectionDBList=t},goog.dom.BrowserFeature={CAN_ADD_NAME_OR_TYPE_ATTRIBUTES:!goog.userAgent.IE||goog.userAgent.isDocumentModeOrHigher(9),CAN_USE_CHILDREN_ATTRIBUTE:!goog.userAgent.GECKO&&!goog.userAgent.IE||goog.userAgent.IE&&goog.userAgent.isDocumentModeOrHigher(9)||goog.userAgent.GECKO&&goog.userAgent.isVersionOrHigher("1.9.1"),CAN_USE_INNER_TEXT:goog.userAgent.IE&&!goog.userAgent.isVersionOrHigher("9"),CAN_USE_PARENT_ELEMENT_PROPERTY:goog.userAgent.IE||goog.userAgent.OPERA||goog.userAgent.WEBKIT,INNER_HTML_NEEDS_SCOPED_ELEMENT:goog.userAgent.IE,LEGACY_IE_RANGES:goog.userAgent.IE&&!goog.userAgent.isDocumentModeOrHigher(9)},goog.dom.TagName=function(e){this.tagName_=e},goog.dom.TagName.prototype.toString=function(){return this.tagName_},goog.dom.TagName.A=new goog.dom.TagName("A"),goog.dom.TagName.ABBR=new goog.dom.TagName("ABBR"),goog.dom.TagName.ACRONYM=new goog.dom.TagName("ACRONYM"),goog.dom.TagName.ADDRESS=new goog.dom.TagName("ADDRESS"),goog.dom.TagName.APPLET=new goog.dom.TagName("APPLET"),goog.dom.TagName.AREA=new goog.dom.TagName("AREA"),goog.dom.TagName.ARTICLE=new goog.dom.TagName("ARTICLE"),goog.dom.TagName.ASIDE=new goog.dom.TagName("ASIDE"),goog.dom.TagName.AUDIO=new goog.dom.TagName("AUDIO"),goog.dom.TagName.B=new goog.dom.TagName("B"),goog.dom.TagName.BASE=new goog.dom.TagName("BASE"),goog.dom.TagName.BASEFONT=new goog.dom.TagName("BASEFONT"),goog.dom.TagName.BDI=new goog.dom.TagName("BDI"),goog.dom.TagName.BDO=new goog.dom.TagName("BDO"),goog.dom.TagName.BIG=new goog.dom.TagName("BIG"),goog.dom.TagName.BLOCKQUOTE=new goog.dom.TagName("BLOCKQUOTE"),goog.dom.TagName.BODY=new goog.dom.TagName("BODY"),goog.dom.TagName.BR=new goog.dom.TagName("BR"),goog.dom.TagName.BUTTON=new goog.dom.TagName("BUTTON"),goog.dom.TagName.CANVAS=new goog.dom.TagName("CANVAS"),goog.dom.TagName.CAPTION=new goog.dom.TagName("CAPTION"),goog.dom.TagName.CENTER=new goog.dom.TagName("CENTER"),goog.dom.TagName.CITE=new goog.dom.TagName("CITE"),goog.dom.TagName.CODE=new goog.dom.TagName("CODE"),goog.dom.TagName.COL=new goog.dom.TagName("COL"),goog.dom.TagName.COLGROUP=new goog.dom.TagName("COLGROUP"),goog.dom.TagName.COMMAND=new goog.dom.TagName("COMMAND"),goog.dom.TagName.DATA=new goog.dom.TagName("DATA"),goog.dom.TagName.DATALIST=new goog.dom.TagName("DATALIST"),goog.dom.TagName.DD=new goog.dom.TagName("DD"),goog.dom.TagName.DEL=new goog.dom.TagName("DEL"),goog.dom.TagName.DETAILS=new goog.dom.TagName("DETAILS"),goog.dom.TagName.DFN=new goog.dom.TagName("DFN"),goog.dom.TagName.DIALOG=new goog.dom.TagName("DIALOG"),goog.dom.TagName.DIR=new goog.dom.TagName("DIR"),goog.dom.TagName.DIV=new goog.dom.TagName("DIV"),goog.dom.TagName.DL=new goog.dom.TagName("DL"),goog.dom.TagName.DT=new goog.dom.TagName("DT"),goog.dom.TagName.EM=new goog.dom.TagName("EM"),goog.dom.TagName.EMBED=new goog.dom.TagName("EMBED"),goog.dom.TagName.FIELDSET=new goog.dom.TagName("FIELDSET"),goog.dom.TagName.FIGCAPTION=new goog.dom.TagName("FIGCAPTION"),goog.dom.TagName.FIGURE=new goog.dom.TagName("FIGURE"),goog.dom.TagName.FONT=new goog.dom.TagName("FONT"),goog.dom.TagName.FOOTER=new goog.dom.TagName("FOOTER"),goog.dom.TagName.FORM=new goog.dom.TagName("FORM"),goog.dom.TagName.FRAME=new goog.dom.TagName("FRAME"),goog.dom.TagName.FRAMESET=new goog.dom.TagName("FRAMESET"),goog.dom.TagName.H1=new goog.dom.TagName("H1"),goog.dom.TagName.H2=new goog.dom.TagName("H2"),goog.dom.TagName.H3=new goog.dom.TagName("H3"),goog.dom.TagName.H4=new goog.dom.TagName("H4"),goog.dom.TagName.H5=new goog.dom.TagName("H5"),goog.dom.TagName.H6=new goog.dom.TagName("H6"),goog.dom.TagName.HEAD=new goog.dom.TagName("HEAD"),goog.dom.TagName.HEADER=new goog.dom.TagName("HEADER"),goog.dom.TagName.HGROUP=new goog.dom.TagName("HGROUP"),goog.dom.TagName.HR=new goog.dom.TagName("HR"),goog.dom.TagName.HTML=new goog.dom.TagName("HTML"),goog.dom.TagName.I=new goog.dom.TagName("I"),goog.dom.TagName.IFRAME=new goog.dom.TagName("IFRAME"),goog.dom.TagName.IMG=new goog.dom.TagName("IMG"),goog.dom.TagName.INPUT=new goog.dom.TagName("INPUT"),goog.dom.TagName.INS=new goog.dom.TagName("INS"),goog.dom.TagName.ISINDEX=new goog.dom.TagName("ISINDEX"),goog.dom.TagName.KBD=new goog.dom.TagName("KBD"),goog.dom.TagName.KEYGEN=new goog.dom.TagName("KEYGEN"),goog.dom.TagName.LABEL=new goog.dom.TagName("LABEL"),goog.dom.TagName.LEGEND=new goog.dom.TagName("LEGEND"),goog.dom.TagName.LI=new goog.dom.TagName("LI"),goog.dom.TagName.LINK=new goog.dom.TagName("LINK"),goog.dom.TagName.MAP=new goog.dom.TagName("MAP"),goog.dom.TagName.MARK=new goog.dom.TagName("MARK"),goog.dom.TagName.MATH=new goog.dom.TagName("MATH"),goog.dom.TagName.MENU=new goog.dom.TagName("MENU"),goog.dom.TagName.META=new goog.dom.TagName("META"),goog.dom.TagName.METER=new goog.dom.TagName("METER"),goog.dom.TagName.NAV=new goog.dom.TagName("NAV"),goog.dom.TagName.NOFRAMES=new goog.dom.TagName("NOFRAMES"),goog.dom.TagName.NOSCRIPT=new goog.dom.TagName("NOSCRIPT"),goog.dom.TagName.OBJECT=new goog.dom.TagName("OBJECT"),goog.dom.TagName.OL=new goog.dom.TagName("OL"),goog.dom.TagName.OPTGROUP=new goog.dom.TagName("OPTGROUP"),goog.dom.TagName.OPTION=new goog.dom.TagName("OPTION"),goog.dom.TagName.OUTPUT=new goog.dom.TagName("OUTPUT"),goog.dom.TagName.P=new goog.dom.TagName("P"),goog.dom.TagName.PARAM=new goog.dom.TagName("PARAM"),goog.dom.TagName.PRE=new goog.dom.TagName("PRE"),goog.dom.TagName.PROGRESS=new goog.dom.TagName("PROGRESS"),goog.dom.TagName.Q=new goog.dom.TagName("Q"),goog.dom.TagName.RP=new goog.dom.TagName("RP"),goog.dom.TagName.RT=new goog.dom.TagName("RT"),goog.dom.TagName.RUBY=new goog.dom.TagName("RUBY"),goog.dom.TagName.S=new goog.dom.TagName("S"),goog.dom.TagName.SAMP=new goog.dom.TagName("SAMP"),goog.dom.TagName.SCRIPT=new goog.dom.TagName("SCRIPT"),goog.dom.TagName.SECTION=new goog.dom.TagName("SECTION"),goog.dom.TagName.SELECT=new goog.dom.TagName("SELECT"),goog.dom.TagName.SMALL=new goog.dom.TagName("SMALL"),goog.dom.TagName.SOURCE=new goog.dom.TagName("SOURCE"),goog.dom.TagName.SPAN=new goog.dom.TagName("SPAN"),goog.dom.TagName.STRIKE=new goog.dom.TagName("STRIKE"),goog.dom.TagName.STRONG=new goog.dom.TagName("STRONG"),goog.dom.TagName.STYLE=new goog.dom.TagName("STYLE"),goog.dom.TagName.SUB=new goog.dom.TagName("SUB"),goog.dom.TagName.SUMMARY=new goog.dom.TagName("SUMMARY"),goog.dom.TagName.SUP=new goog.dom.TagName("SUP"),goog.dom.TagName.SVG=new goog.dom.TagName("SVG"),goog.dom.TagName.TABLE=new goog.dom.TagName("TABLE"),goog.dom.TagName.TBODY=new goog.dom.TagName("TBODY"),goog.dom.TagName.TD=new goog.dom.TagName("TD"),goog.dom.TagName.TEMPLATE=new goog.dom.TagName("TEMPLATE"),goog.dom.TagName.TEXTAREA=new goog.dom.TagName("TEXTAREA"),goog.dom.TagName.TFOOT=new goog.dom.TagName("TFOOT"),goog.dom.TagName.TH=new goog.dom.TagName("TH"),goog.dom.TagName.THEAD=new goog.dom.TagName("THEAD"),goog.dom.TagName.TIME=new goog.dom.TagName("TIME"),goog.dom.TagName.TITLE=new goog.dom.TagName("TITLE"),goog.dom.TagName.TR=new goog.dom.TagName("TR"),goog.dom.TagName.TRACK=new goog.dom.TagName("TRACK"),goog.dom.TagName.TT=new goog.dom.TagName("TT"),goog.dom.TagName.U=new goog.dom.TagName("U"),goog.dom.TagName.UL=new goog.dom.TagName("UL"),goog.dom.TagName.VAR=new goog.dom.TagName("VAR"),goog.dom.TagName.VIDEO=new goog.dom.TagName("VIDEO"),goog.dom.TagName.WBR=new goog.dom.TagName("WBR"),goog.dom.tags={},goog.dom.tags.VOID_TAGS_={area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},goog.dom.tags.isVoidTag=function(e){return!0===goog.dom.tags.VOID_TAGS_[e]},goog.string.TypedString=function(){},goog.string.Const=function(){this.stringConstValueWithSecurityContract__googStringSecurityPrivate_="",this.STRING_CONST_TYPE_MARKER__GOOG_STRING_SECURITY_PRIVATE_=goog.string.Const.TYPE_MARKER_},goog.string.Const.prototype.implementsGoogStringTypedString=!0,goog.string.Const.prototype.getTypedStringValue=function(){return this.stringConstValueWithSecurityContract__googStringSecurityPrivate_},goog.string.Const.prototype.toString=function(){return"Const{"+this.stringConstValueWithSecurityContract__googStringSecurityPrivate_+"}"},goog.string.Const.unwrap=function(e){return e instanceof goog.string.Const&&e.constructor===goog.string.Const&&e.STRING_CONST_TYPE_MARKER__GOOG_STRING_SECURITY_PRIVATE_===goog.string.Const.TYPE_MARKER_?e.stringConstValueWithSecurityContract__googStringSecurityPrivate_:(goog.asserts.fail("expected object of type Const, got '"+e+"'"),"type_error:Const")},goog.string.Const.from=function(e){return goog.string.Const.create__googStringSecurityPrivate_(e)},goog.string.Const.TYPE_MARKER_={},goog.string.Const.create__googStringSecurityPrivate_=function(e){var t=new goog.string.Const;return t.stringConstValueWithSecurityContract__googStringSecurityPrivate_=e,t},goog.string.Const.EMPTY=goog.string.Const.from(""),goog.html={},goog.html.SafeScript=function(){this.privateDoNotAccessOrElseSafeScriptWrappedValue_="",this.SAFE_SCRIPT_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeScript.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_},goog.html.SafeScript.prototype.implementsGoogStringTypedString=!0,goog.html.SafeScript.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.SafeScript.fromConstant=function(e){return 0===(e=goog.string.Const.unwrap(e)).length?goog.html.SafeScript.EMPTY:goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse(e)},goog.html.SafeScript.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeScriptWrappedValue_},goog.DEBUG&&(goog.html.SafeScript.prototype.toString=function(){return"SafeScript{"+this.privateDoNotAccessOrElseSafeScriptWrappedValue_+"}"}),goog.html.SafeScript.unwrap=function(e){return e instanceof goog.html.SafeScript&&e.constructor===goog.html.SafeScript&&e.SAFE_SCRIPT_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeScript.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?e.privateDoNotAccessOrElseSafeScriptWrappedValue_:(goog.asserts.fail("expected object of type SafeScript, got '"+e+"' of type "+goog.typeOf(e)),"type_error:SafeScript")},goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse=function(e){return(new goog.html.SafeScript).initSecurityPrivateDoNotAccessOrElse_(e)},goog.html.SafeScript.prototype.initSecurityPrivateDoNotAccessOrElse_=function(e){return this.privateDoNotAccessOrElseSafeScriptWrappedValue_=e,this},goog.html.SafeScript.EMPTY=goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse(""),goog.html.SafeStyle=function(){this.privateDoNotAccessOrElseSafeStyleWrappedValue_="",this.SAFE_STYLE_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeStyle.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_},goog.html.SafeStyle.prototype.implementsGoogStringTypedString=!0,goog.html.SafeStyle.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.SafeStyle.fromConstant=function(e){return 0===(e=goog.string.Const.unwrap(e)).length?goog.html.SafeStyle.EMPTY:(goog.html.SafeStyle.checkStyle_(e),goog.asserts.assert(goog.string.endsWith(e,";"),"Last character of style string is not ';': "+e),goog.asserts.assert(goog.string.contains(e,":"),"Style string must contain at least one ':', to specify a \"name: value\" pair: "+e),goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(e))},goog.html.SafeStyle.checkStyle_=function(e){goog.asserts.assert(!/[<>]/.test(e),"Forbidden characters in style string: "+e)},goog.html.SafeStyle.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeStyleWrappedValue_},goog.DEBUG&&(goog.html.SafeStyle.prototype.toString=function(){return"SafeStyle{"+this.privateDoNotAccessOrElseSafeStyleWrappedValue_+"}"}),goog.html.SafeStyle.unwrap=function(e){return e instanceof goog.html.SafeStyle&&e.constructor===goog.html.SafeStyle&&e.SAFE_STYLE_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeStyle.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?e.privateDoNotAccessOrElseSafeStyleWrappedValue_:(goog.asserts.fail("expected object of type SafeStyle, got '"+e+"' of type "+goog.typeOf(e)),"type_error:SafeStyle")},goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse=function(e){return(new goog.html.SafeStyle).initSecurityPrivateDoNotAccessOrElse_(e)},goog.html.SafeStyle.prototype.initSecurityPrivateDoNotAccessOrElse_=function(e){return this.privateDoNotAccessOrElseSafeStyleWrappedValue_=e,this},goog.html.SafeStyle.EMPTY=goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(""),goog.html.SafeStyle.INNOCUOUS_STRING="zClosurez",goog.html.SafeStyle.create=function(e){var t,o="";for(t in e){if(!/^[-_a-zA-Z0-9]+$/.test(t))throw Error("Name allows only [-_a-zA-Z0-9], got: "+t);var n=e[t];null!=n&&(n instanceof goog.string.Const?(n=goog.string.Const.unwrap(n),goog.asserts.assert(!/[{;}]/.test(n),"Value does not allow [{;}].")):goog.html.SafeStyle.VALUE_RE_.test(n)?goog.html.SafeStyle.hasBalancedQuotes_(n)||(goog.asserts.fail("String value requires balanced quotes, got: "+n),n=goog.html.SafeStyle.INNOCUOUS_STRING):(goog.asserts.fail("String value allows only [-,.\"'%_!# a-zA-Z0-9], rgb() and rgba(), got: "+n),n=goog.html.SafeStyle.INNOCUOUS_STRING),o+=t+":"+n+";")}return o?(goog.html.SafeStyle.checkStyle_(o),goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(o)):goog.html.SafeStyle.EMPTY},goog.html.SafeStyle.hasBalancedQuotes_=function(e){for(var t=!0,o=!0,n=0;n<e.length;n++){var r=e.charAt(n);"'"==r&&o?t=!t:'"'==r&&t&&(o=!o)}return t&&o},goog.html.SafeStyle.VALUE_RE_=/^([-,."'%_!# a-zA-Z0-9]+|(?:rgb|hsl)a?\([0-9.%, ]+\))$/,goog.html.SafeStyle.concat=function(e){var t="",o=function(e){goog.isArray(e)?goog.array.forEach(e,o):t+=goog.html.SafeStyle.unwrap(e)};return goog.array.forEach(arguments,o),t?goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(t):goog.html.SafeStyle.EMPTY},goog.html.SafeStyleSheet=function(){this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_="",this.SAFE_STYLE_SHEET_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeStyleSheet.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_},goog.html.SafeStyleSheet.prototype.implementsGoogStringTypedString=!0,goog.html.SafeStyleSheet.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.SafeStyleSheet.concat=function(e){var t="",o=function(e){goog.isArray(e)?goog.array.forEach(e,o):t+=goog.html.SafeStyleSheet.unwrap(e)};return goog.array.forEach(arguments,o),goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(t)},goog.html.SafeStyleSheet.fromConstant=function(e){return 0===(e=goog.string.Const.unwrap(e)).length?goog.html.SafeStyleSheet.EMPTY:(goog.asserts.assert(!goog.string.contains(e,"<"),"Forbidden '<' character in style sheet string: "+e),goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(e))},goog.html.SafeStyleSheet.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_},goog.DEBUG&&(goog.html.SafeStyleSheet.prototype.toString=function(){return"SafeStyleSheet{"+this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_+"}"}),goog.html.SafeStyleSheet.unwrap=function(e){return e instanceof goog.html.SafeStyleSheet&&e.constructor===goog.html.SafeStyleSheet&&e.SAFE_STYLE_SHEET_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeStyleSheet.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?e.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_:(goog.asserts.fail("expected object of type SafeStyleSheet, got '"+e+"' of type "+goog.typeOf(e)),"type_error:SafeStyleSheet")},goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse=function(e){return(new goog.html.SafeStyleSheet).initSecurityPrivateDoNotAccessOrElse_(e)},goog.html.SafeStyleSheet.prototype.initSecurityPrivateDoNotAccessOrElse_=function(e){return this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_=e,this},goog.html.SafeStyleSheet.EMPTY=goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(""),goog.fs={},goog.fs.url={},goog.fs.url.createObjectUrl=function(e){return goog.fs.url.getUrlObject_().createObjectURL(e)},goog.fs.url.revokeObjectUrl=function(e){goog.fs.url.getUrlObject_().revokeObjectURL(e)},goog.fs.url.getUrlObject_=function(){var e=goog.fs.url.findUrlObject_();if(null!=e)return e;throw Error("This browser doesn't seem to support blob URLs")},goog.fs.url.findUrlObject_=function(){return goog.isDef(goog.global.URL)&&goog.isDef(goog.global.URL.createObjectURL)?goog.global.URL:goog.isDef(goog.global.webkitURL)&&goog.isDef(goog.global.webkitURL.createObjectURL)?goog.global.webkitURL:goog.isDef(goog.global.createObjectURL)?goog.global:null},goog.fs.url.browserSupportsObjectUrls=function(){return null!=goog.fs.url.findUrlObject_()},goog.i18n={},goog.i18n.bidi={},goog.i18n.bidi.FORCE_RTL=!1,goog.i18n.bidi.IS_RTL=goog.i18n.bidi.FORCE_RTL||("ar"==goog.LOCALE.substring(0,2).toLowerCase()||"fa"==goog.LOCALE.substring(0,2).toLowerCase()||"he"==goog.LOCALE.substring(0,2).toLowerCase()||"iw"==goog.LOCALE.substring(0,2).toLowerCase()||"ps"==goog.LOCALE.substring(0,2).toLowerCase()||"sd"==goog.LOCALE.substring(0,2).toLowerCase()||"ug"==goog.LOCALE.substring(0,2).toLowerCase()||"ur"==goog.LOCALE.substring(0,2).toLowerCase()||"yi"==goog.LOCALE.substring(0,2).toLowerCase())&&(2==goog.LOCALE.length||"-"==goog.LOCALE.substring(2,3)||"_"==goog.LOCALE.substring(2,3))||3<=goog.LOCALE.length&&"ckb"==goog.LOCALE.substring(0,3).toLowerCase()&&(3==goog.LOCALE.length||"-"==goog.LOCALE.substring(3,4)||"_"==goog.LOCALE.substring(3,4)),goog.i18n.bidi.Format={LRE:"‪",RLE:"‫",PDF:"‬",LRM:"‎",RLM:"‏"},goog.i18n.bidi.Dir={LTR:1,RTL:-1,NEUTRAL:0},goog.i18n.bidi.RIGHT="right",goog.i18n.bidi.LEFT="left",goog.i18n.bidi.I18N_RIGHT=goog.i18n.bidi.IS_RTL?goog.i18n.bidi.LEFT:goog.i18n.bidi.RIGHT,goog.i18n.bidi.I18N_LEFT=goog.i18n.bidi.IS_RTL?goog.i18n.bidi.RIGHT:goog.i18n.bidi.LEFT,goog.i18n.bidi.toDir=function(e,t){return"number"==typeof e?0<e?goog.i18n.bidi.Dir.LTR:e<0?goog.i18n.bidi.Dir.RTL:t?null:goog.i18n.bidi.Dir.NEUTRAL:null==e?null:e?goog.i18n.bidi.Dir.RTL:goog.i18n.bidi.Dir.LTR},goog.i18n.bidi.ltrChars_="A-Za-zÀ-ÖØ-öø-ʸ̀-֐ࠀ-῿‎Ⰰ-﬜︀-﹯﻽-￿",goog.i18n.bidi.rtlChars_="֑-ۯۺ-߿‏יִ-﷿ﹰ-ﻼ",goog.i18n.bidi.htmlSkipReg_=/<[^>]*>|&[^;]+;/g,goog.i18n.bidi.stripHtmlIfNeeded_=function(e,t){return t?e.replace(goog.i18n.bidi.htmlSkipReg_,""):e},goog.i18n.bidi.rtlCharReg_=new RegExp("["+goog.i18n.bidi.rtlChars_+"]"),goog.i18n.bidi.ltrCharReg_=new RegExp("["+goog.i18n.bidi.ltrChars_+"]"),goog.i18n.bidi.hasAnyRtl=function(e,t){return goog.i18n.bidi.rtlCharReg_.test(goog.i18n.bidi.stripHtmlIfNeeded_(e,t))},goog.i18n.bidi.hasRtlChar=goog.i18n.bidi.hasAnyRtl,goog.i18n.bidi.hasAnyLtr=function(e,t){return goog.i18n.bidi.ltrCharReg_.test(goog.i18n.bidi.stripHtmlIfNeeded_(e,t))},goog.i18n.bidi.ltrRe_=new RegExp("^["+goog.i18n.bidi.ltrChars_+"]"),goog.i18n.bidi.rtlRe_=new RegExp("^["+goog.i18n.bidi.rtlChars_+"]"),goog.i18n.bidi.isRtlChar=function(e){return goog.i18n.bidi.rtlRe_.test(e)},goog.i18n.bidi.isLtrChar=function(e){return goog.i18n.bidi.ltrRe_.test(e)},goog.i18n.bidi.isNeutralChar=function(e){return!goog.i18n.bidi.isLtrChar(e)&&!goog.i18n.bidi.isRtlChar(e)},goog.i18n.bidi.ltrDirCheckRe_=new RegExp("^[^"+goog.i18n.bidi.rtlChars_+"]*["+goog.i18n.bidi.ltrChars_+"]"),goog.i18n.bidi.rtlDirCheckRe_=new RegExp("^[^"+goog.i18n.bidi.ltrChars_+"]*["+goog.i18n.bidi.rtlChars_+"]"),goog.i18n.bidi.startsWithRtl=function(e,t){return goog.i18n.bidi.rtlDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(e,t))},goog.i18n.bidi.isRtlText=goog.i18n.bidi.startsWithRtl,goog.i18n.bidi.startsWithLtr=function(e,t){return goog.i18n.bidi.ltrDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(e,t))},goog.i18n.bidi.isLtrText=goog.i18n.bidi.startsWithLtr,goog.i18n.bidi.isRequiredLtrRe_=/^http:\/\/.*/,goog.i18n.bidi.isNeutralText=function(e,t){return e=goog.i18n.bidi.stripHtmlIfNeeded_(e,t),goog.i18n.bidi.isRequiredLtrRe_.test(e)||!goog.i18n.bidi.hasAnyLtr(e)&&!goog.i18n.bidi.hasAnyRtl(e)},goog.i18n.bidi.ltrExitDirCheckRe_=new RegExp("["+goog.i18n.bidi.ltrChars_+"][^"+goog.i18n.bidi.rtlChars_+"]*$"),goog.i18n.bidi.rtlExitDirCheckRe_=new RegExp("["+goog.i18n.bidi.rtlChars_+"][^"+goog.i18n.bidi.ltrChars_+"]*$"),goog.i18n.bidi.endsWithLtr=function(e,t){return goog.i18n.bidi.ltrExitDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(e,t))},goog.i18n.bidi.isLtrExitText=goog.i18n.bidi.endsWithLtr,goog.i18n.bidi.endsWithRtl=function(e,t){return goog.i18n.bidi.rtlExitDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(e,t))},goog.i18n.bidi.isRtlExitText=goog.i18n.bidi.endsWithRtl,goog.i18n.bidi.rtlLocalesRe_=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Arab|Hebr|Thaa|Nkoo|Tfng))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i,goog.i18n.bidi.isRtlLanguage=function(e){return goog.i18n.bidi.rtlLocalesRe_.test(e)},goog.i18n.bidi.bracketGuardTextRe_=/(\(.*?\)+)|(\[.*?\]+)|(\{.*?\}+)|(<.*?>+)/g,goog.i18n.bidi.guardBracketInText=function(e,t){return t=(void 0===t?goog.i18n.bidi.hasAnyRtl(e):t)?goog.i18n.bidi.Format.RLM:goog.i18n.bidi.Format.LRM,e.replace(goog.i18n.bidi.bracketGuardTextRe_,t+"$&"+t)},goog.i18n.bidi.enforceRtlInHtml=function(e){return"<"==e.charAt(0)?e.replace(/<\w+/,"$& dir=rtl"):"\n<span dir=rtl>"+e+"</span>"},goog.i18n.bidi.enforceRtlInText=function(e){return goog.i18n.bidi.Format.RLE+e+goog.i18n.bidi.Format.PDF},goog.i18n.bidi.enforceLtrInHtml=function(e){return"<"==e.charAt(0)?e.replace(/<\w+/,"$& dir=ltr"):"\n<span dir=ltr>"+e+"</span>"},goog.i18n.bidi.enforceLtrInText=function(e){return goog.i18n.bidi.Format.LRE+e+goog.i18n.bidi.Format.PDF},goog.i18n.bidi.dimensionsRe_=/:\s*([.\d][.\w]*)\s+([.\d][.\w]*)\s+([.\d][.\w]*)\s+([.\d][.\w]*)/g,goog.i18n.bidi.leftRe_=/left/gi,goog.i18n.bidi.rightRe_=/right/gi,goog.i18n.bidi.tempRe_=/%%%%/g,goog.i18n.bidi.mirrorCSS=function(e){return e.replace(goog.i18n.bidi.dimensionsRe_,":$1 $4 $3 $2").replace(goog.i18n.bidi.leftRe_,"%%%%").replace(goog.i18n.bidi.rightRe_,goog.i18n.bidi.LEFT).replace(goog.i18n.bidi.tempRe_,goog.i18n.bidi.RIGHT)},goog.i18n.bidi.doubleQuoteSubstituteRe_=/([\u0591-\u05f2])"/g,goog.i18n.bidi.singleQuoteSubstituteRe_=/([\u0591-\u05f2])'/g,goog.i18n.bidi.normalizeHebrewQuote=function(e){return e.replace(goog.i18n.bidi.doubleQuoteSubstituteRe_,"$1״").replace(goog.i18n.bidi.singleQuoteSubstituteRe_,"$1׳")},goog.i18n.bidi.wordSeparatorRe_=/\s+/,goog.i18n.bidi.hasNumeralsRe_=/[\d\u06f0-\u06f9]/,goog.i18n.bidi.rtlDetectionThreshold_=.4,goog.i18n.bidi.estimateDirection=function(e,t){var o=0,n=0,r=!1;for(e=goog.i18n.bidi.stripHtmlIfNeeded_(e,t).split(goog.i18n.bidi.wordSeparatorRe_),t=0;t<e.length;t++){var i=e[t];goog.i18n.bidi.startsWithRtl(i)?(o++,n++):goog.i18n.bidi.isRequiredLtrRe_.test(i)?r=!0:goog.i18n.bidi.hasAnyLtr(i)?n++:goog.i18n.bidi.hasNumeralsRe_.test(i)&&(r=!0)}return 0==n?r?goog.i18n.bidi.Dir.LTR:goog.i18n.bidi.Dir.NEUTRAL:o/n>goog.i18n.bidi.rtlDetectionThreshold_?goog.i18n.bidi.Dir.RTL:goog.i18n.bidi.Dir.LTR},goog.i18n.bidi.detectRtlDirectionality=function(e,t){return goog.i18n.bidi.estimateDirection(e,t)==goog.i18n.bidi.Dir.RTL},goog.i18n.bidi.setElementDirAndAlign=function(e,t){e&&(t=goog.i18n.bidi.toDir(t))&&(e.style.textAlign=t==goog.i18n.bidi.Dir.RTL?goog.i18n.bidi.RIGHT:goog.i18n.bidi.LEFT,e.dir=t==goog.i18n.bidi.Dir.RTL?"rtl":"ltr")},goog.i18n.bidi.setElementDirByTextDirectionality=function(e,t){switch(goog.i18n.bidi.estimateDirection(t)){case goog.i18n.bidi.Dir.LTR:e.dir="ltr";break;case goog.i18n.bidi.Dir.RTL:e.dir="rtl";break;default:e.removeAttribute("dir")}},goog.i18n.bidi.DirectionalString=function(){},goog.html.SafeUrl=function(){this.privateDoNotAccessOrElseSafeHtmlWrappedValue_="",this.SAFE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_},goog.html.SafeUrl.INNOCUOUS_STRING="about:invalid#zClosurez",goog.html.SafeUrl.prototype.implementsGoogStringTypedString=!0,goog.html.SafeUrl.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeHtmlWrappedValue_},goog.html.SafeUrl.prototype.implementsGoogI18nBidiDirectionalString=!0,goog.html.SafeUrl.prototype.getDirection=function(){return goog.i18n.bidi.Dir.LTR},goog.DEBUG&&(goog.html.SafeUrl.prototype.toString=function(){return"SafeUrl{"+this.privateDoNotAccessOrElseSafeHtmlWrappedValue_+"}"}),goog.html.SafeUrl.unwrap=function(e){return e instanceof goog.html.SafeUrl&&e.constructor===goog.html.SafeUrl&&e.SAFE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?e.privateDoNotAccessOrElseSafeHtmlWrappedValue_:(goog.asserts.fail("expected object of type SafeUrl, got '"+e+"' of type "+goog.typeOf(e)),"type_error:SafeUrl")},goog.html.SafeUrl.fromConstant=function(e){return goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(goog.string.Const.unwrap(e))},goog.html.SAFE_MIME_TYPE_PATTERN_=/^(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm))$/i,goog.html.SafeUrl.fromBlob=function(e){return e=goog.html.SAFE_MIME_TYPE_PATTERN_.test(e.type)?goog.fs.url.createObjectUrl(e):goog.html.SafeUrl.INNOCUOUS_STRING,goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e)},goog.html.DATA_URL_PATTERN_=/^data:([^;,]*);base64,[a-z0-9+\/]+=*$/i,goog.html.SafeUrl.fromDataUrl=function(e){var t=e.match(goog.html.DATA_URL_PATTERN_);return t=t&&goog.html.SAFE_MIME_TYPE_PATTERN_.test(t[1]),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(t?e:goog.html.SafeUrl.INNOCUOUS_STRING)},goog.html.SafeUrl.fromTelUrl=function(e){return goog.string.caseInsensitiveStartsWith(e,"tel:")||(e=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e)},goog.html.SAFE_URL_PATTERN_=/^(?:(?:https?|mailto|ftp):|[^&:/?#]*(?:[/?#]|$))/i,goog.html.SafeUrl.sanitize=function(e){return e instanceof goog.html.SafeUrl?e:(e=e.implementsGoogStringTypedString?e.getTypedStringValue():String(e),goog.html.SAFE_URL_PATTERN_.test(e)||(e=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e))},goog.html.SafeUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse=function(e){var t=new goog.html.SafeUrl;return t.privateDoNotAccessOrElseSafeHtmlWrappedValue_=e,t},goog.html.SafeUrl.ABOUT_BLANK=goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse("about:blank"),goog.html.TrustedResourceUrl=function(){this.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_="",this.TRUSTED_RESOURCE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.TrustedResourceUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_},goog.html.TrustedResourceUrl.prototype.implementsGoogStringTypedString=!0,goog.html.TrustedResourceUrl.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_},goog.html.TrustedResourceUrl.prototype.implementsGoogI18nBidiDirectionalString=!0,goog.html.TrustedResourceUrl.prototype.getDirection=function(){return goog.i18n.bidi.Dir.LTR},goog.DEBUG&&(goog.html.TrustedResourceUrl.prototype.toString=function(){return"TrustedResourceUrl{"+this.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_+"}"}),goog.html.TrustedResourceUrl.unwrap=function(e){return e instanceof goog.html.TrustedResourceUrl&&e.constructor===goog.html.TrustedResourceUrl&&e.TRUSTED_RESOURCE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.TrustedResourceUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?e.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_:(goog.asserts.fail("expected object of type TrustedResourceUrl, got '"+e+"' of type "+goog.typeOf(e)),"type_error:TrustedResourceUrl")},goog.html.TrustedResourceUrl.format=function(e,o){var n=goog.string.Const.unwrap(e);if(!goog.html.TrustedResourceUrl.BASE_URL_.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return e=n.replace(goog.html.TrustedResourceUrl.FORMAT_MARKER_,function(e,t){if(!Object.prototype.hasOwnProperty.call(o,t))throw Error('Found marker, "'+t+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(o));return(e=o[t])instanceof goog.string.Const?goog.string.Const.unwrap(e):encodeURIComponent(String(e))}),goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(e)},goog.html.TrustedResourceUrl.FORMAT_MARKER_=/%{(\w+)}/g,goog.html.TrustedResourceUrl.BASE_URL_=/^(?:https:)?\/\/[0-9a-z.:[\]-]+\/|^\/[^\/\\]/i,goog.html.TrustedResourceUrl.fromConstant=function(e){return goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(goog.string.Const.unwrap(e))},goog.html.TrustedResourceUrl.fromConstants=function(e){for(var t="",o=0;o<e.length;o++)t+=goog.string.Const.unwrap(e[o]);return goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(t)},goog.html.TrustedResourceUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse=function(e){var t=new goog.html.TrustedResourceUrl;return t.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_=e,t},goog.html.SafeHtml=function(){this.privateDoNotAccessOrElseSafeHtmlWrappedValue_="",this.SAFE_HTML_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeHtml.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_,this.dir_=null},goog.html.SafeHtml.prototype.implementsGoogI18nBidiDirectionalString=!0,goog.html.SafeHtml.prototype.getDirection=function(){return this.dir_},goog.html.SafeHtml.prototype.implementsGoogStringTypedString=!0,goog.html.SafeHtml.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeHtmlWrappedValue_},goog.DEBUG&&(goog.html.SafeHtml.prototype.toString=function(){return"SafeHtml{"+this.privateDoNotAccessOrElseSafeHtmlWrappedValue_+"}"}),goog.html.SafeHtml.unwrap=function(e){return e instanceof goog.html.SafeHtml&&e.constructor===goog.html.SafeHtml&&e.SAFE_HTML_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeHtml.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?e.privateDoNotAccessOrElseSafeHtmlWrappedValue_:(goog.asserts.fail("expected object of type SafeHtml, got '"+e+"' of type "+goog.typeOf(e)),"type_error:SafeHtml")},goog.html.SafeHtml.htmlEscape=function(e){if(e instanceof goog.html.SafeHtml)return e;var t=null;return e.implementsGoogI18nBidiDirectionalString&&(t=e.getDirection()),e=e.implementsGoogStringTypedString?e.getTypedStringValue():String(e),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(goog.string.htmlEscape(e),t)},goog.html.SafeHtml.htmlEscapePreservingNewlines=function(e){return e instanceof goog.html.SafeHtml?e:(e=goog.html.SafeHtml.htmlEscape(e),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(goog.string.newLineToBr(goog.html.SafeHtml.unwrap(e)),e.getDirection()))},goog.html.SafeHtml.htmlEscapePreservingNewlinesAndSpaces=function(e){return e instanceof goog.html.SafeHtml?e:(e=goog.html.SafeHtml.htmlEscape(e),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(goog.string.whitespaceEscape(goog.html.SafeHtml.unwrap(e)),e.getDirection()))},goog.html.SafeHtml.from=goog.html.SafeHtml.htmlEscape,goog.html.SafeHtml.VALID_NAMES_IN_TAG_=/^[a-zA-Z0-9-]+$/,goog.html.SafeHtml.URL_ATTRIBUTES_={action:!0,cite:!0,data:!0,formaction:!0,href:!0,manifest:!0,poster:!0,src:!0},goog.html.SafeHtml.NOT_ALLOWED_TAG_NAMES_={APPLET:!0,BASE:!0,EMBED:!0,IFRAME:!0,LINK:!0,MATH:!0,META:!0,OBJECT:!0,SCRIPT:!0,STYLE:!0,SVG:!0,TEMPLATE:!0},goog.html.SafeHtml.create=function(e,t,o){return goog.html.SafeHtml.verifyTagName(String(e)),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse(String(e),t,o)},goog.html.SafeHtml.verifyTagName=function(e){if(!goog.html.SafeHtml.VALID_NAMES_IN_TAG_.test(e))throw Error("Invalid tag name <"+e+">.");if(e.toUpperCase()in goog.html.SafeHtml.NOT_ALLOWED_TAG_NAMES_)throw Error("Tag name <"+e+"> is not allowed for SafeHtml.")},goog.html.SafeHtml.createIframe=function(e,t,o,n){e&&goog.html.TrustedResourceUrl.unwrap(e);var r={};return r.src=e||null,r.srcdoc=t&&goog.html.SafeHtml.unwrap(t),e=goog.html.SafeHtml.combineAttributes(r,{sandbox:""},o),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("iframe",e,n)},goog.html.SafeHtml.createSandboxIframe=function(e,t,o,n){if(!goog.html.SafeHtml.canUseSandboxIframe())throw Error("The browser does not support sandboxed iframes.");var r={};return r.src=e?goog.html.SafeUrl.unwrap(goog.html.SafeUrl.sanitize(e)):null,r.srcdoc=t||null,r.sandbox="",e=goog.html.SafeHtml.combineAttributes(r,{},o),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("iframe",e,n)},goog.html.SafeHtml.canUseSandboxIframe=function(){return goog.global.HTMLIFrameElement&&"sandbox"in goog.global.HTMLIFrameElement.prototype},goog.html.SafeHtml.createScriptSrc=function(e,t){return goog.html.TrustedResourceUrl.unwrap(e),e=goog.html.SafeHtml.combineAttributes({src:e},{},t),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("script",e)},goog.html.SafeHtml.createScript=function(e,t){for(var o in t){var n=o.toLowerCase();if("language"==n||"src"==n||"text"==n||"type"==n)throw Error('Cannot set "'+n+'" attribute')}for(o="",e=goog.array.concat(e),n=0;n<e.length;n++)o+=goog.html.SafeScript.unwrap(e[n]);return e=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(o,goog.i18n.bidi.Dir.NEUTRAL),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("script",t,e)},goog.html.SafeHtml.createStyle=function(e,t){t=goog.html.SafeHtml.combineAttributes({type:"text/css"},{},t);var o="";e=goog.array.concat(e);for(var n=0;n<e.length;n++)o+=goog.html.SafeStyleSheet.unwrap(e[n]);return e=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(o,goog.i18n.bidi.Dir.NEUTRAL),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("style",t,e)},goog.html.SafeHtml.createMetaRefresh=function(e,t){return e=goog.html.SafeUrl.unwrap(goog.html.SafeUrl.sanitize(e)),(goog.labs.userAgent.browser.isIE()||goog.labs.userAgent.browser.isEdge())&&goog.string.contains(e,";")&&(e="'"+e.replace(/'/g,"%27")+"'"),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("meta",{"http-equiv":"refresh",content:(t||0)+"; url="+e})},goog.html.SafeHtml.getAttrNameAndValue_=function(e,t,o){if(o instanceof goog.string.Const)o=goog.string.Const.unwrap(o);else if("style"==t.toLowerCase())o=goog.html.SafeHtml.getStyleValue_(o);else{if(/^on/i.test(t))throw Error('Attribute "'+t+'" requires goog.string.Const value, "'+o+'" given.');if(t.toLowerCase()in goog.html.SafeHtml.URL_ATTRIBUTES_)if(o instanceof goog.html.TrustedResourceUrl)o=goog.html.TrustedResourceUrl.unwrap(o);else if(o instanceof goog.html.SafeUrl)o=goog.html.SafeUrl.unwrap(o);else{if(!goog.isString(o))throw Error('Attribute "'+t+'" on tag "'+e+'" requires goog.html.SafeUrl, goog.string.Const, or string, value "'+o+'" given.');o=goog.html.SafeUrl.sanitize(o).getTypedStringValue()}}return o.implementsGoogStringTypedString&&(o=o.getTypedStringValue()),goog.asserts.assert(goog.isString(o)||goog.isNumber(o),"String or number value expected, got "+typeof o+" with value: "+o),t+'="'+goog.string.htmlEscape(String(o))+'"'},goog.html.SafeHtml.getStyleValue_=function(e){if(!goog.isObject(e))throw Error('The "style" attribute requires goog.html.SafeStyle or map of style properties, '+typeof e+" given: "+e);return e instanceof goog.html.SafeStyle||(e=goog.html.SafeStyle.create(e)),goog.html.SafeStyle.unwrap(e)},goog.html.SafeHtml.createWithDir=function(e,t,o,n){return(t=goog.html.SafeHtml.create(t,o,n)).dir_=e,t},goog.html.SafeHtml.concat=function(e){var t=goog.i18n.bidi.Dir.NEUTRAL,o="",n=function(e){goog.isArray(e)?goog.array.forEach(e,n):(e=goog.html.SafeHtml.htmlEscape(e),o+=goog.html.SafeHtml.unwrap(e),e=e.getDirection(),t==goog.i18n.bidi.Dir.NEUTRAL?t=e:e!=goog.i18n.bidi.Dir.NEUTRAL&&t!=e&&(t=null))};return goog.array.forEach(arguments,n),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(o,t)},goog.html.SafeHtml.concatWithDir=function(e,t){var o=goog.html.SafeHtml.concat(goog.array.slice(arguments,1));return o.dir_=e,o},goog.html.SafeHtml.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse=function(e,t){return(new goog.html.SafeHtml).initSecurityPrivateDoNotAccessOrElse_(e,t)},goog.html.SafeHtml.prototype.initSecurityPrivateDoNotAccessOrElse_=function(e,t){return this.privateDoNotAccessOrElseSafeHtmlWrappedValue_=e,this.dir_=t,this},goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse=function(e,t,o){var n=null,r="<"+e+goog.html.SafeHtml.stringifyAttributes(e,t);return goog.isDefAndNotNull(o)?goog.isArray(o)||(o=[o]):o=[],goog.dom.tags.isVoidTag(e.toLowerCase())?(goog.asserts.assert(!o.length,"Void tag <"+e+"> does not allow content."),r+=">"):(n=goog.html.SafeHtml.concat(o),r+=">"+goog.html.SafeHtml.unwrap(n)+"</"+e+">",n=n.getDirection()),(e=t&&t.dir)&&(n=/^(ltr|rtl|auto)$/i.test(e)?goog.i18n.bidi.Dir.NEUTRAL:null),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(r,n)},goog.html.SafeHtml.stringifyAttributes=function(e,t){var o="";if(t)for(var n in t){if(!goog.html.SafeHtml.VALID_NAMES_IN_TAG_.test(n))throw Error('Invalid attribute name "'+n+'".');var r=t[n];goog.isDefAndNotNull(r)&&(o+=" "+goog.html.SafeHtml.getAttrNameAndValue_(e,n,r))}return o},goog.html.SafeHtml.combineAttributes=function(e,t,o){var n,r={};for(n in e)goog.asserts.assert(n.toLowerCase()==n,"Must be lower case"),r[n]=e[n];for(n in t)goog.asserts.assert(n.toLowerCase()==n,"Must be lower case"),r[n]=t[n];for(n in o){var i=n.toLowerCase();if(i in e)throw Error('Cannot override "'+i+'" attribute, got "'+n+'" with value "'+o[n]+'"');i in t&&delete r[i],r[n]=o[n]}return r},goog.html.SafeHtml.DOCTYPE_HTML=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse("<!DOCTYPE html>",goog.i18n.bidi.Dir.NEUTRAL),goog.html.SafeHtml.EMPTY=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse("",goog.i18n.bidi.Dir.NEUTRAL),goog.html.SafeHtml.BR=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse("<br>",goog.i18n.bidi.Dir.NEUTRAL),goog.dom.safe={},goog.dom.safe.InsertAdjacentHtmlPosition={AFTERBEGIN:"afterbegin",AFTEREND:"afterend",BEFOREBEGIN:"beforebegin",BEFOREEND:"beforeend"},goog.dom.safe.insertAdjacentHtml=function(e,t,o){e.insertAdjacentHTML(t,goog.html.SafeHtml.unwrap(o))},goog.dom.safe.SET_INNER_HTML_DISALLOWED_TAGS_={MATH:!0,SCRIPT:!0,STYLE:!0,SVG:!0,TEMPLATE:!0},goog.dom.safe.setInnerHtml=function(e,t){if(goog.asserts.ENABLE_ASSERTS){var o=e.tagName.toUpperCase();if(goog.dom.safe.SET_INNER_HTML_DISALLOWED_TAGS_[o])throw Error("goog.dom.safe.setInnerHtml cannot be used to set content of "+e.tagName+".")}e.innerHTML=goog.html.SafeHtml.unwrap(t)},goog.dom.safe.setOuterHtml=function(e,t){e.outerHTML=goog.html.SafeHtml.unwrap(t)},goog.dom.safe.setStyle=function(e,t){e.style.cssText=goog.html.SafeStyle.unwrap(t)},goog.dom.safe.documentWrite=function(e,t){e.write(goog.html.SafeHtml.unwrap(t))},goog.dom.safe.setAnchorHref=function(e,t){goog.dom.safe.assertIsHTMLAnchorElement_(e),t=t instanceof goog.html.SafeUrl?t:goog.html.SafeUrl.sanitize(t),e.href=goog.html.SafeUrl.unwrap(t)},goog.dom.safe.setImageSrc=function(e,t){goog.dom.safe.assertIsHTMLImageElement_(e),t=t instanceof goog.html.SafeUrl?t:goog.html.SafeUrl.sanitize(t),e.src=goog.html.SafeUrl.unwrap(t)},goog.dom.safe.setEmbedSrc=function(e,t){goog.dom.safe.assertIsHTMLEmbedElement_(e),e.src=goog.html.TrustedResourceUrl.unwrap(t)},goog.dom.safe.setFrameSrc=function(e,t){goog.dom.safe.assertIsHTMLFrameElement_(e),e.src=goog.html.TrustedResourceUrl.unwrap(t)},goog.dom.safe.setIframeSrc=function(e,t){goog.dom.safe.assertIsHTMLIFrameElement_(e),e.src=goog.html.TrustedResourceUrl.unwrap(t)},goog.dom.safe.setIframeSrcdoc=function(e,t){goog.dom.safe.assertIsHTMLIFrameElement_(e),e.srcdoc=goog.html.SafeHtml.unwrap(t)},goog.dom.safe.setLinkHrefAndRel=function(e,t,o){goog.dom.safe.assertIsHTMLLinkElement_(e),e.rel=o,goog.string.caseInsensitiveContains(o,"stylesheet")?(goog.asserts.assert(t instanceof goog.html.TrustedResourceUrl,'URL must be TrustedResourceUrl because "rel" contains "stylesheet"'),e.href=goog.html.TrustedResourceUrl.unwrap(t)):e.href=t instanceof goog.html.TrustedResourceUrl?goog.html.TrustedResourceUrl.unwrap(t):t instanceof goog.html.SafeUrl?goog.html.SafeUrl.unwrap(t):goog.html.SafeUrl.sanitize(t).getTypedStringValue()},goog.dom.safe.setObjectData=function(e,t){goog.dom.safe.assertIsHTMLObjectElement_(e),e.data=goog.html.TrustedResourceUrl.unwrap(t)},goog.dom.safe.setScriptSrc=function(e,t){goog.dom.safe.assertIsHTMLScriptElement_(e),e.src=goog.html.TrustedResourceUrl.unwrap(t)},goog.dom.safe.setLocationHref=function(e,t){goog.dom.safe.assertIsLocation_(e),t=t instanceof goog.html.SafeUrl?t:goog.html.SafeUrl.sanitize(t),e.href=goog.html.SafeUrl.unwrap(t)},goog.dom.safe.openInWindow=function(e,t,o,n,r){return e=e instanceof goog.html.SafeUrl?e:goog.html.SafeUrl.sanitize(e),(t||window).open(goog.html.SafeUrl.unwrap(e),o?goog.string.Const.unwrap(o):"",n,r)},goog.dom.safe.assertIsLocation_=function(e){return goog.asserts.ENABLE_ASSERTS&&"undefined"!=typeof Location&&"undefined"!=typeof Element&&goog.asserts.assert(e&&(e instanceof Location||!(e instanceof Element)),"Argument is not a Location (or a non-Element mock); got: %s",goog.dom.safe.debugStringForType_(e)),e},goog.dom.safe.assertIsHTMLAnchorElement_=function(e){return goog.asserts.ENABLE_ASSERTS&&"undefined"!=typeof HTMLAnchorElement&&"undefined"!=typeof Location&&"undefined"!=typeof Element&&goog.asserts.assert(e&&(e instanceof HTMLAnchorElement||!(e instanceof Location||e instanceof Element)),"Argument is not a HTMLAnchorElement (or a non-Element mock); got: %s",goog.dom.safe.debugStringForType_(e)),e},goog.dom.safe.assertIsHTMLLinkElement_=function(e){return goog.asserts.ENABLE_ASSERTS&&"undefined"!=typeof HTMLLinkElement&&"undefined"!=typeof Location&&"undefined"!=typeof Element&&goog.asserts.assert(e&&(e instanceof HTMLLinkElement||!(e instanceof Location||e instanceof Element)),"Argument is not a HTMLLinkElement (or a non-Element mock); got: %s",goog.dom.safe.debugStringForType_(e)),e},goog.dom.safe.assertIsHTMLImageElement_=function(e){return goog.asserts.ENABLE_ASSERTS&&"undefined"!=typeof HTMLImageElement&&"undefined"!=typeof Element&&goog.asserts.assert(e&&(e instanceof HTMLImageElement||!(e instanceof Element)),"Argument is not a HTMLImageElement (or a non-Element mock); got: %s",goog.dom.safe.debugStringForType_(e)),e},goog.dom.safe.assertIsHTMLEmbedElement_=function(e){return goog.asserts.ENABLE_ASSERTS&&"undefined"!=typeof HTMLEmbedElement&&"undefined"!=typeof Element&&goog.asserts.assert(e&&(e instanceof HTMLEmbedElement||!(e instanceof Element)),"Argument is not a HTMLEmbedElement (or a non-Element mock); got: %s",goog.dom.safe.debugStringForType_(e)),e},goog.dom.safe.assertIsHTMLFrameElement_=function(e){return goog.asserts.ENABLE_ASSERTS&&"undefined"!=typeof HTMLFrameElement&&"undefined"!=typeof Element&&goog.asserts.assert(e&&(e instanceof HTMLFrameElement||!(e instanceof Element)),"Argument is not a HTMLFrameElement (or a non-Element mock); got: %s",goog.dom.safe.debugStringForType_(e)),e},goog.dom.safe.assertIsHTMLIFrameElement_=function(e){return goog.asserts.ENABLE_ASSERTS&&"undefined"!=typeof HTMLIFrameElement&&"undefined"!=typeof Element&&goog.asserts.assert(e&&(e instanceof HTMLIFrameElement||!(e instanceof Element)),"Argument is not a HTMLIFrameElement (or a non-Element mock); got: %s",goog.dom.safe.debugStringForType_(e)),e},goog.dom.safe.assertIsHTMLObjectElement_=function(e){return goog.asserts.ENABLE_ASSERTS&&"undefined"!=typeof HTMLObjectElement&&"undefined"!=typeof Element&&goog.asserts.assert(e&&(e instanceof HTMLObjectElement||!(e instanceof Element)),"Argument is not a HTMLObjectElement (or a non-Element mock); got: %s",goog.dom.safe.debugStringForType_(e)),e},goog.dom.safe.assertIsHTMLScriptElement_=function(e){return goog.asserts.ENABLE_ASSERTS&&"undefined"!=typeof HTMLScriptElement&&"undefined"!=typeof Element&&goog.asserts.assert(e&&(e instanceof HTMLScriptElement||!(e instanceof Element)),"Argument is not a HTMLScriptElement (or a non-Element mock); got: %s",goog.dom.safe.debugStringForType_(e)),e},goog.dom.safe.debugStringForType_=function(e){return goog.isObject(e)?e.constructor.displayName||e.constructor.name||Object.prototype.toString.call(e):void 0===e?"undefined":null===e?"null":typeof e},goog.html.uncheckedconversions={},goog.html.uncheckedconversions.safeHtmlFromStringKnownToSatisfyTypeContract=function(e,t,o){return goog.asserts.assertString(goog.string.Const.unwrap(e),"must provide justification"),goog.asserts.assert(!goog.string.isEmptyOrWhitespace(goog.string.Const.unwrap(e)),"must provide non-empty justification"),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(t,o||null)},goog.html.uncheckedconversions.safeScriptFromStringKnownToSatisfyTypeContract=function(e,t){return goog.asserts.assertString(goog.string.Const.unwrap(e),"must provide justification"),goog.asserts.assert(!goog.string.isEmpty(goog.string.Const.unwrap(e)),"must provide non-empty justification"),goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse(t)},goog.html.uncheckedconversions.safeStyleFromStringKnownToSatisfyTypeContract=function(e,t){return goog.asserts.assertString(goog.string.Const.unwrap(e),"must provide justification"),goog.asserts.assert(!goog.string.isEmptyOrWhitespace(goog.string.Const.unwrap(e)),"must provide non-empty justification"),goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(t)},goog.html.uncheckedconversions.safeStyleSheetFromStringKnownToSatisfyTypeContract=function(e,t){return goog.asserts.assertString(goog.string.Const.unwrap(e),"must provide justification"),goog.asserts.assert(!goog.string.isEmptyOrWhitespace(goog.string.Const.unwrap(e)),"must provide non-empty justification"),goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(t)},goog.html.uncheckedconversions.safeUrlFromStringKnownToSatisfyTypeContract=function(e,t){return goog.asserts.assertString(goog.string.Const.unwrap(e),"must provide justification"),goog.asserts.assert(!goog.string.isEmptyOrWhitespace(goog.string.Const.unwrap(e)),"must provide non-empty justification"),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(t)},goog.html.uncheckedconversions.trustedResourceUrlFromStringKnownToSatisfyTypeContract=function(e,t){return goog.asserts.assertString(goog.string.Const.unwrap(e),"must provide justification"),goog.asserts.assert(!goog.string.isEmptyOrWhitespace(goog.string.Const.unwrap(e)),"must provide non-empty justification"),goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(t)},goog.dom.ASSUME_QUIRKS_MODE=!1,goog.dom.ASSUME_STANDARDS_MODE=!1,goog.dom.COMPAT_MODE_KNOWN_=goog.dom.ASSUME_QUIRKS_MODE||goog.dom.ASSUME_STANDARDS_MODE,goog.dom.getDomHelper=function(e){return e?new goog.dom.DomHelper(goog.dom.getOwnerDocument(e)):goog.dom.defaultDomHelper_||(goog.dom.defaultDomHelper_=new goog.dom.DomHelper)},goog.dom.getDocument=function(){return document},goog.dom.getElement=function(e){return goog.dom.getElementHelper_(document,e)},goog.dom.getElementHelper_=function(e,t){return goog.isString(t)?e.getElementById(t):t},goog.dom.getRequiredElement=function(e){return goog.dom.getRequiredElementHelper_(document,e)},goog.dom.getRequiredElementHelper_=function(e,t){return goog.asserts.assertString(t),e=goog.dom.getElementHelper_(e,t),goog.asserts.assertElement(e,"No element found with id: "+t)},goog.dom.$=goog.dom.getElement,goog.dom.getElementsByTagName=function(e,t){return(t||document).getElementsByTagName(String(e))},goog.dom.getElementsByTagNameAndClass=function(e,t,o){return goog.dom.getElementsByTagNameAndClass_(document,e,t,o)},goog.dom.getElementsByClass=function(e,t){var o=t||document;return goog.dom.canUseQuerySelector_(o)?o.querySelectorAll("."+e):goog.dom.getElementsByTagNameAndClass_(document,"*",e,t)},goog.dom.getElementByClass=function(e,t){var o=t||document;return(o.getElementsByClassName?o.getElementsByClassName(e)[0]:goog.dom.canUseQuerySelector_(o)?o.querySelector("."+e):goog.dom.getElementsByTagNameAndClass_(document,"*",e,t)[0])||null},goog.dom.getRequiredElementByClass=function(e,t){return t=goog.dom.getElementByClass(e,t),goog.asserts.assert(t,"No element found with className: "+e)},goog.dom.canUseQuerySelector_=function(e){return!(!e.querySelectorAll||!e.querySelector)},goog.dom.getElementsByTagNameAndClass_=function(e,t,o,n){if(e=n||e,t=t&&"*"!=t?String(t).toUpperCase():"",goog.dom.canUseQuerySelector_(e)&&(t||o))return e.querySelectorAll(t+(o?"."+o:""));if(o&&e.getElementsByClassName){if(e=e.getElementsByClassName(o),t){n={};for(var r,i=0,a=0;r=e[a];a++)t==r.nodeName&&(n[i++]=r);return n.length=i,n}return e}if(e=e.getElementsByTagName(t||"*"),o){for(n={},a=i=0;r=e[a];a++)"function"==typeof(t=r.className).split&&goog.array.contains(t.split(/\s+/),o)&&(n[i++]=r);return n.length=i,n}return e},goog.dom.$$=goog.dom.getElementsByTagNameAndClass,goog.dom.setProperties=function(o,e){goog.object.forEach(e,function(e,t){"style"==t?o.style.cssText=e:"class"==t?o.className=e:"for"==t?o.htmlFor=e:goog.dom.DIRECT_ATTRIBUTE_MAP_.hasOwnProperty(t)?o.setAttribute(goog.dom.DIRECT_ATTRIBUTE_MAP_[t],e):goog.string.startsWith(t,"aria-")||goog.string.startsWith(t,"data-")?o.setAttribute(t,e):o[t]=e})},goog.dom.DIRECT_ATTRIBUTE_MAP_={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"},goog.dom.getViewportSize=function(e){return goog.dom.getViewportSize_(e||window)},goog.dom.getViewportSize_=function(e){return e=e.document,e=goog.dom.isCss1CompatMode_(e)?e.documentElement:e.body,new goog.math.Size(e.clientWidth,e.clientHeight)},goog.dom.getDocumentHeight=function(){return goog.dom.getDocumentHeight_(window)},goog.dom.getDocumentHeightForWindow=function(e){return goog.dom.getDocumentHeight_(e)},goog.dom.getDocumentHeight_=function(e){var t=e.document,o=0;if(t){o=t.body;var n=t.documentElement;if(!n||!o)return 0;if(e=goog.dom.getViewportSize_(e).height,goog.dom.isCss1CompatMode_(t)&&n.scrollHeight)o=n.scrollHeight!=e?n.scrollHeight:n.offsetHeight;else{t=n.scrollHeight;var r=n.offsetHeight;n.clientHeight!=r&&(t=o.scrollHeight,r=o.offsetHeight),o=e<t?r<t?t:r:t<r?t:r}}return o},goog.dom.getPageScroll=function(e){return goog.dom.getDomHelper((e||goog.global||window).document).getDocumentScroll()},goog.dom.getDocumentScroll=function(){return goog.dom.getDocumentScroll_(document)},goog.dom.getDocumentScroll_=function(e){var t=goog.dom.getDocumentScrollElement_(e);return e=goog.dom.getWindow_(e),goog.userAgent.IE&&goog.userAgent.isVersionOrHigher("10")&&e.pageYOffset!=t.scrollTop?new goog.math.Coordinate(t.scrollLeft,t.scrollTop):new goog.math.Coordinate(e.pageXOffset||t.scrollLeft,e.pageYOffset||t.scrollTop)},goog.dom.getDocumentScrollElement=function(){return goog.dom.getDocumentScrollElement_(document)},goog.dom.getDocumentScrollElement_=function(e){return e.scrollingElement?e.scrollingElement:!goog.userAgent.WEBKIT&&goog.dom.isCss1CompatMode_(e)?e.documentElement:e.body||e.documentElement},goog.dom.getWindow=function(e){return e?goog.dom.getWindow_(e):window},goog.dom.getWindow_=function(e){return e.parentWindow||e.defaultView},goog.dom.createDom=function(e,t,o){return goog.dom.createDom_(document,arguments)},goog.dom.createDom_=function(e,t){var o=String(t[0]),n=t[1];if(!goog.dom.BrowserFeature.CAN_ADD_NAME_OR_TYPE_ATTRIBUTES&&n&&(n.name||n.type)){if(o=["<",o],n.name&&o.push(' name="',goog.string.htmlEscape(n.name),'"'),n.type){o.push(' type="',goog.string.htmlEscape(n.type),'"');var r={};goog.object.extend(r,n),delete r.type,n=r}o.push(">"),o=o.join("")}return o=e.createElement(o),n&&(goog.isString(n)?o.className=n:goog.isArray(n)?o.className=n.join(" "):goog.dom.setProperties(o,n)),2<t.length&&goog.dom.append_(e,o,t,2),o},goog.dom.append_=function(t,o,e,n){function r(e){e&&o.appendChild(goog.isString(e)?t.createTextNode(e):e)}for(;n<e.length;n++){var i=e[n];goog.isArrayLike(i)&&!goog.dom.isNodeLike(i)?goog.array.forEach(goog.dom.isNodeList(i)?goog.array.toArray(i):i,r):r(i)}},goog.dom.$dom=goog.dom.createDom,goog.dom.createElement=function(e){return goog.dom.createElement_(document,e)},goog.dom.createElement_=function(e,t){return e.createElement(String(t))},goog.dom.createTextNode=function(e){return document.createTextNode(String(e))},goog.dom.createTable=function(e,t,o){return goog.dom.createTable_(document,e,t,!!o)},goog.dom.createTable_=function(e,t,o,n){for(var r=goog.dom.createElement_(e,"TABLE"),i=r.appendChild(goog.dom.createElement_(e,"TBODY")),a=0;a<t;a++){for(var s=goog.dom.createElement_(e,"TR"),l=0;l<o;l++){var c=goog.dom.createElement_(e,"TD");n&&goog.dom.setTextContent(c,goog.string.Unicode.NBSP),s.appendChild(c)}i.appendChild(s)}return r},goog.dom.constHtmlToNode=function(e){var t=goog.array.map(arguments,goog.string.Const.unwrap);return t=goog.html.uncheckedconversions.safeHtmlFromStringKnownToSatisfyTypeContract(goog.string.Const.from("Constant HTML string, that gets turned into a Node later, so it will be automatically balanced."),t.join("")),goog.dom.safeHtmlToNode(t)},goog.dom.safeHtmlToNode=function(e){return goog.dom.safeHtmlToNode_(document,e)},goog.dom.safeHtmlToNode_=function(e,t){var o=goog.dom.createElement_(e,"DIV");return goog.dom.BrowserFeature.INNER_HTML_NEEDS_SCOPED_ELEMENT?(goog.dom.safe.setInnerHtml(o,goog.html.SafeHtml.concat(goog.html.SafeHtml.BR,t)),o.removeChild(o.firstChild)):goog.dom.safe.setInnerHtml(o,t),goog.dom.childrenToNode_(e,o)},goog.dom.childrenToNode_=function(e,t){if(1==t.childNodes.length)return t.removeChild(t.firstChild);for(e=e.createDocumentFragment();t.firstChild;)e.appendChild(t.firstChild);return e},goog.dom.isCss1CompatMode=function(){return goog.dom.isCss1CompatMode_(document)},goog.dom.isCss1CompatMode_=function(e){return goog.dom.COMPAT_MODE_KNOWN_?goog.dom.ASSUME_STANDARDS_MODE:"CSS1Compat"==e.compatMode},goog.dom.canHaveChildren=function(e){if(e.nodeType!=goog.dom.NodeType.ELEMENT)return!1;switch(e.tagName){case"APPLET":case"AREA":case"BASE":case"BR":case"COL":case"COMMAND":case"EMBED":case"FRAME":case"HR":case"IMG":case"INPUT":case"IFRAME":case"ISINDEX":case"KEYGEN":case"LINK":case"NOFRAMES":case"NOSCRIPT":case"META":case"OBJECT":case"PARAM":case"SCRIPT":case"SOURCE":case"STYLE":case"TRACK":case"WBR":return!1}return!0},goog.dom.appendChild=function(e,t){e.appendChild(t)},goog.dom.append=function(e,t){goog.dom.append_(goog.dom.getOwnerDocument(e),e,arguments,1)},goog.dom.removeChildren=function(e){for(var t;t=e.firstChild;)e.removeChild(t)},goog.dom.insertSiblingBefore=function(e,t){t.parentNode&&t.parentNode.insertBefore(e,t)},goog.dom.insertSiblingAfter=function(e,t){t.parentNode&&t.parentNode.insertBefore(e,t.nextSibling)},goog.dom.insertChildAt=function(e,t,o){e.insertBefore(t,e.childNodes[o]||null)},goog.dom.removeNode=function(e){return e&&e.parentNode?e.parentNode.removeChild(e):null},goog.dom.replaceNode=function(e,t){var o=t.parentNode;o&&o.replaceChild(e,t)},goog.dom.flattenElement=function(e){var t,o=e.parentNode;if(o&&o.nodeType!=goog.dom.NodeType.DOCUMENT_FRAGMENT){if(e.removeNode)return e.removeNode(!1);for(;t=e.firstChild;)o.insertBefore(t,e);return goog.dom.removeNode(e)}},goog.dom.getChildren=function(e){return goog.dom.BrowserFeature.CAN_USE_CHILDREN_ATTRIBUTE&&null!=e.children?e.children:goog.array.filter(e.childNodes,function(e){return e.nodeType==goog.dom.NodeType.ELEMENT})},goog.dom.getFirstElementChild=function(e){return goog.isDef(e.firstElementChild)?e.firstElementChild:goog.dom.getNextElementNode_(e.firstChild,!0)},goog.dom.getLastElementChild=function(e){return goog.isDef(e.lastElementChild)?e.lastElementChild:goog.dom.getNextElementNode_(e.lastChild,!1)},goog.dom.getNextElementSibling=function(e){return goog.isDef(e.nextElementSibling)?e.nextElementSibling:goog.dom.getNextElementNode_(e.nextSibling,!0)},goog.dom.getPreviousElementSibling=function(e){return goog.isDef(e.previousElementSibling)?e.previousElementSibling:goog.dom.getNextElementNode_(e.previousSibling,!1)},goog.dom.getNextElementNode_=function(e,t){for(;e&&e.nodeType!=goog.dom.NodeType.ELEMENT;)e=t?e.nextSibling:e.previousSibling;return e},goog.dom.getNextNode=function(e){if(!e)return null;if(e.firstChild)return e.firstChild;for(;e&&!e.nextSibling;)e=e.parentNode;return e?e.nextSibling:null},goog.dom.getPreviousNode=function(e){if(!e)return null;if(!e.previousSibling)return e.parentNode;for(e=e.previousSibling;e&&e.lastChild;)e=e.lastChild;return e},goog.dom.isNodeLike=function(e){return goog.isObject(e)&&0<e.nodeType},goog.dom.isElement=function(e){return goog.isObject(e)&&e.nodeType==goog.dom.NodeType.ELEMENT},goog.dom.isWindow=function(e){return goog.isObject(e)&&e.window==e},goog.dom.getParentElement=function(e){var t;return!goog.dom.BrowserFeature.CAN_USE_PARENT_ELEMENT_PROPERTY||goog.userAgent.IE&&goog.userAgent.isVersionOrHigher("9")&&!goog.userAgent.isVersionOrHigher("10")&&goog.global.SVGElement&&e instanceof goog.global.SVGElement||!(t=e.parentElement)?(t=e.parentNode,goog.dom.isElement(t)?t:null):t},goog.dom.contains=function(e,t){if(!e||!t)return!1;if(e.contains&&t.nodeType==goog.dom.NodeType.ELEMENT)return e==t||e.contains(t);if(void 0!==e.compareDocumentPosition)return e==t||!!(16&e.compareDocumentPosition(t));for(;t&&e!=t;)t=t.parentNode;return t==e},goog.dom.compareNodeOrder=function(e,t){if(e==t)return 0;if(e.compareDocumentPosition)return 2&e.compareDocumentPosition(t)?1:-1;if(goog.userAgent.IE&&!goog.userAgent.isDocumentModeOrHigher(9)){if(e.nodeType==goog.dom.NodeType.DOCUMENT)return-1;if(t.nodeType==goog.dom.NodeType.DOCUMENT)return 1}if("sourceIndex"in e||e.parentNode&&"sourceIndex"in e.parentNode){var o=e.nodeType==goog.dom.NodeType.ELEMENT,n=t.nodeType==goog.dom.NodeType.ELEMENT;if(o&&n)return e.sourceIndex-t.sourceIndex;var r=e.parentNode,i=t.parentNode;return r==i?goog.dom.compareSiblingOrder_(e,t):!o&&goog.dom.contains(r,t)?-1*goog.dom.compareParentsDescendantNodeIe_(e,t):!n&&goog.dom.contains(i,e)?goog.dom.compareParentsDescendantNodeIe_(t,e):(o?e.sourceIndex:r.sourceIndex)-(n?t.sourceIndex:i.sourceIndex)}return(o=(n=goog.dom.getOwnerDocument(e)).createRange()).selectNode(e),o.collapse(!0),(e=n.createRange()).selectNode(t),e.collapse(!0),o.compareBoundaryPoints(goog.global.Range.START_TO_END,e)},goog.dom.compareParentsDescendantNodeIe_=function(e,t){var o=e.parentNode;if(o==t)return-1;for(;t.parentNode!=o;)t=t.parentNode;return goog.dom.compareSiblingOrder_(t,e)},goog.dom.compareSiblingOrder_=function(e,t){for(;t=t.previousSibling;)if(t==e)return-1;return 1},goog.dom.findCommonAncestor=function(e){var t,o=arguments.length;if(!o)return null;if(1==o)return e;var n=[],r=1/0;for(t=0;t<o;t++){for(var i=[],a=arguments[t];a;)i.unshift(a),a=a.parentNode;n.push(i),r=Math.min(r,i.length)}for(i=null,t=0;t<r;t++){a=n[0][t];for(var s=1;s<o;s++)if(a!=n[s][t])return i;i=a}return i},goog.dom.getOwnerDocument=function(e){return goog.asserts.assert(e,"Node cannot be null or undefined."),e.nodeType==goog.dom.NodeType.DOCUMENT?e:e.ownerDocument||e.document},goog.dom.getFrameContentDocument=function(e){return e.contentDocument||e.contentWindow.document},goog.dom.getFrameContentWindow=function(e){try{return e.contentWindow||(e.contentDocument?goog.dom.getWindow(e.contentDocument):null)}catch(e){}return null},goog.dom.setTextContent=function(e,t){if(goog.asserts.assert(null!=e,"goog.dom.setTextContent expects a non-null value for node"),"textContent"in e)e.textContent=t;else if(e.nodeType==goog.dom.NodeType.TEXT)e.data=t;else if(e.firstChild&&e.firstChild.nodeType==goog.dom.NodeType.TEXT){for(;e.lastChild!=e.firstChild;)e.removeChild(e.lastChild);e.firstChild.data=t}else{goog.dom.removeChildren(e);var o=goog.dom.getOwnerDocument(e);e.appendChild(o.createTextNode(String(t)))}},goog.dom.getOuterHtml=function(e){if(goog.asserts.assert(null!==e,"goog.dom.getOuterHtml expects a non-null value for element"),"outerHTML"in e)return e.outerHTML;var t=goog.dom.getOwnerDocument(e);return(t=goog.dom.createElement_(t,"DIV")).appendChild(e.cloneNode(!0)),t.innerHTML},goog.dom.findNode=function(e,t){var o=[];return goog.dom.findNodes_(e,t,o,!0)?o[0]:void 0},goog.dom.findNodes=function(e,t){var o=[];return goog.dom.findNodes_(e,t,o,!1),o},goog.dom.findNodes_=function(e,t,o,n){if(null!=e)for(e=e.firstChild;e;){if(t(e)&&(o.push(e),n)||goog.dom.findNodes_(e,t,o,n))return!0;e=e.nextSibling}return!1},goog.dom.TAGS_TO_IGNORE_={SCRIPT:1,STYLE:1,HEAD:1,IFRAME:1,OBJECT:1},goog.dom.PREDEFINED_TAG_VALUES_={IMG:" ",BR:"\n"},goog.dom.isFocusableTabIndex=function(e){return goog.dom.hasSpecifiedTabIndex_(e)&&goog.dom.isTabIndexFocusable_(e)},goog.dom.setFocusableTabIndex=function(e,t){t?e.tabIndex=0:(e.tabIndex=-1,e.removeAttribute("tabIndex"))},goog.dom.isFocusable=function(e){var t;return(t=goog.dom.nativelySupportsFocus_(e)?!e.disabled&&(!goog.dom.hasSpecifiedTabIndex_(e)||goog.dom.isTabIndexFocusable_(e)):goog.dom.isFocusableTabIndex(e))&&goog.userAgent.IE?goog.dom.hasNonZeroBoundingRect_(e):t},goog.dom.hasSpecifiedTabIndex_=function(e){return goog.userAgent.IE&&!goog.userAgent.isVersionOrHigher("9")?(e=e.getAttributeNode("tabindex"),goog.isDefAndNotNull(e)&&e.specified):e.hasAttribute("tabindex")},goog.dom.isTabIndexFocusable_=function(e){return e=e.tabIndex,goog.isNumber(e)&&0<=e&&e<32768},goog.dom.nativelySupportsFocus_=function(e){return"A"==e.tagName||"INPUT"==e.tagName||"TEXTAREA"==e.tagName||"SELECT"==e.tagName||"BUTTON"==e.tagName},goog.dom.hasNonZeroBoundingRect_=function(e){return e=!goog.isFunction(e.getBoundingClientRect)||goog.userAgent.IE&&null==e.parentElement?{height:e.offsetHeight,width:e.offsetWidth}:e.getBoundingClientRect(),goog.isDefAndNotNull(e)&&0<e.height&&0<e.width},goog.dom.getTextContent=function(e){if(goog.dom.BrowserFeature.CAN_USE_INNER_TEXT&&null!==e&&"innerText"in e)e=goog.string.canonicalizeNewlines(e.innerText);else{var t=[];goog.dom.getTextContent_(e,t,!0),e=t.join("")}return e=(e=e.replace(/ \xAD /g," ").replace(/\xAD/g,"")).replace(/\u200B/g,""),goog.dom.BrowserFeature.CAN_USE_INNER_TEXT||(e=e.replace(/ +/g," "))," "!=e&&(e=e.replace(/^\s*/,"")),e},goog.dom.getRawTextContent=function(e){var t=[];return goog.dom.getTextContent_(e,t,!1),t.join("")},goog.dom.getTextContent_=function(e,t,o){if(!(e.nodeName in goog.dom.TAGS_TO_IGNORE_))if(e.nodeType==goog.dom.NodeType.TEXT)o?t.push(String(e.nodeValue).replace(/(\r\n|\r|\n)/g,"")):t.push(e.nodeValue);else if(e.nodeName in goog.dom.PREDEFINED_TAG_VALUES_)t.push(goog.dom.PREDEFINED_TAG_VALUES_[e.nodeName]);else for(e=e.firstChild;e;)goog.dom.getTextContent_(e,t,o),e=e.nextSibling},goog.dom.getNodeTextLength=function(e){return goog.dom.getTextContent(e).length},goog.dom.getNodeTextOffset=function(e,t){t=t||goog.dom.getOwnerDocument(e).body;for(var o=[];e&&e!=t;){for(var n=e;n=n.previousSibling;)o.unshift(goog.dom.getTextContent(n));e=e.parentNode}return goog.string.trimLeft(o.join("")).replace(/ +/g," ").length},goog.dom.getNodeAtOffset=function(e,t,o){e=[e];for(var n=0,r=null;0<e.length&&n<t;)if(!((r=e.pop()).nodeName in goog.dom.TAGS_TO_IGNORE_))if(r.nodeType==goog.dom.NodeType.TEXT){var i=r.nodeValue.replace(/(\r\n|\r|\n)/g,"").replace(/ +/g," ");n+=i.length}else if(r.nodeName in goog.dom.PREDEFINED_TAG_VALUES_)n+=goog.dom.PREDEFINED_TAG_VALUES_[r.nodeName].length;else for(i=r.childNodes.length-1;0<=i;i--)e.push(r.childNodes[i]);return goog.isObject(o)&&(o.remainder=r?r.nodeValue.length+t-n-1:0,o.node=r),r},goog.dom.isNodeList=function(e){if(e&&"number"==typeof e.length){if(goog.isObject(e))return"function"==typeof e.item||"string"==typeof e.item;if(goog.isFunction(e))return"function"==typeof e.item}return!1},goog.dom.getAncestorByTagNameAndClass=function(e,t,o,n){if(!t&&!o)return null;var r=t?String(t).toUpperCase():null;return goog.dom.getAncestor(e,function(e){return(!r||e.nodeName==r)&&(!o||goog.isString(e.className)&&goog.array.contains(e.className.split(/\s+/),o))},!0,n)},goog.dom.getAncestorByClass=function(e,t,o){return goog.dom.getAncestorByTagNameAndClass(e,null,t,o)},goog.dom.getAncestor=function(e,t,o,n){for(e&&!o&&(e=e.parentNode),o=0;e&&(null==n||o<=n);){if(goog.asserts.assert("parentNode"!=e.name),t(e))return e;e=e.parentNode,o++}return null},goog.dom.getActiveElement=function(e){try{return e&&e.activeElement}catch(e){}return null},goog.dom.getPixelRatio=function(){var e=goog.dom.getWindow();return goog.isDef(e.devicePixelRatio)?e.devicePixelRatio:e.matchMedia?goog.dom.matchesPixelRatio_(3)||goog.dom.matchesPixelRatio_(2)||goog.dom.matchesPixelRatio_(1.5)||goog.dom.matchesPixelRatio_(1)||.75:1},goog.dom.matchesPixelRatio_=function(e){return goog.dom.getWindow().matchMedia("(min-resolution: "+e+"dppx),(min--moz-device-pixel-ratio: "+e+"),(min-resolution: "+96*e+"dpi)").matches?e:0},goog.dom.getCanvasContext2D=function(e){return e.getContext("2d")},goog.dom.DomHelper=function(e){this.document_=e||goog.global.document||document},goog.dom.DomHelper.prototype.getDomHelper=goog.dom.getDomHelper,goog.dom.DomHelper.prototype.setDocument=function(e){this.document_=e},goog.dom.DomHelper.prototype.getDocument=function(){return this.document_},goog.dom.DomHelper.prototype.getElement=function(e){return goog.dom.getElementHelper_(this.document_,e)},goog.dom.DomHelper.prototype.getRequiredElement=function(e){return goog.dom.getRequiredElementHelper_(this.document_,e)},goog.dom.DomHelper.prototype.$=goog.dom.DomHelper.prototype.getElement,goog.dom.DomHelper.prototype.getElementsByTagName=function(e,t){return(t||this.document_).getElementsByTagName(String(e))},goog.dom.DomHelper.prototype.getElementsByTagNameAndClass=function(e,t,o){return goog.dom.getElementsByTagNameAndClass_(this.document_,e,t,o)},goog.dom.DomHelper.prototype.getElementsByClass=function(e,t){return goog.dom.getElementsByClass(e,t||this.document_)},goog.dom.DomHelper.prototype.getElementByClass=function(e,t){return goog.dom.getElementByClass(e,t||this.document_)},goog.dom.DomHelper.prototype.getRequiredElementByClass=function(e,t){return goog.dom.getRequiredElementByClass(e,t||this.document_)},goog.dom.DomHelper.prototype.$$=goog.dom.DomHelper.prototype.getElementsByTagNameAndClass,goog.dom.DomHelper.prototype.setProperties=goog.dom.setProperties,goog.dom.DomHelper.prototype.getViewportSize=function(e){return goog.dom.getViewportSize(e||this.getWindow())},goog.dom.DomHelper.prototype.getDocumentHeight=function(){return goog.dom.getDocumentHeight_(this.getWindow())},goog.dom.DomHelper.prototype.createDom=function(e,t,o){return goog.dom.createDom_(this.document_,arguments)},goog.dom.DomHelper.prototype.$dom=goog.dom.DomHelper.prototype.createDom,goog.dom.DomHelper.prototype.createElement=function(e){return goog.dom.createElement_(this.document_,e)},goog.dom.DomHelper.prototype.createTextNode=function(e){return this.document_.createTextNode(String(e))},goog.dom.DomHelper.prototype.createTable=function(e,t,o){return goog.dom.createTable_(this.document_,e,t,!!o)},goog.dom.DomHelper.prototype.safeHtmlToNode=function(e){return goog.dom.safeHtmlToNode_(this.document_,e)},goog.dom.DomHelper.prototype.isCss1CompatMode=function(){return goog.dom.isCss1CompatMode_(this.document_)},goog.dom.DomHelper.prototype.getWindow=function(){return goog.dom.getWindow_(this.document_)},goog.dom.DomHelper.prototype.getDocumentScrollElement=function(){return goog.dom.getDocumentScrollElement_(this.document_)},goog.dom.DomHelper.prototype.getDocumentScroll=function(){return goog.dom.getDocumentScroll_(this.document_)},goog.dom.DomHelper.prototype.getActiveElement=function(e){return goog.dom.getActiveElement(e||this.document_)},goog.dom.DomHelper.prototype.appendChild=goog.dom.appendChild,goog.dom.DomHelper.prototype.append=goog.dom.append,goog.dom.DomHelper.prototype.canHaveChildren=goog.dom.canHaveChildren,goog.dom.DomHelper.prototype.removeChildren=goog.dom.removeChildren,goog.dom.DomHelper.prototype.insertSiblingBefore=goog.dom.insertSiblingBefore,goog.dom.DomHelper.prototype.insertSiblingAfter=goog.dom.insertSiblingAfter,goog.dom.DomHelper.prototype.insertChildAt=goog.dom.insertChildAt,goog.dom.DomHelper.prototype.removeNode=goog.dom.removeNode,goog.dom.DomHelper.prototype.replaceNode=goog.dom.replaceNode,goog.dom.DomHelper.prototype.flattenElement=goog.dom.flattenElement,goog.dom.DomHelper.prototype.getChildren=goog.dom.getChildren,goog.dom.DomHelper.prototype.getFirstElementChild=goog.dom.getFirstElementChild,goog.dom.DomHelper.prototype.getLastElementChild=goog.dom.getLastElementChild,goog.dom.DomHelper.prototype.getNextElementSibling=goog.dom.getNextElementSibling,goog.dom.DomHelper.prototype.getPreviousElementSibling=goog.dom.getPreviousElementSibling,goog.dom.DomHelper.prototype.getNextNode=goog.dom.getNextNode,goog.dom.DomHelper.prototype.getPreviousNode=goog.dom.getPreviousNode,goog.dom.DomHelper.prototype.isNodeLike=goog.dom.isNodeLike,goog.dom.DomHelper.prototype.isElement=goog.dom.isElement,goog.dom.DomHelper.prototype.isWindow=goog.dom.isWindow,goog.dom.DomHelper.prototype.getParentElement=goog.dom.getParentElement,goog.dom.DomHelper.prototype.contains=goog.dom.contains,goog.dom.DomHelper.prototype.compareNodeOrder=goog.dom.compareNodeOrder,goog.dom.DomHelper.prototype.findCommonAncestor=goog.dom.findCommonAncestor,goog.dom.DomHelper.prototype.getOwnerDocument=goog.dom.getOwnerDocument,goog.dom.DomHelper.prototype.getFrameContentDocument=goog.dom.getFrameContentDocument,goog.dom.DomHelper.prototype.getFrameContentWindow=goog.dom.getFrameContentWindow,goog.dom.DomHelper.prototype.setTextContent=goog.dom.setTextContent,goog.dom.DomHelper.prototype.getOuterHtml=goog.dom.getOuterHtml,goog.dom.DomHelper.prototype.findNode=goog.dom.findNode,goog.dom.DomHelper.prototype.findNodes=goog.dom.findNodes,goog.dom.DomHelper.prototype.isFocusableTabIndex=goog.dom.isFocusableTabIndex,goog.dom.DomHelper.prototype.setFocusableTabIndex=goog.dom.setFocusableTabIndex,goog.dom.DomHelper.prototype.isFocusable=goog.dom.isFocusable,goog.dom.DomHelper.prototype.getTextContent=goog.dom.getTextContent,goog.dom.DomHelper.prototype.getNodeTextLength=goog.dom.getNodeTextLength,goog.dom.DomHelper.prototype.getNodeTextOffset=goog.dom.getNodeTextOffset,goog.dom.DomHelper.prototype.getNodeAtOffset=goog.dom.getNodeAtOffset,goog.dom.DomHelper.prototype.isNodeList=goog.dom.isNodeList,goog.dom.DomHelper.prototype.getAncestorByTagNameAndClass=goog.dom.getAncestorByTagNameAndClass,goog.dom.DomHelper.prototype.getAncestorByClass=goog.dom.getAncestorByClass,goog.dom.DomHelper.prototype.getAncestor=goog.dom.getAncestor,goog.dom.DomHelper.prototype.getCanvasContext2D=goog.dom.getCanvasContext2D,goog.dom.vendor={},goog.dom.vendor.getVendorJsPrefix=function(){return goog.userAgent.WEBKIT?"Webkit":goog.userAgent.GECKO?"Moz":goog.userAgent.IE?"ms":goog.userAgent.OPERA?"O":null},goog.dom.vendor.getVendorPrefix=function(){return goog.userAgent.WEBKIT?"-webkit":goog.userAgent.GECKO?"-moz":goog.userAgent.IE?"-ms":goog.userAgent.OPERA?"-o":null},goog.dom.vendor.getPrefixedPropertyName=function(e,t){if(t&&e in t)return e;var o=goog.dom.vendor.getVendorJsPrefix();return o?(e=(o=o.toLowerCase())+goog.string.toTitleCase(e),!goog.isDef(t)||e in t?e:null):null},goog.dom.vendor.getPrefixedEventType=function(e){return((goog.dom.vendor.getVendorJsPrefix()||"")+e).toLowerCase()},goog.html.legacyconversions={},goog.html.legacyconversions.safeHtmlFromString=function(e){return goog.html.legacyconversions.reportCallback_(),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(e,null)},goog.html.legacyconversions.safeStyleFromString=function(e){return goog.html.legacyconversions.reportCallback_(),goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(e)},goog.html.legacyconversions.safeStyleSheetFromString=function(e){return goog.html.legacyconversions.reportCallback_(),goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(e)},goog.html.legacyconversions.safeUrlFromString=function(e){return goog.html.legacyconversions.reportCallback_(),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e)},goog.html.legacyconversions.trustedResourceUrlFromString=function(e){return goog.html.legacyconversions.reportCallback_(),goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(e)},goog.html.legacyconversions.reportCallback_=goog.nullFunction,goog.html.legacyconversions.setReportCallback=function(e){goog.html.legacyconversions.reportCallback_=e},goog.style={},goog.style.setStyle=function(e,t,o){if(goog.isString(t))goog.style.setStyle_(e,o,t);else for(var n in t)goog.style.setStyle_(e,t[n],n)},goog.style.setStyle_=function(e,t,o){(o=goog.style.getVendorJsStyleName_(e,o))&&(e.style[o]=t)},goog.style.styleNameCache_={},goog.style.getVendorJsStyleName_=function(e,t){var o=goog.style.styleNameCache_[t];if(!o){var n=goog.string.toCamelCase(t);o=n,void 0===e.style[n]&&(n=goog.dom.vendor.getVendorJsPrefix()+goog.string.toTitleCase(n),void 0!==e.style[n]&&(o=n)),goog.style.styleNameCache_[t]=o}return o},goog.style.getVendorStyleName_=function(e,t){var o=goog.string.toCamelCase(t);return void 0===e.style[o]&&(o=goog.dom.vendor.getVendorJsPrefix()+goog.string.toTitleCase(o),void 0!==e.style[o])?goog.dom.vendor.getVendorPrefix()+"-"+t:t},goog.style.getStyle=function(e,t){var o=e.style[goog.string.toCamelCase(t)];return void 0!==o?o:e.style[goog.style.getVendorJsStyleName_(e,t)]||""},goog.style.getComputedStyle=function(e,t){var o=goog.dom.getOwnerDocument(e);return o.defaultView&&o.defaultView.getComputedStyle&&(e=o.defaultView.getComputedStyle(e,null))&&(e[t]||e.getPropertyValue(t))||""},goog.style.getCascadedStyle=function(e,t){return e.currentStyle?e.currentStyle[t]:null},goog.style.getStyle_=function(e,t){return goog.style.getComputedStyle(e,t)||goog.style.getCascadedStyle(e,t)||e.style&&e.style[t]},goog.style.getComputedBoxSizing=function(e){return goog.style.getStyle_(e,"boxSizing")||goog.style.getStyle_(e,"MozBoxSizing")||goog.style.getStyle_(e,"WebkitBoxSizing")||null},goog.style.getComputedPosition=function(e){return goog.style.getStyle_(e,"position")},goog.style.getBackgroundColor=function(e){return goog.style.getStyle_(e,"backgroundColor")},goog.style.getComputedOverflowX=function(e){return goog.style.getStyle_(e,"overflowX")},goog.style.getComputedOverflowY=function(e){return goog.style.getStyle_(e,"overflowY")},goog.style.getComputedZIndex=function(e){return goog.style.getStyle_(e,"zIndex")},goog.style.getComputedTextAlign=function(e){return goog.style.getStyle_(e,"textAlign")},goog.style.getComputedCursor=function(e){return goog.style.getStyle_(e,"cursor")},goog.style.getComputedTransform=function(e){var t=goog.style.getVendorStyleName_(e,"transform");return goog.style.getStyle_(e,t)||goog.style.getStyle_(e,"transform")},goog.style.setPosition=function(e,t,o){if(t instanceof goog.math.Coordinate){var n=t.x;t=t.y}else n=t,t=o;e.style.left=goog.style.getPixelStyleValue_(n,!1),e.style.top=goog.style.getPixelStyleValue_(t,!1)},goog.style.getPosition=function(e){return new goog.math.Coordinate(e.offsetLeft,e.offsetTop)},goog.style.getClientViewportElement=function(e){return e=e?goog.dom.getOwnerDocument(e):goog.dom.getDocument(),!goog.userAgent.IE||goog.userAgent.isDocumentModeOrHigher(9)||goog.dom.getDomHelper(e).isCss1CompatMode()?e.documentElement:e.body},goog.style.getViewportPageOffset=function(e){var t=e.body;return e=e.documentElement,new goog.math.Coordinate(t.scrollLeft||e.scrollLeft,t.scrollTop||e.scrollTop)},goog.style.getBoundingClientRect_=function(e){try{var t=e.getBoundingClientRect()}catch(e){return{left:0,top:0,right:0,bottom:0}}return goog.userAgent.IE&&e.ownerDocument.body&&(e=e.ownerDocument,t.left-=e.documentElement.clientLeft+e.body.clientLeft,t.top-=e.documentElement.clientTop+e.body.clientTop),t},goog.style.getOffsetParent=function(e){if(goog.userAgent.IE&&!goog.userAgent.isDocumentModeOrHigher(8))return goog.asserts.assert(e&&"offsetParent"in e),e.offsetParent;var t=goog.dom.getOwnerDocument(e),o=goog.style.getStyle_(e,"position"),n="fixed"==o||"absolute"==o;for(e=e.parentNode;e&&e!=t;e=e.parentNode)if(e.nodeType==goog.dom.NodeType.DOCUMENT_FRAGMENT&&e.host&&(e=e.host),o=goog.style.getStyle_(e,"position"),!(n=n&&"static"==o&&e!=t.documentElement&&e!=t.body)&&(e.scrollWidth>e.clientWidth||e.scrollHeight>e.clientHeight||"fixed"==o||"absolute"==o||"relative"==o))return e;return null},goog.style.getVisibleRectForElement=function(e){for(var t=new goog.math.Box(0,1/0,1/0,0),o=goog.dom.getDomHelper(e),n=o.getDocument().body,r=o.getDocument().documentElement,i=o.getDocumentScrollElement();e=goog.style.getOffsetParent(e);)if(!(goog.userAgent.IE&&0==e.clientWidth||goog.userAgent.WEBKIT&&0==e.clientHeight&&e==n)&&e!=n&&e!=r&&"visible"!=goog.style.getStyle_(e,"overflow")){var a=goog.style.getPageOffset(e),s=goog.style.getClientLeftTop(e);a.x+=s.x,a.y+=s.y,t.top=Math.max(t.top,a.y),t.right=Math.min(t.right,a.x+e.clientWidth),t.bottom=Math.min(t.bottom,a.y+e.clientHeight),t.left=Math.max(t.left,a.x)}return n=i.scrollLeft,i=i.scrollTop,t.left=Math.max(t.left,n),t.top=Math.max(t.top,i),o=o.getViewportSize(),t.right=Math.min(t.right,n+o.width),t.bottom=Math.min(t.bottom,i+o.height),0<=t.top&&0<=t.left&&t.bottom>t.top&&t.right>t.left?t:null},goog.style.getContainerOffsetToScrollInto=function(e,t,o){var n=t||goog.dom.getDocumentScrollElement(),r=goog.style.getPageOffset(e),i=goog.style.getPageOffset(n),a=goog.style.getBorderBox(n);return n==goog.dom.getDocumentScrollElement()?(t=r.x-n.scrollLeft,r=r.y-n.scrollTop,goog.userAgent.IE&&!goog.userAgent.isDocumentModeOrHigher(10)&&(t+=a.left,r+=a.top)):(t=r.x-i.x-a.left,r=r.y-i.y-a.top),a=goog.style.getSizeWithDisplay_(e),e=n.clientWidth-a.width,a=n.clientHeight-a.height,i=n.scrollLeft,n=n.scrollTop,o?(i+=t-e/2,n+=r-a/2):(i+=Math.min(t,Math.max(t-e,0)),n+=Math.min(r,Math.max(r-a,0))),new goog.math.Coordinate(i,n)},goog.style.scrollIntoContainerView=function(e,t,o){t=t||goog.dom.getDocumentScrollElement(),e=goog.style.getContainerOffsetToScrollInto(e,t,o),t.scrollLeft=e.x,t.scrollTop=e.y},goog.style.getClientLeftTop=function(e){return new goog.math.Coordinate(e.clientLeft,e.clientTop)},goog.style.getPageOffset=function(e){var t=goog.dom.getOwnerDocument(e);goog.asserts.assertObject(e,"Parameter is required");var o=new goog.math.Coordinate(0,0);return e==goog.style.getClientViewportElement(t)||(e=goog.style.getBoundingClientRect_(e),t=goog.dom.getDomHelper(t).getDocumentScroll(),o.x=e.left+t.x,o.y=e.top+t.y),o},goog.style.getPageOffsetLeft=function(e){return goog.style.getPageOffset(e).x},goog.style.getPageOffsetTop=function(e){return goog.style.getPageOffset(e).y},goog.style.getFramedPageOffset=function(e,t){var o=new goog.math.Coordinate(0,0),n=goog.dom.getWindow(goog.dom.getOwnerDocument(e));if(!goog.reflect.canAccessProperty(n,"parent"))return o;do{var r=n==t?goog.style.getPageOffset(e):goog.style.getClientPositionForElement_(goog.asserts.assert(e));o.x+=r.x,o.y+=r.y}while(n&&n!=t&&n!=n.parent&&(e=n.frameElement)&&(n=n.parent));return o},goog.style.translateRectForAnotherFrame=function(e,t,o){if(t.getDocument()!=o.getDocument()){var n=t.getDocument().body;o=goog.style.getFramedPageOffset(n,o.getWindow()),o=goog.math.Coordinate.difference(o,goog.style.getPageOffset(n)),!goog.userAgent.IE||goog.userAgent.isDocumentModeOrHigher(9)||t.isCss1CompatMode()||(o=goog.math.Coordinate.difference(o,t.getDocumentScroll())),e.left+=o.x,e.top+=o.y}},goog.style.getRelativePosition=function(e,t){return e=goog.style.getClientPosition(e),t=goog.style.getClientPosition(t),new goog.math.Coordinate(e.x-t.x,e.y-t.y)},goog.style.getClientPositionForElement_=function(e){return e=goog.style.getBoundingClientRect_(e),new goog.math.Coordinate(e.left,e.top)},goog.style.getClientPosition=function(e){return goog.asserts.assert(e),e.nodeType==goog.dom.NodeType.ELEMENT?goog.style.getClientPositionForElement_(e):(e=e.changedTouches?e.changedTouches[0]:e,new goog.math.Coordinate(e.clientX,e.clientY))},goog.style.setPageOffset=function(e,t,o){var n=goog.style.getPageOffset(e);t instanceof goog.math.Coordinate&&(o=t.y,t=t.x),t=goog.asserts.assertNumber(t)-n.x,goog.style.setPosition(e,e.offsetLeft+t,e.offsetTop+(Number(o)-n.y))},goog.style.setSize=function(e,t,o){if(t instanceof goog.math.Size)o=t.height,t=t.width;else if(null==o)throw Error("missing height argument");goog.style.setWidth(e,t),goog.style.setHeight(e,o)},goog.style.getPixelStyleValue_=function(e,t){return"number"==typeof e&&(e=(t?Math.round(e):e)+"px"),e},goog.style.setHeight=function(e,t){e.style.height=goog.style.getPixelStyleValue_(t,!0)},goog.style.setWidth=function(e,t){e.style.width=goog.style.getPixelStyleValue_(t,!0)},goog.style.getSize=function(e){return goog.style.evaluateWithTemporaryDisplay_(goog.style.getSizeWithDisplay_,e)},goog.style.evaluateWithTemporaryDisplay_=function(e,t){if("none"!=goog.style.getStyle_(t,"display"))return e(t);var o=t.style,n=o.display,r=o.visibility,i=o.position;return o.visibility="hidden",o.position="absolute",o.display="inline",e=e(t),o.display=n,o.position=i,o.visibility=r,e},goog.style.getSizeWithDisplay_=function(e){var t=e.offsetWidth,o=e.offsetHeight,n=goog.userAgent.WEBKIT&&!t&&!o;return goog.isDef(t)&&!n||!e.getBoundingClientRect?new goog.math.Size(t,o):(e=goog.style.getBoundingClientRect_(e),new goog.math.Size(e.right-e.left,e.bottom-e.top))},goog.style.getTransformedSize=function(e){return e.getBoundingClientRect?(e=goog.style.evaluateWithTemporaryDisplay_(goog.style.getBoundingClientRect_,e),new goog.math.Size(e.right-e.left,e.bottom-e.top)):null},goog.style.getBounds=function(e){var t=goog.style.getPageOffset(e);return e=goog.style.getSize(e),new goog.math.Rect(t.x,t.y,e.width,e.height)},goog.style.toCamelCase=function(e){return goog.string.toCamelCase(String(e))},goog.style.toSelectorCase=function(e){return goog.string.toSelectorCase(e)},goog.style.getOpacity=function(e){goog.asserts.assert(e);var t=e.style;return e="","opacity"in t?e=t.opacity:"MozOpacity"in t?e=t.MozOpacity:"filter"in t&&(t=t.filter.match(/alpha\(opacity=([\d.]+)\)/))&&(e=String(t[1]/100)),""==e?e:Number(e)},goog.style.setOpacity=function(e,t){goog.asserts.assert(e),"opacity"in(e=e.style)?e.opacity=t:"MozOpacity"in e?e.MozOpacity=t:"filter"in e&&(e.filter=""===t?"":"alpha(opacity="+100*Number(t)+")")},goog.style.setTransparentBackgroundImage=function(e,t){e=e.style,goog.userAgent.IE&&!goog.userAgent.isVersionOrHigher("8")?e.filter='progid:DXImageTransform.Microsoft.AlphaImageLoader(src="'+t+'", sizingMethod="crop")':(e.backgroundImage="url("+t+")",e.backgroundPosition="top left",e.backgroundRepeat="no-repeat")},goog.style.clearTransparentBackgroundImage=function(e){"filter"in(e=e.style)?e.filter="":e.backgroundImage="none"},goog.style.showElement=function(e,t){goog.style.setElementShown(e,t)},goog.style.setElementShown=function(e,t){e.style.display=t?"":"none"},goog.style.isElementShown=function(e){return"none"!=e.style.display},goog.style.installStyles=function(e,t){return goog.style.installSafeStyleSheet(goog.html.legacyconversions.safeStyleSheetFromString(e),t)},goog.style.installSafeStyleSheet=function(e,t){var o=(t=goog.dom.getDomHelper(t)).getDocument();if(goog.userAgent.IE&&o.createStyleSheet){var n=o.createStyleSheet();goog.style.setSafeStyleSheet(n,e)}else(o=t.getElementsByTagNameAndClass("HEAD")[0])||(n=t.getElementsByTagNameAndClass("BODY")[0],o=t.createDom("HEAD"),n.parentNode.insertBefore(o,n)),n=t.createDom("STYLE"),goog.style.setSafeStyleSheet(n,e),t.appendChild(o,n);return n},goog.style.uninstallStyles=function(e){goog.dom.removeNode(e.ownerNode||e.owningElement||e)},goog.style.setStyles=function(e,t){goog.style.setSafeStyleSheet(e,goog.html.legacyconversions.safeStyleSheetFromString(t))},goog.style.setSafeStyleSheet=function(e,t){t=goog.html.SafeStyleSheet.unwrap(t),goog.userAgent.IE&&goog.isDef(e.cssText)?e.cssText=t:e.innerHTML=t},goog.style.setPreWrap=function(e){e=e.style,goog.userAgent.IE&&!goog.userAgent.isVersionOrHigher("8")?(e.whiteSpace="pre",e.wordWrap="break-word"):e.whiteSpace=goog.userAgent.GECKO?"-moz-pre-wrap":"pre-wrap"},goog.style.setInlineBlock=function(e){(e=e.style).position="relative",goog.userAgent.IE&&!goog.userAgent.isVersionOrHigher("8")?(e.zoom="1",e.display="inline"):e.display="inline-block"},goog.style.isRightToLeft=function(e){return"rtl"==goog.style.getStyle_(e,"direction")},goog.style.unselectableStyle_=goog.userAgent.GECKO?"MozUserSelect":goog.userAgent.WEBKIT||goog.userAgent.EDGE?"WebkitUserSelect":null,goog.style.isUnselectable=function(e){return goog.style.unselectableStyle_?"none"==e.style[goog.style.unselectableStyle_].toLowerCase():!(!goog.userAgent.IE&&!goog.userAgent.OPERA)&&"on"==e.getAttribute("unselectable")},goog.style.setUnselectable=function(e,t,o){o=o?null:e.getElementsByTagName("*");var n=goog.style.unselectableStyle_;if(n){if(t=t?"none":"",e.style&&(e.style[n]=t),o){e=0;for(var r;r=o[e];e++)r.style&&(r.style[n]=t)}}else if((goog.userAgent.IE||goog.userAgent.OPERA)&&(t=t?"on":"",e.setAttribute("unselectable",t),o))for(e=0;r=o[e];e++)r.setAttribute("unselectable",t)},goog.style.getBorderBoxSize=function(e){return new goog.math.Size(e.offsetWidth,e.offsetHeight)},goog.style.setBorderBoxSize=function(e,t){var o=goog.dom.getOwnerDocument(e),n=goog.dom.getDomHelper(o).isCss1CompatMode();!goog.userAgent.IE||goog.userAgent.isVersionOrHigher("10")||n&&goog.userAgent.isVersionOrHigher("8")?goog.style.setBoxSizingSize_(e,t,"border-box"):(o=e.style,n?(n=goog.style.getPaddingBox(e),e=goog.style.getBorderBox(e),o.pixelWidth=t.width-e.left-n.left-n.right-e.right,o.pixelHeight=t.height-e.top-n.top-n.bottom-e.bottom):(o.pixelWidth=t.width,o.pixelHeight=t.height))},goog.style.getContentBoxSize=function(e){var t=goog.dom.getOwnerDocument(e),o=goog.userAgent.IE&&e.currentStyle;return o&&goog.dom.getDomHelper(t).isCss1CompatMode()&&"auto"!=o.width&&"auto"!=o.height&&!o.boxSizing?(t=goog.style.getIePixelValue_(e,o.width,"width","pixelWidth"),e=goog.style.getIePixelValue_(e,o.height,"height","pixelHeight"),new goog.math.Size(t,e)):(o=goog.style.getBorderBoxSize(e),t=goog.style.getPaddingBox(e),e=goog.style.getBorderBox(e),new goog.math.Size(o.width-e.left-t.left-t.right-e.right,o.height-e.top-t.top-t.bottom-e.bottom))},goog.style.setContentBoxSize=function(e,t){var o=goog.dom.getOwnerDocument(e),n=goog.dom.getDomHelper(o).isCss1CompatMode();!goog.userAgent.IE||goog.userAgent.isVersionOrHigher("10")||n&&goog.userAgent.isVersionOrHigher("8")?goog.style.setBoxSizingSize_(e,t,"content-box"):(o=e.style,n?(o.pixelWidth=t.width,o.pixelHeight=t.height):(n=goog.style.getPaddingBox(e),e=goog.style.getBorderBox(e),o.pixelWidth=t.width+e.left+n.left+n.right+e.right,o.pixelHeight=t.height+e.top+n.top+n.bottom+e.bottom))},goog.style.setBoxSizingSize_=function(e,t,o){e=e.style,goog.userAgent.GECKO?e.MozBoxSizing=o:goog.userAgent.WEBKIT?e.WebkitBoxSizing=o:e.boxSizing=o,e.width=Math.max(t.width,0)+"px",e.height=Math.max(t.height,0)+"px"},goog.style.getIePixelValue_=function(e,t,o,n){if(/^\d+px?$/.test(t))return parseInt(t,10);var r=e.style[o],i=e.runtimeStyle[o];return e.runtimeStyle[o]=e.currentStyle[o],e.style[o]=t,t=e.style[n],e.style[o]=r,e.runtimeStyle[o]=i,+t},goog.style.getIePixelDistance_=function(e,t){return(t=goog.style.getCascadedStyle(e,t))?goog.style.getIePixelValue_(e,t,"left","pixelLeft"):0},goog.style.getBox_=function(e,t){if(goog.userAgent.IE){var o=goog.style.getIePixelDistance_(e,t+"Left"),n=goog.style.getIePixelDistance_(e,t+"Right"),r=goog.style.getIePixelDistance_(e,t+"Top");return e=goog.style.getIePixelDistance_(e,t+"Bottom"),new goog.math.Box(r,n,e,o)}return o=goog.style.getComputedStyle(e,t+"Left"),n=goog.style.getComputedStyle(e,t+"Right"),r=goog.style.getComputedStyle(e,t+"Top"),e=goog.style.getComputedStyle(e,t+"Bottom"),new goog.math.Box(parseFloat(r),parseFloat(n),parseFloat(e),parseFloat(o))},goog.style.getPaddingBox=function(e){return goog.style.getBox_(e,"padding")},goog.style.getMarginBox=function(e){return goog.style.getBox_(e,"margin")},goog.style.ieBorderWidthKeywords_={thin:2,medium:4,thick:6},goog.style.getIePixelBorder_=function(e,t){return"none"==goog.style.getCascadedStyle(e,t+"Style")?0:(t=goog.style.getCascadedStyle(e,t+"Width"))in goog.style.ieBorderWidthKeywords_?goog.style.ieBorderWidthKeywords_[t]:goog.style.getIePixelValue_(e,t,"left","pixelLeft")},goog.style.getBorderBox=function(e){if(!goog.userAgent.IE||goog.userAgent.isDocumentModeOrHigher(9))return t=goog.style.getComputedStyle(e,"borderLeftWidth"),o=goog.style.getComputedStyle(e,"borderRightWidth"),n=goog.style.getComputedStyle(e,"borderTopWidth"),e=goog.style.getComputedStyle(e,"borderBottomWidth"),new goog.math.Box(parseFloat(n),parseFloat(o),parseFloat(e),parseFloat(t));var t=goog.style.getIePixelBorder_(e,"borderLeft"),o=goog.style.getIePixelBorder_(e,"borderRight"),n=goog.style.getIePixelBorder_(e,"borderTop");return e=goog.style.getIePixelBorder_(e,"borderBottom"),new goog.math.Box(n,o,e,t)},goog.style.getFontFamily=function(e){var t=goog.dom.getOwnerDocument(e),o="";if(t.body.createTextRange&&goog.dom.contains(t,e)){(t=t.body.createTextRange()).moveToElementText(e);try{o=t.queryCommandValue("FontName")}catch(e){o=""}}return o||(o=goog.style.getStyle_(e,"fontFamily")),1<(e=o.split(",")).length&&(o=e[0]),goog.string.stripQuotes(o,"\"'")},goog.style.lengthUnitRegex_=/[^\d]+$/,goog.style.getLengthUnits=function(e){return(e=e.match(goog.style.lengthUnitRegex_))&&e[0]||null},goog.style.ABSOLUTE_CSS_LENGTH_UNITS_={cm:1,in:1,mm:1,pc:1,pt:1},goog.style.CONVERTIBLE_RELATIVE_CSS_UNITS_={em:1,ex:1},goog.style.getFontSize=function(e){var t=goog.style.getStyle_(e,"fontSize"),o=goog.style.getLengthUnits(t);if(t&&"px"==o)return parseInt(t,10);if(goog.userAgent.IE){if(String(o)in goog.style.ABSOLUTE_CSS_LENGTH_UNITS_)return goog.style.getIePixelValue_(e,t,"left","pixelLeft");if(e.parentNode&&e.parentNode.nodeType==goog.dom.NodeType.ELEMENT&&String(o)in goog.style.CONVERTIBLE_RELATIVE_CSS_UNITS_)return e=e.parentNode,o=goog.style.getStyle_(e,"fontSize"),goog.style.getIePixelValue_(e,t==o?"1em":t,"left","pixelLeft")}return o=goog.dom.createDom("SPAN",{style:"visibility:hidden;position:absolute;line-height:0;padding:0;margin:0;border:0;height:1em;"}),goog.dom.appendChild(e,o),t=o.offsetHeight,goog.dom.removeNode(o),t},goog.style.parseStyleAttribute=function(e){var o={};return goog.array.forEach(e.split(/\s*;\s*/),function(e){var t=e.match(/\s*([\w-]+)\s*:(.+)/);t&&(e=t[1],t=goog.string.trim(t[2]),o[goog.string.toCamelCase(e.toLowerCase())]=t)}),o},goog.style.toStyleAttribute=function(e){var o=[];return goog.object.forEach(e,function(e,t){o.push(goog.string.toSelectorCase(t),":",e,";")}),o.join("")},goog.style.setFloat=function(e,t){e.style[goog.userAgent.IE?"styleFloat":"cssFloat"]=t},goog.style.getFloat=function(e){return e.style[goog.userAgent.IE?"styleFloat":"cssFloat"]||""},goog.style.getScrollbarWidth=function(e){var t=goog.dom.createElement("DIV");return e&&(t.className=e),t.style.cssText="overflow:auto;position:absolute;top:0;width:100px;height:100px",e=goog.dom.createElement("DIV"),goog.style.setSize(e,"200px","200px"),t.appendChild(e),goog.dom.appendChild(goog.dom.getDocument().body,t),e=t.offsetWidth-t.clientWidth,goog.dom.removeNode(t),e},goog.style.MATRIX_TRANSLATION_REGEX_=/matrix\([0-9\.\-]+, [0-9\.\-]+, [0-9\.\-]+, [0-9\.\-]+, ([0-9\.\-]+)p?x?, ([0-9\.\-]+)p?x?\)/,goog.style.getCssTranslation=function(e){return(e=goog.style.getComputedTransform(e))&&(e=e.match(goog.style.MATRIX_TRANSLATION_REGEX_))?new goog.math.Coordinate(parseFloat(e[1]),parseFloat(e[2])):new goog.math.Coordinate(0,0)},goog.events.EventHandler=function(e){goog.Disposable.call(this),this.handler_=e,this.keys_={}},goog.inherits(goog.events.EventHandler,goog.Disposable),goog.events.EventHandler.typeArray_=[],goog.events.EventHandler.prototype.listen=function(e,t,o,n){return this.listen_(e,t,o,n)},goog.events.EventHandler.prototype.listenWithScope=function(e,t,o,n,r){return this.listen_(e,t,o,n,r)},goog.events.EventHandler.prototype.listen_=function(e,t,o,n,r){goog.isArray(t)||(t&&(goog.events.EventHandler.typeArray_[0]=t.toString()),t=goog.events.EventHandler.typeArray_);for(var i=0;i<t.length;i++){var a=goog.events.listen(e,t[i],o||this.handleEvent,n||!1,r||this.handler_||this);if(!a)break;this.keys_[a.key]=a}return this},goog.events.EventHandler.prototype.listenOnce=function(e,t,o,n){return this.listenOnce_(e,t,o,n)},goog.events.EventHandler.prototype.listenOnceWithScope=function(e,t,o,n,r){return this.listenOnce_(e,t,o,n,r)},goog.events.EventHandler.prototype.listenOnce_=function(e,t,o,n,r){if(goog.isArray(t))for(var i=0;i<t.length;i++)this.listenOnce_(e,t[i],o,n,r);else{if(!(e=goog.events.listenOnce(e,t,o||this.handleEvent,n,r||this.handler_||this)))return this;this.keys_[e.key]=e}return this},goog.events.EventHandler.prototype.listenWithWrapper=function(e,t,o,n){return this.listenWithWrapper_(e,t,o,n)},goog.events.EventHandler.prototype.listenWithWrapperAndScope=function(e,t,o,n,r){return this.listenWithWrapper_(e,t,o,n,r)},goog.events.EventHandler.prototype.listenWithWrapper_=function(e,t,o,n,r){return t.listen(e,o,n,r||this.handler_||this,this),this},goog.events.EventHandler.prototype.getListenerCount=function(){var e,t=0;for(e in this.keys_)Object.prototype.hasOwnProperty.call(this.keys_,e)&&t++;return t},goog.events.EventHandler.prototype.unlisten=function(e,t,o,n,r){if(goog.isArray(t))for(var i=0;i<t.length;i++)this.unlisten(e,t[i],o,n,r);else(e=goog.events.getListener(e,t,o||this.handleEvent,n,r||this.handler_||this))&&(goog.events.unlistenByKey(e),delete this.keys_[e.key]);return this},goog.events.EventHandler.prototype.unlistenWithWrapper=function(e,t,o,n,r){return t.unlisten(e,o,n,r||this.handler_||this,this),this},goog.events.EventHandler.prototype.removeAll=function(){goog.object.forEach(this.keys_,function(e,t){this.keys_.hasOwnProperty(t)&&goog.events.unlistenByKey(e)},this),this.keys_={}},goog.events.EventHandler.prototype.disposeInternal=function(){goog.events.EventHandler.superClass_.disposeInternal.call(this),this.removeAll()},goog.events.EventHandler.prototype.handleEvent=function(e){throw Error("EventHandler.handleEvent not implemented")},goog.events.EventTarget=function(){goog.Disposable.call(this),this.eventTargetListeners_=new goog.events.ListenerMap(this),(this.actualEventTarget_=this).parentEventTarget_=null},goog.inherits(goog.events.EventTarget,goog.Disposable),goog.events.Listenable.addImplementation(goog.events.EventTarget),goog.events.EventTarget.MAX_ANCESTORS_=1e3,goog.events.EventTarget.prototype.getParentEventTarget=function(){return this.parentEventTarget_},goog.events.EventTarget.prototype.setParentEventTarget=function(e){this.parentEventTarget_=e},goog.events.EventTarget.prototype.addEventListener=function(e,t,o,n){goog.events.listen(this,e,t,o,n)},goog.events.EventTarget.prototype.removeEventListener=function(e,t,o,n){goog.events.unlisten(this,e,t,o,n)},goog.events.EventTarget.prototype.dispatchEvent=function(e){this.assertInitialized_();var t=this.getParentEventTarget();if(t)for(var o=[],n=1;t;t=t.getParentEventTarget())o.push(t),goog.asserts.assert(++n<goog.events.EventTarget.MAX_ANCESTORS_,"infinite loop");return goog.events.EventTarget.dispatchEventInternal_(this.actualEventTarget_,e,o)},goog.events.EventTarget.prototype.disposeInternal=function(){goog.events.EventTarget.superClass_.disposeInternal.call(this),this.removeAllListeners(),this.parentEventTarget_=null},goog.events.EventTarget.prototype.listen=function(e,t,o,n){return this.assertInitialized_(),this.eventTargetListeners_.add(String(e),t,!1,o,n)},goog.events.EventTarget.prototype.listenOnce=function(e,t,o,n){return this.eventTargetListeners_.add(String(e),t,!0,o,n)},goog.events.EventTarget.prototype.unlisten=function(e,t,o,n){return this.eventTargetListeners_.remove(String(e),t,o,n)},goog.events.EventTarget.prototype.unlistenByKey=function(e){return this.eventTargetListeners_.removeByKey(e)},goog.events.EventTarget.prototype.removeAllListeners=function(e){return this.eventTargetListeners_?this.eventTargetListeners_.removeAll(e):0},goog.events.EventTarget.prototype.fireListeners=function(e,t,o){if(!(e=this.eventTargetListeners_.listeners[String(e)]))return!0;e=e.concat();for(var n=!0,r=0;r<e.length;++r){var i=e[r];if(i&&!i.removed&&i.capture==t){var a=i.listener,s=i.handler||i.src;i.callOnce&&this.unlistenByKey(i),n=!1!==a.call(s,o)&&n}}return n&&0!=o.returnValue_},goog.events.EventTarget.prototype.getListeners=function(e,t){return this.eventTargetListeners_.getListeners(String(e),t)},goog.events.EventTarget.prototype.getListener=function(e,t,o,n){return this.eventTargetListeners_.getListener(String(e),t,o,n)},goog.events.EventTarget.prototype.hasListener=function(e,t){return e=goog.isDef(e)?String(e):void 0,this.eventTargetListeners_.hasListener(e,t)},goog.events.EventTarget.prototype.setTargetForTesting=function(e){this.actualEventTarget_=e},goog.events.EventTarget.prototype.assertInitialized_=function(){goog.asserts.assert(this.eventTargetListeners_,"Event target is not initialized. Did you call the superclass (goog.events.EventTarget) constructor?")},goog.events.EventTarget.dispatchEventInternal_=function(e,t,o){var n=t.type||t;if(goog.isString(t))t=new goog.events.Event(t,e);else if(t instanceof goog.events.Event)t.target=t.target||e;else{var r=t;t=new goog.events.Event(n,e),goog.object.extend(t,r)}if(r=!0,o)for(var i=o.length-1;!t.propagationStopped_&&0<=i;i--){var a=t.currentTarget=o[i];r=a.fireListeners(n,!0,t)&&r}if(t.propagationStopped_||(r=(a=t.currentTarget=e).fireListeners(n,!0,t)&&r,t.propagationStopped_||(r=a.fireListeners(n,!1,t)&&r)),o)for(i=0;!t.propagationStopped_&&i<o.length;i++)r=(a=t.currentTarget=o[i]).fireListeners(n,!1,t)&&r;return r},goog.ui={},goog.ui.IdGenerator=function(){},goog.addSingletonGetter(goog.ui.IdGenerator),goog.ui.IdGenerator.prototype.nextId_=0,goog.ui.IdGenerator.prototype.getNextUniqueId=function(){return":"+(this.nextId_++).toString(36)},goog.ui.Component=function(e){goog.events.EventTarget.call(this),this.dom_=e||goog.dom.getDomHelper(),this.rightToLeft_=goog.ui.Component.defaultRightToLeft_,this.id_=null,this.inDocument_=!1,this.element_=null,this.googUiComponentHandler_=void 0,this.childIndex_=this.children_=this.parent_=this.model_=null,this.wasDecorated_=!1},goog.inherits(goog.ui.Component,goog.events.EventTarget),goog.ui.Component.ALLOW_DETACHED_DECORATION=!1,goog.ui.Component.prototype.idGenerator_=goog.ui.IdGenerator.getInstance(),goog.ui.Component.DEFAULT_BIDI_DIR=0,goog.ui.Component.defaultRightToLeft_=1!=goog.ui.Component.DEFAULT_BIDI_DIR&&(-1==goog.ui.Component.DEFAULT_BIDI_DIR||null),goog.ui.Component.EventType={BEFORE_SHOW:"beforeshow",SHOW:"show",HIDE:"hide",DISABLE:"disable",ENABLE:"enable",HIGHLIGHT:"highlight",UNHIGHLIGHT:"unhighlight",ACTIVATE:"activate",DEACTIVATE:"deactivate",SELECT:"select",UNSELECT:"unselect",CHECK:"check",UNCHECK:"uncheck",FOCUS:"focus",BLUR:"blur",OPEN:"open",CLOSE:"close",ENTER:"enter",LEAVE:"leave",ACTION:"action",CHANGE:"change"},goog.ui.Component.Error={NOT_SUPPORTED:"Method not supported",DECORATE_INVALID:"Invalid element to decorate",ALREADY_RENDERED:"Component already rendered",PARENT_UNABLE_TO_BE_SET:"Unable to set parent component",CHILD_INDEX_OUT_OF_BOUNDS:"Child component index out of bounds",NOT_OUR_CHILD:"Child is not in parent component",NOT_IN_DOCUMENT:"Operation not supported while component is not in document",STATE_INVALID:"Invalid component state"},goog.ui.Component.State={ALL:255,DISABLED:1,HOVER:2,ACTIVE:4,SELECTED:8,CHECKED:16,FOCUSED:32,OPENED:64},goog.ui.Component.getStateTransitionEvent=function(e,t){switch(e){case goog.ui.Component.State.DISABLED:return t?goog.ui.Component.EventType.DISABLE:goog.ui.Component.EventType.ENABLE;case goog.ui.Component.State.HOVER:return t?goog.ui.Component.EventType.HIGHLIGHT:goog.ui.Component.EventType.UNHIGHLIGHT;case goog.ui.Component.State.ACTIVE:return t?goog.ui.Component.EventType.ACTIVATE:goog.ui.Component.EventType.DEACTIVATE;case goog.ui.Component.State.SELECTED:return t?goog.ui.Component.EventType.SELECT:goog.ui.Component.EventType.UNSELECT;case goog.ui.Component.State.CHECKED:return t?goog.ui.Component.EventType.CHECK:goog.ui.Component.EventType.UNCHECK;case goog.ui.Component.State.FOCUSED:return t?goog.ui.Component.EventType.FOCUS:goog.ui.Component.EventType.BLUR;case goog.ui.Component.State.OPENED:return t?goog.ui.Component.EventType.OPEN:goog.ui.Component.EventType.CLOSE}throw Error(goog.ui.Component.Error.STATE_INVALID)},goog.ui.Component.setDefaultRightToLeft=function(e){goog.ui.Component.defaultRightToLeft_=e},goog.ui.Component.prototype.getId=function(){return this.id_||(this.id_=this.idGenerator_.getNextUniqueId())},goog.ui.Component.prototype.setId=function(e){this.parent_&&this.parent_.childIndex_&&(goog.object.remove(this.parent_.childIndex_,this.id_),goog.object.add(this.parent_.childIndex_,e,this)),this.id_=e},goog.ui.Component.prototype.getElement=function(){return this.element_},goog.ui.Component.prototype.getElementStrict=function(){var e=this.element_;return goog.asserts.assert(e,"Can not call getElementStrict before rendering/decorating."),e},goog.ui.Component.prototype.setElementInternal=function(e){this.element_=e},goog.ui.Component.prototype.getElementsByClass=function(e){return this.element_?this.dom_.getElementsByClass(e,this.element_):[]},goog.ui.Component.prototype.getElementByClass=function(e){return this.element_?this.dom_.getElementByClass(e,this.element_):null},goog.ui.Component.prototype.getRequiredElementByClass=function(e){var t=this.getElementByClass(e);return goog.asserts.assert(t,"Expected element in component with class: %s",e),t},goog.ui.Component.prototype.getHandler=function(){return this.googUiComponentHandler_||(this.googUiComponentHandler_=new goog.events.EventHandler(this)),this.googUiComponentHandler_},goog.ui.Component.prototype.setParent=function(e){if(this==e)throw Error(goog.ui.Component.Error.PARENT_UNABLE_TO_BE_SET);if(e&&this.parent_&&this.id_&&this.parent_.getChild(this.id_)&&this.parent_!=e)throw Error(goog.ui.Component.Error.PARENT_UNABLE_TO_BE_SET);this.parent_=e,goog.ui.Component.superClass_.setParentEventTarget.call(this,e)},goog.ui.Component.prototype.getParent=function(){return this.parent_},goog.ui.Component.prototype.setParentEventTarget=function(e){if(this.parent_&&this.parent_!=e)throw Error(goog.ui.Component.Error.NOT_SUPPORTED);goog.ui.Component.superClass_.setParentEventTarget.call(this,e)},goog.ui.Component.prototype.getDomHelper=function(){return this.dom_},goog.ui.Component.prototype.isInDocument=function(){return this.inDocument_},goog.ui.Component.prototype.createDom=function(){this.element_=this.dom_.createElement("DIV")},goog.ui.Component.prototype.render=function(e){this.render_(e)},goog.ui.Component.prototype.renderBefore=function(e){this.render_(e.parentNode,e)},goog.ui.Component.prototype.render_=function(e,t){if(this.inDocument_)throw Error(goog.ui.Component.Error.ALREADY_RENDERED);this.element_||this.createDom(),e?e.insertBefore(this.element_,t||null):this.dom_.getDocument().body.appendChild(this.element_),this.parent_&&!this.parent_.isInDocument()||this.enterDocument()},goog.ui.Component.prototype.decorate=function(e){if(this.inDocument_)throw Error(goog.ui.Component.Error.ALREADY_RENDERED);if(!e||!this.canDecorate(e))throw Error(goog.ui.Component.Error.DECORATE_INVALID);this.wasDecorated_=!0;var t=goog.dom.getOwnerDocument(e);this.dom_&&this.dom_.getDocument()==t||(this.dom_=goog.dom.getDomHelper(e)),this.decorateInternal(e),goog.ui.Component.ALLOW_DETACHED_DECORATION&&!goog.dom.contains(t,e)||this.enterDocument()},goog.ui.Component.prototype.canDecorate=function(e){return!0},goog.ui.Component.prototype.wasDecorated=function(){return this.wasDecorated_},goog.ui.Component.prototype.decorateInternal=function(e){this.element_=e},goog.ui.Component.prototype.enterDocument=function(){this.inDocument_=!0,this.forEachChild(function(e){!e.isInDocument()&&e.getElement()&&e.enterDocument()})},goog.ui.Component.prototype.exitDocument=function(){this.forEachChild(function(e){e.isInDocument()&&e.exitDocument()}),this.googUiComponentHandler_&&this.googUiComponentHandler_.removeAll(),this.inDocument_=!1},goog.ui.Component.prototype.disposeInternal=function(){this.inDocument_&&this.exitDocument(),this.googUiComponentHandler_&&(this.googUiComponentHandler_.dispose(),delete this.googUiComponentHandler_),this.forEachChild(function(e){e.dispose()}),!this.wasDecorated_&&this.element_&&goog.dom.removeNode(this.element_),this.parent_=this.model_=this.element_=this.childIndex_=this.children_=null,goog.ui.Component.superClass_.disposeInternal.call(this)},goog.ui.Component.prototype.makeId=function(e){return this.getId()+"."+e},goog.ui.Component.prototype.makeIds=function(e){var t,o={};for(t in e)o[t]=this.makeId(e[t]);return o},goog.ui.Component.prototype.getModel=function(){return this.model_},goog.ui.Component.prototype.setModel=function(e){this.model_=e},goog.ui.Component.prototype.getFragmentFromId=function(e){return e.substring(this.getId().length+1)},goog.ui.Component.prototype.getElementByFragment=function(e){if(!this.inDocument_)throw Error(goog.ui.Component.Error.NOT_IN_DOCUMENT);return this.dom_.getElement(this.makeId(e))},goog.ui.Component.prototype.addChild=function(e,t){this.addChildAt(e,this.getChildCount(),t)},goog.ui.Component.prototype.addChildAt=function(e,t,o){if(goog.asserts.assert(!!e,"Provided element must not be null."),e.inDocument_&&(o||!this.inDocument_))throw Error(goog.ui.Component.Error.ALREADY_RENDERED);if(t<0||t>this.getChildCount())throw Error(goog.ui.Component.Error.CHILD_INDEX_OUT_OF_BOUNDS);this.childIndex_&&this.children_||(this.childIndex_={},this.children_=[]),e.getParent()==this?(goog.object.set(this.childIndex_,e.getId(),e),goog.array.remove(this.children_,e)):goog.object.add(this.childIndex_,e.getId(),e),e.setParent(this),goog.array.insertAt(this.children_,e,t),e.inDocument_&&this.inDocument_&&e.getParent()==this?(t=(o=this.getContentElement()).childNodes[t]||null)!=e.getElement()&&o.insertBefore(e.getElement(),t):o?(this.element_||this.createDom(),t=this.getChildAt(t+1),e.render_(this.getContentElement(),t?t.element_:null)):this.inDocument_&&!e.inDocument_&&e.element_&&e.element_.parentNode&&e.element_.parentNode.nodeType==goog.dom.NodeType.ELEMENT&&e.enterDocument()},goog.ui.Component.prototype.getContentElement=function(){return this.element_},goog.ui.Component.prototype.isRightToLeft=function(){return null==this.rightToLeft_&&(this.rightToLeft_=goog.style.isRightToLeft(this.inDocument_?this.element_:this.dom_.getDocument().body)),this.rightToLeft_},goog.ui.Component.prototype.setRightToLeft=function(e){if(this.inDocument_)throw Error(goog.ui.Component.Error.ALREADY_RENDERED);this.rightToLeft_=e},goog.ui.Component.prototype.hasChildren=function(){return!!this.children_&&0!=this.children_.length},goog.ui.Component.prototype.getChildCount=function(){return this.children_?this.children_.length:0},goog.ui.Component.prototype.getChildIds=function(){var t=[];return this.forEachChild(function(e){t.push(e.getId())}),t},goog.ui.Component.prototype.getChild=function(e){return this.childIndex_&&e&&goog.object.get(this.childIndex_,e)||null},goog.ui.Component.prototype.getChildAt=function(e){return this.children_&&this.children_[e]||null},goog.ui.Component.prototype.forEachChild=function(e,t){this.children_&&goog.array.forEach(this.children_,e,t)},goog.ui.Component.prototype.indexOfChild=function(e){return this.children_&&e?goog.array.indexOf(this.children_,e):-1},goog.ui.Component.prototype.removeChild=function(e,t){if(e){var o=goog.isString(e)?e:e.getId();e=this.getChild(o),o&&e&&(goog.object.remove(this.childIndex_,o),goog.array.remove(this.children_,e),t&&(e.exitDocument(),e.element_&&goog.dom.removeNode(e.element_)),e.setParent(null))}if(!e)throw Error(goog.ui.Component.Error.NOT_OUR_CHILD);return e},goog.ui.Component.prototype.removeChildAt=function(e,t){return this.removeChild(this.getChildAt(e),t)},goog.ui.Component.prototype.removeChildren=function(e){for(var t=[];this.hasChildren();)t.push(this.removeChildAt(0,e));return t},goog.a11y={},goog.a11y.aria={},goog.a11y.aria.Role={ALERT:"alert",ALERTDIALOG:"alertdialog",APPLICATION:"application",ARTICLE:"article",BANNER:"banner",BUTTON:"button",CHECKBOX:"checkbox",COLUMNHEADER:"columnheader",COMBOBOX:"combobox",COMPLEMENTARY:"complementary",CONTENTINFO:"contentinfo",DEFINITION:"definition",DIALOG:"dialog",DIRECTORY:"directory",DOCUMENT:"document",FORM:"form",GRID:"grid",GRIDCELL:"gridcell",GROUP:"group",HEADING:"heading",IMG:"img",LINK:"link",LIST:"list",LISTBOX:"listbox",LISTITEM:"listitem",LOG:"log",MAIN:"main",MARQUEE:"marquee",MATH:"math",MENU:"menu",MENUBAR:"menubar",MENU_ITEM:"menuitem",MENU_ITEM_CHECKBOX:"menuitemcheckbox",MENU_ITEM_RADIO:"menuitemradio",NAVIGATION:"navigation",NOTE:"note",OPTION:"option",PRESENTATION:"presentation",PROGRESSBAR:"progressbar",RADIO:"radio",RADIOGROUP:"radiogroup",REGION:"region",ROW:"row",ROWGROUP:"rowgroup",ROWHEADER:"rowheader",SCROLLBAR:"scrollbar",SEARCH:"search",SEPARATOR:"separator",SLIDER:"slider",SPINBUTTON:"spinbutton",STATUS:"status",TAB:"tab",TAB_LIST:"tablist",TAB_PANEL:"tabpanel",TEXTBOX:"textbox",TEXTINFO:"textinfo",TIMER:"timer",TOOLBAR:"toolbar",TOOLTIP:"tooltip",TREE:"tree",TREEGRID:"treegrid",TREEITEM:"treeitem"},goog.a11y.aria.State={ACTIVEDESCENDANT:"activedescendant",ATOMIC:"atomic",AUTOCOMPLETE:"autocomplete",BUSY:"busy",CHECKED:"checked",CONTROLS:"controls",DESCRIBEDBY:"describedby",DISABLED:"disabled",DROPEFFECT:"dropeffect",EXPANDED:"expanded",FLOWTO:"flowto",GRABBED:"grabbed",HASPOPUP:"haspopup",HIDDEN:"hidden",INVALID:"invalid",LABEL:"label",LABELLEDBY:"labelledby",LEVEL:"level",LIVE:"live",MULTILINE:"multiline",MULTISELECTABLE:"multiselectable",ORIENTATION:"orientation",OWNS:"owns",POSINSET:"posinset",PRESSED:"pressed",READONLY:"readonly",RELEVANT:"relevant",REQUIRED:"required",SELECTED:"selected",SETSIZE:"setsize",SORT:"sort",VALUEMAX:"valuemax",VALUEMIN:"valuemin",VALUENOW:"valuenow",VALUETEXT:"valuetext"},goog.a11y.aria.AutoCompleteValues={INLINE:"inline",LIST:"list",BOTH:"both",NONE:"none"},goog.a11y.aria.DropEffectValues={COPY:"copy",MOVE:"move",LINK:"link",EXECUTE:"execute",POPUP:"popup",NONE:"none"},goog.a11y.aria.LivePriority={OFF:"off",POLITE:"polite",ASSERTIVE:"assertive"},goog.a11y.aria.OrientationValues={VERTICAL:"vertical",HORIZONTAL:"horizontal"},goog.a11y.aria.RelevantValues={ADDITIONS:"additions",REMOVALS:"removals",TEXT:"text",ALL:"all"},goog.a11y.aria.SortValues={ASCENDING:"ascending",DESCENDING:"descending",NONE:"none",OTHER:"other"},goog.a11y.aria.CheckedValues={TRUE:"true",FALSE:"false",MIXED:"mixed",UNDEFINED:"undefined"},goog.a11y.aria.ExpandedValues={TRUE:"true",FALSE:"false",UNDEFINED:"undefined"},goog.a11y.aria.GrabbedValues={TRUE:"true",FALSE:"false",UNDEFINED:"undefined"},goog.a11y.aria.InvalidValues={FALSE:"false",TRUE:"true",GRAMMAR:"grammar",SPELLING:"spelling"},goog.a11y.aria.PressedValues={TRUE:"true",FALSE:"false",MIXED:"mixed",UNDEFINED:"undefined"},goog.a11y.aria.SelectedValues={TRUE:"true",FALSE:"false",UNDEFINED:"undefined"},goog.a11y.aria.datatables={},goog.a11y.aria.datatables.getDefaultValuesMap=function(){return goog.a11y.aria.DefaultStateValueMap_||(goog.a11y.aria.DefaultStateValueMap_=goog.object.create(goog.a11y.aria.State.ATOMIC,!1,goog.a11y.aria.State.AUTOCOMPLETE,"none",goog.a11y.aria.State.DROPEFFECT,"none",goog.a11y.aria.State.HASPOPUP,!1,goog.a11y.aria.State.LIVE,"off",goog.a11y.aria.State.MULTILINE,!1,goog.a11y.aria.State.MULTISELECTABLE,!1,goog.a11y.aria.State.ORIENTATION,"vertical",goog.a11y.aria.State.READONLY,!1,goog.a11y.aria.State.RELEVANT,"additions text",goog.a11y.aria.State.REQUIRED,!1,goog.a11y.aria.State.SORT,"none",goog.a11y.aria.State.BUSY,!1,goog.a11y.aria.State.DISABLED,!1,goog.a11y.aria.State.HIDDEN,!1,goog.a11y.aria.State.INVALID,"false")),goog.a11y.aria.DefaultStateValueMap_},goog.a11y.aria.ARIA_PREFIX_="aria-",goog.a11y.aria.ROLE_ATTRIBUTE_="role",goog.a11y.aria.TAGS_WITH_ASSUMED_ROLES_=goog.object.createSet("A AREA BUTTON HEAD INPUT LINK MENU META OPTGROUP OPTION PROGRESS STYLE SELECT SOURCE TEXTAREA TITLE TRACK".split(" ")),goog.a11y.aria.CONTAINER_ROLES_=[goog.a11y.aria.Role.COMBOBOX,goog.a11y.aria.Role.GRID,goog.a11y.aria.Role.GROUP,goog.a11y.aria.Role.LISTBOX,goog.a11y.aria.Role.MENU,goog.a11y.aria.Role.MENUBAR,goog.a11y.aria.Role.RADIOGROUP,goog.a11y.aria.Role.ROW,goog.a11y.aria.Role.ROWGROUP,goog.a11y.aria.Role.TAB_LIST,goog.a11y.aria.Role.TEXTBOX,goog.a11y.aria.Role.TOOLBAR,goog.a11y.aria.Role.TREE,goog.a11y.aria.Role.TREEGRID];goog.a11y.aria.setRole=function(e,t){t?(goog.asserts.ENABLE_ASSERTS&&goog.asserts.assert(goog.object.containsValue(goog.a11y.aria.Role,t),"No such ARIA role "+t),e.setAttribute(goog.a11y.aria.ROLE_ATTRIBUTE_,t)):goog.a11y.aria.removeRole(e)},goog.a11y.aria.getRole=function(e){return e.getAttribute(goog.a11y.aria.ROLE_ATTRIBUTE_)||null},goog.a11y.aria.removeRole=function(e){e.removeAttribute(goog.a11y.aria.ROLE_ATTRIBUTE_)},goog.a11y.aria.setState=function(e,t,o){goog.isArray(o)&&(o=o.join(" "));var n=goog.a11y.aria.getAriaAttributeName_(t);""===o||null==o?t in(o=goog.a11y.aria.datatables.getDefaultValuesMap())?e.setAttribute(n,o[t]):e.removeAttribute(n):e.setAttribute(n,o)},goog.a11y.aria.toggleState=function(e,t){var o=goog.a11y.aria.getState(e,t);goog.string.isEmptyOrWhitespace(goog.string.makeSafe(o))||"true"==o||"false"==o?goog.a11y.aria.setState(e,t,"true"==o?"false":"true"):goog.a11y.aria.removeState(e,t)},goog.a11y.aria.removeState=function(e,t){e.removeAttribute(goog.a11y.aria.getAriaAttributeName_(t))},goog.a11y.aria.getState=function(e,t){return null==(e=e.getAttribute(goog.a11y.aria.getAriaAttributeName_(t)))||null==e?"":String(e)},goog.a11y.aria.getActiveDescendant=function(e){var t=goog.a11y.aria.getState(e,goog.a11y.aria.State.ACTIVEDESCENDANT);return goog.dom.getOwnerDocument(e).getElementById(t)},goog.a11y.aria.setActiveDescendant=function(e,t){var o="";t&&(o=t.id,goog.asserts.assert(o,"The active element should have an id.")),goog.a11y.aria.setState(e,goog.a11y.aria.State.ACTIVEDESCENDANT,o)},goog.a11y.aria.getLabel=function(e){return goog.a11y.aria.getState(e,goog.a11y.aria.State.LABEL)},goog.a11y.aria.setLabel=function(e,t){goog.a11y.aria.setState(e,goog.a11y.aria.State.LABEL,t)},goog.a11y.aria.assertRoleIsSetInternalUtil=function(e,t){goog.a11y.aria.TAGS_WITH_ASSUMED_ROLES_[e.tagName]||(e=goog.a11y.aria.getRole(e),goog.asserts.assert(null!=e,"The element ARIA role cannot be null."),goog.asserts.assert(goog.array.contains(t,e),'Non existing or incorrect role set for element.The role set is "'+e+'". The role should be any of "'+t+'". Check the ARIA specification for more details http://www.w3.org/TR/wai-aria/roles.'))},goog.a11y.aria.getStateBoolean=function(e,t){return e=e.getAttribute(goog.a11y.aria.getAriaAttributeName_(t)),goog.asserts.assert(goog.isBoolean(e)||null==e||"true"==e||"false"==e),null==e?e:goog.isBoolean(e)?e:"true"==e},goog.a11y.aria.getStateNumber=function(e,t){return e=e.getAttribute(goog.a11y.aria.getAriaAttributeName_(t)),goog.asserts.assert(!(null!=e&&isNaN(Number(e))||goog.isBoolean(e))),null==e?null:Number(e)},goog.a11y.aria.getStateString=function(e,t){return e=e.getAttribute(goog.a11y.aria.getAriaAttributeName_(t)),goog.asserts.assert((null==e||goog.isString(e))&&(""==e||isNaN(Number(e)))&&"true"!=e&&"false"!=e),null==e||""==e?null:e},goog.a11y.aria.getStringArrayStateInternalUtil=function(e,t){return e=e.getAttribute(goog.a11y.aria.getAriaAttributeName_(t)),goog.a11y.aria.splitStringOnWhitespace_(e)},goog.a11y.aria.hasState=function(e,t){return e.hasAttribute(goog.a11y.aria.getAriaAttributeName_(t))},goog.a11y.aria.isContainerRole=function(e){return e=goog.a11y.aria.getRole(e),goog.array.contains(goog.a11y.aria.CONTAINER_ROLES_,e)},goog.a11y.aria.splitStringOnWhitespace_=function(e){return e?e.split(/\s+/):[]},goog.a11y.aria.getAriaAttributeName_=function(e){return goog.asserts.ENABLE_ASSERTS&&(goog.asserts.assert(e,"ARIA attribute cannot be empty."),goog.asserts.assert(goog.object.containsValue(goog.a11y.aria.State,e),"No such ARIA attribute "+e)),goog.a11y.aria.ARIA_PREFIX_+e},goog.events.KeyCodes={WIN_KEY_FF_LINUX:0,MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PLUS_SIGN:43,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,FF_SEMICOLON:59,FF_EQUALS:61,FF_DASH:173,QUESTION_MARK:63,AT_SIGN:64,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SCROLL_LOCK:145,FIRST_MEDIA_KEY:166,LAST_MEDIA_KEY:183,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,TILDE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,MAC_WK_CMD_LEFT:91,MAC_WK_CMD_RIGHT:93,WIN_IME:229,VK_NONAME:252,PHANTOM:255},goog.events.KeyCodes.isTextModifyingKeyEvent=function(e){if(e.altKey&&!e.ctrlKey||e.metaKey||e.keyCode>=goog.events.KeyCodes.F1&&e.keyCode<=goog.events.KeyCodes.F12)return!1;switch(e.keyCode){case goog.events.KeyCodes.ALT:case goog.events.KeyCodes.CAPS_LOCK:case goog.events.KeyCodes.CONTEXT_MENU:case goog.events.KeyCodes.CTRL:case goog.events.KeyCodes.DOWN:case goog.events.KeyCodes.END:case goog.events.KeyCodes.ESC:case goog.events.KeyCodes.HOME:case goog.events.KeyCodes.INSERT:case goog.events.KeyCodes.LEFT:case goog.events.KeyCodes.MAC_FF_META:case goog.events.KeyCodes.META:case goog.events.KeyCodes.NUMLOCK:case goog.events.KeyCodes.NUM_CENTER:case goog.events.KeyCodes.PAGE_DOWN:case goog.events.KeyCodes.PAGE_UP:case goog.events.KeyCodes.PAUSE:case goog.events.KeyCodes.PHANTOM:case goog.events.KeyCodes.PRINT_SCREEN:case goog.events.KeyCodes.RIGHT:case goog.events.KeyCodes.SCROLL_LOCK:case goog.events.KeyCodes.SHIFT:case goog.events.KeyCodes.UP:case goog.events.KeyCodes.VK_NONAME:case goog.events.KeyCodes.WIN_KEY:case goog.events.KeyCodes.WIN_KEY_RIGHT:return!1;case goog.events.KeyCodes.WIN_KEY_FF_LINUX:return!goog.userAgent.GECKO;default:return e.keyCode<goog.events.KeyCodes.FIRST_MEDIA_KEY||e.keyCode>goog.events.KeyCodes.LAST_MEDIA_KEY}},goog.events.KeyCodes.firesKeyPressEvent=function(e,t,o,n,r,i){if(!(goog.userAgent.IE||goog.userAgent.EDGE||goog.userAgent.WEBKIT&&goog.userAgent.isVersionOrHigher("525")))return!0;if(goog.userAgent.MAC&&r)return goog.events.KeyCodes.isCharacterKey(e);if(r&&!n)return!1;if(goog.isNumber(t)&&(t=goog.events.KeyCodes.normalizeKeyCode(t)),r=t==goog.events.KeyCodes.CTRL||t==goog.events.KeyCodes.ALT||goog.userAgent.MAC&&t==goog.events.KeyCodes.META,i=t==goog.events.KeyCodes.SHIFT&&(n||i),(!o||goog.userAgent.MAC)&&r||goog.userAgent.MAC&&i)return!1;if((goog.userAgent.WEBKIT||goog.userAgent.EDGE)&&n&&o)switch(e){case goog.events.KeyCodes.BACKSLASH:case goog.events.KeyCodes.OPEN_SQUARE_BRACKET:case goog.events.KeyCodes.CLOSE_SQUARE_BRACKET:case goog.events.KeyCodes.TILDE:case goog.events.KeyCodes.SEMICOLON:case goog.events.KeyCodes.DASH:case goog.events.KeyCodes.EQUALS:case goog.events.KeyCodes.COMMA:case goog.events.KeyCodes.PERIOD:case goog.events.KeyCodes.SLASH:case goog.events.KeyCodes.APOSTROPHE:case goog.events.KeyCodes.SINGLE_QUOTE:return!1}if(goog.userAgent.IE&&n&&t==e)return!1;switch(e){case goog.events.KeyCodes.ENTER:return!0;case goog.events.KeyCodes.ESC:return!(goog.userAgent.WEBKIT||goog.userAgent.EDGE)}return goog.events.KeyCodes.isCharacterKey(e)},goog.events.KeyCodes.isCharacterKey=function(e){if(e>=goog.events.KeyCodes.ZERO&&e<=goog.events.KeyCodes.NINE||e>=goog.events.KeyCodes.NUM_ZERO&&e<=goog.events.KeyCodes.NUM_MULTIPLY||e>=goog.events.KeyCodes.A&&e<=goog.events.KeyCodes.Z||(goog.userAgent.WEBKIT||goog.userAgent.EDGE)&&0==e)return!0;switch(e){case goog.events.KeyCodes.SPACE:case goog.events.KeyCodes.PLUS_SIGN:case goog.events.KeyCodes.QUESTION_MARK:case goog.events.KeyCodes.AT_SIGN:case goog.events.KeyCodes.NUM_PLUS:case goog.events.KeyCodes.NUM_MINUS:case goog.events.KeyCodes.NUM_PERIOD:case goog.events.KeyCodes.NUM_DIVISION:case goog.events.KeyCodes.SEMICOLON:case goog.events.KeyCodes.FF_SEMICOLON:case goog.events.KeyCodes.DASH:case goog.events.KeyCodes.EQUALS:case goog.events.KeyCodes.FF_EQUALS:case goog.events.KeyCodes.COMMA:case goog.events.KeyCodes.PERIOD:case goog.events.KeyCodes.SLASH:case goog.events.KeyCodes.APOSTROPHE:case goog.events.KeyCodes.SINGLE_QUOTE:case goog.events.KeyCodes.OPEN_SQUARE_BRACKET:case goog.events.KeyCodes.BACKSLASH:case goog.events.KeyCodes.CLOSE_SQUARE_BRACKET:return!0;default:return!1}},goog.events.KeyCodes.normalizeKeyCode=function(e){return goog.userAgent.GECKO?goog.events.KeyCodes.normalizeGeckoKeyCode(e):goog.userAgent.MAC&&goog.userAgent.WEBKIT?goog.events.KeyCodes.normalizeMacWebKitKeyCode(e):e},goog.events.KeyCodes.normalizeGeckoKeyCode=function(e){switch(e){case goog.events.KeyCodes.FF_EQUALS:return goog.events.KeyCodes.EQUALS;case goog.events.KeyCodes.FF_SEMICOLON:return goog.events.KeyCodes.SEMICOLON;case goog.events.KeyCodes.FF_DASH:return goog.events.KeyCodes.DASH;case goog.events.KeyCodes.MAC_FF_META:return goog.events.KeyCodes.META;case goog.events.KeyCodes.WIN_KEY_FF_LINUX:return goog.events.KeyCodes.WIN_KEY;default:return e}},goog.events.KeyCodes.normalizeMacWebKitKeyCode=function(e){switch(e){case goog.events.KeyCodes.MAC_WK_CMD_RIGHT:return goog.events.KeyCodes.META;default:return e}},goog.events.KeyHandler=function(e,t){goog.events.EventTarget.call(this),e&&this.attach(e,t)},goog.inherits(goog.events.KeyHandler,goog.events.EventTarget),goog.events.KeyHandler.prototype.element_=null,goog.events.KeyHandler.prototype.keyPressKey_=null,goog.events.KeyHandler.prototype.keyDownKey_=null,goog.events.KeyHandler.prototype.keyUpKey_=null,goog.events.KeyHandler.prototype.lastKey_=-1,goog.events.KeyHandler.prototype.keyCode_=-1,goog.events.KeyHandler.prototype.altKey_=!1,goog.events.KeyHandler.EventType={KEY:"key"},goog.events.KeyHandler.safariKey_={3:goog.events.KeyCodes.ENTER,12:goog.events.KeyCodes.NUMLOCK,63232:goog.events.KeyCodes.UP,63233:goog.events.KeyCodes.DOWN,63234:goog.events.KeyCodes.LEFT,63235:goog.events.KeyCodes.RIGHT,63236:goog.events.KeyCodes.F1,63237:goog.events.KeyCodes.F2,63238:goog.events.KeyCodes.F3,63239:goog.events.KeyCodes.F4,63240:goog.events.KeyCodes.F5,63241:goog.events.KeyCodes.F6,63242:goog.events.KeyCodes.F7,63243:goog.events.KeyCodes.F8,63244:goog.events.KeyCodes.F9,63245:goog.events.KeyCodes.F10,63246:goog.events.KeyCodes.F11,63247:goog.events.KeyCodes.F12,63248:goog.events.KeyCodes.PRINT_SCREEN,63272:goog.events.KeyCodes.DELETE,63273:goog.events.KeyCodes.HOME,63275:goog.events.KeyCodes.END,63276:goog.events.KeyCodes.PAGE_UP,63277:goog.events.KeyCodes.PAGE_DOWN,63289:goog.events.KeyCodes.NUMLOCK,63302:goog.events.KeyCodes.INSERT},goog.events.KeyHandler.keyIdentifier_={Up:goog.events.KeyCodes.UP,Down:goog.events.KeyCodes.DOWN,Left:goog.events.KeyCodes.LEFT,Right:goog.events.KeyCodes.RIGHT,Enter:goog.events.KeyCodes.ENTER,F1:goog.events.KeyCodes.F1,F2:goog.events.KeyCodes.F2,F3:goog.events.KeyCodes.F3,F4:goog.events.KeyCodes.F4,F5:goog.events.KeyCodes.F5,F6:goog.events.KeyCodes.F6,F7:goog.events.KeyCodes.F7,F8:goog.events.KeyCodes.F8,F9:goog.events.KeyCodes.F9,F10:goog.events.KeyCodes.F10,F11:goog.events.KeyCodes.F11,F12:goog.events.KeyCodes.F12,"U+007F":goog.events.KeyCodes.DELETE,Home:goog.events.KeyCodes.HOME,End:goog.events.KeyCodes.END,PageUp:goog.events.KeyCodes.PAGE_UP,PageDown:goog.events.KeyCodes.PAGE_DOWN,Insert:goog.events.KeyCodes.INSERT},goog.events.KeyHandler.USES_KEYDOWN_=goog.userAgent.IE||goog.userAgent.EDGE||goog.userAgent.WEBKIT&&goog.userAgent.isVersionOrHigher("525"),goog.events.KeyHandler.SAVE_ALT_FOR_KEYPRESS_=goog.userAgent.MAC&&goog.userAgent.GECKO,goog.events.KeyHandler.prototype.handleKeyDown_=function(e){(goog.userAgent.WEBKIT||goog.userAgent.EDGE)&&(this.lastKey_==goog.events.KeyCodes.CTRL&&!e.ctrlKey||this.lastKey_==goog.events.KeyCodes.ALT&&!e.altKey||goog.userAgent.MAC&&this.lastKey_==goog.events.KeyCodes.META&&!e.metaKey)&&this.resetState(),-1==this.lastKey_&&(e.ctrlKey&&e.keyCode!=goog.events.KeyCodes.CTRL?this.lastKey_=goog.events.KeyCodes.CTRL:e.altKey&&e.keyCode!=goog.events.KeyCodes.ALT?this.lastKey_=goog.events.KeyCodes.ALT:e.metaKey&&e.keyCode!=goog.events.KeyCodes.META&&(this.lastKey_=goog.events.KeyCodes.META)),goog.events.KeyHandler.USES_KEYDOWN_&&!goog.events.KeyCodes.firesKeyPressEvent(e.keyCode,this.lastKey_,e.shiftKey,e.ctrlKey,e.altKey,e.metaKey)?this.handleEvent(e):(this.keyCode_=goog.events.KeyCodes.normalizeKeyCode(e.keyCode),goog.events.KeyHandler.SAVE_ALT_FOR_KEYPRESS_&&(this.altKey_=e.altKey))},goog.events.KeyHandler.prototype.resetState=function(){this.keyCode_=this.lastKey_=-1},goog.events.KeyHandler.prototype.handleKeyup_=function(e){this.resetState(),this.altKey_=e.altKey},goog.events.KeyHandler.prototype.handleEvent=function(e){var t=e.getBrowserEvent(),o=t.altKey;if(goog.userAgent.IE&&e.type==goog.events.EventType.KEYPRESS)var n=this.keyCode_,r=n!=goog.events.KeyCodes.ENTER&&n!=goog.events.KeyCodes.ESC?t.keyCode:0;else(goog.userAgent.WEBKIT||goog.userAgent.EDGE)&&e.type==goog.events.EventType.KEYPRESS?(n=this.keyCode_,r=0<=t.charCode&&t.charCode<63232&&goog.events.KeyCodes.isCharacterKey(n)?t.charCode:0):goog.userAgent.OPERA&&!goog.userAgent.WEBKIT?(n=this.keyCode_,r=goog.events.KeyCodes.isCharacterKey(n)?t.keyCode:0):(n=t.keyCode||this.keyCode_,r=t.charCode||0,goog.events.KeyHandler.SAVE_ALT_FOR_KEYPRESS_&&(o=this.altKey_),goog.userAgent.MAC&&r==goog.events.KeyCodes.QUESTION_MARK&&n==goog.events.KeyCodes.WIN_KEY&&(n=goog.events.KeyCodes.SLASH));var i=n=goog.events.KeyCodes.normalizeKeyCode(n);n?63232<=n&&n in goog.events.KeyHandler.safariKey_?i=goog.events.KeyHandler.safariKey_[n]:25==n&&e.shiftKey&&(i=9):t.keyIdentifier&&t.keyIdentifier in goog.events.KeyHandler.keyIdentifier_&&(i=goog.events.KeyHandler.keyIdentifier_[t.keyIdentifier]),e=i==this.lastKey_,this.lastKey_=i,(t=new goog.events.KeyEvent(i,r,e,t)).altKey=o,this.dispatchEvent(t)},goog.events.KeyHandler.prototype.getElement=function(){return this.element_},goog.events.KeyHandler.prototype.attach=function(e,t){this.keyUpKey_&&this.detach(),this.element_=e,this.keyPressKey_=goog.events.listen(this.element_,goog.events.EventType.KEYPRESS,this,t),this.keyDownKey_=goog.events.listen(this.element_,goog.events.EventType.KEYDOWN,this.handleKeyDown_,t,this),this.keyUpKey_=goog.events.listen(this.element_,goog.events.EventType.KEYUP,this.handleKeyup_,t,this)},goog.events.KeyHandler.prototype.detach=function(){this.keyPressKey_&&(goog.events.unlistenByKey(this.keyPressKey_),goog.events.unlistenByKey(this.keyDownKey_),goog.events.unlistenByKey(this.keyUpKey_),this.keyUpKey_=this.keyDownKey_=this.keyPressKey_=null),this.element_=null,this.keyCode_=this.lastKey_=-1},goog.events.KeyHandler.prototype.disposeInternal=function(){goog.events.KeyHandler.superClass_.disposeInternal.call(this),this.detach()},goog.events.KeyEvent=function(e,t,o,n){goog.events.BrowserEvent.call(this,n),this.type=goog.events.KeyHandler.EventType.KEY,this.keyCode=e,this.charCode=t,this.repeat=o},goog.inherits(goog.events.KeyEvent,goog.events.BrowserEvent),goog.dom.classlist={},goog.dom.classlist.ALWAYS_USE_DOM_TOKEN_LIST=!1,goog.dom.classlist.get=function(e){return goog.dom.classlist.ALWAYS_USE_DOM_TOKEN_LIST||e.classList?e.classList:(e=e.className,goog.isString(e)&&e.match(/\S+/g)||[])},goog.dom.classlist.set=function(e,t){e.className=t},goog.dom.classlist.contains=function(e,t){return goog.dom.classlist.ALWAYS_USE_DOM_TOKEN_LIST||e.classList?e.classList.contains(t):goog.array.contains(goog.dom.classlist.get(e),t)},goog.dom.classlist.add=function(e,t){goog.dom.classlist.ALWAYS_USE_DOM_TOKEN_LIST||e.classList?e.classList.add(t):goog.dom.classlist.contains(e,t)||(e.className+=0<e.className.length?" "+t:t)},goog.dom.classlist.addAll=function(t,e){if(goog.dom.classlist.ALWAYS_USE_DOM_TOKEN_LIST||t.classList)goog.array.forEach(e,function(e){goog.dom.classlist.add(t,e)});else{var o={};for(var n in goog.array.forEach(goog.dom.classlist.get(t),function(e){o[e]=!0}),goog.array.forEach(e,function(e){o[e]=!0}),t.className="",o)t.className+=0<t.className.length?" "+n:n}},goog.dom.classlist.remove=function(e,t){goog.dom.classlist.ALWAYS_USE_DOM_TOKEN_LIST||e.classList?e.classList.remove(t):goog.dom.classlist.contains(e,t)&&(e.className=goog.array.filter(goog.dom.classlist.get(e),function(e){return e!=t}).join(" "))},goog.dom.classlist.removeAll=function(t,o){goog.dom.classlist.ALWAYS_USE_DOM_TOKEN_LIST||t.classList?goog.array.forEach(o,function(e){goog.dom.classlist.remove(t,e)}):t.className=goog.array.filter(goog.dom.classlist.get(t),function(e){return!goog.array.contains(o,e)}).join(" ")},goog.dom.classlist.enable=function(e,t,o){o?goog.dom.classlist.add(e,t):goog.dom.classlist.remove(e,t)},goog.dom.classlist.enableAll=function(e,t,o){(o?goog.dom.classlist.addAll:goog.dom.classlist.removeAll)(e,t)},goog.dom.classlist.swap=function(e,t,o){return!!goog.dom.classlist.contains(e,t)&&(goog.dom.classlist.remove(e,t),goog.dom.classlist.add(e,o),!0)},goog.dom.classlist.toggle=function(e,t){var o=!goog.dom.classlist.contains(e,t);return goog.dom.classlist.enable(e,t,o),o},goog.dom.classlist.addRemove=function(e,t,o){goog.dom.classlist.remove(e,t),goog.dom.classlist.add(e,o)},goog.ui.registry={},goog.ui.registry.getDefaultRenderer=function(e){for(var t;e&&(t=goog.getUid(e),!(t=goog.ui.registry.defaultRenderers_[t]));)e=e.superClass_?e.superClass_.constructor:null;return t?goog.isFunction(t.getInstance)?t.getInstance():new t:null},goog.ui.registry.setDefaultRenderer=function(e,t){if(!goog.isFunction(e))throw Error("Invalid component class "+e);if(!goog.isFunction(t))throw Error("Invalid renderer class "+t);e=goog.getUid(e),goog.ui.registry.defaultRenderers_[e]=t},goog.ui.registry.getDecoratorByClassName=function(e){return e in goog.ui.registry.decoratorFunctions_?goog.ui.registry.decoratorFunctions_[e]():null},goog.ui.registry.setDecoratorByClassName=function(e,t){if(!e)throw Error("Invalid class name "+e);if(!goog.isFunction(t))throw Error("Invalid decorator function "+t);goog.ui.registry.decoratorFunctions_[e]=t},goog.ui.registry.getDecorator=function(e){goog.asserts.assert(e);for(var t=goog.dom.classlist.get(e),o=0,n=t.length;o<n;o++)if(e=goog.ui.registry.getDecoratorByClassName(t[o]))return e;return null},goog.ui.registry.reset=function(){goog.ui.registry.defaultRenderers_={},goog.ui.registry.decoratorFunctions_={}},goog.ui.registry.defaultRenderers_={},goog.ui.registry.decoratorFunctions_={},goog.ui.ContainerRenderer=function(e){this.ariaRole_=e},goog.addSingletonGetter(goog.ui.ContainerRenderer),goog.ui.ContainerRenderer.getCustomRenderer=function(e,t){return(e=new e).getCssClass=function(){return t},e},goog.ui.ContainerRenderer.CSS_CLASS="goog-container",goog.ui.ContainerRenderer.prototype.getAriaRole=function(){return this.ariaRole_},goog.ui.ContainerRenderer.prototype.enableTabIndex=function(e,t){e&&(e.tabIndex=t?0:-1)},goog.ui.ContainerRenderer.prototype.createDom=function(e){return e.getDomHelper().createDom("DIV",this.getClassNames(e).join(" "))},goog.ui.ContainerRenderer.prototype.getContentElement=function(e){return e},goog.ui.ContainerRenderer.prototype.canDecorate=function(e){return"DIV"==e.tagName},goog.ui.ContainerRenderer.prototype.decorate=function(t,e){e.id&&t.setId(e.id);var o=this.getCssClass(),n=!1,r=goog.dom.classlist.get(e);return r&&goog.array.forEach(r,function(e){e==o?n=!0:e&&this.setStateFromClassName(t,e,o)},this),n||goog.dom.classlist.add(e,o),this.decorateChildren(t,this.getContentElement(e)),e},goog.ui.ContainerRenderer.prototype.setStateFromClassName=function(e,t,o){t==o+"-disabled"?e.setEnabled(!1):t==o+"-horizontal"?e.setOrientation(goog.ui.Container.Orientation.HORIZONTAL):t==o+"-vertical"&&e.setOrientation(goog.ui.Container.Orientation.VERTICAL)},goog.ui.ContainerRenderer.prototype.decorateChildren=function(e,t,o){if(t){o=o||t.firstChild;for(var n;o&&o.parentNode==t;){if(n=o.nextSibling,o.nodeType==goog.dom.NodeType.ELEMENT){var r=this.getDecoratorForChild(o);r&&(r.setElementInternal(o),e.isEnabled()||r.setEnabled(!1),e.addChild(r),r.decorate(o))}else o.nodeValue&&""!=goog.string.trim(o.nodeValue)||t.removeChild(o);o=n}}},goog.ui.ContainerRenderer.prototype.getDecoratorForChild=function(e){return goog.ui.registry.getDecorator(e)},goog.ui.ContainerRenderer.prototype.initializeDom=function(e){e=e.getElement(),goog.asserts.assert(e,"The container DOM element cannot be null."),goog.style.setUnselectable(e,!0,goog.userAgent.GECKO),goog.userAgent.IE&&(e.hideFocus=!0);var t=this.getAriaRole();t&&goog.a11y.aria.setRole(e,t)},goog.ui.ContainerRenderer.prototype.getKeyEventTarget=function(e){return e.getElement()},goog.ui.ContainerRenderer.prototype.getCssClass=function(){return goog.ui.ContainerRenderer.CSS_CLASS},goog.ui.ContainerRenderer.prototype.getClassNames=function(e){var t=this.getCssClass(),o=e.getOrientation()==goog.ui.Container.Orientation.HORIZONTAL;return o=[t,o?t+"-horizontal":t+"-vertical"],e.isEnabled()||o.push(t+"-disabled"),o},goog.ui.ContainerRenderer.prototype.getDefaultOrientation=function(){return goog.ui.Container.Orientation.VERTICAL},goog.ui.ControlRenderer=function(){},goog.addSingletonGetter(goog.ui.ControlRenderer),goog.tagUnsealableClass(goog.ui.ControlRenderer),goog.ui.ControlRenderer.getCustomRenderer=function(e,t){return(e=new e).getCssClass=function(){return t},e},goog.ui.ControlRenderer.CSS_CLASS="goog-control",goog.ui.ControlRenderer.IE6_CLASS_COMBINATIONS=[],goog.ui.ControlRenderer.TOGGLE_ARIA_STATE_MAP_=goog.object.create(goog.a11y.aria.Role.BUTTON,goog.a11y.aria.State.PRESSED,goog.a11y.aria.Role.CHECKBOX,goog.a11y.aria.State.CHECKED,goog.a11y.aria.Role.MENU_ITEM,goog.a11y.aria.State.SELECTED,goog.a11y.aria.Role.MENU_ITEM_CHECKBOX,goog.a11y.aria.State.CHECKED,goog.a11y.aria.Role.MENU_ITEM_RADIO,goog.a11y.aria.State.CHECKED,goog.a11y.aria.Role.RADIO,goog.a11y.aria.State.CHECKED,goog.a11y.aria.Role.TAB,goog.a11y.aria.State.SELECTED,goog.a11y.aria.Role.TREEITEM,goog.a11y.aria.State.SELECTED),goog.ui.ControlRenderer.prototype.getAriaRole=function(){},goog.ui.ControlRenderer.prototype.createDom=function(e){return e.getDomHelper().createDom("DIV",this.getClassNames(e).join(" "),e.getContent())},goog.ui.ControlRenderer.prototype.getContentElement=function(e){return e},goog.ui.ControlRenderer.prototype.enableClassName=function(e,t,o){if(e=e.getElement?e.getElement():e){var n=[t];goog.userAgent.IE&&!goog.userAgent.isVersionOrHigher("7")&&(n=this.getAppliedCombinedClassNames_(goog.dom.classlist.get(e),t)).push(t),goog.dom.classlist.enableAll(e,n,o)}},goog.ui.ControlRenderer.prototype.enableExtraClassName=function(e,t,o){this.enableClassName(e,t,o)},goog.ui.ControlRenderer.prototype.canDecorate=function(e){return!0},goog.ui.ControlRenderer.prototype.decorate=function(e,t){t.id&&e.setId(t.id);var o=this.getContentElement(t);o&&o.firstChild?e.setContentInternal(o.firstChild.nextSibling?goog.array.clone(o.childNodes):o.firstChild):e.setContentInternal(null);var n=0,r=this.getCssClass(),i=this.getStructuralCssClass(),a=!1,s=!1,l=!1,c=goog.array.toArray(goog.dom.classlist.get(t));if(goog.array.forEach(c,function(e){a||e!=r?s||e!=i?n|=this.getStateFromClass(e):s=!0:(a=!0,i==r&&(s=!0)),this.getStateFromClass(e)==goog.ui.Component.State.DISABLED&&(goog.asserts.assertElement(o),goog.dom.isFocusableTabIndex(o)&&goog.dom.setFocusableTabIndex(o,!1))},this),e.setStateInternal(n),a||(c.push(r),i==r&&(s=!0)),s||c.push(i),(e=e.getExtraClassNames())&&c.push.apply(c,e),goog.userAgent.IE&&!goog.userAgent.isVersionOrHigher("7")){var u=this.getAppliedCombinedClassNames_(c);0<u.length&&(c.push.apply(c,u),l=!0)}return a&&s&&!e&&!l||goog.dom.classlist.set(t,c.join(" ")),t},goog.ui.ControlRenderer.prototype.initializeDom=function(e){e.isRightToLeft()&&this.setRightToLeft(e.getElement(),!0),e.isEnabled()&&this.setFocusable(e,e.isVisible())},goog.ui.ControlRenderer.prototype.setAriaRole=function(e,t){(t=t||this.getAriaRole())&&(goog.asserts.assert(e,"The element passed as a first parameter cannot be null."),t!=goog.a11y.aria.getRole(e)&&goog.a11y.aria.setRole(e,t))},goog.ui.ControlRenderer.prototype.setAriaStates=function(e,t){goog.asserts.assert(e),goog.asserts.assert(t);var o=e.getAriaLabel();goog.isDefAndNotNull(o)&&this.setAriaLabel(t,o),e.isVisible()||goog.a11y.aria.setState(t,goog.a11y.aria.State.HIDDEN,!e.isVisible()),e.isEnabled()||this.updateAriaState(t,goog.ui.Component.State.DISABLED,!e.isEnabled()),e.isSupportedState(goog.ui.Component.State.SELECTED)&&this.updateAriaState(t,goog.ui.Component.State.SELECTED,e.isSelected()),e.isSupportedState(goog.ui.Component.State.CHECKED)&&this.updateAriaState(t,goog.ui.Component.State.CHECKED,e.isChecked()),e.isSupportedState(goog.ui.Component.State.OPENED)&&this.updateAriaState(t,goog.ui.Component.State.OPENED,e.isOpen())},goog.ui.ControlRenderer.prototype.setAriaLabel=function(e,t){goog.a11y.aria.setLabel(e,t)},goog.ui.ControlRenderer.prototype.setAllowTextSelection=function(e,t){goog.style.setUnselectable(e,!t,!goog.userAgent.IE&&!goog.userAgent.OPERA)},goog.ui.ControlRenderer.prototype.setRightToLeft=function(e,t){this.enableClassName(e,this.getStructuralCssClass()+"-rtl",t)},goog.ui.ControlRenderer.prototype.isFocusable=function(e){var t;return!(!e.isSupportedState(goog.ui.Component.State.FOCUSED)||!(t=e.getKeyEventTarget()))&&goog.dom.isFocusableTabIndex(t)},goog.ui.ControlRenderer.prototype.setFocusable=function(e,t){var o;if(e.isSupportedState(goog.ui.Component.State.FOCUSED)&&(o=e.getKeyEventTarget())){if(!t&&e.isFocused()){try{o.blur()}catch(e){}e.isFocused()&&e.handleBlur(null)}goog.dom.isFocusableTabIndex(o)!=t&&goog.dom.setFocusableTabIndex(o,t)}},goog.ui.ControlRenderer.prototype.setVisible=function(e,t){goog.style.setElementShown(e,t),e&&goog.a11y.aria.setState(e,goog.a11y.aria.State.HIDDEN,!t)},goog.ui.ControlRenderer.prototype.setState=function(e,t,o){var n=e.getElement();if(n){var r=this.getClassForState(t);r&&this.enableClassName(e,r,o),this.updateAriaState(n,t,o)}},goog.ui.ControlRenderer.prototype.updateAriaState=function(e,t,o){goog.ui.ControlRenderer.ariaAttributeMap_||(goog.ui.ControlRenderer.ariaAttributeMap_=goog.object.create(goog.ui.Component.State.DISABLED,goog.a11y.aria.State.DISABLED,goog.ui.Component.State.SELECTED,goog.a11y.aria.State.SELECTED,goog.ui.Component.State.CHECKED,goog.a11y.aria.State.CHECKED,goog.ui.Component.State.OPENED,goog.a11y.aria.State.EXPANDED)),goog.asserts.assert(e,"The element passed as a first parameter cannot be null."),(t=goog.ui.ControlRenderer.getAriaStateForAriaRole_(e,goog.ui.ControlRenderer.ariaAttributeMap_[t]))&&goog.a11y.aria.setState(e,t,o)},goog.ui.ControlRenderer.getAriaStateForAriaRole_=function(e,t){return(e=goog.a11y.aria.getRole(e))?(e=goog.ui.ControlRenderer.TOGGLE_ARIA_STATE_MAP_[e]||t,goog.ui.ControlRenderer.isAriaState_(t)?e:t):t},goog.ui.ControlRenderer.isAriaState_=function(e){return e==goog.a11y.aria.State.CHECKED||e==goog.a11y.aria.State.SELECTED},goog.ui.ControlRenderer.prototype.setContent=function(e,t){var o=this.getContentElement(e);o&&(goog.dom.removeChildren(o),t&&(goog.isString(t)?goog.dom.setTextContent(o,t):(e=function(e){if(e){var t=goog.dom.getOwnerDocument(o);o.appendChild(goog.isString(e)?t.createTextNode(e):e)}},goog.isArray(t)?goog.array.forEach(t,e):!goog.isArrayLike(t)||"nodeType"in t?e(t):goog.array.forEach(goog.array.clone(t),e))))},goog.ui.ControlRenderer.prototype.getKeyEventTarget=function(e){return e.getElement()},goog.ui.ControlRenderer.prototype.getCssClass=function(){return goog.ui.ControlRenderer.CSS_CLASS},goog.ui.ControlRenderer.prototype.getIe6ClassCombinations=function(){return[]},goog.ui.ControlRenderer.prototype.getStructuralCssClass=function(){return this.getCssClass()},goog.ui.ControlRenderer.prototype.getClassNames=function(e){var t=this.getCssClass(),o=[t],n=this.getStructuralCssClass();return n!=t&&o.push(n),t=this.getClassNamesForState(e.getState()),o.push.apply(o,t),(e=e.getExtraClassNames())&&o.push.apply(o,e),goog.userAgent.IE&&!goog.userAgent.isVersionOrHigher("7")&&o.push.apply(o,this.getAppliedCombinedClassNames_(o)),o},goog.ui.ControlRenderer.prototype.getAppliedCombinedClassNames_=function(t,o){var n=[];return o&&(t=goog.array.concat(t,[o])),goog.array.forEach(this.getIe6ClassCombinations(),function(e){!goog.array.every(e,goog.partial(goog.array.contains,t))||o&&!goog.array.contains(e,o)||n.push(e.join("_"))}),n},goog.ui.ControlRenderer.prototype.getClassNamesForState=function(e){for(var t=[];e;){var o=e&-e;t.push(this.getClassForState(o)),e&=~o}return t},goog.ui.ControlRenderer.prototype.getClassForState=function(e){return this.classByState_||this.createClassByStateMap_(),this.classByState_[e]},goog.ui.ControlRenderer.prototype.getStateFromClass=function(e){return this.stateByClass_||this.createStateByClassMap_(),e=parseInt(this.stateByClass_[e],10),isNaN(e)?0:e},goog.ui.ControlRenderer.prototype.createClassByStateMap_=function(){var e=this.getStructuralCssClass(),t=!goog.string.contains(goog.string.normalizeWhitespace(e)," ");goog.asserts.assert(t,"ControlRenderer has an invalid css class: '"+e+"'"),this.classByState_=goog.object.create(goog.ui.Component.State.DISABLED,e+"-disabled",goog.ui.Component.State.HOVER,e+"-hover",goog.ui.Component.State.ACTIVE,e+"-active",goog.ui.Component.State.SELECTED,e+"-selected",goog.ui.Component.State.CHECKED,e+"-checked",goog.ui.Component.State.FOCUSED,e+"-focused",goog.ui.Component.State.OPENED,e+"-open")},goog.ui.ControlRenderer.prototype.createStateByClassMap_=function(){this.classByState_||this.createClassByStateMap_(),this.stateByClass_=goog.object.transpose(this.classByState_)},goog.ui.Control=function(e,t,o){goog.ui.Component.call(this,o),this.renderer_=t||goog.ui.registry.getDefaultRenderer(this.constructor),this.setContentInternal(goog.isDef(e)?e:null),this.ariaLabel_=null},goog.inherits(goog.ui.Control,goog.ui.Component),goog.tagUnsealableClass(goog.ui.Control),goog.ui.Control.registerDecorator=goog.ui.registry.setDecoratorByClassName,goog.ui.Control.getDecorator=goog.ui.registry.getDecorator,goog.ui.Control.prototype.content_=null,goog.ui.Control.prototype.state_=0,goog.ui.Control.prototype.supportedStates_=goog.ui.Component.State.DISABLED|goog.ui.Component.State.HOVER|goog.ui.Component.State.ACTIVE|goog.ui.Component.State.FOCUSED,goog.ui.Control.prototype.autoStates_=goog.ui.Component.State.ALL,goog.ui.Control.prototype.statesWithTransitionEvents_=0,goog.ui.Control.prototype.visible_=!0,goog.ui.Control.prototype.extraClassNames_=null,goog.ui.Control.prototype.handleMouseEvents_=!0,goog.ui.Control.prototype.allowTextSelection_=!1,goog.ui.Control.prototype.preferredAriaRole_=null,goog.ui.Control.prototype.isHandleMouseEvents=function(){return this.handleMouseEvents_},goog.ui.Control.prototype.setHandleMouseEvents=function(e){this.isInDocument()&&e!=this.handleMouseEvents_&&this.enableMouseEventHandling_(e),this.handleMouseEvents_=e},goog.ui.Control.prototype.getKeyEventTarget=function(){return this.renderer_.getKeyEventTarget(this)},goog.ui.Control.prototype.getKeyHandler=function(){return this.keyHandler_||(this.keyHandler_=new goog.events.KeyHandler)},goog.ui.Control.prototype.getRenderer=function(){return this.renderer_},goog.ui.Control.prototype.setRenderer=function(e){if(this.isInDocument())throw Error(goog.ui.Component.Error.ALREADY_RENDERED);this.getElement()&&this.setElementInternal(null),this.renderer_=e},goog.ui.Control.prototype.getExtraClassNames=function(){return this.extraClassNames_},goog.ui.Control.prototype.addClassName=function(e){e&&(this.extraClassNames_?goog.array.contains(this.extraClassNames_,e)||this.extraClassNames_.push(e):this.extraClassNames_=[e],this.renderer_.enableExtraClassName(this,e,!0))},goog.ui.Control.prototype.removeClassName=function(e){e&&this.extraClassNames_&&goog.array.remove(this.extraClassNames_,e)&&(0==this.extraClassNames_.length&&(this.extraClassNames_=null),this.renderer_.enableExtraClassName(this,e,!1))},goog.ui.Control.prototype.enableClassName=function(e,t){t?this.addClassName(e):this.removeClassName(e)},goog.ui.Control.prototype.createDom=function(){var e=this.renderer_.createDom(this);this.setElementInternal(e),this.renderer_.setAriaRole(e,this.getPreferredAriaRole()),this.isAllowTextSelection()||this.renderer_.setAllowTextSelection(e,!1),this.isVisible()||this.renderer_.setVisible(e,!1)},goog.ui.Control.prototype.getPreferredAriaRole=function(){return this.preferredAriaRole_},goog.ui.Control.prototype.setPreferredAriaRole=function(e){this.preferredAriaRole_=e},goog.ui.Control.prototype.getAriaLabel=function(){return this.ariaLabel_},goog.ui.Control.prototype.setAriaLabel=function(e){this.ariaLabel_=e;var t=this.getElement();t&&this.renderer_.setAriaLabel(t,e)},goog.ui.Control.prototype.getContentElement=function(){return this.renderer_.getContentElement(this.getElement())},goog.ui.Control.prototype.canDecorate=function(e){return this.renderer_.canDecorate(e)},goog.ui.Control.prototype.decorateInternal=function(e){e=this.renderer_.decorate(this,e),this.setElementInternal(e),this.renderer_.setAriaRole(e,this.getPreferredAriaRole()),this.isAllowTextSelection()||this.renderer_.setAllowTextSelection(e,!1),this.visible_="none"!=e.style.display},goog.ui.Control.prototype.enterDocument=function(){if(goog.ui.Control.superClass_.enterDocument.call(this),this.renderer_.setAriaStates(this,this.getElementStrict()),this.renderer_.initializeDom(this),this.supportedStates_&~goog.ui.Component.State.DISABLED&&(this.isHandleMouseEvents()&&this.enableMouseEventHandling_(!0),this.isSupportedState(goog.ui.Component.State.FOCUSED))){var e=this.getKeyEventTarget();if(e){var t=this.getKeyHandler();t.attach(e),this.getHandler().listen(t,goog.events.KeyHandler.EventType.KEY,this.handleKeyEvent).listen(e,goog.events.EventType.FOCUS,this.handleFocus).listen(e,goog.events.EventType.BLUR,this.handleBlur)}}},goog.ui.Control.prototype.enableMouseEventHandling_=function(e){var t=this.getHandler(),o=this.getElement();e?(t.listen(o,goog.events.EventType.MOUSEOVER,this.handleMouseOver).listen(o,goog.events.EventType.MOUSEDOWN,this.handleMouseDown).listen(o,goog.events.EventType.MOUSEUP,this.handleMouseUp).listen(o,goog.events.EventType.MOUSEOUT,this.handleMouseOut),this.handleContextMenu!=goog.nullFunction&&t.listen(o,goog.events.EventType.CONTEXTMENU,this.handleContextMenu),goog.userAgent.IE&&(goog.userAgent.isVersionOrHigher(9)||t.listen(o,goog.events.EventType.DBLCLICK,this.handleDblClick),this.ieMouseEventSequenceSimulator_||(this.ieMouseEventSequenceSimulator_=new goog.ui.Control.IeMouseEventSequenceSimulator_(this),this.registerDisposable(this.ieMouseEventSequenceSimulator_)))):(t.unlisten(o,goog.events.EventType.MOUSEOVER,this.handleMouseOver).unlisten(o,goog.events.EventType.MOUSEDOWN,this.handleMouseDown).unlisten(o,goog.events.EventType.MOUSEUP,this.handleMouseUp).unlisten(o,goog.events.EventType.MOUSEOUT,this.handleMouseOut),this.handleContextMenu!=goog.nullFunction&&t.unlisten(o,goog.events.EventType.CONTEXTMENU,this.handleContextMenu),goog.userAgent.IE&&(goog.userAgent.isVersionOrHigher(9)||t.unlisten(o,goog.events.EventType.DBLCLICK,this.handleDblClick),goog.dispose(this.ieMouseEventSequenceSimulator_),this.ieMouseEventSequenceSimulator_=null))},goog.ui.Control.prototype.exitDocument=function(){goog.ui.Control.superClass_.exitDocument.call(this),this.keyHandler_&&this.keyHandler_.detach(),this.isVisible()&&this.isEnabled()&&this.renderer_.setFocusable(this,!1)},goog.ui.Control.prototype.disposeInternal=function(){goog.ui.Control.superClass_.disposeInternal.call(this),this.keyHandler_&&(this.keyHandler_.dispose(),delete this.keyHandler_),delete this.renderer_,this.ieMouseEventSequenceSimulator_=this.extraClassNames_=this.content_=null},goog.ui.Control.prototype.getContent=function(){return this.content_},goog.ui.Control.prototype.setContent=function(e){this.renderer_.setContent(this.getElement(),e),this.setContentInternal(e)},goog.ui.Control.prototype.setContentInternal=function(e){this.content_=e},goog.ui.Control.prototype.getCaption=function(){var e=this.getContent();return e?(e=goog.isString(e)?e:goog.isArray(e)?goog.array.map(e,goog.dom.getRawTextContent).join(""):goog.dom.getTextContent(e),goog.string.collapseBreakingSpaces(e)):""},goog.ui.Control.prototype.setCaption=function(e){this.setContent(e)},goog.ui.Control.prototype.setRightToLeft=function(e){goog.ui.Control.superClass_.setRightToLeft.call(this,e);var t=this.getElement();t&&this.renderer_.setRightToLeft(t,e)},goog.ui.Control.prototype.isAllowTextSelection=function(){return this.allowTextSelection_},goog.ui.Control.prototype.setAllowTextSelection=function(e){this.allowTextSelection_=e;var t=this.getElement();t&&this.renderer_.setAllowTextSelection(t,e)},goog.ui.Control.prototype.isVisible=function(){return this.visible_},goog.ui.Control.prototype.setVisible=function(e,t){return!!(t||this.visible_!=e&&this.dispatchEvent(e?goog.ui.Component.EventType.SHOW:goog.ui.Component.EventType.HIDE))&&((t=this.getElement())&&this.renderer_.setVisible(t,e),this.isEnabled()&&this.renderer_.setFocusable(this,e),this.visible_=e,!0)},goog.ui.Control.prototype.isEnabled=function(){return!this.hasState(goog.ui.Component.State.DISABLED)},goog.ui.Control.prototype.isParentDisabled_=function(){var e=this.getParent();return!!e&&"function"==typeof e.isEnabled&&!e.isEnabled()},goog.ui.Control.prototype.setEnabled=function(e){!this.isParentDisabled_()&&this.isTransitionAllowed(goog.ui.Component.State.DISABLED,!e)&&(e||(this.setActive(!1),this.setHighlighted(!1)),this.isVisible()&&this.renderer_.setFocusable(this,e),this.setState(goog.ui.Component.State.DISABLED,!e,!0))},goog.ui.Control.prototype.isHighlighted=function(){return this.hasState(goog.ui.Component.State.HOVER)},goog.ui.Control.prototype.setHighlighted=function(e){this.isTransitionAllowed(goog.ui.Component.State.HOVER,e)&&this.setState(goog.ui.Component.State.HOVER,e)},goog.ui.Control.prototype.isActive=function(){return this.hasState(goog.ui.Component.State.ACTIVE)},goog.ui.Control.prototype.setActive=function(e){this.isTransitionAllowed(goog.ui.Component.State.ACTIVE,e)&&this.setState(goog.ui.Component.State.ACTIVE,e)},goog.ui.Control.prototype.isSelected=function(){return this.hasState(goog.ui.Component.State.SELECTED)},goog.ui.Control.prototype.setSelected=function(e){this.isTransitionAllowed(goog.ui.Component.State.SELECTED,e)&&this.setState(goog.ui.Component.State.SELECTED,e)},goog.ui.Control.prototype.isChecked=function(){return this.hasState(goog.ui.Component.State.CHECKED)},goog.ui.Control.prototype.setChecked=function(e){this.isTransitionAllowed(goog.ui.Component.State.CHECKED,e)&&this.setState(goog.ui.Component.State.CHECKED,e)},goog.ui.Control.prototype.isFocused=function(){return this.hasState(goog.ui.Component.State.FOCUSED)},goog.ui.Control.prototype.setFocused=function(e){this.isTransitionAllowed(goog.ui.Component.State.FOCUSED,e)&&this.setState(goog.ui.Component.State.FOCUSED,e)},goog.ui.Control.prototype.isOpen=function(){return this.hasState(goog.ui.Component.State.OPENED)},goog.ui.Control.prototype.setOpen=function(e){this.isTransitionAllowed(goog.ui.Component.State.OPENED,e)&&this.setState(goog.ui.Component.State.OPENED,e)},goog.ui.Control.prototype.getState=function(){return this.state_},goog.ui.Control.prototype.hasState=function(e){return!!(this.state_&e)},goog.ui.Control.prototype.setState=function(e,t,o){o||e!=goog.ui.Component.State.DISABLED?this.isSupportedState(e)&&t!=this.hasState(e)&&(this.renderer_.setState(this,e,t),this.state_=t?this.state_|e:this.state_&~e):this.setEnabled(!t)},goog.ui.Control.prototype.setStateInternal=function(e){this.state_=e},goog.ui.Control.prototype.isSupportedState=function(e){return!!(this.supportedStates_&e)},goog.ui.Control.prototype.setSupportedState=function(e,t){if(this.isInDocument()&&this.hasState(e)&&!t)throw Error(goog.ui.Component.Error.ALREADY_RENDERED);!t&&this.hasState(e)&&this.setState(e,!1),this.supportedStates_=t?this.supportedStates_|e:this.supportedStates_&~e},goog.ui.Control.prototype.isAutoState=function(e){return!!(this.autoStates_&e)&&this.isSupportedState(e)},goog.ui.Control.prototype.setAutoStates=function(e,t){this.autoStates_=t?this.autoStates_|e:this.autoStates_&~e},goog.ui.Control.prototype.isDispatchTransitionEvents=function(e){return!!(this.statesWithTransitionEvents_&e)&&this.isSupportedState(e)},goog.ui.Control.prototype.setDispatchTransitionEvents=function(e,t){this.statesWithTransitionEvents_=t?this.statesWithTransitionEvents_|e:this.statesWithTransitionEvents_&~e},goog.ui.Control.prototype.isTransitionAllowed=function(e,t){return this.isSupportedState(e)&&this.hasState(e)!=t&&(!(this.statesWithTransitionEvents_&e)||this.dispatchEvent(goog.ui.Component.getStateTransitionEvent(e,t)))&&!this.isDisposed()},goog.ui.Control.prototype.handleMouseOver=function(e){!goog.ui.Control.isMouseEventWithinElement_(e,this.getElement())&&this.dispatchEvent(goog.ui.Component.EventType.ENTER)&&this.isEnabled()&&this.isAutoState(goog.ui.Component.State.HOVER)&&this.setHighlighted(!0)},goog.ui.Control.prototype.handleMouseOut=function(e){!goog.ui.Control.isMouseEventWithinElement_(e,this.getElement())&&this.dispatchEvent(goog.ui.Component.EventType.LEAVE)&&(this.isAutoState(goog.ui.Component.State.ACTIVE)&&this.setActive(!1),this.isAutoState(goog.ui.Component.State.HOVER)&&this.setHighlighted(!1))},goog.ui.Control.prototype.handleContextMenu=goog.nullFunction,goog.ui.Control.isMouseEventWithinElement_=function(e,t){return!!e.relatedTarget&&goog.dom.contains(t,e.relatedTarget)},goog.ui.Control.prototype.handleMouseDown=function(e){this.isEnabled()&&(this.isAutoState(goog.ui.Component.State.HOVER)&&this.setHighlighted(!0),e.isMouseActionButton()&&(this.isAutoState(goog.ui.Component.State.ACTIVE)&&this.setActive(!0),this.renderer_&&this.renderer_.isFocusable(this)&&this.getKeyEventTarget().focus())),!this.isAllowTextSelection()&&e.isMouseActionButton()&&e.preventDefault()},goog.ui.Control.prototype.handleMouseUp=function(e){this.isEnabled()&&(this.isAutoState(goog.ui.Component.State.HOVER)&&this.setHighlighted(!0),this.isActive()&&this.performActionInternal(e)&&this.isAutoState(goog.ui.Component.State.ACTIVE)&&this.setActive(!1))},goog.ui.Control.prototype.handleDblClick=function(e){this.isEnabled()&&this.performActionInternal(e)},goog.ui.Control.prototype.performActionInternal=function(e){this.isAutoState(goog.ui.Component.State.CHECKED)&&this.setChecked(!this.isChecked()),this.isAutoState(goog.ui.Component.State.SELECTED)&&this.setSelected(!0),this.isAutoState(goog.ui.Component.State.OPENED)&&this.setOpen(!this.isOpen());var t=new goog.events.Event(goog.ui.Component.EventType.ACTION,this);return e&&(t.altKey=e.altKey,t.ctrlKey=e.ctrlKey,t.metaKey=e.metaKey,t.shiftKey=e.shiftKey,t.platformModifierKey=e.platformModifierKey),this.dispatchEvent(t)},goog.ui.Control.prototype.handleFocus=function(e){this.isAutoState(goog.ui.Component.State.FOCUSED)&&this.setFocused(!0)},goog.ui.Control.prototype.handleBlur=function(e){this.isAutoState(goog.ui.Component.State.ACTIVE)&&this.setActive(!1),this.isAutoState(goog.ui.Component.State.FOCUSED)&&this.setFocused(!1)},goog.ui.Control.prototype.handleKeyEvent=function(e){return!!(this.isVisible()&&this.isEnabled()&&this.handleKeyEventInternal(e))&&(e.preventDefault(),e.stopPropagation(),!0)},goog.ui.Control.prototype.handleKeyEventInternal=function(e){return e.keyCode==goog.events.KeyCodes.ENTER&&this.performActionInternal(e)},goog.ui.registry.setDefaultRenderer(goog.ui.Control,goog.ui.ControlRenderer),goog.ui.registry.setDecoratorByClassName(goog.ui.ControlRenderer.CSS_CLASS,function(){return new goog.ui.Control(null)}),goog.ui.Control.IeMouseEventSequenceSimulator_=function(e){goog.Disposable.call(this),this.control_=e,this.clickExpected_=!1,this.handler_=new goog.events.EventHandler(this),this.registerDisposable(this.handler_),e=this.control_.getElementStrict(),this.handler_.listen(e,goog.events.EventType.MOUSEDOWN,this.handleMouseDown_).listen(e,goog.events.EventType.MOUSEUP,this.handleMouseUp_).listen(e,goog.events.EventType.CLICK,this.handleClick_)},goog.inherits(goog.ui.Control.IeMouseEventSequenceSimulator_,goog.Disposable),goog.ui.Control.IeMouseEventSequenceSimulator_.SYNTHETIC_EVENTS_=!goog.userAgent.IE||goog.userAgent.isDocumentModeOrHigher(9),goog.ui.Control.IeMouseEventSequenceSimulator_.prototype.handleMouseDown_=function(){this.clickExpected_=!1},goog.ui.Control.IeMouseEventSequenceSimulator_.prototype.handleMouseUp_=function(){this.clickExpected_=!0},goog.ui.Control.IeMouseEventSequenceSimulator_.makeLeftMouseEvent_=function(e,t){if(!goog.ui.Control.IeMouseEventSequenceSimulator_.SYNTHETIC_EVENTS_)return e.button=goog.events.BrowserEvent.MouseButton.LEFT,e.type=t,e;var o=document.createEvent("MouseEvents");return o.initMouseEvent(t,e.bubbles,e.cancelable,e.view||null,e.detail,e.screenX,e.screenY,e.clientX,e.clientY,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,goog.events.BrowserEvent.MouseButton.LEFT,e.relatedTarget||null),o},goog.ui.Control.IeMouseEventSequenceSimulator_.prototype.handleClick_=function(e){if(this.clickExpected_)this.clickExpected_=!1;else{var t=e.getBrowserEvent(),o=t.button,n=t.type,r=goog.ui.Control.IeMouseEventSequenceSimulator_.makeLeftMouseEvent_(t,goog.events.EventType.MOUSEDOWN);this.control_.handleMouseDown(new goog.events.BrowserEvent(r,e.currentTarget)),r=goog.ui.Control.IeMouseEventSequenceSimulator_.makeLeftMouseEvent_(t,goog.events.EventType.MOUSEUP),this.control_.handleMouseUp(new goog.events.BrowserEvent(r,e.currentTarget)),goog.ui.Control.IeMouseEventSequenceSimulator_.SYNTHETIC_EVENTS_||(t.button=o,t.type=n)}},goog.ui.Control.IeMouseEventSequenceSimulator_.prototype.disposeInternal=function(){this.control_=null,goog.ui.Control.IeMouseEventSequenceSimulator_.superClass_.disposeInternal.call(this)},goog.ui.Container=function(e,t,o){goog.ui.Component.call(this,o),this.renderer_=t||goog.ui.ContainerRenderer.getInstance(),this.orientation_=e||this.renderer_.getDefaultOrientation()},goog.inherits(goog.ui.Container,goog.ui.Component),goog.tagUnsealableClass(goog.ui.Container),goog.ui.Container.EventType={AFTER_SHOW:"aftershow",AFTER_HIDE:"afterhide"},goog.ui.Container.Orientation={HORIZONTAL:"horizontal",VERTICAL:"vertical"},goog.ui.Container.prototype.keyEventTarget_=null,goog.ui.Container.prototype.keyHandler_=null,goog.ui.Container.prototype.renderer_=null,goog.ui.Container.prototype.orientation_=null,goog.ui.Container.prototype.visible_=!0,goog.ui.Container.prototype.enabled_=!0,goog.ui.Container.prototype.focusable_=!0,goog.ui.Container.prototype.highlightedIndex_=-1,goog.ui.Container.prototype.openItem_=null,goog.ui.Container.prototype.mouseButtonPressed_=!1,goog.ui.Container.prototype.allowFocusableChildren_=!1,goog.ui.Container.prototype.openFollowsHighlight_=!0,goog.ui.Container.prototype.childElementIdMap_=null,goog.ui.Container.prototype.getKeyEventTarget=function(){return this.keyEventTarget_||this.renderer_.getKeyEventTarget(this)},goog.ui.Container.prototype.setKeyEventTarget=function(e){if(!this.focusable_)throw Error("Can't set key event target for container that doesn't support keyboard focus!");var t=this.getKeyEventTarget(),o=this.isInDocument();this.keyEventTarget_=e;var n=this.getKeyEventTarget();o&&(this.keyEventTarget_=t,this.enableFocusHandling_(!1),this.keyEventTarget_=e,this.getKeyHandler().attach(n),this.enableFocusHandling_(!0))},goog.ui.Container.prototype.getKeyHandler=function(){return this.keyHandler_||(this.keyHandler_=new goog.events.KeyHandler(this.getKeyEventTarget()))},goog.ui.Container.prototype.getRenderer=function(){return this.renderer_},goog.ui.Container.prototype.setRenderer=function(e){if(this.getElement())throw Error(goog.ui.Component.Error.ALREADY_RENDERED);this.renderer_=e},goog.ui.Container.prototype.createDom=function(){this.setElementInternal(this.renderer_.createDom(this))},goog.ui.Container.prototype.getContentElement=function(){return this.renderer_.getContentElement(this.getElement())},goog.ui.Container.prototype.canDecorate=function(e){return this.renderer_.canDecorate(e)},goog.ui.Container.prototype.decorateInternal=function(e){this.setElementInternal(this.renderer_.decorate(this,e)),"none"==e.style.display&&(this.visible_=!1)},goog.ui.Container.prototype.enterDocument=function(){goog.ui.Container.superClass_.enterDocument.call(this),this.forEachChild(function(e){e.isInDocument()&&this.registerChildId_(e)},this);var e=this.getElement();this.renderer_.initializeDom(this),this.setVisible(this.visible_,!0),this.getHandler().listen(this,goog.ui.Component.EventType.ENTER,this.handleEnterItem).listen(this,goog.ui.Component.EventType.HIGHLIGHT,this.handleHighlightItem).listen(this,goog.ui.Component.EventType.UNHIGHLIGHT,this.handleUnHighlightItem).listen(this,goog.ui.Component.EventType.OPEN,this.handleOpenItem).listen(this,goog.ui.Component.EventType.CLOSE,this.handleCloseItem).listen(e,goog.events.EventType.MOUSEDOWN,this.handleMouseDown).listen(goog.dom.getOwnerDocument(e),goog.events.EventType.MOUSEUP,this.handleDocumentMouseUp).listen(e,[goog.events.EventType.MOUSEDOWN,goog.events.EventType.MOUSEUP,goog.events.EventType.MOUSEOVER,goog.events.EventType.MOUSEOUT,goog.events.EventType.CONTEXTMENU],this.handleChildMouseEvents),this.isFocusable()&&this.enableFocusHandling_(!0)},goog.ui.Container.prototype.enableFocusHandling_=function(e){var t=this.getHandler(),o=this.getKeyEventTarget();e?t.listen(o,goog.events.EventType.FOCUS,this.handleFocus).listen(o,goog.events.EventType.BLUR,this.handleBlur).listen(this.getKeyHandler(),goog.events.KeyHandler.EventType.KEY,this.handleKeyEvent):t.unlisten(o,goog.events.EventType.FOCUS,this.handleFocus).unlisten(o,goog.events.EventType.BLUR,this.handleBlur).unlisten(this.getKeyHandler(),goog.events.KeyHandler.EventType.KEY,this.handleKeyEvent)},goog.ui.Container.prototype.exitDocument=function(){this.setHighlightedIndex(-1),this.openItem_&&this.openItem_.setOpen(!1),this.mouseButtonPressed_=!1,goog.ui.Container.superClass_.exitDocument.call(this)},goog.ui.Container.prototype.disposeInternal=function(){goog.ui.Container.superClass_.disposeInternal.call(this),this.keyHandler_&&(this.keyHandler_.dispose(),this.keyHandler_=null),this.renderer_=this.openItem_=this.childElementIdMap_=this.keyEventTarget_=null},goog.ui.Container.prototype.handleEnterItem=function(e){return!0},goog.ui.Container.prototype.handleHighlightItem=function(e){var t=this.indexOfChild(e.target);if(-1<t&&t!=this.highlightedIndex_){var o=this.getHighlighted();o&&o.setHighlighted(!1),this.highlightedIndex_=t,o=this.getHighlighted(),this.isMouseButtonPressed()&&o.setActive(!0),this.openFollowsHighlight_&&this.openItem_&&o!=this.openItem_&&(o.isSupportedState(goog.ui.Component.State.OPENED)?o.setOpen(!0):this.openItem_.setOpen(!1))}t=this.getElement(),goog.asserts.assert(t,"The DOM element for the container cannot be null."),null!=e.target.getElement()&&goog.a11y.aria.setState(t,goog.a11y.aria.State.ACTIVEDESCENDANT,e.target.getElement().id)},goog.ui.Container.prototype.handleUnHighlightItem=function(e){e.target==this.getHighlighted()&&(this.highlightedIndex_=-1),e=this.getElement(),goog.asserts.assert(e,"The DOM element for the container cannot be null."),goog.a11y.aria.removeState(e,goog.a11y.aria.State.ACTIVEDESCENDANT)},goog.ui.Container.prototype.handleOpenItem=function(e){(e=e.target)&&e!=this.openItem_&&e.getParent()==this&&(this.openItem_&&this.openItem_.setOpen(!1),this.openItem_=e)},goog.ui.Container.prototype.handleCloseItem=function(e){e.target==this.openItem_&&(this.openItem_=null);var t=this.getElement(),o=e.target.getElement();t&&e.target.isHighlighted()&&o&&goog.a11y.aria.setActiveDescendant(t,o)},goog.ui.Container.prototype.handleMouseDown=function(e){this.enabled_&&this.setMouseButtonPressed(!0);var t=this.getKeyEventTarget();t&&goog.dom.isFocusableTabIndex(t)?t.focus():e.preventDefault()},goog.ui.Container.prototype.handleDocumentMouseUp=function(e){this.setMouseButtonPressed(!1)},goog.ui.Container.prototype.handleChildMouseEvents=function(e){var t=this.getOwnerControl(e.target);if(t)switch(e.type){case goog.events.EventType.MOUSEDOWN:t.handleMouseDown(e);break;case goog.events.EventType.MOUSEUP:t.handleMouseUp(e);break;case goog.events.EventType.MOUSEOVER:t.handleMouseOver(e);break;case goog.events.EventType.MOUSEOUT:t.handleMouseOut(e);break;case goog.events.EventType.CONTEXTMENU:t.handleContextMenu(e)}},goog.ui.Container.prototype.getOwnerControl=function(e){if(this.childElementIdMap_)for(var t=this.getElement();e&&e!==t;){var o=e.id;if(o in this.childElementIdMap_)return this.childElementIdMap_[o];e=e.parentNode}return null},goog.ui.Container.prototype.handleFocus=function(e){},goog.ui.Container.prototype.handleBlur=function(e){this.setHighlightedIndex(-1),this.setMouseButtonPressed(!1),this.openItem_&&this.openItem_.setOpen(!1)},goog.ui.Container.prototype.handleKeyEvent=function(e){return!(!this.isEnabled()||!this.isVisible()||0==this.getChildCount()&&!this.keyEventTarget_||!this.handleKeyEventInternal(e)||(e.preventDefault(),e.stopPropagation(),0))},goog.ui.Container.prototype.handleKeyEventInternal=function(e){var t=this.getHighlighted();if(t&&"function"==typeof t.handleKeyEvent&&t.handleKeyEvent(e)||this.openItem_&&this.openItem_!=t&&"function"==typeof this.openItem_.handleKeyEvent&&this.openItem_.handleKeyEvent(e))return!0;if(e.shiftKey||e.ctrlKey||e.metaKey||e.altKey)return!1;switch(e.keyCode){case goog.events.KeyCodes.ESC:if(!this.isFocusable())return!1;this.getKeyEventTarget().blur();break;case goog.events.KeyCodes.HOME:this.highlightFirst();break;case goog.events.KeyCodes.END:this.highlightLast();break;case goog.events.KeyCodes.UP:if(this.orientation_!=goog.ui.Container.Orientation.VERTICAL)return!1;this.highlightPrevious();break;case goog.events.KeyCodes.LEFT:if(this.orientation_!=goog.ui.Container.Orientation.HORIZONTAL)return!1;this.isRightToLeft()?this.highlightNext():this.highlightPrevious();break;case goog.events.KeyCodes.DOWN:if(this.orientation_!=goog.ui.Container.Orientation.VERTICAL)return!1;this.highlightNext();break;case goog.events.KeyCodes.RIGHT:if(this.orientation_!=goog.ui.Container.Orientation.HORIZONTAL)return!1;this.isRightToLeft()?this.highlightPrevious():this.highlightNext();break;default:return!1}return!0},goog.ui.Container.prototype.registerChildId_=function(e){var t=e.getElement();t=t.id||(t.id=e.getId()),this.childElementIdMap_||(this.childElementIdMap_={}),this.childElementIdMap_[t]=e},goog.ui.Container.prototype.addChild=function(e,t){goog.asserts.assertInstanceof(e,goog.ui.Control,"The child of a container must be a control"),goog.ui.Container.superClass_.addChild.call(this,e,t)},goog.ui.Container.prototype.addChildAt=function(e,t,o){goog.asserts.assertInstanceof(e,goog.ui.Control),e.setDispatchTransitionEvents(goog.ui.Component.State.HOVER,!0),e.setDispatchTransitionEvents(goog.ui.Component.State.OPENED,!0),!this.isFocusable()&&this.isFocusableChildrenAllowed()||e.setSupportedState(goog.ui.Component.State.FOCUSED,!1),e.setHandleMouseEvents(!1);var n=e.getParent()==this?this.indexOfChild(e):-1;goog.ui.Container.superClass_.addChildAt.call(this,e,t,o),e.isInDocument()&&this.isInDocument()&&this.registerChildId_(e),this.updateHighlightedIndex_(n,t)},goog.ui.Container.prototype.updateHighlightedIndex_=function(e,t){-1==e&&(e=this.getChildCount()),e==this.highlightedIndex_?this.highlightedIndex_=Math.min(this.getChildCount()-1,t):e>this.highlightedIndex_&&t<=this.highlightedIndex_?this.highlightedIndex_++:e<this.highlightedIndex_&&t>this.highlightedIndex_&&this.highlightedIndex_--},goog.ui.Container.prototype.removeChild=function(e,t){if(e=goog.isString(e)?this.getChild(e):e,goog.asserts.assertInstanceof(e,goog.ui.Control),e){var o=this.indexOfChild(e);-1!=o&&(o==this.highlightedIndex_?(e.setHighlighted(!1),this.highlightedIndex_=-1):o<this.highlightedIndex_&&this.highlightedIndex_--),(o=e.getElement())&&o.id&&this.childElementIdMap_&&goog.object.remove(this.childElementIdMap_,o.id)}return(e=goog.ui.Container.superClass_.removeChild.call(this,e,t)).setHandleMouseEvents(!0),e},goog.ui.Container.prototype.getOrientation=function(){return this.orientation_},goog.ui.Container.prototype.setOrientation=function(e){if(this.getElement())throw Error(goog.ui.Component.Error.ALREADY_RENDERED);this.orientation_=e},goog.ui.Container.prototype.isVisible=function(){return this.visible_},goog.ui.Container.prototype.setVisible=function(e,t){if(t||this.visible_!=e&&this.dispatchEvent(e?goog.ui.Component.EventType.SHOW:goog.ui.Component.EventType.HIDE)){this.visible_=e;var o=this.getElement();return o&&(goog.style.setElementShown(o,e),this.isFocusable()&&this.renderer_.enableTabIndex(this.getKeyEventTarget(),this.enabled_&&this.visible_),t||this.dispatchEvent(this.visible_?goog.ui.Container.EventType.AFTER_SHOW:goog.ui.Container.EventType.AFTER_HIDE)),!0}return!1},goog.ui.Container.prototype.isEnabled=function(){return this.enabled_},goog.ui.Container.prototype.setEnabled=function(e){this.enabled_!=e&&this.dispatchEvent(e?goog.ui.Component.EventType.ENABLE:goog.ui.Component.EventType.DISABLE)&&(e?(this.enabled_=!0,this.forEachChild(function(e){e.wasDisabled?delete e.wasDisabled:e.setEnabled(!0)})):(this.forEachChild(function(e){e.isEnabled()?e.setEnabled(!1):e.wasDisabled=!0}),this.enabled_=!1,this.setMouseButtonPressed(!1)),this.isFocusable()&&this.renderer_.enableTabIndex(this.getKeyEventTarget(),e&&this.visible_))},goog.ui.Container.prototype.isFocusable=function(){return this.focusable_},goog.ui.Container.prototype.setFocusable=function(e){e!=this.focusable_&&this.isInDocument()&&this.enableFocusHandling_(e),this.focusable_=e,this.enabled_&&this.visible_&&this.renderer_.enableTabIndex(this.getKeyEventTarget(),e)},goog.ui.Container.prototype.isFocusableChildrenAllowed=function(){return this.allowFocusableChildren_},goog.ui.Container.prototype.setFocusableChildrenAllowed=function(e){this.allowFocusableChildren_=e},goog.ui.Container.prototype.isOpenFollowsHighlight=function(){return this.openFollowsHighlight_},goog.ui.Container.prototype.setOpenFollowsHighlight=function(e){this.openFollowsHighlight_=e},goog.ui.Container.prototype.getHighlightedIndex=function(){return this.highlightedIndex_},goog.ui.Container.prototype.setHighlightedIndex=function(e){(e=this.getChildAt(e))?e.setHighlighted(!0):-1<this.highlightedIndex_&&this.getHighlighted().setHighlighted(!1)},goog.ui.Container.prototype.setHighlighted=function(e){this.setHighlightedIndex(this.indexOfChild(e))},goog.ui.Container.prototype.getHighlighted=function(){return this.getChildAt(this.highlightedIndex_)},goog.ui.Container.prototype.highlightFirst=function(){this.highlightHelper(function(e,t){return(e+1)%t},this.getChildCount()-1)},goog.ui.Container.prototype.highlightLast=function(){this.highlightHelper(function(e,t){return--e<0?t-1:e},0)},goog.ui.Container.prototype.highlightNext=function(){this.highlightHelper(function(e,t){return(e+1)%t},this.highlightedIndex_)},goog.ui.Container.prototype.highlightPrevious=function(){this.highlightHelper(function(e,t){return--e<0?t-1:e},this.highlightedIndex_)},goog.ui.Container.prototype.highlightHelper=function(e,t){t=t<0?this.indexOfChild(this.openItem_):t;var o=this.getChildCount();t=e.call(this,t,o);for(var n=0;n<=o;){var r=this.getChildAt(t);if(r&&this.canHighlightItem(r))return this.setHighlightedIndexFromKeyEvent(t),!0;n++,t=e.call(this,t,o)}return!1},goog.ui.Container.prototype.canHighlightItem=function(e){return e.isVisible()&&e.isEnabled()&&e.isSupportedState(goog.ui.Component.State.HOVER)},goog.ui.Container.prototype.setHighlightedIndexFromKeyEvent=function(e){this.setHighlightedIndex(e)},goog.ui.Container.prototype.getOpenItem=function(){return this.openItem_},goog.ui.Container.prototype.isMouseButtonPressed=function(){return this.mouseButtonPressed_},goog.ui.Container.prototype.setMouseButtonPressed=function(e){this.mouseButtonPressed_=e},goog.ui.MenuHeaderRenderer=function(){goog.ui.ControlRenderer.call(this)},goog.inherits(goog.ui.MenuHeaderRenderer,goog.ui.ControlRenderer),goog.addSingletonGetter(goog.ui.MenuHeaderRenderer),goog.ui.MenuHeaderRenderer.CSS_CLASS="goog-menuheader",goog.ui.MenuHeaderRenderer.prototype.getCssClass=function(){return goog.ui.MenuHeaderRenderer.CSS_CLASS},goog.ui.MenuHeader=function(e,t,o){goog.ui.Control.call(this,e,o||goog.ui.MenuHeaderRenderer.getInstance(),t),this.setSupportedState(goog.ui.Component.State.DISABLED,!1),this.setSupportedState(goog.ui.Component.State.HOVER,!1),this.setSupportedState(goog.ui.Component.State.ACTIVE,!1),this.setSupportedState(goog.ui.Component.State.FOCUSED,!1),this.setStateInternal(goog.ui.Component.State.DISABLED)},goog.inherits(goog.ui.MenuHeader,goog.ui.Control),goog.ui.registry.setDecoratorByClassName(goog.ui.MenuHeaderRenderer.CSS_CLASS,function(){return new goog.ui.MenuHeader(null)}),goog.ui.MenuItemRenderer=function(){goog.ui.ControlRenderer.call(this),this.classNameCache_=[]},goog.inherits(goog.ui.MenuItemRenderer,goog.ui.ControlRenderer),goog.addSingletonGetter(goog.ui.MenuItemRenderer),goog.ui.MenuItemRenderer.CSS_CLASS="goog-menuitem",goog.ui.MenuItemRenderer.CompositeCssClassIndex_={HOVER:0,CHECKBOX:1,CONTENT:2},goog.ui.MenuItemRenderer.prototype.getCompositeCssClass_=function(e){var t=this.classNameCache_[e];if(!t){switch(e){case goog.ui.MenuItemRenderer.CompositeCssClassIndex_.HOVER:t=this.getStructuralCssClass()+"-highlight";break;case goog.ui.MenuItemRenderer.CompositeCssClassIndex_.CHECKBOX:t=this.getStructuralCssClass()+"-checkbox";break;case goog.ui.MenuItemRenderer.CompositeCssClassIndex_.CONTENT:t=this.getStructuralCssClass()+"-content"}this.classNameCache_[e]=t}return t},goog.ui.MenuItemRenderer.prototype.getAriaRole=function(){return goog.a11y.aria.Role.MENU_ITEM},goog.ui.MenuItemRenderer.prototype.createDom=function(e){var t=e.getDomHelper().createDom("DIV",this.getClassNames(e).join(" "),this.createContent(e.getContent(),e.getDomHelper()));return this.setEnableCheckBoxStructure(e,t,e.isSupportedState(goog.ui.Component.State.SELECTED)||e.isSupportedState(goog.ui.Component.State.CHECKED)),t},goog.ui.MenuItemRenderer.prototype.getContentElement=function(e){return e&&e.firstChild},goog.ui.MenuItemRenderer.prototype.decorate=function(e,t){return goog.asserts.assert(t),this.hasContentStructure(t)||t.appendChild(this.createContent(t.childNodes,e.getDomHelper())),goog.dom.classlist.contains(t,"goog-option")&&(e.setCheckable(!0),this.setCheckable(e,t,!0)),goog.ui.MenuItemRenderer.superClass_.decorate.call(this,e,t)},goog.ui.MenuItemRenderer.prototype.setContent=function(e,t){var o=this.getContentElement(e),n=this.hasCheckBoxStructure(e)?o.firstChild:null;goog.ui.MenuItemRenderer.superClass_.setContent.call(this,e,t),n&&!this.hasCheckBoxStructure(e)&&o.insertBefore(n,o.firstChild||null)},goog.ui.MenuItemRenderer.prototype.hasContentStructure=function(e){e=goog.dom.getFirstElementChild(e);var t=this.getCompositeCssClass_(goog.ui.MenuItemRenderer.CompositeCssClassIndex_.CONTENT);return!!e&&goog.dom.classlist.contains(e,t)},goog.ui.MenuItemRenderer.prototype.createContent=function(e,t){var o=this.getCompositeCssClass_(goog.ui.MenuItemRenderer.CompositeCssClassIndex_.CONTENT);return t.createDom("DIV",o,e)},goog.ui.MenuItemRenderer.prototype.setSelectable=function(e,t,o){e&&t&&this.setEnableCheckBoxStructure(e,t,o)},goog.ui.MenuItemRenderer.prototype.setCheckable=function(e,t,o){e&&t&&this.setEnableCheckBoxStructure(e,t,o)},goog.ui.MenuItemRenderer.prototype.hasCheckBoxStructure=function(e){if(e=this.getContentElement(e)){e=e.firstChild;var t=this.getCompositeCssClass_(goog.ui.MenuItemRenderer.CompositeCssClassIndex_.CHECKBOX);return!!e&&goog.dom.isElement(e)&&goog.dom.classlist.contains(e,t)}return!1},goog.ui.MenuItemRenderer.prototype.setEnableCheckBoxStructure=function(e,t,o){this.setAriaRole(t,e.getPreferredAriaRole()),this.setAriaStates(e,t),o!=this.hasCheckBoxStructure(t)&&(goog.dom.classlist.enable(t,"goog-option",o),t=this.getContentElement(t),o?(o=this.getCompositeCssClass_(goog.ui.MenuItemRenderer.CompositeCssClassIndex_.CHECKBOX),t.insertBefore(e.getDomHelper().createDom("DIV",o),t.firstChild||null)):t.removeChild(t.firstChild))},goog.ui.MenuItemRenderer.prototype.getClassForState=function(e){switch(e){case goog.ui.Component.State.HOVER:return this.getCompositeCssClass_(goog.ui.MenuItemRenderer.CompositeCssClassIndex_.HOVER);case goog.ui.Component.State.CHECKED:case goog.ui.Component.State.SELECTED:return"goog-option-selected";default:return goog.ui.MenuItemRenderer.superClass_.getClassForState.call(this,e)}},goog.ui.MenuItemRenderer.prototype.getStateFromClass=function(e){var t=this.getCompositeCssClass_(goog.ui.MenuItemRenderer.CompositeCssClassIndex_.HOVER);switch(e){case"goog-option-selected":return goog.ui.Component.State.CHECKED;case t:return goog.ui.Component.State.HOVER;default:return goog.ui.MenuItemRenderer.superClass_.getStateFromClass.call(this,e)}},goog.ui.MenuItemRenderer.prototype.getCssClass=function(){return goog.ui.MenuItemRenderer.CSS_CLASS},goog.ui.MenuItem=function(e,t,o,n){goog.ui.Control.call(this,e,n||goog.ui.MenuItemRenderer.getInstance(),o),this.setValue(t)},goog.inherits(goog.ui.MenuItem,goog.ui.Control),goog.tagUnsealableClass(goog.ui.MenuItem),goog.ui.MenuItem.MNEMONIC_WRAPPER_CLASS_="goog-menuitem-mnemonic-separator",goog.ui.MenuItem.ACCELERATOR_CLASS="goog-menuitem-accel",goog.ui.MenuItem.prototype.getValue=function(){var e=this.getModel();return null!=e?e:this.getCaption()},goog.ui.MenuItem.prototype.setValue=function(e){this.setModel(e)},goog.ui.MenuItem.prototype.setSupportedState=function(e,t){switch(goog.ui.MenuItem.superClass_.setSupportedState.call(this,e,t),e){case goog.ui.Component.State.SELECTED:this.setSelectableInternal_(t);break;case goog.ui.Component.State.CHECKED:this.setCheckableInternal_(t)}},goog.ui.MenuItem.prototype.setSelectable=function(e){this.setSupportedState(goog.ui.Component.State.SELECTED,e)},goog.ui.MenuItem.prototype.setSelectableInternal_=function(e){this.isChecked()&&!e&&this.setChecked(!1);var t=this.getElement();t&&this.getRenderer().setSelectable(this,t,e)},goog.ui.MenuItem.prototype.setCheckable=function(e){this.setSupportedState(goog.ui.Component.State.CHECKED,e)},goog.ui.MenuItem.prototype.setCheckableInternal_=function(e){var t=this.getElement();t&&this.getRenderer().setCheckable(this,t,e)},goog.ui.MenuItem.prototype.getCaption=function(){var e=this.getContent();if(goog.isArray(e)){var t=goog.ui.MenuItem.ACCELERATOR_CLASS,o=goog.ui.MenuItem.MNEMONIC_WRAPPER_CLASS_;return e=goog.array.map(e,function(e){return goog.dom.isElement(e)&&(goog.dom.classlist.contains(e,t)||goog.dom.classlist.contains(e,o))?"":goog.dom.getRawTextContent(e)}).join(""),goog.string.collapseBreakingSpaces(e)}return goog.ui.MenuItem.superClass_.getCaption.call(this)},goog.ui.MenuItem.prototype.getAccelerator=function(){var e=this.getDomHelper(),t=this.getContent();return goog.isArray(t)&&(t=goog.array.find(t,function(e){return goog.dom.classlist.contains(e,goog.ui.MenuItem.ACCELERATOR_CLASS)}))?e.getTextContent(t):null},goog.ui.MenuItem.prototype.handleMouseUp=function(e){var t=this.getParent();if(t){var o=t.openingCoords;if(t.openingCoords=null,o&&goog.isNumber(e.clientX)&&(t=new goog.math.Coordinate(e.clientX,e.clientY),goog.math.Coordinate.equals(o,t)))return}goog.ui.MenuItem.superClass_.handleMouseUp.call(this,e)},goog.ui.MenuItem.prototype.handleKeyEventInternal=function(e){return!(e.keyCode!=this.getMnemonic()||!this.performActionInternal(e))||goog.ui.MenuItem.superClass_.handleKeyEventInternal.call(this,e)},goog.ui.MenuItem.prototype.setMnemonic=function(e){this.mnemonicKey_=e},goog.ui.MenuItem.prototype.getMnemonic=function(){return this.mnemonicKey_},goog.ui.registry.setDecoratorByClassName(goog.ui.MenuItemRenderer.CSS_CLASS,function(){return new goog.ui.MenuItem(null)}),goog.ui.MenuItem.prototype.getPreferredAriaRole=function(){return this.isSupportedState(goog.ui.Component.State.CHECKED)?goog.a11y.aria.Role.MENU_ITEM_CHECKBOX:this.isSupportedState(goog.ui.Component.State.SELECTED)?goog.a11y.aria.Role.MENU_ITEM_RADIO:goog.ui.MenuItem.superClass_.getPreferredAriaRole.call(this)},goog.ui.MenuItem.prototype.getParent=function(){return goog.ui.Control.prototype.getParent.call(this)},goog.ui.MenuItem.prototype.getParentEventTarget=function(){return goog.ui.Control.prototype.getParentEventTarget.call(this)},goog.ui.MenuSeparatorRenderer=function(){goog.ui.ControlRenderer.call(this)},goog.inherits(goog.ui.MenuSeparatorRenderer,goog.ui.ControlRenderer),goog.addSingletonGetter(goog.ui.MenuSeparatorRenderer),goog.ui.MenuSeparatorRenderer.CSS_CLASS="goog-menuseparator",goog.ui.MenuSeparatorRenderer.prototype.createDom=function(e){return e.getDomHelper().createDom("DIV",this.getCssClass())},goog.ui.MenuSeparatorRenderer.prototype.decorate=function(e,t){if(t.id&&e.setId(t.id),"HR"==t.tagName){var o=t;t=this.createDom(e),goog.dom.insertSiblingBefore(t,o),goog.dom.removeNode(o)}else goog.dom.classlist.add(t,this.getCssClass());return t},goog.ui.MenuSeparatorRenderer.prototype.setContent=function(e,t){},goog.ui.MenuSeparatorRenderer.prototype.getCssClass=function(){return goog.ui.MenuSeparatorRenderer.CSS_CLASS},goog.ui.Separator=function(e,t){goog.ui.Control.call(this,null,e||goog.ui.MenuSeparatorRenderer.getInstance(),t),this.setSupportedState(goog.ui.Component.State.DISABLED,!1),this.setSupportedState(goog.ui.Component.State.HOVER,!1),this.setSupportedState(goog.ui.Component.State.ACTIVE,!1),this.setSupportedState(goog.ui.Component.State.FOCUSED,!1),this.setStateInternal(goog.ui.Component.State.DISABLED)},goog.inherits(goog.ui.Separator,goog.ui.Control),goog.ui.Separator.prototype.enterDocument=function(){goog.ui.Separator.superClass_.enterDocument.call(this);var e=this.getElement();goog.asserts.assert(e,"The DOM element for the separator cannot be null."),goog.a11y.aria.setRole(e,"separator")},goog.ui.registry.setDecoratorByClassName(goog.ui.MenuSeparatorRenderer.CSS_CLASS,function(){return new goog.ui.Separator}),goog.ui.MenuRenderer=function(e){goog.ui.ContainerRenderer.call(this,e||goog.a11y.aria.Role.MENU)},goog.inherits(goog.ui.MenuRenderer,goog.ui.ContainerRenderer),goog.addSingletonGetter(goog.ui.MenuRenderer),goog.ui.MenuRenderer.CSS_CLASS="goog-menu",goog.ui.MenuRenderer.prototype.canDecorate=function(e){return"UL"==e.tagName||goog.ui.MenuRenderer.superClass_.canDecorate.call(this,e)},goog.ui.MenuRenderer.prototype.getDecoratorForChild=function(e){return"HR"==e.tagName?new goog.ui.Separator:goog.ui.MenuRenderer.superClass_.getDecoratorForChild.call(this,e)},goog.ui.MenuRenderer.prototype.containsElement=function(e,t){return goog.dom.contains(e.getElement(),t)},goog.ui.MenuRenderer.prototype.getCssClass=function(){return goog.ui.MenuRenderer.CSS_CLASS},goog.ui.MenuRenderer.prototype.initializeDom=function(e){goog.ui.MenuRenderer.superClass_.initializeDom.call(this,e),e=e.getElement(),goog.asserts.assert(e,"The menu DOM element cannot be null."),goog.a11y.aria.setState(e,goog.a11y.aria.State.HASPOPUP,"true")},goog.ui.MenuSeparator=function(e){goog.ui.Separator.call(this,goog.ui.MenuSeparatorRenderer.getInstance(),e)},goog.inherits(goog.ui.MenuSeparator,goog.ui.Separator),goog.ui.registry.setDecoratorByClassName(goog.ui.MenuSeparatorRenderer.CSS_CLASS,function(){return new goog.ui.Separator}),goog.ui.Menu=function(e,t){goog.ui.Container.call(this,goog.ui.Container.Orientation.VERTICAL,t||goog.ui.MenuRenderer.getInstance(),e),this.setFocusable(!1)},goog.inherits(goog.ui.Menu,goog.ui.Container),goog.tagUnsealableClass(goog.ui.Menu),goog.ui.Menu.EventType={BEFORE_SHOW:goog.ui.Component.EventType.BEFORE_SHOW,SHOW:goog.ui.Component.EventType.SHOW,BEFORE_HIDE:goog.ui.Component.EventType.HIDE,HIDE:goog.ui.Component.EventType.HIDE},goog.ui.Menu.CSS_CLASS=goog.ui.MenuRenderer.CSS_CLASS,goog.ui.Menu.prototype.allowAutoFocus_=!0,goog.ui.Menu.prototype.allowHighlightDisabled_=!1,goog.ui.Menu.prototype.getCssClass=function(){return this.getRenderer().getCssClass()},goog.ui.Menu.prototype.containsElement=function(e){if(this.getRenderer().containsElement(this,e))return!0;for(var t=0,o=this.getChildCount();t<o;t++){var n=this.getChildAt(t);if("function"==typeof n.containsElement&&n.containsElement(e))return!0}return!1},goog.ui.Menu.prototype.addItem=function(e){this.addChild(e,!0)},goog.ui.Menu.prototype.addItemAt=function(e,t){this.addChildAt(e,t,!0)},goog.ui.Menu.prototype.removeItem=function(e){(e=this.removeChild(e,!0))&&e.dispose()},goog.ui.Menu.prototype.removeItemAt=function(e){(e=this.removeChildAt(e,!0))&&e.dispose()},goog.ui.Menu.prototype.getItemAt=function(e){return this.getChildAt(e)},goog.ui.Menu.prototype.getItemCount=function(){return this.getChildCount()},goog.ui.Menu.prototype.getItems=function(){var t=[];return this.forEachChild(function(e){t.push(e)}),t},goog.ui.Menu.prototype.setPosition=function(e,t){var o=this.isVisible();o||goog.style.setElementShown(this.getElement(),!0),goog.style.setPageOffset(this.getElement(),e,t),o||goog.style.setElementShown(this.getElement(),!1)},goog.ui.Menu.prototype.getPosition=function(){return this.isVisible()?goog.style.getPageOffset(this.getElement()):null},goog.ui.Menu.prototype.setAllowAutoFocus=function(e){(this.allowAutoFocus_=e)&&this.setFocusable(!0)},goog.ui.Menu.prototype.getAllowAutoFocus=function(){return this.allowAutoFocus_},goog.ui.Menu.prototype.setAllowHighlightDisabled=function(e){this.allowHighlightDisabled_=e},goog.ui.Menu.prototype.getAllowHighlightDisabled=function(){return this.allowHighlightDisabled_},goog.ui.Menu.prototype.setVisible=function(e,t,o){return(t=goog.ui.Menu.superClass_.setVisible.call(this,e,t))&&e&&this.isInDocument()&&this.allowAutoFocus_&&this.getKeyEventTarget().focus(),e&&o&&goog.isNumber(o.clientX)?this.openingCoords=new goog.math.Coordinate(o.clientX,o.clientY):this.openingCoords=null,t},goog.ui.Menu.prototype.handleEnterItem=function(e){return this.allowAutoFocus_&&this.getKeyEventTarget().focus(),goog.ui.Menu.superClass_.handleEnterItem.call(this,e)},goog.ui.Menu.prototype.highlightNextPrefix=function(e){var i=new RegExp("^"+goog.string.regExpEscape(e),"i");return this.highlightHelper(function(e,t){var o=e<0?0:e,n=!1;do{++e==t&&(n=!(e=0));var r=this.getChildAt(e).getCaption();if(r&&r.match(i))return e}while(!n||e!=o);return this.getHighlightedIndex()},this.getHighlightedIndex())},goog.ui.Menu.prototype.canHighlightItem=function(e){return(this.allowHighlightDisabled_||e.isEnabled())&&e.isVisible()&&e.isSupportedState(goog.ui.Component.State.HOVER)},goog.ui.Menu.prototype.decorateInternal=function(e){this.decorateContent(e),goog.ui.Menu.superClass_.decorateInternal.call(this,e)},goog.ui.Menu.prototype.handleKeyEventInternal=function(t){var o=goog.ui.Menu.superClass_.handleKeyEventInternal.call(this,t);return o||this.forEachChild(function(e){!o&&e.getMnemonic&&e.getMnemonic()==t.keyCode&&(this.isEnabled()&&this.setHighlighted(e),o=e.handleKeyEvent(t))},this),o},goog.ui.Menu.prototype.setHighlightedIndex=function(e){goog.ui.Menu.superClass_.setHighlightedIndex.call(this,e),(e=this.getChildAt(e))&&goog.style.scrollIntoContainerView(e.getElement(),this.getElement())},goog.ui.Menu.prototype.decorateContent=function(e){for(var t=this.getRenderer(),o=(e=this.getDomHelper().getElementsByTagNameAndClass("DIV",t.getCssClass()+"-content",e)).length,n=0;n<o;n++)t.decorateChildren(this,e[n])},Blockly.ContextMenu={},Blockly.ContextMenu.currentBlock=null,Blockly.ContextMenu.show=function(e,t){if(Blockly.WidgetDiv.show(Blockly.ContextMenu,null),t.length){for(var o,n=new goog.ui.Menu,r=0;o=t[r];r++){var i=new goog.ui.MenuItem(o.text);n.addItem(i),i.setEnabled(o.enabled),o.enabled&&goog.events.listen(i,goog.ui.Component.EventType.ACTION,o.callback)}goog.events.listen(n,goog.ui.Component.EventType.ACTION,Blockly.ContextMenu.hide),t=goog.dom.getViewportSize(),o=goog.style.getViewportPageOffset(document),n.render(Blockly.WidgetDiv.DIV),n.setAllowAutoFocus(!0),r=n.getElement(),Blockly.addClass_(r,"blocklyContextMenu"),n=goog.style.getSize(r),r=e.clientX+o.x,i=e.clientY+o.y,e.clientY+n.height>=t.height&&(i-=n.height),Blockly.RTL?n.width>=e.clientX&&(r+=n.width):e.clientX+n.width>=t.width&&(r-=n.width),Blockly.WidgetDiv.position(r,i,t,o),Blockly.ContextMenu.currentBlock=null}else Blockly.ContextMenu.hide()},Blockly.ContextMenu.hide=function(){Blockly.WidgetDiv.hideIfOwner(Blockly.ContextMenu),Blockly.ContextMenu.currentBlock=null},Blockly.ContextMenu.optionToDom_=function(e){var t=Blockly.createSvgElement("g",{class:"blocklyMenuDiv"},null);Blockly.createSvgElement("rect",{height:Blockly.ContextMenu.Y_HEIGHT},t);var o=Blockly.createSvgElement("text",{class:"blocklyMenuText",x:Blockly.ContextMenu.X_PADDING,y:15},t);return e=document.createTextNode(e),o.appendChild(e),t},Blockly.ContextMenu.callbackFactory=function(o,n){return function(){var e=Blockly.Xml.domToBlock(o.blockSpace,n),t=o.getRelativeToSurfaceXY();t.x=Blockly.RTL?t.x-Blockly.SNAP_RADIUS:t.x+Blockly.SNAP_RADIUS,t.y+=2*Blockly.SNAP_RADIUS,e.moveBy(t.x,t.y),e.select()}},Blockly.Field=function(e){this.sourceBlock_=null,this.fieldGroup_=Blockly.createSvgElement("g",{},null),this.borderRect_=Blockly.createSvgElement("rect",{rx:4,ry:4,x:-Blockly.BlockSvg.SEP_SPACE_X/2,y:-12,height:16},this.fieldGroup_),this.textElement_=Blockly.createSvgElement("text",{class:"blocklyText"},this.fieldGroup_),this.size_={height:25,width:0},this.setText(e),this.visible_=!0},Blockly.Field.prototype.getFieldHelperOptions_=function(e){return this.sourceBlock_&&this.sourceBlock_.outputConnection&&this.sourceBlock_.outputConnection.targetConnection&&this.sourceBlock_.outputConnection.targetConnection.getFieldHelperOptions(e)},Blockly.Field.prototype.getParentEditor_=function(){return this.sourceBlock_.blockSpace.blockSpaceEditor},Blockly.Field.prototype.getRootSVGElement_=function(){return this.getParentEditor_().svg_},Blockly.Field.NBSP=" ",Blockly.Field.prototype.EDITABLE=!0,Blockly.Field.prototype.init=function(e){if(this.sourceBlock_)throw"Field has already been initialized once.";this.sourceBlock_=e,this.updateEditable(),e.getSvgRoot().appendChild(this.fieldGroup_),this.mouseDownWrapper_=Blockly.bindEvent_(this.fieldGroup_,"mousedown",this,this.onMouseDown_),this.mouseUpWrapper_=Blockly.bindEvent_(this.fieldGroup_,"mouseup",this,this.onMouseUp_),this.clickWrapper_=Blockly.bindEvent_(this.fieldGroup_,"click",this,this.onClick_),this.setText(null)},Blockly.Field.prototype.dispose=function(){this.mouseDownWrapper_&&(Blockly.unbindEvent_(this.mouseDownWrapper_),this.mouseDownWrapper_=null),this.mouseUpWrapper_&&(Blockly.unbindEvent_(this.mouseUpWrapper_),this.mouseUpWrapper_=null),this.clickWrapper_&&(Blockly.unbindEvent_(this.clickWrapper_),this.clickWrapper_=null),this.sourceBlock_=null,goog.dom.removeNode(this.fieldGroup_),this.borderRect_=this.textElement_=this.fieldGroup_=null},Blockly.Field.prototype.updateEditable=function(){this.EDITABLE&&(this.sourceBlock_.isEditable()?(Blockly.addClass_(this.fieldGroup_,"blocklyEditableText"),Blockly.removeClass_(this.fieldGroup_,"blocklyNoNEditableText"),this.fieldGroup_.style.cursor=this.CURSOR):(Blockly.addClass_(this.fieldGroup_,"blocklyNonEditableText"),Blockly.removeClass_(this.fieldGroup_,"blocklyEditableText"),this.fieldGroup_.style.cursor=""))},Blockly.Field.prototype.isVisible=function(){return this.visible_},Blockly.Field.prototype.setVisible=function(e){this.visible_=e,this.getRootElement().style.display=e?"block":"none"},Blockly.Field.prototype.getRootElement=function(){return this.fieldGroup_},Blockly.Field.prototype.updateWidth_=function(){var e=this.textElement_.getComputedTextLength&&document.body.contains(this.textElement_)?this.textElement_.getComputedTextLength():1;this.borderRect_&&this.borderRect_.setAttribute("width",e+Blockly.BlockSvg.SEP_SPACE_X),this.size_.width=e},Blockly.Field.prototype.getSize=function(){return this.size_.width||this.updateWidth_(),this.size_},Blockly.Field.prototype.getBufferY=function(){return 0},Blockly.Field.prototype.getText=function(){return this.text_},Blockly.Field.prototype.setText=function(e){null!==e&&e!==this.text_&&(this.text_=e,goog.dom.removeChildren(this.textElement_),(e=e.replace(/\s/g,Blockly.Field.NBSP))||(e=Blockly.Field.NBSP),e=document.createTextNode(e),this.textElement_.appendChild(e),this.size_.width=0,this.refreshRender())},Blockly.Field.prototype.refreshRender=function(){this.sourceBlock_&&this.sourceBlock_.rendered&&(this.sourceBlock_.render(),this.sourceBlock_.bumpNeighbours(),this.sourceBlock_.blockSpace.fireChangeEvent())},Blockly.Field.prototype.getValue=function(){return this.getText()},Blockly.Field.prototype.setValue=function(e){this.setText(e)},Blockly.Field.prototype.isKeyboardInputField_=function(){return!1},Blockly.Field.prototype.showEditorOnClick_=function(){return!(!this.isKeyboardInputField_()||!goog.userAgent.ANDROID&&!goog.userAgent.MOBILE)},Blockly.Field.prototype.onMouseDown_=function(e){this.showEditorOnClick_()&&e.stopPropagation()},Blockly.Field.prototype.onMouseUp_=function(e){this.showEditorOnClick_()||Blockly.isRightButton(e)||Blockly.Block.isFreelyDragging()||this.sourceBlock_.isEditable()&&this.showEditor_()},Blockly.Field.prototype.onClick_=function(e){this.showEditorOnClick_()&&(Blockly.isRightButton(e)||this.sourceBlock_.isEditable()&&this.showEditor_())},Blockly.Field.prototype.setTooltip=function(e){},Blockly.Field.prototype.positionWidgetDiv=function(){},Blockly.Field.prototype.handleBlockSpaceScrolled=function(){this.sourceBlock_&&this.positionWidgetDiv()},Blockly.Field.prototype.showWidgetDiv_=function(){if(Blockly.WidgetDiv.show(this,this.generateWidgetDisposeHandler_()),this.sourceBlock_&&this.sourceBlock_.blockSpace&&this.sourceBlock_.blockSpace.events){var e=this.sourceBlock_.blockSpace.events;this.blockSpaceScrolledListenKey_||(this.blockSpaceScrolledListenKey_=e.listen(Blockly.BlockSpace.EVENTS.BLOCK_SPACE_SCROLLED,this.handleBlockSpaceScrolled.bind(this)))}},Blockly.Field.prototype.generateWidgetDisposeHandler_=function(){return function(){this.blockSpaceScrolledListenKey_&&this.sourceBlock_&&this.sourceBlock_.blockSpace&&this.sourceBlock_.blockSpace.events&&(this.sourceBlock_.blockSpace.events.unlistenByKey(this.blockSpaceScrolledListenKey_),this.blockSpaceScrolledListenKey_=null)}.bind(this)},Blockly.Tooltip={},Blockly.Tooltip.visible=!1,Blockly.Tooltip.mouseOutPid_=0,Blockly.Tooltip.showPid_=0,Blockly.Tooltip.lastXY_={x:0,y:0},Blockly.Tooltip.element_=null,Blockly.Tooltip.poisonedElement_=null,Blockly.Tooltip.svgGroup_=null,Blockly.Tooltip.svgText_=null,Blockly.Tooltip.svgBackground_=null,Blockly.Tooltip.svgShadow_=null,Blockly.Tooltip.OFFSET_X=0,Blockly.Tooltip.OFFSET_Y=10,Blockly.Tooltip.RADIUS_OK=10,Blockly.Tooltip.HOVER_MS=1e3,Blockly.Tooltip.MARGINS=5,Blockly.Tooltip.createDom=function(){var e=Blockly.createSvgElement("g",{class:"blocklyHidden"},null);return Blockly.Tooltip.svgGroup_=e,Blockly.Tooltip.svgShadow_=Blockly.createSvgElement("rect",{class:"blocklyTooltipShadow",x:2,y:2},e),Blockly.Tooltip.svgBackground_=Blockly.createSvgElement("rect",{class:"blocklyTooltipBackground"},e),Blockly.Tooltip.svgText_=Blockly.createSvgElement("text",{class:"blocklyTooltipText"},e),e},Blockly.Tooltip.bindMouseEvents=function(e){Blockly.bindEvent_(e,"mouseover",null,Blockly.Tooltip.onMouseOver_),Blockly.bindEvent_(e,"mouseout",null,Blockly.Tooltip.onMouseOut_),Blockly.bindEvent_(e,"mousemove",null,Blockly.Tooltip.onMouseMove_)},Blockly.Tooltip.onMouseOver_=function(e){for(e=e.target;!goog.isString(e.tooltip)&&!goog.isFunction(e.tooltip);)e=e.tooltip;Blockly.Tooltip.element_!=e&&(Blockly.Tooltip.hide(),Blockly.Tooltip.poisonedElement_=null,Blockly.Tooltip.element_=e),window.clearTimeout(Blockly.Tooltip.mouseOutPid_)},Blockly.Tooltip.onMouseOut_=function(e){Blockly.Tooltip.mouseOutPid_=window.setTimeout(function(){Blockly.Tooltip.element_=null,Blockly.Tooltip.poisonedElement_=null,Blockly.Tooltip.hide()},1),window.clearTimeout(Blockly.Tooltip.showPid_)},Blockly.Tooltip.onMouseMove_=function(e){Blockly.Tooltip.element_&&Blockly.Tooltip.element_.tooltip&&!Blockly.Block.isDragging()&&!Blockly.WidgetDiv.isVisible()&&(Blockly.Tooltip.visible?(e=Blockly.mouseToSvg(e),Math.sqrt(Math.pow(Blockly.Tooltip.lastXY_.x-e.x,2)+Math.pow(Blockly.Tooltip.lastXY_.y-e.y,2))>Blockly.Tooltip.RADIUS_OK&&Blockly.Tooltip.hide()):Blockly.Tooltip.poisonedElement_!=Blockly.Tooltip.element_&&(window.clearTimeout(Blockly.Tooltip.showPid_),Blockly.Tooltip.lastXY_=Blockly.mouseToSvg(e),Blockly.Tooltip.showPid_=window.setTimeout(Blockly.Tooltip.show_,Blockly.Tooltip.HOVER_MS)))},Blockly.Tooltip.hide=function(){Blockly.Tooltip.visible&&(Blockly.Tooltip.visible=!1,Blockly.Tooltip.svgGroup_&&(Blockly.Tooltip.svgGroup_.style.display="none")),window.clearTimeout(Blockly.Tooltip.showPid_)},Blockly.Tooltip.show_=function(){if(Blockly.Tooltip.poisonedElement_=Blockly.Tooltip.element_,Blockly.Tooltip.svgGroup_){goog.dom.removeChildren(Blockly.Tooltip.svgText_);var e=Blockly.Tooltip.element_.tooltip;goog.isFunction(e)&&(e=e()),e=e.split("\n");for(var t=0;t<e.length;t++){var o=Blockly.createSvgElement("tspan",{dy:"1em",x:Blockly.Tooltip.MARGINS},Blockly.Tooltip.svgText_),n=document.createTextNode(e[t]);o.appendChild(n)}if(Blockly.Tooltip.visible=!0,Blockly.Tooltip.svgGroup_.style.display="block",e=0<=navigator.userAgent.indexOf("MSIE")||0<=navigator.userAgent.indexOf("Trident")?(Blockly.Tooltip.svgText_.style.display="inline",{x:Blockly.Tooltip.svgText_.getBBox().x,y:Blockly.Tooltip.svgText_.getBBox().y,width:Blockly.Tooltip.svgText_.scrollWidth,height:Blockly.Tooltip.svgText_.scrollHeight}):Blockly.Tooltip.svgText_.getBBox(),t=2*Blockly.Tooltip.MARGINS+e.width,o=e.height,Blockly.Tooltip.svgBackground_.setAttribute("width",t),Blockly.Tooltip.svgBackground_.setAttribute("height",o),Blockly.Tooltip.svgShadow_.setAttribute("width",t),Blockly.Tooltip.svgShadow_.setAttribute("height",o),Blockly.RTL){o=e.width,n=0;for(var r;r=Blockly.Tooltip.svgText_.childNodes[n];n++)r.setAttribute("text-anchor","end"),r.setAttribute("x",o+Blockly.Tooltip.MARGINS)}o=Blockly.Tooltip.lastXY_.x,o=Blockly.RTL?o-(Blockly.Tooltip.OFFSET_X+t):o+Blockly.Tooltip.OFFSET_X,t=Blockly.Tooltip.lastXY_.y+Blockly.Tooltip.OFFSET_Y,n=Blockly.mainBlockSpaceEditor.svgSize(),t+e.height>n.height&&(t-=e.height+2*Blockly.Tooltip.OFFSET_Y),Blockly.RTL?o=Math.max(Blockly.Tooltip.MARGINS,o):o+e.width>n.width-2*Blockly.Tooltip.MARGINS&&(o=n.width-e.width-2*Blockly.Tooltip.MARGINS),Blockly.Tooltip.svgGroup_.setAttribute("transform","translate("+o+","+t+")")}},Blockly.FieldLabel=function(e,t){t=t||{},this.sourceBlock_=null,this.textElement_=Blockly.createSvgElement("text",{class:"blocklyText"},null),this.forceWidth_=(this.forceSize_=t.hasOwnProperty("fixedSize"))&&void 0!==t.fixedSize.width,this.fontSize_=t.fontSize,this.size_=this.forceSize_?t.fixedSize:{width:0,height:25},this.setText(e),this.fieldGroup_=this.textElement_},goog.inherits(Blockly.FieldLabel,Blockly.Field),Blockly.FieldLabel.prototype.EDITABLE=!1,Blockly.FieldLabel.prototype.init=function(e){if(this.sourceBlock_)throw"Text has already been initialized once.";(this.sourceBlock_=e).getSvgRoot().appendChild(this.textElement_),this.textElement_.tooltip=this.sourceBlock_,this.sourceBlock_.blockSpace.blockSpaceEditor.disableTooltip||Blockly.Tooltip&&Blockly.Tooltip.bindMouseEvents(this.textElement_)},Blockly.FieldLabel.prototype.getSize=function(){return this.size_.width||this.forceWidth_||this.updateWidth_(),this.size_},Blockly.FieldLabel.prototype.getBufferY=function(){return this.fontSize_?(this.size_.height-this.fontSize_)/2:0},Blockly.FieldLabel.prototype.setText=function(e){null!==e&&e!==this.text_&&(this.text_=e,goog.dom.removeChildren(this.textElement_),(e=e.replace(/\s/g,Blockly.Field.NBSP))||(e=Blockly.Field.NBSP),e=document.createTextNode(e),this.textElement_.appendChild(e),this.fontSize_&&(this.textElement_.style.fontSize=this.fontSize_+"px"),this.forceWidth_||(this.size_.width=0),this.refreshRender())},Blockly.FieldLabel.prototype.dispose=function(){goog.dom.removeNode(this.textElement_),this.textElement_=null},Blockly.FieldLabel.prototype.getRootElement=function(){return this.textElement_},Blockly.FieldLabel.prototype.setTooltip=function(e){this.textElement_.tooltip=e},Blockly.Input=function(e,t,o,n,r){this.type=e,this.name=t,this.sourceBlock_=o,this.connection=n,this.titleRow=[],this.align=Blockly.ALIGN_LEFT,this.inline_=!1,this.visible_=!0,this.colour_={hue:null,saturation:null,value:null},this.statementTrailingSpace_=r||0},Blockly.Input.prototype.appendTitle=function(e,t){return(e||t)&&(goog.isString(e)&&(e=new Blockly.FieldLabel(e)),this.sourceBlock_.svg_&&e.init(this.sourceBlock_),e.name=t,e.prefixTitle&&this.appendTitle(e.prefixTitle),this.titleRow.push(e),e.suffixTitle&&this.appendTitle(e.suffixTitle),this.sourceBlock_.rendered&&(this.sourceBlock_.render(),this.sourceBlock_.bumpNeighbours())),this},Blockly.Input.prototype.isVisible=function(){return this.visible_},Blockly.Input.prototype.setVisible=function(e){var t=[];if(this.visible_==e)return t;for(var o,n=(this.visible_=e)?"block":"none",r=0;o=this.titleRow[r];r++)o.setVisible(e);return this.connection&&(t=e?this.connection.unhideAll():this.connection.hideAll(),r=this.connection.targetBlock())&&(r.svg_.getRootElement().style.display=n,e||(r.rendered=!1)),t},Blockly.Input.prototype.setStrictCheck=function(e){if(!this.connection)throw"This input does not have a connection.";return this.connection.setStrictCheck(e),this},Blockly.Input.prototype.setCheck=function(e){if(!this.connection)throw"This input does not have a connection.";return this.connection.setCheck(e),this},Blockly.Input.prototype.addFieldHelper=function(e,t){if(this.type!==Blockly.INPUT_VALUE)throw"Only Value Inputs can be augmented with helpers";return this.connection.addFieldHelper(e,t),this},Blockly.Input.prototype.setAlign=function(e){return this.align=e,this.sourceBlock_.rendered&&this.sourceBlock_.render(),this},Blockly.Input.prototype.init=function(){for(var e=0;e<this.titleRow.length;e++)this.titleRow[e].init(this.sourceBlock_)},Blockly.Input.prototype.dispose=function(){for(var e,t=0;e=this.titleRow[t];t++)e.dispose();this.connection&&this.connection.dispose(),this.sourceBlock_=null},Blockly.Input.prototype.setInline=function(e){if(void 0===e&&(e=!0),this.inline_=e,this.type===Blockly.NEXT_STATEMENT&&e)throw"Can't inline next statement";return this},Blockly.Input.prototype.isInline=function(){return this.type!==Blockly.NEXT_STATEMENT&&(this.inline_||this.sourceBlock_.inputsInline)},Blockly.Input.prototype.setHSV=function(e,t,o){if(this.type!==Blockly.FUNCTIONAL_INPUT)throw"setColor only for functional inputs";return this.colour_={hue:e,saturation:t,value:o},this},Blockly.Input.prototype.getHexColour=function(){return Blockly.makeColour(this.colour_.hue,this.colour_.saturation,this.colour_.value)},Blockly.Input.prototype.getStatementTrailingSpace=function(){return this.statementTrailingSpace_},Blockly.Input.prototype.matchesBlock=function(e){return e.getColour()===this.colour_.hue&&e.getSaturation()===this.colour_.saturation&&e.getValue()===this.colour_.value},Blockly.Msg={},Blockly.Bubble=function(e,t,o,n,r,i,a,s){var l=Blockly.Bubble.ARROW_ANGLE;if(Blockly.RTL&&(l=-l),this.arrow_radians_=l/360*Math.PI*2,this.blockSpace_=e,this.content_=t,this.shape_=o,this.dragCanvas_=s,e.getBubbleCanvas().appendChild(this.createDom_(t,!(!i||!a))),this.setAnchorLocation(n,r),!i||!a){try{var c=t.getBBox()}catch(e){c=this.blockSpace_.getCanvas().getBBox()}i=c.width+2*Blockly.Bubble.BORDER_WIDTH,a=c.height+2*Blockly.Bubble.BORDER_WIDTH}this.setBubbleSize(i,a),this.positionBubble_(),this.renderArrow_(),this.rendered_=!0,e.isReadOnly()||(Blockly.bindEvent_(this.bubbleBack_,"mousedown",this,this.bubbleMouseDown_),this.resizeGroup_&&Blockly.bindEvent_(this.resizeGroup_,"mousedown",this,this.resizeMouseDown_))},Blockly.Bubble.BORDER_WIDTH=6,Blockly.Bubble.ARROW_THICKNESS=10,Blockly.Bubble.ARROW_ANGLE=20,Blockly.Bubble.ARROW_BEND=4,Blockly.Bubble.ANCHOR_RADIUS=8,Blockly.Bubble.onMouseUpWrapper_=null,Blockly.Bubble.onMouseMoveWrapper_=null,Blockly.Bubble.unbindDragEvents_=function(){Blockly.Bubble.onMouseUpWrapper_&&(Blockly.unbindEvent_(Blockly.Bubble.onMouseUpWrapper_),Blockly.Bubble.onMouseUpWrapper_=null),Blockly.Bubble.onMouseMoveWrapper_&&(Blockly.unbindEvent_(Blockly.Bubble.onMouseMoveWrapper_),Blockly.Bubble.onMouseMoveWrapper_=null)},Blockly.Bubble.prototype.rendered_=!1,Blockly.Bubble.prototype.anchorX_=0,Blockly.Bubble.prototype.anchorY_=0,Blockly.Bubble.prototype.relativeLeft_=0,Blockly.Bubble.prototype.relativeTop_=0,Blockly.Bubble.prototype.width_=0,Blockly.Bubble.prototype.height_=0,Blockly.Bubble.prototype.autoLayout_=!0,Blockly.Bubble.prototype.createDom_=function(e,t){this.bubbleGroup_=Blockly.createSvgElement("g",{},null);var o=Blockly.createSvgElement("g",{filter:"url(#blocklyEmboss)"},this.bubbleGroup_);return this.bubbleArrow_=Blockly.createSvgElement("path",{},o),this.bubbleBack_=Blockly.createSvgElement("rect",{class:"blocklyDraggable",x:0,y:0,rx:Blockly.Bubble.BORDER_WIDTH,ry:Blockly.Bubble.BORDER_WIDTH},o),t?(this.resizeGroup_=Blockly.createSvgElement("g",{class:Blockly.RTL?"blocklyResizeSW":"blocklyResizeSE"},this.bubbleGroup_),t=2*Blockly.Bubble.BORDER_WIDTH,Blockly.createSvgElement("polygon",{points:"0,x x,x x,0".replace(/x/g,t.toString())},this.resizeGroup_),Blockly.createSvgElement("line",{class:"blocklyResizeLine",x1:t/3,y1:t-1,x2:t-1,y2:t/3},this.resizeGroup_),Blockly.createSvgElement("line",{class:"blocklyResizeLine",x1:2*t/3,y1:t-1,x2:t-1,y2:2*t/3},this.resizeGroup_)):this.resizeGroup_=null,this.bubbleGroup_.appendChild(e),this.bubbleGroup_},Blockly.Bubble.prototype.bubbleMouseDown_=function(e){this.promote_(),Blockly.Bubble.unbindDragEvents_(),Blockly.isRightButton(e)||Blockly.isTargetInput(e)||(this.blockSpace_.blockSpaceEditor.setCursor(Blockly.Css.Cursor.CLOSED),this.dragDeltaX=Blockly.RTL?this.relativeLeft_+e.clientX:this.relativeLeft_-e.clientX,this.dragDeltaY=this.relativeTop_-e.clientY,Blockly.Bubble.onMouseUpWrapper_=Blockly.bindEvent_(document,"mouseup",this,Blockly.Bubble.unbindDragEvents_),Blockly.Bubble.onMouseMoveWrapper_=Blockly.bindEvent_(document,"mousemove",this,this.bubbleMouseMove_),this.blockSpace_.blockSpaceEditor.hideChaff(),e.stopPropagation())},Blockly.Bubble.prototype.bubbleMouseMove_=function(e){this.autoLayout_=!1,this.relativeLeft_=Blockly.RTL?this.dragDeltaX-e.clientX:this.dragDeltaX+e.clientX,this.relativeTop_=this.dragDeltaY+e.clientY,this.positionBubble_(),this.renderArrow_()},Blockly.Bubble.prototype.resizeMouseDown_=function(e){this.promote_(),Blockly.Bubble.unbindDragEvents_(),Blockly.isRightButton(e)||(this.blockSpace_.blockSpaceEditor.setCursor(Blockly.Css.Cursor.CLOSED),this.resizeDeltaWidth=Blockly.RTL?this.width_+e.clientX:this.width_-e.clientX,this.resizeDeltaHeight=this.height_-e.clientY,Blockly.Bubble.onMouseUpWrapper_=Blockly.bindEvent_(document,"mouseup",this,Blockly.Bubble.unbindDragEvents_),Blockly.Bubble.onMouseMoveWrapper_=Blockly.bindEvent_(document,"mousemove",this,this.resizeMouseMove_),this.blockSpace_.blockSpaceEditor.hideChaff(),e.stopPropagation())},Blockly.Bubble.prototype.resizeMouseMove_=function(e){this.autoLayout_=!1;var t=this.resizeDeltaWidth,o=this.resizeDeltaHeight+e.clientY;t=Blockly.RTL?t-e.clientX:t+e.clientX,this.setBubbleSize(t,o),Blockly.RTL&&this.positionBubble_()},Blockly.Bubble.prototype.registerResizeEvent=function(e,t){Blockly.bindEvent_(this.bubbleGroup_,"resize",e,t)},Blockly.Bubble.prototype.promote_=function(){this.bubbleGroup_.parentNode.appendChild(this.bubbleGroup_)},Blockly.Bubble.prototype.setAnchorLocation=function(e,t){this.anchorX_=e,this.anchorY_=t,this.rendered_&&this.positionBubble_()},Blockly.Bubble.prototype.layoutBubble_=function(){var e=-this.width_/4,t=-this.height_-Blockly.BlockSvg.MIN_BLOCK_Y;if(this.blockSpace_.scrollbarPair){var o=this.blockSpace_.getMetrics();this.anchorX_+e<Blockly.BlockSvg.SEP_SPACE_X+o.viewLeft?e=Blockly.BlockSvg.SEP_SPACE_X+o.viewLeft-this.anchorX_:o.viewLeft+o.viewWidth<this.anchorX_+e+this.width_+Blockly.BlockSvg.SEP_SPACE_X+Blockly.Scrollbar.scrollbarThickness&&(e=o.viewLeft+o.viewWidth-this.anchorX_-this.width_-Blockly.BlockSvg.SEP_SPACE_X-Blockly.Scrollbar.scrollbarThickness),this.anchorY_+t<Blockly.BlockSvg.SEP_SPACE_Y+o.viewTop&&(t=(t=0<=navigator.userAgent.indexOf("MSIE")||0<=navigator.userAgent.indexOf("Trident")?(this.shape_.style.display="inline",{x:this.shape_.getBBox().x,y:this.shape_.getBBox().y,width:this.shape_.scrollWidth,height:this.shape_.scrollHeight}):this.shape_.getBBox()).height)}this.relativeLeft_=e,this.relativeTop_=t},Blockly.Bubble.prototype.positionBubble_=function(){this.bubbleGroup_.setAttribute("transform","translate("+(Blockly.RTL?this.anchorX_-this.relativeLeft_-this.width_:this.anchorX_+this.relativeLeft_)+", "+(this.relativeTop_+this.anchorY_)+")");var e=Blockly.convertCoordinates(Blockly.RTL?this.blockSpaceWidth_:0,0,this.content_,!1);this.dragCanvas_.setAttribute("transform","translate("+e.x+","+e.y+")")},Blockly.Bubble.prototype.getBubbleSize=function(){return{width:this.width_,height:this.height_}},Blockly.Bubble.prototype.setBubbleSize=function(e,t){var o=2*Blockly.Bubble.BORDER_WIDTH;e=Math.max(e,45+o),t=Math.max(t,o+Blockly.BlockSvg.TITLE_HEIGHT),this.width_=e,this.height_=t,this.bubbleBack_.setAttribute("width",e),this.bubbleBack_.setAttribute("height",t),this.resizeGroup_&&(Blockly.RTL?this.resizeGroup_.setAttribute("transform","translate("+2*Blockly.Bubble.BORDER_WIDTH+", "+(t-o)+") scale(-1 1)"):this.resizeGroup_.setAttribute("transform","translate("+(e-o)+", "+(t-o)+")")),this.rendered_&&(this.autoLayout_&&this.layoutBubble_(),this.positionBubble_(),this.renderArrow_()),Blockly.fireUiEvent(this.bubbleGroup_,"resize")},Blockly.Bubble.prototype.renderArrow_=function(){var e=[],t=this.width_/2,o=this.height_/2,n=-this.relativeLeft_,r=-this.relativeTop_;if(t==n&&o==r)e.push("M "+t+","+o);else{r-=o,n-=t,Blockly.RTL&&(n*=-1);var i=Math.sqrt(r*r+n*n),a=Math.acos(n/i);r<0&&(a=2*Math.PI-a);var s=a+Math.PI/2;s>2*Math.PI&&(s-=2*Math.PI);var l=Math.sin(s),c=Math.cos(s),u=this.getBubbleSize();s=(u.width+u.height)/Blockly.Bubble.ARROW_THICKNESS,s=Math.min(s,u.width,u.height)/2,n=t+(u=1-Blockly.Bubble.ANCHOR_RADIUS/i)*n,r=o+u*r,u=t+s*c;var d=o+s*l;t-=s*c,o-=s*l,(l=a+this.arrow_radians_)>2*Math.PI&&(l-=2*Math.PI),a=Math.sin(l)*i/Blockly.Bubble.ARROW_BEND,i=Math.cos(l)*i/Blockly.Bubble.ARROW_BEND,e.push("M"+u+","+d),e.push("C"+(u+i)+","+(d+a)+" "+n+","+r+" "+n+","+r),e.push("C"+n+","+r+" "+(t+i)+","+(o+a)+" "+t+","+o)}e.push("z"),this.bubbleArrow_.setAttribute("d",e.join(" "))},Blockly.Bubble.prototype.setColour=function(e){this.bubbleBack_.setAttribute("fill",e),this.bubbleArrow_.setAttribute("fill",e)},Blockly.Bubble.prototype.dispose=function(){Blockly.Bubble.unbindDragEvents_(),goog.dom.removeNode(this.bubbleGroup_),this.shape_=this.content_=this.blockSpace_=this.bubbleGroup_=null},Blockly.Icon=function(e){this.block_=e},Blockly.Icon.RADIUS=8,Blockly.Icon.prototype.bubble_=null,Blockly.Icon.prototype.iconX_=0,Blockly.Icon.prototype.iconY_=0,Blockly.Icon.prototype.createIcon_=function(){this.iconGroup_=Blockly.createSvgElement("g",{},null),this.block_.getSvgRoot().appendChild(this.iconGroup_),Blockly.bindEvent_(this.iconGroup_,"mouseup",this,this.iconClick_),this.updateEditable()},Blockly.Icon.prototype.dispose=function(){goog.dom.removeNode(this.iconGroup_),this.iconGroup_=null,this.setVisible(!1),this.block_=null},Blockly.Icon.prototype.updateEditable=function(){this.block_.isEditable()&&!this.block_.isInFlyout?Blockly.addClass_(this.iconGroup_,"blocklyIconGroup"):Blockly.removeClass_(this.iconGroup_,"blocklyIconGroup")},Blockly.Icon.prototype.isVisible=function(){return!!this.bubble_},Blockly.Icon.prototype.iconClick_=function(e){this.block_.isEditable()&&!this.block_.isInFlyout&&this.setVisible(!this.isVisible())},Blockly.Icon.prototype.updateColour=function(){this.isVisible()&&this.bubble_.setColour(this.block_.getHexColour())},Blockly.Icon.prototype.renderIcon=function(e){if(this.block_.isCollapsed())return this.iconGroup_.setAttribute("display","none"),e;this.iconGroup_.setAttribute("display","block");var t=2*Blockly.Icon.RADIUS;return Blockly.RTL&&(e-=t),this.iconGroup_.setAttribute("transform","translate("+e+", 5)"),this.computeIconLocation(),Blockly.RTL?e-Blockly.BlockSvg.SEP_SPACE_X:e+(t+Blockly.BlockSvg.SEP_SPACE_X)},Blockly.Icon.prototype.setIconLocation=function(e,t){this.iconX_=e,this.iconY_=t,this.isVisible()&&this.bubble_.setAnchorLocation(e,t)},Blockly.Icon.prototype.computeIconLocation=function(){var e=this.block_.getRelativeToSurfaceXY(),t=Blockly.getRelativeXY(this.iconGroup_),o=e.x+t.x+Blockly.Icon.RADIUS;e=e.y+t.y+Blockly.Icon.RADIUS,o===this.iconX_&&e===this.iconY_||this.setIconLocation(o,e)},Blockly.Icon.prototype.getIconLocation=function(){return{x:this.iconX_,y:this.iconY_}},Blockly.Mutator=function(e){Blockly.Mutator.superClass_.constructor.call(this,null),this.quarkXml_=[];for(var t=0;t<e.length;t++){var o=goog.dom.createDom("block",{type:e[t]});this.quarkXml_[t]=o}},goog.inherits(Blockly.Mutator,Blockly.Icon),Blockly.Mutator.prototype.blockSpaceWidth_=0,Blockly.Mutator.prototype.blockSpaceHeight_=0,Blockly.Mutator.prototype.createIcon=function(){Blockly.Icon.prototype.createIcon_.call(this);var e=Blockly.Icon.RADIUS/2;Blockly.createSvgElement("rect",{class:"blocklyIconShield",width:4*e,height:4*e,rx:e,ry:e},this.iconGroup_),this.iconMark_=Blockly.createSvgElement("text",{class:"blocklyIconMark",x:Blockly.Icon.RADIUS,y:2*Blockly.Icon.RADIUS-4},this.iconGroup_),this.iconMark_.appendChild(document.createTextNode("★"))},Blockly.Mutator.prototype.createEditor_=function(){this.svgDialog_=Blockly.createSvgElement("svg",{x:Blockly.Bubble.BORDER_WIDTH,y:Blockly.Bubble.BORDER_WIDTH},null),this.svgBackground_=Blockly.createSvgElement("rect",{class:"blocklyMutatorBackground",height:"100%",width:"100%"},this.svgDialog_);var e=this,t=this.block_.blockSpace.blockSpaceEditor;return this.blockSpace_=new Blockly.BlockSpace(t,function(){return e.getFlyoutMetrics_()},null),this.blockSpace_.flyout_=new Blockly.Flyout(t),this.blockSpace_.flyout_.autoClose=!1,this.svgDialog_.appendChild(this.blockSpace_.flyout_.createDom()),this.svgDialog_.appendChild(this.blockSpace_.createDom()),this.svgDialog_},Blockly.Mutator.prototype.resizeBubble_=function(){var e=2*Blockly.Bubble.BORDER_WIDTH,t=this.blockSpace_.getCanvas().getBBox(),o=this.blockSpace_.flyout_.getMetrics_(),n=Blockly.RTL?-t.x:t.width+t.x;t=Math.max(t.height+3*e,o.contentHeight+20),n+=3*e,(Math.abs(this.blockSpaceWidth_-n)>e||Math.abs(this.blockSpaceHeight_-t)>e)&&(this.blockSpaceWidth_=n,this.blockSpaceHeight_=t,this.bubble_.setBubbleSize(n+e,t+e),this.svgDialog_.setAttribute("width",this.blockSpaceWidth_),this.svgDialog_.setAttribute("height",this.blockSpaceHeight_)),Blockly.RTL&&(e="translate("+this.blockSpaceWidth_+",0)",this.blockSpace_.getCanvas().setAttribute("transform",e)),e=Blockly.convertCoordinates(Blockly.RTL?this.blockSpaceWidth_:0,0,this.svgDialog_,!1),this.blockSpace_.getDragCanvas().setAttribute("transform","translate("+e.x+","+e.y+")")},Blockly.Mutator.prototype.setVisible=function(e){if(e!=this.isVisible())if(e){this.createEditor_(),this.bubble_=new Blockly.Bubble(this.block_.blockSpace,this.svgDialog_,this.block_.svg_.svgGroup_,this.iconX_,this.iconY_,null,null,this.blockSpace_.getDragCanvas());var t=this;this.blockSpace_.flyout_.init(this.blockSpace_,!1),this.blockSpace_.flyout_.show(this.quarkXml_),this.rootBlock_=this.block_.decompose(this.blockSpace_),e=this.rootBlock_.getDescendants();for(var o,n=0;o=e[n];n++)o.render();this.rootBlock_.setMovable(!1),this.rootBlock_.setDeletable(!1),e=2*this.blockSpace_.flyout_.CORNER_RADIUS,n=this.blockSpace_.flyout_.width_+e,Blockly.RTL&&(n=-n),this.rootBlock_.moveBy(n,e),this.block_.saveConnections&&(this.block_.saveConnections(this.rootBlock_),this.sourceListener_=Blockly.bindEvent_(this.block_.blockSpace.getCanvas(),"blocklyBlockSpaceChange",this.block_,function(){t.block_.saveConnections(t.rootBlock_)})),this.resizeBubble_(),Blockly.bindEvent_(this.blockSpace_.getCanvas(),"blocklyBlockSpaceChange",this.block_,function(){t.blockSpaceChanged_()}),this.updateColour()}else this.svgBackground_=this.svgDialog_=null,this.blockSpace_.dispose(),this.rootBlock_=this.blockSpace_=null,this.bubble_.dispose(),this.bubble_=null,this.blockSpaceHeight_=this.blockSpaceWidth_=0,this.sourceListener_&&(Blockly.unbindEvent_(this.sourceListener_),this.sourceListener_=null)},Blockly.Mutator.prototype.blockSpaceChanged_=function(){if(this.blockSpace_){if(!Blockly.Block.isDragging())for(var e,t=this.blockSpace_.getTopBlocks(!1),o=0;e=t[o];o++){var n=e.getRelativeToSurfaceXY(),r=e.getHeightWidth();n.y+r.height<20&&e.moveBy(0,20-r.height-n.y)}this.rootBlock_.blockSpace==this.blockSpace_&&(t=this.block_.rendered,this.block_.rendered=!1,this.block_.compose(this.rootBlock_),this.block_.rendered=t,this.block_.rendered&&this.block_.render(),Blockly.Block.isDragging()||this.resizeBubble_(),this.block_.blockSpace.fireChangeEvent())}},Blockly.Mutator.prototype.getFlyoutMetrics_=function(){var e=0;return Blockly.RTL&&(e+=this.blockSpaceWidth_),{viewHeight:this.blockSpaceHeight_,viewWidth:this.blockSpaceWidth_,absoluteTop:0,absoluteLeft:e}},Blockly.Mutator.prototype.dispose=function(){this.block_.mutator=null,Blockly.Icon.prototype.dispose.call(this)},Blockly.Warning=function(e){Blockly.Warning.superClass_.constructor.call(this,e),this.createIcon_()},goog.inherits(Blockly.Warning,Blockly.Icon),Blockly.Warning.prototype.text_="",Blockly.Warning.prototype.createIcon_=function(){Blockly.Icon.prototype.createIcon_.call(this),Blockly.createSvgElement("path",{class:"blocklyIconShield",d:"M 2,15 Q -1,15 0.5,12 L 6.5,1.7 Q 8,-1 9.5,1.7 L 15.5,12 Q 17,15 14,15 z"},this.iconGroup_),this.iconMark_=Blockly.createSvgElement("text",{class:"blocklyIconMark",x:Blockly.Icon.RADIUS,y:2*Blockly.Icon.RADIUS-3},this.iconGroup_),this.iconMark_.appendChild(document.createTextNode("!"))},Blockly.Warning.prototype.textToDom_=function(e){var t=Blockly.createSvgElement("text",{class:"blocklyText",y:Blockly.Bubble.BORDER_WIDTH},null);e=e.split("\n");for(var o=0;o<e.length;o++){var n=Blockly.createSvgElement("tspan",{dy:"1em",x:Blockly.Bubble.BORDER_WIDTH},t),r=document.createTextNode(e[o]);n.appendChild(r)}return t},Blockly.Warning.prototype.setVisible=function(e){if(e!=this.isVisible())if(e){if(e=this.textToDom_(this.text_),this.bubble_=new Blockly.Bubble(this.block_.blockSpace,e,this.block_.svg_.svgGroup_,this.iconX_,this.iconY_,null,null),Blockly.RTL){if(0<=navigator.userAgent.indexOf("MSIE")||0<=navigator.userAgent.indexOf("Trident")){e.style.display="inline";var t=[e.getBBox().x,e.getBBox().y,e.scrollWidth,e.scrollHeight][2]}else t=e.getBBox().width;for(var o,n=0;o=e.childNodes[n];n++)o.setAttribute("text-anchor","end"),o.setAttribute("x",t+Blockly.Bubble.BORDER_WIDTH)}this.updateColour(),e=this.bubble_.getBubbleSize(),this.bubble_.setBubbleSize(e.width,e.height)}else this.bubble_.dispose(),this.foreignObject_=this.body_=this.bubble_=null},Blockly.Warning.prototype.bodyFocus_=function(e){this.bubble_.promote_()},Blockly.Warning.prototype.setText=function(e){this.text_=e,this.isVisible()&&(this.setVisible(!1),this.setVisible(!0))},Blockly.Warning.prototype.dispose=function(){this.block_.warning=null,Blockly.Icon.prototype.dispose.call(this)},Blockly.uidCounter_=0,Blockly.Block=function(e,t,o){this.id=++Blockly.uidCounter_,this.htmlId=o,this.previousConnection=this.nextConnection=this.outputConnection=null,this.inputList=[],this.disabled=this.rendered=this.inputsInline=!1,this.tooltip="",this.contextMenu=!0,this.parentBlock_=null,this.childBlocks_=[],this.userVisible_=this.editable_=this.movable_=this.deletable_=!0,this.currentlyHidden_=this.dragging_=this.collapsed_=this.nextConnectionDisabled_=!1,this.canDisconnectFromParent_=!0,this.editLabel_=null,this.blockSpace=e,this.isInFlyout=e.isFlyout,this.colourSaturation_=.45,this.colourValue_=.65,this.fillPattern_=null,this.blockSvgClass_=Blockly.BlockSvg,this.customOptions_={},this.beforeDispose=null,this.setRenderBlockSpace(e),t&&(this.type=t,(e=Blockly.Blocks[t])||(Blockly.fireUiEvent(window,"unknownBlock",{name:t}),e=Blockly.Blocks.unknown,this.appendDummyInput().appendTitle("unknown: "+t),console.warn('Warning: "'+t+'" is an unknown language block.')),goog.mixin(this,e)),goog.isFunction(this.init)&&this.init(),this.shouldHideIfInMainBlockSpace&&this.shouldHideIfInMainBlockSpace()&&this.blockSpace===Blockly.mainBlockSpace&&this.setCurrentlyHidden(!0),this.handleBlockLimitChanges(),this.blockEvents=new goog.events.EventTarget},Blockly.Block.EVENTS={AFTER_DISPOSED:"afterDisposed",AFTER_DROPPED:"afterDropped"},Blockly.Block.prototype.svg_=null,Blockly.Block.prototype.mutator=null,Blockly.Block.prototype.warning=null,Blockly.Block.prototype.init=null,Blockly.Block.prototype.onchange=null,Blockly.Block.prototype.handleBlockLimitChanges=function(){this.blockSpace&&this.blockSpace.blockSpaceEditor&&(Blockly.editBlocks?!this.isInFlyout:this.isInFlyout)&&this.blockSpace.blockSpaceEditor.blockLimits.events.listen("change",this.onBlockLimitChange.bind(this))},Blockly.Block.prototype.onBlockLimitChange=function(e){e.type===this.type&&this.svg_&&this.svg_.updateLimit(Blockly.editBlocks?e.limit:e.remaining)},Blockly.Block.prototype.setRenderBlockSpace=function(e){this.blockSpace=e,this.blockSpace.addTopBlock(this),goog.isFunction(this.onchange)&&Blockly.bindEvent_(this.blockSpace.getCanvas(),"blocklyBlockSpaceChange",this,this.onchange)},Blockly.Block.prototype.getIcons=function(){var e=[];return this.mutator&&e.push(this.mutator),this.warning&&e.push(this.warning),e},Blockly.Block.prototype.initSvg=function(){if(this.svg_=new this.blockSvgClass_(this,this.customOptions_),this.svg_.init(),this.blockSpace.isReadOnly()||(Blockly.bindEvent_(this.svg_.getRootElement(),"mousedown",this,this.onMouseDown_),Blockly.bindEvent_(this.svg_.getRootElement(),"focus",this,this.select.bind(this,!1))),this.setCurrentlyHidden(this.currentlyHidden_),this.moveToFrontOfMainCanvas_(),this.setIsUnused(),this.miniFlyoutBlocks){this.miniFlyout=new Blockly.HorizontalFlyout(this.blockSpace.blockSpaceEditor),this.miniFlyout.targetBlockSpace_=this.blockSpace;var e=this.miniFlyout.createDom(!0);this.svg_.getRootElement().append(e),this.miniFlyout.show(this.miniFlyoutBlocks),this.miniFlyout.softHide()}},Blockly.Block.prototype.initMiniFlyout=function(e){this.miniFlyoutBlocks=Blockly.Xml.textToDom(e).children},Blockly.Block.prototype.getSvgRoot=function(){return this.svg_&&this.svg_.getRootElement()},Blockly.Block.DRAG_MODE_NOT_DRAGGING=0,Blockly.Block.DRAG_MODE_INSIDE_STICKY_RADIUS=1,Blockly.Block.DRAG_MODE_FREELY_DRAGGING=2,Blockly.Block.dragMode_=Blockly.Block.DRAG_MODE_NOT_DRAGGING,Blockly.Block.isDragging=function(){return Blockly.Block.dragMode_!==Blockly.Block.DRAG_MODE_NOT_DRAGGING},Blockly.Block.isFreelyDragging=function(){return Blockly.Block.dragMode_===Blockly.Block.DRAG_MODE_FREELY_DRAGGING},Blockly.Block.startDragging=function(){Blockly.Block.dragMode_=Blockly.Block.DRAG_MODE_INSIDE_STICKY_RADIUS},Blockly.Block.onMouseUpWrapper_=null,Blockly.Block.onMouseMoveWrapper_=null,Blockly.Block.terminateDrag_=function(){Blockly.Block.onMouseUpWrapper_&&(Blockly.unbindEvent_(Blockly.Block.onMouseUpWrapper_),Blockly.Block.onMouseUpWrapper_=null),Blockly.Block.onMouseMoveWrapper_&&(Blockly.unbindEvent_(Blockly.Block.onMouseMoveWrapper_),Blockly.Block.onMouseMoveWrapper_=null);var e=Blockly.selected;if(Blockly.Block.isFreelyDragging()&&e){e.blockSpace.clearPickedUpBlockOrigin(),e.blockSpace.stopAutoScrolling();var t=e.getRelativeToSurfaceXY();e.moveConnections_(t.x-e.startDragX,t.y-e.startDragY),delete e.draggedBubbles_,e.setDragging_(!1),e.moveToFrontOfMainCanvas_(),e.render(),window.setTimeout(e.bumpNeighbours.bind(e),Blockly.BUMP_DELAY),e.blockSpace.blockSpaceEditor.bumpBlocksIntoBlockSpace(),e.blockSpace.scrollIntoView(e),Blockly.fireUiEvent(window,"resize")}e&&(e.blockSpace.fireChangeEvent(),e.blockSpace.blockSpaceEditor.setCursor(Blockly.Css.Cursor.OPEN)),Blockly.Block.dragMode_=Blockly.Block.DRAG_MODE_NOT_DRAGGING,e&&e.blockEvents.dispatchEvent(Blockly.Block.EVENTS.AFTER_DROPPED)},Blockly.Block.prototype.select=function(e){if(!this.svg_)throw"Block is not rendered.";Blockly.selected&&Blockly.selected.unselect(),(Blockly.selected=this).svg_.addSelect(!this.parentBlock_),e&&this.svg_.addSpotlight(),Blockly.fireUiEvent(this.blockSpace.getCanvas(),"blocklySelectChange")},Blockly.Block.prototype.unselect=function(){if(Blockly.selected===this){if(!this.svg_)throw"Block is not rendered.";Blockly.BlockSpaceEditor.terminateDrag_(),Blockly.selected=null,this.svg_.removeSelect(),this.svg_.removeSpotlight(),Blockly.fireUiEvent(this.blockSpace.getCanvas(),"blocklySelectChange")}},Blockly.Block.prototype.isCopyable=function(){return!0},Blockly.Block.prototype.dispose=function(e,t){for(goog.isFunction(this.beforeDispose)&&this.beforeDispose(),this.rendered=!1,this.unplug(e),t&&this.svg_&&this.svg_.disposeUiEffect(),e=goog.bind(this.blockSpace.updateScrollableSize,this.blockSpace),this.blockSpace.removeTopBlock(this),this.blockSpace=null,Blockly.selected==this&&(Blockly.selected=null,Blockly.BlockSpaceEditor.terminateDrag_()),Blockly.ContextMenu.currentBlock==this&&Blockly.ContextMenu.hide(),t=this.childBlocks_.length-1;0<=t;t--)this.childBlocks_[t].dispose(!1);var o=this.getIcons();for(t=0;t<o.length;t++)o[t].dispose();for(t=0;o=this.inputList[t];t++)o.dispose();for(this.inputList=[],o=this.getConnections_(!0),t=0;t<o.length;t++){var n=o[t];n.targetConnection&&n.disconnect(),o[t].dispose()}this.svg_&&(this.svg_.dispose(),this.svg_=null),this.blockEvents.dispatchEvent(Blockly.Block.EVENTS.AFTER_DISPOSED),e()},Blockly.Block.prototype.unplug=function(e,t){if(t=t&&!!this.getParent(),this.outputConnection)this.outputConnection.targetConnection&&this.setParent(null);else{var o=null;this.previousConnection&&this.previousConnection.targetConnection&&(o=this.previousConnection.targetConnection,this.setParent(null)),e&&this.nextConnection&&this.nextConnection.targetConnection&&(e=this.nextConnection.targetConnection,this.nextConnection.targetBlock().setParent(null),o&&o.connect(e))}t&&this.moveBy(Blockly.SNAP_RADIUS*(Blockly.RTL?-1:1),2*Blockly.SNAP_RADIUS)},Blockly.Block.prototype.getRelativeToSurfaceXY=function(){var e=0,t=0;if(this.svg_){var o=this.svg_.getRootElement();do{var n=Blockly.getRelativeXY(o);e+=n.x,t+=n.y,n=(o=o.parentNode)==this.blockSpace.getCanvas()||o==this.blockSpace.getDragCanvas()}while(o&&!n)}return{x:e,y:t}},Blockly.Block.prototype.moveTo=function(e,t){var o=this.getRelativeToSurfaceXY();this.svg_.getRootElement().setAttribute("transform","translate("+e+", "+t+")"),this.moveConnections_(e-o.x,t-o.y)},Blockly.Block.prototype.moveBy=function(e,t){var o=this.getRelativeToSurfaceXY();this.svg_.getRootElement().setAttribute("transform","translate("+(o.x+e)+", "+(o.y+t)+")"),this.moveConnections_(e,t)},Blockly.Block.prototype.getBox=function(){var e=this.getHeightWidth(),t=this.getRelativeToSurfaceXY();return this.outputConnection&&(t.x-=Blockly.BlockSvg.TAB_WIDTH),new goog.math.Box(t.y,t.x+e.width,t.y+e.height,t.x)},Blockly.Block.prototype.getSvgPadding=function(){return this.svg_&&this.svg_.getPadding()},Blockly.Block.prototype.getHeightWidth=function(){try{var e=Blockly.ieVersion()&&Blockly.ieVersion()<=10;if(e){var t=this.getSvgRoot().style.display;this.getSvgRoot().style.display="inline"}var o=goog.object.clone(this.getSvgRoot().getBBox());e&&(this.getSvgRoot().style.display=t)}catch(e){return{height:0,width:0}}return e=0,Blockly.BROKEN_CONTROL_POINTS&&(o.height-=10,this.nextConnection&&(o.height+=4),e=-5),0<o.height&&--o.height,o.height=Math.max(0,o.height+(o.y-e)),o},Blockly.Block.prototype.onMouseDown_=function(e){if(e.preventDefault(),"inputClickTarget"===(e.target.getAttribute&&e.target.getAttribute("class")))e.stopPropagation();else if(document.activeElement&&document.activeElement.blur&&document.activeElement.blur(),!this.isInFlyout){if(this.blockSpace.blockSpaceEditor.svgResize(),Blockly.BlockSpaceEditor.terminateDrag_(),this.select(),this.blockSpace.blockSpaceEditor.hideChaff(),Blockly.isRightButton(e))Blockly.editBlocks&&this.showContextMenu_(e);else{if(this.blockSpace.isMovementLocked()||!this.isMovable()||!this.canDisconnectFromParent())return;if(this.shouldCopyOnDrag()){var t=this.duplicate_();return t.setParentForCopyOnDrag(null),void t.onMouseDown_(e)}Blockly.removeAllRanges(),this.setIsUnused(!1),this.blockSpace.blockSpaceEditor.setCursor(Blockly.Css.Cursor.CLOSED),t=this.getRelativeToSurfaceXY(),this.startDragX=t.x,this.startDragY=t.y,void 0!==e.startDragMouseX_&&void 0!==e.startDragMouseY_?(this.startDragMouseX=e.startDragMouseX_,this.startDragMouseY=e.startDragMouseY_,e.startDragMouseX_=void 0,e.startDragMouseY_=void 0):(this.startDragMouseX=e.clientX,this.startDragMouseY=e.clientY),Blockly.Block.dragMode_=Blockly.Block.DRAG_MODE_INSIDE_STICKY_RADIUS,Blockly.Block.onMouseUpWrapper_=Blockly.bindEvent_(document,"mouseup",this,this.onMouseUp_),Blockly.Block.onMouseMoveWrapper_=Blockly.bindEvent_(document,"mousemove",this,this.onMouseMove_),this.draggedBubbles_=[],t=this.getDescendants();for(var o,n=0;o=t[n];n++){o=o.getIcons();for(var r=0;r<o.length;r++){var i=o[r].getIconLocation();i.bubble=o[r],this.draggedBubbles_.push(i)}}}e.stopPropagation()}},Blockly.Block.prototype.onMouseUp_=function(e){var t=this.blockSpace;Blockly.BlockSpaceEditor.terminateDrag_(),Blockly.selected&&Blockly.highlightedConnection_?(Blockly.localConnection_.connect(Blockly.highlightedConnection_),this.svg_&&(Blockly.localConnection_.isSuperior()?Blockly.highlightedConnection_:Blockly.localConnection_).sourceBlock_.svg_.connectionUiEffect(),t.trashcan&&t.trashcan.close()):Blockly.selected&&Blockly.selected.areBlockAndDescendantsDeletable()&&t.isDeleteArea(e.clientX,e.clientY,this.startDragMouseX)&&((e=t.trashcan)&&window.setTimeout(e.close.bind(e),100),Blockly.selected.dispose(!1,!0),Blockly.topLevelProcedureAutopopulate&&this.isFunctionDefinition()&&window.setTimeout(function(){t.blockSpaceEditor.updateFlyout()},0),Blockly.fireUiEvent(window,"resize")),Blockly.selected&&Blockly.selected.setIsUnused(),Blockly.highlightedConnection_&&(Blockly.highlightedConnection_.unhighlight(),Blockly.highlightedConnection_=null),t.hideDelete(),t.blockSpaceEditor.setCursor(Blockly.Css.Cursor.OPEN)},Blockly.Block.prototype.showHelp_=function(){var e=goog.isFunction(this.helpUrl)?this.helpUrl():this.helpUrl;e&&window.open(e)},Blockly.Block.prototype.duplicate_=function(){var e=Blockly.Xml.blockToDom(this);Blockly.Xml.deleteNext(e),e=Blockly.Xml.domToBlock(this.blockSpace,e);var t=this.getRelativeToSurfaceXY(),o=this.shouldCopyOnDrag()?1:Blockly.SNAP_RADIUS;return t.x=Blockly.RTL?t.x-o:t.x+o,t.y+=2*o,e.moveBy(t.x,t.y),e},Blockly.Block.prototype.showContextMenu_=function(e){if(!this.blockSpace.isReadOnly()&&this.contextMenu){var t=this,o=[];if(this.isDeletable()&&!t.isInFlyout){var n={text:Blockly.Msg.DUPLICATE_BLOCK,enabled:!0,callback:function(){t.duplicate_()}};this.getDescendants().length>this.blockSpace.remainingCapacity()&&(n.enabled=!1),o.push(n),n={text:this.disabled?Blockly.Msg.ENABLE_BLOCK:Blockly.Msg.DISABLE_BLOCK,enabled:!this.getInheritedDisabled(),callback:function(){t.setDisabled(!t.disabled)}},o.push(n),n=this.getDescendants().length,t.nextConnection&&t.nextConnection.targetConnection&&(n-=this.nextConnection.targetBlock().getDescendants().length),n={text:1==n?Blockly.Msg.DELETE_BLOCK:Blockly.Msg.DELETE_X_BLOCKS.replace("%1",n),enabled:!0,callback:function(){t.dispose(!0,!0)}},o.push(n)}Blockly.editBlocks&&(o.push({text:this.userVisible_?"Make Invisible to Users":"Make Visible to Users",enabled:!0,callback:function(){t.setUserVisible(!t.isUserVisible()),Blockly.ContextMenu.hide()}}),o.push({text:this.deletable_?"Make Undeletable to Users":"Make Deletable to Users",enabled:!0,callback:function(){t.setDeletable(!t.isDeletable()),Blockly.ContextMenu.hide()}}),o.push({text:this.movable_?"Make Immovable to Users":"Make Movable to Users",enabled:!0,callback:function(){t.setMovable(!t.isMovable()),Blockly.ContextMenu.hide()}}),o.push({text:this.nextConnectionDisabled_?"Enable Next Connection":"Disable Next Connection",enabled:!0,callback:function(){t.setNextConnectionDisabled(!t.nextConnectionDisabled_),Blockly.ContextMenu.hide()}}),o.push({text:this.editable_?"Make Uneditable":"Make editable",enabled:!0,callback:function(){t.setEditable(!t.isEditable()),Blockly.ContextMenu.hide()}}),o.push({text:this.canDisconnectFromParent_?"Lock to Parent Block":"Unlock from Parent Block",enabled:!0,callback:function(){t.setCanDisconnectFromParent(!t.canDisconnectFromParent_),Blockly.ContextMenu.hide()}}),n={text:"Set limit (current: "+(t.blockSpace.blockSpaceEditor.blockLimits.getLimit(t.type)||"none")+")",enabled:!0,callback:function(){t.blockSpace.blockSpaceEditor.blockLimits.setLimit(t.type,prompt("New Limit",t.blockSpace.blockSpaceEditor.blockLimits.getLimit(t.type)))}},o.push(n),this.getCustomContextMenuItems&&(o=o.concat(this.getCustomContextMenuItems()))),this.customContextMenu&&!t.isInFlyout&&this.customContextMenu(o),Blockly.ContextMenu.show(e,o),Blockly.ContextMenu.currentBlock=this}},Blockly.Block.prototype.getConnections_=function(e){var t=[];if((e||this.rendered)&&(this.outputConnection&&t.push(this.outputConnection),this.nextConnection&&t.push(this.nextConnection),this.previousConnection&&t.push(this.previousConnection),e||!this.collapsed_)){e=0;for(var o;o=this.inputList[e];e++)o.connection&&t.push(o.connection)}return t},Blockly.Block.prototype.getLeafConnections_=function(o){var n=this,r=[],t=[this.outputConnection,this.nextConnection,this.previousConnection];return this.inputList.forEach(function(e){t.push(e.connection)}),t.forEach(function(e){if(e){var t=e.targetBlock();t?t!==o&&(r=r.concat(t.getLeafConnections_(n))):r.push(e)}}),r},Blockly.Block.prototype.moveConnections_=function(e,t){if(this.rendered){for(var o=this.getConnections_(!1),n=0;n<o.length;n++)o[n].moveBy(e,t);for(o=this.getIcons(),n=0;n<o.length;n++)o[n].computeIconLocation();for(n=0;n<this.childBlocks_.length;n++)this.childBlocks_[n].moveConnections_(e,t)}},Blockly.Block.prototype.setDragging_=function(e){this.setDraggingHandleImmovable_(e,null)},Blockly.Block.prototype.getDragging=function(){return this.dragging_},Blockly.Block.prototype.setDraggingHandleImmovable_=function(e,t){e?(this.dragging_=!0,this.svg_.addDragging()):(this.dragging_=!1,this.svg_.removeDragging());for(var o=0;o<this.childBlocks_.length;o++){var n=this.childBlocks_[o];if(e&&null!==t&&!n.isMovable()){t(n);break}n.setDraggingHandleImmovable_(e,t)}},Blockly.Block.prototype.setCanDisconnectFromParent=function(e){this.canDisconnectFromParent_=e},Blockly.Block.prototype.canDisconnectFromParent=function(){return this.canDisconnectFromParent_},Blockly.Block.prototype.moveToDragCanvas_=function(){this.svg_&&this.blockSpace.moveElementToDragCanvas(this.svg_.getRootElement())},Blockly.Block.prototype.moveToFrontOfMainCanvas_=function(){this.svg_&&this.blockSpace.moveElementToMainCanvas(this.svg_.getRootElement())},Blockly.Block.prototype.moveBlockBeingDragged_=function(e,t,o){Blockly.removeAllRanges();var n=e-this.startDragMouseX,r=t-this.startDragMouseY;if(Blockly.Block.dragMode_==Blockly.Block.DRAG_MODE_INSIDE_STICKY_RADIUS&&Math.sqrt(Math.pow(n,2)+Math.pow(r,2))>Blockly.DRAG_RADIUS){Blockly.Block.dragMode_=Blockly.Block.DRAG_MODE_FREELY_DRAGGING;var i=this.generateReconnector_(this.previousConnection);o&&this.unplug(!0,!1),this.setParent(null),this.setDraggingHandleImmovable_(!0,i),this.moveToDragCanvas_(),this.blockSpace.recordPickedUpBlockOrigin(),this.blockSpace.recordDeleteAreas()}if(Blockly.Block.dragMode_==Blockly.Block.DRAG_MODE_FREELY_DRAGGING){for(o=this.startDragX+n,i=this.startDragY+r,this.svg_.getRootElement().setAttribute("transform","translate("+o+", "+i+")"),o=0;o<this.draggedBubbles_.length;o++)(i=this.draggedBubbles_[o]).bubble.setIconLocation(i.x+n,i.y+r);var a=this.getLeafConnections_(null),s=i=null,l=Blockly.SNAP_RADIUS;for(o=0;o<a.length;o++){var c=a[o],u=c.closest(l,n,r);u.connection&&(i=u.connection,s=c,l=u.radius)}n=null,Blockly.highlightedConnection_&&Blockly.highlightedConnection_!=i&&(Blockly.highlightedConnection_.unhighlight(),(n=Blockly.highlightedConnection_).sourceBlock_.pendingConnection(n,i),Blockly.highlightedConnection_=null,Blockly.localConnection_=null),i&&i!=Blockly.highlightedConnection_&&(i.highlight(),(Blockly.highlightedConnection_=i).sourceBlock_.pendingConnection(n,i),Blockly.localConnection_=s),n=!this.areBlockAndDescendantsDeletable(),this.blockSpace.isDeleteArea(e,t,this.startDragMouseX,n)}},Blockly.Block.prototype.pendingConnection=function(e,t){},Blockly.Block.prototype.onMouseMove_=function(e){"mousemove"==e.type&&e.clientX<=1&&0==e.clientY&&0==e.button||(this.moveBlockBeingDragged_(e.clientX,e.clientY,e.ctrlKey||e.metaKey),this.blockSpace.panIfOverEdge(this,e.clientX,e.clientY)),e.stopPropagation()},Blockly.Block.prototype.generateReconnector_=function(e){if(e&&e.targetConnection)var t=e.targetConnection;return function(e){e.previousConnection&&(e.setParent(null),t&&t.connect(e.previousConnection))}},Blockly.Block.prototype.bumpNeighbours=function(){if(!Blockly.Block.isDragging()&&Blockly.BUMP_UNCONNECTED){var e=this.getRootBlock();if(!e.isInFlyout)for(var t=this.getConnections_(!1),o=0;o<t.length;o++){var n=t[o];n.targetConnection&&n.isSuperior()&&n.targetBlock().bumpNeighbours();for(var r=n.neighbours_(Blockly.SNAP_RADIUS),i=0;i<r.length;i++){var a=r[i];if(!n.targetConnection||!a.targetConnection){var s=a.sourceBlock_.getRootBlock();if(s!==e){if(n.targetConnection&&!a.targetConnection)var l=!0;else l=!(!n.targetConnection&&a.targetConnection)&&(n.type!==a.type?n.isSuperior():(l=e.getRelativeToSurfaceXY().y)<(s=s.getRelativeToSurfaceXY().y));l?a.bumpAwayFrom_(n):n.bumpAwayFrom_(a)}}}}}},Blockly.Block.prototype.getParent=function(){return this.parentBlock_},Blockly.Block.prototype.getSurroundParent=function(){for(var e=this;;){do{var t=e;if(!(e=e.getParent()))return null}while(e.nextConnection&&e.nextConnection.targetBlock()==t);return e}},Blockly.Block.prototype.getRootBlock=function(){var e=this;do{var t=e;e=t.parentBlock_}while(e);return t},Blockly.Block.prototype.getChildren=function(){return this.childBlocks_},Blockly.Block.prototype.setParent=function(e){if(this.parentBlock_){for(var t,o=this.parentBlock_.childBlocks_,n=0;t=o[n];n++)if(t==this){o.splice(n,1);break}o=this.getRelativeToSurfaceXY(),this.moveToFrontOfMainCanvas_(),this.svg_.getRootElement().setAttribute("transform","translate("+o.x+", "+o.y+")"),this.parentBlock_=null,this.previousConnection&&this.previousConnection.targetConnection&&this.previousConnection.disconnect(),this.outputConnection&&this.outputConnection.targetConnection&&this.outputConnection.disconnect()}else this.blockSpace.removeTopBlock(this),this.setIsUnused();(this.parentBlock_=e)?(e.childBlocks_.push(this),e.getRelationalUpdateBlocks()&&this.blockSpace.render(),o=this.getRelativeToSurfaceXY(),t=e.getRelativeToSurfaceXY(),this.svg_.getRootElement().setAttribute("transform","translate("+(o.x-t.x)+", "+(o.y-t.y)+")"),e.svg_&&this.svg_&&e.svg_.getRootElement().appendChild(this.svg_.getRootElement()),e=this.getRelativeToSurfaceXY(),this.moveConnections_(e.x-o.x,e.y-o.y),this.shadowBlockValue_()):this.blockSpace.addTopBlock(this)},Blockly.Block.prototype.shadowBlockValue_=function(){if(this.blockToShadow_){var o=this.getRootBlock();o.childBlocks_.forEach(function(e){if(this.blockToShadow_===e.type){var t=this.inputList[0].titleRow[1];t.setText(e.inputList[0].titleRow[0].previewElement_.getAttribute("xlink:href")),o.addRelationalUpdate(t)}}.bind(this))}},Blockly.Block.prototype.addRelationalUpdate=function(e){this.relationalUpdate_||(this.relationalUpdate_=[]),this.relationalUpdate_.push(e)},Blockly.Block.prototype.getRelationalUpdateBlocks=function(){return this.relationalUpdate_},Blockly.Block.prototype.getDescendants=function(){for(var e,t=[this],o=0;e=this.childBlocks_[o];o++)t=t.concat(e.getDescendants());return t},Blockly.Block.prototype.areBlockAndDescendantsDeletable=function(){var e=this.childBlocks_.some(function(e){return!e.areBlockAndDescendantsDeletable()});return this.isDeletable()&&!e},Blockly.Block.prototype.isDeletable=function(){return this.deletable_&&!this.blockSpace.isReadOnly()},Blockly.Block.prototype.setDeletable=function(e){this.deletable_=e,this.svg_&&this.svg_.grayOut(this.shouldBeGrayedOut())},Blockly.Block.prototype.shouldBeGrayedOut=function(){return Blockly.grayOutUndeletableBlocks&&!this.isDeletable()&&!this.blockSpace.isReadOnly()},Blockly.Block.prototype.isMovable=function(){return this.movable_&&!this.blockSpace.isReadOnly()},Blockly.Block.prototype.setMovable=function(e){this.movable_=e,this.svg_&&this.svg_.updateMovable()},Blockly.Block.prototype.isEditable=function(){return this.editable_&&!this.blockSpace.isReadOnly()},Blockly.Block.prototype.setEditable=function(e){this.editable_=e;for(var t,o=0;t=this.inputList[o];o++)for(var n,r=0;n=t.titleRow[r];r++)n.updateEditable();for(t=this.getIcons(),o=0;o<t.length;o++)t[o].updateEditable();this.editLabel_&&this.editLabel_.setVisible(e)},Blockly.Block.prototype.isUserVisible=function(){return this.userVisible_},Blockly.Block.prototype.setUserVisible=function(t,o){(this.userVisible_=t)?this.svg_&&Blockly.removeClass_(this.svg_.svgGroup_,"userHidden"):this.svg_&&Blockly.addClass_(this.svg_.svgGroup_,"userHidden"),this.childBlocks_.forEach(function(e){e.setUserVisible(t,o)}),o&&t&&0===this.childBlocks_.length&&this.svg_&&this.render()},Blockly.Block.prototype.isNextConnectionDisabled=function(){return this.nextConnectionDisabled_},Blockly.Block.prototype.isFunctionDefinition=function(){return!!this.getProcedureInfo},Blockly.Block.prototype.setNextConnectionDisabled=function(e){(this.nextConnectionDisabled_=e)&&this.nextConnection&&this.nextConnection.targetConnection&&this.nextConnection.disconnect(),this.setNextStatement(!e)},Blockly.Block.prototype.isCurrentlyBeingDragged=function(){return Blockly.selected===this&&Blockly.Block.isDragging()},Blockly.Block.prototype.isCurrentlyHidden_=function(){return this.currentlyHidden_},Blockly.Block.prototype.setCurrentlyHidden=function(e){this.currentlyHidden_=e,this.svg_&&(this.svg_.setVisible(!e),e||this.refreshRender())},Blockly.Block.prototype.isVisible=function(){var e=(!this.parentBlock_||this.parentBlock_.isVisible())&&!this.isCurrentlyHidden_();return Blockly.editBlocks?e:e&&this.isUserVisible()},Blockly.Block.prototype.setHelpUrl=function(e){this.helpUrl=e},Blockly.Block.prototype.getHexColour=function(){return Blockly.makeColour(this.getColour(),this.getSaturation(),this.getValue())},Blockly.Block.prototype.getColour=function(){return this.colourHue_},Blockly.Block.prototype.getSaturation=function(){return this.colourSaturation_},Blockly.Block.prototype.getFillPattern=function(){return this.fillPattern_},Blockly.Block.prototype.isFramed=function(){return this.blockSvgClass_===Blockly.BlockSvgFramed},Blockly.Block.prototype.getValue=function(){return this.colourValue_},Blockly.Block.prototype.setColour=function(e){this.colourHue_=e,this.svg_&&this.svg_.updateColour();var t=this.getIcons();for(e=0;e<t.length;e++)t[e].updateColour();if(this.rendered){for(e=0;t=this.inputList[e];e++)for(var o,n=0;o=t.titleRow[n];n++)o.setText(null);this.render()}},Blockly.Block.prototype.setFillPattern=function(e){this.fillPattern_=e},Blockly.Block.prototype.setFramed=function(e){this.blockSvgClass_=e?Blockly.BlockSvgFramed:Blockly.BlockSvg},Blockly.Block.prototype.isUnused=function(){return this.svg_.isUnused()||this.isCurrentlyBeingDragged()},Blockly.Block.prototype.setIsUnused=function(e){void 0===e&&(e=!(null===this.previousConnection&&null===this.outputConnection)&&this.isUserVisible()&&"functional_definition"!==this.type&&Blockly.mainBlockSpace&&Blockly.mainBlockSpace.isTopBlock(this)),Blockly.showUnusedBlocks&&e!==this.svg_.isUnused()&&(this.svg_.setIsUnused(e),this.childBlocks_.forEach(function(e){e.setIsUnused(!1)}))},Blockly.Block.prototype.setFunctional=function(e,t){this.blockSvgClass_=e?Blockly.BlockSvgFunctional:Blockly.BlockSvg,this.customOptions_=e?t:{}},Blockly.Block.prototype.setHSV=function(e,t,o){for(this.colourHue_=e,this.colourSaturation_=t,this.colourValue_=o,this.svg_&&this.svg_.updateColour(),t=this.getIcons(),e=0;e<t.length;e++)t[e].updateColour();if(this.rendered){for(e=0;t=this.inputList[e];e++){o=0;for(var n;n=t.titleRow[o];o++)n.setText(null)}this.render()}},Blockly.Block.prototype.setParentForCopyOnDrag=function(e){this.copyOnDrag_=e},Blockly.Block.prototype.shouldCopyOnDrag=function(){var e=this.getParent();return this.copyOnDrag_&&!!e&&e.type===this.copyOnDrag_},Blockly.Block.prototype.setBlockToShadow=function(e){this.blockToShadow_=e},Blockly.Block.prototype.getTitle_=function(e){for(var t,o=0;t=this.inputList[o];o++)for(var n,r=0;n=t.titleRow[r];r++)if(n.name===e)return n;return null},Blockly.Block.prototype.getTitles=function(){for(var e,t=[],o=0;e=this.inputList[o];o++)for(var n,r=0;n=e.titleRow[r];r++)t.push(n);return t},Blockly.Block.prototype.getTitleValue=function(e){return(e=this.getTitle_(e))?e.getValue():null},Blockly.Block.prototype.setTitleValue=function(e,t){var o=this.getTitle_(t);o?o.setValue(e):(this.appendDummyInput().appendTitle(new Blockly.FieldTextInput(e),t),console.warn('Unknown title: "'+t+'" not found.'))},Blockly.Block.prototype.setFieldConfig=function(e,t){var o=this.getTitle_(e);o?o.setConfig&&o.setConfig(t):console.warn('Unknown field: "'+e+'" not found.')},Blockly.Block.prototype.setTooltip=function(e){this.tooltip=e},Blockly.Block.prototype.setPreviousStatement=function(e,t){if(this.previousConnection){if(this.previousConnection.targetConnection)throw"Must disconnect previous statement before removing connection.";this.previousConnection.dispose(),this.previousConnection=null}if(e){if(this.outputConnection)throw"Remove output connection prior to adding previous connection.";void 0===t&&(t=null),this.previousConnection=new Blockly.Connection(this,Blockly.PREVIOUS_STATEMENT),this.previousConnection.setCheck(t)}this.refreshRender()},Blockly.Block.prototype.setNextStatement=function(e,t){if(this.nextConnection){if(this.nextConnection.targetConnection)throw"Must disconnect next statement before removing connection.";this.nextConnection.dispose(),this.nextConnection=null}e&&(void 0===t&&(t=null),this.nextConnection=new Blockly.Connection(this,Blockly.NEXT_STATEMENT),this.nextConnection.setCheck(t)),this.refreshRender()},Blockly.Block.prototype.setStrictOutput=function(e,t){this.setOutput(e,t,!0)},Blockly.Block.prototype.setOutput=function(e,t,o){if(this.outputConnection){if(this.outputConnection.targetConnection)throw"Must disconnect output value before removing connection.";this.outputConnection.dispose(),this.outputConnection=null}if(e){if(this.previousConnection)throw"Remove previous connection prior to adding output connection.";void 0===t&&(t=null),this.outputConnection=new Blockly.Connection(this,Blockly.OUTPUT_VALUE),this.outputConnection.setCheck(t,o)}this.refreshRender()},Blockly.Block.prototype.refreshRender=function(){this.rendered&&(this.render(),this.bumpNeighbours())},Blockly.Block.prototype.setFunctionalOutput=function(e,t){if(this.previousConnection){if(this.previousConnection.targetConnection)throw"Must disconnect output value before removing connection.";this.previousConnection.dispose(),this.previousConnection=null}if(e){if(this.previousConnection)throw"Remove previous connection prior to adding output connection.";void 0===t&&(t=null),this.previousConnection=new Blockly.Connection(this,Blockly.FUNCTIONAL_OUTPUT),this.previousConnection.setCheck(t)}this.refreshRender()},Blockly.Block.prototype.changeFunctionalOutput=function(e){this.setHSV.apply(this,Blockly.FunctionalTypeColors[e]),this.previousConnection=this.previousConnection||new Blockly.Connection(this,Blockly.FUNCTIONAL_OUTPUT),this.previousConnection.setCheck(e),this.refreshRender()},Blockly.Block.prototype.setInputsInline=function(e){this.inputsInline=e,this.rendered&&(this.render(),this.bumpNeighbours(),this.blockSpace.fireChangeEvent())},Blockly.Block.prototype.setDisabled=function(e){this.disabled!=e&&(this.disabled=e,this.svg_.updateDisabled(),this.blockSpace.fireChangeEvent())},Blockly.Block.prototype.getInheritedDisabled=function(){for(var e=this;;){if(!(e=e.getSurroundParent()))return!1;if(e.disabled)return!0}},Blockly.Block.prototype.isCollapsed=function(){return this.collapsed_},Blockly.Block.prototype.setCollapsed=function(e){if(this.collapsed_!=e){this.collapsed_=e;for(var t,o=[],n=0;t=this.inputList[n];n++)o=o.concat(t.setVisible(!e));if(e){for(e=this.getIcons(),n=0;n<e.length;n++)e[n].setVisible(!1);n=this.toString(Blockly.COLLAPSE_CHARS),this.appendDummyInput("_TEMP_COLLAPSED_INPUT").appendTitle(n)}else this.removeInput("_TEMP_COLLAPSED_INPUT");if(o.length||(o[0]=this),this.rendered){for(n=0;e=o[n];n++)e.render();this.bumpNeighbours()}}},Blockly.Block.prototype.toString=function(e){for(var t,o=[],n=0;t=this.inputList[n];n++){for(var r,i=0;r=t.titleRow[i];i++)o.push(r.getText());t.connection&&((t=t.connection.targetBlock())?o.push(t.toString()):o.push("?"))}return o=goog.string.trim(o.join(" "))||"???",e&&(o=goog.string.truncate(o,e)),o},Blockly.Block.prototype.appendValueInput=function(e){return this.appendInput_(Blockly.INPUT_VALUE,e)},Blockly.Block.prototype.appendStatementInput=function(e,t){return this.appendInput_(Blockly.NEXT_STATEMENT,e,t||0)},Blockly.Block.prototype.appendDummyInput=function(e){return this.appendInput_(Blockly.DUMMY_INPUT,e||"")},Blockly.Block.prototype.appendFunctionalInput=function(e){return this.appendInput_(Blockly.FUNCTIONAL_INPUT,e)},Blockly.Block.prototype.interpolateMsg=function(e,t){goog.asserts.assertString(e);var o=arguments.length-1;goog.asserts.assertNumber(o);for(var n=e.split(/(%\d)/),r=0;r<n.length;r+=2){var i=goog.string.trim(n[r]),a=n[r+1];if(a){var s=arguments[a=window.parseInt(a.charAt(1),10)];"function"==typeof s?(this.appendDummyInput().appendTitle(i),s()):this.appendValueInput(s[0]).setCheck(s[1]).setAlign(s[2]).appendTitle(i),arguments[a]=null}else i&&this.appendDummyInput().setAlign(o).appendTitle(i)}for(r=1;r<arguments.length-1;r++)goog.asserts.assert(null===arguments[r],'Input "%%s" not used in message: "%s"',r,e);this.setInputsInline(!e.match(/%1\s*$/))},Blockly.Block.prototype.appendInput_=function(e,t,o){o=o||0;var n=null;return e!==Blockly.INPUT_VALUE&&e!==Blockly.NEXT_STATEMENT&&e!==Blockly.FUNCTIONAL_INPUT||(n=new Blockly.Connection(this,e)),e=new Blockly.Input(e,t,this,n,o),this.inputList.push(e),this.rendered&&(this.render(),this.bumpNeighbours()),e},Blockly.Block.prototype.moveInputBefore=function(e,t){if(e==t)throw"Can't move \""+e+'" to itself.';for(var o,n=-1,r=-1,i=0;o=this.inputList[i];i++)if(o.name==e){if(n=i,-1!=r)break}else if(o.name==t&&(r=i,-1!=n))break;if(-1==n)throw'Named input "'+e+'" not found.';if(-1==r)throw'Reference input "'+e+'" not found.';this.inputList.splice(n,1),n<r&&r--,this.inputList.splice(r,0,o),this.rendered&&(this.render(),this.bumpNeighbours())},Blockly.Block.prototype.removeInput=function(e,t){for(var o,n=0;o=this.inputList[n];n++)if(o.name==e)return o.connection&&(o.connection===Blockly.highlightedConnection_&&(o.connection.unhighlight(),Blockly.highlightedConnection_=null),o.connection.targetConnection&&o.connection.targetBlock().setParent(null)),o.dispose(),this.inputList.splice(n,1),void(this.rendered&&(this.render(),this.bumpNeighbours()));t||goog.asserts.fail('Input "%s" not found.',e)},Blockly.Block.prototype.getInput=function(e){for(var t,o=0;t=this.inputList[o];o++)if(t.name==e)return t;return null},Blockly.Block.prototype.getInputTargetBlock=function(e){return(e=this.getInput(e))&&e.connection&&e.connection.targetBlock()},Blockly.Block.prototype.attachBlockToInputName=function(e,t){if(!(t=this.getInput(t))||!t.connection)throw"Block has no input named "+name;e.previousConnection.connect(t.connection)},Blockly.Block.prototype.setMutator=function(e){this.mutator&&this.mutator!==e&&this.mutator.dispose(),e&&((e.block_=this).mutator=e,this.svg_&&e.createIcon())},Blockly.Block.prototype.setWarningText=function(e){if(!Blockly.Warning)throw"Warnings not supported.";this.isInFlyout&&(e=null);var t=!1;goog.isString(e)?(this.warning||(this.warning=new Blockly.Warning(this),t=!0),this.warning.setText(e)):this.warning&&(this.warning.dispose(),t=!0),t&&this.rendered&&(this.render(),this.bumpNeighbours())},Blockly.Block.prototype.setInputCount=function(e){this.inputCount=parseInt(e)},Blockly.Block.prototype.svgInitialized=function(){return!!this.svg_},Blockly.Block.prototype.render=function(e){if(!this.svg_)throw"Uninitialized block cannot be rendered.  Call block.initSvg()";this.shadowBlockValue_(),this.svg_.render(e),this.miniFlyout&&this.miniFlyout.position_()},Blockly.Block.prototype.getSvgRenderer=function(){return this.svg_},Blockly.Block.prototype.getRootBlock=function(){for(var e,t=this;t;)t=(e=t).getParent();return e},Blockly.Block.prototype.hasUnfilledFunctionalInput=function(){return this.inputList.some(function(e){return e.type===Blockly.FUNCTIONAL_INPUT&&e.connection&&!e.connection.targetBlock()})},Blockly.AngleHelper=function(e,t){t=t||{},this.lineColour_="#4d575f",this.strokeWidth_=3,this.arcColour_=t.arcColour||this.lineColour_,this.height_=t.height||150,this.width_=t.width||150,this.snapPoints_=t.snapPoints&&t.snapPoints.map(function(e){return Math.round(parseInt(e))}),this.onUpdate_=t.onUpdate,this.turnRight_="turnRight"===e,this.picker_={handleRadius:10,isDragging:!1,angle:t.angle||0,line:null,handle:null},this.background_={solidLine:null,dashedLine:null,ticks:[]},this.radius_=new goog.math.Vec2(Math.min(this.height_,this.width_)/2-this.picker_.handleRadius-this.strokeWidth_,0),this.center_=new goog.math.Vec2(this.width_/2,this.height_/2),this.picker_.handleCenter=this.center_.clone().add(this.radius_),this.picker_.handleCenter=goog.math.Vec2.rotateAroundPoint(this.picker_.handleCenter,this.center_,goog.math.toRadians(this.turnRight_?this.picker_.angle:-this.picker_.angle)),this.animationInterval_=this.rect_=this.svg_=this.arc_=null},Blockly.AngleHelper.prototype.animateAngleChange=function(t,e){var o=(e=e||200)/10,n=t-this.getAngle();e/=o=Math.min(Math.abs(n),o);var r=n/o;clearInterval(this.animationInterval_),this.animationInterval_=setInterval(function(){if(Math.abs(this.getAngle()-t)<1)this.setAngle(t),clearInterval(this.animationInterval_);else{var e=this.getAngle()+r;this.setAngle(e,!0)}}.bind(this),e)},Blockly.AngleHelper.prototype.setAngle=function(e,t){this.picker_.angle=t?e:this.snap_(e),this.update_()},Blockly.AngleHelper.prototype.getAngle=function(){return this.picker_.angle},Blockly.AngleHelper.prototype.init=function(e){for(this.svg_=Blockly.createSvgElement("svg",{xmlns:"http://www.w3.org/2000/svg","xmlns:html":"http://www.w3.org/1999/xhtml","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1",height:this.height_+"px",width:this.width_+"px",style:"background: rgb(255, 255, 255);"},e),this.rect_=this.svg_.getBoundingClientRect(),this.mouseMoveWrapper_=Blockly.bindEvent_(this.svg_,"mousemove",this,this.updateDrag_),this.mouseUpWrapper_=Blockly.bindEvent_(this.svg_,"mouseup",this,this.stopDrag_),this.mouseDownWrapper_=Blockly.bindEvent_(this.svg_,"mousedown",this,this.startDrag_),this.background_.solidLine=Blockly.createSvgElement("line",{stroke:this.lineColour_,"stroke-width":this.strokeWidth_,"stroke-linecap":"round",x1:this.center_.x,x2:this.center_.x-this.radius_.x,y1:this.center_.y,y2:this.center_.y},this.svg_),this.background_.dashedLine=Blockly.createSvgElement("line",{stroke:"#949ca2","stroke-width":this.strokeWidth_,"stroke-linecap":"round","stroke-dasharray":"6,6",x1:this.center_.x,x2:this.center_.x+this.radius_.x,y1:this.center_.y,y2:this.center_.y},this.svg_),this.arc_=Blockly.createSvgElement("path",{stroke:this.arcColour_,fill:"none","stroke-width":this.strokeWidth_},this.svg_),e=15;e<360;e+=15)this.background_.ticks.push(Blockly.createSvgElement("line",{"stroke-linecap":"round","stroke-opacity":(this.turnRight_?e<180:180<e)?1:.3,stroke:this.lineColour_,x1:this.center_.x+this.radius_.x,y1:this.center_.y,x2:this.center_.x+this.radius_.x-(0==e%90?15:0==e%45?10:5),y2:this.center_.y,class:"blocklyAngleMarks",transform:"rotate("+e+", "+this.center_.x+", "+this.center_.y+")"},this.svg_));this.picker_.line=Blockly.createSvgElement("line",{stroke:this.lineColour_,"stroke-width":this.strokeWidth_,"stroke-linecap":"round",x1:this.center_.x,x2:this.picker_.handleCenter.x,y1:this.center_.y,y2:this.picker_.handleCenter.y},this.svg_),this.picker_.handle=Blockly.createSvgElement("circle",{cx:this.picker_.handleCenter.x,cy:this.picker_.handleCenter.y,fill:"#a69bc1",r:this.picker_.handleRadius,stroke:this.lineColour_,"stroke-width":this.strokeWidth_,style:"cursor: move;"},this.svg_),this.update_()},Blockly.AngleHelper.prototype.update_=function(){this.picker_.handleCenter=goog.math.Vec2.rotateAroundPoint(this.center_.clone().add(this.radius_),this.center_,goog.math.toRadians(this.turnRight_?this.picker_.angle:-this.picker_.angle)),this.picker_.line.setAttribute("x2",this.picker_.handleCenter.x),this.picker_.line.setAttribute("y2",this.picker_.handleCenter.y),this.picker_.handle.setAttribute("cx",this.picker_.handleCenter.x),this.picker_.handle.setAttribute("cy",this.picker_.handleCenter.y),this.arc_.setAttribute("d",Blockly.AngleHelper.describeArc(this.center_,20,0,this.turnRight_?this.picker_.angle:-this.picker_.angle))},Blockly.AngleHelper.prototype.startDrag_=function(){this.picker_.isDragging=!0},Blockly.AngleHelper.prototype.updateDrag_=function(e){if(this.picker_.isDragging){var t=goog.math.angle(this.center_.x,this.center_.y,e.clientX-this.rect_.left,e.clientY-this.rect_.top);this.turnRight_||(t=goog.math.standardAngle(-t)),this.setAngle(t),this.onUpdate_&&this.onUpdate_(),e.stopPropagation(),e.preventDefault()}},Blockly.AngleHelper.prototype.stopDrag_=function(){this.picker_.isDragging=!1},Blockly.AngleHelper.prototype.snap_=function(o){return this.snapPoints_?this.snapPoints_.reduce(function(e,t){return Math.abs(goog.math.angleDifference(t,o))<Math.abs(goog.math.angleDifference(e,o))?t:e}):Math.round(o)},Blockly.AngleHelper.prototype.dispose=function(){this.mouseDownWrapper_&&(Blockly.unbindEvent_(this.mouseDownWrapper_),this.mouseDownWrapper_=null),this.mouseUpWrapper_&&(Blockly.unbindEvent_(this.mouseUpWrapper_),this.mouseUpWrapper_=null),this.mouseMoveWrapper_&&(Blockly.unbindEvent_(this.mouseMoveWrapper_),this.mouseMoveWrapper_=null),goog.dom.removeNode(this.svg_),this.svg_=this.background_=this.picker_=this.arc_=null},Blockly.AngleHelper.describeArc=function(e,t,o,n){var r=e.clone().add(new goog.math.Vec2(t,0)),i=goog.math.Vec2.rotateAroundPoint(r,e,goog.math.toRadians(o));return e=goog.math.Vec2.rotateAroundPoint(r,e,goog.math.toRadians(n)),r=180<Math.abs(o-n)?"1":"0",o=n-o<0?"0":"1",["M",i.x.toFixed(2),i.y.toFixed(2),"A",t,t,0,r,o,e.x.toFixed(2),e.y.toFixed(2)].join(" ")},Blockly.BlockFieldHelper={ANGLE_HELPER:"Angle Helper"},Blockly.FieldTextInput=function(e,t){Blockly.FieldTextInput.superClass_.constructor.call(this,e),this.changeHandler_=t,this.angleHelper=null},goog.inherits(Blockly.FieldTextInput,Blockly.Field),Blockly.FieldTextInput.prototype.CURSOR="text",Blockly.FieldTextInput.ANGLE_HELPER_SIZE=150,Blockly.FieldTextInput.prototype.dispose=function(){this.angleHelper&&this.angleHelper.dispose(),Blockly.WidgetDiv.hideIfOwner(this),Blockly.FieldTextInput.superClass_.dispose.call(this)},Blockly.FieldTextInput.prototype.setText=function(e){if(null!==e){if(this.changeHandler_){var t=this.changeHandler_(e);null!=t&&(e=t)}Blockly.Field.prototype.setText.call(this,e)}},Blockly.FieldTextInput.prototype.shouldShowAngleHelper_=function(){return this.getFieldHelperOptions_(Blockly.BlockFieldHelper.ANGLE_HELPER)},Blockly.FieldTextInput.prototype.getAngleHelperDirection_=function(){var e=this.getFieldHelperOptions_(Blockly.BlockFieldHelper.ANGLE_HELPER);if(e.direction&&e.directionTitleName)throw"FieldTextInput should not have both a direction and a directionTitleName; please pass at most one of these options";return e.directionTitle?e.block.getTitleValue(e.directionTitle):e.direction?e.direction:"turnRight"},Blockly.FieldTextInput.prototype.showAngleHelper_=function(){var e=Blockly.WidgetDiv.DIV,t=goog.dom.createDom("div","blocklyFieldAngleTextInput");t.style.height=Blockly.FieldTextInput.ANGLE_HELPER_SIZE+"px",t.style.width=Blockly.FieldTextInput.ANGLE_HELPER_SIZE+"px",e.appendChild(t);var o=this.getFieldHelperOptions_(Blockly.BlockFieldHelper.ANGLE_HELPER);e=this.getAngleHelperDirection_(),o=o.block.getHexColour(),this.angleHelper=new Blockly.AngleHelper(e,{onUpdate:function(){var e=this.angleHelper.getAngle().toString();this.setText(e),Blockly.FieldTextInput.htmlInput_.value=e}.bind(this),arcColour:o,height:Blockly.FieldTextInput.ANGLE_HELPER_SIZE,width:Blockly.FieldTextInput.ANGLE_HELPER_SIZE,angle:parseInt(this.getValue())}),this.angleHelper.init(t)},Blockly.FieldTextInput.prototype.showEditor_=function(){this.showWidgetDiv_();var e=Blockly.WidgetDiv.DIV,t=goog.dom.createDom("input","blocklyHtmlInput");this.changeHandler_===Blockly.FieldTextInput.numberValidator||this.changeHandler_&&"clampedNumberValidator"===this.changeHandler_.validatorType?(t.setAttribute("type","number"),t.setAttribute("step","any")):this.changeHandler_===Blockly.FieldTextInput.nonnegativeIntegerValidator&&(t.setAttribute("type","number"),t.setAttribute("pattern","\\d*")),Blockly.FieldTextInput.htmlInput_=t,e.appendChild(t),t.value=t.defaultValue=this.text_,t.oldValue_=null,this.validate_(),this.resizeEditor_(),t.focus(),goog.userAgent.IPAD||goog.userAgent.IPHONE?t.setSelectionRange(0,9999):t.select(),t.onKeyUpWrapper_=Blockly.bindEvent_(t,"keydown",this,function(e){e.stopPropagation()}),t.onKeyUpWrapper_=Blockly.bindEvent_(t,"keyup",this,this.onHtmlInputChange_),t.onKeyPressWrapper_=Blockly.bindEvent_(t,"keypress",this,this.onHtmlInputChange_),e=this.sourceBlock_.blockSpace.getCanvas(),t.onBlockSpaceChangeWrapper_=Blockly.bindEvent_(e,"blocklyBlockSpaceChange",this,this.resizeEditor_),this.shouldShowAngleHelper_()&&this.showAngleHelper_()},Blockly.FieldTextInput.prototype.onHtmlInputChange_=function(e){var t=Blockly.FieldTextInput.htmlInput_;13==e.keyCode?(Blockly.WidgetDiv.hide(),e.preventDefault()):27==e.keyCode?(this.setText(t.defaultValue),Blockly.WidgetDiv.hide()):(e=t.value)!==t.oldValue_?(t.oldValue_=e,this.setText(e),this.validate_()):goog.userAgent.WEBKIT&&this.sourceBlock_.render(),this.angleHelper&&this.angleHelper.animateAngleChange(parseInt(this.getText()))},Blockly.FieldTextInput.prototype.validate_=function(){var e=!0;goog.asserts.assertObject(Blockly.FieldTextInput.htmlInput_);var t=Blockly.FieldTextInput.htmlInput_;this.changeHandler_&&(e=this.changeHandler_(t.value)),null===e?Blockly.addClass_(t,"blocklyInvalidInput"):Blockly.removeClass_(t,"blocklyInvalidInput")},Blockly.FieldTextInput.prototype.resizeEditor_=function(){var e=Blockly.WidgetDiv.DIV;if(0<=navigator.userAgent.indexOf("MSIE")||0<=navigator.userAgent.indexOf("Trident")){this.fieldGroup_.style.display="inline";var t={x:this.fieldGroup_.getBBox().x,y:this.fieldGroup_.getBBox().y,width:this.fieldGroup_.scrollWidth,height:this.fieldGroup_.scrollHeight}}else t=this.fieldGroup_.getBBox();e.style.width=t.width+"px",this.positionWidgetDiv()},Blockly.FieldTextInput.prototype.positionWidgetDiv=function(){var e=Blockly.getAbsoluteXY_(this.borderRect_,this.getRootSVGElement_());if(Blockly.RTL){if(0<=navigator.userAgent.indexOf("MSIE")||0<=navigator.userAgent.indexOf("Trident")){this.borderRect_.style.display="inline";var t={x:this.borderRect_.getBBox().x,y:this.borderRect_.getBBox().y,width:this.borderRect_.scrollWidth,height:this.borderRect_.scrollHeight}}else t=this.borderRect_.getBBox();e.x+=t.width,e.x-=Blockly.WidgetDiv.DIV.offsetWidth}e.y+=1,goog.userAgent.WEBKIT&&(e.y-=3),t=goog.dom.getViewportSize();var o=goog.style.getViewportPageOffset(document);Blockly.WidgetDiv.position(e.x,e.y,t,o)},Blockly.FieldTextInput.prototype.generateWidgetDisposeHandler_=function(){var o=Blockly.FieldRectangularDropdown.superClass_.generateWidgetDisposeHandler_.call(this);return function(){o();var e=Blockly.FieldTextInput.htmlInput_,t=e.value;this.changeHandler_&&null===(t=this.changeHandler_(t))&&(t=e.defaultValue),this.setText(t),this.sourceBlock_.rendered&&this.sourceBlock_.render(),Blockly.unbindEvent_(e.onKeyUpWrapper_),Blockly.unbindEvent_(e.onKeyPressWrapper_),Blockly.unbindEvent_(e.onBlockSpaceChangeWrapper_),Blockly.FieldTextInput.htmlInput_=null,Blockly.WidgetDiv.DIV.style.width="auto"}.bind(this)},Blockly.FieldTextInput.prototype.isKeyboardInputField_=function(){return!0},Blockly.FieldTextInput.numberValidator=function(e){return e=(e=(e||"").replace(/O/gi,"0")).replace(/,/g,""),e=parseFloat(e||0),isNaN(e)?null:String(e)},Blockly.FieldTextInput.nonnegativeIntegerValidator=function(e){return(e=Blockly.FieldTextInput.numberValidator(e))&&(e=String(Math.max(0,Math.floor(e)))),e},Blockly.FieldTextInput.clampedNumberValidator=function(t,o){var e=function(e){return e=Blockly.FieldTextInput.numberValidator(e),isNaN(parseFloat(t))||(e=Math.max(t,e)),isNaN(parseFloat(o))||(e=Math.min(o,e)),String(e)};return e.validatorType="clampedNumberValidator",e},Blockly.FieldAngle=function(e,t){if(t)var o=this,n=function(e){return null!==(e=Blockly.FieldAngle.angleValidator.call(o,e))&&t.call(o,e),e};else n=Blockly.FieldAngle.angleValidator;this.symbol_=Blockly.createSvgElement("tspan",{},null),this.symbol_.appendChild(document.createTextNode("°")),Blockly.FieldAngle.superClass_.constructor.call(this,e,n)},goog.inherits(Blockly.FieldAngle,Blockly.FieldTextInput),Blockly.FieldAngle.HALF=50,Blockly.FieldAngle.RADIUS=Blockly.FieldAngle.HALF-1,Blockly.FieldAngle.prototype.dispose_=function(){var e=this;return function(){Blockly.FieldAngle.superClass_.dispose_.call(e)(),e.gauge_=null,e.clickWrapper_&&Blockly.unbindEvent_(e.clickWrapper_),e.moveWrapper1_&&Blockly.unbindEvent_(e.moveWrapper1_),e.moveWrapper2_&&Blockly.unbindEvent_(e.moveWrapper2_)}},Blockly.FieldAngle.prototype.showEditor_=function(){Blockly.FieldAngle.superClass_.showEditor_.call(this);var e=Blockly.WidgetDiv.DIV;if(e.firstChild){e=Blockly.createSvgElement("svg",{xmlns:"http://www.w3.org/2000/svg","xmlns:html":"http://www.w3.org/1999/xhtml","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1",height:2*Blockly.FieldAngle.HALF+"px",width:2*Blockly.FieldAngle.HALF+"px"},e);var t=Blockly.createSvgElement("circle",{cx:Blockly.FieldAngle.HALF,cy:Blockly.FieldAngle.HALF,r:Blockly.FieldAngle.RADIUS,class:"blocklyAngleCircle"},e);this.gauge_=Blockly.createSvgElement("path",{class:"blocklyAngleGuage"},e);for(var o=0;o<360;o+=15)Blockly.createSvgElement("line",{x1:Blockly.FieldAngle.HALF+Blockly.FieldAngle.RADIUS,y1:Blockly.FieldAngle.HALF,x2:Blockly.FieldAngle.HALF+Blockly.FieldAngle.RADIUS-(0==o%45?10:5),y2:Blockly.FieldAngle.HALF,class:"blocklyAngleMarks",transform:"rotate("+o+", "+Blockly.FieldAngle.HALF+", "+Blockly.FieldAngle.HALF+")"},e);e.style.marginLeft="-35px",this.clickWrapper_=Blockly.bindEvent_(e,"click",this,Blockly.WidgetDiv.hide),this.moveWrapper1_=Blockly.bindEvent_(t,"mousemove",this,this.onMouseMove),this.moveWrapper2_=Blockly.bindEvent_(this.gauge_,"mousemove",this,this.onMouseMove),this.updateGraph()}},Blockly.FieldAngle.prototype.onMouseMove=function(e){var t=this.gauge_.ownerSVGElement.getBoundingClientRect(),o=e.clientX-t.left-Blockly.FieldAngle.HALF;e=e.clientY-t.top-Blockly.FieldAngle.HALF,t=Math.atan(-e/o),isNaN(t)||(t=t/Math.PI*180,o<0?t+=180:0<e&&(t+=360),t=String(Math.round(t)),Blockly.FieldTextInput.htmlInput_.value=t,this.setText(t))},Blockly.FieldAngle.prototype.setText=function(e){Blockly.FieldAngle.superClass_.setText.call(this,e),this.updateGraph(),Blockly.RTL?this.textElement_.insertBefore(this.symbol_,this.textElement_.firstChild):this.textElement_.appendChild(this.symbol_),this.size_.width=0},Blockly.FieldAngle.prototype.updateGraph=function(){if(this.gauge_){var e=Number(this.getText())/180*Math.PI;isNaN(e)?this.gauge_.setAttribute("d","M "+Blockly.FieldAngle.HALF+", "+Blockly.FieldAngle.HALF):this.gauge_.setAttribute("d","M "+Blockly.FieldAngle.HALF+", "+Blockly.FieldAngle.HALF+" h "+Blockly.FieldAngle.RADIUS+" A "+Blockly.FieldAngle.RADIUS+","+Blockly.FieldAngle.RADIUS+" 0 "+(e>Math.PI?1:0)+" 0 "+(Blockly.FieldAngle.HALF+Math.cos(e)*Blockly.FieldAngle.RADIUS)+","+(Blockly.FieldAngle.HALF+Math.sin(e)*-Blockly.FieldAngle.RADIUS)+" z")}},Blockly.FieldAngle.angleValidator=function(e){return null!==(e=Blockly.FieldTextInput.numberValidator(e))&&((e%=360)<0&&(e+=360),e=String(e)),e};var CORNER_RADIUS=3,INNER_HEIGHT=17,Y_OFFSET=-13;function chooseNumberOfColumns(e){return e<=7?1:Math.floor(Math.sqrt(e))}Blockly.FieldButton=function(e,t,o,n){Blockly.FieldButton.superClass_.constructor.call(this,""),this.changeHandler_=n,this.buttonHandler_=t,this.borderRect_.setAttribute("height",INNER_HEIGHT+2),this.borderRect_.setAttribute("y",Y_OFFSET-1),this.buttonElement_=Blockly.createSvgElement("rect",{rx:CORNER_RADIUS,ry:CORNER_RADIUS,x:-Blockly.BlockSvg.SEP_SPACE_X/2+1,y:Y_OFFSET,height:INNER_HEIGHT},this.fieldGroup_),this.buttonElement_.style.fillOpacity=1,this.buttonElement_.style.fill=o,this.fieldGroup_.insertBefore(this.buttonElement_,this.textElement_),this.textElement_.style.fontSize="11pt",this.textElement_.style.fill="white",goog.isString(e)?this.setText(e):(this.textElement_.textContent="",this.textElement_.appendChild(e))},goog.inherits(Blockly.FieldButton,Blockly.Field),Blockly.FieldButton.prototype.CURSOR="pointer",Blockly.FieldButton.prototype.getValue=function(){return String(this.value_)},Blockly.FieldButton.prototype.setValue=function(e){if(this.value_!==e){if(this.changeHandler_){var t=this.changeHandler_(e);void 0!==t&&(e=t)}this.value_=e,this.sourceBlock_&&this.sourceBlock_.rendered&&this.sourceBlock_.blockSpace.fireChangeEvent()}},Blockly.FieldButton.prototype.showEditor_=function(){this.buttonHandler_&&this.buttonHandler_(this.setValue.bind(this))},Blockly.FieldButton.prototype.updateWidth_=function(){Blockly.FieldButton.superClass_.updateWidth_.call(this),this.buttonElement_&&this.buttonElement_.setAttribute("width",this.size_.width+Blockly.BlockSvg.SEP_SPACE_X-2)},goog.color={},goog.color.names={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},goog.color.parse=function(e){var t={};e=String(e);var o=goog.color.prependHashIfNecessaryHelper(e);if(goog.color.isValidHexColor_(o))return t.hex=goog.color.normalizeHex(o),t.type="hex",t;if((o=goog.color.isValidRgbColor_(e)).length)return t.hex=goog.color.rgbArrayToHex(o),t.type="rgb",t;if(goog.color.names&&(o=goog.color.names[e.toLowerCase()]))return t.hex=o,t.type="named",t;throw Error(e+" is not a valid color string")},goog.color.isValidColor=function(e){var t=goog.color.prependHashIfNecessaryHelper(e);return!!(goog.color.isValidHexColor_(t)||goog.color.isValidRgbColor_(e).length||goog.color.names&&goog.color.names[e.toLowerCase()])},goog.color.parseRgb=function(e){var t=goog.color.isValidRgbColor_(e);if(!t.length)throw Error(e+" is not a valid RGB color");return t},goog.color.hexToRgbStyle=function(e){return goog.color.rgbStyle_(goog.color.hexToRgb(e))},goog.color.hexTripletRe_=/#(.)(.)(.)/,goog.color.normalizeHex=function(e){if(!goog.color.isValidHexColor_(e))throw Error("'"+e+"' is not a valid hex color");return 4==e.length&&(e=e.replace(goog.color.hexTripletRe_,"#$1$1$2$2$3$3")),e.toLowerCase()},goog.color.hexToRgb=function(e){return e=goog.color.normalizeHex(e),[parseInt(e.substr(1,2),16),parseInt(e.substr(3,2),16),e=parseInt(e.substr(5,2),16)]},goog.color.rgbToHex=function(e,t,o){if(e=Number(e),t=Number(t),o=Number(o),e!=(255&e)||t!=(255&t)||o!=(255&o))throw Error('"('+e+","+t+","+o+'") is not a valid RGB color');return"#"+(e=goog.color.prependZeroIfNecessaryHelper(e.toString(16)))+(t=goog.color.prependZeroIfNecessaryHelper(t.toString(16)))+goog.color.prependZeroIfNecessaryHelper(o.toString(16))},goog.color.rgbArrayToHex=function(e){return goog.color.rgbToHex(e[0],e[1],e[2])},goog.color.rgbToHsl=function(e,t,o){e/=255,t/=255,o/=255;var n=Math.max(e,t,o),r=Math.min(e,t,o),i=0,a=0,s=.5*(n+r);return n!=r&&(n==e?i=60*(t-o)/(n-r):n==t?i=60*(o-e)/(n-r)+120:n==o&&(i=60*(e-t)/(n-r)+240),a=0<s&&s<=.5?(n-r)/(2*s):(n-r)/(2-2*s)),[Math.round(i+360)%360,a,s]},goog.color.rgbArrayToHsl=function(e){return goog.color.rgbToHsl(e[0],e[1],e[2])},goog.color.hueToRgb_=function(e,t,o){return o<0?o+=1:1<o&&--o,6*o<1?e+6*(t-e)*o:2*o<1?t:3*o<2?e+(t-e)*(2/3-o)*6:e},goog.color.hslToRgb=function(e,t,o){if(e/=360,0==t)o=t=e=255*o;else{var n=o<.5?o*(1+t):o+t-t*o,r=2*o-n;o=255*goog.color.hueToRgb_(r,n,e+1/3),t=255*goog.color.hueToRgb_(r,n,e),e=255*goog.color.hueToRgb_(r,n,e-1/3)}return[Math.round(o),Math.round(t),Math.round(e)]},goog.color.hslArrayToRgb=function(e){return goog.color.hslToRgb(e[0],e[1],e[2])},goog.color.validHexColorRe_=/^#(?:[0-9a-f]{3}){1,2}$/i,goog.color.isValidHexColor_=function(e){return goog.color.validHexColorRe_.test(e)},goog.color.normalizedHexColorRe_=/^#[0-9a-f]{6}$/,goog.color.isNormalizedHexColor_=function(e){return goog.color.normalizedHexColorRe_.test(e)},goog.color.rgbColorRe_=/^(?:rgb)?\((0|[1-9]\d{0,2}),\s?(0|[1-9]\d{0,2}),\s?(0|[1-9]\d{0,2})\)$/i,goog.color.isValidRgbColor_=function(e){var t=e.match(goog.color.rgbColorRe_);if(t){e=Number(t[1]);var o=Number(t[2]);if(t=Number(t[3]),0<=e&&e<=255&&0<=o&&o<=255&&0<=t&&t<=255)return[e,o,t]}return[]},goog.color.prependZeroIfNecessaryHelper=function(e){return 1==e.length?"0"+e:e},goog.color.prependHashIfNecessaryHelper=function(e){return"#"==e.charAt(0)?e:"#"+e},goog.color.rgbStyle_=function(e){return"rgb("+e.join(",")+")"},goog.color.hsvToRgb=function(e,t,o){var n=0,r=0,i=0;if(0==t)i=r=n=o;else{var a=Math.floor(e/60),s=e/60-a;e=o*(1-t);var l=o*(1-t*s);switch(t=o*(1-t*(1-s)),a){case 1:n=l,r=o,i=e;break;case 2:n=e,r=o,i=t;break;case 3:n=e,r=l,i=o;break;case 4:n=t,r=e,i=o;break;case 5:n=o,r=e,i=l;break;case 6:case 0:n=o,r=t,i=e}}return[Math.floor(n),Math.floor(r),Math.floor(i)]},goog.color.rgbToHsv=function(e,t,o){var n=Math.max(Math.max(e,t),o),r=Math.min(Math.min(e,t),o);if(r==n)r=e=0;else{var i=n-r;r=i/n,(e=60*(e==n?(t-o)/i:t==n?2+(o-e)/i:4+(e-t)/i))<0&&(e+=360),360<e&&(e-=360)}return[e,r,n]},goog.color.rgbArrayToHsv=function(e){return goog.color.rgbToHsv(e[0],e[1],e[2])},goog.color.hsvArrayToRgb=function(e){return goog.color.hsvToRgb(e[0],e[1],e[2])},goog.color.hexToHsl=function(e){return e=goog.color.hexToRgb(e),goog.color.rgbToHsl(e[0],e[1],e[2])},goog.color.hslToHex=function(e,t,o){return goog.color.rgbArrayToHex(goog.color.hslToRgb(e,t,o))},goog.color.hslArrayToHex=function(e){return goog.color.rgbArrayToHex(goog.color.hslToRgb(e[0],e[1],e[2]))},goog.color.hexToHsv=function(e){return goog.color.rgbArrayToHsv(goog.color.hexToRgb(e))},goog.color.hsvToHex=function(e,t,o){return goog.color.rgbArrayToHex(goog.color.hsvToRgb(e,t,o))},goog.color.hsvArrayToHex=function(e){return goog.color.hsvToHex(e[0],e[1],e[2])},goog.color.hslDistance=function(e,t){var o=e[2]<=.5?e[1]*e[2]:e[1]*(1-e[2]),n=t[2]<=.5?t[1]*t[2]:t[1]*(1-t[2]);return(e[2]-t[2])*(e[2]-t[2])+o*o+n*n-2*o*n*Math.cos(2*(e[0]/360-t[0]/360)*Math.PI)},goog.color.blend=function(e,t,o){return o=goog.math.clamp(o,0,1),[Math.round(o*e[0]+(1-o)*t[0]),Math.round(o*e[1]+(1-o)*t[1]),Math.round(o*e[2]+(1-o)*t[2])]},goog.color.darken=function(e,t){return goog.color.blend([0,0,0],e,t)},goog.color.lighten=function(e,t){return goog.color.blend([255,255,255],e,t)},goog.color.highContrast=function(e,t){for(var o=[],n=0;n<t.length;n++)o.push({color:t[n],diff:goog.color.yiqBrightnessDiff_(t[n],e)+goog.color.colorDiff_(t[n],e)});return o.sort(function(e,t){return t.diff-e.diff}),o[0].color},goog.color.yiqBrightness_=function(e){return Math.round((299*e[0]+587*e[1]+114*e[2])/1e3)},goog.color.yiqBrightnessDiff_=function(e,t){return Math.abs(goog.color.yiqBrightness_(e)-goog.color.yiqBrightness_(t))},goog.color.colorDiff_=function(e,t){return Math.abs(e[0]-t[0])+Math.abs(e[1]-t[1])+Math.abs(e[2]-t[2])},goog.iter={},goog.iter.StopIteration="StopIteration"in goog.global?goog.global.StopIteration:{message:"StopIteration",stack:""},goog.iter.Iterator=function(){},goog.iter.Iterator.prototype.next=function(){throw goog.iter.StopIteration},goog.iter.Iterator.prototype.__iterator__=function(e){return this},goog.iter.toIterator=function(e){if(e instanceof goog.iter.Iterator)return e;if("function"==typeof e.__iterator__)return e.__iterator__(!1);if(goog.isArrayLike(e)){var t=0,o=new goog.iter.Iterator;return o.next=function(){for(;;){if(t>=e.length)throw goog.iter.StopIteration;if(t in e)return e[t++];t++}},o}throw Error("Not implemented")},goog.iter.forEach=function(e,t,o){if(goog.isArrayLike(e))try{goog.array.forEach(e,t,o)}catch(e){if(e!==goog.iter.StopIteration)throw e}else{e=goog.iter.toIterator(e);try{for(;;)t.call(o,e.next(),void 0,e)}catch(e){if(e!==goog.iter.StopIteration)throw e}}},goog.iter.filter=function(e,t,o){var n=goog.iter.toIterator(e);return(e=new goog.iter.Iterator).next=function(){for(;;){var e=n.next();if(t.call(o,e,void 0,n))return e}},e},goog.iter.filterFalse=function(e,t,o){return goog.iter.filter(e,goog.functions.not(t),o)},goog.iter.range=function(e,t,o){var n=0,r=e,i=o||1;if(1<arguments.length&&(n=e,r=t),0==i)throw Error("Range step argument must not be zero");var a=new goog.iter.Iterator;return a.next=function(){if(0<i&&r<=n||i<0&&n<=r)throw goog.iter.StopIteration;var e=n;return n+=i,e},a},goog.iter.join=function(e,t){return goog.iter.toArray(e).join(t)},goog.iter.map=function(e,t,o){var n=goog.iter.toIterator(e);return(e=new goog.iter.Iterator).next=function(){var e=n.next();return t.call(o,e,void 0,n)},e},goog.iter.reduce=function(e,t,o,n){var r=o;return goog.iter.forEach(e,function(e){r=t.call(n,r,e)}),r},goog.iter.some=function(e,t,o){e=goog.iter.toIterator(e);try{for(;;)if(t.call(o,e.next(),void 0,e))return!0}catch(e){if(e!==goog.iter.StopIteration)throw e}return!1},goog.iter.every=function(e,t,o){e=goog.iter.toIterator(e);try{for(;;)if(!t.call(o,e.next(),void 0,e))return!1}catch(e){if(e!==goog.iter.StopIteration)throw e}return!0},goog.iter.chain=function(e){return goog.iter.chainFromIterable(arguments)},goog.iter.chainFromIterable=function(e){var t=goog.iter.toIterator(e),o=null;return(e=new goog.iter.Iterator).next=function(){for(;;){if(null==o){var e=t.next();o=goog.iter.toIterator(e)}try{return o.next()}catch(e){if(e!==goog.iter.StopIteration)throw e;o=null}}},e},goog.iter.dropWhile=function(e,t,o){var n=goog.iter.toIterator(e),r=!0;return(e=new goog.iter.Iterator).next=function(){for(;;){var e=n.next();if(!r||!t.call(o,e,void 0,n))return r=!1,e}},e},goog.iter.takeWhile=function(e,t,o){var n=goog.iter.toIterator(e);return(e=new goog.iter.Iterator).next=function(){var e=n.next();if(t.call(o,e,void 0,n))return e;throw goog.iter.StopIteration},e},goog.iter.toArray=function(e){if(goog.isArrayLike(e))return goog.array.toArray(e);e=goog.iter.toIterator(e);var t=[];return goog.iter.forEach(e,function(e){t.push(e)}),t},goog.iter.equals=function(e,t,o){e=goog.iter.zipLongest({},e,t);var n=o||goog.array.defaultCompareEquality;return goog.iter.every(e,function(e){return n(e[0],e[1])})},goog.iter.nextOrValue=function(e,t){try{return goog.iter.toIterator(e).next()}catch(e){if(e!=goog.iter.StopIteration)throw e;return t}},goog.iter.product=function(e){if(goog.array.some(arguments,function(e){return!e.length})||!arguments.length)return new goog.iter.Iterator;var t=new goog.iter.Iterator,o=arguments,n=goog.array.repeat(0,o.length);return t.next=function(){if(n){for(var e=goog.array.map(n,function(e,t){return o[t][e]}),t=n.length-1;0<=t;t--){if(goog.asserts.assert(n),n[t]<o[t].length-1){n[t]++;break}if(0==t){n=null;break}n[t]=0}return e}throw goog.iter.StopIteration},t},goog.iter.cycle=function(e){var t=goog.iter.toIterator(e),o=[],n=0,r=!1;return(e=new goog.iter.Iterator).next=function(){var e=null;if(!r)try{return e=t.next(),o.push(e),e}catch(e){if(e!=goog.iter.StopIteration||goog.array.isEmpty(o))throw e;r=!0}return e=o[n],n=(n+1)%o.length,e},e},goog.iter.count=function(e,t){var o=e||0,n=goog.isDef(t)?t:1;return(e=new goog.iter.Iterator).next=function(){var e=o;return o+=n,e},e},goog.iter.repeat=function(e){var t=new goog.iter.Iterator;return t.next=goog.functions.constant(e),t},goog.iter.accumulate=function(e){var t=goog.iter.toIterator(e),o=0;return(e=new goog.iter.Iterator).next=function(){return o+=t.next()},e},goog.iter.zip=function(e){var t=arguments,o=new goog.iter.Iterator;if(0<t.length){var n=goog.array.map(t,goog.iter.toIterator);o.next=function(){return goog.array.map(n,function(e){return e.next()})}}return o},goog.iter.zipLongest=function(n,e){var t=goog.array.slice(arguments,1),o=new goog.iter.Iterator;if(0<t.length){var r=goog.array.map(t,goog.iter.toIterator);o.next=function(){var o=!1,e=goog.array.map(r,function(e){try{var t=e.next();o=!0}catch(e){if(e!==goog.iter.StopIteration)throw e;t=n}return t});if(!o)throw goog.iter.StopIteration;return e}}return o},goog.iter.compress=function(e,t){var o=goog.iter.toIterator(t);return goog.iter.filter(e,function(){return!!o.next()})},goog.iter.GroupByIterator_=function(e,t){this.iterator=goog.iter.toIterator(e),this.keyFunc=t||goog.functions.identity},goog.inherits(goog.iter.GroupByIterator_,goog.iter.Iterator),goog.iter.GroupByIterator_.prototype.next=function(){for(;this.currentKey==this.targetKey;)this.currentValue=this.iterator.next(),this.currentKey=this.keyFunc(this.currentValue);return this.targetKey=this.currentKey,[this.currentKey,this.groupItems_(this.targetKey)]},goog.iter.GroupByIterator_.prototype.groupItems_=function(e){for(var t=[];this.currentKey==e;){t.push(this.currentValue);try{this.currentValue=this.iterator.next()}catch(e){if(e!==goog.iter.StopIteration)throw e;break}this.currentKey=this.keyFunc(this.currentValue)}return t},goog.iter.groupBy=function(e,t){return new goog.iter.GroupByIterator_(e,t)},goog.iter.starMap=function(e,t,o){var n=goog.iter.toIterator(e);return(e=new goog.iter.Iterator).next=function(){var e=goog.iter.toArray(n.next());return t.apply(o,goog.array.concat(e,void 0,n))},e},goog.iter.tee=function(e,t){var o=goog.iter.toIterator(e);e=goog.isNumber(t)?t:2;var n=goog.array.map(goog.array.range(e),function(){return[]});return goog.array.map(n,function(e){var t=new goog.iter.Iterator;return t.next=function(){return goog.array.isEmpty(e)&&(t=o.next(),goog.array.forEach(n,function(e){e.push(t)})),goog.asserts.assert(!goog.array.isEmpty(e)),e.shift();var t},t})},goog.iter.enumerate=function(e,t){return goog.iter.zip(goog.iter.count(t),e)},goog.iter.limit=function(e,t){goog.asserts.assert(goog.math.isInt(t)&&0<=t);var o=goog.iter.toIterator(e),n=t;return(e=new goog.iter.Iterator).next=function(){if(0<n--)return o.next();throw goog.iter.StopIteration},e},goog.iter.consume=function(e,t){for(goog.asserts.assert(goog.math.isInt(t)&&0<=t),e=goog.iter.toIterator(e);0<t--;)goog.iter.nextOrValue(e,null);return e},goog.iter.slice=function(e,t,o){return goog.asserts.assert(goog.math.isInt(t)&&0<=t),e=goog.iter.consume(e,t),goog.isNumber(o)&&(goog.asserts.assert(goog.math.isInt(o)&&t<=o),e=goog.iter.limit(e,o-t)),e},goog.iter.hasDuplicates_=function(e){var t=[];return goog.array.removeDuplicates(e,t),e.length!=t.length},goog.iter.permutations=function(e,t){return e=goog.iter.toArray(e),t=goog.isNumber(t)?t:e.length,t=goog.array.repeat(e,t),t=goog.iter.product.apply(void 0,t),goog.iter.filter(t,function(e){return!goog.iter.hasDuplicates_(e)})},goog.iter.combinations=function(e,t){function o(e){return n[e]}var n=goog.iter.toArray(e);e=goog.iter.range(n.length),t=goog.iter.permutations(e,t);var r=goog.iter.filter(t,function(e){return goog.array.isSorted(e)});return(t=new goog.iter.Iterator).next=function(){return goog.array.map(r.next(),o)},t},goog.iter.combinationsWithReplacement=function(e,t){function o(e){return n[e]}var n=goog.iter.toArray(e);e=goog.array.range(n.length),t=goog.array.repeat(e,t),t=goog.iter.product.apply(void 0,t);var r=goog.iter.filter(t,function(e){return goog.array.isSorted(e)});return(t=new goog.iter.Iterator).next=function(){return goog.array.map(r.next(),o)},t},goog.dom.TagWalkType={START_TAG:1,OTHER:0,END_TAG:-1},goog.dom.TagIterator=function(e,t,o,n,r){this.reversed=!!t,this.node=null,this.tagType=goog.dom.TagWalkType.OTHER,this.started_=!1,this.constrained=!o,e&&this.setPosition(e,n),this.depth=null!=r?r:this.tagType||0,this.reversed&&(this.depth*=-1)},goog.inherits(goog.dom.TagIterator,goog.iter.Iterator),goog.dom.TagIterator.prototype.setPosition=function(e,t,o){(this.node=e)&&(goog.isNumber(t)?this.tagType=t:this.tagType=this.node.nodeType!=goog.dom.NodeType.ELEMENT?goog.dom.TagWalkType.OTHER:this.reversed?goog.dom.TagWalkType.END_TAG:goog.dom.TagWalkType.START_TAG),goog.isNumber(o)&&(this.depth=o)},goog.dom.TagIterator.prototype.copyFrom=function(e){this.node=e.node,this.tagType=e.tagType,this.depth=e.depth,this.reversed=e.reversed,this.constrained=e.constrained},goog.dom.TagIterator.prototype.clone=function(){return new goog.dom.TagIterator(this.node,this.reversed,!this.constrained,this.tagType,this.depth)},goog.dom.TagIterator.prototype.skipTag=function(){var e=this.reversed?goog.dom.TagWalkType.END_TAG:goog.dom.TagWalkType.START_TAG;this.tagType==e&&(this.tagType=-1*e,this.depth+=this.tagType*(this.reversed?-1:1))},goog.dom.TagIterator.prototype.restartTag=function(){var e=this.reversed?goog.dom.TagWalkType.START_TAG:goog.dom.TagWalkType.END_TAG;this.tagType==e&&(this.tagType=-1*e,this.depth+=this.tagType*(this.reversed?-1:1))},goog.dom.TagIterator.prototype.next=function(){if(this.started_){if(!this.node||this.constrained&&0==this.depth)throw goog.iter.StopIteration;var e=this.node,t=this.reversed?goog.dom.TagWalkType.END_TAG:goog.dom.TagWalkType.START_TAG;if(this.tagType==t){var o=this.reversed?e.lastChild:e.firstChild;o?this.setPosition(o):this.setPosition(e,-1*t)}else(o=this.reversed?e.previousSibling:e.nextSibling)?this.setPosition(o):this.setPosition(e.parentNode,-1*t);this.depth+=this.tagType*(this.reversed?-1:1)}else this.started_=!0;if(e=this.node,!this.node)throw goog.iter.StopIteration;return e},goog.dom.TagIterator.prototype.isStarted=function(){return this.started_},goog.dom.TagIterator.prototype.isStartTag=function(){return this.tagType==goog.dom.TagWalkType.START_TAG},goog.dom.TagIterator.prototype.isEndTag=function(){return this.tagType==goog.dom.TagWalkType.END_TAG},goog.dom.TagIterator.prototype.isNonElement=function(){return this.tagType==goog.dom.TagWalkType.OTHER},goog.dom.TagIterator.prototype.equals=function(e){return e.node==this.node&&(!this.node||e.tagType==this.tagType)},goog.dom.TagIterator.prototype.splice=function(e){var t=this.node;this.restartTag(),this.reversed=!this.reversed,goog.dom.TagIterator.prototype.next.call(this),this.reversed=!this.reversed;for(var o=goog.isArrayLike(e)?e:arguments,n=o.length-1;0<=n;n--)goog.dom.insertSiblingAfter(o[n],t);goog.dom.removeNode(t)},goog.dom.NodeIterator=function(e,t,o,n){goog.dom.TagIterator.call(this,e,t,o,null,n)},goog.inherits(goog.dom.NodeIterator,goog.dom.TagIterator),goog.dom.NodeIterator.prototype.next=function(){for(;goog.dom.NodeIterator.superClass_.next.call(this),this.isEndTag(););return this.node},goog.ui.PaletteRenderer=function(){goog.ui.ControlRenderer.call(this)},goog.inherits(goog.ui.PaletteRenderer,goog.ui.ControlRenderer),goog.addSingletonGetter(goog.ui.PaletteRenderer),goog.ui.PaletteRenderer.cellId_=0,goog.ui.PaletteRenderer.CSS_CLASS="goog-palette",goog.ui.PaletteRenderer.prototype.createDom=function(e){var t=this.getClassNames(e);return e=e.getDomHelper().createDom("DIV",t?t.join(" "):null,this.createGrid(e.getContent(),e.getSize(),e.getDomHelper())),goog.a11y.aria.setRole(e,goog.a11y.aria.Role.GRID),e},goog.ui.PaletteRenderer.prototype.createGrid=function(e,t,o){for(var n=[],r=0,i=0;r<t.height;r++){for(var a=[],s=0;s<t.width;s++){var l=e&&e[i++];a.push(this.createCell(l,o))}n.push(this.createRow(a,o))}return this.createTable(n,o)},goog.ui.PaletteRenderer.prototype.createTable=function(e,t){return(e=t.createDom("TABLE",this.getCssClass()+"-table",t.createDom("TBODY",this.getCssClass()+"-body",e))).cellSpacing="0",e.cellPadding="0",e},goog.ui.PaletteRenderer.prototype.createRow=function(e,t){return e=t.createDom("TR",this.getCssClass()+"-row",e),goog.a11y.aria.setRole(e,goog.a11y.aria.Role.ROW),e},goog.ui.PaletteRenderer.prototype.createCell=function(e,t){return e=t.createDom("TD",{class:this.getCssClass()+"-cell",id:this.getCssClass()+"-cell-"+goog.ui.PaletteRenderer.cellId_++},e),goog.a11y.aria.setRole(e,goog.a11y.aria.Role.GRIDCELL),goog.a11y.aria.setState(e,goog.a11y.aria.State.SELECTED,!1),goog.dom.getTextContent(e)||goog.a11y.aria.getLabel(e)||(t=this.findAriaLabelForCell_(e))&&goog.a11y.aria.setLabel(e,t),e},goog.ui.PaletteRenderer.prototype.findAriaLabelForCell_=function(e){e=new goog.dom.NodeIterator(e);for(var t,o="";!o&&(t=goog.iter.nextOrValue(e,null));)t.nodeType==goog.dom.NodeType.ELEMENT&&(o=goog.a11y.aria.getLabel(t)||t.title);return o},goog.ui.PaletteRenderer.prototype.canDecorate=function(e){return!1},goog.ui.PaletteRenderer.prototype.decorate=function(e,t){return null},goog.ui.PaletteRenderer.prototype.setContent=function(e,o){if(e){var t=goog.dom.getElementsByTagNameAndClass("TBODY",this.getCssClass()+"-body",e)[0];if(t){var n=0;if(goog.array.forEach(t.rows,function(e){goog.array.forEach(e.cells,function(e){if(goog.dom.removeChildren(e),o){var t=o[n++];t&&goog.dom.appendChild(e,t)}})}),n<o.length){for(var r=[],i=goog.dom.getDomHelper(e),a=t.rows[0].cells.length;n<o.length;){var s=o[n++];r.push(this.createCell(s,i)),r.length==a&&(s=this.createRow(r,i),goog.dom.appendChild(t,s),r.length=0)}if(0<r.length){for(;r.length<a;)r.push(this.createCell("",i));s=this.createRow(r,i),goog.dom.appendChild(t,s)}}}goog.style.setUnselectable(e,!0,goog.userAgent.GECKO)}},goog.ui.PaletteRenderer.prototype.getContainingItem=function(e,t){for(e=e.getElement();t&&t.nodeType==goog.dom.NodeType.ELEMENT&&t!=e;){if("TD"==t.tagName&&goog.dom.classlist.contains(t,this.getCssClass()+"-cell"))return t.firstChild;t=t.parentNode}return null},goog.ui.PaletteRenderer.prototype.highlightCell=function(e,t,o){t&&(t=this.getCellForItem(t),goog.asserts.assert(t),goog.dom.classlist.enable(t,this.getCssClass()+"-cell-hover",o),o?goog.a11y.aria.setState(e.getElementStrict(),goog.a11y.aria.State.ACTIVEDESCENDANT,t.id):t.id==goog.a11y.aria.getState(e.getElementStrict(),goog.a11y.aria.State.ACTIVEDESCENDANT)&&goog.a11y.aria.removeState(e.getElementStrict(),goog.a11y.aria.State.ACTIVEDESCENDANT))},goog.ui.PaletteRenderer.prototype.getCellForItem=function(e){return e?e.parentNode:null},goog.ui.PaletteRenderer.prototype.selectCell=function(e,t,o){t&&(e=t.parentNode,goog.dom.classlist.enable(e,this.getCssClass()+"-cell-selected",o),goog.a11y.aria.setState(e,goog.a11y.aria.State.SELECTED,o))},goog.ui.PaletteRenderer.prototype.getCssClass=function(){return goog.ui.PaletteRenderer.CSS_CLASS},goog.ui.SelectionModel=function(e){goog.events.EventTarget.call(this),this.items_=[],this.addItems(e)},goog.inherits(goog.ui.SelectionModel,goog.events.EventTarget),goog.tagUnsealableClass(goog.ui.SelectionModel),goog.ui.SelectionModel.prototype.selectedItem_=null,goog.ui.SelectionModel.prototype.selectionHandler_=null,goog.ui.SelectionModel.prototype.getSelectionHandler=function(){return this.selectionHandler_},goog.ui.SelectionModel.prototype.setSelectionHandler=function(e){this.selectionHandler_=e},goog.ui.SelectionModel.prototype.getItemCount=function(){return this.items_.length},goog.ui.SelectionModel.prototype.indexOfItem=function(e){return e?goog.array.indexOf(this.items_,e):-1},goog.ui.SelectionModel.prototype.getFirst=function(){return this.items_[0]},goog.ui.SelectionModel.prototype.getLast=function(){return this.items_[this.items_.length-1]},goog.ui.SelectionModel.prototype.getItemAt=function(e){return this.items_[e]||null},goog.ui.SelectionModel.prototype.addItems=function(e){e&&(goog.array.forEach(e,function(e){this.selectItem_(e,!1)},this),goog.array.extend(this.items_,e))},goog.ui.SelectionModel.prototype.addItem=function(e){this.addItemAt(e,this.getItemCount())},goog.ui.SelectionModel.prototype.addItemAt=function(e,t){e&&(this.selectItem_(e,!1),goog.array.insertAt(this.items_,e,t))},goog.ui.SelectionModel.prototype.removeItem=function(e){e&&goog.array.remove(this.items_,e)&&e==this.selectedItem_&&(this.selectedItem_=null,this.dispatchEvent(goog.events.EventType.SELECT))},goog.ui.SelectionModel.prototype.removeItemAt=function(e){this.removeItem(this.getItemAt(e))},goog.ui.SelectionModel.prototype.getSelectedItem=function(){return this.selectedItem_},goog.ui.SelectionModel.prototype.getItems=function(){return goog.array.clone(this.items_)},goog.ui.SelectionModel.prototype.setSelectedItem=function(e){e!=this.selectedItem_&&(this.selectItem_(this.selectedItem_,!1),this.selectedItem_=e,this.selectItem_(e,!0)),this.dispatchEvent(goog.events.EventType.SELECT)},goog.ui.SelectionModel.prototype.getSelectedIndex=function(){return this.indexOfItem(this.selectedItem_)},goog.ui.SelectionModel.prototype.setSelectedIndex=function(e){this.setSelectedItem(this.getItemAt(e))},goog.ui.SelectionModel.prototype.clear=function(){goog.array.clear(this.items_),this.selectedItem_=null},goog.ui.SelectionModel.prototype.disposeInternal=function(){goog.ui.SelectionModel.superClass_.disposeInternal.call(this),delete this.items_,this.selectedItem_=null},goog.ui.SelectionModel.prototype.selectItem_=function(e,t){e&&("function"==typeof this.selectionHandler_?this.selectionHandler_(e,t):"function"==typeof e.setSelected&&e.setSelected(t))},goog.ui.Palette=function(e,t,o){goog.ui.Control.call(this,e,t||goog.ui.PaletteRenderer.getInstance(),o),this.setAutoStates(goog.ui.Component.State.CHECKED|goog.ui.Component.State.SELECTED|goog.ui.Component.State.OPENED,!1),this.currentCellControl_=new goog.ui.Palette.CurrentCell_,this.currentCellControl_.setParentEventTarget(this),this.lastHighlightedIndex_=-1},goog.inherits(goog.ui.Palette,goog.ui.Control),goog.tagUnsealableClass(goog.ui.Palette),goog.ui.Palette.EventType={AFTER_HIGHLIGHT:goog.events.getUniqueId("afterhighlight")},goog.ui.Palette.prototype.size_=null,goog.ui.Palette.prototype.highlightedIndex_=-1,goog.ui.Palette.prototype.selectionModel_=null,goog.ui.Palette.prototype.disposeInternal=function(){goog.ui.Palette.superClass_.disposeInternal.call(this),this.selectionModel_&&(this.selectionModel_.dispose(),this.selectionModel_=null),this.size_=null,this.currentCellControl_.dispose()},goog.ui.Palette.prototype.setContentInternal=function(e){goog.ui.Palette.superClass_.setContentInternal.call(this,e),this.adjustSize_(),this.selectionModel_?(this.selectionModel_.clear(),this.selectionModel_.addItems(e)):(this.selectionModel_=new goog.ui.SelectionModel(e),this.selectionModel_.setSelectionHandler(goog.bind(this.selectItem_,this)),this.getHandler().listen(this.selectionModel_,goog.events.EventType.SELECT,this.handleSelectionChange)),this.highlightedIndex_=-1},goog.ui.Palette.prototype.getCaption=function(){return""},goog.ui.Palette.prototype.setCaption=function(e){},goog.ui.Palette.prototype.handleMouseOver=function(e){goog.ui.Palette.superClass_.handleMouseOver.call(this,e);var t=this.getRenderer().getContainingItem(this,e.target);t&&e.relatedTarget&&goog.dom.contains(t,e.relatedTarget)||t!=this.getHighlightedItem()&&this.setHighlightedItem(t)},goog.ui.Palette.prototype.handleMouseDown=function(e){goog.ui.Palette.superClass_.handleMouseDown.call(this,e),this.isActive()&&(e=this.getRenderer().getContainingItem(this,e.target))!=this.getHighlightedItem()&&this.setHighlightedItem(e)},goog.ui.Palette.prototype.performActionInternal=function(e){var t=this.getHighlightedItem();return!!t&&(e&&this.shouldSelectHighlightedItem_(e)&&this.setSelectedItem(t),goog.ui.Palette.superClass_.performActionInternal.call(this,e))},goog.ui.Palette.prototype.shouldSelectHighlightedItem_=function(e){return!this.getSelectedItem()||"mouseup"!=e.type||!!this.getRenderer().getContainingItem(this,e.target)},goog.ui.Palette.prototype.handleKeyEvent=function(e){var t=this.getContent();t=t?t.length:0;var o=this.size_.width;if(0==t||!this.isEnabled())return!1;if(e.keyCode==goog.events.KeyCodes.ENTER||e.keyCode==goog.events.KeyCodes.SPACE)return this.performActionInternal(e);if(e.keyCode==goog.events.KeyCodes.HOME)return this.setHighlightedIndex(0),!0;if(e.keyCode==goog.events.KeyCodes.END)return this.setHighlightedIndex(t-1),!0;var n=this.highlightedIndex_<0?this.getSelectedIndex():this.highlightedIndex_;switch(e.keyCode){case goog.events.KeyCodes.LEFT:return-1!=n&&0!=n||(n=t),this.setHighlightedIndex(n-1),e.preventDefault(),!0;case goog.events.KeyCodes.RIGHT:return n==t-1&&(n=-1),this.setHighlightedIndex(n+1),e.preventDefault(),!0;case goog.events.KeyCodes.UP:if(-1==n&&(n=t+o-1),o<=n)return this.setHighlightedIndex(n-o),e.preventDefault(),!0;break;case goog.events.KeyCodes.DOWN:if(-1==n&&(n=-o),n<t-o)return this.setHighlightedIndex(n+o),e.preventDefault(),!0}return!1},goog.ui.Palette.prototype.handleSelectionChange=function(e){},goog.ui.Palette.prototype.getSize=function(){return this.size_},goog.ui.Palette.prototype.setSize=function(e,t){if(this.getElement())throw Error(goog.ui.Component.Error.ALREADY_RENDERED);this.size_=goog.isNumber(e)?new goog.math.Size(e,t):e,this.adjustSize_()},goog.ui.Palette.prototype.getHighlightedIndex=function(){return this.highlightedIndex_},goog.ui.Palette.prototype.getHighlightedItem=function(){var e=this.getContent();return e&&e[this.highlightedIndex_]},goog.ui.Palette.prototype.getHighlightedCellElement_=function(){return this.getRenderer().getCellForItem(this.getHighlightedItem())},goog.ui.Palette.prototype.setHighlightedIndex=function(e){e!=this.highlightedIndex_&&(this.highlightIndex_(this.highlightedIndex_,!1),this.lastHighlightedIndex_=this.highlightedIndex_,this.highlightedIndex_=e,this.highlightIndex_(e,!0),this.dispatchEvent(goog.ui.Palette.EventType.AFTER_HIGHLIGHT))},goog.ui.Palette.prototype.setHighlightedItem=function(e){var t=this.getContent();this.setHighlightedIndex(t&&e?goog.array.indexOf(t,e):-1)},goog.ui.Palette.prototype.getSelectedIndex=function(){return this.selectionModel_?this.selectionModel_.getSelectedIndex():-1},goog.ui.Palette.prototype.getSelectedItem=function(){return this.selectionModel_?this.selectionModel_.getSelectedItem():null},goog.ui.Palette.prototype.setSelectedIndex=function(e){this.selectionModel_&&this.selectionModel_.setSelectedIndex(e)},goog.ui.Palette.prototype.setSelectedItem=function(e){this.selectionModel_&&this.selectionModel_.setSelectedItem(e)},goog.ui.Palette.prototype.highlightIndex_=function(e,t){if(this.getElement()){var o=this.getContent();if(o&&0<=e&&e<o.length){var n=this.getHighlightedCellElement_();this.currentCellControl_.getElement()!=n&&this.currentCellControl_.setElementInternal(n),this.currentCellControl_.tryHighlight(t)&&this.getRenderer().highlightCell(this,o[e],t)}}},goog.ui.Palette.prototype.setHighlighted=function(e){e&&-1==this.highlightedIndex_?this.setHighlightedIndex(-1<this.lastHighlightedIndex_?this.lastHighlightedIndex_:0):e||this.setHighlightedIndex(-1),goog.ui.Palette.superClass_.setHighlighted.call(this,e)},goog.ui.Palette.prototype.selectItem_=function(e,t){this.getElement()&&this.getRenderer().selectCell(this,e,t)},goog.ui.Palette.prototype.adjustSize_=function(){var e=this.getContent();e?this.size_&&this.size_.width?(e=Math.ceil(e.length/this.size_.width),(!goog.isNumber(this.size_.height)||this.size_.height<e)&&(this.size_.height=e)):(e=Math.ceil(Math.sqrt(e.length)),this.size_=new goog.math.Size(e,e)):this.size_=new goog.math.Size(0,0)},goog.ui.Palette.CurrentCell_=function(){goog.ui.Control.call(this,null),this.setDispatchTransitionEvents(goog.ui.Component.State.HOVER,!0)},goog.inherits(goog.ui.Palette.CurrentCell_,goog.ui.Control),goog.ui.Palette.CurrentCell_.prototype.tryHighlight=function(e){return this.setHighlighted(e),this.isHighlighted()==e},goog.ui.ColorPalette=function(e,t,o){this.colors_=e||[],goog.ui.Palette.call(this,null,t||goog.ui.PaletteRenderer.getInstance(),o),this.setColors(this.colors_)},goog.inherits(goog.ui.ColorPalette,goog.ui.Palette),goog.tagUnsealableClass(goog.ui.ColorPalette),goog.ui.ColorPalette.prototype.normalizedColors_=null,goog.ui.ColorPalette.prototype.labels_=null,goog.ui.ColorPalette.prototype.getColors=function(){return this.colors_},goog.ui.ColorPalette.prototype.setColors=function(e,t){this.colors_=e,this.labels_=t||null,this.normalizedColors_=null,this.setContent(this.createColorNodes())},goog.ui.ColorPalette.prototype.getSelectedColor=function(){var e=this.getSelectedItem();return e?(e=goog.style.getStyle(e,"background-color"),goog.ui.ColorPalette.parseColor_(e)):null},goog.ui.ColorPalette.prototype.setSelectedColor=function(e){e=goog.ui.ColorPalette.parseColor_(e),this.normalizedColors_||(this.normalizedColors_=goog.array.map(this.colors_,function(e){return goog.ui.ColorPalette.parseColor_(e)})),this.setSelectedIndex(e?goog.array.indexOf(this.normalizedColors_,e):-1)},goog.ui.ColorPalette.prototype.createColorNodes=function(){return goog.array.map(this.colors_,function(e,t){var o=this.getDomHelper().createDom("DIV",{class:this.getRenderer().getCssClass()+"-colorswatch",style:"background-color:"+e});return o.title=this.labels_&&this.labels_[t]?this.labels_[t]:"#"==e.charAt(0)?"RGB ("+goog.color.hexToRgb(e).join(", ")+")":e,o},this)},goog.ui.ColorPalette.parseColor_=function(e){if(e)try{return goog.color.parse(e).hex}catch(e){}return null},goog.ui.ColorPicker=function(e,t){goog.ui.Component.call(this,e),this.colorPalette_=t||null,this.getHandler().listen(this,goog.ui.Component.EventType.ACTION,this.onColorPaletteAction_)},goog.inherits(goog.ui.ColorPicker,goog.ui.Component),goog.ui.ColorPicker.DEFAULT_NUM_COLS=5,goog.ui.ColorPicker.EventType={CHANGE:"change"},goog.ui.ColorPicker.prototype.focusable_=!0,goog.ui.ColorPicker.prototype.getColors=function(){return this.colorPalette_?this.colorPalette_.getColors():null},goog.ui.ColorPicker.prototype.setColors=function(e){this.colorPalette_?this.colorPalette_.setColors(e):this.createColorPalette_(e)},goog.ui.ColorPicker.prototype.addColors=function(e){this.setColors(e)},goog.ui.ColorPicker.prototype.setSize=function(e){this.colorPalette_||this.createColorPalette_([]),this.colorPalette_.setSize(e)},goog.ui.ColorPicker.prototype.getSize=function(){return this.colorPalette_?this.colorPalette_.getSize():null},goog.ui.ColorPicker.prototype.setColumnCount=function(e){this.setSize(e)},goog.ui.ColorPicker.prototype.getSelectedIndex=function(){return this.colorPalette_?this.colorPalette_.getSelectedIndex():-1},goog.ui.ColorPicker.prototype.setSelectedIndex=function(e){this.colorPalette_&&this.colorPalette_.setSelectedIndex(e)},goog.ui.ColorPicker.prototype.getSelectedColor=function(){return this.colorPalette_?this.colorPalette_.getSelectedColor():null},goog.ui.ColorPicker.prototype.setSelectedColor=function(e){this.colorPalette_&&this.colorPalette_.setSelectedColor(e)},goog.ui.ColorPicker.prototype.isFocusable=function(){return this.focusable_},goog.ui.ColorPicker.prototype.setFocusable=function(e){this.focusable_=e,this.colorPalette_&&this.colorPalette_.setSupportedState(goog.ui.Component.State.FOCUSED,e)},goog.ui.ColorPicker.prototype.canDecorate=function(e){return!1},goog.ui.ColorPicker.prototype.enterDocument=function(){goog.ui.ColorPicker.superClass_.enterDocument.call(this),this.colorPalette_&&this.colorPalette_.render(this.getElement()),this.getElement().unselectable="on"},goog.ui.ColorPicker.prototype.disposeInternal=function(){goog.ui.ColorPicker.superClass_.disposeInternal.call(this),this.colorPalette_&&(this.colorPalette_.dispose(),this.colorPalette_=null)},goog.ui.ColorPicker.prototype.focus=function(){this.colorPalette_&&this.colorPalette_.getElement().focus()},goog.ui.ColorPicker.prototype.onColorPaletteAction_=function(e){e.stopPropagation(),this.dispatchEvent(goog.ui.ColorPicker.EventType.CHANGE)},goog.ui.ColorPicker.prototype.createColorPalette_=function(e){(e=new goog.ui.ColorPalette(e,null,this.getDomHelper())).setSize(goog.ui.ColorPicker.DEFAULT_NUM_COLS),e.setSupportedState(goog.ui.Component.State.FOCUSED,this.focusable_),this.addChild(e),this.colorPalette_=e,this.isInDocument()&&this.colorPalette_.render(this.getElement())},goog.ui.ColorPicker.createSimpleColorGrid=function(e){return(e=new goog.ui.ColorPicker(e)).setSize(7),e.setColors(goog.ui.ColorPicker.SIMPLE_GRID_COLORS),e},goog.ui.ColorPicker.SIMPLE_GRID_COLORS="#ffffff #cccccc #c0c0c0 #999999 #666666 #333333 #000000 #ffcccc #ff6666 #ff0000 #cc0000 #990000 #660000 #330000 #ffcc99 #ff9966 #ff9900 #ff6600 #cc6600 #993300 #663300 #ffff99 #ffff66 #ffcc66 #ffcc33 #cc9933 #996633 #663333 #ffffcc #ffff33 #ffff00 #ffcc00 #999900 #666600 #333300 #99ff99 #66ff99 #33ff33 #33cc00 #009900 #006600 #003300 #99ffff #33ffff #66cccc #00cccc #339999 #336666 #003333 #ccffff #66ffff #33ccff #3366ff #3333ff #000099 #000066 #ccccff #9999ff #6666cc #6633ff #6600cc #333399 #330099 #ffccff #ff99ff #cc66cc #cc33cc #993399 #663366 #330033".split(" "),Blockly.FieldColour=function(e,t,o){o=void 0===o?{}:o,Blockly.FieldColour.superClass_.constructor.call(this,"   "),this.changeHandler_=t,this.colours_=o.colours,this.columns_=o.columns,this.borderRect_.style.fillOpacity=1,this.setValue(e)},goog.inherits(Blockly.FieldColour,Blockly.Field),Blockly.FieldColour.prototype.CURSOR="default",Blockly.FieldColour.prototype.dispose=function(){Blockly.WidgetDiv.hideIfOwner(this),Blockly.FieldColour.superClass_.dispose.call(this)},Blockly.FieldColour.prototype.getValue=function(){return this.colour_},Blockly.FieldColour.prototype.setValue=function(e){this.colour_=e,this.borderRect_.style.fill=e,this.sourceBlock_&&this.sourceBlock_.rendered&&this.sourceBlock_.blockSpace.fireChangeEvent()},Blockly.FieldColour.COLOURS=goog.ui.ColorPicker.SIMPLE_GRID_COLORS,Blockly.FieldColour.COLUMNS=7,Blockly.FieldColour.prototype.showEditor_=function(){this.showWidgetDiv_();var e=Blockly.WidgetDiv.DIV,t=new goog.ui.ColorPicker;t.setSize(this.columns_||Blockly.FieldColour.COLUMNS),t.setColors(this.colours_||Blockly.FieldColour.COLOURS),t.render(e),t.setSelectedColor(this.getValue()),this.positionWidgetDiv();var o=this;Blockly.FieldColour.changeEventKey_=goog.events.listen(t,goog.ui.ColorPicker.EventType.CHANGE,function(e){if(e=e.target.getSelectedColor()||"#000000",Blockly.WidgetDiv.hide(),o.changeHandler_){var t=o.changeHandler_(e);void 0!==t&&(e=t)}null!==e&&o.setValue(e)})},Blockly.FieldColour.prototype.positionWidgetDiv=function(){var e=Blockly.getAbsoluteXY_(this.borderRect_,this.getRootSVGElement_());if(0<=navigator.userAgent.indexOf("MSIE")||0<=navigator.userAgent.indexOf("Trident")){this.borderRect_.style.display="inline";var t={x:this.borderRect_.getBBox().x,y:this.borderRect_.getBBox().y,width:this.borderRect_.scrollWidth,height:this.borderRect_.scrollHeight}}else t=this.borderRect_.getBBox();Blockly.RTL&&(e.x+=t.width),e.y+=t.height-1,t=Blockly.WidgetDiv.DIV,Blockly.RTL&&t&&(e.x-=t.offsetWidth),t=goog.dom.getViewportSize();var o=goog.style.getViewportPageOffset(document);Blockly.WidgetDiv.position(e.x,e.y,t,o)},Blockly.FieldColour.prototype.generateWidgetDisposeHandler_=function(){var e=Blockly.FieldRectangularDropdown.superClass_.generateWidgetDisposeHandler_.call(this);return function(){e(),Blockly.FieldColour.changeEventKey_&&goog.events.unlistenByKey(Blockly.FieldColour.changeEventKey_)}.bind(this)},Blockly.ImageDimensionCache={},Blockly.ImageDimensionCache.imageDimensions_={},Blockly.ImageDimensionCache.IMAGE_LOADING_WIDTH=40,Blockly.ImageDimensionCache.IMAGE_LOADING_HEIGHT=40,Blockly.ImageDimensionCache.getCachedDimensionsOrDefaultAndUpdate=function(e,t){return Blockly.ImageDimensionCache.getCachedDimensions(e)||(Blockly.ImageDimensionCache.getDimensionsAsync(e,t),{width:Blockly.ImageDimensionCache.IMAGE_LOADING_WIDTH,height:Blockly.ImageDimensionCache.IMAGE_LOADING_HEIGHT})},Blockly.ImageDimensionCache.getCachedDimensions=function(e){return Blockly.ImageDimensionCache.imageDimensions_[e]},Blockly.ImageDimensionCache.storeDimensions=function(e,t,o){Blockly.ImageDimensionCache.imageDimensions_[e]={width:t,height:o}},Blockly.ImageDimensionCache.getDimensionsAsync=function(e,t){var o=new Image;o.onload=function(){Blockly.ImageDimensionCache.storeDimensions(e,o.width,o.height),t(o.width,o.height)},o.src=e},Blockly.FieldImage=function(e,t,o){if(!t&&!o){var n=this;t=(o=Blockly.ImageDimensionCache.getCachedDimensionsOrDefaultAndUpdate(e,function(e,t){n.isDestroyed_()||n.updateDimensions_(e,t)})).width,o=o.height}this.initializeWithImage_(e,t,o)},goog.inherits(Blockly.FieldImage,Blockly.Field),Blockly.FieldImage.prototype.isDestroyed_=function(){return!this.imageElement_},Blockly.FieldImage.IMAGE_LOADING_WIDTH=40,Blockly.FieldImage.IMAGE_LOADING_HEIGHT=40,Blockly.FieldImage.IMAGE_OFFSET_Y=6-Blockly.BlockSvg.TITLE_HEIGHT,Blockly.FieldImage.BELOW_IMAGE_PADDING=10,Blockly.FieldImage.prototype.initializeWithImage_=function(e,t,o){this.sourceBlock_=null,o=Number(o),t=Number(t),this.size_={height:o+Blockly.FieldImage.BELOW_IMAGE_PADDING,width:t},this.fieldGroup_=Blockly.createSvgElement("g",{},null),this.imageElement_=Blockly.createSvgElement("image",{height:o+"px",width:t+"px",y:Blockly.FieldImage.IMAGE_OFFSET_Y},this.fieldGroup_),this.setText(e),goog.userAgent.GECKO&&(this.clickRectElement_=Blockly.createSvgElement("rect",{height:o+"px",width:t+"px",y:Blockly.FieldImage.IMAGE_OFFSET_Y,"fill-opacity":0},this.fieldGroup_))},Blockly.FieldImage.prototype.updateDimensions_=function(e,t){this.size_={height:t+Blockly.FieldImage.BELOW_IMAGE_PADDING,width:e},this.imageElement_.setAttribute("width",e+"px"),this.imageElement_.setAttribute("height",t+"px"),this.clickRectElement_&&(this.clickRectElement_.setAttribute("width",e+"px"),this.clickRectElement_.setAttribute("height",t+"px")),this.refreshRender()},Blockly.FieldImage.prototype.clickRectElement_=null,Blockly.FieldImage.prototype.EDITABLE=!1,Blockly.FieldImage.prototype.init=function(e){if(this.sourceBlock_)throw"Image has already been initialized once.";(this.sourceBlock_=e).getSvgRoot().appendChild(this.fieldGroup_),(e=this.getClickTarget()).tooltip=this.sourceBlock_,Blockly.Tooltip&&Blockly.Tooltip.bindMouseEvents(e)},Blockly.FieldImage.prototype.dispose=function(){goog.dom.removeNode(this.fieldGroup_),this.clickRectElement_=this.imageElement_=this.fieldGroup_=null},Blockly.FieldImage.prototype.getClickTarget=function(){return this.clickRectElement_||this.imageElement_},Blockly.FieldImage.prototype.setTooltip=function(e){this.getClickTarget().tooltip=e},Blockly.FieldImage.prototype.getText=function(){return this.src_},Blockly.FieldImage.prototype.setText=function(e){null!==e&&(this.src_=e,this.imageElement_.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",goog.isString(e)?e:""))},Blockly.FieldRectangularDropdown=function(e,t){this.menuGenerator_=e,e=this.getOptions(),this.buttons_=t,t=e[0],this.value_=t[Blockly.FieldRectangularDropdown.TUPLE_VALUE_INDEX],t=t[Blockly.FieldRectangularDropdown.TUPLE_PREVIEW_DATA_INDEX],this.size_={width:Blockly.FieldImage.IMAGE_LOADING_WIDTH,height:Blockly.FieldImage.IMAGE_LOADING_HEIGHT},this.buildDOMElements_(),this.updatePreviewData_(t)},goog.inherits(Blockly.FieldRectangularDropdown,Blockly.Field),Blockly.FieldRectangularDropdown.TUPLE_PREVIEW_DATA_INDEX=0,Blockly.FieldRectangularDropdown.TUPLE_VALUE_INDEX=1,Blockly.FieldRectangularDropdown.BORDER_MARGIN=2,Blockly.FieldRectangularDropdown.DROPDOWN_MENU_BORDER=2,Blockly.FieldRectangularDropdown.MENU_CSS_CLASS="blocklyRectangularDropdownMenu",Blockly.FieldRectangularDropdown.BORDER_OFFSET_X=-Blockly.FieldRectangularDropdown.BORDER_MARGIN,Blockly.FieldRectangularDropdown.BORDER_OFFSET_Y=Blockly.FieldImage.IMAGE_OFFSET_Y-Blockly.FieldRectangularDropdown.BORDER_MARGIN,Blockly.FieldRectangularDropdown.BORDER_RECTANGLE_RADIUS=4,Blockly.FieldRectangularDropdown.BORDER_EXTRA_ARROW_WIDTH=30,Blockly.FieldRectangularDropdown.DROPDOWN_ARROW_WIDTH=20,Blockly.FieldRectangularDropdown.DROPDOWN_ARROW_HEIGHT=23,Blockly.FieldRectangularDropdown.DROPDOWN_ARROW_X_OFFSET_FROM_PREVIEW_RIGHT=Blockly.FieldRectangularDropdown.BORDER_EXTRA_ARROW_WIDTH/2-Blockly.FieldRectangularDropdown.DROPDOWN_ARROW_WIDTH/2,Blockly.FieldRectangularDropdown.DROPDOWN_ARROW_Y_OFFSET_FROM_PREVIEW_MIDDLE=-Blockly.FieldRectangularDropdown.DROPDOWN_ARROW_HEIGHT/2-4,Blockly.FieldRectangularDropdown.CHECKMARK_OVERHANG=0,Blockly.FieldRectangularDropdown.DOWN_ARROW_CHARACTER="▼",Blockly.FieldRectangularDropdown.UP_ARROW_CHARACTER="▲",Blockly.FieldRectangularDropdown.prototype.CURSOR="default",Blockly.FieldRectangularDropdown.prototype.EDITABLE=!0,Blockly.FieldRectangularDropdown.prototype.getOptions=function(){return goog.isFunction(this.menuGenerator_)?this.menuGenerator_.call(this):this.menuGenerator_},Blockly.FieldRectangularDropdown.prototype.buildDOMElements_=function(){this.fieldGroup_=Blockly.createSvgElement("g",{},null),this.dropdownBorderRectElement_=Blockly.createSvgElement("rect",{rx:Blockly.FieldRectangularDropdown.BORDER_RECTANGLE_RADIUS,ry:Blockly.FieldRectangularDropdown.BORDER_RECTANGLE_RADIUS,x:Blockly.FieldRectangularDropdown.BORDER_OFFSET_X,y:Blockly.FieldRectangularDropdown.BORDER_OFFSET_Y,height:Blockly.FieldImage.IMAGE_LOADING_HEIGHT,class:"fieldRectangularDropdownBackdrop"},this.fieldGroup_),this.addPreviewElementTo_(this.fieldGroup_),this.createDropdownArrow_(),this.clickRectElement_=Blockly.createSvgElement("rect",{height:Blockly.FieldImage.IMAGE_LOADING_HEIGHT+"px",width:Blockly.FieldImage.IMAGE_LOADING_WIDTH+"px",y:Blockly.FieldImage.IMAGE_OFFSET_Y,"fill-opacity":0},this.fieldGroup_)},Blockly.FieldRectangularDropdown.prototype.addPreviewElementTo_=function(){throw Error("FieldRectangularDropdown.prototype.addPreviewElementTo_ not implemented")},Blockly.FieldRectangularDropdown.prototype.createDropdownArrow_=function(){this.dropdownArrowText_=Blockly.createSvgElement("text",{class:"blocklyText"},this.fieldGroup_),this.arrowCharacter_=Blockly.createSvgElement("tspan",{class:"blocklyArrow blocklyRectangularDropdownArrow"},this.dropdownArrowText_),this.arrowCharacter_.appendChild(document.createTextNode(Blockly.FieldRectangularDropdown.DOWN_ARROW_CHARACTER))},Blockly.FieldRectangularDropdown.prototype.updatePreviewData_=function(e){throw Error("FieldRectangularDropdown.prototype.updatePreviewData_ not implemented")},Blockly.FieldRectangularDropdown.prototype.updateDimensions_=function(e,t){this.previewSize_={width:e,height:t};var o=t+2*Blockly.FieldRectangularDropdown.BORDER_MARGIN,n=e+2*Blockly.FieldRectangularDropdown.BORDER_MARGIN+Blockly.FieldRectangularDropdown.BORDER_EXTRA_ARROW_WIDTH;this.updatePreviewDimensions_(e,t),this.clickRectElement_.setAttribute("width",n+"px"),this.clickRectElement_.setAttribute("height",o+"px"),this.dropdownBorderRectElement_.setAttribute("width",n+"px"),this.dropdownBorderRectElement_.setAttribute("height",o+"px"),t=t/2-Blockly.FieldImage.IMAGE_OFFSET_Y,this.dropdownArrowText_.setAttribute("x",e+Blockly.FieldRectangularDropdown.DROPDOWN_ARROW_X_OFFSET_FROM_PREVIEW_RIGHT),this.dropdownArrowText_.setAttribute("y",t+Blockly.FieldRectangularDropdown.DROPDOWN_ARROW_Y_OFFSET_FROM_PREVIEW_MIDDLE),this.size_={height:o+Blockly.FieldImage.BELOW_IMAGE_PADDING,width:n},this.refreshRender()},Blockly.FieldRectangularDropdown.prototype.updatePreviewDimensions_=function(e,t){throw Error("FieldRectangularDropdown.prototype.updatePreviewDimensions_ not implemented")},Blockly.FieldRectangularDropdown.prototype.createDropdownPreviewElement_=function(e){throw Error("FieldRectangularDropdown.prototype.updatePreviewDimensions_ not implemented")},Blockly.FieldRectangularDropdown.prototype.pointArrowUp_=function(){this.setArrowDirection_(!0)},Blockly.FieldRectangularDropdown.prototype.pointArrowDown_=function(){this.setArrowDirection_(!1)},Blockly.FieldRectangularDropdown.prototype.setArrowDirection_=function(e){this.arrowCharacter_.firstChild.nodeValue=e?Blockly.FieldRectangularDropdown.UP_ARROW_CHARACTER:Blockly.FieldRectangularDropdown.DOWN_ARROW_CHARACTER},Blockly.FieldRectangularDropdown.prototype.showMenu_=function(){if(this.showWidgetDiv_(),this.menu_=this.createMenuWithChoices_(this.getOptions()),goog.events.listen(this.menu_,goog.ui.Component.EventType.ACTION,this.generateMenuItemSelectedHandler_()),this.buttons_)for(var e=$jscomp.makeIterator(this.buttons_),t=e.next();!t.done;t=e.next())this.addMenuButton_(t.value);this.addPositionAndShowMenu(this.menu_),this.pointArrowUp_()},Blockly.FieldRectangularDropdown.prototype.addMenuButton_=function(e){var t=new goog.ui.Button(e.text);this.menuButtonListenKey_=goog.events.listen(t,goog.ui.Component.EventType.ACTION,e.action),this.menu_.addItem(t)},Blockly.FieldRectangularDropdown.prototype.hideMenu_=function(){this.menuButtonListenKey_&&goog.events.unlistenByKey(this.menuButtonListenKey_),this.pointArrowDown_()},Blockly.FieldRectangularDropdown.prototype.menuAlreadyShowing_=function(){return this.menu_&&Blockly.WidgetDiv.isOwner(this)&&Blockly.WidgetDiv.isVisible()},Blockly.FieldRectangularDropdown.prototype.createMenuWithChoices_=function(e){for(var t=new goog.ui.Menu,o=0;o<e.length;o++){var n=e[o][Blockly.FieldRectangularDropdown.TUPLE_VALUE_INDEX],r=n===this.value_,i=this.createDropdownPreviewElement_(e[o][Blockly.FieldRectangularDropdown.TUPLE_PREVIEW_DATA_INDEX]);(i=new goog.ui.MenuItem(i)).setValue(n),n=1===chooseNumberOfColumns(e.length),r&&n?t.addItemAt(i,0):t.addItem(i)}return t},Blockly.FieldRectangularDropdown.prototype.generateMenuItemSelectedHandler_=function(){var n=this;return function(e){if((e=e.target)&&null!==(e=e.getValue())&&void 0!==e){n.setValue(e);var t=this.sourceBlock_?this.sourceBlock_.getRootBlock():null;if(t=t?t.getRelationalUpdateBlocks():null){var o=this.getPreviewDataForValue_(e);t.forEach(function(e){e.isDestroyed_()||e.setText(o)})}}Blockly.WidgetDiv.hideIfOwner(n)}.bind(this)},Blockly.FieldRectangularDropdown.prototype.generateWidgetDisposeHandler_=function(){var e=Blockly.FieldRectangularDropdown.superClass_.generateWidgetDisposeHandler_.call(this);return function(){e(),this.hideMenu_()}.bind(this)},Blockly.FieldRectangularDropdown.prototype.addPositionAndShowMenu=function(e){var t=Blockly.WidgetDiv.DIV;t.style.visibility="hidden",e.render(t),e.setAllowAutoFocus(!0);var o=e.getElement();Blockly.addClass_(o,"blocklyDropdownMenu"),Blockly.addClass_(o,Blockly.FieldRectangularDropdown.MENU_CSS_CLASS),Blockly.addClass_(o,"goog-menu-noaccel");var n=this.calculateBackdropColourWithoutAlpha_();o.style.borderColor=n,o.style.background=n,1<(e=chooseNumberOfColumns(e.getChildCount()))&&(o.style.width=(this.previewSize_.width+4)*e+4+"px",Blockly.addClass_(o,"blocklyGridDropdownMenu")),this.positionWidgetDiv(),t.style.visibility="visible"},Blockly.FieldRectangularDropdown.prototype.positionWidgetDiv=function(){var e=goog.style.getSize(this.menu_.getElement()),t=chooseNumberOfColumns(this.menu_.getChildCount()),o=this.calculateMenuPosition_(this.previewElement_,1<t),n=goog.dom.getViewportSize();o.x+e.width>n.width&&(o.x-=e.width-e.width/t),o.y+e.height>n.height&&(o.y-=e.height+e.height/Math.ceil(this.menu_.getChildCount()/t)),e=goog.style.getViewportPageOffset(document),Blockly.WidgetDiv.position(o.x,o.y,n,e)},Blockly.FieldRectangularDropdown.prototype.calculateMenuPosition_=function(e,t){return e={x:(e=Blockly.getAbsoluteXY_(e,this.getRootSVGElement_())).x-Blockly.FieldRectangularDropdown.DROPDOWN_MENU_BORDER,y:e.y-Blockly.FieldRectangularDropdown.DROPDOWN_MENU_BORDER},t&&(e.y+=this.previewSize_.height+Blockly.FieldRectangularDropdown.DROPDOWN_MENU_BORDER),e},Blockly.FieldRectangularDropdown.prototype.getValue=function(){return this.value_},Blockly.FieldRectangularDropdown.prototype.setValue=function(e){this.getPreviewDataForValue_(e)&&(this.value_=e),this.refreshPreview_(),this.sourceBlock_&&this.sourceBlock_.blockSpace.fireChangeEvent()},Blockly.FieldRectangularDropdown.prototype.refreshPreview_=function(){this.updatePreviewData_(this.getCurrentPreviewData_())},Blockly.FieldRectangularDropdown.prototype.getCurrentPreviewData_=function(){return this.getPreviewDataForValue_(this.value_)},Blockly.FieldRectangularDropdown.prototype.getPreviewDataForValue_=function(e){for(var t=this.getOptions(),o=0;o<t.length;o++)if(t[o][Blockly.FieldRectangularDropdown.TUPLE_VALUE_INDEX]==e)return t[o][Blockly.FieldRectangularDropdown.TUPLE_PREVIEW_DATA_INDEX];return null},Blockly.FieldRectangularDropdown.prototype.init=function(e){if(this.sourceBlock_)throw"Field has already been initialized once.";this.sourceBlock_=e,this.sourceBlock_.getSvgRoot().appendChild(this.fieldGroup_),this.mouseUpWrapper_=Blockly.bindEvent_(this.getClickTarget(),"mouseup",this,this.onMouseUp_),this.mouseDownWrapper_=Blockly.bindEvent_(this.getClickTarget(),"mousedown",this,this.onMouseDown_),this.updateDropdownArrowColour_()},Blockly.FieldRectangularDropdown.prototype.updateDropdownArrowColour_=function(){if(!this.sourceBlock_)throw"Cannot update dropdown arrow colour before added to block";this.arrowCharacter_.style.fill=this.sourceBlock_.getHexColour()},Blockly.FieldRectangularDropdown.prototype.dispose=function(){Blockly.WidgetDiv.hideIfOwner(this),this.mouseDownWrapper_&&(Blockly.unbindEvent_(this.mouseDownWrapper_),this.mouseDownWrapper_=null),Blockly.FieldRectangularDropdown.superClass_.dispose.call(this)},Blockly.FieldRectangularDropdown.prototype.onMouseUp_=function(e){this.doNotOpenEditorNextMouseUp_?this.doNotOpenEditorNextMouseUp_=!1:Blockly.isRightButton(e)||Blockly.Block.isFreelyDragging()||!this.sourceBlock_.isEditable()||this.showMenu_()},Blockly.FieldRectangularDropdown.prototype.onMouseDown_=function(e){this.menuAlreadyShowing_()&&(this.doNotOpenEditorNextMouseUp_=!0)},Blockly.FieldRectangularDropdown.prototype.getClickTarget=function(){return this.clickRectElement_},Blockly.FieldRectangularDropdown.prototype.sendClickRectToFront_=function(){this.fieldGroup_.appendChild(this.clickRectElement_)},Blockly.FieldRectangularDropdown.prototype.calculateBackdropColourWithoutAlpha_=function(){var e=this.sourceBlock_.getHexColour();return Blockly.mixColoursWithForegroundOpacity("#ffffff",e,.6)},Blockly.FieldColourDropdown=function(e,t,o){e=this.convertColourChoicesToTuples_(e),Blockly.FieldColourDropdown.superClass_.constructor.call(this,e),this.updateDimensions_(t,o)},goog.inherits(Blockly.FieldColourDropdown,Blockly.FieldRectangularDropdown),Blockly.FieldColourDropdown.prototype.convertColourChoicesToTuples_=function(e){for(var t=[],o=0;o<e.length;o++){var n=e[o],r=[];r[Blockly.FieldRectangularDropdown.TUPLE_PREVIEW_DATA_INDEX]=n,r[Blockly.FieldRectangularDropdown.TUPLE_VALUE_INDEX]=n,t.push(r)}return t},Blockly.FieldColourDropdown.prototype.addPreviewElementTo_=function(e){this.previewElement_=Blockly.createSvgElement("rect",{y:Blockly.FieldImage.IMAGE_OFFSET_Y,height:Blockly.FieldImage.IMAGE_LOADING_HEIGHT+"px",width:Blockly.FieldImage.IMAGE_LOADING_WIDTH+"px"},e)},Blockly.FieldColourDropdown.prototype.createDropdownPreviewElement_=function(e){var t=document.createElement("div");return t.style.backgroundColor=e,t.style.width=this.previewSize_.width+"px",t.style.height=this.previewSize_.height+"px",t},Blockly.FieldColourDropdown.prototype.updatePreviewData_=function(e){this.previewElement_.setAttribute("fill",e)},Blockly.FieldColourDropdown.prototype.updatePreviewDimensions_=function(e,t){this.previewElement_.setAttribute("width",e+"px"),this.previewElement_.setAttribute("height",t+"px")},Blockly.FieldDropdown=function(e,t,o){this.menuGenerator_=e||[[Blockly.FieldDropdown.NO_OPTIONS_MESSAGE,Blockly.FieldDropdown.NO_OPTIONS_MESSAGE]],this.changeHandler_=t,this.alwaysCallChangeHandler_=!!o,this.trimOptions_(),e=this.getOptions()[0],this.value_=e[1],this.arrow_=Blockly.createSvgElement("tspan",{class:"blocklyArrow"},null),this.arrow_.appendChild(document.createTextNode(Blockly.RTL?"▼ ":" ▼")),Blockly.FieldDropdown.superClass_.constructor.call(this,e[0])},goog.inherits(Blockly.FieldDropdown,Blockly.Field),Blockly.FieldDropdown.CHECKMARK_OVERHANG=25,Blockly.FieldDropdown.NO_OPTIONS_MESSAGE="uninitialized",Blockly.FieldDropdown.prototype.CURSOR="default",Blockly.FieldDropdown.prototype.showEditor_=function(e){this.showWidgetDiv_();var o=this;this.menu_=new goog.ui.Menu;for(var t=this.getOptions(),n=0;n<t.length;n++){var r=t[n][1],i=new goog.ui.MenuItem(t[n][0]);i.setValue(r),i.setCheckable(!0),this.menu_.addItem(i),i.setChecked(r===this.value_)}goog.events.listen(this.menu_,goog.ui.Component.EventType.ACTION,function(e){if(e=e.target){if(e=e.getValue(),o.changeHandler_&&!o.alwaysCallChangeHandler_){var t=o.changeHandler_(e);void 0!==t&&(e=t)}null!==e&&o.setValue(e)}Blockly.WidgetDiv.hideIfOwner(o)}),(t=e||Blockly.WidgetDiv.DIV).style.visibility="hidden",this.menu_.render(t),this.menu_.setAllowAutoFocus(!0),n=this.menu_.getElement(),Blockly.addClass_(n,"blocklyDropdownMenu"),Blockly.addClass_(n,"goog-menu-noaccel"),(e||n).style.borderColor="hsla("+this.sourceBlock_.getColour()+", "+100*this.sourceBlock_.getSaturation()+"%, "+100*this.sourceBlock_.getValue()+"%, 0.5)",n.style.overflowY="auto",n.style["max-height"]="265px",this.positionWidgetDiv(),t.style.visibility="visible"},Blockly.FieldDropdown.prototype.positionWidgetDiv=function(){var e=goog.dom.getViewportSize(),t=goog.style.getViewportPageOffset(document),o=Blockly.getAbsoluteXY_(this.borderRect_,this.getRootSVGElement_()),n=this.borderRect_.getBBox(),r=goog.style.getSize(this.menu_.getElement());o.y=o.y+r.height+n.height>=e.height+t.y?o.y-r.height:o.y+n.height,Blockly.RTL?(o.x+=n.width,o.x+=Blockly.FieldDropdown.CHECKMARK_OVERHANG,o.x<t.x+r.width&&(o.x=t.x+r.width)):(o.x-=Blockly.FieldDropdown.CHECKMARK_OVERHANG,o.x>e.width+t.x-r.width&&(o.x=e.width+t.x-r.width)),Blockly.isIOS()&&(o.y-=t.y),Blockly.WidgetDiv.position(o.x,o.y,e,t)},Blockly.FieldDropdown.prototype.trimOptions_=function(){this.suffixTitle=this.prefixTitle=null;var e=this.menuGenerator_;if(goog.isArray(e)&&!(e.length<2)){var t=e.map(function(e){return e[0]}),o=Blockly.shortestStringLength(t),n=Blockly.commonWordPrefix(t,o),r=Blockly.commonWordSuffix(t,o);if((n||r)&&!(o<=n+r)){for(n&&(this.prefixTitle=t[0].substring(0,n-1)),r&&(this.suffixTitle=t[0].substr(1-r)),t=[],o=0;o<e.length;o++){var i=e[o][0],a=e[o][1];i=i.substring(n,i.length-r),t[o]=[i,a]}this.menuGenerator_=t}}},Blockly.FieldDropdown.prototype.getOptions=function(){return goog.isFunction(this.menuGenerator_)?this.menuGenerator_.call(this):this.menuGenerator_},Blockly.FieldDropdown.prototype.getValue=function(){return this.value_},Blockly.FieldDropdown.prototype.setValue=function(e){if(this.alwaysCallChangeHandler_&&this.changeHandler_){var t=this.changeHandler_(e);void 0!==t&&(e=t)}this.value_=e,t=this.getOptions();for(var o=0;o<t.length;o++)if(t[o][1]==e)return void this.setText(t[o][0]);this.setText(e)},Blockly.FieldDropdown.prototype.setToFirstValue_=function(){this.setValue(this.getOptions()[0][1])},Blockly.FieldDropdown.prototype.setConfig=function(e){this.config=e;var t=Blockly.printerRangeToNumbers(e);if(0!==t.length||(t=(e||"").split(","),0!==(t=goog.array.map(t,function(e){return e.trim()})).length)){var o={};goog.array.forEach(this.getOptions(),function(e){o[e[1]]=e[0]}),this.menuGenerator_=goog.array.map(t,function(e){var t=o[e];return t?[t.toString(),e.toString()]:[e.toString(),e.toString()]}),this.setToFirstValue_()}},Blockly.FieldDropdown.prototype.setText=function(e){this.sourceBlock_&&(this.arrow_.style.fill=this.sourceBlock_.getHexColour()),null!==e&&(this.text_=e,goog.dom.removeChildren(this.textElement_),(e=e.replace(/\s/g,Blockly.Field.NBSP))||(e=Blockly.Field.NBSP),e=document.createTextNode(e),this.textElement_.appendChild(e),Blockly.RTL?this.textElement_.insertBefore(this.arrow_,this.textElement_.firstChild):this.textElement_.appendChild(this.arrow_),this.size_.width=0,this.sourceBlock_&&this.sourceBlock_.rendered&&(this.sourceBlock_.render(),this.sourceBlock_.bumpNeighbours(),this.sourceBlock_.blockSpace.fireChangeEvent()))},Blockly.FieldDropdown.prototype.dispose=function(){Blockly.WidgetDiv.hideIfOwner(this),Blockly.FieldDropdown.superClass_.dispose.call(this)},Blockly.FieldAngleDropdown=function(e){this.angleHelper=null,this.direction=e.direction,this.directionTitleName=e.directionTitleName,Blockly.FieldAngleDropdown.superClass_.constructor.call(this,e.menuGenerator,e.opt_changeHandler)},goog.inherits(Blockly.FieldAngleDropdown,Blockly.FieldDropdown),Blockly.FieldAngleDropdown.prototype.getAngleDirection_=function(){if(this.direction&&this.directionTitleName)throw"FieldAngleDropdown should not have both a direction and a directionTitleName; please pass at most one of these options";return this.directionTitleName?this.sourceBlock_.getTitleValue(this.directionTitleName):this.direction?this.direction:"turnRight"},Blockly.FieldAngleDropdown.prototype.showEditor_=function(){var e=Blockly.WidgetDiv.DIV,t=goog.dom.createDom("div","blocklyFieldAngleDropdown");e.appendChild(t),Blockly.FieldAngleDropdown.superClass_.showEditor_.call(this,t);var o=this.menu_.getElement();o=goog.style.getSize(o),o=Math.max(o.height,150),t.style.height=o+"px";var n=goog.dom.createDom("div");return t.appendChild(n),this.angleHelper=new Blockly.AngleHelper(this.getAngleDirection_(),{onUpdate:function(){this.setValue(this.angleHelper.getAngle().toString()),this.menu_.getItems().forEach(function(e){e.setChecked(e.getValue()===this.value_)},this)}.bind(this),snapPoints:this.getOptions().map(function(e){return parseInt(e[1])}),arcColour:this.sourceBlock_.getHexColour(),height:o,width:150,angle:parseInt(this.getValue())}),this.angleHelper.init(n),goog.events.listen(this.menu_,goog.ui.Component.EventType.HIGHLIGHT,function(e){(e=e.target)&&(e=e.getValue(),this.angleHelper.animateAngleChange(parseInt(e)))}.bind(this)),e},Blockly.FieldAngleDropdown.prototype.dispose=function(){this.angleHelper&&this.angleHelper.dispose(),Blockly.FieldAngleDropdown.superClass_.dispose.call(this)},Blockly.FieldAngleTextInput=function(e,t){this.direction=t.direction,this.directionTitle=t.directionTitle,Blockly.FieldAngleTextInput.superClass_.constructor.call(this,e,Blockly.FieldTextInput.numberValidator)},goog.inherits(Blockly.FieldAngleTextInput,Blockly.FieldTextInput),Blockly.FieldAngleTextInput.prototype.getFieldHelperOptions_=function(e){if(e===Blockly.BlockFieldHelper.ANGLE_HELPER)return{direction:this.direction,directionTitle:this.directionTitle,block:this.sourceBlock_}},Blockly.FieldIcon=function(e){Blockly.FieldIcon.superClass_.constructor.apply(this,arguments),Blockly.addClass_(this.fieldGroup_,"blocklyIconGroup"),Blockly.addClass_(this.borderRect_,"blocklyIconShield"),this.textElement_.setAttribute("style","font-size:9pt; cursor:default;")},goog.inherits(Blockly.FieldIcon,Blockly.Field),Blockly.FieldIcon.prototype.EDITABLE=!1,Blockly.FieldIcon.prototype.showEditor_=function(){},Blockly.FieldImageDropdown=function(e,t,o,n){this.width_=t,this.height_=o,this.menuGenerator_=e,Blockly.FieldImageDropdown.superClass_.constructor.call(this,e,n),this.hasForcedDimensions_()&&this.updateDimensions_(this.width_,this.height_)},goog.inherits(Blockly.FieldImageDropdown,Blockly.FieldRectangularDropdown),Blockly.FieldImageDropdown.prototype.hasForcedDimensions_=function(){return!!this.width_},Blockly.FieldImageDropdown.prototype.addPreviewElementTo_=function(e){this.previewElement_=Blockly.createSvgElement("image",{height:Blockly.FieldImage.IMAGE_LOADING_HEIGHT+"px",width:Blockly.FieldImage.IMAGE_LOADING_WIDTH+"px",y:Blockly.FieldImage.IMAGE_OFFSET_Y,preserveAspectRatio:"xMidYMid slice"},e)},Blockly.FieldImageDropdown.prototype.updatePreviewData_=function(e){this.previewElement_.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",e),this.hasForcedDimensions_()||this.getUpdatedDimensions_(e)},Blockly.FieldImageDropdown.prototype.createDropdownPreviewElement_=function(e){return this.hasForcedDimensions_()?this.createAutoSizedDropdownPreviewElement_(e,this.width_,this.height_):this.createImageDropdownPreviewElement_(e)},Blockly.FieldImageDropdown.prototype.createAutoSizedDropdownPreviewElement_=function(e,t,o){var n=document.createElement("div");return n.style.backgroundImage="url('"+e+"')",n.style.backgroundSize="cover",n.style.backgroundRepeat="no-repeat",n.style.backgroundPosition="50% 50%",n.style.width=t+"px",n.style.height=o+"px",n},Blockly.FieldImageDropdown.prototype.createImageDropdownPreviewElement_=function(e){var t=document.createElement("img");return t.setAttribute("src",e),t},Blockly.FieldImageDropdown.prototype.getUpdatedDimensions_=function(e){var o=this;e=Blockly.ImageDimensionCache.getCachedDimensionsOrDefaultAndUpdate(e,function(e,t){o.updateDimensions_(e,t)}),this.updateDimensions_(e.width,e.height)},Blockly.FieldImageDropdown.prototype.updatePreviewDimensions_=function(e,t){this.previewElement_.setAttribute("width",e+"px"),this.previewElement_.setAttribute("height",t+"px")},Blockly.BlockLimits=function(){this.limits_={},this.events=new goog.events.EventTarget},Blockly.BlockLimits.prototype.setLimit=function(e,t){this.limits_[e]={count:void 0,limit:t},this.updateCount(e,0)},Blockly.BlockLimits.prototype.updateBlockTotals=function(e){var o=Blockly.aggregateCounts(e);goog.object.forEach(this.limits_,function(e,t){this.updateCount(t,o[t]||0)}.bind(this))},Blockly.BlockLimits.prototype.updateCount=function(e,t){var o=this.limits_[e],n=t!==o.count;o.count=t,n&&this.events.fireListeners("change",!1,{type:e,limit:o.limit,remaining:o.limit-o.count})},Blockly.BlockLimits.prototype.getLimit=function(e){return this.limits_[e]?this.limits_[e].limit:void 0},Blockly.BlockLimits.prototype.hasBlockLimits=function(){return 0<Object.keys(this.limits_).length},Blockly.BlockLimits.prototype.canAddBlocks=function(e){return e=Blockly.aggregateCounts(e),goog.object.every(e,function(e,t){return this.blockTypeWithinLimits(t,e)},this)},Blockly.BlockLimits.prototype.blockTypeWithinLimits=function(e,t){return void 0===t&&(t=1),!(e=this.limits_[e])||e.limit-e.count>=t},Blockly.BlockLimits.prototype.blockLimitExceeded=function(){return goog.object.findKey(this.limits_,function(e){return e.count>e.limit})},Blockly.Flyout=function(e,t){var o=this;this.blockSpaceEditor_=e,this.blockSpace_=new Blockly.BlockSpace(e,function(){return o.getMetrics_()},function(e){return o.setMetrics_(e)}),this.blockSpace_.isFlyout=!0,this.static_=t,this.changeWrapper_=null,this.height_=this.width_=0,this.buttons_=[],this.listeners_=[],this.enabled_=!0},Blockly.Flyout.configure=function(e,t){Blockly.Flyout.config[e]=t},Blockly.Flyout.config={},Blockly.Flyout.prototype.autoClose=!0,Blockly.Flyout.prototype.CORNER_RADIUS=8,Blockly.Flyout.prototype.onResizeWrapper_=null,Blockly.Flyout.prototype.createDom=function(e){return this.svgGroup_=Blockly.createSvgElement("g",{class:"svgFlyoutGroup"},null),this.svgBackground_=Blockly.createSvgElement("path",{class:"blocklyFlyoutBackground"},this.svgGroup_),this.svgGroup_.appendChild(this.blockSpace_.createDom()),e||(this.trashcan=new Blockly.Trashcan(this),this.svgTrashcan_=this.trashcan.createDom(),this.svgTrashcan_.setAttribute("style","display: none; pointer-events: none"),this.svgTrashcan_.setAttribute("transform","translate(0, 20)"),this.svgGroup_.appendChild(this.svgTrashcan_)),this.svgGroup_},Blockly.Flyout.prototype.dispose=function(){this.hide(),this.onResizeWrapper_&&(Blockly.unbindEvent_(this.onResizeWrapper_),this.onResizeWrapper_=null),this.changeWrapper_&&(Blockly.unbindEvent_(this.changeWrapper_),this.changeWrapper_=null),this.blockSpace_.dispose(),this.blockSpace_=null,this.svgGroup_&&(goog.dom.removeNode(this.svgGroup_),this.svgGroup_=null),this.targetBlockSpace_=this.svgBackground_=null},Blockly.Flyout.prototype.getMetrics_=function(){if(!this.isVisible())return null;var e=this.height_-2*this.CORNER_RADIUS,t=this.width_;try{if(Blockly.isMsie()||Blockly.isTrident()){this.blockSpace_.getCanvas().style.display="inline";var o={x:this.blockSpace_.getCanvas().getBBox().x,y:this.blockSpace_.getCanvas().getBBox().y,width:this.blockSpace_.getCanvas().scrollWidth,height:this.blockSpace_.getCanvas().scrollHeight}}else o=this.blockSpace_.getCanvas().getBBox()}catch(e){o={height:0,y:0}}return{viewHeight:e,viewWidth:t,contentHeight:o.height+o.y,viewTop:this.blockSpace_.getScrollOffsetY(),contentTop:0,absoluteTop:this.CORNER_RADIUS,absoluteLeft:0}},Blockly.Flyout.prototype.getHeight=function(){return this.height_},Blockly.Flyout.prototype.setMetrics_=function(e){var t=this.getMetrics_();goog.isNumber(e.y)&&(this.blockSpace_.yOffsetFromView=-t.contentHeight*e.y-t.contentTop),e=this.blockSpace_.yOffsetFromView+t.absoluteTop,this.blockSpace_.getCanvas().setAttribute("transform","translate(0,"+e+")")},Blockly.Flyout.prototype.init=function(e,t){this.targetBlockSpace_=e,t&&(this.blockSpace_.scrollbarPair=new Blockly.ScrollbarPair(this.blockSpace_,!1,!0)),this.hide(),this.onResizeWrapper_=Blockly.bindEvent_(window,goog.events.EventType.RESIZE,this,this.position_),this.position_(),this.changeWrapper_=Blockly.bindEvent_(this.targetBlockSpace_.getCanvas(),"blocklyBlockSpaceChange",this,this.onBlockSpaceChange_)},Blockly.Flyout.prototype.position_=function(){if(this.isVisible()){var e=this.targetBlockSpace_.customFlyoutMetrics_?this.targetBlockSpace_.customFlyoutMetrics_():this.targetBlockSpace_.getMetrics();if(e){var t=this.width_-this.CORNER_RADIUS;Blockly.RTL&&(t*=-1);var o=["M "+(Blockly.RTL?this.width_:0)+",0"];o.push("h",t),o.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,Blockly.RTL?0:1,Blockly.RTL?-this.CORNER_RADIUS:this.CORNER_RADIUS,this.CORNER_RADIUS),o.push("v",Math.max(0,e.viewHeight-2*this.CORNER_RADIUS)),o.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,Blockly.RTL?0:1,Blockly.RTL?this.CORNER_RADIUS:-this.CORNER_RADIUS,this.CORNER_RADIUS),o.push("h",-t),o.push("z"),this.svgBackground_.setAttribute("d",o.join(" ")),t=e.absoluteLeft,o=e.absoluteTop,Blockly.RTL?(t=this.static_?0:-this.width_,t+=e.viewWidth):this.static_&&(t-=this.width_),this.svgGroup_.setAttribute("transform","translate("+t+","+o+")"),this.height_=e.viewHeight,this.blockSpace_.updateScrollableSize(),this.svgTrashcan_&&(e=this.svgGroup_.getBoundingClientRect().width,this.svgTrashcan_.setAttribute("transform","translate("+Math.round(e/2-35)+", 20)"))}}},Blockly.Flyout.prototype.isVisible=function(){return"block"==this.svgGroup_.style.display},Blockly.Flyout.prototype.hide=function(t){if(this.isVisible()){this.svgGroup_.style.display="none",this.blockSpace_.unbindBeginPanDragHandler();for(var e,o=0;e=this.listeners_[o];o++)Blockly.unbindEvent_(e);for(this.listeners_.splice(0),this.reflowWrapper_&&(Blockly.unbindEvent_(this.reflowWrapper_),this.reflowWrapper_=null),this.blockSpace_.getTopBlocks(!1).forEach(function(e){e.rendered&&e!==t&&e.dispose(!1,!1,!0)}),o=0;e=this.buttons_[o];o++)goog.dom.removeNode(e);goog.dom.removeNode(goog.dom.getElementByClass("createFunction",this.blockSpace_.svgGroup_)),this.buttons_.splice(0)}},Blockly.Flyout.prototype.layoutBlock_=function(e,t,o,n){n=e.getHeightWidth(),e.moveBy(t.x,t.y),t.y+=n.height+o},Blockly.Flyout.prototype.layoutXmlToBlocks_=function(e,t,o,n){for(var r,i=0;r=e[i];i++)r.tagName&&"BLOCK"===r.tagName.toUpperCase()&&(t.push(Blockly.Xml.domToBlock(this.blockSpace_,r)),o.push(3*n))},Blockly.Flyout.prototype.show=function(e){this.hide(),this.svgGroup_.style.display="block";var t=this.CORNER_RADIUS,o=Blockly.RTL?this.width_:t+Blockly.BlockSvg.TAB_WIDTH,n={x:o,y:t};this.blockSpace_.bindBeginPanDragHandler(this.svgBackground_),this.blockSpace_.bindScrollOnWheelHandler(this.svgGroup_);var r=[],i=[];this.minFlyoutWidth_=0;var a=e&&e[0];if(a===Blockly.Variables.NAME_TYPE)this.layoutXmlToBlocks_(e.slice(1),r,i,t),Blockly.Variables.flyoutCategory(r,i,t,this.blockSpace_,Blockly.Variables.DEFAULT_CATEGORY,!0);else if(a===Blockly.Procedures.NAME_TYPE||Blockly.topLevelProcedureAutopopulate)Blockly.functionEditor&&!Blockly.functionEditor.isOpen()&&this.addButtonToFlyout_(n,Blockly.Msg.FUNCTION_CREATE,this.createFunction_),Blockly.disableProcedureAutopopulate&&this.layoutXmlToBlocks_(e.slice(1),r,i,t),Blockly.topLevelProcedureAutopopulate&&this.layoutXmlToBlocks_(e,r,i,t),Blockly.mainBlockSpace&&Blockly.Procedures.flyoutCategory(r,i,t,this.blockSpace_,function(e){return!e.isFunctionalVariable&&"behavior_definition"!==e.type});else if(a===Blockly.Procedures.NAME_TYPE_FUNCTIONAL_VARIABLE)Blockly.functionEditor&&!Blockly.functionEditor.isOpen()&&this.addButtonToFlyout_(n,Blockly.Msg.FUNCTIONAL_VARIABLE_CREATE,this.createFunctionalVariable_),Blockly.Procedures.flyoutCategory(r,i,t,this.blockSpace_,function(e){return e.isFunctionalVariable});else if("Behavior"===a||Blockly.topLevelProcedureAutopopulate)("Behavior"===a||Blockly.disableProcedureAutopopulate)&&this.layoutXmlToBlocks_(e.slice(1),r,i,t),Blockly.topLevelProcedureAutopopulate?this.layoutXmlToBlocks_(e,r,i,t):Blockly.Flyout.config[a]&&Blockly.Flyout.config[a].initialize(this,n),Blockly.mainBlockSpace&&Blockly.Procedures.flyoutCategory(r,i,t,this.blockSpace_,function(e){return"behavior_definition"===e.type});else if(goog.isString(a)){var s=!0,l=Blockly.Flyout.config[a];l&&(s=l.addDefaultVar,l.initialize(this,n)),this.layoutXmlToBlocks_(e.slice(1),r,i,t),Blockly.Variables.flyoutCategory(r,i,t,this.blockSpace_,a,s)}else this.layoutXmlToBlocks_(e,r,i,t);for(e=0;t=r[e];e++){for(a=t.getDescendants(),s=0;l=a[s];s++)l.isInFlyout=!0;t.render(!0),this.layoutBlock_(t,n,i[e],o),a=Blockly.createSvgElement("rect",{"fill-opacity":0},null),this.blockSpace_.getCanvas().insertBefore(a,t.getSvgRoot()),t.flyoutRect_=a,this.buttons_[e]=a,s=t.getSvgRoot(),this.autoClose?this.listeners_.push(Blockly.bindEvent_(s,"mousedown",null,this.createBlockFunc_(t))):this.listeners_.push(Blockly.bindEvent_(s,"mousedown",null,this.blockMouseDown_(t))),this.listeners_.push(Blockly.bindEvent_(s,"mouseover",t.svg_,t.svg_.addSelectNoMove)),this.listeners_.push(Blockly.bindEvent_(s,"mouseout",t.svg_,t.svg_.removeSelect)),this.listeners_.push(Blockly.bindEvent_(a,"mousedown",null,this.createBlockFunc_(t))),this.listeners_.push(Blockly.bindEvent_(a,"mouseover",t.svg_,t.svg_.addSelectNoMove)),this.listeners_.push(Blockly.bindEvent_(a,"mouseout",t.svg_,t.svg_.removeSelect))}this.width_=0,this.reflow(),this.filterForCapacity_(),this.updateBlockLimitTotals_(),Blockly.fireUiEvent(window,"resize"),this.reflowWrapper_=Blockly.bindEvent_(this.blockSpace_.getCanvas(),"blocklyBlockSpaceChange",this,this.reflow),this.blockSpace_.fireChangeEvent()},Blockly.Flyout.prototype.addButtonToFlyout_=function(e,t,o){var n=Blockly.createSvgElement("g",{class:"createFunction"},this.blockSpace_.svgGroup_),r=Blockly.createSvgElement("rect",{rx:5,ry:5,fill:"orange",stroke:"white"},n),i=Blockly.createSvgElement("text",{x:5,y:5,class:"blocklyText"},n);i.textContent=t,t=i.getBoundingClientRect(),this.minFlyoutWidth_=t.width+10,r.setAttribute("width",t.width+10),r.setAttribute("height",t.height+10),r.setAttribute("y",5-t.height-1),n.setAttribute("transform","translate(17, 25)"),Blockly.bindEvent_(n,"mousedown",this,o),e.y+=40},Blockly.Flyout.prototype.reflow=function(){for(var e,t=this.minFlyoutWidth_||0,o=this.CORNER_RADIUS,n=this.blockSpace_.getTopBlocks(!1),r=0;e=n[r];r++){var i=e.getHeightWidth();t=Math.max(t,i.width)}if(t+=o+Blockly.BlockSvg.TAB_WIDTH+o/2+Blockly.Scrollbar.scrollbarThickness,this.width_!=t){for(r=0;e=n[r];r++){i=e.getHeightWidth();var a=e.getRelativeToSurfaceXY();if(Blockly.RTL){var s=t-o-Blockly.BlockSvg.TAB_WIDTH-a.x;e.moveBy(s,0),a.x+=s}e.flyoutRect_&&(e.flyoutRect_.setAttribute("width",i.width),e.flyoutRect_.setAttribute("height",i.height),e.flyoutRect_.setAttribute("x",Blockly.RTL?a.x-i.width:a.x),e.flyoutRect_.setAttribute("y",a.y))}this.width_=t,Blockly.fireUiEvent(window,"resize")}},Blockly.Flyout.prototype.blockMouseDown_=function(t){var o=this;return function(e){o.enabled_&&(Blockly.BlockSpaceEditor.terminateDrag_(),o.blockSpace_.blockSpaceEditor.hideChaff(),Blockly.isRightButton(e)||(Blockly.removeAllRanges(),o.blockSpace_.blockSpaceEditor.setCursor(Blockly.Css.Cursor.CLOSED),Blockly.Flyout.startDragMouseX_=e.clientX,Blockly.Flyout.startDragMouseY_=e.clientY,Blockly.Flyout.startBlock_=t,Blockly.Flyout.startFlyout_=o,Blockly.Flyout.onMouseUpWrapper_=Blockly.bindEvent_(document,"mouseup",this,Blockly.BlockSpaceEditor.terminateDrag_),Blockly.Flyout.onMouseMoveWrapper_=Blockly.bindEvent_(document,"mousemove",this,o.onMouseMove_)),e.stopPropagation())}},Blockly.Flyout.prototype.onMouseMove_=function(e){"mousemove"==e.type&&e.clientX<=1&&0==e.clientY&&0==e.button?e.stopPropagation():(Blockly.removeAllRanges(),Math.sqrt(Math.pow(e.clientX-Blockly.Flyout.startDragMouseX_,2)+Math.pow(e.clientY-Blockly.Flyout.startDragMouseY_,2))>Blockly.DRAG_RADIUS&&(e.startDragMouseX_=Blockly.Flyout.startDragMouseX_,e.startDragMouseY_=Blockly.Flyout.startDragMouseY_,Blockly.Flyout.startFlyout_.createBlockFunc_(Blockly.Flyout.startBlock_)(e)))},Blockly.Flyout.prototype.createFunction_=function(){Blockly.functionEditor.openWithNewFunction()},Blockly.Flyout.prototype.createFunctionalVariable_=function(){Blockly.contractEditor.openWithNewVariable()},Blockly.Flyout.prototype.createBlockFunc_=function(i){var a=this;return function(e){if(a.enabled_&&!Blockly.isRightButton(e)&&!i.disabled){var t=Blockly.Xml.blockToDom(i),o=a.targetBlockSpace_;Blockly.Block.startDragging(),t=Blockly.Xml.domToBlock(o,t);var n=i.getSvgRoot();if(!n)throw"originBlock is not rendered.";n=Blockly.getSvgXY_(n,i.blockSpace.blockSpaceEditor.svg_);var r=t.getSvgRoot();if(!r)throw"block is not rendered.";r=Blockly.getSvgXY_(r,t.blockSpace.blockSpaceEditor.svg_),t.moveBy(n.x-r.x,n.y-r.y),a.autoClose?(a.hide(i),t.blockEvents.listenOnce(Blockly.Block.EVENTS.AFTER_DROPPED,function(){i.dispose(!1,!1)})):a.filterForCapacity_(),Blockly.topLevelProcedureAutopopulate&&t.isFunctionDefinition()&&t.blockEvents.listenOnce(Blockly.Block.EVENTS.AFTER_DROPPED,function(){window.setTimeout(function(){o.blockSpaceEditor.updateFlyout()},0)}),t.onMouseDown_(e)}}},Blockly.Flyout.prototype.onBlockSpaceChange_=function(){this.filterForCapacity_(),this.updateBlockLimitTotals_()},Blockly.Flyout.prototype.filterForCapacity_=function(){for(var e,t=this.targetBlockSpace_.remainingCapacity(),o=this.blockSpace_.getTopBlocks(!1),n=0;e=o[n];n++){var r=e.getDescendants().length>t;e.setDisabled(r)}},Blockly.Flyout.prototype.updateBlockLimitTotals_=function(){var e=this.blockSpaceEditor_.blockSpace.getAllBlocks();e=(e=goog.array.filter(e,function(e){return e.isUserVisible()&&!e.getRootBlock().isUnused()})).map(function(e){return e.type}),this.blockSpaceEditor_.blockLimits.updateBlockTotals(e)},Blockly.Flyout.terminateDrag_=function(){Blockly.Flyout.onMouseUpWrapper_&&(Blockly.unbindEvent_(Blockly.Flyout.onMouseUpWrapper_),Blockly.Flyout.onMouseUpWrapper_=null),Blockly.Flyout.onMouseMoveWrapper_&&(Blockly.unbindEvent_(Blockly.Flyout.onMouseMoveWrapper_),Blockly.Flyout.onMouseMoveWrapper_=null),Blockly.Flyout.startDragMouseX_=0,Blockly.Flyout.startDragMouseY_=0,Blockly.Flyout.startBlock_=null,Blockly.Flyout.startFlyout_=null},Blockly.Flyout.prototype.setEnabled=function(e){this.enabled_=e},Blockly.Flyout.prototype.getRect=function(){var e=Blockly.getSvgXY_(this.svgGroup_).x;return Blockly.RTL||(e-=1e7),new goog.math.Rect(e,-1e7,1e7+this.width_,this.height_+2e7)},Blockly.Flyout.prototype.getAllBlocks=function(){return this.blockSpace_.getAllBlocks()},goog.events.FocusHandler=function(e){goog.events.EventTarget.call(this),this.element_=e,e=goog.userAgent.IE?"focusout":"blur",this.listenKeyIn_=goog.events.listen(this.element_,goog.userAgent.IE?"focusin":"focus",this,!goog.userAgent.IE),this.listenKeyOut_=goog.events.listen(this.element_,e,this,!goog.userAgent.IE)},goog.inherits(goog.events.FocusHandler,goog.events.EventTarget),goog.events.FocusHandler.EventType={FOCUSIN:"focusin",FOCUSOUT:"focusout"},goog.events.FocusHandler.prototype.handleEvent=function(e){var t=e.getBrowserEvent();(t=new goog.events.BrowserEvent(t)).type="focusin"==e.type||"focus"==e.type?goog.events.FocusHandler.EventType.FOCUSIN:goog.events.FocusHandler.EventType.FOCUSOUT,this.dispatchEvent(t)},goog.events.FocusHandler.prototype.disposeInternal=function(){goog.events.FocusHandler.superClass_.disposeInternal.call(this),goog.events.unlistenByKey(this.listenKeyIn_),goog.events.unlistenByKey(this.listenKeyOut_),delete this.element_},goog.structs={},goog.structs.getCount=function(e){return e.getCount&&"function"==typeof e.getCount?e.getCount():goog.isArrayLike(e)||goog.isString(e)?e.length:goog.object.getCount(e)},goog.structs.getValues=function(e){if(e.getValues&&"function"==typeof e.getValues)return e.getValues();if(goog.isString(e))return e.split("");if(goog.isArrayLike(e)){for(var t=[],o=e.length,n=0;n<o;n++)t.push(e[n]);return t}return goog.object.getValues(e)},goog.structs.getKeys=function(e){if(e.getKeys&&"function"==typeof e.getKeys)return e.getKeys();if(!e.getValues||"function"!=typeof e.getValues){if(goog.isArrayLike(e)||goog.isString(e)){var t=[];e=e.length;for(var o=0;o<e;o++)t.push(o);return t}return goog.object.getKeys(e)}},goog.structs.contains=function(e,t){return e.contains&&"function"==typeof e.contains?e.contains(t):e.containsValue&&"function"==typeof e.containsValue?e.containsValue(t):goog.isArrayLike(e)||goog.isString(e)?goog.array.contains(e,t):goog.object.containsValue(e,t)},goog.structs.isEmpty=function(e){return e.isEmpty&&"function"==typeof e.isEmpty?e.isEmpty():goog.isArrayLike(e)||goog.isString(e)?goog.array.isEmpty(e):goog.object.isEmpty(e)},goog.structs.clear=function(e){e.clear&&"function"==typeof e.clear?e.clear():goog.isArrayLike(e)?goog.array.clear(e):goog.object.clear(e)},goog.structs.forEach=function(e,t,o){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,o);else if(goog.isArrayLike(e)||goog.isString(e))goog.array.forEach(e,t,o);else for(var n=goog.structs.getKeys(e),r=goog.structs.getValues(e),i=r.length,a=0;a<i;a++)t.call(o,r[a],n&&n[a],e)},goog.structs.filter=function(e,t,o){if("function"==typeof e.filter)return e.filter(t,o);if(goog.isArrayLike(e)||goog.isString(e))return goog.array.filter(e,t,o);var n=goog.structs.getKeys(e),r=goog.structs.getValues(e),i=r.length;if(n)for(var a={},s=0;s<i;s++)t.call(o,r[s],n[s],e)&&(a[n[s]]=r[s]);else for(a=[],s=0;s<i;s++)t.call(o,r[s],void 0,e)&&a.push(r[s]);return a},goog.structs.map=function(e,t,o){if("function"==typeof e.map)return e.map(t,o);if(goog.isArrayLike(e)||goog.isString(e))return goog.array.map(e,t,o);var n=goog.structs.getKeys(e),r=goog.structs.getValues(e),i=r.length;if(n)for(var a={},s=0;s<i;s++)a[n[s]]=t.call(o,r[s],n[s],e);else for(a=[],s=0;s<i;s++)a[s]=t.call(o,r[s],void 0,e);return a},goog.structs.some=function(e,t,o){if("function"==typeof e.some)return e.some(t,o);if(goog.isArrayLike(e)||goog.isString(e))return goog.array.some(e,t,o);for(var n=goog.structs.getKeys(e),r=goog.structs.getValues(e),i=r.length,a=0;a<i;a++)if(t.call(o,r[a],n&&n[a],e))return!0;return!1},goog.structs.every=function(e,t,o){if("function"==typeof e.every)return e.every(t,o);if(goog.isArrayLike(e)||goog.isString(e))return goog.array.every(e,t,o);for(var n=goog.structs.getKeys(e),r=goog.structs.getValues(e),i=r.length,a=0;a<i;a++)if(!t.call(o,r[a],n&&n[a],e))return!1;return!0},goog.structs.Collection=function(){},goog.structs.Map=function(e,t){this.map_={},this.keys_=[],this.version_=this.count_=0;var o=arguments.length;if(1<o){if(o%2)throw Error("Uneven number of arguments");for(var n=0;n<o;n+=2)this.set(arguments[n],arguments[n+1])}else e&&this.addAll(e)},goog.structs.Map.prototype.getCount=function(){return this.count_},goog.structs.Map.prototype.getValues=function(){this.cleanupKeysArray_();for(var e=[],t=0;t<this.keys_.length;t++)e.push(this.map_[this.keys_[t]]);return e},goog.structs.Map.prototype.getKeys=function(){return this.cleanupKeysArray_(),this.keys_.concat()},goog.structs.Map.prototype.containsKey=function(e){return goog.structs.Map.hasKey_(this.map_,e)},goog.structs.Map.prototype.containsValue=function(e){for(var t=0;t<this.keys_.length;t++){var o=this.keys_[t];if(goog.structs.Map.hasKey_(this.map_,o)&&this.map_[o]==e)return!0}return!1},goog.structs.Map.prototype.equals=function(e,t){if(this===e)return!0;if(this.count_!=e.getCount())return!1;t=t||goog.structs.Map.defaultEquals,this.cleanupKeysArray_();for(var o,n=0;o=this.keys_[n];n++)if(!t(this.get(o),e.get(o)))return!1;return!0},goog.structs.Map.defaultEquals=function(e,t){return e===t},goog.structs.Map.prototype.isEmpty=function(){return 0==this.count_},goog.structs.Map.prototype.clear=function(){this.map_={},this.version_=this.count_=this.keys_.length=0},goog.structs.Map.prototype.remove=function(e){return!!goog.structs.Map.hasKey_(this.map_,e)&&(delete this.map_[e],this.count_--,this.version_++,this.keys_.length>2*this.count_&&this.cleanupKeysArray_(),!0)},goog.structs.Map.prototype.cleanupKeysArray_=function(){if(this.count_!=this.keys_.length){for(var e=0,t=0;e<this.keys_.length;){var o=this.keys_[e];goog.structs.Map.hasKey_(this.map_,o)&&(this.keys_[t++]=o),e++}this.keys_.length=t}if(this.count_!=this.keys_.length){var n={};for(t=e=0;e<this.keys_.length;)o=this.keys_[e],goog.structs.Map.hasKey_(n,o)||(n[this.keys_[t++]=o]=1),e++;this.keys_.length=t}},goog.structs.Map.prototype.get=function(e,t){return goog.structs.Map.hasKey_(this.map_,e)?this.map_[e]:t},goog.structs.Map.prototype.set=function(e,t){goog.structs.Map.hasKey_(this.map_,e)||(this.count_++,this.keys_.push(e),this.version_++),this.map_[e]=t},goog.structs.Map.prototype.addAll=function(e){if(e instanceof goog.structs.Map){var t=e.getKeys();e=e.getValues()}else t=goog.object.getKeys(e),e=goog.object.getValues(e);for(var o=0;o<t.length;o++)this.set(t[o],e[o])},goog.structs.Map.prototype.forEach=function(e,t){for(var o=this.getKeys(),n=0;n<o.length;n++){var r=o[n],i=this.get(r);e.call(t,i,r,this)}},goog.structs.Map.prototype.clone=function(){return new goog.structs.Map(this)},goog.structs.Map.prototype.transpose=function(){for(var e=new goog.structs.Map,t=0;t<this.keys_.length;t++){var o=this.keys_[t];e.set(this.map_[o],o)}return e},goog.structs.Map.prototype.toObject=function(){this.cleanupKeysArray_();for(var e={},t=0;t<this.keys_.length;t++){var o=this.keys_[t];e[o]=this.map_[o]}return e},goog.structs.Map.prototype.getKeyIterator=function(){return this.__iterator__(!0)},goog.structs.Map.prototype.getValueIterator=function(){return this.__iterator__(!1)},goog.structs.Map.prototype.__iterator__=function(t){this.cleanupKeysArray_();var o=0,n=this.version_,r=this,e=new goog.iter.Iterator;return e.next=function(){if(n!=r.version_)throw Error("The map has changed since the iterator was created");if(o>=r.keys_.length)throw goog.iter.StopIteration;var e=r.keys_[o++];return t?e:r.map_[e]},e},goog.structs.Map.hasKey_=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},goog.structs.Set=function(e){this.map_=new goog.structs.Map,e&&this.addAll(e)},goog.structs.Set.getKey_=function(e){var t=typeof e;return"object"==t&&e||"function"==t?"o"+goog.getUid(e):t.substr(0,1)+e},goog.structs.Set.prototype.getCount=function(){return this.map_.getCount()},goog.structs.Set.prototype.add=function(e){this.map_.set(goog.structs.Set.getKey_(e),e)},goog.structs.Set.prototype.addAll=function(e){for(var t=(e=goog.structs.getValues(e)).length,o=0;o<t;o++)this.add(e[o])},goog.structs.Set.prototype.removeAll=function(e){for(var t=(e=goog.structs.getValues(e)).length,o=0;o<t;o++)this.remove(e[o])},goog.structs.Set.prototype.remove=function(e){return this.map_.remove(goog.structs.Set.getKey_(e))},goog.structs.Set.prototype.clear=function(){this.map_.clear()},goog.structs.Set.prototype.isEmpty=function(){return this.map_.isEmpty()},goog.structs.Set.prototype.contains=function(e){return this.map_.containsKey(goog.structs.Set.getKey_(e))},goog.structs.Set.prototype.containsAll=function(e){return goog.structs.every(e,this.contains,this)},goog.structs.Set.prototype.intersection=function(e){var t=new goog.structs.Set;e=goog.structs.getValues(e);for(var o=0;o<e.length;o++){var n=e[o];this.contains(n)&&t.add(n)}return t},goog.structs.Set.prototype.difference=function(e){var t=this.clone();return t.removeAll(e),t},goog.structs.Set.prototype.getValues=function(){return this.map_.getValues()},goog.structs.Set.prototype.clone=function(){return new goog.structs.Set(this)},goog.structs.Set.prototype.equals=function(e){return this.getCount()==goog.structs.getCount(e)&&this.isSubsetOf(e)},goog.structs.Set.prototype.isSubsetOf=function(t){var e=goog.structs.getCount(t);return!(this.getCount()>e)&&(!(t instanceof goog.structs.Set)&&5<e&&(t=new goog.structs.Set(t)),goog.structs.every(this,function(e){return goog.structs.contains(t,e)}))},goog.structs.Set.prototype.__iterator__=function(e){return this.map_.__iterator__(!1)},goog.debug.LOGGING_ENABLED=goog.DEBUG,goog.debug.FORCE_SLOPPY_STACKS=!1,goog.debug.catchErrors=function(i,e,t){var a=(t=t||goog.global).onerror,s=!!e;goog.userAgent.WEBKIT&&!goog.userAgent.isVersionOrHigher("535.3")&&(s=!s),t.onerror=function(e,t,o,n,r){return a&&a(e,t,o,n,r),i({message:e,fileName:t,line:o,col:n,error:r}),s}},goog.debug.expose=function(e,t){if(void 0===e)return"undefined";if(null==e)return"NULL";var o,n=[];for(o in e)if(t||!goog.isFunction(e[o])){var r=o+" = ";try{r+=e[o]}catch(e){r+="*** "+e+" ***"}n.push(r)}return n.join("\n")},goog.debug.deepExpose=function(e,i){var a=[],s=function(e,t,o){var n=t+"  ";o=new goog.structs.Set(o);try{if(goog.isDef(e))if(goog.isNull(e))a.push("NULL");else if(goog.isString(e))a.push('"'+e.replace(/\n/g,"\n"+t)+'"');else if(goog.isFunction(e))a.push(String(e).replace(/\n/g,"\n"+t));else if(goog.isObject(e))if(o.contains(e))a.push("*** reference loop detected ***");else{for(var r in o.add(e),a.push("{"),e)!i&&goog.isFunction(e[r])||(a.push("\n"),a.push(n),a.push(r+" = "),s(e[r],n,o));a.push("\n"+t+"}")}else a.push(e);else a.push("undefined")}catch(e){a.push("*** "+e+" ***")}};return s(e,"",new goog.structs.Set),a.join("")},goog.debug.exposeArray=function(e){for(var t=[],o=0;o<e.length;o++)goog.isArray(e[o])?t.push(goog.debug.exposeArray(e[o])):t.push(e[o]);return"[ "+t.join(", ")+" ]"},goog.debug.exposeException=function(e,t){return e=goog.debug.exposeExceptionAsHtml(e,t),goog.html.SafeHtml.unwrap(e)},goog.debug.exposeExceptionAsHtml=function(e,t){try{var o=goog.debug.normalizeErrorObject(e),n=goog.debug.createViewSourceUrl_(o.fileName);return goog.html.SafeHtml.concat(goog.html.SafeHtml.htmlEscapePreservingNewlinesAndSpaces("Message: "+o.message+"\nUrl: "),goog.html.SafeHtml.create("a",{href:n,target:"_new"},o.fileName),goog.html.SafeHtml.htmlEscapePreservingNewlinesAndSpaces("\nLine: "+o.lineNumber+"\n\nBrowser stack:\n"+o.stack+"-> [end]\n\nJS stack traversal:\n"+goog.debug.getStacktrace(t)+"-> "))}catch(e){return goog.html.SafeHtml.htmlEscapePreservingNewlinesAndSpaces("Exception trying to expose exception! You win, we lose. "+e)}},goog.debug.createViewSourceUrl_=function(e){return goog.isDefAndNotNull(e)||(e=""),/^https?:\/\//i.test(e)?(e=goog.html.SafeUrl.sanitize(e),goog.html.uncheckedconversions.safeUrlFromStringKnownToSatisfyTypeContract(goog.string.Const.from("view-source scheme plus HTTP/HTTPS URL"),"view-source:"+goog.html.SafeUrl.unwrap(e))):goog.html.SafeUrl.fromConstant(goog.string.Const.from("sanitizedviewsrc"))},goog.debug.normalizeErrorObject=function(e){var t=goog.getObjectByName("window.location.href");if(goog.isString(e))return{message:e,name:"Unknown error",lineNumber:"Not available",fileName:t,stack:"Not available"};var o=!1;try{var n=e.lineNumber||e.line||"Not available"}catch(e){n="Not available",o=!0}try{var r=e.fileName||e.filename||e.sourceURL||goog.global.$googDebugFname||t}catch(e){r="Not available",o=!0}return!o&&e.lineNumber&&e.fileName&&e.stack&&e.message&&e.name?e:{message:e.message||"Not available",name:e.name||"UnknownError",lineNumber:n,fileName:r,stack:e.stack||"Not available"}},goog.debug.enhanceError=function(e,t){if(e instanceof Error||(e=Error(e),Error.captureStackTrace&&Error.captureStackTrace(e,goog.debug.enhanceError)),e.stack||(e.stack=goog.debug.getStacktrace(goog.debug.enhanceError)),t){for(var o=0;e["message"+o];)++o;e["message"+o]=String(t)}return e},goog.debug.getStacktraceSimple=function(e){if(!goog.debug.FORCE_SLOPPY_STACKS){var t=goog.debug.getNativeStackTrace_(goog.debug.getStacktraceSimple);if(t)return t}t=[];for(var o=arguments.callee.caller,n=0;o&&(!e||n<e);){t.push(goog.debug.getFunctionName(o)),t.push("()\n");try{o=o.caller}catch(e){t.push("[exception trying to get caller]\n");break}if(++n>=goog.debug.MAX_STACK_DEPTH){t.push("[...long stack...]");break}}return e&&e<=n?t.push("[...reached max depth limit...]"):t.push("[end]"),t.join("")},goog.debug.MAX_STACK_DEPTH=50,goog.debug.getNativeStackTrace_=function(e){var t=Error();if(Error.captureStackTrace)return Error.captureStackTrace(t,e),String(t.stack);try{throw t}catch(e){t=e}return(e=t.stack)?String(e):null},goog.debug.getStacktrace=function(e){var t;return goog.debug.FORCE_SLOPPY_STACKS||(t=goog.debug.getNativeStackTrace_(e||goog.debug.getStacktrace)),t||(t=goog.debug.getStacktraceHelper_(e||arguments.callee.caller,[])),t},goog.debug.getStacktraceHelper_=function(e,t){var o=[];if(goog.array.contains(t,e))o.push("[...circular reference...]");else if(e&&t.length<goog.debug.MAX_STACK_DEPTH){o.push(goog.debug.getFunctionName(e)+"(");for(var n=e.arguments,r=0;n&&r<n.length;r++){0<r&&o.push(", ");var i=n[r];switch(typeof i){case"object":i=i?"object":"null";break;case"string":break;case"number":i=String(i);break;case"boolean":i=i?"true":"false";break;case"function":i=(i=goog.debug.getFunctionName(i))?i:"[fn]";break;default:i=typeof i}40<i.length&&(i=i.substr(0,40)+"..."),o.push(i)}t.push(e),o.push(")\n");try{o.push(goog.debug.getStacktraceHelper_(e.caller,t))}catch(e){o.push("[exception trying to get caller]\n")}}else e?o.push("[...long stack...]"):o.push("[end]");return o.join("")},goog.debug.setFunctionResolver=function(e){goog.debug.fnNameResolver_=e},goog.debug.getFunctionName=function(e){if(goog.debug.fnNameCache_[e])return goog.debug.fnNameCache_[e];if(goog.debug.fnNameResolver_){var t=goog.debug.fnNameResolver_(e);if(t)return goog.debug.fnNameCache_[e]=t}return e=String(e),goog.debug.fnNameCache_[e]||(t=/function ([^\(]+)/.exec(e),goog.debug.fnNameCache_[e]=t?t[1]:"[Anonymous]"),goog.debug.fnNameCache_[e]},goog.debug.makeWhitespaceVisible=function(e){return e.replace(/ /g,"[_]").replace(/\f/g,"[f]").replace(/\n/g,"[n]\n").replace(/\r/g,"[r]").replace(/\t/g,"[t]")},goog.debug.runtimeType=function(e){return e instanceof Function?e.displayName||e.name||"unknown type name":e instanceof Object?e.constructor.displayName||e.constructor.name||Object.prototype.toString.call(e):null===e?"null":typeof e},goog.debug.fnNameCache_={},goog.debug.LogRecord=function(e,t,o,n,r){this.reset(e,t,o,n,r)},goog.debug.LogRecord.prototype.sequenceNumber_=0,goog.debug.LogRecord.prototype.exception_=null,goog.debug.LogRecord.ENABLE_SEQUENCE_NUMBERS=!0,goog.debug.LogRecord.nextSequenceNumber_=0,goog.debug.LogRecord.prototype.reset=function(e,t,o,n,r){goog.debug.LogRecord.ENABLE_SEQUENCE_NUMBERS&&(this.sequenceNumber_="number"==typeof r?r:goog.debug.LogRecord.nextSequenceNumber_++),this.time_=n||goog.now(),this.level_=e,this.msg_=t,this.loggerName_=o,delete this.exception_},goog.debug.LogRecord.prototype.getLoggerName=function(){return this.loggerName_},goog.debug.LogRecord.prototype.getException=function(){return this.exception_},goog.debug.LogRecord.prototype.setException=function(e){this.exception_=e},goog.debug.LogRecord.prototype.setLoggerName=function(e){this.loggerName_=e},goog.debug.LogRecord.prototype.getLevel=function(){return this.level_},goog.debug.LogRecord.prototype.setLevel=function(e){this.level_=e},goog.debug.LogRecord.prototype.getMessage=function(){return this.msg_},goog.debug.LogRecord.prototype.setMessage=function(e){this.msg_=e},goog.debug.LogRecord.prototype.getMillis=function(){return this.time_},goog.debug.LogRecord.prototype.setMillis=function(e){this.time_=e},goog.debug.LogRecord.prototype.getSequenceNumber=function(){return this.sequenceNumber_},goog.debug.LogBuffer=function(){goog.asserts.assert(goog.debug.LogBuffer.isBufferingEnabled(),"Cannot use goog.debug.LogBuffer without defining goog.debug.LogBuffer.CAPACITY."),this.clear()},goog.debug.LogBuffer.getInstance=function(){return goog.debug.LogBuffer.instance_||(goog.debug.LogBuffer.instance_=new goog.debug.LogBuffer),goog.debug.LogBuffer.instance_},goog.debug.LogBuffer.CAPACITY=0,goog.debug.LogBuffer.prototype.addRecord=function(e,t,o){var n=(this.curIndex_+1)%goog.debug.LogBuffer.CAPACITY;return this.curIndex_=n,this.isFull_?((n=this.buffer_[n]).reset(e,t,o),n):(this.isFull_=n==goog.debug.LogBuffer.CAPACITY-1,this.buffer_[n]=new goog.debug.LogRecord(e,t,o))},goog.debug.LogBuffer.isBufferingEnabled=function(){return 0<goog.debug.LogBuffer.CAPACITY},goog.debug.LogBuffer.prototype.clear=function(){this.buffer_=Array(goog.debug.LogBuffer.CAPACITY),this.curIndex_=-1,this.isFull_=!1},goog.debug.LogBuffer.prototype.forEachRecord=function(e){var t=this.buffer_;if(t[0])for(var o=this.curIndex_,n=this.isFull_?o:-1;e(t[n=(n+1)%goog.debug.LogBuffer.CAPACITY]),n!=o;);},goog.debug.Logger=function(e){this.name_=e,this.handlers_=this.children_=this.level_=this.parent_=null},goog.debug.Logger.ROOT_LOGGER_NAME="",goog.debug.Logger.ENABLE_HIERARCHY=!0,goog.debug.Logger.ENABLE_HIERARCHY||(goog.debug.Logger.rootHandlers_=[]),goog.debug.Logger.Level=function(e,t){this.name=e,this.value=t},goog.debug.Logger.Level.prototype.toString=function(){return this.name},goog.debug.Logger.Level.OFF=new goog.debug.Logger.Level("OFF",1/0),goog.debug.Logger.Level.SHOUT=new goog.debug.Logger.Level("SHOUT",1200),goog.debug.Logger.Level.SEVERE=new goog.debug.Logger.Level("SEVERE",1e3),goog.debug.Logger.Level.WARNING=new goog.debug.Logger.Level("WARNING",900),goog.debug.Logger.Level.INFO=new goog.debug.Logger.Level("INFO",800),goog.debug.Logger.Level.CONFIG=new goog.debug.Logger.Level("CONFIG",700),goog.debug.Logger.Level.FINE=new goog.debug.Logger.Level("FINE",500),goog.debug.Logger.Level.FINER=new goog.debug.Logger.Level("FINER",400),goog.debug.Logger.Level.FINEST=new goog.debug.Logger.Level("FINEST",300),goog.debug.Logger.Level.ALL=new goog.debug.Logger.Level("ALL",0),goog.debug.Logger.Level.PREDEFINED_LEVELS=[goog.debug.Logger.Level.OFF,goog.debug.Logger.Level.SHOUT,goog.debug.Logger.Level.SEVERE,goog.debug.Logger.Level.WARNING,goog.debug.Logger.Level.INFO,goog.debug.Logger.Level.CONFIG,goog.debug.Logger.Level.FINE,goog.debug.Logger.Level.FINER,goog.debug.Logger.Level.FINEST,goog.debug.Logger.Level.ALL],goog.debug.Logger.Level.predefinedLevelsCache_=null,goog.debug.Logger.Level.createPredefinedLevelsCache_=function(){goog.debug.Logger.Level.predefinedLevelsCache_={};for(var e,t=0;e=goog.debug.Logger.Level.PREDEFINED_LEVELS[t];t++)goog.debug.Logger.Level.predefinedLevelsCache_[e.value]=e,goog.debug.Logger.Level.predefinedLevelsCache_[e.name]=e},goog.debug.Logger.Level.getPredefinedLevel=function(e){return goog.debug.Logger.Level.predefinedLevelsCache_||goog.debug.Logger.Level.createPredefinedLevelsCache_(),goog.debug.Logger.Level.predefinedLevelsCache_[e]||null},goog.debug.Logger.Level.getPredefinedLevelByValue=function(e){if(goog.debug.Logger.Level.predefinedLevelsCache_||goog.debug.Logger.Level.createPredefinedLevelsCache_(),e in goog.debug.Logger.Level.predefinedLevelsCache_)return goog.debug.Logger.Level.predefinedLevelsCache_[e];for(var t=0;t<goog.debug.Logger.Level.PREDEFINED_LEVELS.length;++t){var o=goog.debug.Logger.Level.PREDEFINED_LEVELS[t];if(o.value<=e)return o}return null},goog.debug.Logger.getLogger=function(e){return goog.debug.LogManager.getLogger(e)},goog.debug.Logger.logToProfilers=function(e){goog.global.console&&(goog.global.console.timeStamp?goog.global.console.timeStamp(e):goog.global.console.markTimeline&&goog.global.console.markTimeline(e)),goog.global.msWriteProfilerMark&&goog.global.msWriteProfilerMark(e)},goog.debug.Logger.prototype.getName=function(){return this.name_},goog.debug.Logger.prototype.addHandler=function(e){goog.debug.LOGGING_ENABLED&&(goog.debug.Logger.ENABLE_HIERARCHY?(this.handlers_||(this.handlers_=[]),this.handlers_.push(e)):(goog.asserts.assert(!this.name_,"Cannot call addHandler on a non-root logger when goog.debug.Logger.ENABLE_HIERARCHY is false."),goog.debug.Logger.rootHandlers_.push(e)))},goog.debug.Logger.prototype.removeHandler=function(e){if(goog.debug.LOGGING_ENABLED){var t=goog.debug.Logger.ENABLE_HIERARCHY?this.handlers_:goog.debug.Logger.rootHandlers_;return!!t&&goog.array.remove(t,e)}return!1},goog.debug.Logger.prototype.getParent=function(){return this.parent_},goog.debug.Logger.prototype.getChildren=function(){return this.children_||(this.children_={}),this.children_},goog.debug.Logger.prototype.setLevel=function(e){goog.debug.LOGGING_ENABLED&&(goog.debug.Logger.ENABLE_HIERARCHY?this.level_=e:(goog.asserts.assert(!this.name_,"Cannot call setLevel() on a non-root logger when goog.debug.Logger.ENABLE_HIERARCHY is false."),goog.debug.Logger.rootLevel_=e))},goog.debug.Logger.prototype.getLevel=function(){return goog.debug.LOGGING_ENABLED?this.level_:goog.debug.Logger.Level.OFF},goog.debug.Logger.prototype.getEffectiveLevel=function(){return goog.debug.LOGGING_ENABLED?goog.debug.Logger.ENABLE_HIERARCHY?this.level_?this.level_:this.parent_?this.parent_.getEffectiveLevel():(goog.asserts.fail("Root logger has no level set."),null):goog.debug.Logger.rootLevel_:goog.debug.Logger.Level.OFF},goog.debug.Logger.prototype.isLoggable=function(e){return goog.debug.LOGGING_ENABLED&&e.value>=this.getEffectiveLevel().value},goog.debug.Logger.prototype.log=function(e,t,o){goog.debug.LOGGING_ENABLED&&this.isLoggable(e)&&(goog.isFunction(t)&&(t=t()),this.doLogRecord_(this.getLogRecord(e,t,o)))},goog.debug.Logger.prototype.getLogRecord=function(e,t,o){return e=goog.debug.LogBuffer.isBufferingEnabled()?goog.debug.LogBuffer.getInstance().addRecord(e,t,this.name_):new goog.debug.LogRecord(e,String(t),this.name_),o&&e.setException(o),e},goog.debug.Logger.prototype.shout=function(e,t){goog.debug.LOGGING_ENABLED&&this.log(goog.debug.Logger.Level.SHOUT,e,t)},goog.debug.Logger.prototype.severe=function(e,t){goog.debug.LOGGING_ENABLED&&this.log(goog.debug.Logger.Level.SEVERE,e,t)},goog.debug.Logger.prototype.warning=function(e,t){goog.debug.LOGGING_ENABLED&&this.log(goog.debug.Logger.Level.WARNING,e,t)},goog.debug.Logger.prototype.info=function(e,t){goog.debug.LOGGING_ENABLED&&this.log(goog.debug.Logger.Level.INFO,e,t)},goog.debug.Logger.prototype.config=function(e,t){goog.debug.LOGGING_ENABLED&&this.log(goog.debug.Logger.Level.CONFIG,e,t)},goog.debug.Logger.prototype.fine=function(e,t){goog.debug.LOGGING_ENABLED&&this.log(goog.debug.Logger.Level.FINE,e,t)},goog.debug.Logger.prototype.finer=function(e,t){goog.debug.LOGGING_ENABLED&&this.log(goog.debug.Logger.Level.FINER,e,t)},goog.debug.Logger.prototype.finest=function(e,t){goog.debug.LOGGING_ENABLED&&this.log(goog.debug.Logger.Level.FINEST,e,t)},goog.debug.Logger.prototype.logRecord=function(e){goog.debug.LOGGING_ENABLED&&this.isLoggable(e.getLevel())&&this.doLogRecord_(e)},goog.debug.Logger.prototype.doLogRecord_=function(e){if(goog.debug.Logger.logToProfilers("log:"+e.getMessage()),goog.debug.Logger.ENABLE_HIERARCHY)for(var t=this;t;)t.callPublish_(e),t=t.getParent();else{t=0;for(var o;o=goog.debug.Logger.rootHandlers_[t++];)o(e)}},goog.debug.Logger.prototype.callPublish_=function(e){if(this.handlers_)for(var t,o=0;t=this.handlers_[o];o++)t(e)},goog.debug.Logger.prototype.setParent_=function(e){this.parent_=e},goog.debug.Logger.prototype.addChild_=function(e,t){this.getChildren()[e]=t},goog.debug.LogManager={},goog.debug.LogManager.loggers_={},goog.debug.LogManager.rootLogger_=null,goog.debug.LogManager.initialize=function(){goog.debug.LogManager.rootLogger_||(goog.debug.LogManager.rootLogger_=new goog.debug.Logger(goog.debug.Logger.ROOT_LOGGER_NAME),goog.debug.LogManager.loggers_[goog.debug.Logger.ROOT_LOGGER_NAME]=goog.debug.LogManager.rootLogger_,goog.debug.LogManager.rootLogger_.setLevel(goog.debug.Logger.Level.CONFIG))},goog.debug.LogManager.getLoggers=function(){return goog.debug.LogManager.loggers_},goog.debug.LogManager.getRoot=function(){return goog.debug.LogManager.initialize(),goog.debug.LogManager.rootLogger_},goog.debug.LogManager.getLogger=function(e){return goog.debug.LogManager.initialize(),goog.debug.LogManager.loggers_[e]||goog.debug.LogManager.createLogger_(e)},goog.debug.LogManager.createFunctionForCatchErrors=function(t){return function(e){(t||goog.debug.LogManager.getRoot()).severe("Error: "+e.message+" ("+e.fileName+" @ Line: "+e.line+")")}},goog.debug.LogManager.createLogger_=function(e){var t=new goog.debug.Logger(e);if(goog.debug.Logger.ENABLE_HIERARCHY){var o=e.lastIndexOf("."),n=e.substr(0,o);o=e.substr(o+1),(n=goog.debug.LogManager.getLogger(n)).addChild_(o,t),t.setParent_(n)}return goog.debug.LogManager.loggers_[e]=t},goog.log={},goog.log.ENABLED=goog.debug.LOGGING_ENABLED,goog.log.ROOT_LOGGER_NAME=goog.debug.Logger.ROOT_LOGGER_NAME,goog.log.Logger=goog.debug.Logger,goog.log.Level=goog.debug.Logger.Level,goog.log.LogRecord=goog.debug.LogRecord,goog.log.getLogger=function(e,t){return goog.log.ENABLED?(e=goog.debug.LogManager.getLogger(e),t&&e&&e.setLevel(t),e):null},goog.log.addHandler=function(e,t){goog.log.ENABLED&&e&&e.addHandler(t)},goog.log.removeHandler=function(e,t){return!(!goog.log.ENABLED||!e)&&e.removeHandler(t)},goog.log.log=function(e,t,o,n){goog.log.ENABLED&&e&&e.log(t,o,n)},goog.log.error=function(e,t,o){goog.log.ENABLED&&e&&e.severe(t,o)},goog.log.warning=function(e,t,o){goog.log.ENABLED&&e&&e.warning(t,o)},goog.log.info=function(e,t,o){goog.log.ENABLED&&e&&e.info(t,o)},goog.log.fine=function(e,t,o){goog.log.ENABLED&&e&&e.fine(t,o)},goog.Thenable=function(){},goog.Thenable.prototype.then=function(e,t,o){},goog.Thenable.IMPLEMENTED_BY_PROP="$goog_Thenable",goog.Thenable.addImplementation=function(e){e.prototype.then=e.prototype.then,COMPILED?e.prototype[goog.Thenable.IMPLEMENTED_BY_PROP]=!0:e.prototype.$goog_Thenable=!0},goog.Thenable.isImplementedBy=function(e){if(!e)return!1;try{return COMPILED?!!e[goog.Thenable.IMPLEMENTED_BY_PROP]:!!e.$goog_Thenable}catch(e){return!1}},goog.async.FreeList=function(e,t,o){this.limit_=o,this.create_=e,this.reset_=t,this.occupants_=0,this.head_=null},goog.async.FreeList.prototype.get=function(){if(0<this.occupants_){this.occupants_--;var e=this.head_;this.head_=e.next,e.next=null}else e=this.create_();return e},goog.async.FreeList.prototype.put=function(e){this.reset_(e),this.occupants_<this.limit_&&(this.occupants_++,e.next=this.head_,this.head_=e)},goog.async.FreeList.prototype.occupants=function(){return this.occupants_},goog.async.WorkQueue=function(){this.workTail_=this.workHead_=null},goog.async.WorkQueue.DEFAULT_MAX_UNUSED=100,goog.async.WorkQueue.freelist_=new goog.async.FreeList(function(){return new goog.async.WorkItem},function(e){e.reset()},goog.async.WorkQueue.DEFAULT_MAX_UNUSED),goog.async.WorkQueue.prototype.add=function(e,t){var o=this.getUnusedItem_();o.set(e,t),this.workTail_?this.workTail_.next=o:(goog.asserts.assert(!this.workHead_),this.workHead_=o),this.workTail_=o},goog.async.WorkQueue.prototype.remove=function(){var e=null;return this.workHead_&&(e=this.workHead_,this.workHead_=this.workHead_.next,this.workHead_||(this.workTail_=null),e.next=null),e},goog.async.WorkQueue.prototype.returnUnused=function(e){goog.async.WorkQueue.freelist_.put(e)},goog.async.WorkQueue.prototype.getUnusedItem_=function(){return goog.async.WorkQueue.freelist_.get()},goog.async.WorkItem=function(){this.next=this.scope=this.fn=null},goog.async.WorkItem.prototype.set=function(e,t){this.fn=e,this.scope=t,this.next=null},goog.async.WorkItem.prototype.reset=function(){this.next=this.scope=this.fn=null},goog.async.throwException=function(e){goog.global.setTimeout(function(){throw e},0)},goog.async.nextTick=function(e,t,o){var n=e;t&&(n=goog.bind(e,t)),n=goog.async.nextTick.wrapCallback_(n),goog.isFunction(goog.global.setImmediate)&&(o||goog.async.nextTick.useSetImmediate_())?goog.global.setImmediate(n):(goog.async.nextTick.setImmediate_||(goog.async.nextTick.setImmediate_=goog.async.nextTick.getSetImmediateEmulator_()),goog.async.nextTick.setImmediate_(n))},goog.async.nextTick.useSetImmediate_=function(){return!(goog.global.Window&&goog.global.Window.prototype&&!goog.labs.userAgent.browser.isEdge()&&goog.global.Window.prototype.setImmediate==goog.global.setImmediate)},goog.async.nextTick.getSetImmediateEmulator_=function(){var e=goog.global.MessageChannel;if(void 0===e&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!goog.labs.userAgent.engine.isPresto()&&(e=function(){var e=document.createElement("IFRAME");e.style.display="none",e.src="",document.documentElement.appendChild(e);var t=e.contentWindow;(e=t.document).open(),e.write(""),e.close();var o="callImmediate"+Math.random(),n="file:"==t.location.protocol?"*":t.location.protocol+"//"+t.location.host;e=goog.bind(function(e){"*"!=n&&e.origin!=n||e.data!=o||this.port1.onmessage()},this),t.addEventListener("message",e,!1),this.port1={},this.port2={postMessage:function(){t.postMessage(o,n)}}}),void 0===e||goog.labs.userAgent.browser.isIE())return"undefined"!=typeof document&&"onreadystatechange"in document.createElement("SCRIPT")?function(e){var t=document.createElement("SCRIPT");t.onreadystatechange=function(){t.onreadystatechange=null,t.parentNode.removeChild(t),t=null,e(),e=null},document.documentElement.appendChild(t)}:function(e){goog.global.setTimeout(e,0)};var t=new e,o={},n=o;return t.port1.onmessage=function(){if(goog.isDef(o.next)){var e=(o=o.next).cb;o.cb=null,e()}},function(e){n.next={cb:e},n=n.next,t.port2.postMessage(0)}},goog.async.nextTick.wrapCallback_=goog.functions.identity,goog.debug.entryPointRegistry.register(function(e){goog.async.nextTick.wrapCallback_=e}),goog.async.run=function(e,t){goog.async.run.schedule_||goog.async.run.initializeRunner_(),goog.async.run.workQueueScheduled_||(goog.async.run.schedule_(),goog.async.run.workQueueScheduled_=!0),goog.async.run.workQueue_.add(e,t)},goog.async.run.initializeRunner_=function(){if(-1!=String(goog.global.Promise).indexOf("[native code]")){var e=goog.global.Promise.resolve(void 0);goog.async.run.schedule_=function(){e.then(goog.async.run.processWorkQueue)}}else goog.async.run.schedule_=function(){goog.async.nextTick(goog.async.run.processWorkQueue)}},goog.async.run.forceNextTick=function(e){goog.async.run.schedule_=function(){goog.async.nextTick(goog.async.run.processWorkQueue),e&&e(goog.async.run.processWorkQueue)}},goog.async.run.workQueueScheduled_=!1,goog.async.run.workQueue_=new goog.async.WorkQueue,goog.DEBUG&&(goog.async.run.resetQueue=function(){goog.async.run.workQueueScheduled_=!1,goog.async.run.workQueue_=new goog.async.WorkQueue}),goog.async.run.processWorkQueue=function(){for(var e;e=goog.async.run.workQueue_.remove();){try{e.fn.call(e.scope)}catch(e){goog.async.throwException(e)}goog.async.run.workQueue_.returnUnused(e)}goog.async.run.workQueueScheduled_=!1},goog.promise={},goog.promise.Resolver=function(){},goog.Promise=function(e,t){if(this.state_=goog.Promise.State_.PENDING,this.result_=void 0,this.callbackEntriesTail_=this.callbackEntries_=this.parent_=null,this.executing_=!1,0<goog.Promise.UNHANDLED_REJECTION_DELAY?this.unhandledRejectionId_=0:0==goog.Promise.UNHANDLED_REJECTION_DELAY&&(this.hadUnhandledRejection_=!1),goog.Promise.LONG_STACK_TRACES&&(this.stack_=[],this.addStackTrace_(Error("created")),this.currentStep_=0),e!=goog.nullFunction)try{var o=this;e.call(t,function(e){o.resolve_(goog.Promise.State_.FULFILLED,e)},function(e){if(goog.DEBUG&&!(e instanceof goog.Promise.CancellationError))try{if(e instanceof Error)throw e;throw Error("Promise rejected.")}catch(e){}o.resolve_(goog.Promise.State_.REJECTED,e)})}catch(e){this.resolve_(goog.Promise.State_.REJECTED,e)}},goog.Promise.LONG_STACK_TRACES=!1,goog.Promise.UNHANDLED_REJECTION_DELAY=0,goog.Promise.State_={PENDING:0,BLOCKED:1,FULFILLED:2,REJECTED:3},goog.Promise.CallbackEntry_=function(){this.next=this.context=this.onRejected=this.onFulfilled=this.child=null,this.always=!1},goog.Promise.CallbackEntry_.prototype.reset=function(){this.context=this.onRejected=this.onFulfilled=this.child=null,this.always=!1},goog.Promise.DEFAULT_MAX_UNUSED=100,goog.Promise.freelist_=new goog.async.FreeList(function(){return new goog.Promise.CallbackEntry_},function(e){e.reset()},goog.Promise.DEFAULT_MAX_UNUSED),goog.Promise.getCallbackEntry_=function(e,t,o){var n=goog.Promise.freelist_.get();return n.onFulfilled=e,n.onRejected=t,n.context=o,n},goog.Promise.returnEntry_=function(e){goog.Promise.freelist_.put(e)},goog.Promise.resolve=function(e){if(e instanceof goog.Promise)return e;var t=new goog.Promise(goog.nullFunction);return t.resolve_(goog.Promise.State_.FULFILLED,e),t},goog.Promise.reject=function(o){return new goog.Promise(function(e,t){t(o)})},goog.Promise.resolveThen_=function(e,t,o){goog.Promise.maybeThen_(e,t,o,null)||goog.async.run(goog.partial(t,e))},goog.Promise.race=function(r){return new goog.Promise(function(e,t){r.length||e(void 0);for(var o,n=0;n<r.length;n++)o=r[n],goog.Promise.resolveThen_(o,e,t)})},goog.Promise.all=function(l){return new goog.Promise(function(o,t){var n=l.length,r=[];if(n)for(var e,i=function(e,t){n--,r[e]=t,0==n&&o(r)},a=function(e){t(e)},s=0;s<l.length;s++)e=l[s],goog.Promise.resolveThen_(e,goog.partial(i,s),a);else o(r)})},goog.Promise.allSettled=function(a){return new goog.Promise(function(n,e){var r=a.length,i=[];if(r){e=function(e,t,o){r--,i[e]=t?{fulfilled:!0,value:o}:{fulfilled:!1,reason:o},0==r&&n(i)};for(var t,o=0;o<a.length;o++)t=a[o],goog.Promise.resolveThen_(t,goog.partial(e,o,!0),goog.partial(e,o,!1))}else n(i)})},goog.Promise.firstFulfilled=function(l){return new goog.Promise(function(t,o){var n=l.length,r=[];if(n)for(var e,i=function(e){t(e)},a=function(e,t){n--,r[e]=t,0==n&&o(r)},s=0;s<l.length;s++)e=l[s],goog.Promise.resolveThen_(e,i,goog.partial(a,s));else t(void 0)})},goog.Promise.withResolver=function(){var o,n,e=new goog.Promise(function(e,t){o=e,n=t});return new goog.Promise.Resolver_(e,o,n)},goog.Promise.prototype.then=function(e,t,o){return null!=e&&goog.asserts.assertFunction(e,"opt_onFulfilled should be a function."),null!=t&&goog.asserts.assertFunction(t,"opt_onRejected should be a function. Did you pass opt_context as the second argument instead of the third?"),goog.Promise.LONG_STACK_TRACES&&this.addStackTrace_(Error("then")),this.addChildPromise_(goog.isFunction(e)?e:null,goog.isFunction(t)?t:null,o)},goog.Thenable.addImplementation(goog.Promise),goog.Promise.prototype.thenVoid=function(e,t,o){null!=e&&goog.asserts.assertFunction(e,"opt_onFulfilled should be a function."),null!=t&&goog.asserts.assertFunction(t,"opt_onRejected should be a function. Did you pass opt_context as the second argument instead of the third?"),goog.Promise.LONG_STACK_TRACES&&this.addStackTrace_(Error("then")),this.addCallbackEntry_(goog.Promise.getCallbackEntry_(e||goog.nullFunction,t||null,o))},goog.Promise.prototype.thenAlways=function(e,t){return goog.Promise.LONG_STACK_TRACES&&this.addStackTrace_(Error("thenAlways")),(e=goog.Promise.getCallbackEntry_(e,e,t)).always=!0,this.addCallbackEntry_(e),this},goog.Promise.prototype.thenCatch=function(e,t){return goog.Promise.LONG_STACK_TRACES&&this.addStackTrace_(Error("thenCatch")),this.addChildPromise_(null,e,t)},goog.Promise.prototype.cancel=function(t){this.state_==goog.Promise.State_.PENDING&&goog.async.run(function(){var e=new goog.Promise.CancellationError(t);this.cancelInternal_(e)},this)},goog.Promise.prototype.cancelInternal_=function(e){this.state_==goog.Promise.State_.PENDING&&(this.parent_?(this.parent_.cancelChild_(this,e),this.parent_=null):this.resolve_(goog.Promise.State_.REJECTED,e))},goog.Promise.prototype.cancelChild_=function(e,t){if(this.callbackEntries_){for(var o=0,n=null,r=null,i=this.callbackEntries_;i&&(i.always||(o++,i.child==e&&(n=i),!(n&&1<o)));i=i.next)n||(r=i);n&&(this.state_==goog.Promise.State_.PENDING&&1==o?this.cancelInternal_(t):(r?this.removeEntryAfter_(r):this.popEntry_(),this.executeCallback_(n,goog.Promise.State_.REJECTED,t)))}},goog.Promise.prototype.addCallbackEntry_=function(e){this.hasEntry_()||this.state_!=goog.Promise.State_.FULFILLED&&this.state_!=goog.Promise.State_.REJECTED||this.scheduleCallbacks_(),this.queueEntry_(e)},goog.Promise.prototype.addChildPromise_=function(r,i,a){var e=goog.Promise.getCallbackEntry_(null,null,null);return e.child=new goog.Promise(function(o,n){e.onFulfilled=r?function(e){try{var t=r.call(a,e);o(t)}catch(e){n(e)}}:o,e.onRejected=i?function(e){try{var t=i.call(a,e);!goog.isDef(t)&&e instanceof goog.Promise.CancellationError?n(e):o(t)}catch(e){n(e)}}:n}),(e.child.parent_=this).addCallbackEntry_(e),e.child},goog.Promise.prototype.unblockAndFulfill_=function(e){goog.asserts.assert(this.state_==goog.Promise.State_.BLOCKED),this.state_=goog.Promise.State_.PENDING,this.resolve_(goog.Promise.State_.FULFILLED,e)},goog.Promise.prototype.unblockAndReject_=function(e){goog.asserts.assert(this.state_==goog.Promise.State_.BLOCKED),this.state_=goog.Promise.State_.PENDING,this.resolve_(goog.Promise.State_.REJECTED,e)},goog.Promise.prototype.resolve_=function(e,t){this.state_==goog.Promise.State_.PENDING&&(this===t&&(e=goog.Promise.State_.REJECTED,t=new TypeError("Promise cannot resolve to itself")),this.state_=goog.Promise.State_.BLOCKED,goog.Promise.maybeThen_(t,this.unblockAndFulfill_,this.unblockAndReject_,this)||(this.result_=t,this.state_=e,this.parent_=null,this.scheduleCallbacks_(),e!=goog.Promise.State_.REJECTED||t instanceof goog.Promise.CancellationError||goog.Promise.addUnhandledRejection_(this,t)))},goog.Promise.maybeThen_=function(e,t,o,n){if(e instanceof goog.Promise)return e.thenVoid(t,o,n),!0;if(goog.Thenable.isImplementedBy(e))return e.then(t,o,n),!0;if(goog.isObject(e))try{var r=e.then;if(goog.isFunction(r))return goog.Promise.tryThen_(e,r,t,o,n),!0}catch(e){return o.call(n,e),!0}return!1},goog.Promise.tryThen_=function(e,t,o,n,r){var i=!1,a=function(e){i||(i=!0,n.call(r,e))};try{t.call(e,function(e){i||(i=!0,o.call(r,e))},a)}catch(e){a(e)}},goog.Promise.prototype.scheduleCallbacks_=function(){this.executing_||(this.executing_=!0,goog.async.run(this.executeCallbacks_,this))},goog.Promise.prototype.hasEntry_=function(){return!!this.callbackEntries_},goog.Promise.prototype.queueEntry_=function(e){goog.asserts.assert(null!=e.onFulfilled),this.callbackEntriesTail_?this.callbackEntriesTail_.next=e:this.callbackEntries_=e,this.callbackEntriesTail_=e},goog.Promise.prototype.popEntry_=function(){var e=null;return this.callbackEntries_&&(e=this.callbackEntries_,this.callbackEntries_=e.next,e.next=null),this.callbackEntries_||(this.callbackEntriesTail_=null),null!=e&&goog.asserts.assert(null!=e.onFulfilled),e},goog.Promise.prototype.removeEntryAfter_=function(e){goog.asserts.assert(this.callbackEntries_),goog.asserts.assert(null!=e),e.next==this.callbackEntriesTail_&&(this.callbackEntriesTail_=e),e.next=e.next.next},goog.Promise.prototype.executeCallbacks_=function(){for(var e;e=this.popEntry_();)goog.Promise.LONG_STACK_TRACES&&this.currentStep_++,this.executeCallback_(e,this.state_,this.result_);this.executing_=!1},goog.Promise.prototype.executeCallback_=function(e,t,o){if(t==goog.Promise.State_.REJECTED&&e.onRejected&&!e.always&&this.removeUnhandledRejection_(),e.child)e.child.parent_=null,goog.Promise.invokeCallback_(e,t,o);else try{e.always?e.onFulfilled.call(e.context):goog.Promise.invokeCallback_(e,t,o)}catch(e){goog.Promise.handleRejection_.call(null,e)}goog.Promise.returnEntry_(e)},goog.Promise.invokeCallback_=function(e,t,o){t==goog.Promise.State_.FULFILLED?e.onFulfilled.call(e.context,o):e.onRejected&&e.onRejected.call(e.context,o)},goog.Promise.prototype.addStackTrace_=function(e){if(goog.Promise.LONG_STACK_TRACES&&goog.isString(e.stack)){var t=e.stack.split("\n",4)[3];e=e.message,e+=Array(11-e.length).join(" "),this.stack_.push(e+t)}},goog.Promise.prototype.appendLongStack_=function(e){if(goog.Promise.LONG_STACK_TRACES&&e&&goog.isString(e.stack)&&this.stack_.length){for(var t=["Promise trace:"],o=this;o;o=o.parent_){for(var n=this.currentStep_;0<=n;n--)t.push(o.stack_[n]);t.push("Value: ["+(o.state_==goog.Promise.State_.REJECTED?"REJECTED":"FULFILLED")+"] <"+String(o.result_)+">")}e.stack+="\n\n"+t.join("\n")}},goog.Promise.prototype.removeUnhandledRejection_=function(){if(0<goog.Promise.UNHANDLED_REJECTION_DELAY)for(var e=this;e&&e.unhandledRejectionId_;e=e.parent_)goog.global.clearTimeout(e.unhandledRejectionId_),e.unhandledRejectionId_=0;else if(0==goog.Promise.UNHANDLED_REJECTION_DELAY)for(e=this;e&&e.hadUnhandledRejection_;e=e.parent_)e.hadUnhandledRejection_=!1},goog.Promise.addUnhandledRejection_=function(e,t){0<goog.Promise.UNHANDLED_REJECTION_DELAY?e.unhandledRejectionId_=goog.global.setTimeout(function(){e.appendLongStack_(t),goog.Promise.handleRejection_.call(null,t)},goog.Promise.UNHANDLED_REJECTION_DELAY):0==goog.Promise.UNHANDLED_REJECTION_DELAY&&(e.hadUnhandledRejection_=!0,goog.async.run(function(){e.hadUnhandledRejection_&&(e.appendLongStack_(t),goog.Promise.handleRejection_.call(null,t))}))},goog.Promise.handleRejection_=goog.async.throwException,goog.Promise.setUnhandledRejectionHandler=function(e){goog.Promise.handleRejection_=e},goog.Promise.CancellationError=function(e){goog.debug.Error.call(this,e)},goog.inherits(goog.Promise.CancellationError,goog.debug.Error),goog.Promise.CancellationError.prototype.name="cancel",goog.Promise.Resolver_=function(e,t,o){this.promise=e,this.resolve=t,this.reject=o},goog.Timer=function(e,t){goog.events.EventTarget.call(this),this.interval_=e||1,this.timerObject_=t||goog.Timer.defaultTimerObject,this.boundTick_=goog.bind(this.tick_,this),this.last_=goog.now()},goog.inherits(goog.Timer,goog.events.EventTarget),goog.Timer.MAX_TIMEOUT_=2147483647,goog.Timer.INVALID_TIMEOUT_ID_=-1,goog.Timer.prototype.enabled=!1,goog.Timer.defaultTimerObject=goog.global,goog.Timer.intervalScale=.8,goog.Timer.prototype.timer_=null,goog.Timer.prototype.getInterval=function(){return this.interval_},goog.Timer.prototype.setInterval=function(e){this.interval_=e,this.timer_&&this.enabled?(this.stop(),this.start()):this.timer_&&this.stop()},goog.Timer.prototype.tick_=function(){if(this.enabled){var e=goog.now()-this.last_;0<e&&e<this.interval_*goog.Timer.intervalScale?this.timer_=this.timerObject_.setTimeout(this.boundTick_,this.interval_-e):(this.timer_&&(this.timerObject_.clearTimeout(this.timer_),this.timer_=null),this.dispatchTick(),this.enabled&&(this.timer_=this.timerObject_.setTimeout(this.boundTick_,this.interval_),this.last_=goog.now()))}},goog.Timer.prototype.dispatchTick=function(){this.dispatchEvent(goog.Timer.TICK)},goog.Timer.prototype.start=function(){this.enabled=!0,this.timer_||(this.timer_=this.timerObject_.setTimeout(this.boundTick_,this.interval_),this.last_=goog.now())},goog.Timer.prototype.stop=function(){this.enabled=!1,this.timer_&&(this.timerObject_.clearTimeout(this.timer_),this.timer_=null)},goog.Timer.prototype.disposeInternal=function(){goog.Timer.superClass_.disposeInternal.call(this),this.stop(),delete this.timerObject_},goog.Timer.TICK="tick",goog.Timer.callOnce=function(e,t,o){if(goog.isFunction(e))o&&(e=goog.bind(e,o));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=goog.bind(e.handleEvent,e)}return Number(t)>goog.Timer.MAX_TIMEOUT_?goog.Timer.INVALID_TIMEOUT_ID_:goog.Timer.defaultTimerObject.setTimeout(e,t||0)},goog.Timer.clear=function(e){goog.Timer.defaultTimerObject.clearTimeout(e)},goog.Timer.promise=function(o,n){var r=null;return new goog.Promise(function(e,t){(r=goog.Timer.callOnce(function(){e(n)},o))==goog.Timer.INVALID_TIMEOUT_ID_&&t(Error("Failed to schedule timer."))}).thenCatch(function(e){throw goog.Timer.clear(r),e})},goog.string.StringBuffer=function(e,t){null!=e&&this.append.apply(this,arguments)},goog.string.StringBuffer.prototype.buffer_="",goog.string.StringBuffer.prototype.set=function(e){this.buffer_=""+e},goog.string.StringBuffer.prototype.append=function(e,t,o){if(this.buffer_+=String(e),null!=t)for(var n=1;n<arguments.length;n++)this.buffer_+=arguments[n];return this},goog.string.StringBuffer.prototype.clear=function(){this.buffer_=""},goog.string.StringBuffer.prototype.getLength=function(){return this.buffer_.length},goog.string.StringBuffer.prototype.toString=function(){return this.buffer_},goog.ui.tree={},goog.ui.tree.BaseNode=function(e,t,o){goog.ui.Component.call(this,o),this.config_=t||goog.ui.tree.BaseNode.defaultConfig,this.html_=goog.html.SafeHtml.htmlEscapePreservingNewlines(e),this.expanded_=this.selected_=!1,this.toolTip_=null,this.afterLabelHtml_=goog.html.SafeHtml.EMPTY,this.isUserCollapsible_=!0,this.depth_=-1},goog.inherits(goog.ui.tree.BaseNode,goog.ui.Component),goog.ui.tree.BaseNode.EventType={BEFORE_EXPAND:"beforeexpand",EXPAND:"expand",BEFORE_COLLAPSE:"beforecollapse",COLLAPSE:"collapse"},goog.ui.tree.BaseNode.allNodes={},goog.ui.tree.BaseNode.prototype.disposeInternal=function(){goog.ui.tree.BaseNode.superClass_.disposeInternal.call(this),this.tree&&(this.tree.removeNode(this),this.tree=null),this.setElementInternal(null)},goog.ui.tree.BaseNode.prototype.initAccessibility=function(){var e=this.getElement();if(e){var t=this.getLabelElement();if(t&&!t.id&&(t.id=this.getId()+".label"),goog.a11y.aria.setRole(e,"treeitem"),goog.a11y.aria.setState(e,"selected",!1),goog.a11y.aria.setState(e,"expanded",!1),goog.a11y.aria.setState(e,"level",this.getDepth()),t&&goog.a11y.aria.setState(e,"labelledby",t.id),(e=this.getIconElement())&&goog.a11y.aria.setRole(e,"presentation"),(e=this.getExpandIconElement())&&goog.a11y.aria.setRole(e,"presentation"),(e=this.getChildrenElement())&&(goog.a11y.aria.setRole(e,"group"),e.hasChildNodes()))for(e=this.getChildCount(),t=1;t<=e;t++){var o=this.getChildAt(t-1).getElement();goog.asserts.assert(o,"The child element cannot be null"),goog.a11y.aria.setState(o,"setsize",e),goog.a11y.aria.setState(o,"posinset",t)}}},goog.ui.tree.BaseNode.prototype.createDom=function(){var e=this.getDomHelper().safeHtmlToNode(this.toSafeHtml());this.setElementInternal(e)},goog.ui.tree.BaseNode.prototype.enterDocument=function(){goog.ui.tree.BaseNode.superClass_.enterDocument.call(this),(goog.ui.tree.BaseNode.allNodes[this.getId()]=this).initAccessibility()},goog.ui.tree.BaseNode.prototype.exitDocument=function(){goog.ui.tree.BaseNode.superClass_.exitDocument.call(this),delete goog.ui.tree.BaseNode.allNodes[this.getId()]},goog.ui.tree.BaseNode.prototype.addChildAt=function(e,t,o){goog.asserts.assert(!e.getParent()),goog.asserts.assertInstanceof(e,goog.ui.tree.BaseNode),o=this.getChildAt(t-1);var n=this.getChildAt(t);if(goog.ui.tree.BaseNode.superClass_.addChildAt.call(this,e,t),e.previousSibling_=o,e.nextSibling_=n,o?o.nextSibling_=e:this.firstChild_=e,n?n.previousSibling_=e:this.lastChild_=e,(t=this.getTree())&&e.setTreeInternal(t),e.setDepth_(this.getDepth()+1),this.getElement()&&(this.updateExpandIcon(),this.getExpanded())){t=this.getChildrenElement(),e.getElement()||e.createDom();var r=e.getElement(),i=n&&n.getElement();t.insertBefore(r,i),this.isInDocument()&&e.enterDocument(),n||(o?o.updateExpandIcon():(goog.style.setElementShown(t,!0),this.setExpanded(this.getExpanded())))}},goog.ui.tree.BaseNode.prototype.add=function(e,t){return goog.asserts.assert(!t||t.getParent()==this,"Can only add nodes before siblings"),e.getParent()&&e.getParent().removeChild(e),this.addChildAt(e,t?this.indexOfChild(t):this.getChildCount()),e},goog.ui.tree.BaseNode.prototype.removeChild=function(e,t){var o=this.getTree();if(((t=o?o.getSelectedItem():null)==e||e.contains(t))&&(o.hasFocus()?(this.select(),goog.Timer.callOnce(this.onTimeoutSelect_,10,this)):this.select()),goog.ui.tree.BaseNode.superClass_.removeChild.call(this,e),this.lastChild_==e&&(this.lastChild_=e.previousSibling_),this.firstChild_==e&&(this.firstChild_=e.nextSibling_),e.previousSibling_&&(e.previousSibling_.nextSibling_=e.nextSibling_),e.nextSibling_&&(e.nextSibling_.previousSibling_=e.previousSibling_),t=e.isLastSibling(),e.tree=null,e.depth_=-1,o&&(o.removeNode(e),this.isInDocument())){if(o=this.getChildrenElement(),e.isInDocument()){var n=e.getElement();o.removeChild(n),e.exitDocument()}t&&(t=this.getLastChild())&&t.updateExpandIcon(),this.hasChildren()||(o.style.display="none",this.updateExpandIcon(),this.updateIcon_())}return e},goog.ui.tree.BaseNode.prototype.remove=goog.ui.tree.BaseNode.prototype.removeChild,goog.ui.tree.BaseNode.prototype.onTimeoutSelect_=function(){this.select()},goog.ui.tree.BaseNode.prototype.getTree=goog.abstractMethod,goog.ui.tree.BaseNode.prototype.getDepth=function(){var e=this.depth_;return e<0&&(e=this.computeDepth_(),this.setDepth_(e)),e},goog.ui.tree.BaseNode.prototype.computeDepth_=function(){var e=this.getParent();return e?e.getDepth()+1:0},goog.ui.tree.BaseNode.prototype.setDepth_=function(t){if(t!=this.depth_){this.depth_=t;var e=this.getRowElement();if(e){var o=this.getPixelIndent_()+"px";this.isRightToLeft()?e.style.paddingRight=o:e.style.paddingLeft=o}this.forEachChild(function(e){e.setDepth_(t+1)})}},goog.ui.tree.BaseNode.prototype.contains=function(e){for(;e;){if(e==this)return!0;e=e.getParent()}return!1},goog.ui.tree.BaseNode.EMPTY_CHILDREN_=[],goog.ui.tree.BaseNode.prototype.getChildren=function(){var t=[];return this.forEachChild(function(e){t.push(e)}),t},goog.ui.tree.BaseNode.prototype.getFirstChild=function(){return this.getChildAt(0)},goog.ui.tree.BaseNode.prototype.getLastChild=function(){return this.getChildAt(this.getChildCount()-1)},goog.ui.tree.BaseNode.prototype.getPreviousSibling=function(){return this.previousSibling_},goog.ui.tree.BaseNode.prototype.getNextSibling=function(){return this.nextSibling_},goog.ui.tree.BaseNode.prototype.isLastSibling=function(){return!this.nextSibling_},goog.ui.tree.BaseNode.prototype.isSelected=function(){return this.selected_},goog.ui.tree.BaseNode.prototype.select=function(){var e=this.getTree();e&&e.setSelectedItem(this)},goog.ui.tree.BaseNode.prototype.deselect=goog.nullFunction,goog.ui.tree.BaseNode.prototype.setSelectedInternal=function(e){if(this.selected_!=e){this.selected_=e,this.updateRow();var t=this.getElement();t&&(goog.a11y.aria.setState(t,"selected",e),e&&(e=this.getTree().getElement(),goog.asserts.assert(e,"The DOM element for the tree cannot be null"),goog.a11y.aria.setState(e,"activedescendant",this.getId())))}},goog.ui.tree.BaseNode.prototype.getExpanded=function(){return this.expanded_},goog.ui.tree.BaseNode.prototype.setExpandedInternal=function(e){this.expanded_=e},goog.ui.tree.BaseNode.prototype.setExpanded=function(e){var t=e!=this.expanded_;if(!t||this.dispatchEvent(e?goog.ui.tree.BaseNode.EventType.BEFORE_EXPAND:goog.ui.tree.BaseNode.EventType.BEFORE_COLLAPSE)){this.expanded_=e;var o=this.getTree(),n=this.getElement();if(this.hasChildren()){if(!e&&o&&this.contains(o.getSelectedItem())&&this.select(),n){if((o=this.getChildrenElement())&&(goog.style.setElementShown(o,e),e&&this.isInDocument()&&!o.hasChildNodes())){var r=[];this.forEachChild(function(e){r.push(e.toSafeHtml())}),goog.dom.safe.setInnerHtml(o,goog.html.SafeHtml.concat(r)),this.forEachChild(function(e){e.enterDocument()})}this.updateExpandIcon()}}else(o=this.getChildrenElement())&&goog.style.setElementShown(o,!1);n&&(this.updateIcon_(),goog.a11y.aria.setState(n,"expanded",e)),t&&this.dispatchEvent(e?goog.ui.tree.BaseNode.EventType.EXPAND:goog.ui.tree.BaseNode.EventType.COLLAPSE)}},goog.ui.tree.BaseNode.prototype.toggle=function(){this.setExpanded(!this.getExpanded())},goog.ui.tree.BaseNode.prototype.expand=function(){this.setExpanded(!0)},goog.ui.tree.BaseNode.prototype.collapse=function(){this.setExpanded(!1)},goog.ui.tree.BaseNode.prototype.collapseChildren=function(){this.forEachChild(function(e){e.collapseAll()})},goog.ui.tree.BaseNode.prototype.collapseAll=function(){this.collapseChildren(),this.collapse()},goog.ui.tree.BaseNode.prototype.expandChildren=function(){this.forEachChild(function(e){e.expandAll()})},goog.ui.tree.BaseNode.prototype.expandAll=function(){this.expandChildren(),this.expand()},goog.ui.tree.BaseNode.prototype.reveal=function(){var e=this.getParent();e&&(e.setExpanded(!0),e.reveal())},goog.ui.tree.BaseNode.prototype.setIsUserCollapsible=function(e){(this.isUserCollapsible_=e)||this.expand(),this.getElement()&&this.updateExpandIcon()},goog.ui.tree.BaseNode.prototype.isUserCollapsible=function(){return this.isUserCollapsible_},goog.ui.tree.BaseNode.prototype.toSafeHtml=function(){var e=this.getTree(),t=!e.getShowLines()||e==this.getParent()&&!e.getShowRootLines()?this.config_.cssChildrenNoLines:this.config_.cssChildren;e=this.getExpanded()&&this.hasChildren(),t={class:t,style:this.getLineStyle()};var o=[];return e&&this.forEachChild(function(e){o.push(e.toSafeHtml())}),e=goog.html.SafeHtml.create("div",t,o),goog.html.SafeHtml.create("div",{class:this.config_.cssItem,id:this.getId()},[this.getRowSafeHtml(),e])},goog.ui.tree.BaseNode.prototype.getPixelIndent_=function(){return Math.max(0,(this.getDepth()-1)*this.config_.indentWidth)},goog.ui.tree.BaseNode.prototype.getRowSafeHtml=function(){var e={};e["padding-"+(this.isRightToLeft()?"right":"left")]=this.getPixelIndent_()+"px",e={class:this.getRowClassName(),style:e};var t=[this.getExpandIconSafeHtml(),this.getIconSafeHtml(),this.getLabelSafeHtml()];return goog.html.SafeHtml.create("div",e,t)},goog.ui.tree.BaseNode.prototype.getRowClassName=function(){var e=this.isSelected()?" "+this.config_.cssSelectedRow:"";return this.config_.cssTreeRow+e},goog.ui.tree.BaseNode.prototype.getLabelSafeHtml=function(){var e=goog.html.SafeHtml.create("span",{class:this.config_.cssItemLabel,title:this.getToolTip()||null},this.getSafeHtml());return goog.html.SafeHtml.concat(e,goog.html.SafeHtml.create("span",{},this.getAfterLabelSafeHtml()))},goog.ui.tree.BaseNode.prototype.getAfterLabelHtml=function(){return goog.html.SafeHtml.unwrap(this.getAfterLabelSafeHtml())},goog.ui.tree.BaseNode.prototype.getAfterLabelSafeHtml=function(){return this.afterLabelHtml_},goog.ui.tree.BaseNode.prototype.setAfterLabelSafeHtml=function(e){this.afterLabelHtml_=e;var t=this.getAfterLabelElement();t&&goog.dom.safe.setInnerHtml(t,e)},goog.ui.tree.BaseNode.prototype.getIconSafeHtml=function(){return goog.html.SafeHtml.create("span",{style:{display:"inline-block"},class:this.getCalculatedIconClass()})},goog.ui.tree.BaseNode.prototype.getCalculatedIconClass=goog.abstractMethod,goog.ui.tree.BaseNode.prototype.getExpandIconSafeHtml=function(){return goog.html.SafeHtml.create("span",{type:"expand",style:{display:"inline-block"},class:this.getExpandIconClass()})},goog.ui.tree.BaseNode.prototype.getExpandIconClass=function(){var e=this.getTree(),t=!e.getShowLines()||e==this.getParent()&&!e.getShowRootLines(),o=this.config_,n=new goog.string.StringBuffer;if(n.append(o.cssTreeIcon," ",o.cssExpandTreeIcon," "),this.hasChildren()){var r=0;switch(e.getShowExpandIcons()&&this.isUserCollapsible_&&(r=this.getExpanded()?2:1),t||(r=this.isLastSibling()?r+4:r+8),r){case 1:n.append(o.cssExpandTreeIconPlus);break;case 2:n.append(o.cssExpandTreeIconMinus);break;case 4:n.append(o.cssExpandTreeIconL);break;case 5:n.append(o.cssExpandTreeIconLPlus);break;case 6:n.append(o.cssExpandTreeIconLMinus);break;case 8:n.append(o.cssExpandTreeIconT);break;case 9:n.append(o.cssExpandTreeIconTPlus);break;case 10:n.append(o.cssExpandTreeIconTMinus);break;default:n.append(o.cssExpandTreeIconBlank)}}else t?n.append(o.cssExpandTreeIconBlank):this.isLastSibling()?n.append(o.cssExpandTreeIconL):n.append(o.cssExpandTreeIconT);return n.toString()},goog.ui.tree.BaseNode.prototype.getLineStyle=function(){var e=this.getExpanded()&&this.hasChildren();return goog.html.SafeStyle.create({"background-position":this.getBackgroundPosition(),display:e?null:"none"})},goog.ui.tree.BaseNode.prototype.getBackgroundPosition=function(){return(this.isLastSibling()?"-100":(this.getDepth()-1)*this.config_.indentWidth)+"px 0"},goog.ui.tree.BaseNode.prototype.getElement=function(){var e=goog.ui.tree.BaseNode.superClass_.getElement.call(this);return e||(e=this.getDomHelper().getElement(this.getId()),this.setElementInternal(e)),e},goog.ui.tree.BaseNode.prototype.getRowElement=function(){var e=this.getElement();return e?e.firstChild:null},goog.ui.tree.BaseNode.prototype.getExpandIconElement=function(){var e=this.getRowElement();return e?e.firstChild:null},goog.ui.tree.BaseNode.prototype.getIconElement=function(){var e=this.getRowElement();return e?e.childNodes[1]:null},goog.ui.tree.BaseNode.prototype.getLabelElement=function(){var e=this.getRowElement();return e&&e.lastChild?e.lastChild.previousSibling:null},goog.ui.tree.BaseNode.prototype.getAfterLabelElement=function(){var e=this.getRowElement();return e?e.lastChild:null},goog.ui.tree.BaseNode.prototype.getChildrenElement=function(){var e=this.getElement();return e?e.lastChild:null},goog.ui.tree.BaseNode.prototype.setIconClass=function(e){this.iconClass_=e,this.isInDocument()&&this.updateIcon_()},goog.ui.tree.BaseNode.prototype.getIconClass=function(){return this.iconClass_},goog.ui.tree.BaseNode.prototype.setExpandedIconClass=function(e){this.expandedIconClass_=e,this.isInDocument()&&this.updateIcon_()},goog.ui.tree.BaseNode.prototype.getExpandedIconClass=function(){return this.expandedIconClass_},goog.ui.tree.BaseNode.prototype.setText=function(e){this.setSafeHtml(goog.html.SafeHtml.htmlEscape(e))},goog.ui.tree.BaseNode.prototype.getText=function(){return goog.string.unescapeEntities(goog.html.SafeHtml.unwrap(this.html_))},goog.ui.tree.BaseNode.prototype.setSafeHtml=function(e){this.html_=e;var t=this.getLabelElement();t&&goog.dom.safe.setInnerHtml(t,e),(e=this.getTree())&&e.setNode(this)},goog.ui.tree.BaseNode.prototype.getHtml=function(){return goog.html.SafeHtml.unwrap(this.getSafeHtml())},goog.ui.tree.BaseNode.prototype.getSafeHtml=function(){return this.html_},goog.ui.tree.BaseNode.prototype.setToolTip=function(e){this.toolTip_=e;var t=this.getLabelElement();t&&(t.title=e)},goog.ui.tree.BaseNode.prototype.getToolTip=function(){return this.toolTip_},goog.ui.tree.BaseNode.prototype.updateRow=function(){var e=this.getRowElement();e&&(e.className=this.getRowClassName())},goog.ui.tree.BaseNode.prototype.updateExpandIcon=function(){var e=this.getExpandIconElement();e&&(e.className=this.getExpandIconClass()),(e=this.getChildrenElement())&&(e.style.backgroundPosition=this.getBackgroundPosition())},goog.ui.tree.BaseNode.prototype.updateIcon_=function(){this.getIconElement().className=this.getCalculatedIconClass()},goog.ui.tree.BaseNode.prototype.onMouseDown=function(e){"expand"==e.target.getAttribute("type")&&this.hasChildren()?this.isUserCollapsible_&&this.toggle():(this.select(),this.updateRow())},goog.ui.tree.BaseNode.prototype.onClick_=goog.events.Event.preventDefault,goog.ui.tree.BaseNode.prototype.onDoubleClick_=function(e){"expand"==e.target.getAttribute("type")&&this.hasChildren()||this.isUserCollapsible_&&this.toggle()},goog.ui.tree.BaseNode.prototype.onKeyDown=function(e){var t=!0;switch(e.keyCode){case goog.events.KeyCodes.RIGHT:if(e.altKey)break;this.hasChildren()&&(this.getExpanded()?this.getFirstChild().select():this.setExpanded(!0));break;case goog.events.KeyCodes.LEFT:if(e.altKey)break;if(this.hasChildren()&&this.getExpanded()&&this.isUserCollapsible_)this.setExpanded(!1);else{var o=this.getParent(),n=this.getTree();o&&(n.getShowRootNode()||o!=n)&&o.select()}break;case goog.events.KeyCodes.DOWN:(o=this.getNextShownNode())&&o.select();break;case goog.events.KeyCodes.UP:(o=this.getPreviousShownNode())&&o.select();break;default:t=!1}return t&&(e.preventDefault(),(n=this.getTree())&&n.clearTypeAhead()),t},goog.ui.tree.BaseNode.prototype.getLastShownDescendant=function(){return this.getExpanded()&&this.hasChildren()?this.getLastChild().getLastShownDescendant():this},goog.ui.tree.BaseNode.prototype.getNextShownNode=function(){if(this.hasChildren()&&this.getExpanded())return this.getFirstChild();for(var e,t=this;t!=this.getTree();){if(null!=(e=t.getNextSibling()))return e;t=t.getParent()}return null},goog.ui.tree.BaseNode.prototype.getPreviousShownNode=function(){var e=this.getPreviousSibling();if(null!=e)return e.getLastShownDescendant();e=this.getParent();var t=this.getTree();return!t.getShowRootNode()&&e==t||this==t?null:e},goog.ui.tree.BaseNode.prototype.getClientData=goog.ui.tree.BaseNode.prototype.getModel,goog.ui.tree.BaseNode.prototype.setClientData=goog.ui.tree.BaseNode.prototype.setModel,goog.ui.tree.BaseNode.prototype.getConfig=function(){return this.config_},goog.ui.tree.BaseNode.prototype.setTreeInternal=function(t){this.tree!=t&&((this.tree=t).setNode(this),this.forEachChild(function(e){e.setTreeInternal(t)}))},goog.ui.tree.BaseNode.defaultConfig={indentWidth:19,cssRoot:"goog-tree-root goog-tree-item",cssHideRoot:"goog-tree-hide-root",cssItem:"goog-tree-item",cssChildren:"goog-tree-children",cssChildrenNoLines:"goog-tree-children-nolines",cssTreeRow:"goog-tree-row",cssItemLabel:"goog-tree-item-label",cssTreeIcon:"goog-tree-icon",cssExpandTreeIcon:"goog-tree-expand-icon",cssExpandTreeIconPlus:"goog-tree-expand-icon-plus",cssExpandTreeIconMinus:"goog-tree-expand-icon-minus",cssExpandTreeIconTPlus:"goog-tree-expand-icon-tplus",cssExpandTreeIconTMinus:"goog-tree-expand-icon-tminus",cssExpandTreeIconLPlus:"goog-tree-expand-icon-lplus",cssExpandTreeIconLMinus:"goog-tree-expand-icon-lminus",cssExpandTreeIconT:"goog-tree-expand-icon-t",cssExpandTreeIconL:"goog-tree-expand-icon-l",cssExpandTreeIconBlank:"goog-tree-expand-icon-blank",cssExpandedFolderIcon:"goog-tree-expanded-folder-icon",cssCollapsedFolderIcon:"goog-tree-collapsed-folder-icon",cssFileIcon:"goog-tree-file-icon",cssExpandedRootIcon:"goog-tree-expanded-folder-icon",cssCollapsedRootIcon:"goog-tree-collapsed-folder-icon",cssSelectedRow:"selected"},goog.ui.tree.TreeNode=function(e,t,o){goog.ui.tree.BaseNode.call(this,e,t,o)},goog.inherits(goog.ui.tree.TreeNode,goog.ui.tree.BaseNode),goog.ui.tree.TreeNode.prototype.getTree=function(){if(this.tree)return this.tree;var e=this.getParent();return e&&(e=e.getTree())?(this.setTreeInternal(e),e):null},goog.ui.tree.TreeNode.prototype.getCalculatedIconClass=function(){var e=this.getExpanded(),t=this.getExpandedIconClass();if(e&&t)return t;if(t=this.getIconClass(),!e&&t)return t;if(t=this.getConfig(),this.hasChildren()){if(e&&t.cssExpandedFolderIcon)return t.cssTreeIcon+" "+t.cssExpandedFolderIcon;if(!e&&t.cssCollapsedFolderIcon)return t.cssTreeIcon+" "+t.cssCollapsedFolderIcon}else if(t.cssFileIcon)return t.cssTreeIcon+" "+t.cssFileIcon;return""},goog.structs.Trie=function(e){this.value_=void 0,this.childNodes_={},e&&this.setAll(e)},goog.structs.Trie.prototype.set=function(e,t){this.setOrAdd_(e,t,!1)},goog.structs.Trie.prototype.add=function(e,t){this.setOrAdd_(e,t,!0)},goog.structs.Trie.prototype.setOrAdd_=function(e,t,o){for(var n=this,r=0;r<e.length;r++){var i=e.charAt(r);n.childNodes_[i]||(n.childNodes_[i]=new goog.structs.Trie),n=n.childNodes_[i]}if(o&&void 0!==n.value_)throw Error('The collection already contains the key "'+e+'"');n.value_=t},goog.structs.Trie.prototype.setAll=function(e){var t=goog.structs.getKeys(e);e=goog.structs.getValues(e);for(var o=0;o<t.length;o++)this.set(t[o],e[o])},goog.structs.Trie.prototype.getChildNode_=function(e){for(var t=this,o=0;o<e.length;o++){var n=e.charAt(o);if(!(t=t.childNodes_[n]))return}return t},goog.structs.Trie.prototype.get=function(e){return(e=this.getChildNode_(e))?e.value_:void 0},goog.structs.Trie.prototype.getKeyAndPrefixes=function(e,t){var o=this,n={};for(t=t||0,void 0!==o.value_&&(n[t]=o.value_);t<e.length;t++){var r=e.charAt(t);if(!(r in o.childNodes_))break;void 0!==(o=o.childNodes_[r]).value_&&(n[t]=o.value_)}return n},goog.structs.Trie.prototype.getValues=function(){var e=[];return this.getValuesInternal_(e),e},goog.structs.Trie.prototype.getValuesInternal_=function(e){for(var t in void 0!==this.value_&&e.push(this.value_),this.childNodes_)this.childNodes_[t].getValuesInternal_(e)},goog.structs.Trie.prototype.getKeys=function(e){var t=[];if(e){for(var o=this,n=0;n<e.length;n++){var r=e.charAt(n);if(!o.childNodes_[r])return[];o=o.childNodes_[r]}o.getKeysInternal_(e,t)}else this.getKeysInternal_("",t);return t},goog.structs.Trie.prototype.getKeysInternal_=function(e,t){for(var o in void 0!==this.value_&&t.push(e),this.childNodes_)this.childNodes_[o].getKeysInternal_(e+o,t)},goog.structs.Trie.prototype.containsKey=function(e){return void 0!==this.get(e)},goog.structs.Trie.prototype.containsPrefix=function(e){return 0==e.length?!this.isEmpty():!!this.getChildNode_(e)},goog.structs.Trie.prototype.containsValue=function(e){if(this.value_===e)return!0;for(var t in this.childNodes_)if(this.childNodes_[t].containsValue(e))return!0;return!1},goog.structs.Trie.prototype.clear=function(){this.childNodes_={},this.value_=void 0},goog.structs.Trie.prototype.remove=function(e){for(var t=this,o=[],n=0;n<e.length;n++){var r=e.charAt(n);if(!t.childNodes_[r])throw Error('The collection does not have the key "'+e+'"');o.push([t,r]),t=t.childNodes_[r]}for(e=t.value_,delete t.value_;0<o.length&&(t=(r=o.pop())[0],r=r[1],t.childNodes_[r].isEmpty());)delete t.childNodes_[r];return e};goog.structs.Trie.prototype.clone=function(){return new goog.structs.Trie(this)},goog.structs.Trie.prototype.getCount=function(){return goog.structs.getCount(this.getValues())},goog.structs.Trie.prototype.isEmpty=function(){return void 0===this.value_&&goog.object.isEmpty(this.childNodes_)},goog.ui.tree.TypeAhead=function(){this.nodeMap_=new goog.structs.Trie,this.buffer_="",this.matchingNodes_=this.matchingLabels_=null,this.matchingNodeIndex_=this.matchingLabelIndex_=0},goog.ui.tree.TypeAhead.Offset={DOWN:1,UP:-1},goog.ui.tree.TypeAhead.prototype.handleNavigation=function(e){var t=!1;switch(e.keyCode){case goog.events.KeyCodes.DOWN:case goog.events.KeyCodes.UP:e.ctrlKey&&(this.jumpTo_(e.keyCode==goog.events.KeyCodes.DOWN?goog.ui.tree.TypeAhead.Offset.DOWN:goog.ui.tree.TypeAhead.Offset.UP),t=!0);break;case goog.events.KeyCodes.BACKSPACE:t=!0,0<(e=this.buffer_.length-1)?(this.buffer_=this.buffer_.substring(0,e),this.jumpToLabel_(this.buffer_)):0==e?this.buffer_="":t=!1;break;case goog.events.KeyCodes.ESC:t=!(this.buffer_="")}return t},goog.ui.tree.TypeAhead.prototype.handleTypeAheadChar=function(e){var t=!1;return e.ctrlKey||e.altKey||(e=String.fromCharCode(e.charCode||e.keyCode).toLowerCase(),goog.string.isUnicodeChar(e)&&(" "!=e||this.buffer_)&&(this.buffer_+=e,t=this.jumpToLabel_(this.buffer_))),t},goog.ui.tree.TypeAhead.prototype.setNodeInMap=function(e){var t=e.getText();if(t&&!goog.string.isEmptyOrWhitespace(goog.string.makeSafe(t))){t=t.toLowerCase();var o=this.nodeMap_.get(t);o?o.push(e):this.nodeMap_.set(t,[e])}},goog.ui.tree.TypeAhead.prototype.removeNodeFromMap=function(e){var t=e.getText();if(t&&!goog.string.isEmptyOrWhitespace(goog.string.makeSafe(t))){t=t.toLowerCase();var o=this.nodeMap_.get(t);if(o){for(var n=e.getChildCount(),r=0;r<n;r++)this.removeNodeFromMap(e.getChildAt(r));goog.array.remove(o,e),o.length||this.nodeMap_.remove(t)}}},goog.ui.tree.TypeAhead.prototype.jumpToLabel_=function(e){var t=!1;return(e=this.nodeMap_.getKeys(e))&&e.length&&(this.matchingLabelIndex_=this.matchingNodeIndex_=0,t=this.nodeMap_.get(e[0]),t=this.selectMatchingNode_(t))&&(this.matchingLabels_=e),t},goog.ui.tree.TypeAhead.prototype.jumpTo_=function(e){var t=!1,o=this.matchingLabels_;if(o){t=null;var n=!1;if(this.matchingNodes_){var r=this.matchingNodeIndex_+e;0<=r&&r<this.matchingNodes_.length?(this.matchingNodeIndex_=r,t=this.matchingNodes_):n=!0}t||(0<=(r=this.matchingLabelIndex_+e)&&r<o.length&&(this.matchingLabelIndex_=r),o.length>this.matchingLabelIndex_&&(t=this.nodeMap_.get(o[this.matchingLabelIndex_])),t&&t.length&&n&&(this.matchingNodeIndex_=e==goog.ui.tree.TypeAhead.Offset.UP?t.length-1:0)),(t=this.selectMatchingNode_(t))&&(this.matchingLabels_=o)}return t},goog.ui.tree.TypeAhead.prototype.selectMatchingNode_=function(e){if(e){if(this.matchingNodeIndex_<e.length){var t=e[this.matchingNodeIndex_];this.matchingNodes_=e}t&&(t.reveal(),t.select())}return!!t},goog.ui.tree.TypeAhead.prototype.clear=function(){this.buffer_=""},goog.ui.tree.TreeControl=function(e,t,o){if(goog.ui.tree.BaseNode.call(this,e,t,o),this.setExpandedInternal(!0),this.setSelectedInternal(!0),(this.selectedItem_=this).typeAhead_=new goog.ui.tree.TypeAhead,this.focusHandler_=this.keyHandler_=null,this.logger_=goog.log.getLogger("this"),this.focused_=!1,this.focusedNode_=null,this.showRootLines_=this.showRootNode_=this.showExpandIcons_=this.showLines_=!0,goog.userAgent.IE)try{document.execCommand("BackgroundImageCache",!1,!0)}catch(e){goog.log.warning(this.logger_,"Failed to enable background image cache")}},goog.inherits(goog.ui.tree.TreeControl,goog.ui.tree.BaseNode),goog.ui.tree.TreeControl.prototype.getTree=function(){return this},goog.ui.tree.TreeControl.prototype.getDepth=function(){return 0},goog.ui.tree.TreeControl.prototype.reveal=function(){},goog.ui.tree.TreeControl.prototype.handleFocus_=function(e){this.focused_=!0,goog.dom.classlist.add(goog.asserts.assert(this.getElement()),"focused"),this.selectedItem_&&this.selectedItem_.select()},goog.ui.tree.TreeControl.prototype.handleBlur_=function(e){this.focused_=!1,goog.dom.classlist.remove(goog.asserts.assert(this.getElement()),"focused")},goog.ui.tree.TreeControl.prototype.hasFocus=function(){return this.focused_},goog.ui.tree.TreeControl.prototype.getExpanded=function(){return!this.showRootNode_||goog.ui.tree.TreeControl.superClass_.getExpanded.call(this)},goog.ui.tree.TreeControl.prototype.setExpanded=function(e){this.showRootNode_?goog.ui.tree.TreeControl.superClass_.setExpanded.call(this,e):this.setExpandedInternal(e)},goog.ui.tree.TreeControl.prototype.getExpandIconSafeHtml=function(){return goog.html.SafeHtml.EMPTY},goog.ui.tree.TreeControl.prototype.getIconElement=function(){var e=this.getRowElement();return e?e.firstChild:null},goog.ui.tree.TreeControl.prototype.getExpandIconElement=function(){return null},goog.ui.tree.TreeControl.prototype.updateExpandIcon=function(){},goog.ui.tree.TreeControl.prototype.getRowClassName=function(){return goog.ui.tree.TreeControl.superClass_.getRowClassName.call(this)+(this.showRootNode_?"":" "+this.getConfig().cssHideRoot)},goog.ui.tree.TreeControl.prototype.getCalculatedIconClass=function(){var e=this.getExpanded(),t=this.getExpandedIconClass();return e&&t?t:(t=this.getIconClass(),!e&&t?t:(t=this.getConfig(),e&&t.cssExpandedRootIcon?t.cssTreeIcon+" "+t.cssExpandedRootIcon:!e&&t.cssCollapsedRootIcon?t.cssTreeIcon+" "+t.cssCollapsedRootIcon:""))},goog.ui.tree.TreeControl.prototype.setSelectedItem=function(e){if(this.selectedItem_!=e){var t=!1;this.selectedItem_&&(t=this.selectedItem_==this.focusedNode_,this.selectedItem_.setSelectedInternal(!1)),(this.selectedItem_=e)&&(e.setSelectedInternal(!0),t&&e.select()),this.dispatchEvent(goog.events.EventType.CHANGE)}},goog.ui.tree.TreeControl.prototype.getSelectedItem=function(){return this.selectedItem_},goog.ui.tree.TreeControl.prototype.setShowLines=function(e){this.showLines_!=e&&(this.showLines_=e,this.isInDocument()&&this.updateLinesAndExpandIcons_())},goog.ui.tree.TreeControl.prototype.getShowLines=function(){return this.showLines_},goog.ui.tree.TreeControl.prototype.updateLinesAndExpandIcons_=function(){var r=this,i=r.getShowLines(),a=r.getShowRootLines();!function e(t){var o=t.getChildrenElement();if(o){var n=!i||r==t.getParent()&&!a?t.getConfig().cssChildrenNoLines:t.getConfig().cssChildren;o.className=n,(o=t.getExpandIconElement())&&(o.className=t.getExpandIconClass())}t.forEachChild(e)}(this)},goog.ui.tree.TreeControl.prototype.setShowRootLines=function(e){this.showRootLines_!=e&&(this.showRootLines_=e,this.isInDocument()&&this.updateLinesAndExpandIcons_())},goog.ui.tree.TreeControl.prototype.getShowRootLines=function(){return this.showRootLines_},goog.ui.tree.TreeControl.prototype.setShowExpandIcons=function(e){this.showExpandIcons_!=e&&(this.showExpandIcons_=e,this.isInDocument()&&this.updateLinesAndExpandIcons_())},goog.ui.tree.TreeControl.prototype.getShowExpandIcons=function(){return this.showExpandIcons_},goog.ui.tree.TreeControl.prototype.setShowRootNode=function(e){if(this.showRootNode_!=e){if(this.showRootNode_=e,this.isInDocument()){var t=this.getRowElement();t&&(t.className=this.getRowClassName())}!e&&this.getSelectedItem()==this&&this.getFirstChild()&&this.setSelectedItem(this.getFirstChild())}},goog.ui.tree.TreeControl.prototype.getShowRootNode=function(){return this.showRootNode_},goog.ui.tree.TreeControl.prototype.initAccessibility=function(){goog.ui.tree.TreeControl.superClass_.initAccessibility.call(this);var e=this.getElement();goog.asserts.assert(e,"The DOM element for the tree cannot be null."),goog.a11y.aria.setRole(e,"tree"),goog.a11y.aria.setState(e,"labelledby",this.getLabelElement().id)},goog.ui.tree.TreeControl.prototype.enterDocument=function(){goog.ui.tree.TreeControl.superClass_.enterDocument.call(this);var e=this.getElement();e.className=this.getConfig().cssRoot,e.setAttribute("hideFocus","true"),this.attachEvents_(),this.initAccessibility()},goog.ui.tree.TreeControl.prototype.exitDocument=function(){goog.ui.tree.TreeControl.superClass_.exitDocument.call(this),this.detachEvents_()},goog.ui.tree.TreeControl.prototype.attachEvents_=function(){var e=this.getElement();e.tabIndex=0;var t=this.keyHandler_=new goog.events.KeyHandler(e),o=this.focusHandler_=new goog.events.FocusHandler(e);this.getHandler().listen(o,goog.events.FocusHandler.EventType.FOCUSOUT,this.handleBlur_).listen(o,goog.events.FocusHandler.EventType.FOCUSIN,this.handleFocus_).listen(t,goog.events.KeyHandler.EventType.KEY,this.handleKeyEvent).listen(e,goog.events.EventType.MOUSEDOWN,this.handleMouseEvent_).listen(e,goog.events.EventType.CLICK,this.handleMouseEvent_).listen(e,goog.events.EventType.DBLCLICK,this.handleMouseEvent_)},goog.ui.tree.TreeControl.prototype.detachEvents_=function(){this.keyHandler_.dispose(),this.keyHandler_=null,this.focusHandler_.dispose(),this.focusHandler_=null},goog.ui.tree.TreeControl.prototype.handleMouseEvent_=function(e){goog.log.fine(this.logger_,"Received event "+e.type);var t=this.getNodeFromEvent_(e);if(t)switch(e.type){case goog.events.EventType.MOUSEDOWN:t.onMouseDown(e);break;case goog.events.EventType.CLICK:t.onClick_(e);break;case goog.events.EventType.DBLCLICK:t.onDoubleClick_(e)}},goog.ui.tree.TreeControl.prototype.handleKeyEvent=function(e){var t;return(t=this.typeAhead_.handleNavigation(e)||this.selectedItem_&&this.selectedItem_.onKeyDown(e)||this.typeAhead_.handleTypeAheadChar(e))&&e.preventDefault(),t},goog.ui.tree.TreeControl.prototype.getNodeFromEvent_=function(e){for(var t=e.target;null!=t;){if(e=goog.ui.tree.BaseNode.allNodes[t.id])return e;if(t==this.getElement())break;t=t.parentNode}return null},goog.ui.tree.TreeControl.prototype.createNode=function(e){return new goog.ui.tree.TreeNode(e||goog.html.SafeHtml.EMPTY,this.getConfig(),this.getDomHelper())},goog.ui.tree.TreeControl.prototype.setNode=function(e){this.typeAhead_.setNodeInMap(e)},goog.ui.tree.TreeControl.prototype.removeNode=function(e){this.typeAhead_.removeNodeFromMap(e)},goog.ui.tree.TreeControl.prototype.clearTypeAhead=function(){this.typeAhead_.clear()},goog.ui.tree.TreeControl.defaultConfig=goog.ui.tree.BaseNode.defaultConfig,Blockly.Toolbox=function(e){this.blockSpaceEditor_=e,this.createDom(this.blockSpaceEditor_.svg_)},Blockly.Toolbox.prototype.width=0,Blockly.Toolbox.CONFIG_={indentWidth:19,cssRoot:"blocklyTreeRoot",cssHideRoot:"blocklyHidden",cssItem:"",cssTreeRow:"blocklyTreeRow",cssItemLabel:"blocklyTreeLabel",cssTreeIcon:"blocklyTreeIcon",cssExpandedFolderIcon:"blocklyTreeIconOpen",cssFileIcon:"blocklyTreeIconNone",cssSelectedRow:"blocklyTreeSelected"},Blockly.Toolbox.prototype.createDom=function(e){this.HtmlDiv=goog.dom.createDom("div","blocklyToolboxDiv"),this.HtmlDiv.setAttribute("dir",Blockly.RTL?"RTL":"LTR"),goog.dom.insertSiblingBefore(this.HtmlDiv,e),this.trashcanHolder=Blockly.createSvgElement("svg",{id:"trashcanHolder",width:70,height:90,style:"display: none; position: absolute"},this.HtmlDiv),this.trashcan=new Blockly.Trashcan(this),this.svgTrashcan=this.trashcan.createDom(),this.svgTrashcan.setAttribute("transform","translate(0, 10)"),this.trashcanHolder.appendChild(this.svgTrashcan),this.flyout_=new Blockly.Flyout(this.blockSpaceEditor_),e.appendChild(this.flyout_.createDom(!0)),Blockly.bindEvent_(this.HtmlDiv,"mousedown",this,function(e){Blockly.fireUiEvent(window,"resize"),Blockly.isRightButton(e)||e.target==this.HtmlDiv?this.blockSpaceEditor_.hideChaff(!1):this.blockSpaceEditor_.hideChaff(!0)})},Blockly.Toolbox.prototype.init=function(e,t){Blockly.Toolbox.CONFIG_.cleardotPath=Blockly.assetUrl("media/1x1.gif"),Blockly.Toolbox.CONFIG_.cssCollapsedFolderIcon="blocklyTreeIconClosed"+(Blockly.RTL?"Rtl":"Ltr");var o=new Blockly.Toolbox.TreeControl(this,"root",Blockly.Toolbox.CONFIG_);(this.tree_=o).setShowRootNode(!1),o.setShowLines(!1),o.setShowExpandIcons(!1),o.setSelectedItem(null),this.HtmlDiv.style.display="block",this.flyout_.init(e,!0),this.populate_(),o.render(this.HtmlDiv),goog.events.listen(window,goog.events.EventType.RESIZE,goog.partial(this.position_,t),!1,this),this.position_(t),this.enabled=!0},Blockly.Toolbox.prototype.position_=function(e){var t=this.HtmlDiv,o=goog.style.getBorderBox(e.svg_),n=e.svgSize();Blockly.RTL?t.style.right=o.right+"px":t.style.marginLeft=o.left,t.style.height=n.height+"px",this.width=t.offsetWidth,Blockly.RTL||--this.width,e.hideTrashRect_||(e.svgBackground_.setAttribute("x",Blockly.RTL?n.width-t.offsetWidth:0),e.svgBackground_.setAttribute("width",t.offsetWidth),e.svgBackground_.setAttribute("height",n.height)),e=t.offsetWidth,t=this.trashcanHolder.getAttribute("width"),this.trashcanHolder.style.left=Math.round(e/2-t/2)+"px"},Blockly.Toolbox.prototype.populate_=function(){var s=this.tree_;if(s.blocks=[],function e(t,o){for(var n,r=0;n=t.childNodes[r];r++)if(n.tagName){var i=n.tagName.toUpperCase();if("CATEGORY"===i){(i=s.createNode(n.getAttribute("name"))).blocks=[],o.add(i);var a=n.getAttribute("custom");a&&(i.blocks[0]=a),e(n,i)}else"BLOCK"===i&&o.blocks.push(n)}}(Blockly.languageTree,this.tree_),s.blocks.length)throw"Toolbox cannot have both blocks and categories in the root level.";Blockly.fireUiEvent(window,"resize")},Blockly.Toolbox.prototype.clearSelection=function(){this.tree_.setSelectedItem(null)},Blockly.Toolbox.prototype.getRect=function(){var e=-1e7;return Blockly.RTL&&(e=Blockly.mainBlockSpaceEditor.svgSize().width-this.width),new goog.math.Rect(e,-1e7,1e7+this.width,2e7)},Blockly.Toolbox.TreeControl=function(e,t,o,n){goog.ui.tree.TreeControl.call(this,t,o,n),this.toolbox_=e},goog.inherits(Blockly.Toolbox.TreeControl,goog.ui.tree.TreeControl),Blockly.Toolbox.TreeControl.prototype.enterDocument=function(){if(Blockly.Toolbox.TreeControl.superClass_.enterDocument.call(this),goog.events.BrowserFeature.TOUCH_ENABLED||"onpointerdown"in window||"onmspointerdown"in window){var e=this.getElement(),t=this.handleTouchEvent_.bind(this);Blockly.bindEvent_(e,goog.events.EventType.TOUCHSTART,this,t),Blockly.bindEvent_(e,goog.events.EventType.POINTERDOWN,this,t),Blockly.bindEvent_(e,goog.events.EventType.MSPOINTERDOWN,this,t)}},Blockly.Toolbox.TreeControl.prototype.handleTouchEvent_=function(e){if(!this.touchRateLimited){this.touchRateLimited=!0,setTimeout(function(){this.touchRateLimited=!1}.bind(this)),e.preventDefault();var t=this.getNodeFromEvent_(e);!t||e.type!==goog.events.EventType.TOUCHSTART&&e.type!==goog.events.EventType.POINTERDOWN&&e.type!==goog.events.EventType.MSPOINTERDOWN||(e.stopImmediatePropagation(),window.setTimeout(function(){t.onMouseDown(e)},1))}},Blockly.Toolbox.TreeControl.prototype.createNode=function(e){return new Blockly.Toolbox.TreeNode(this.toolbox_,e||"",this.getConfig(),this.getDomHelper())},Blockly.Toolbox.TreeControl.prototype.setSelectedItem=function(e){this.selectedItem_!=e&&(goog.ui.tree.TreeControl.prototype.setSelectedItem.call(this,e),e&&e.blocks&&e.blocks.length?this.toolbox_.flyout_.show(e.blocks):this.toolbox_.flyout_.hide())},Blockly.Toolbox.TreeNode=function(e,t,o,n){goog.ui.tree.TreeNode.call(this,t,o,n),t=function(){Blockly.fireUiEvent(window,"resize")},this.toolbox_=e,goog.events.listen(this.toolbox_.tree_,goog.ui.tree.BaseNode.EventType.EXPAND,t),goog.events.listen(this.toolbox_.tree_,goog.ui.tree.BaseNode.EventType.COLLAPSE,t)},goog.inherits(Blockly.Toolbox.TreeNode,goog.ui.tree.TreeNode),Blockly.Toolbox.TreeNode.prototype.getExpandIconSafeHtml=function(){return goog.html.SafeHtml.create("span")},Blockly.Toolbox.TreeNode.prototype.getExpandIconElement=function(){return null},Blockly.Toolbox.TreeNode.prototype.onMouseDown=function(e){this.toolbox_.enabled&&(this.hasChildren()&&this.isUserCollapsible_?(this.toggle(),this.select()):this.isSelected()?this.getTree().setSelectedItem(null):this.select(),this.updateRow(),e.stopPropagation())},Blockly.Toolbox.TreeNode.prototype.onDoubleClick_=function(e){},Blockly.Variables={},Blockly.Variables.NAME_TYPE="VARIABLE",Blockly.Variables.NAME_TYPE_LOCAL="LOCALVARIABLE",Blockly.Variables.DEFAULT_CATEGORY="Default",Blockly.Variables.allVariables=function(e,t){if(t&&t!==Blockly.Variables.DEFAULT_CATEGORY&&Blockly.valueTypeTabShapeMap&&void 0===Blockly.valueTypeTabShapeMap[t])throw Error('Variable category must be "Default" or a strict type');if(e)var o=(e=Array.isArray(e)?e:[e]).reduce(function(e,t){return e.concat(t.getDescendants())},[]);else{if(!Blockly.mainBlockSpace)return[];o=Blockly.mainBlockSpace.getAllBlocks()}e={};for(var n=0;n<o.length;n++)if(o[n].getVars)for(var r=t?o[n].getVars()[t]||[]:Blockly.Variables.allVariablesFromBlock(o[n]),i=0;i<r.length;i++){var a=r[i];a&&(e[Blockly.Names.PREFIX_+a.toLowerCase()]=a)}for(var s in t=[],e)t.push(e[s]);return t},Blockly.Variables.allVariablesFromBlock=function(e){if(!e.getVars)return[];var o=e.getVars();return Object.keys(o).reduce(function(e,t){return e.concat(o[t])},[])},Blockly.Variables.getVars=function(e){var t={};return t[e||Blockly.Variables.DEFAULT_CATEGORY]=[this.getTitleValue("VAR")],t},Blockly.Variables.renameVariable=function(t,o,e){if(o!==t&&o){e=e.getAllBlocks({shareMainModal:!1});for(var n=0;n<e.length;n++){var r=e[n].renameVar;r&&r.call(e[n],t,o)}Blockly.FunctionEditor.allFunctionEditors.forEach(function(e){e.isOpen()&&(e.renameParameter(t,o),e.refreshParamsEverywhere())})}},Blockly.Variables.deleteVariable=function(t,e){e=e.getAllBlocks({shareMainModal:!1});for(var o=0;o<e.length;o++){var n=e[o].removeVar;n&&n.call(e[o],t)}Blockly.FunctionEditor.allFunctionEditors.forEach(function(e){e.isOpen()&&(e.removeParameter(t),e.refreshParamsEverywhere())})},Blockly.Variables.flyoutCategory=function(e,t,o,n,r,i){var a=Blockly.Variables.allVariables(null,r);a.sort(goog.string.caseInsensitiveCompare),i&&a.unshift(null),i=void 0;for(var s=0;s<a.length;s++)if(a[s]!==i){var l=Blockly.Variables.getGetter(n,r);l&&l.initSvg();var c=Blockly.Variables.getSetter(n,r);c&&c.initSvg(),null===a[s]&&(l||c)?i=(l||c).getVars(r)[0]:(l&&l.setTitleValue(a[s],"VAR"),c&&c.setTitleValue(a[s],"VAR")),c&&e.push(c),l&&e.push(l),l&&c?t.push(o,3*o):t.push(2*o)}},Blockly.Variables.getters={Default:"variables_get"},Blockly.Variables.getGetter=function(e,t){return(t=Blockly.Variables.getters[t])&&Blockly.Blocks[t]?new Blockly.Block(e,t):null},Blockly.Variables.registerGetter=function(e,t){Blockly.Variables.getters[e]=t},Blockly.Variables.setters={Default:"variables_set"},Blockly.Variables.getSetter=function(e,t){return(t=Blockly.Variables.setters[t])&&Blockly.Blocks[t]?new Blockly.Block(e,t):null},Blockly.Variables.registerSetter=function(e,t){Blockly.Variables.setters[e]=t},Blockly.Variables.generateUniqueName=function(e){if(e)return Blockly.Variables.generateUniqueNameFromBase_(e);var t="";if((e=Blockly.Variables.allVariables()).length){e.sort(goog.string.caseInsensitiveCompare);for(var o,n,r=0,i="i";!t;){for(o=0,n=!1;o<e.length&&!n;)e[o].toLowerCase()==i&&(n=!0),o++;n?("z"===i[0]?(r++,i="a"):"l"==(i=String.fromCharCode(i.charCodeAt(0)+1))[0]&&(i=String.fromCharCode(i.charCodeAt(0)+1)),0<r&&(i+=r)):t=i}}else t="i";return t},Blockly.Variables.generateUniqueNameFromBase_=function(e){var t=Blockly.Variables.allVariables();if(-1===t.indexOf(e))return e;var o=1,n=/^([^\d]*)(\d+)$/.exec(e);n&&(e=n[1],o=parseInt(n[2],10)+1);do{if(n=e+o.toString(),-1===t.indexOf(n))return n}while(o++)},Blockly.FieldVariable=function(e,o,t,n,r){if(this.category=n||Blockly.Variables.DEFAULT_CATEGORY,this.categoryName=r||Blockly.Msg.VARIABLE,o===Blockly.FieldParameter.dropdownChange)n=o;else if(o){var i=this;n=function(e){var t=i.dropdownChange(e);return e=void 0===t?e:null===t?i.getValue():t,o.call(i,e),t}}else n=this.dropdownChange;Blockly.FieldVariable.superClass_.constructor.call(this,t||Blockly.FieldVariable.dropdownCreate,n),e?this.setValue(e):this.setValue(Blockly.Variables.generateUniqueName())},goog.inherits(Blockly.FieldVariable,Blockly.FieldDropdown),Blockly.FieldVariable.prototype.getValue=function(){return this.getText()},Blockly.FieldVariable.prototype.setValue=function(e){this.value_=e,this.setText(e)},Blockly.FieldVariable.dropdownCreate=function(){var e=Blockly.Variables.allVariables(null,this.category),t=this.getText();t&&-1==e.indexOf(t)&&e.push(t),e.sort(goog.string.caseInsensitiveCompare),e.push(Blockly.Msg.RENAME_ALL.replace("%1",t)),e.push(Blockly.Msg.RENAME_THIS.replace("%1",this.categoryName)),t=[];for(var o=0;o<e.length;o++)t[o]=[e[o],e[o]];return t},Blockly.FieldVariable.prototype.dropdownChange=function(e){if(e===Blockly.Msg.RENAME_ALL.replace("%1",this.getText())){var t=this.getText();return this.getParentEditor_().hideChaff(),Blockly.FieldVariable.modalPromptName(Blockly.Msg.RENAME_VARIABLE_TITLE.replace("%1",t),Blockly.Msg.CONFIRM_RENAME_VARIABLE,t,function(e){Blockly.Variables.renameVariable(t,e,this.sourceBlock_.blockSpace)}.bind(this)),null}if(e===Blockly.Msg.RENAME_THIS.replace("%1",this.categoryName))return this.getParentEditor_().hideChaff(),Blockly.FieldVariable.modalPromptName(Blockly.Msg.NEW_VARIABLE_TITLE,Blockly.Msg.CONFIRM_CREATE_VARIABLE,"",function(e){e&&this.setText(e)}.bind(this)),null},Blockly.FieldVariable.modalPromptName=function(e,t,o,n){Blockly.showSimpleDialog({bodyText:e,prompt:!0,promptPrefill:o,cancelText:t,confirmText:Blockly.Msg.CANCEL,onConfirm:null,onCancel:n})},Blockly.FieldVariable.removeExtraWhitespace=function(e){return e.replace(/[\s\xa0]+/g," ").replace(/^ | $/g,"")},Blockly.FieldParameter=function(e,t,o){Blockly.FieldParameter.superClass_.constructor.call(this,e,Blockly.FieldParameter.dropdownChange,Blockly.FieldParameter.dropdownCreate)},goog.inherits(Blockly.FieldParameter,Blockly.FieldVariable),Blockly.FieldParameter.dropdownCreate=function(){for(var e=[Blockly.Msg.RENAME_PARAMETER,Blockly.Msg.DELETE_PARAMETER],t=[],o=0;o<e.length;o++)t[o]=[e[o],e[o]];return t},Blockly.FieldParameter.dropdownChange=function(e){var t=this.getText();return e===Blockly.Msg.RENAME_PARAMETER?(this.getParentEditor_().hideChaff(),Blockly.FieldVariable.modalPromptName(Blockly.Msg.RENAME_PARAMETER_TITLE.replace("%1",t),Blockly.Msg.CONFIRM_RENAME_VARIABLE,t,function(e){Blockly.Variables.renameVariable(t,e,this.sourceBlock_.blockSpace)}.bind(this))):e===Blockly.Msg.DELETE_PARAMETER&&Blockly.showSimpleDialog({bodyText:Blockly.Msg.DELETE_PARAMETER_TITLE.replace("%1",t),cancelText:Blockly.Msg.DELETE,confirmText:Blockly.Msg.KEEP,onConfirm:null,onCancel:function(){Blockly.Variables.deleteVariable(t,this.sourceBlock_.blockSpace)}.bind(this),cancelButtonClass:"red-delete-button"}),null},Blockly.BlockSpaceEditor=function(e,t){(t=t||{}).getMetrics&&(this.getBlockSpaceMetrics_=t.getMetrics),t.setMetrics&&(this.setBlockSpaceMetrics_=t.setMetrics),t.hideTrashRect&&(this.hideTrashRect_=t.hideTrashRect),t.disableTooltip&&(this.disableTooltip=t.disableTooltip),t.disableEventBindings&&(this.disableEventBindings=t.disableEventBindings),this.readOnly_=!!t.readOnly,this.noScrolling_=!!t.noScrolling,this.inline_=!!t.inline,this.movementLocked_=!1,this.blockSpace=new Blockly.BlockSpace(this,goog.bind(this.getBlockSpaceMetrics_,this),goog.bind(this.setBlockSpaceMetrics_,this),e),this.blockLimits=new Blockly.BlockLimits,this.createDom_(e),this.init_()},Blockly.BlockSpaceEditor.BUMP_ENTIRE_BLOCK=!1,Blockly.BlockSpaceEditor.ENTIRE_BUMP_PADDING_TOP=2,Blockly.BlockSpaceEditor.ENTIRE_BUMP_PADDING_LEFT=2,Blockly.BlockSpaceEditor.ENTIRE_BUMP_PADDING_BOTTOM=2,Blockly.BlockSpaceEditor.ENTIRE_BUMP_PADDING_RIGHT=2,Blockly.BlockSpaceEditor.BUMP_PADDING_TOP=15,Blockly.BlockSpaceEditor.BUMP_PADDING_LEFT=15,Blockly.BlockSpaceEditor.BUMP_PADDING_BOTTOM=25,Blockly.BlockSpaceEditor.BUMP_PADDING_RIGHT=25,Blockly.BlockSpaceEditor.BUMP_DEBUG=!1,Blockly.BlockSpaceEditor.SCROLL_DRAG_DEBUG=!1,Blockly.BlockSpaceEditor.prototype.populateSVGEffects_=function(e){if(!goog.dom.getElement("blocklySvgDefsGlobal")){e=Blockly.createSvgElement("svg",{id:"blocklyFilters",width:0,height:0,style:"display: block"},e),e=Blockly.createSvgElement("defs",{id:"blocklySvgDefsGlobal"},e);var t=Blockly.createSvgElement("filter",{id:"blocklyEmboss"},e);Blockly.createSvgElement("feGaussianBlur",{in:"SourceAlpha",stdDeviation:1,result:"blur"},t);var o=Blockly.createSvgElement("feSpecularLighting",{in:"blur",surfaceScale:1,specularConstant:.5,specularExponent:10,"lighting-color":"white",result:"specOut"},t);Blockly.createSvgElement("fePointLight",{x:-5e3,y:-1e4,z:2e4},o),Blockly.createSvgElement("feComposite",{in:"specOut",in2:"SourceAlpha",operator:"in",result:"specOut"},t),Blockly.createSvgElement("feComposite",{in:"SourceGraphic",in2:"specOut",operator:"arithmetic",k1:0,k2:1,k3:1,k4:0},t),t=Blockly.createSvgElement("filter",{id:"blocklyTrashcanShadowFilter",height:"150%",y:"-20%"},e),Blockly.createSvgElement("feGaussianBlur",{in:"SourceAlpha",stdDeviation:2,result:"blur"},t),Blockly.createSvgElement("feOffset",{in:"blur",dx:1,dy:1,result:"offsetBlur"},t),t=Blockly.createSvgElement("feMerge",{},t),Blockly.createSvgElement("feMergeNode",{in:"offsetBlur"},t),Blockly.createSvgElement("feMergeNode",{in:"SourceGraphic"},t),t=Blockly.createSvgElement("filter",{id:"blocklyShadowFilter"},e),Blockly.createSvgElement("feGaussianBlur",{stdDeviation:2},t),t=Blockly.createSvgElement("pattern",{id:"blocklyDisabledPattern",patternUnits:"userSpaceOnUse",width:10,height:10},e),Blockly.createSvgElement("rect",{width:10,height:10,fill:"#aaa"},t),Blockly.createSvgElement("path",{d:"M 0 0 L 10 10 M 10 0 L 0 10",stroke:"#cc0"},t),t=Blockly.createSvgElement("filter",{id:"blocklyTypeHintFilter"},e),Blockly.createSvgElement("feConvolveMatrix",{order:"5,5",kernelMatrix:"0 0 0 0 0 0 0 0 0.5 1 0.5 1 1 1 1 0 0 0 0 0 0 0 0 0.5 1"},t)}},Blockly.BlockSpaceEditor.prototype.createDom_=function(e){e.setAttribute("dir","LTR"),this.populateSVGEffects_(e);var t=Blockly.createSvgElement("svg",{xmlns:"http://www.w3.org/2000/svg","xmlns:html":"http://www.w3.org/1999/xhtml","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1",class:this.inline_?"blocklySvg inline":"blocklySvg"},null);this.svg_=t,e.appendChild(t),goog.events.listen(t,"selectstart",function(){return!1}),this.defs_=Blockly.createSvgElement("defs",{id:"blocklySvgDefs"},t),this.blockSpace.maxBlocks=Blockly.maxBlocks,this.hideTrashRect_||this.isReadOnly()||!Blockly.hasCategories||(this.svgBackground_=Blockly.createSvgElement("rect",{id:"toolboxRect",class:"blocklyToolboxBackground"},this.svg_)),t.appendChild(this.blockSpace.createDom()),this.isReadOnly()||(this.addToolboxOrFlyout_(),this.addChangeListener(this.bumpBlocksIfNotDragging)),this.setEnableToolbox=function(e){this.isReadOnly()||(this.flyout_?this.flyout_.setEnabled(e):this.toolbox&&(this.toolbox.enabled=e))},this.disableTooltip||t.appendChild(Blockly.Tooltip.createDom()),this.svgResize(),Blockly.WidgetDiv.DIV||(Blockly.WidgetDiv.DIV=goog.dom.createDom("div","blocklyWidgetDiv"),Blockly.WidgetDiv.DIV.style.direction=Blockly.RTL?"rtl":"ltr",document.body.appendChild(Blockly.WidgetDiv.DIV))},Blockly.BlockSpaceEditor.prototype.addToSvgDefs=function(e){this.defs_.appendChild(e)},Blockly.BlockSpaceEditor.prototype.addToolboxOrFlyout_=function(){Blockly.hasCategories?this.toolbox=new Blockly.Toolbox(this):this.addFlyout_()},Blockly.BlockSpaceEditor.prototype.addFlyout_=function(){var e=this.flyout_=new Blockly.Flyout(this,!0),t=e.createDom(!1);e.init(this.blockSpace,!0),e.autoClose=!1,goog.dom.insertSiblingBefore(t,this.blockSpace.svgGroup_)},Blockly.BlockSpaceEditor.prototype.getDeleteAreas=function(){var e=[];return this.flyout_&&goog.array.extend(e,this.flyout_.getRect()),this.toolbox&&goog.array.extend(e,this.toolbox.getRect()),e},Blockly.BlockSpaceEditor.prototype.bumpBlocksIfNotDragging=function(){Blockly.Block.isDragging()||this.bumpBlocksIntoBlockSpace()},Blockly.BlockSpaceEditor.prototype.bumpBlocksIntoBlockSpace=function(){var e=this.blockSpace.getMetrics();if(e){if(!Blockly.BlockSpaceEditor.BUMP_ENTIRE_BLOCK){e=this.blockSpace.getScrollableSize(e);var l=Blockly.BlockSpaceEditor.BUMP_PADDING_TOP,c=Blockly.BlockSpaceEditor.BUMP_PADDING_LEFT,u=e.height-Blockly.BlockSpaceEditor.BUMP_PADDING_BOTTOM,d=e.width-Blockly.BlockSpaceEditor.BUMP_PADDING_RIGHT,p=d-c,h=u-l}this.blockSpace.getTopBlocks(!1,!1).forEach(function(e){if(e.isVisible()&&!e.isCurrentlyBeingDragged()){if(!Blockly.BlockSpaceEditor.BUMP_ENTIRE_BLOCK){var t=e.getHeightWidth();if(t.width>p||t.height>h)return}if(Blockly.BlockSpaceEditor.BUMP_ENTIRE_BLOCK){var o=this.blockSpace.getScrollableBox().expand(-Blockly.BlockSpaceEditor.ENTIRE_BUMP_PADDING_TOP,-Blockly.BlockSpaceEditor.ENTIRE_BUMP_PADDING_RIGHT,-Blockly.BlockSpaceEditor.ENTIRE_BUMP_PADDING_BOTTOM,-Blockly.BlockSpaceEditor.ENTIRE_BUMP_PADDING_LEFT),n=e.getBox(),r=Blockly.getBoxOverflow(o,n),i=Math.max(0,r.left),a=Math.max(0,r.right);t=Math.max(0,r.top);var s=Math.max(0,r.bottom)}else s=e.getRelativeToSurfaceXY(),i=Math.max(0,c-s.x),a=Math.max(0,s.x-d),t=Math.max(0,l-s.y),s=Math.max(0,s.y-u);i=i||-a,t=t||-s,Blockly.BlockSpaceEditor.BUMP_ENTIRE_BLOCK&&(Blockly.isBoxWiderThan(n,o)&&(i=r.left),Blockly.isBoxTallerThan(n,o)&&(t=r.top)),(r=i||t)&&e.moveBy(i,t),Blockly.BlockSpaceEditor.BUMP_DEBUG&&Blockly.BlockSpaceEditor.BUMP_ENTIRE_BLOCK&&(t=e.getBox(),this.blockSpace.drawDebugBox("block box"+e.id,n,r?"red":"green"),this.blockSpace.drawDebugBox("block after"+e.id,t,"purple"),this.blockSpace.drawDebugBox("block space box"+e.id,o,"blue"))}},this)}},Blockly.BlockSpaceEditor.prototype.init_=function(){this.detectBrokenControlPoints(),this.blockSpace.bindBeginPanDragHandler(this.svg_,goog.bind(this.hideChaff,this)),this.blockSpace.bindScrollOnWheelHandler(this.svg_),Blockly.bindEvent_(Blockly.WidgetDiv.DIV,"contextmenu",null,Blockly.blockContextMenu),this.disableEventBindings||Blockly.documentEventsBound_||(Blockly.bindEvent_(window,"resize",this,this.svgResize),Blockly.bindEvent_(document,"keydown",this,this.onKeyDown_),Blockly.bindEvent_(document,"copy",this,this.onCutCopy_),Blockly.bindEvent_(document,"cut",this,this.onCutCopy_),Blockly.bindEvent_(document,"paste",this,this.onPaste_),goog.userAgent.IPAD&&Blockly.bindEvent_(window,"orientationchange",document,function(){Blockly.fireUiEvent(window,"resize")},!1),Blockly.documentEventsBound_=!0),Blockly.languageTree&&!this.isReadOnly()&&(Blockly.hasCategories?this.toolbox.init(this.blockSpace,this):(this.flyout_.init(this.blockSpace,!0),this.updateFlyout())),this.noScrolling_||!Blockly.hasVerticalScrollbars&&!Blockly.hasHorizontalScrollbars||(this.blockSpace.scrollbarPair=new Blockly.ScrollbarPair(this.blockSpace,Blockly.hasHorizontalScrollbars,Blockly.hasVerticalScrollbars),this.blockSpace.scrollbarPair.resize())},Blockly.BlockSpaceEditor.prototype.updateFlyout=function(){this.flyout_&&Blockly.languageTree&&(this.flyout_.show(Blockly.languageTree.childNodes),this.svgResize())},Blockly.BlockSpaceEditor.prototype.getAllFlyoutBlocks=function(){return this.flyout_?this.flyout_.getAllBlocks():[]},Blockly.BlockSpaceEditor.prototype.detectBrokenControlPoints=function(){if(goog.userAgent.WEBKIT){var e=Blockly.createSvgElement("g",{},this.svg_);Blockly.createSvgElement("path",{d:"M 0,50 C 75,-25 75,50 125,0 Z"},e),Blockly.isMsie()||Blockly.isTrident()?(e.style.display="inline",e.bBox_={x:e.getBBox().x,y:e.getBBox().y,width:e.scrollWidth,height:e.scrollHeight}):e.bBox_=e.getBBox(),50<e.bBox_.height&&(Blockly.BROKEN_CONTROL_POINTS=!0),this.svg_.removeChild(e)}},Blockly.BlockSpaceEditor.prototype.svgSize=function(){return{width:this.svg_.cachedWidth_,height:this.svg_.cachedHeight_}},Blockly.BlockSpaceEditor.prototype.svgResize=function(){var e=this.svg_,t=window.getComputedStyle(e),o=0;t&&(o=(parseInt(t.borderLeftWidth,10)||0)+(parseInt(t.borderRightWidth,10)||0)),t=e.parentNode;var n=this.getWorkspaceTopOffset();o=t.clientWidth-o,t=t.clientHeight-n,e.cachedWidth_!=o&&(e.setAttribute("width",o+"px"),e.cachedWidth_=o),e.cachedHeight_!=t&&(e.setAttribute("height",t+"px"),e.cachedHeight_=t),this.blockSpace.scrollbarPair?this.blockSpace.scrollbarPair.resize():this.setBlockSpaceMetricsNoScroll_()},Blockly.BlockSpaceEditor.prototype.getWorkspaceTopOffset=function(){var e=this.svg_,t=e.parentNode,o=window.getComputedStyle(t);return o=o&&parseInt(o.borderTopWidth,10)||0,goog.style.getPageOffsetTop(e)-(goog.style.getPageOffsetTop(t)+o)},Blockly.BlockSpaceEditor.prototype.appendSVGChild=function(e){this.svg_.appendChild(e)},Blockly.BlockSpaceEditor.prototype.getSVGElement=function(){return this.svg_},Blockly.BlockSpaceEditor.prototype.getBlockSpaceWidth=function(){var e=this.blockSpace.getMetrics();return e?e.viewWidth:0},Blockly.BlockSpaceEditor.prototype.getToolboxWidth=function(){var e=0,t=this.flyout_||this.toolbox&&this.toolbox.flyout_;return t&&(t=t.blockSpace_.getMetrics())&&(e=t.viewWidth),this.toolbox&&(e+=this.toolbox.HtmlDiv.getBoundingClientRect().width),e},Blockly.BlockSpaceEditor.prototype.setCursor=function(e){Blockly.Css.setCursor(e,this.svg_)},Blockly.BlockSpaceEditor.prototype.onKeyDown_=function(e){if(!Blockly.isTargetInput(e))if(9==e.keyCode||27==e.keyCode)this.hideChaff();else if(8==e.keyCode||46==e.keyCode)try{Blockly.selected&&Blockly.selected.isDeletable()&&(this.hideChaff(),Blockly.selected.dispose(!0,!0))}finally{e.preventDefault()}else(e.altKey||e.ctrlKey||e.metaKey)&&Blockly.selected&&Blockly.selected.isDeletable()&&Blockly.selected.isCopyable()&&(this.hideChaff(),67!=e.keyCode&&88!=e.keyCode||Blockly.BlockSpaceEditor.copy_(Blockly.selected))},Blockly.BlockSpaceEditor.prototype.onCutCopy_=function(e){Blockly.selected&&!window.getSelection().toString()&&(e.clipboardData.setData("text/xml",Blockly.clipboard_),e.preventDefault(),"cut"===e.type&&Blockly.selected.dispose(!0,!0))},Blockly.BlockSpaceEditor.prototype.onPaste_=function(e){try{var t=Blockly.Xml.textToDom(e.clipboardData.getData("text/xml")||e.clipboardData.getData("text/plain"));Blockly.focusedBlockSpace.paste(t)}catch(e){if(!/did not obtain a valid XML tree/.test(e))throw e}},Blockly.BlockSpaceEditor.terminateDrag_=function(){Blockly.Block.terminateDrag_(),Blockly.Flyout.terminateDrag_()},Blockly.BlockSpaceEditor.copy_=function(e){var t=Blockly.Xml.blockToDom(e);Blockly.Xml.deleteNext(t),e=e.getRelativeToSurfaceXY(),t.setAttribute("x",Blockly.RTL?-e.x:e.x),t.setAttribute("y",e.y),Blockly.clipboard_="<xml>"+Blockly.Xml.domToText(t)+"</xml>"},Blockly.BlockSpaceEditor.showContextMenu_=function(e){if(!this.isReadOnly()){var t=[];if(Blockly.collapse){for(var o=!1,n=!1,r=this.getTopBlocks(!1),i=0;i<r.length;i++)r[i].isCollapsed()?o=!0:n=!0;(n={enabled:n}).text=Blockly.Msg.COLLAPSE_ALL,n.callback=function(){for(var e=0;e<r.length;e++)r[e].setCollapsed(!0)},t.push(n),(o={enabled:o}).text=Blockly.Msg.EXPAND_ALL,o.callback=function(){for(var e=0;e<r.length;e++)r[e].setCollapsed(!1)},t.push(o)}(o={enabled:!1}).text=Blockly.Msg.HELP,o.callback=function(){},t.push(o),Blockly.ContextMenu.show(e,t)}},Blockly.BlockSpaceEditor.prototype.hideChaff=function(e){Blockly.Tooltip.hide(),Blockly.WidgetDiv.hide(),this.toolbox&&!e&&this.toolbox.flyout_&&this.toolbox.flyout_.autoClose&&this.toolbox.clearSelection()},Blockly.BlockSpaceEditor.prototype.getBlockSpaceMetrics_=function(){var e=this.svgSize(),t=0;(this.toolbox||this.flyout_)&&(t=this.toolbox?this.toolbox.width:this.flyout_.width_),e.width-=t;try{var o=this.getCanvasBBox(this.blockSpace.getCanvas()),n=Blockly.svgRectToRect(o);this.blockSpace.pickedUpBlockOrigin_&&n.boundingRect(this.blockSpace.pickedUpBlockOrigin_)}catch(e){return null}t=Blockly.RTL?0:t,o=this.blockSpace.getScrollOffsetX();var r=e.width;return{viewHeight:e=e.height,viewWidth:r,viewTop:this.blockSpace.getScrollOffsetY(),viewLeft:o,contentHeight:n.height,contentWidth:n.width,contentTop:n.top,contentLeft:n.left,absoluteTop:0,absoluteLeft:t}},Blockly.BlockSpaceEditor.prototype.getCanvasBBox=function(e){return Blockly.isMsie()||Blockly.isTrident()?(e.style.display="inline",{x:e.getBBox().x,y:e.getBBox().y,width:e.scrollWidth,height:e.scrollHeight}):e.getBBox()},Blockly.BlockSpaceEditor.prototype.setBlockSpaceMetrics_=function(e){if(!this.blockSpace.scrollbarPair)throw"Attempt to set editor's scroll position without scrollbars.";var t=this.getBlockSpaceMetrics_(),o=this.blockSpace.getScrollableSize(t);goog.isNumber(e.x)&&(this.blockSpace.xOffsetFromView=-o.width*e.x),goog.isNumber(e.y)&&(this.blockSpace.yOffsetFromView=-o.height*e.y),o="translate("+(e=this.blockSpace.xOffsetFromView+t.absoluteLeft)+","+(t=this.blockSpace.yOffsetFromView+t.absoluteTop)+")",this.blockSpace.getCanvas().setAttribute("transform",o),this.blockSpace.getBubbleCanvas().setAttribute("transform",o),t=Blockly.convertCoordinates(e,t,this.svg_,!1),this.blockSpace.getDragCanvas().setAttribute("transform","translate("+t.x+","+t.y+")")},Blockly.BlockSpaceEditor.prototype.setBlockSpaceMetricsNoScroll_=function(){var e=this.getBlockSpaceMetrics_();if(e){var t="translate("+e.absoluteLeft+","+e.absoluteTop+")";this.blockSpace.getCanvas().setAttribute("transform",t),this.blockSpace.getBubbleCanvas().setAttribute("transform",t),e=Blockly.convertCoordinates(e.absoluteLeft,e.absoluteTop,this.svg_,!1),this.blockSpace.getDragCanvas().setAttribute("transform","translate("+e.x+","+e.y+")")}},Blockly.BlockSpaceEditor.prototype.addChangeListener=function(e){return Blockly.bindEvent_(this.blockSpace.getCanvas(),"blocklyBlockSpaceChange",this,e)},Blockly.BlockSpaceEditor.prototype.addUnusedBlocksHelpListener=function(e){return Blockly.bindEvent_(this.blockSpace.getCanvas(),Blockly.BlockSvgUnused.UNUSED_BLOCK_HELP_EVENT,this,e)},Blockly.BlockSpaceEditor.prototype.isReadOnly=function(){return Blockly.readOnly||this.readOnly_},Blockly.BlockSpaceEditor.prototype.lockMovement=function(){this.movementLocked_=!0},Blockly.BlockSpaceEditor.prototype.unlockMovement=function(){this.movementLocked_=!1},Blockly.BlockSpaceEditor.prototype.isMovementLocked=function(){return this.movementLocked_},Blockly.BlockSpaceEditor.prototype.shouldHavePadding=function(){return!this.inline_},Blockly.removeChangeListener=function(e){Blockly.unbindEvent_(e)},Blockly.HorizontalFlyout=function(e){Blockly.Flyout.apply(this,arguments),this.autoClose=!1,this.height_=10,this.customYOffset=this.flyoutRows=0},goog.inherits(Blockly.HorizontalFlyout,Blockly.Flyout),Blockly.HorizontalFlyout.prototype.show=function(e){var t=this.targetBlockSpace_.getMetrics();this.width_=Math.max(0,t.viewWidth-2*this.CORNER_RADIUS),Blockly.HorizontalFlyout.superClass_.show.apply(this,arguments)},Blockly.HorizontalFlyout.prototype.hide=function(){this.height_=10,this.flyoutRows=0,Blockly.HorizontalFlyout.superClass_.hide.apply(this,arguments)},Blockly.HorizontalFlyout.prototype.setVisibility=function(e){e?this.softShow():this.softHide()},Blockly.HorizontalFlyout.prototype.softHide=function(){Blockly.addClass_(this.svgGroup_,"hiddenFlyout")},Blockly.HorizontalFlyout.prototype.softShow=function(){Blockly.removeClass_(this.svgGroup_,"hiddenFlyout")},Blockly.HorizontalFlyout.prototype.position_=function(){if(this.isVisible()){var e=this.customMetrics?this.customMetrics():this.targetBlockSpace_.getMetrics();if(e){var t=this.height_-this.CORNER_RADIUS,o=Math.max(0,e.viewWidth-2*this.CORNER_RADIUS),n=["M 0,0"];n.push("v",t),n.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,0,this.CORNER_RADIUS,this.CORNER_RADIUS),n.push("h",o),n.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,0,this.CORNER_RADIUS,-this.CORNER_RADIUS),n.push("v",-t),n.push("z"),this.svgBackground_.setAttribute("d",n.join(" ")),this.width_=o,this.svgGroup_.setAttribute("transform","translate("+e.absoluteLeft+","+(e.absoluteTop-this.height_+this.customYOffset)+")"),this.scrollbar_&&this.scrollbar_.resize(),this.svgBackground_.style.pointerEvents=this.scrollbar_?"initial":"none"}}},Blockly.HorizontalFlyout.prototype.getYPosition=function(){return this.customYOffset||0},Blockly.HorizontalFlyout.prototype.layoutBlock_=function(e,t,o,n){var r=e.getHeightWidth();(Blockly.RTL&&t.x-r.width<0||!Blockly.RTL&&t.x+r.width>this.width_)&&(this.flyoutRows++,t.y+=r.height+o/2,t.x=n),e.moveBy(t.x,t.y),e=r.width+o/2,Blockly.RTL&&(e=-e),t.x+=e,this.height_=t.y+r.height+o/2},Blockly.HorizontalFlyout.prototype.reflow=function(){},goog.structs.LinkedMap=function(e,t,o){this.maxCount_=e||null,this.cache_=!!t,this.evictionCallback_=o,this.map_=new goog.structs.Map,this.head_=new goog.structs.LinkedMap.Node_("",void 0),this.head_.next=this.head_.prev=this.head_},goog.structs.LinkedMap.prototype.findAndMoveToTop_=function(e){return(e=this.map_.get(e))&&this.cache_&&(e.remove(),this.insert_(e)),e},goog.structs.LinkedMap.prototype.get=function(e,t){return(e=this.findAndMoveToTop_(e))?e.value:t},goog.structs.LinkedMap.prototype.peekValue=function(e,t){return(e=this.map_.get(e))?e.value:t},goog.structs.LinkedMap.prototype.set=function(e,t){var o=this.findAndMoveToTop_(e);o?o.value=t:(o=new goog.structs.LinkedMap.Node_(e,t),this.map_.set(e,o),this.insert_(o))},goog.structs.LinkedMap.prototype.peek=function(){return this.head_.next.value},goog.structs.LinkedMap.prototype.peekLast=function(){return this.head_.prev.value},goog.structs.LinkedMap.prototype.shift=function(){return this.popNode_(this.head_.next)},goog.structs.LinkedMap.prototype.pop=function(){return this.popNode_(this.head_.prev)},goog.structs.LinkedMap.prototype.remove=function(e){return!!(e=this.map_.get(e))&&(this.removeNode(e),!0)},goog.structs.LinkedMap.prototype.removeNode=function(e){e.remove(),this.map_.remove(e.key)},goog.structs.LinkedMap.prototype.getCount=function(){return this.map_.getCount()},goog.structs.LinkedMap.prototype.isEmpty=function(){return this.map_.isEmpty()},goog.structs.LinkedMap.prototype.setEvictionCallback=function(e){this.evictionCallback_=e},goog.structs.LinkedMap.prototype.setMaxCount=function(e){this.maxCount_=e||null,null!=this.maxCount_&&this.truncate_(this.maxCount_)},goog.structs.LinkedMap.prototype.getKeys=function(){return this.map(function(e,t){return t})},goog.structs.LinkedMap.prototype.getValues=function(){return this.map(function(e,t){return e})},goog.structs.LinkedMap.prototype.contains=function(t){return this.some(function(e){return e==t})},goog.structs.LinkedMap.prototype.containsKey=function(e){return this.map_.containsKey(e)},goog.structs.LinkedMap.prototype.clear=function(){this.truncate_(0)},goog.structs.LinkedMap.prototype.forEach=function(e,t){for(var o=this.head_.next;o!=this.head_;o=o.next)e.call(t,o.value,o.key,this)},goog.structs.LinkedMap.prototype.map=function(e,t){for(var o=[],n=this.head_.next;n!=this.head_;n=n.next)o.push(e.call(t,n.value,n.key,this));return o},goog.structs.LinkedMap.prototype.some=function(e,t){for(var o=this.head_.next;o!=this.head_;o=o.next)if(e.call(t,o.value,o.key,this))return!0;return!1},goog.structs.LinkedMap.prototype.every=function(e,t){for(var o=this.head_.next;o!=this.head_;o=o.next)if(!e.call(t,o.value,o.key,this))return!1;return!0},goog.structs.LinkedMap.prototype.insert_=function(e){this.cache_?(e.next=this.head_.next,e.prev=this.head_,(this.head_.next=e).next.prev=e):(e.prev=this.head_.prev,e.next=this.head_,(this.head_.prev=e).prev.next=e),null!=this.maxCount_&&this.truncate_(this.maxCount_)},goog.structs.LinkedMap.prototype.truncate_=function(e){for(;this.getCount()>e;){var t=this.cache_?this.head_.prev:this.head_.next;this.removeNode(t),this.evictionCallback_&&this.evictionCallback_(t.key,t.value)}},goog.structs.LinkedMap.prototype.popNode_=function(e){return this.head_!=e&&this.removeNode(e),e.value},goog.structs.LinkedMap.Node_=function(e,t){this.key=e,this.value=t},goog.structs.LinkedMap.Node_.prototype.remove=function(){this.prev.next=this.next,this.next.prev=this.prev,delete this.prev,delete this.next},Blockly.FunctionEditor=function(e,t,o,n,r){this.created_=!1,this.orderedParamIDsToBlocks_=new goog.structs.LinkedMap,this.modalBlockSpace=this.onResizeWrapper_=this.modalBackground_=this.frameText_=this.frameInner_=this.frameBase_=this.flyout_=this.contractDiv_=this.deleteButton_=this.closeButton_=this.container_=this.functionDefinitionBlock=null,this.msgOverrides_=e||{},t&&(this.definitionBlockType=t),this.parameterBlockTypes=o||{},this.disableParamEditing=n||!1,this.paramTypes=r||[],Blockly.FunctionEditor.allFunctionEditors.push(this)},Blockly.FunctionEditor.BLOCK_LAYOUT_LEFT_MARGIN=Blockly.BlockSpaceEditor.BUMP_PADDING_LEFT,Blockly.FunctionEditor.BLOCK_LAYOUT_TOP_MARGIN=Blockly.BlockSpaceEditor.BUMP_PADDING_TOP,Blockly.FunctionEditor.DELETE_BUTTON_MARGIN=25,Blockly.FunctionEditor.CLOSE_BUTTON_OVERHANG=14,Blockly.FunctionEditor.RTL_CLOSE_BUTTON_OFFSET=5,Blockly.FunctionEditor.BUTTON_TOP_OFFSET=-22,Blockly.FunctionEditor.allFunctionEditors=[],Blockly.FunctionEditor.prototype.getMsg=function(e){return this.msgOverrides_[e]||Blockly.Msg[e]},Blockly.FunctionEditor.prototype.paramEditingDisabled=function(){return Blockly.disableParamEditing||this.disableParamEditing},Blockly.FunctionEditor.prototype.definitionBlockType="procedures_defnoreturn",Blockly.FunctionEditor.prototype.defaultParameterBlockType="parameters_get",Blockly.FunctionEditor.prototype.autoOpenFunction=function(e){this.autoOpenWithLevelConfiguration({autoOpenFunction:e})},Blockly.FunctionEditor.prototype.autoOpenWithLevelConfiguration=function(e){e.autoOpenFunction&&this.openAndEditFunction(e.autoOpenFunction)},Blockly.FunctionEditor.prototype.openEditorForCallBlock_=function(e){var t=e.getTitleValue("NAME");this.openEditorForFunction(e,t)},Blockly.FunctionEditor.prototype.openEditorForFunction=function(e,t){e.blockSpace.blockSpaceEditor.hideChaff(),this.hideIfOpen(),this.openAndEditFunction(t)},Blockly.FunctionEditor.prototype.openAndEditFunction=function(e){var t=Blockly.mainBlockSpace.findFunction(e);if(!t)throw Error("Can't find definition block to edit");this.show(),this.setupUIForBlock_(t),this.functionDefinitionBlock=this.moveToModalBlockSpace(t),this.functionDefinitionBlock.setMovable(!1),this.functionDefinitionBlock.setDeletable(!1),this.functionDefinitionBlock.setEditable(!1),this.populateParamToolbox_(),this.setupUIAfterBlockInEditor_(),this.container_.querySelector("#functionNameText").value=e,this.container_.querySelector("#functionDescriptionText").value=this.functionDefinitionBlock.description_||"",this.deleteButton_.setVisible(t.userCreated),Blockly.fireUiEvent(window,"function_editor_opened")},Blockly.FunctionEditor.prototype.setupUIForBlock_=function(e){},Blockly.FunctionEditor.prototype.setupUIAfterBlockInEditor_=function(){},Blockly.FunctionEditor.prototype.populateParamToolbox_=function(){this.orderedParamIDsToBlocks_.clear(),this.addParamsFromProcedure_(),this.resetParamIDs_(),this.refreshParamsEverywhere()},Blockly.FunctionEditor.prototype.addParamsFromProcedure_=function(){for(var e=this.functionDefinitionBlock.getProcedureInfo(),t=0;t<e.parameterNames.length;t++)e.parameterTypes?this.addParameter(e.parameterNames[t],e.parameterTypes[t]):this.addParameter(e.parameterNames[t])},Blockly.FunctionEditor.prototype.getParamNameType=function(e){var t=this.orderedParamIDsToBlocks_.get(e);if(!t)throw"Block not found for ID "+e;return this.paramNameTypeFromXML_(t)},Blockly.FunctionEditor.prototype.paramNameTypeFromXML_=function(e){var t={};return t.name=e.firstElementChild.textContent,t.type=e.childNodes[1].textContent,t},Blockly.FunctionEditor.prototype.openWithNewFunction=function(){this.ensureCreated_();var e=Blockly.Xml.domToBlock(Blockly.mainBlockSpace,Blockly.createSvgElement("block",{type:this.definitionBlockType}));e.userCreated=!0,this.openAndEditFunction(e.getTitleValue("NAME"))},Blockly.FunctionEditor.prototype.bindToolboxHandlers_=function(){var t=this.container_.querySelector("#paramAddText"),o=this.container_.querySelector("#paramAddType"),e=this.container_.querySelector("#paramAddButton");this.paramEditingDisabled()||(Blockly.bindEvent_(e,"click",this,goog.bind(this.addParamFromInputField_,this,t,o)),Blockly.bindEvent_(t,"keydown",this,function(e){e.keyCode===goog.events.KeyCodes.ENTER&&this.addParamFromInputField_(t,o)}))},Blockly.FunctionEditor.prototype.addParamFromInputField_=function(e,t){var o=e.value;e.value="",this.addParameter(o,t&&t.value),this.refreshParamsEverywhere()},Blockly.FunctionEditor.prototype.addParameter=function(e,t){this.orderedParamIDsToBlocks_.set(goog.events.getUniqueId("parameter"),this.newParameterBlock(e,t))},Blockly.FunctionEditor.prototype.getParameterBlockType=function(e){return this.parameterBlockTypes[e]||this.defaultParameterBlockType},Blockly.FunctionEditor.prototype.newParameterBlock=function(e,t){var o=this.getParameterBlockType(t);o=Blockly.createSvgElement("block",{type:o});var n=Blockly.createSvgElement("title",{name:"VAR"},o);return t&&Blockly.createSvgElement("mutation",{output:t},o),n.textContent=e,o},Blockly.FunctionEditor.prototype.renameParameter=function(n,r){this.orderedParamIDsToBlocks_.forEach(function(e,t,o){e.firstElementChild&&e.firstElementChild.textContent===n&&(e.firstElementChild.textContent=r)}),this.forEachParameterGetBlock(n,function(e){e.setTitleValue(r,"VAR")})},Blockly.FunctionEditor.prototype.changeParameterTypeInFlyoutXML=function(n,r){this.orderedParamIDsToBlocks_.forEach(function(e,t,o){e.firstElementChild&&e.firstElementChild.textContent===n&&(e.childNodes[1].firstElementChild.textContent=r)})},Blockly.FunctionEditor.prototype.removeParameter=function(o){var n=[];this.orderedParamIDsToBlocks_.forEach(function(e,t){e.firstElementChild&&e.firstElementChild.textContent===o&&n.push(t)}),n.forEach(function(e){this.orderedParamIDsToBlocks_.remove(e)},this),this.forEachParameterGetBlock(o,function(e){e.dispose(!0,!1)}),this.refreshParamsEverywhere()},Blockly.FunctionEditor.prototype.refreshParamsEverywhere=function(){this.refreshParamsInFlyout_(),this.refreshParamsOnFunction_()},Blockly.FunctionEditor.prototype.refreshParamsInFlyout_=function(){this.flyout_.show(this.orderedParamIDsToBlocks_.getValues())},Blockly.FunctionEditor.prototype.resetParamIDs_=function(){var e=this.paramsAsParallelArrays_();e.paramIDs=null,this.functionDefinitionBlock.updateParamsFromArrays(e.paramNames,e.paramIDs,e.paramTypes)},Blockly.FunctionEditor.prototype.refreshParamsOnFunction_=function(){var e=this.paramsAsParallelArrays_();this.functionDefinitionBlock.updateParamsFromArrays(e.paramNames,e.paramIDs,e.paramTypes)},Blockly.FunctionEditor.prototype.paramsAsParallelArrays_=function(){var o=[],n=[],r=[];return this.orderedParamIDsToBlocks_.forEach(function(e,t){o.push(e.firstElementChild.textContent),n.push(t),1<e.childNodes.length&&(e=e.childNodes[1],r.push(e.getAttribute("output")||e.textContent))},this),{paramNames:o,paramIDs:n,paramTypes:r}},Blockly.FunctionEditor.prototype.forEachParameterGetBlock=function(t,o){this.functionDefinitionBlock&&this.functionDefinitionBlock.getDescendants().forEach(function(e){"parameters_get"==e.type&&Blockly.Names.equals(t,e.getTitleValue("VAR"))&&o(e)})},Blockly.FunctionEditor.prototype.show=function(){this.ensureCreated_(),this.position_(),goog.style.setElementShown(this.container_,!0),goog.style.setElementShown(this.modalBackground_,!0),Blockly.focusedBlockSpace=this.modalBlockSpace,Blockly.selected&&Blockly.selected.unselect()},Blockly.FunctionEditor.prototype.isOpen=function(){return this.isCreated()&&goog.style.isElementShown(this.container_)},Blockly.FunctionEditor.prototype.isCreated=function(){return!!this.container_},Blockly.FunctionEditor.prototype.ensureCreated_=function(){this.isCreated()||this.create_()},Blockly.FunctionEditor.prototype.onClose=function(){this.hideIfOpen()},Blockly.FunctionEditor.prototype.hideIfOpen=function(){this.isOpen()&&(this.hideAndRestoreBlocks_(),this.modalBlockSpace.clear())},Blockly.FunctionEditor.prototype.hideAndRestoreBlocks_=function(){var e=this.functionDefinitionBlock;this.functionDefinitionBlock=null,this.moveToMainBlockSpace_(e),this.container_.querySelector("#functionNameText").value="",this.container_.querySelector("#functionDescriptionText").value="",this.container_.querySelector("#paramAddText")&&(this.container_.querySelector("#paramAddText").value=""),goog.style.setElementShown(this.container_,!1),goog.style.setElementShown(this.modalBackground_,!1),Blockly.focusedBlockSpace=Blockly.mainBlockSpace,Blockly.fireUiEvent(window,"function_editor_closed")},Blockly.FunctionEditor.prototype.moveToMainBlockSpace_=function(e){e.setMovable(!0),e.setDeletable(!0);var t=Blockly.Xml.blockToDom(e);e.dispose(!1,!1,!0),Blockly.Xml.domToBlock(Blockly.mainBlockSpace,t).setCurrentlyHidden(!0)},Blockly.FunctionEditor.prototype.moveToModalBlockSpace=function(e){var t=Blockly.Xml.blockToDom(e);return e.dispose(!1,!1,!0),(e=Blockly.Xml.domToBlock(this.modalBlockSpace,t)).moveTo(Blockly.RTL?this.modalBlockSpace.getMetrics().viewWidth-Blockly.FunctionEditor.BLOCK_LAYOUT_LEFT_MARGIN:Blockly.FunctionEditor.BLOCK_LAYOUT_LEFT_MARGIN,Blockly.FunctionEditor.BLOCK_LAYOUT_TOP_MARGIN),e.setCurrentlyHidden(!1),e.setUserVisible(!0,!0),e},Blockly.FunctionEditor.prototype.create_=function(){function e(e){e=e.target.value;var t=/\)|\(/g;t.test(e)&&(e=e.replace(t,""),this.container_.querySelector("#functionNameText").value=e),this.functionDefinitionBlock.setTitleValue(e,"NAME")}function t(e){this.functionDefinitionBlock.description_=e.target.value}if(this.created_)throw"Attempting to re-create already created Function Editor";this.container_=document.createElement("div"),this.container_.setAttribute("id","modalContainer"),goog.dom.insertSiblingAfter(this.container_,Blockly.mainBlockSpaceEditor.svg_),this.container_.style.top=Blockly.mainBlockSpaceEditor.getWorkspaceTopOffset()+"px";var o=this;this.modalBlockSpaceEditor=new Blockly.BlockSpaceEditor(this.container_,{getMetrics:function(){var e=Blockly.BlockSpaceEditor.prototype.getBlockSpaceMetrics_.call(this);return e?(e.absoluteLeft+=FRAME_MARGIN_SIDE+Blockly.Bubble.BORDER_WIDTH+1,e.absoluteTop+=o.getBlockSpaceEditorToScreenTop_(),e.viewWidth-=2*(FRAME_MARGIN_SIDE+Blockly.Bubble.BORDER_WIDTH),e.viewHeight-=FRAME_MARGIN_TOP+Blockly.Bubble.BORDER_WIDTH+o.getWindowBorderChromeHeight(),e):null},setMetrics:function(e){Blockly.BlockSpaceEditor.prototype.setBlockSpaceMetrics_.call(this,e),o.contractDiv_&&(o.resizeUIComponents_(),o.layOutBlockSpaceItems_())},hideTrashRect:!0}),this.modalBlockSpace=this.modalBlockSpaceEditor.blockSpace,this.modalBlockSpace.customFlyoutMetrics_=Blockly.mainBlockSpace.getMetrics,this.modalBlockSpace.bindBeginPanDragHandler(this.container_,goog.bind(function(){this.modalBlockSpaceEditor.hideChaff()},this)),this.modalBlockSpace.bindScrollOnWheelHandler(this.container_),Blockly.modalBlockSpace=this.modalBlockSpace,Blockly.modalBlockSpaceEditor=this.modalBlockSpaceEditor;var n=Blockly.createSvgElement("clipPath",{id:"modalBlockCanvasClipRect"});this.modalBlockSpaceEditor.addToSvgDefs(n),this.modalBlockSpace.getClippingGroup().setAttribute("clip-path","url(#modalBlockCanvasClipRect)"),this.clipPathRect_=Blockly.createSvgElement("rect",{x:0,y:0,width:1,height:1},n),this.modalBlockSpaceEditor.addChangeListener(Blockly.mainBlockSpace.fireChangeEvent),this.modalBackground_=Blockly.createSvgElement("g",{class:"modalBackground"}),Blockly.mainBlockSpaceEditor.appendSVGChild(this.modalBackground_),this.addCloseButton_(),this.addDeleteButton_(),this.addEditorFrame_(),this.createContractDom_(),this.createParameterEditor_(),this.setupParametersToolbox_(),this.resizeUIComponents_(),this.bindToolboxHandlers_(),Blockly.bindEvent_(this.container_,"mousedown",this,function(e){e.target===e.currentTarget&&(this.modalBlockSpaceEditor.hideChaff(),Blockly.selected&&Blockly.selected.unselect())}),Blockly.bindEvent_(goog.dom.getDocument().body,"keyup",this,function(e){e.keyCode===goog.events.KeyCodes.ESC&&this.onClose()}),Blockly.bindEvent_(this.container_.querySelector("#modalEditorClose"),"mousedown",this,this.onClose),Blockly.bindEvent_(this.container_.querySelector("#functionNameText"),"input",this,e),Blockly.bindEvent_(this.container_.querySelector("#functionNameText"),"keydown",this,e),Blockly.bindEvent_(this.contractDiv_,"mousedown",null,function(){Blockly.selected&&Blockly.selected.unselect()}),Blockly.bindEvent_(this.container_.querySelector("#functionDescriptionText"),"input",this,t),Blockly.bindEvent_(this.container_.querySelector("#functionDescriptionText"),"keydown",this,t),this.onResizeWrapper_=Blockly.bindEvent_(window,goog.events.EventType.RESIZE,this,this.position_),this.modalBlockSpaceEditor.svgResize()},Blockly.FunctionEditor.prototype.resizeUIComponents_=function(){var e=this.modalBlockSpace.getMetrics();this.resizeFrame_(e),this.positionClippingRects_(e),this.positionSizeContractDom_(e.viewWidth),this.positionCloseButton_(e),this.positionDeleteButton_(e)},Blockly.FunctionEditor.prototype.resizeFrame_=function(e){var t=e.viewWidth,o=e.viewHeight;e=e.absoluteTop-this.getBlockSpaceEditorToScreenTop_(),this.modalBackground_.setAttribute("transform","translate(0,"+e+")"),this.frameBase_.setAttribute("width",t+2*Blockly.Bubble.BORDER_WIDTH),this.frameBase_.setAttribute("height",o+2*Blockly.Bubble.BORDER_WIDTH+FRAME_HEADER_HEIGHT),this.frameInner_.setAttribute("width",t),this.frameInner_.setAttribute("height",o),Blockly.RTL&&(this.frameBase_.setAttribute("x",FRAME_MARGIN_SIDE),this.frameInner_.setAttribute("x",FRAME_MARGIN_SIDE+Blockly.Bubble.BORDER_WIDTH+1),this.frameText_.setAttribute("x",t-2*FRAME_MARGIN_SIDE))},Blockly.FunctionEditor.prototype.positionClippingRects_=function(e){var t=e.viewWidth,o=e.viewHeight;this.clipPathRect_.setAttribute("x",e.absoluteLeft),this.clipPathRect_.setAttribute("y",e.absoluteTop),this.clipPathRect_.setAttribute("width",t),this.clipPathRect_.setAttribute("height",o),this.frameClipDiv_.style.left=e.absoluteLeft+"px",this.frameClipDiv_.style.top=e.absoluteTop+"px",this.frameClipDiv_.style.width=t+"px",this.frameClipDiv_.style.height=o+"px"},Blockly.FunctionEditor.prototype.positionSizeContractDom_=function(e){this.contractDiv_.style.left=this.modalBlockSpace.xOffsetFromView+"px",this.contractDiv_.style.top=this.getContractDomTopY_()+"px",this.contractDiv_.style.width=e+"px",this.positionFlyout_(0)},Blockly.FunctionEditor.prototype.positionCloseButton_=function(e){this.closeButton_.setAttribute("transform","translate("+(Blockly.RTL?Blockly.FunctionEditor.RTL_CLOSE_BUTTON_OFFSET:e.absoluteLeft+e.viewWidth+Blockly.FunctionEditor.CLOSE_BUTTON_OVERHANG-this.closeButton_.firstElementChild.getAttribute("width"))+","+(e.absoluteTop+Blockly.FunctionEditor.BUTTON_TOP_OFFSET)+")")},Blockly.FunctionEditor.prototype.positionDeleteButton_=function(e){var t=this.closeButton_.firstElementChild.getAttribute("width"),o=this.deleteButton_.getButtonWidth();o=e.absoluteLeft+e.viewWidth+(Blockly.FunctionEditor.CLOSE_BUTTON_OVERHANG-t)-o-Blockly.FunctionEditor.DELETE_BUTTON_MARGIN,t=Blockly.FunctionEditor.RTL_CLOSE_BUTTON_OFFSET+t+Blockly.FunctionEditor.DELETE_BUTTON_MARGIN,this.deleteButton_.renderAt(Blockly.RTL?t:o,e.absoluteTop+Blockly.FunctionEditor.BUTTON_TOP_OFFSET)},Blockly.FunctionEditor.prototype.getBlockSpaceEditorToScreenTop_=function(){return this.getWindowBorderChromeHeight()},Blockly.FunctionEditor.prototype.getWindowBorderChromeHeight=function(){return FRAME_MARGIN_TOP+Blockly.Bubble.BORDER_WIDTH+FRAME_HEADER_HEIGHT},Blockly.FunctionEditor.prototype.getContractDivHeight=function(){return this.contractDiv_?this.contractDiv_.getBoundingClientRect().height:0},Blockly.FunctionEditor.prototype.readyToBeLaidOut_=function(){return this.functionDefinitionBlock&&this.functionDefinitionBlock.svgInitialized()&&this.isOpen()},Blockly.FunctionEditor.prototype.positionFlyout_=function(e){return e+=this.flyout_.getHeight(),this.flyout_.customYOffset=e+this.modalBlockSpace.yOffsetFromView,this.flyout_.position_(),e},Blockly.FunctionEditor.prototype.layOutBlockSpaceItems_=function(){if(this.readyToBeLaidOut_()){var e=Blockly.RTL?this.modalBlockSpace.getMetrics().viewWidth-Blockly.FunctionEditor.BLOCK_LAYOUT_LEFT_MARGIN:Blockly.FunctionEditor.BLOCK_LAYOUT_LEFT_MARGIN,t=this.getContractDivHeight();t=this.positionFlyout_(t),t+=Blockly.FunctionEditor.BLOCK_LAYOUT_TOP_MARGIN,this.functionDefinitionBlock.moveTo(e,t)}},Blockly.FunctionEditor.prototype.addCloseButton_=function(){this.closeButton_=Blockly.createSvgElement("g",{id:"modalEditorClose",filter:"url(#blocklyTrashcanShadowFilter)"});var e=Blockly.createSvgElement("rect",{rx:12,ry:12,fill:"#7665a0",stroke:"white","stroke-width":"2.5"},this.closeButton_),t=Blockly.createSvgElement("text",{x:7,y:7,class:"blocklyText"},this.closeButton_);t.textContent=this.getMsg("CLOSE"),this.modalBlockSpaceEditor.appendSVGChild(this.closeButton_),t=t.getBoundingClientRect(),e.setAttribute("width",t.width+14),e.setAttribute("height",t.height+7),e.setAttribute("y",7-t.height-1)},Blockly.FunctionEditor.prototype.addDeleteButton_=function(){this.deleteButton_=new Blockly.SvgTextButton(this.modalBlockSpaceEditor.getSVGElement(),this.getMsg("DELETE"),this.onDeletePressed.bind(this))},Blockly.FunctionEditor.prototype.onDeletePressed=function(){var e=this.functionDefinitionBlock.getProcedureInfo().name,t=this.getMsg("CONFIRM_DELETE_FUNCTION_MESSAGE").replace("%1",e);Blockly.showSimpleDialog({bodyText:t,cancelText:this.getMsg("DELETE"),confirmText:this.getMsg("KEEP"),onConfirm:null,onCancel:this.onDeleteConfirmed.bind(this,e),cancelButtonClass:"red-delete-button"})},Blockly.FunctionEditor.prototype.onDeleteConfirmed=function(e){this.hideIfOpen();var t=Blockly.mainBlockSpace.findFunction(e);Blockly.mainBlockSpace.findFunctionExamples(e).concat(t).forEach(function(e){e.dispose(!1,!1,!0)})},Blockly.FunctionEditor.prototype.setupParametersToolbox_=function(){this.flyout_=new Blockly.HorizontalFlyout(this.modalBlockSpaceEditor);var e=this.flyout_.createDom();this.modalBlockSpace.getClippingGroup().insertBefore(e,this.modalBlockSpace.svgBlockCanvas_),this.flyout_.init(this.modalBlockSpace,!1)},Blockly.FunctionEditor.prototype.addEditorFrame_=function(){var e=this.modalBlockSpace.isReadOnly()?0:Blockly.hasCategories?goog.dom.getElementByClass("blocklyToolboxDiv").getBoundingClientRect().width:goog.dom.getElementByClass("blocklyFlyoutBackground").getBoundingClientRect().width;this.frameBase_=Blockly.createSvgElement("rect",{x:e+FRAME_MARGIN_SIDE,y:0+FRAME_MARGIN_TOP,fill:"hsl(94, 73%, 35%)",rx:Blockly.Bubble.BORDER_WIDTH,ry:Blockly.Bubble.BORDER_WIDTH},this.modalBackground_),this.frameInner_=Blockly.createSvgElement("rect",{x:e+FRAME_MARGIN_SIDE+Blockly.Bubble.BORDER_WIDTH,y:0+FRAME_MARGIN_TOP+Blockly.Bubble.BORDER_WIDTH+FRAME_HEADER_HEIGHT,fill:"#ffffff"},this.modalBackground_),this.frameText_=Blockly.createSvgElement("text",{x:e+FRAME_MARGIN_SIDE+16,y:0+FRAME_MARGIN_TOP+22,class:"blocklyText",style:"font-size: 12pt"},this.modalBackground_),this.frameText_.textContent=this.getMsg("FUNCTION_HEADER")},Blockly.FunctionEditor.prototype.position_=function(){if(this.isOpen()){var e=this.modalBlockSpace.getMetrics();this.resizeFrame_(e),this.positionSizeContractDom_(e.viewWidth),this.layOutBlockSpaceItems_(),this.modalBlockSpaceEditor.svgResize()}},Blockly.FunctionEditor.prototype.getContractDomTopY_=function(){return this.modalBlockSpace.yOffsetFromView},Blockly.FunctionEditor.prototype.createParameterEditor_=function(){if(!this.paramEditingDisabled()){if(0<this.paramTypes.length)var e=this.paramTypes.map(function(e){return goog.dom.createDom("OPTION",null,e)}),t=goog.dom.createDom("SELECT",{id:"paramAddType",style:"pointer-events: auto; margin: 0; width: 100px;"},e);e=goog.dom.createDom("DIV",null,this.getMsg("FUNCTION_PARAMETERS_LABEL")),t=goog.dom.createDom("DIV",null,goog.dom.createDom("INPUT",{id:"paramAddText",type:"text",style:"width: 200px;"})," ",t,goog.dom.createDom("BUTTON",{id:"paramAddButton",class:"btn no-mc"},this.getMsg("ADD_PARAMETER")));var o=this.container_.querySelector("#paramEditingArea");goog.dom.removeChildren(o),goog.dom.appendChild(o,e),goog.dom.appendChild(o,t)}},Blockly.FunctionEditor.prototype.createFrameClipDiv_=function(){var e=goog.dom.createDom("div");return e.style.position="absolute",e.style.overflow="hidden",e.style.pointerEvents="none",e},Blockly.FunctionEditor.prototype.createContractDom_=function(){this.contractDiv_=goog.dom.createDom("DIV","blocklyToolboxDiv paramToolbox blocklyText flyoutColorGray innerModalDiv",goog.dom.createDom("DIV",null,this.getMsg("FUNCTION_NAME_LABEL")),goog.dom.createDom("DIV",null,goog.dom.createDom("INPUT",{id:"functionNameText",type:"text"})),goog.dom.createDom("DIV",null,this.getMsg("FUNCTION_DESCRIPTION_LABEL")),goog.dom.createDom("DIV",null,goog.dom.createDom("TEXTAREA",{id:"functionDescriptionText",rows:"2"})),goog.dom.createDom("DIV",{style:"margin: 0;",id:"paramEditingArea"})),Blockly.RTL&&this.contractDiv_.setAttribute("dir","RTL"),this.contractDiv_.style.display="block",this.frameClipDiv_=this.createFrameClipDiv_(),this.frameClipDiv_.insertBefore(this.contractDiv_,this.frameClipDiv_.firstChild),this.container_.insertBefore(this.frameClipDiv_,this.container_.firstChild)},Blockly.BlockValueType={NONE:"None",STRING:"String",NUMBER:"Number",IMAGE:"Image",BOOLEAN:"Boolean",FUNCTION:"Function",COLOUR:"Colour",ARRAY:"Array",SPRITE:"Sprite",BEHAVIOR:"Behavior",LOCATION:"Location"},Blockly.FunctionalBlockUtils={};var typesToColors={};typesToColors[Blockly.BlockValueType.NONE]=[0,0,0],typesToColors[Blockly.BlockValueType.NUMBER]=[192,1,.99],typesToColors[Blockly.BlockValueType.STRING]=[180,1,.6],typesToColors[Blockly.BlockValueType.IMAGE]=[285,1,.8],typesToColors[Blockly.BlockValueType.BOOLEAN]=[90,1,.4],Blockly.FunctionalTypeColors=typesToColors,Blockly.FunctionalBlockUtils.initTitledFunctionalBlock=function(e,t,o,n,r){r=r||{},e.setFunctional(!0,{headerHeight:30}),e.setHSV.apply(e,Blockly.FunctionalTypeColors[o]);var i={fixedSize:{height:35},fontSize:r.titleFontSize};for(e.appendDummyInput().appendTitle(new Blockly.FieldLabel(t,i)).setAlign(Blockly.ALIGN_CENTRE),t=0;t<n.length;t++){i=n[t];var a=e.appendFunctionalInput(i.name);a.setInline(0<t&&!r.verticallyStackInputs),a.setHSV.apply(a,Blockly.FunctionalTypeColors[i.type]),a.setCheck(i.type),a.setAlign(Blockly.ALIGN_CENTRE)}o===Blockly.BlockValueType.NONE?e.setFunctionalOutput(!1):e.setFunctionalOutput(!0,o)},Blockly.FunctionalBlockUtils.installStringPicker=function(e,t,o){var n=o.values;o=o.blockName,e.Blocks[o]={init:function(){this.setFunctional(!0,{headerHeight:0,rowBuffer:3}),this.setHSV.apply(this,Blockly.FunctionalTypeColors[Blockly.BlockValueType.STRING]),this.appendDummyInput().appendTitle(new Blockly.FieldLabel('"')).appendTitle(new e.FieldDropdown(n),"VAL").appendTitle(new Blockly.FieldLabel('"')).setAlign(Blockly.ALIGN_CENTRE),this.setFunctionalOutput(!0,e.BlockValueType.STRING)}},t[o]=function(){return e.JavaScript.quote_(this.getTitleValue("VAL"))}},goog.dom.classes={},goog.dom.classes.set=function(e,t){e.className=t},goog.dom.classes.get=function(e){return e=e.className,goog.isString(e)&&e.match(/\S+/g)||[]},goog.dom.classes.add=function(e,t){var o=goog.dom.classes.get(e),n=goog.array.slice(arguments,1),r=o.length+n.length;return goog.dom.classes.add_(o,n),goog.dom.classes.set(e,o.join(" ")),o.length==r},goog.dom.classes.remove=function(e,t){var o=goog.dom.classes.get(e),n=goog.array.slice(arguments,1),r=goog.dom.classes.getDifference_(o,n);return goog.dom.classes.set(e,r.join(" ")),r.length==o.length-n.length},goog.dom.classes.add_=function(e,t){for(var o=0;o<t.length;o++)goog.array.contains(e,t[o])||e.push(t[o])},goog.dom.classes.getDifference_=function(e,t){return goog.array.filter(e,function(e){return!goog.array.contains(t,e)})},goog.dom.classes.swap=function(e,t,o){for(var n=goog.dom.classes.get(e),r=!1,i=0;i<n.length;i++)n[i]==t&&(goog.array.splice(n,i--,1),r=!0);return r&&(n.push(o),goog.dom.classes.set(e,n.join(" "))),r},goog.dom.classes.addRemove=function(e,t,o){var n=goog.dom.classes.get(e);goog.isString(t)?goog.array.remove(n,t):goog.isArray(t)&&(n=goog.dom.classes.getDifference_(n,t)),goog.isString(o)&&!goog.array.contains(n,o)?n.push(o):goog.isArray(o)&&goog.dom.classes.add_(n,o),goog.dom.classes.set(e,n.join(" "))},goog.dom.classes.has=function(e,t){return goog.array.contains(goog.dom.classes.get(e),t)},goog.dom.classes.enable=function(e,t,o){o?goog.dom.classes.add(e,t):goog.dom.classes.remove(e,t)},goog.dom.classes.toggle=function(e,t){var o=!goog.dom.classes.has(e,t);return goog.dom.classes.enable(e,t,o),o};var NO_RESULT_TEXT="",SUCCESS_TEXT="Matches definition.",RESULT_TEXT_TOP_MARGIN=14,EMPTY_EXAMPLE_INPUT_WIDTH=40;Blockly.ExampleView=function(e,t,o){this.domParent_=e,this.svgParent_=t,this.contractEditor_=o,this.block_=null,this.horizontalLine=Blockly.createSvgElement("rect",{fill:Blockly.ContractEditor.GRID_LINE_COLOR,height:2},this.svgParent_),Blockly.svgIgnoreMouseEvents(this.horizontalLine),this.grayBackdrop=Blockly.createSvgElement("rect",{fill:"#DDD"},this.svgParent_,{belowExisting:!0}),this.grayBackdrop.style.pointerEvents="none",Blockly.svgIgnoreMouseEvents(this.grayBackdrop),this.testExampleButton=this.initializeTestButton_("Test","run26",this.testExample_.bind(this)),this.resetExampleButton=this.initializeTestButton_("Reset","reset26",this.reset.bind(this)),goog.dom.classes.add(this.resetExampleButton,"resetButton"),goog.dom.append(this.domParent_,this.testExampleButton),goog.dom.append(this.domParent_,this.resetExampleButton),this.resultText=goog.dom.createDom("div","example-result-text"),Blockly.svgIgnoreMouseEvents(this.resultText),this.resultText.textContent=NO_RESULT_TEXT,goog.dom.append(this.domParent_,this.resultText),this.refreshTestingUI(!1)},Blockly.ExampleView.prototype.initializeTestButton_=function(e,t,o){var n=goog.dom.createDom("button","testButton launch blocklyLaunch exampleAreaButton"),r=goog.dom.createDom("div");return r.textContent=e,(e=goog.dom.createDom("img",t)).setAttribute("src",Blockly.assetUrl("media/1x1.gif")),goog.dom.append(n,e),goog.dom.append(n,r),Blockly.bindEvent_(n,"click",null,o),n},Blockly.ExampleView.prototype.getBlock=function(){return this.block_},Blockly.ExampleView.prototype.testExample_=function(){this.contractEditor_.resetExampleViews();var e=this.contractEditor_.testExample(this.block_,!0);this.setResult(e||SUCCESS_TEXT),this.refreshTestingUI(!0)},Blockly.ExampleView.prototype.reset=function(){goog.style.isElementShown(this.resetExampleButton)&&(this.contractEditor_.resetExample(this.block_),this.resultText.textContent=NO_RESULT_TEXT,this.refreshTestingUI(!1))},Blockly.ExampleView.prototype.setResult=function(e){this.resultText.textContent=e||SUCCESS_TEXT,this.refreshTestingUI(!1)},Blockly.ExampleView.prototype.refreshTestingUI=function(e){goog.style.setElementShown(this.resultText,Blockly.showExampleTestButtons),goog.style.setElementShown(this.testExampleButton,Blockly.showExampleTestButtons&&!e),goog.style.setElementShown(this.resetExampleButton,Blockly.showExampleTestButtons&&e)},Blockly.ExampleView.prototype.placeExampleAndGetNewY=function(e,t,o,n,r,i,a,s){this.block_=e;var l=t;if(l+=r/=2,!e.isCurrentlyBeingDragged()){var c=e.getInput(Blockly.ContractEditor.EXAMPLE_BLOCK_ACTUAL_INPUT_NAME);if(c.type===Blockly.FUNCTIONAL_INPUT){var u=c.extraSpace,d=EMPTY_EXAMPLE_INPUT_WIDTH,p=e.getInputTargetBlock(Blockly.ContractEditor.EXAMPLE_BLOCK_ACTUAL_INPUT_NAME);p&&(d=p.getHeightWidth().width),c.extraSpace=o-d,c.extraSpace!==u&&e.render(!0)}e.moveTo(n,l)}l+=e.getHeightWidth().height,l+=r;var h=a+r;return[this.testExampleButton,this.resetExampleButton].forEach(function(e){e.style.top=l-s+"px",e.style.left=h+"px"}),e=Math.max(this.resetExampleButton.offsetWidth,this.testExampleButton.offsetWidth),o=Math.max(this.resetExampleButton.offsetHeight,this.testExampleButton.offsetHeight),this.resultText.style.top=l+RESULT_TEXT_TOP_MARGIN-s+"px",this.resultText.style.left=r+(h+e)+"px",l+=o,l+=r,this.horizontalLine.setAttribute("transform","translate(0,"+l+")"),this.horizontalLine.setAttribute("width",i),this.grayBackdrop.setAttribute("transform","translate(0,"+t+")"),this.grayBackdrop.setAttribute("width",a),this.grayBackdrop.setAttribute("height",l-t),l},Blockly.ExampleView.prototype.dispose=function(){goog.dom.removeNode(this.horizontalLine),goog.dom.removeNode(this.grayBackdrop),goog.dom.removeNode(this.testExampleButton),goog.dom.removeNode(this.resetExampleButton),goog.dom.removeNode(this.resultText)};var DOWN_TRIANGLE_CHARACTER="▼",RIGHT_TRIANGLE_CHARACTER="▶",DARK_GRAY_HEX="#898989",YELLOW_HEX="#ffa400",HIGHLIGHT_BOX_WIDTH=10,DEFAULT_HEADER_HEIGHT=25;Blockly.ContractEditorSectionView=function(e,t){this.headerText_=t.headerText,this.onCollapseCallback_=t.onCollapseCallback,this.placeContentCallback=t.placeContentCallback,this.headerHeight=t.headerHeight||DEFAULT_HEADER_HEIGHT,this.sectionNumber_=t.hasOwnProperty("sectionNumber")?t.sectionNumber:null,this.highlightBox_=t.highlightBox||null,this.completelyHidden_=this.highlighted_=!1,this.header_=new Blockly.SvgHeader(e,{headerText:this.textForCurrentState_(),onMouseDown:goog.bind(this.toggleCollapse,this),backgroundColor:DARK_GRAY_HEX}),this.collapsed_=!1,this.showHeader_=!0},Blockly.ContractEditorSectionView.prototype.setHeaderColor=function(e){this.header_.setColor(e)},Blockly.ContractEditorSectionView.prototype.textForCurrentState_=function(){if(!this.onCollapseCallback_)return this.headerText_;var e=(this.collapsed_?RIGHT_TRIANGLE_CHARACTER:DOWN_TRIANGLE_CHARACTER)+" ";return null!==this.sectionNumber_&&(e+=this.sectionNumber_+". "),e+this.headerText_},Blockly.ContractEditorSectionView.prototype.setHidden=function(e){(this.completelyHidden_=e)&&this.setCollapsed(!0),this.refreshHeaderText_()},Blockly.ContractEditorSectionView.prototype.removeSectionNumber=function(){this.sectionNumber_=null,this.refreshHeaderText_()},Blockly.ContractEditorSectionView.prototype.toggleCollapse=function(){this.setCollapsed(!this.collapsed_)},Blockly.ContractEditorSectionView.prototype.setCollapsed=function(e){this.collapsed_=e,this.header_.showSeparator(e),this.onCollapseCallback_&&this.onCollapseCallback_(this.collapsed_),this.refreshHeaderText_()},Blockly.ContractEditorSectionView.prototype.isCollapsed=function(){return this.collapsed_},Blockly.ContractEditorSectionView.prototype.refreshHeaderText_=function(){this.header_.setText(this.textForCurrentState_())},Blockly.ContractEditorSectionView.prototype.setHighlighted=function(e){this.highlighted_=e},Blockly.ContractEditorSectionView.prototype.setHeaderVisible=function(e){this.showHeader_=e},Blockly.ContractEditorSectionView.prototype.placeAndGetNewY=function(e,t){if(this.completelyHidden_)return this.header_.setVisible(!1),e;var o=e;return this.header_.setVisible(this.showHeader_),this.showHeader_&&(this.header_.setPositionSize(e,t,this.headerHeight),e+=this.headerHeight),this.collapsed_||(e=this.placeAndGetNewYInnerSegment_(e)),this.highlighted_&&this.highlightBox_.setPositionSize(o,t,e-o),e},Blockly.ContractEditorSectionView.prototype.placeAndGetNewYInnerSegment_=function(e){return this.placeContentCallback&&(e=this.placeContentCallback(e)),e};var FUNCTION_BLOCK_VERTICAL_MARGIN=Blockly.BlockSpaceEditor.BUMP_PADDING_TOP,FUNCTION_BLOCK_MIN_HORIZONTAL_MARGIN=Blockly.BlockSpaceEditor.BUMP_PADDING_LEFT;Blockly.ContractDefinitionSection=function(e){this.definitionTableGroup=Blockly.createSvgElement("g",{},e),this.grayDefinitionBackground=Blockly.createSvgElement("rect",{fill:"#DDD"},this.definitionTableGroup),Blockly.svgIgnoreMouseEvents(this.grayDefinitionBackground),this.verticalDefinitionMidline=Blockly.createSvgElement("rect",{fill:Blockly.ContractEditor.GRID_LINE_COLOR},this.definitionTableGroup),this.verticalDefinitionMidline.setAttribute("width",2),Blockly.svgIgnoreMouseEvents(this.verticalDefinitionMidline),this.horizontalDefinitionTopLine=Blockly.createSvgElement("rect",{fill:Blockly.ContractEditor.GRID_LINE_COLOR},this.definitionTableGroup),this.horizontalDefinitionTopLine.setAttribute("height",2),Blockly.svgIgnoreMouseEvents(this.horizontalDefinitionTopLine),this.horizontalDefinitionBottomLine=Blockly.createSvgElement("rect",{fill:Blockly.ContractEditor.GRID_LINE_COLOR},this.definitionTableGroup),this.horizontalDefinitionBottomLine.setAttribute("height",2),Blockly.svgIgnoreMouseEvents(this.horizontalDefinitionBottomLine)},Blockly.ContractDefinitionSection.prototype.handleCollapse=function(e){this.definitionTableGroup.style.display=e?"none":"block"},Blockly.ContractDefinitionSection.prototype.placeContent=function(e,t,o,n){if(!n)return e;var r=e;n.isVariable()?this.definitionTableGroup.style.display="none":(this.definitionTableGroup.style.display="block",this.horizontalDefinitionTopLine.setAttribute("transform","translate(0,"+r+")"),this.verticalDefinitionMidline.setAttribute("transform","translate("+t+","+r+")"),this.grayDefinitionBackground.setAttribute("transform","translate(0,"+e+")"),this.horizontalDefinitionTopLine.setAttribute("width",o)),e+=FUNCTION_BLOCK_VERTICAL_MARGIN;var i=n.isVariable()?FUNCTION_BLOCK_MIN_HORIZONTAL_MARGIN:FUNCTION_BLOCK_MIN_HORIZONTAL_MARGIN+t;return n.moveTo(i,e),e+=n.getHeightWidth().height,e+=FUNCTION_BLOCK_VERTICAL_MARGIN,n.isVariable()||(this.horizontalDefinitionBottomLine.setAttribute("transform","translate(0,"+e+")"),this.horizontalDefinitionBottomLine.setAttribute("width",o),this.verticalDefinitionMidline.setAttribute("height",e-r),this.grayDefinitionBackground.setAttribute("height",e-r),this.grayDefinitionBackground.setAttribute("width",t)),e};var TEXT_PADDING_LEFT="10",SEPARATOR_LINE_HEIGHT=2;Blockly.SvgHeader=function(e,t){var o=(t=t||{backgroundColor:"#000",headerText:"Default Header"}).onMouseDown?"":"pointer-events: none;";this.svgGroup_=Blockly.createSvgElement("g",{style:o},e,{belowExisting:!0}),this.rectangleElement_=Blockly.createSvgElement("rect",{fill:t.backgroundColor,style:o},this.svgGroup_),this.separatorElement_=Blockly.createSvgElement("rect",{fill:"#FFF",style:o+"opacity:.3;"},this.svgGroup_),this.textElement_=Blockly.createSvgElement("text",{class:"contractEditorHeaderText",style:o},this.svgGroup_),t.headerText&&(this.textElement_.textContent=t.headerText),t.onMouseDown&&Blockly.bindEvent_(this.svgGroup_,"click",null,t.onMouseDown)},Blockly.SvgHeader.prototype.showSeparator=function(e){goog.style.setElementShown(this.separatorElement_,e)},Blockly.SvgHeader.prototype.setColor=function(e){this.rectangleElement_.setAttribute("fill",e)},Blockly.SvgHeader.prototype.setPositionSize=function(e,t,o){this.svgGroup_.setAttribute("transform","translate(0,"+e+")"),this.rectangleElement_.setAttribute("width",t+2),this.separatorElement_.setAttribute("width",t),this.separatorElement_.setAttribute("height",SEPARATOR_LINE_HEIGHT),this.separatorElement_.setAttribute("transform","translate(0,"+(o-1)+")"),this.rectangleElement_.setAttribute("height",o),this.textElement_.setAttribute("x",TEXT_PADDING_LEFT),e=o/2,t=this.textElement_.getBBox().height/3,this.textElement_.setAttribute("y",e+t)},Blockly.SvgHeader.prototype.setText=function(e){this.textElement_.textContent=e},Blockly.SvgHeader.prototype.setVisible=function(e){goog.style.setElementShown(this.svgGroup_,e)},Blockly.SvgHeader.prototype.removeSelf=function(){goog.dom.removeNode(this.svgGroup_)},Blockly.SvgTextButton=function(e,t,o){e=Blockly.createSvgElement("g",{class:"svgTextButton",filter:"url(#blocklyTrashcanShadowFilter)"},e),this.buttonRect=Blockly.createSvgElement("rect",{rx:12,ry:12,fill:"#7665a0",stroke:"white","stroke-width":"2.5"},e);var n=Blockly.createSvgElement("text",{x:7,y:7,class:"blocklyText"},e);n.textContent=t,t=n.getBoundingClientRect(),this.buttonRect.setAttribute("width",t.width+14),this.buttonRectHeight=t.height+7,this.buttonRect.setAttribute("height",this.buttonRectHeight),this.buttonRectYOffset=7-t.height-1,this.buttonRect.setAttribute("y",this.buttonRectYOffset),Blockly.bindEvent_(e,"click",null,o),this.svgGroup_=e},Blockly.SvgTextButton.prototype.renderAt=function(e,t){return this.svgGroup_.setAttribute("transform","translate("+e+","+t+")"),t+this.buttonRectHeight},Blockly.SvgTextButton.prototype.setVisible=function(e){goog.style.setElementShown(this.svgGroup_,e)},Blockly.SvgTextButton.prototype.getButtonWidth=function(){return parseInt(this.buttonRect.getAttribute("width"),10)},Blockly.SvgHighlightBox=function(e,t){var o=(t=t||{}).color||"#000";t=t.thickness||"30",this.svgGroup_=Blockly.createSvgElement("g",{style:"pointer-events: none;"},e),this.highlightRectangle_=Blockly.createSvgElement("rect",{fill:"none","stroke-width":t,stroke:o},this.svgGroup_)},Blockly.SvgHighlightBox.prototype.setPositionSize=function(e,t,o){this.svgGroup_.setAttribute("transform","translate(0,"+e+")"),this.highlightRectangle_.setAttribute("width",t),this.highlightRectangle_.setAttribute("height",o)},Blockly.TypeDropdown=function(e){this.buttonColorSquareDiv_=this.selectComponent_=null,this.onTypeChanged_=e.onTypeChanged,this.typeChoices_=e.typeChoices,this.type_=e.type,this.changeListenerKey_=null},Blockly.TypeDropdown.prototype.render=function(e){e=this.renderSelectComponent_(e),this.buttonColorSquareDiv_=this.createColorSquareDiv(),goog.dom.appendChild(e.getElement(),this.buttonColorSquareDiv_),this.setSquareIconColor(this.type_,this.buttonColorSquareDiv_),this.attachListeners_(e),this.selectComponent_=e,this.setType_(this.type_)},Blockly.TypeDropdown.prototype.setType_=function(e){this.type_=e,this.setSquareIconColor(this.type_,this.buttonColorSquareDiv_)},Blockly.TypeDropdown.prototype.renderSelectComponent_=function(e){var t=this.createSelect_();return t.render(e),t},Blockly.TypeDropdown.prototype.createSelect_=function(){var n=new goog.ui.Select(null,null,goog.ui.FlatMenuButtonRenderer.getInstance(),null,new Blockly.CustomCssClassMenuRenderer("colored-type-dropdown"));return this.typeChoices_.forEach(function(e){var t=new goog.ui.MenuItem(e);n.addItem(t);var o=this.createColorSquareDiv();goog.dom.insertChildAt(t.getElement(),o,0),this.setSquareIconColor(e,o)},this),n.setValue(this.type_),n},Blockly.TypeDropdown.prototype.createColorSquareDiv=function(){return goog.dom.createDom("div","color-square-icon")},Blockly.TypeDropdown.prototype.attachListeners_=function(e){this.changeListenerKey_=goog.events.listen(e,goog.ui.Component.EventType.CHANGE,goog.bind(this.selectChanged_,this))},Blockly.TypeDropdown.prototype.selectChanged_=function(e){e=e.target.getContent(),this.setType_(e),this.onTypeChanged_(e)},Blockly.TypeDropdown.prototype.setSquareIconColor=function(e,t){e=Blockly.FunctionalTypeColors[e],e=goog.color.hsvToHex(e[0],e[1],255*e[2]),t.style.background=e},Blockly.TypeDropdown.prototype.dispose=function(){goog.events.unlistenByKey(this.changeListenerKey_),this.selectComponent_.dispose()},Blockly.DomainNameInput=function(e){this.onNameChanged=e.onNameChanged,this.onEnterPressed=e.onEnterPressed,this.name=e.name,this.eventsToUnbind_=[],this.inputElement_=null},Blockly.DomainNameInput.prototype.render=function(e){var t=goog.dom.createDom("input");t.type="text",t.style.width="200px",t.style.placeholder=Blockly.Msg.FUNCTIONAL_NAME_LABEL,this.name&&(t.value=this.name),e.appendChild(t),this.eventsToUnbind_.push(Blockly.bindEvent_(t,"input",this,this.onInputChange_)),this.eventsToUnbind_.push(Blockly.bindEvent_(t,"keydown",this,this.onInputChange_)),this.inputElement_=t},Blockly.DomainNameInput.prototype.onInputChange_=function(e){this.onNameChanged&&this.onNameChanged(e.target.value)},Blockly.DomainNameInput.prototype.dispose=function(){this.eventsToUnbind_.forEach(function(e){Blockly.unbindEvent_(e)}),goog.array.clear(this.eventsToUnbind_),goog.dom.removeNode(this.inputElement_)},Blockly.XButton=function(e){this.onButtonPressed=e.onButtonPressed,this.eventsToUnbind_=[],this.buttonElement_=null},Blockly.XButton.prototype.render=function(e){var t=goog.dom.createDom("button");t.className="btn",t.textContent="Remove",t.style.marginRight="-10px",e.appendChild(t),this.eventsToUnbind_.push(Blockly.bindEvent_(t,"click",this,goog.bind(function(){this.onButtonPressed&&this.onButtonPressed()},this))),this.buttonElement_=t},Blockly.XButton.prototype.dispose=function(){this.eventsToUnbind_.forEach(function(e){Blockly.unbindEvent_(e)}),goog.array.clear(this.eventsToUnbind_),goog.dom.removeNode(this.buttonElement_)},Blockly.DomainEditor=function(e){this.options=e,this.nameInput_=this.typeDropdown_=this.editorDom_=null},Blockly.DomainEditor.prototype.getParamID=function(){return this.options.paramID},Blockly.DomainEditor.prototype.render=function(e){var t=goog.dom.createDom("div"),o=new Blockly.TypeDropdown({onTypeChanged:this.options.onTypeChanged,typeChoices:this.options.typeChoices,type:this.options.type}),n=new Blockly.DomainNameInput({onNameChanged:this.options.onNameChanged,name:this.options.name}),r=new Blockly.XButton({onButtonPressed:this.options.onRemovePress});n.render(t),o.render(t),r.render(t),e.appendChild(t),this.editorDom_=t,this.typeDropdown_=o,this.nameInput_=n},Blockly.DomainEditor.prototype.dispose=function(){this.nameInput_.dispose(),this.typeDropdown_.dispose(),goog.dom.removeNode(this.editorDom_)},Blockly.CustomCssClassMenuRenderer=function(e){this.customCssClass_=e,Blockly.CustomCssClassMenuRenderer.superClass_.constructor.call(this)},goog.inherits(Blockly.CustomCssClassMenuRenderer,goog.ui.MenuRenderer),goog.addSingletonGetter(Blockly.CustomCssClassMenuRenderer),Blockly.CustomCssClassMenuRenderer.prototype.getCssClass=function(){return goog.ui.MenuRenderer.CSS_CLASS+" "+this.customCssClass_},goog.ui.ButtonSide={NONE:0,START:1,END:2,BOTH:3},goog.ui.ButtonRenderer=function(){goog.ui.ControlRenderer.call(this)},goog.inherits(goog.ui.ButtonRenderer,goog.ui.ControlRenderer),goog.addSingletonGetter(goog.ui.ButtonRenderer),goog.ui.ButtonRenderer.CSS_CLASS="goog-button",goog.ui.ButtonRenderer.prototype.getAriaRole=function(){return goog.a11y.aria.Role.BUTTON},goog.ui.ButtonRenderer.prototype.updateAriaState=function(e,t,o){switch(t){case goog.ui.Component.State.SELECTED:case goog.ui.Component.State.CHECKED:goog.asserts.assert(e,"The button DOM element cannot be null."),goog.a11y.aria.setState(e,goog.a11y.aria.State.PRESSED,o);break;default:case goog.ui.Component.State.OPENED:case goog.ui.Component.State.DISABLED:goog.ui.ButtonRenderer.superClass_.updateAriaState.call(this,e,t,o)}},goog.ui.ButtonRenderer.prototype.createDom=function(e){var t=goog.ui.ButtonRenderer.superClass_.createDom.call(this,e);this.setTooltip(t,e.getTooltip());var o=e.getValue();return o&&this.setValue(t,o),e.isSupportedState(goog.ui.Component.State.CHECKED)&&this.updateAriaState(t,goog.ui.Component.State.CHECKED,e.isChecked()),t},goog.ui.ButtonRenderer.prototype.decorate=function(e,t){return t=goog.ui.ButtonRenderer.superClass_.decorate.call(this,e,t),e.setValueInternal(this.getValue(t)),e.setTooltipInternal(this.getTooltip(t)),e.isSupportedState(goog.ui.Component.State.CHECKED)&&this.updateAriaState(t,goog.ui.Component.State.CHECKED,e.isChecked()),t},goog.ui.ButtonRenderer.prototype.getValue=goog.nullFunction,goog.ui.ButtonRenderer.prototype.setValue=goog.nullFunction,goog.ui.ButtonRenderer.prototype.getTooltip=function(e){return e.title},goog.ui.ButtonRenderer.prototype.setTooltip=function(e,t){e&&(t?e.title=t:e.removeAttribute("title"))},goog.ui.ButtonRenderer.prototype.setCollapsed=function(e,t){var o=e.isRightToLeft(),n=this.getStructuralCssClass()+"-collapse-left",r=this.getStructuralCssClass()+"-collapse-right";e.enableClassName(o?r:n,!!(t&goog.ui.ButtonSide.START)),e.enableClassName(o?n:r,!!(t&goog.ui.ButtonSide.END))},goog.ui.ButtonRenderer.prototype.getCssClass=function(){return goog.ui.ButtonRenderer.CSS_CLASS},goog.dom.InputType={BUTTON:"button",CHECKBOX:"checkbox",COLOR:"color",DATE:"date",DATETIME:"datetime",DATETIME_LOCAL:"datetime-local",EMAIL:"email",FILE:"file",HIDDEN:"hidden",IMAGE:"image",MENU:"menu",MONTH:"month",NUMBER:"number",PASSWORD:"password",RADIO:"radio",RANGE:"range",RESET:"reset",SEARCH:"search",SELECT_MULTIPLE:"select-multiple",SELECT_ONE:"select-one",SUBMIT:"submit",TEL:"tel",TEXT:"text",TEXTAREA:"textarea",TIME:"time",URL:"url",WEEK:"week"},goog.ui.NativeButtonRenderer=function(){goog.ui.ButtonRenderer.call(this)},goog.inherits(goog.ui.NativeButtonRenderer,goog.ui.ButtonRenderer),goog.addSingletonGetter(goog.ui.NativeButtonRenderer),goog.ui.NativeButtonRenderer.prototype.getAriaRole=function(){},goog.ui.NativeButtonRenderer.prototype.createDom=function(e){return this.setUpNativeButton_(e),e.getDomHelper().createDom("BUTTON",{class:this.getClassNames(e).join(" "),disabled:!e.isEnabled(),title:e.getTooltip()||"",value:e.getValue()||""},e.getCaption()||"")},goog.ui.NativeButtonRenderer.prototype.canDecorate=function(e){return"BUTTON"==e.tagName||"INPUT"==e.tagName&&(e.type==goog.dom.InputType.BUTTON||e.type==goog.dom.InputType.SUBMIT||e.type==goog.dom.InputType.RESET)},goog.ui.NativeButtonRenderer.prototype.decorate=function(e,t){if(this.setUpNativeButton_(e),t.disabled){var o=goog.asserts.assertString(this.getClassForState(goog.ui.Component.State.DISABLED));goog.dom.classlist.add(t,o)}return goog.ui.NativeButtonRenderer.superClass_.decorate.call(this,e,t)},goog.ui.NativeButtonRenderer.prototype.initializeDom=function(e){e.getHandler().listen(e.getElement(),goog.events.EventType.CLICK,e.performActionInternal)},goog.ui.NativeButtonRenderer.prototype.setAllowTextSelection=goog.nullFunction,goog.ui.NativeButtonRenderer.prototype.setRightToLeft=goog.nullFunction,goog.ui.NativeButtonRenderer.prototype.isFocusable=function(e){return e.isEnabled()},goog.ui.NativeButtonRenderer.prototype.setFocusable=goog.nullFunction,goog.ui.NativeButtonRenderer.prototype.setState=function(e,t,o){goog.ui.NativeButtonRenderer.superClass_.setState.call(this,e,t,o),(e=e.getElement())&&t==goog.ui.Component.State.DISABLED&&(e.disabled=o)},goog.ui.NativeButtonRenderer.prototype.getValue=function(e){return e.value},goog.ui.NativeButtonRenderer.prototype.setValue=function(e,t){e&&(e.value=t)},goog.ui.NativeButtonRenderer.prototype.updateAriaState=goog.nullFunction,goog.ui.NativeButtonRenderer.prototype.setUpNativeButton_=function(e){e.setHandleMouseEvents(!1),e.setAutoStates(goog.ui.Component.State.ALL,!1),e.setSupportedState(goog.ui.Component.State.FOCUSED,!1)},goog.ui.Button=function(e,t,o){goog.ui.Control.call(this,e,t||goog.ui.NativeButtonRenderer.getInstance(),o)},goog.inherits(goog.ui.Button,goog.ui.Control),goog.tagUnsealableClass(goog.ui.Button),goog.ui.Button.Side=goog.ui.ButtonSide,goog.ui.Button.prototype.getValue=function(){return this.value_},goog.ui.Button.prototype.setValue=function(e){this.value_=e,this.getRenderer().setValue(this.getElement(),e)},goog.ui.Button.prototype.setValueInternal=function(e){this.value_=e},goog.ui.Button.prototype.getTooltip=function(){return this.tooltip_},goog.ui.Button.prototype.setTooltip=function(e){this.tooltip_=e,this.getRenderer().setTooltip(this.getElement(),e)},goog.ui.Button.prototype.setTooltipInternal=function(e){this.tooltip_=e},goog.ui.Button.prototype.setCollapsed=function(e){this.getRenderer().setCollapsed(this,e)},goog.ui.Button.prototype.disposeInternal=function(){goog.ui.Button.superClass_.disposeInternal.call(this),delete this.value_,delete this.tooltip_},goog.ui.Button.prototype.enterDocument=function(){if(goog.ui.Button.superClass_.enterDocument.call(this),this.isSupportedState(goog.ui.Component.State.FOCUSED)){var e=this.getKeyEventTarget();e&&this.getHandler().listen(e,goog.events.EventType.KEYUP,this.handleKeyEventInternal)}},goog.ui.Button.prototype.handleKeyEventInternal=function(e){return e.keyCode==goog.events.KeyCodes.ENTER&&e.type==goog.events.KeyHandler.EventType.KEY||e.keyCode==goog.events.KeyCodes.SPACE&&e.type==goog.events.EventType.KEYUP?this.performActionInternal(e):e.keyCode==goog.events.KeyCodes.SPACE},goog.ui.registry.setDecoratorByClassName(goog.ui.ButtonRenderer.CSS_CLASS,function(){return new goog.ui.Button(null)}),goog.ui.INLINE_BLOCK_CLASSNAME="goog-inline-block",goog.ui.FlatButtonRenderer=function(){goog.ui.ButtonRenderer.call(this)},goog.inherits(goog.ui.FlatButtonRenderer,goog.ui.ButtonRenderer),goog.addSingletonGetter(goog.ui.FlatButtonRenderer),goog.ui.FlatButtonRenderer.CSS_CLASS="goog-flat-button",goog.ui.FlatButtonRenderer.prototype.createDom=function(e){var t=this.getClassNames(e);return t={class:goog.ui.INLINE_BLOCK_CLASSNAME+" "+t.join(" ")},t=e.getDomHelper().createDom("DIV",t,e.getContent()),this.setTooltip(t,e.getTooltip()),t},goog.ui.FlatButtonRenderer.prototype.getAriaRole=function(){return goog.a11y.aria.Role.BUTTON},goog.ui.FlatButtonRenderer.prototype.canDecorate=function(e){return"DIV"==e.tagName},goog.ui.FlatButtonRenderer.prototype.decorate=function(e,t){return goog.asserts.assert(t),goog.dom.classlist.add(t,goog.ui.INLINE_BLOCK_CLASSNAME),goog.ui.FlatButtonRenderer.superClass_.decorate.call(this,e,t)},goog.ui.FlatButtonRenderer.prototype.getValue=function(e){return""},goog.ui.FlatButtonRenderer.prototype.getCssClass=function(){return goog.ui.FlatButtonRenderer.CSS_CLASS},goog.ui.registry.setDecoratorByClassName(goog.ui.FlatButtonRenderer.CSS_CLASS,function(){return new goog.ui.Button(null,goog.ui.FlatButtonRenderer.getInstance())}),goog.style.bidi={},goog.style.bidi.getScrollLeft=function(e){var t=goog.style.isRightToLeft(e);return t&&goog.userAgent.GECKO?-e.scrollLeft:!t||goog.userAgent.EDGE_OR_IE&&goog.userAgent.isVersionOrHigher("8")||"visible"==goog.style.getComputedOverflowX(e)?e.scrollLeft:e.scrollWidth-e.clientWidth-e.scrollLeft},goog.style.bidi.getOffsetStart=function(e){var t=e.offsetLeft,o=e.offsetParent;if(o||"fixed"!=goog.style.getComputedPosition(e)||(o=goog.dom.getOwnerDocument(e).documentElement),!o)return t;if(goog.userAgent.GECKO){var n=goog.style.getBorderBox(o);t+=n.left}else goog.userAgent.isDocumentModeOrHigher(8)&&!goog.userAgent.isDocumentModeOrHigher(9)&&(t-=(n=goog.style.getBorderBox(o)).left);return goog.style.isRightToLeft(o)?o.clientWidth-(t+e.offsetWidth):t},goog.style.bidi.setScrollOffset=function(e,t){t=Math.max(t,0),goog.style.isRightToLeft(e)?goog.userAgent.GECKO?e.scrollLeft=-t:goog.userAgent.EDGE_OR_IE&&goog.userAgent.isVersionOrHigher("8")?e.scrollLeft=t:e.scrollLeft=e.scrollWidth-t-e.clientWidth:e.scrollLeft=t},goog.style.bidi.setPosition=function(e,t,o,n){goog.isNull(o)||(e.style.top=o+"px"),n?(e.style.right=t+"px",e.style.left=""):(e.style.left=t+"px",e.style.right="")},goog.positioning={},goog.positioning.CornerBit={BOTTOM:1,CENTER:2,RIGHT:4,FLIP_RTL:8},goog.positioning.Corner={TOP_LEFT:0,TOP_RIGHT:goog.positioning.CornerBit.RIGHT,BOTTOM_LEFT:goog.positioning.CornerBit.BOTTOM,BOTTOM_RIGHT:goog.positioning.CornerBit.BOTTOM|goog.positioning.CornerBit.RIGHT,TOP_START:goog.positioning.CornerBit.FLIP_RTL,TOP_END:goog.positioning.CornerBit.FLIP_RTL|goog.positioning.CornerBit.RIGHT,BOTTOM_START:goog.positioning.CornerBit.BOTTOM|goog.positioning.CornerBit.FLIP_RTL,BOTTOM_END:goog.positioning.CornerBit.BOTTOM|goog.positioning.CornerBit.RIGHT|goog.positioning.CornerBit.FLIP_RTL,TOP_CENTER:goog.positioning.CornerBit.CENTER,BOTTOM_CENTER:goog.positioning.CornerBit.BOTTOM|goog.positioning.CornerBit.CENTER},goog.positioning.Overflow={IGNORE:0,ADJUST_X:1,FAIL_X:2,ADJUST_Y:4,FAIL_Y:8,RESIZE_WIDTH:16,RESIZE_HEIGHT:32,ADJUST_X_EXCEPT_OFFSCREEN:65,ADJUST_Y_EXCEPT_OFFSCREEN:132},goog.positioning.OverflowStatus={NONE:0,ADJUSTED_X:1,ADJUSTED_Y:2,WIDTH_ADJUSTED:4,HEIGHT_ADJUSTED:8,FAILED_LEFT:16,FAILED_RIGHT:32,FAILED_TOP:64,FAILED_BOTTOM:128,FAILED_OUTSIDE_VIEWPORT:256},goog.positioning.OverflowStatus.FAILED=goog.positioning.OverflowStatus.FAILED_LEFT|goog.positioning.OverflowStatus.FAILED_RIGHT|goog.positioning.OverflowStatus.FAILED_TOP|goog.positioning.OverflowStatus.FAILED_BOTTOM|goog.positioning.OverflowStatus.FAILED_OUTSIDE_VIEWPORT,goog.positioning.OverflowStatus.FAILED_HORIZONTAL=goog.positioning.OverflowStatus.FAILED_LEFT|goog.positioning.OverflowStatus.FAILED_RIGHT,goog.positioning.OverflowStatus.FAILED_VERTICAL=goog.positioning.OverflowStatus.FAILED_TOP|goog.positioning.OverflowStatus.FAILED_BOTTOM,goog.positioning.positionAtAnchor=function(e,t,o,n,r,i,a,s,l){goog.asserts.assert(o);var c=goog.positioning.getOffsetParentPageOffset(o),u=goog.positioning.getVisiblePart_(e);if(goog.style.translateRectForAnotherFrame(u,goog.dom.getDomHelper(e),goog.dom.getDomHelper(o)),e=goog.positioning.getEffectiveCorner(e,t),t=u.left,e&goog.positioning.CornerBit.RIGHT?t+=u.width:e&goog.positioning.CornerBit.CENTER&&(t+=u.width/2),u=new goog.math.Coordinate(t,u.top+(e&goog.positioning.CornerBit.BOTTOM?u.height:0)),u=goog.math.Coordinate.difference(u,c),r&&(u.x+=(e&goog.positioning.CornerBit.RIGHT?-1:1)*r.x,u.y+=(e&goog.positioning.CornerBit.BOTTOM?-1:1)*r.y),a)if(l)var d=l;else(d=goog.style.getVisibleRectForElement(o))&&(d.top-=c.y,d.right-=c.x,d.bottom-=c.y,d.left-=c.x);return goog.positioning.positionAtCoordinate(u,o,n,i,d,a,s)},goog.positioning.getOffsetParentPageOffset=function(e){if(e=e.offsetParent){var t="HTML"==e.tagName||"BODY"==e.tagName;if(!t||"static"!=goog.style.getComputedPosition(e)){var o=goog.style.getPageOffset(e);t||(o=goog.math.Coordinate.difference(o,new goog.math.Coordinate(goog.style.bidi.getScrollLeft(e),e.scrollTop)))}}return o||new goog.math.Coordinate},goog.positioning.getVisiblePart_=function(e){var t=goog.style.getBounds(e);return(e=goog.style.getVisibleRectForElement(e))&&t.intersection(goog.math.Rect.createFromBox(e)),t},goog.positioning.positionAtCoordinate=function(e,t,o,n,r,i,a){e=e.clone();var s=goog.positioning.getEffectiveCorner(t,o);return o=goog.style.getSize(t),a=a?a.clone():o.clone(),(e=goog.positioning.getPositionAtCoordinate(e,a,s,n,r,i)).status&goog.positioning.OverflowStatus.FAILED||(goog.style.setPosition(t,e.rect.getTopLeft()),a=e.rect.getSize(),goog.math.Size.equals(o,a)||goog.style.setBorderBoxSize(t,a)),e.status},goog.positioning.getPositionAtCoordinate=function(e,t,o,n,r,i){e=e.clone(),t=t.clone();var a=goog.positioning.OverflowStatus.NONE;return(n||o!=goog.positioning.Corner.TOP_LEFT)&&(o&goog.positioning.CornerBit.RIGHT?e.x-=t.width+(n?n.right:0):o&goog.positioning.CornerBit.CENTER?e.x-=t.width/2:n&&(e.x+=n.left),o&goog.positioning.CornerBit.BOTTOM?e.y-=t.height+(n?n.bottom:0):n&&(e.y+=n.top)),i&&(a=r?goog.positioning.adjustForViewport_(e,t,r,i):goog.positioning.OverflowStatus.FAILED_OUTSIDE_VIEWPORT),(o=new goog.math.Rect(0,0,0,0)).left=e.x,o.top=e.y,o.width=t.width,o.height=t.height,{rect:o,status:a}},goog.positioning.adjustForViewport_=function(e,t,o,n){var r=goog.positioning.OverflowStatus.NONE,i=goog.positioning.Overflow.ADJUST_X_EXCEPT_OFFSCREEN,a=goog.positioning.Overflow.ADJUST_Y_EXCEPT_OFFSCREEN;return(n&i)==i&&(e.x<o.left||e.x>=o.right)&&(n&=~goog.positioning.Overflow.ADJUST_X),(n&a)==a&&(e.y<o.top||e.y>=o.bottom)&&(n&=~goog.positioning.Overflow.ADJUST_Y),e.x<o.left&&n&goog.positioning.Overflow.ADJUST_X&&(e.x=o.left,r|=goog.positioning.OverflowStatus.ADJUSTED_X),n&goog.positioning.Overflow.RESIZE_WIDTH&&(i=e.x,e.x<o.left&&(e.x=o.left,r|=goog.positioning.OverflowStatus.WIDTH_ADJUSTED),e.x+t.width>o.right&&(t.width=Math.min(o.right-e.x,i+t.width-o.left),t.width=Math.max(t.width,0),r|=goog.positioning.OverflowStatus.WIDTH_ADJUSTED)),e.x+t.width>o.right&&n&goog.positioning.Overflow.ADJUST_X&&(e.x=Math.max(o.right-t.width,o.left),r|=goog.positioning.OverflowStatus.ADJUSTED_X),n&goog.positioning.Overflow.FAIL_X&&(r|=(e.x<o.left?goog.positioning.OverflowStatus.FAILED_LEFT:0)|(e.x+t.width>o.right?goog.positioning.OverflowStatus.FAILED_RIGHT:0)),e.y<o.top&&n&goog.positioning.Overflow.ADJUST_Y&&(e.y=o.top,r|=goog.positioning.OverflowStatus.ADJUSTED_Y),n&goog.positioning.Overflow.RESIZE_HEIGHT&&(i=e.y,e.y<o.top&&(e.y=o.top,r|=goog.positioning.OverflowStatus.HEIGHT_ADJUSTED),e.y+t.height>o.bottom&&(t.height=Math.min(o.bottom-e.y,i+t.height-o.top),t.height=Math.max(t.height,0),r|=goog.positioning.OverflowStatus.HEIGHT_ADJUSTED)),e.y+t.height>o.bottom&&n&goog.positioning.Overflow.ADJUST_Y&&(e.y=Math.max(o.bottom-t.height,o.top),r|=goog.positioning.OverflowStatus.ADJUSTED_Y),n&goog.positioning.Overflow.FAIL_Y&&(r|=(e.y<o.top?goog.positioning.OverflowStatus.FAILED_TOP:0)|(e.y+t.height>o.bottom?goog.positioning.OverflowStatus.FAILED_BOTTOM:0)),r},goog.positioning.getEffectiveCorner=function(e,t){return(t&goog.positioning.CornerBit.FLIP_RTL&&goog.style.isRightToLeft(e)?t^goog.positioning.CornerBit.RIGHT:t)&~goog.positioning.CornerBit.FLIP_RTL},goog.positioning.flipCornerHorizontal=function(e){return e^goog.positioning.CornerBit.RIGHT},goog.positioning.flipCornerVertical=function(e){return e^goog.positioning.CornerBit.BOTTOM},goog.positioning.flipCorner=function(e){return e^goog.positioning.CornerBit.BOTTOM^goog.positioning.CornerBit.RIGHT},goog.positioning.AbstractPosition=function(){},goog.positioning.AbstractPosition.prototype.reposition=function(e,t,o,n){},goog.positioning.AnchoredPosition=function(e,t,o){this.element=e,this.corner=t,this.overflow_=o},goog.inherits(goog.positioning.AnchoredPosition,goog.positioning.AbstractPosition),goog.positioning.AnchoredPosition.prototype.reposition=function(e,t,o,n){goog.positioning.positionAtAnchor(this.element,this.corner,e,t,void 0,o,this.overflow_)},goog.positioning.AnchoredViewportPosition=function(e,t,o,n){goog.positioning.AnchoredPosition.call(this,e,t),this.lastResortOverflow_=o?goog.positioning.Overflow.ADJUST_X|goog.positioning.Overflow.ADJUST_Y:goog.positioning.Overflow.IGNORE,this.overflowConstraint_=n||void 0},goog.inherits(goog.positioning.AnchoredViewportPosition,goog.positioning.AnchoredPosition),goog.positioning.AnchoredViewportPosition.prototype.getOverflowConstraint=function(){return this.overflowConstraint_},goog.positioning.AnchoredViewportPosition.prototype.setOverflowConstraint=function(e){this.overflowConstraint_=e},goog.positioning.AnchoredViewportPosition.prototype.getLastResortOverflow=function(){return this.lastResortOverflow_},goog.positioning.AnchoredViewportPosition.prototype.setLastResortOverflow=function(e){this.lastResortOverflow_=e},goog.positioning.AnchoredViewportPosition.prototype.reposition=function(e,t,o,n){var r=goog.positioning.positionAtAnchor(this.element,this.corner,e,t,null,o,goog.positioning.Overflow.FAIL_X|goog.positioning.Overflow.FAIL_Y,n,this.overflowConstraint_);if(r&goog.positioning.OverflowStatus.FAILED){var i=this.adjustCorner(r,this.corner);t=this.adjustCorner(r,t),(r=goog.positioning.positionAtAnchor(this.element,i,e,t,null,o,goog.positioning.Overflow.FAIL_X|goog.positioning.Overflow.FAIL_Y,n,this.overflowConstraint_))&goog.positioning.OverflowStatus.FAILED&&(i=this.adjustCorner(r,i),t=this.adjustCorner(r,t),goog.positioning.positionAtAnchor(this.element,i,e,t,null,o,this.getLastResortOverflow(),n,this.overflowConstraint_))}},goog.positioning.AnchoredViewportPosition.prototype.adjustCorner=function(e,t){return e&goog.positioning.OverflowStatus.FAILED_HORIZONTAL&&(t=goog.positioning.flipCornerHorizontal(t)),e&goog.positioning.OverflowStatus.FAILED_VERTICAL&&(t=goog.positioning.flipCornerVertical(t)),t},goog.positioning.MenuAnchoredPosition=function(e,t,o,n){goog.positioning.AnchoredViewportPosition.call(this,e,t,o||n),(o||n)&&this.setLastResortOverflow(goog.positioning.Overflow.ADJUST_X_EXCEPT_OFFSCREEN|(n?goog.positioning.Overflow.RESIZE_HEIGHT:goog.positioning.Overflow.ADJUST_Y_EXCEPT_OFFSCREEN))},goog.inherits(goog.positioning.MenuAnchoredPosition,goog.positioning.AnchoredViewportPosition),goog.ui.CustomButtonRenderer=function(){goog.ui.ButtonRenderer.call(this)},goog.inherits(goog.ui.CustomButtonRenderer,goog.ui.ButtonRenderer),goog.addSingletonGetter(goog.ui.CustomButtonRenderer),goog.ui.CustomButtonRenderer.CSS_CLASS="goog-custom-button",goog.ui.CustomButtonRenderer.prototype.createDom=function(e){var t=this.getClassNames(e);return t={class:goog.ui.INLINE_BLOCK_CLASSNAME+" "+t.join(" ")},t=e.getDomHelper().createDom("DIV",t,this.createButton(e.getContent(),e.getDomHelper())),this.setTooltip(t,e.getTooltip()),t},goog.ui.CustomButtonRenderer.prototype.getAriaRole=function(){return goog.a11y.aria.Role.BUTTON},goog.ui.CustomButtonRenderer.prototype.getContentElement=function(e){return e&&e.firstChild&&e.firstChild.firstChild},goog.ui.CustomButtonRenderer.prototype.createButton=function(e,t){return t.createDom("DIV",goog.ui.INLINE_BLOCK_CLASSNAME+" "+this.getCssClass()+"-outer-box",t.createDom("DIV",goog.ui.INLINE_BLOCK_CLASSNAME+" "+this.getCssClass()+"-inner-box",e))},goog.ui.CustomButtonRenderer.prototype.canDecorate=function(e){return"DIV"==e.tagName},goog.ui.CustomButtonRenderer.prototype.hasBoxStructure=function(e,t){t=e.getDomHelper().getFirstElementChild(t);var o=this.getCssClass()+"-outer-box";return!!(t&&goog.dom.classlist.contains(t,o)&&(e=e.getDomHelper().getFirstElementChild(t),t=this.getCssClass()+"-inner-box",e&&goog.dom.classlist.contains(e,t)))},goog.ui.CustomButtonRenderer.prototype.decorate=function(e,t){return goog.asserts.assert(t),goog.ui.CustomButtonRenderer.trimTextNodes_(t,!0),goog.ui.CustomButtonRenderer.trimTextNodes_(t,!1),this.hasBoxStructure(e,t)||t.appendChild(this.createButton(t.childNodes,e.getDomHelper())),goog.dom.classlist.addAll(t,[goog.ui.INLINE_BLOCK_CLASSNAME,this.getCssClass()]),goog.ui.CustomButtonRenderer.superClass_.decorate.call(this,e,t)},goog.ui.CustomButtonRenderer.prototype.getCssClass=function(){return goog.ui.CustomButtonRenderer.CSS_CLASS},goog.ui.CustomButtonRenderer.trimTextNodes_=function(e,t){if(e)for(var o,n=t?e.firstChild:e.lastChild;n&&n.parentNode==e&&(o=t?n.nextSibling:n.previousSibling,n.nodeType==goog.dom.NodeType.TEXT);){var r=n.nodeValue;if(""!=goog.string.trim(r)){n.nodeValue=t?goog.string.trimLeft(r):goog.string.trimRight(r);break}e.removeChild(n),n=o}},goog.ui.MenuButtonRenderer=function(){goog.ui.CustomButtonRenderer.call(this)},goog.inherits(goog.ui.MenuButtonRenderer,goog.ui.CustomButtonRenderer),goog.addSingletonGetter(goog.ui.MenuButtonRenderer),goog.ui.MenuButtonRenderer.CSS_CLASS="goog-menu-button",goog.ui.MenuButtonRenderer.prototype.getContentElement=function(e){return goog.ui.MenuButtonRenderer.superClass_.getContentElement.call(this,e&&e.firstChild)},goog.ui.MenuButtonRenderer.prototype.decorate=function(e,t){var o=goog.dom.getElementsByTagNameAndClass("*",goog.ui.MenuRenderer.CSS_CLASS,t)[0];if(o){goog.style.setElementShown(o,!1),goog.dom.appendChild(goog.dom.getOwnerDocument(o).body,o);var n=new goog.ui.Menu;n.decorate(o),e.setMenu(n)}return goog.ui.MenuButtonRenderer.superClass_.decorate.call(this,e,t)},goog.ui.MenuButtonRenderer.prototype.createButton=function(e,t){return goog.ui.MenuButtonRenderer.superClass_.createButton.call(this,[this.createCaption(e,t),this.createDropdown(t)],t)},goog.ui.MenuButtonRenderer.prototype.createCaption=function(e,t){return goog.ui.MenuButtonRenderer.wrapCaption(e,this.getCssClass(),t)},goog.ui.MenuButtonRenderer.wrapCaption=function(e,t,o){return o.createDom("DIV",goog.ui.INLINE_BLOCK_CLASSNAME+" "+t+"-caption",e)},goog.ui.MenuButtonRenderer.prototype.createDropdown=function(e){return e.createDom("DIV",goog.ui.INLINE_BLOCK_CLASSNAME+" "+this.getCssClass()+"-dropdown"," ")},goog.ui.MenuButtonRenderer.prototype.getCssClass=function(){return goog.ui.MenuButtonRenderer.CSS_CLASS},goog.userAgent.product={},goog.userAgent.product.ASSUME_FIREFOX=!1,goog.userAgent.product.ASSUME_IPHONE=!1,goog.userAgent.product.ASSUME_IPAD=!1,goog.userAgent.product.ASSUME_ANDROID=!1,goog.userAgent.product.ASSUME_CHROME=!1,goog.userAgent.product.ASSUME_SAFARI=!1,goog.userAgent.product.PRODUCT_KNOWN_=goog.userAgent.ASSUME_IE||goog.userAgent.ASSUME_EDGE||goog.userAgent.ASSUME_OPERA||goog.userAgent.product.ASSUME_FIREFOX||goog.userAgent.product.ASSUME_IPHONE||goog.userAgent.product.ASSUME_IPAD||goog.userAgent.product.ASSUME_ANDROID||goog.userAgent.product.ASSUME_CHROME||goog.userAgent.product.ASSUME_SAFARI,goog.userAgent.product.OPERA=goog.userAgent.OPERA,goog.userAgent.product.IE=goog.userAgent.IE,goog.userAgent.product.EDGE=goog.userAgent.EDGE,goog.userAgent.product.FIREFOX=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_FIREFOX:goog.labs.userAgent.browser.isFirefox(),goog.userAgent.product.isIphoneOrIpod_=function(){return goog.labs.userAgent.platform.isIphone()||goog.labs.userAgent.platform.isIpod()},goog.userAgent.product.IPHONE=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_IPHONE:goog.userAgent.product.isIphoneOrIpod_(),goog.userAgent.product.IPAD=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_IPAD:goog.labs.userAgent.platform.isIpad(),goog.userAgent.product.ANDROID=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_ANDROID:goog.labs.userAgent.browser.isAndroidBrowser(),goog.userAgent.product.CHROME=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_CHROME:goog.labs.userAgent.browser.isChrome(),goog.userAgent.product.isSafariDesktop_=function(){return goog.labs.userAgent.browser.isSafari()&&!goog.labs.userAgent.platform.isIos()},goog.userAgent.product.SAFARI=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_SAFARI:goog.userAgent.product.isSafariDesktop_(),goog.ui.MenuButton=function(e,t,o,n,r){goog.ui.Button.call(this,e,o||goog.ui.MenuButtonRenderer.getInstance(),n),this.setSupportedState(goog.ui.Component.State.OPENED,!0),this.menuPosition_=new goog.positioning.MenuAnchoredPosition(null,goog.positioning.Corner.BOTTOM_START),t&&this.setMenu(t),this.menuMargin_=null,this.timer_=new goog.Timer(500),!goog.userAgent.product.IPHONE&&!goog.userAgent.product.IPAD||goog.userAgent.isVersionOrHigher("533.17.9")||this.setFocusablePopupMenu(!0),this.menuRenderer_=r||goog.ui.MenuRenderer.getInstance()},goog.inherits(goog.ui.MenuButton,goog.ui.Button),goog.tagUnsealableClass(goog.ui.MenuButton),goog.ui.MenuButton.prototype.isFocusablePopupMenu_=!1,goog.ui.MenuButton.prototype.renderMenuAsSibling_=!1,goog.ui.MenuButton.prototype.selectFirstOnEnterOrSpace_=!1,goog.ui.MenuButton.prototype.enterDocument=function(){goog.ui.MenuButton.superClass_.enterDocument.call(this),this.attachKeyDownEventListener_(!0),this.menu_&&this.attachMenuEventListeners_(this.menu_,!0),goog.a11y.aria.setState(this.getElementStrict(),goog.a11y.aria.State.HASPOPUP,!!this.menu_)},goog.ui.MenuButton.prototype.exitDocument=function(){if(goog.ui.MenuButton.superClass_.exitDocument.call(this),this.attachKeyDownEventListener_(!1),this.menu_){this.setOpen(!1),this.menu_.exitDocument(),this.attachMenuEventListeners_(this.menu_,!1);var e=this.menu_.getElement();e&&goog.dom.removeNode(e)}},goog.ui.MenuButton.prototype.disposeInternal=function(){goog.ui.MenuButton.superClass_.disposeInternal.call(this),this.menu_&&(this.menu_.dispose(),delete this.menu_),delete this.positionElement_,this.timer_.dispose()},goog.ui.MenuButton.prototype.handleMouseDown=function(e){goog.ui.MenuButton.superClass_.handleMouseDown.call(this,e),this.isActive()&&(this.setOpen(!this.isOpen(),e),this.menu_&&this.menu_.setMouseButtonPressed(this.isOpen()))},goog.ui.MenuButton.prototype.handleMouseUp=function(e){goog.ui.MenuButton.superClass_.handleMouseUp.call(this,e),this.menu_&&!this.isActive()&&this.menu_.setMouseButtonPressed(!1)},goog.ui.MenuButton.prototype.performActionInternal=function(e){return this.setActive(!1),!0},goog.ui.MenuButton.prototype.handleDocumentMouseDown=function(e){this.menu_&&this.menu_.isVisible()&&!this.containsElement(e.target)&&this.setOpen(!1)},goog.ui.MenuButton.prototype.containsElement=function(e){return e&&goog.dom.contains(this.getElement(),e)||this.menu_&&this.menu_.containsElement(e)||!1},goog.ui.MenuButton.prototype.handleKeyEventInternal=function(e){if(e.keyCode==goog.events.KeyCodes.SPACE){if(e.preventDefault(),e.type!=goog.events.EventType.KEYUP)return!0}else if(e.type!=goog.events.KeyHandler.EventType.KEY)return!1;if(this.menu_&&this.menu_.isVisible()){var t=e.keyCode==goog.events.KeyCodes.ENTER||e.keyCode==goog.events.KeyCodes.SPACE,o=this.menu_.handleKeyEvent(e);return e.keyCode==goog.events.KeyCodes.ESC||t?(this.setOpen(!1),!0):o}return(e.keyCode==goog.events.KeyCodes.DOWN||e.keyCode==goog.events.KeyCodes.UP||e.keyCode==goog.events.KeyCodes.SPACE||e.keyCode==goog.events.KeyCodes.ENTER)&&(this.setOpen(!0,e),!0)},goog.ui.MenuButton.prototype.handleMenuAction=function(e){this.setOpen(!1)},goog.ui.MenuButton.prototype.handleMenuBlur=function(e){this.isActive()||this.setOpen(!1)},goog.ui.MenuButton.prototype.handleBlur=function(e){this.isFocusablePopupMenu()||this.setOpen(!1),goog.ui.MenuButton.superClass_.handleBlur.call(this,e)},goog.ui.MenuButton.prototype.getMenu=function(){return this.menu_||this.setMenu(new goog.ui.Menu(this.getDomHelper(),this.menuRenderer_)),this.menu_||null},goog.ui.MenuButton.prototype.setMenu=function(e){var t=this.menu_;return e!=t&&(t&&(this.setOpen(!1),this.isInDocument()&&this.attachMenuEventListeners_(t,!1),delete this.menu_),this.isInDocument()&&goog.a11y.aria.setState(this.getElementStrict(),goog.a11y.aria.State.HASPOPUP,!!e),e&&((this.menu_=e).setParent(this),e.setVisible(!1),e.setAllowAutoFocus(this.isFocusablePopupMenu()),this.isInDocument()&&this.attachMenuEventListeners_(e,!0))),t},goog.ui.MenuButton.prototype.setMenuPosition=function(e){e&&(this.menuPosition_=e,this.positionElement_=e.element)},goog.ui.MenuButton.prototype.setPositionElement=function(e){this.positionElement_=e,this.positionMenu()},goog.ui.MenuButton.prototype.setMenuMargin=function(e){this.menuMargin_=e},goog.ui.MenuButton.prototype.setSelectFirstOnEnterOrSpace=function(e){this.selectFirstOnEnterOrSpace_=e},goog.ui.MenuButton.prototype.addItem=function(e){this.getMenu().addChild(e,!0)},goog.ui.MenuButton.prototype.addItemAt=function(e,t){this.getMenu().addChildAt(e,t,!0)},goog.ui.MenuButton.prototype.removeItem=function(e){(e=this.getMenu().removeChild(e,!0))&&e.dispose()},goog.ui.MenuButton.prototype.removeItemAt=function(e){(e=this.getMenu().removeChildAt(e,!0))&&e.dispose()},goog.ui.MenuButton.prototype.getItemAt=function(e){return this.menu_?this.menu_.getChildAt(e):null},goog.ui.MenuButton.prototype.getItemCount=function(){return this.menu_?this.menu_.getChildCount():0},goog.ui.MenuButton.prototype.setVisible=function(e,t){return(e=goog.ui.MenuButton.superClass_.setVisible.call(this,e,t))&&!this.isVisible()&&this.setOpen(!1),e},goog.ui.MenuButton.prototype.setEnabled=function(e){goog.ui.MenuButton.superClass_.setEnabled.call(this,e),this.isEnabled()||this.setOpen(!1)},goog.ui.MenuButton.prototype.isAlignMenuToStart=function(){var e=this.menuPosition_.corner;return e==goog.positioning.Corner.BOTTOM_START||e==goog.positioning.Corner.TOP_START},goog.ui.MenuButton.prototype.setAlignMenuToStart=function(e){this.menuPosition_.corner=e?goog.positioning.Corner.BOTTOM_START:goog.positioning.Corner.BOTTOM_END},goog.ui.MenuButton.prototype.setScrollOnOverflow=function(e){this.menuPosition_.setLastResortOverflow&&this.menuPosition_.setLastResortOverflow(goog.positioning.Overflow.ADJUST_X|(e?goog.positioning.Overflow.RESIZE_HEIGHT:goog.positioning.Overflow.ADJUST_Y))},goog.ui.MenuButton.prototype.isScrollOnOverflow=function(){return this.menuPosition_.getLastResortOverflow&&!!(this.menuPosition_.getLastResortOverflow()&goog.positioning.Overflow.RESIZE_HEIGHT)},goog.ui.MenuButton.prototype.isFocusablePopupMenu=function(){return this.isFocusablePopupMenu_},goog.ui.MenuButton.prototype.setFocusablePopupMenu=function(e){this.isFocusablePopupMenu_=e},goog.ui.MenuButton.prototype.setRenderMenuAsSibling=function(e){this.renderMenuAsSibling_=e},goog.ui.MenuButton.prototype.showMenu=function(){this.setOpen(!0)},goog.ui.MenuButton.prototype.hideMenu=function(){this.setOpen(!1)},goog.ui.MenuButton.prototype.setOpen=function(e,t){if(goog.ui.MenuButton.superClass_.setOpen.call(this,e),this.menu_&&this.hasState(goog.ui.Component.State.OPENED)==e){if(e){if(!this.menu_.isInDocument())if(this.renderMenuAsSibling_){var o=goog.dom.getNextElementSibling(this.getElement());o?this.menu_.renderBefore(o):this.menu_.render(this.getElement().parentNode)}else this.menu_.render();this.viewportBox_=goog.style.getVisibleRectForElement(this.getElement()),this.buttonRect_=goog.style.getBounds(this.getElement()),this.positionMenu(),o=!!t&&(t.keyCode==goog.events.KeyCodes.ENTER||t.keyCode==goog.events.KeyCodes.SPACE),t&&(t.keyCode==goog.events.KeyCodes.DOWN||t.keyCode==goog.events.KeyCodes.UP)||o&&this.selectFirstOnEnterOrSpace_?this.menu_.highlightFirst():this.menu_.setHighlightedIndex(-1)}else this.setActive(!1),this.menu_.setMouseButtonPressed(!1),(o=this.getElement())&&(goog.a11y.aria.setState(o,goog.a11y.aria.State.ACTIVEDESCENDANT,""),goog.a11y.aria.setState(o,goog.a11y.aria.State.OWNS,"")),goog.isDefAndNotNull(this.originalSize_)&&(this.originalSize_=void 0,(o=this.menu_.getElement())&&goog.style.setSize(o,"",""));this.menu_.setVisible(e,!1,t),this.isDisposed()||this.attachPopupListeners_(e)}this.menu_&&this.menu_.getElement()&&goog.a11y.aria.removeState(this.menu_.getElementStrict(),goog.a11y.aria.State.HIDDEN)},goog.ui.MenuButton.prototype.invalidateMenuSize=function(){this.originalSize_=void 0},goog.ui.MenuButton.prototype.positionMenu=function(){if(this.menu_.isInDocument()){var e=this.positionElement_||this.getElement(),t=this.menuPosition_;this.menuPosition_.element=e,e=this.menu_.getElement(),this.menu_.isVisible()||(e.style.visibility="hidden",goog.style.setElementShown(e,!0)),!this.originalSize_&&this.isScrollOnOverflow()&&(this.originalSize_=goog.style.getSize(e));var o=goog.positioning.flipCornerVertical(t.corner);t.reposition(e,o,this.menuMargin_,this.originalSize_),this.menu_.isVisible()||(goog.style.setElementShown(e,!1),e.style.visibility="visible")}},goog.ui.MenuButton.prototype.onTick_=function(e){e=goog.style.getBounds(this.getElement());var t=goog.style.getVisibleRectForElement(this.getElement());goog.math.Rect.equals(this.buttonRect_,e)&&goog.math.Box.equals(this.viewportBox_,t)||(this.buttonRect_=e,this.viewportBox_=t,this.positionMenu())},goog.ui.MenuButton.prototype.attachMenuEventListeners_=function(e,t){var o=this.getHandler();(t=t?o.listen:o.unlisten).call(o,e,goog.ui.Component.EventType.ACTION,this.handleMenuAction),t.call(o,e,goog.ui.Component.EventType.CLOSE,this.handleCloseItem),t.call(o,e,goog.ui.Component.EventType.HIGHLIGHT,this.handleHighlightItem),t.call(o,e,goog.ui.Component.EventType.UNHIGHLIGHT,this.handleUnHighlightItem)},goog.ui.MenuButton.prototype.attachKeyDownEventListener_=function(e){var t=this.getHandler();(e?t.listen:t.unlisten).call(t,this.getElement(),goog.events.EventType.KEYDOWN,this.handleKeyDownEvent_)},goog.ui.MenuButton.prototype.handleHighlightItem=function(e){(e=e.target.getElement())&&this.setAriaActiveDescendant_(e)},goog.ui.MenuButton.prototype.handleKeyDownEvent_=function(e){this.isSupportedState(goog.ui.Component.State.FOCUSED)&&this.getKeyEventTarget()&&this.menu_&&this.menu_.isVisible()&&e.stopPropagation()},goog.ui.MenuButton.prototype.handleUnHighlightItem=function(e){this.menu_.getHighlighted()||(e=this.getElement(),goog.asserts.assert(e,"The menu button DOM element cannot be null."),goog.a11y.aria.setState(e,goog.a11y.aria.State.ACTIVEDESCENDANT,""),goog.a11y.aria.setState(e,goog.a11y.aria.State.OWNS,""))},goog.ui.MenuButton.prototype.handleCloseItem=function(e){if(this.isOpen()&&e.target instanceof goog.ui.MenuItem){var t=(e=e.target).getElement();e.isVisible()&&e.isHighlighted()&&null!=t&&this.setAriaActiveDescendant_(t)}},goog.ui.MenuButton.prototype.setAriaActiveDescendant_=function(e){var t=this.getElement();if(goog.asserts.assert(t,"The menu button DOM element cannot be null."),!(e=goog.a11y.aria.getActiveDescendant(e)||e).id){var o=goog.ui.IdGenerator.getInstance();e.id=o.getNextUniqueId()}goog.a11y.aria.setActiveDescendant(t,e),goog.a11y.aria.setState(t,goog.a11y.aria.State.OWNS,e.id)},goog.ui.MenuButton.prototype.attachPopupListeners_=function(e){var t=this.getHandler(),o=e?t.listen:t.unlisten;o.call(t,this.getDomHelper().getDocument(),goog.events.EventType.MOUSEDOWN,this.handleDocumentMouseDown,!0),this.isFocusablePopupMenu()&&o.call(t,this.menu_,goog.ui.Component.EventType.BLUR,this.handleMenuBlur),o.call(t,this.timer_,goog.Timer.TICK,this.onTick_),e?this.timer_.start():this.timer_.stop()},goog.ui.registry.setDecoratorByClassName(goog.ui.MenuButtonRenderer.CSS_CLASS,function(){return new goog.ui.MenuButton(null)}),goog.ui.FlatMenuButtonRenderer=function(){goog.ui.FlatButtonRenderer.call(this)},goog.inherits(goog.ui.FlatMenuButtonRenderer,goog.ui.FlatButtonRenderer),goog.addSingletonGetter(goog.ui.FlatMenuButtonRenderer),goog.ui.FlatMenuButtonRenderer.CSS_CLASS="goog-flat-menu-button",goog.ui.FlatMenuButtonRenderer.prototype.createDom=function(e){var t=this.getClassNames(e);return t={class:goog.ui.INLINE_BLOCK_CLASSNAME+" "+t.join(" ")},t=e.getDomHelper().createDom("DIV",t,[this.createCaption(e.getContent(),e.getDomHelper()),this.createDropdown(e.getDomHelper())]),this.setTooltip(t,e.getTooltip()),t},goog.ui.FlatMenuButtonRenderer.prototype.getContentElement=function(e){return e&&e.firstChild},goog.ui.FlatMenuButtonRenderer.prototype.decorate=function(e,t){var o=goog.dom.getElementsByTagNameAndClass("*",goog.ui.MenuRenderer.CSS_CLASS,t)[0];if(o){goog.style.setElementShown(o,!1),e.getDomHelper().getDocument().body.appendChild(o);var n=new goog.ui.Menu;n.decorate(o),e.setMenu(n)}return goog.dom.getElementsByTagNameAndClass("*",this.getCssClass()+"-caption",t)[0]||t.appendChild(this.createCaption(t.childNodes,e.getDomHelper())),goog.dom.getElementsByTagNameAndClass("*",this.getCssClass()+"-dropdown",t)[0]||t.appendChild(this.createDropdown(e.getDomHelper())),goog.ui.FlatMenuButtonRenderer.superClass_.decorate.call(this,e,t)},goog.ui.FlatMenuButtonRenderer.prototype.createCaption=function(e,t){return t.createDom("DIV",goog.ui.INLINE_BLOCK_CLASSNAME+" "+this.getCssClass()+"-caption",e)},goog.ui.FlatMenuButtonRenderer.prototype.createDropdown=function(e){return e.createDom("DIV",{class:goog.ui.INLINE_BLOCK_CLASSNAME+" "+this.getCssClass()+"-dropdown","aria-hidden":!0}," ")},goog.ui.FlatMenuButtonRenderer.prototype.getCssClass=function(){return goog.ui.FlatMenuButtonRenderer.CSS_CLASS},goog.ui.registry.setDecoratorByClassName(goog.ui.FlatMenuButtonRenderer.CSS_CLASS,function(){return new goog.ui.MenuButton(null,null,goog.ui.FlatMenuButtonRenderer.getInstance())}),goog.ui.Option=function(e,t,o){goog.ui.MenuItem.call(this,e,t,o),this.setSelectable(!0)},goog.inherits(goog.ui.Option,goog.ui.MenuItem),goog.ui.Option.prototype.performActionInternal=function(e){return this.dispatchEvent(goog.ui.Component.EventType.ACTION)},goog.ui.registry.setDecoratorByClassName("goog-option",function(){return new goog.ui.Option(null)}),goog.ui.Select=function(e,t,o,n,r){goog.ui.MenuButton.call(this,e,t,o,n,r||new goog.ui.MenuRenderer(goog.a11y.aria.Role.LISTBOX)),this.defaultCaption_=this.getContent(),this.initialAriaLabel_=null,this.setPreferredAriaRole(goog.a11y.aria.Role.LISTBOX)},goog.inherits(goog.ui.Select,goog.ui.MenuButton),goog.tagUnsealableClass(goog.ui.Select),goog.ui.Select.prototype.selectionModel_=null,goog.ui.Select.prototype.enterDocument=function(){goog.ui.Select.superClass_.enterDocument.call(this),this.updateCaption(),this.listenToSelectionModelEvents_()},goog.ui.Select.prototype.decorateInternal=function(e){goog.ui.Select.superClass_.decorateInternal.call(this,e),(e=this.getCaption())?this.setDefaultCaption(e):this.getSelectedItem()||this.setSelectedIndex(0)},goog.ui.Select.prototype.disposeInternal=function(){goog.ui.Select.superClass_.disposeInternal.call(this),this.selectionModel_&&(this.selectionModel_.dispose(),this.selectionModel_=null),this.defaultCaption_=null},goog.ui.Select.prototype.handleMenuAction=function(e){this.setSelectedItem(e.target),goog.ui.Select.superClass_.handleMenuAction.call(this,e),e.stopPropagation(),this.dispatchEvent(goog.ui.Component.EventType.ACTION)},goog.ui.Select.prototype.handleSelectionChange=function(e){e=this.getSelectedItem(),goog.ui.Select.superClass_.setValue.call(this,e&&e.getValue()),this.updateCaption()},goog.ui.Select.prototype.setMenu=function(e){var t=goog.ui.Select.superClass_.setMenu.call(this,e);return e!=t&&(this.selectionModel_&&this.selectionModel_.clear(),e&&(this.selectionModel_?e.forEachChild(function(e,t){this.setCorrectAriaRole_(e),this.selectionModel_.addItem(e)},this):this.createSelectionModel_(e))),t},goog.ui.Select.prototype.getDefaultCaption=function(){return this.defaultCaption_},goog.ui.Select.prototype.setDefaultCaption=function(e){this.defaultCaption_=e,this.updateCaption()},goog.ui.Select.prototype.addItem=function(e){this.setCorrectAriaRole_(e),goog.ui.Select.superClass_.addItem.call(this,e),this.selectionModel_?this.selectionModel_.addItem(e):this.createSelectionModel_(this.getMenu()),this.updateAriaActiveDescendant_()},goog.ui.Select.prototype.addItemAt=function(e,t){this.setCorrectAriaRole_(e),goog.ui.Select.superClass_.addItemAt.call(this,e,t),this.selectionModel_?this.selectionModel_.addItemAt(e,t):this.createSelectionModel_(this.getMenu())},goog.ui.Select.prototype.removeItem=function(e){goog.ui.Select.superClass_.removeItem.call(this,e),this.selectionModel_&&this.selectionModel_.removeItem(e)},goog.ui.Select.prototype.removeItemAt=function(e){goog.ui.Select.superClass_.removeItemAt.call(this,e),this.selectionModel_&&this.selectionModel_.removeItemAt(e)},goog.ui.Select.prototype.setSelectedItem=function(e){if(this.selectionModel_){var t=this.getSelectedItem();this.selectionModel_.setSelectedItem(e),e!=t&&this.dispatchEvent(goog.ui.Component.EventType.CHANGE)}},goog.ui.Select.prototype.setSelectedIndex=function(e){this.selectionModel_&&this.setSelectedItem(this.selectionModel_.getItemAt(e))},goog.ui.Select.prototype.setValue=function(e){if(goog.isDefAndNotNull(e)&&this.selectionModel_)for(var t,o=0;t=this.selectionModel_.getItemAt(o);o++)if(t&&"function"==typeof t.getValue&&t.getValue()==e)return void this.setSelectedItem(t);this.setSelectedItem(null)},goog.ui.Select.prototype.getValue=function(){var e=this.getSelectedItem();return e?e.getValue():null},goog.ui.Select.prototype.getSelectedItem=function(){return this.selectionModel_?this.selectionModel_.getSelectedItem():null},goog.ui.Select.prototype.getSelectedIndex=function(){return this.selectionModel_?this.selectionModel_.getSelectedIndex():-1},goog.ui.Select.prototype.getSelectionModel=function(){return this.selectionModel_},goog.ui.Select.prototype.createSelectionModel_=function(e){this.selectionModel_=new goog.ui.SelectionModel,e&&e.forEachChild(function(e,t){this.setCorrectAriaRole_(e),this.selectionModel_.addItem(e)},this),this.listenToSelectionModelEvents_()},goog.ui.Select.prototype.listenToSelectionModelEvents_=function(){this.selectionModel_&&this.getHandler().listen(this.selectionModel_,goog.events.EventType.SELECT,this.handleSelectionChange)},goog.ui.Select.prototype.updateCaption=function(){var e=this.getSelectedItem();this.setContent(e?e.getCaption():this.defaultCaption_);var t=this.getRenderer().getContentElement(this.getElement());t&&this.getDomHelper().isElement(t)&&(null==this.initialAriaLabel_&&(this.initialAriaLabel_=goog.a11y.aria.getLabel(t)),e=e?e.getElement():null,goog.a11y.aria.setLabel(t,e?goog.a11y.aria.getLabel(e):this.initialAriaLabel_),this.updateAriaActiveDescendant_())},goog.ui.Select.prototype.updateAriaActiveDescendant_=function(){var e=this.getRenderer();if(e&&(e=e.getContentElement(this.getElement()))){var t=this.getElementStrict();if(e.id||(e.id=goog.ui.IdGenerator.getInstance().getNextUniqueId()),goog.a11y.aria.setRole(e,goog.a11y.aria.Role.OPTION),goog.a11y.aria.setState(t,goog.a11y.aria.State.ACTIVEDESCENDANT,e.id),this.selectionModel_){t=this.selectionModel_.getItems(),goog.a11y.aria.setState(e,goog.a11y.aria.State.SETSIZE,this.getNumMenuItems_(t));var o=this.selectionModel_.getSelectedIndex();goog.a11y.aria.setState(e,goog.a11y.aria.State.POSINSET,0<=o?this.getNumMenuItems_(goog.array.slice(t,0,o+1)):0)}}},goog.ui.Select.prototype.getNumMenuItems_=function(e){return goog.array.count(e,function(e){return e instanceof goog.ui.MenuItem})},goog.ui.Select.prototype.setCorrectAriaRole_=function(e){e.setPreferredAriaRole(e instanceof goog.ui.MenuItem?goog.a11y.aria.Role.OPTION:goog.a11y.aria.Role.SEPARATOR)},goog.ui.Select.prototype.setOpen=function(e,t){goog.ui.Select.superClass_.setOpen.call(this,e,t),this.isOpen()?this.getMenu().setHighlightedIndex(this.getSelectedIndex()):this.updateAriaActiveDescendant_()},goog.ui.registry.setDecoratorByClassName("goog-select",function(){return new goog.ui.Select(null)}),goog.ui.decorate=function(e){var t=goog.ui.registry.getDecorator(e);return t&&t.decorate(e),t};var EXAMPLE_BLOCK_MARGIN_BELOW=20,EXAMPLE_BLOCK_MARGIN_LEFT=Blockly.FunctionEditor.BLOCK_LAYOUT_LEFT_MARGIN,EXAMPLE_BLOCK_SECTION_MAGIN_BELOW=10,EXAMPLE_BLOCK_SECTION_MAGIN_ABOVE=15,HEADER_HEIGHT=30,DEFAULT_EXAMPLE_CALL_SECTION_WIDTH=100,MARGIN_BLOCK_TO_CALL_SLOT=13,USER_TYPE_CHOICES=[Blockly.BlockValueType.NUMBER,Blockly.BlockValueType.STRING,Blockly.BlockValueType.IMAGE,Blockly.BlockValueType.BOOLEAN],CONTRACT_SECTION_NAME="contract",EXAMPLES_SECTION_NAME="examples",DEFINITION_SECTION_NAME="definition",HIGHLIGHT_CONFIG_SUFFIX="Highlight",COLLAPSE_CONFIG_SUFFIX="Collapse",DISABLE_EXAMPLES_CONFIG_NAME="disableExamples";Blockly.ContractEditor=function(e){Blockly.ContractEditor.superClass_.constructor.call(this),this.disableExamples_=e[DISABLE_EXAMPLES_CONFIG_NAME],this.outputTypeSelector=null,this.exampleBlocks=[],this.domainEditors_=[],this.definitionSectionView_=this.examplesSectionView_=this.contractSectionView_=null,this.allSections_=new goog.structs.LinkedMap,this.autoOpenConfig_=null,this.testHandler_=function(e){return"Block ID is "+e.id},this.testResetHandler_=function(){},this.customFailureCloseHandler_=function(){return!1},this.exampleViews_=[]},goog.inherits(Blockly.ContractEditor,Blockly.FunctionEditor),Blockly.ContractEditor.EXAMPLE_BLOCK_TYPE="functional_example",Blockly.ContractEditor.EXAMPLE_BLOCK_ACTUAL_INPUT_NAME="ACTUAL",Blockly.ContractEditor.DEFAULT_OUTPUT_TYPE=Blockly.BlockValueType.NUMBER,Blockly.ContractEditor.DEFAULT_PARAMETER_TYPE=Blockly.BlockValueType.NUMBER,Blockly.ContractEditor.GRID_LINE_COLOR="#5b6770",Blockly.ContractEditor.prototype.definitionBlockType="functional_definition",Blockly.ContractEditor.prototype.parameterBlockType="functional_parameters_get",Blockly.ContractEditor.prototype.create_=function(){Blockly.ContractEditor.superClass_.create_.call(this);var e=this.modalBlockSpace.svgBlockCanvas_,t=new Blockly.SvgHighlightBox(e,{color:YELLOW_HEX,thickness:HIGHLIGHT_BOX_WIDTH});this.contractSectionView_=new Blockly.ContractEditorSectionView(e,{sectionNumber:1,headerHeight:HEADER_HEIGHT,onCollapseCallback:goog.bind(function(e){this.contractDiv_.style.display=e?"none":"block",this.position_()},this),placeContentCallback:goog.bind(function(e){return e+this.getContractDivHeight()},this),highlightBox:t,headerText:"Contract and Purpose Statement"}),this.hiddenExampleBlocks_=[],this.exampleAreaDiv=goog.dom.createDom("div","exampleAreaDiv innerModalDiv"),this.addExampleButton=goog.dom.createDom("button","exampleAreaButton btn"),this.addExampleButton.textContent="Add Example",Blockly.bindEvent_(this.addExampleButton,"click",this,this.addNewExampleBlock_),goog.dom.append(this.exampleAreaDiv,this.addExampleButton),this.exampleAreaDiv.style.display="block",this.exampleAreaDiv.style.position="absolute",goog.dom.insertChildAt(this.frameClipDiv_,this.exampleAreaDiv,0),this.callText=goog.dom.createDom("div","callResultText"),this.callText.textContent="Call",Blockly.svgIgnoreMouseEvents(this.callText),goog.dom.appendChild(this.exampleAreaDiv,this.callText),this.resultText=goog.dom.createDom("div","callResultText"),this.resultText.textContent="Result",goog.dom.appendChild(this.exampleAreaDiv,this.resultText),Blockly.svgIgnoreMouseEvents(this.resultText),this.examplesTableGroup=Blockly.createSvgElement("g",{},e),this.topHorizontalLine=Blockly.createSvgElement("rect",{fill:Blockly.ContractEditor.GRID_LINE_COLOR},this.examplesTableGroup),this.topHorizontalLine.setAttribute("height",2),Blockly.svgIgnoreMouseEvents(this.topHorizontalLine),this.verticalExampleMidline=Blockly.createSvgElement("rect",{fill:Blockly.ContractEditor.GRID_LINE_COLOR},this.examplesTableGroup),this.verticalExampleMidline.setAttribute("width",2),this.examplesSectionView_=new Blockly.ContractEditorSectionView(e,{sectionNumber:2,headerHeight:HEADER_HEIGHT,headerText:"Examples",placeContentCallback:this.onPlaceExampleContent.bind(this),highlightBox:t,onCollapseCallback:goog.bind(function(e){this.exampleAreaDiv.style.display=e?"none":"block",this.examplesTableGroup.style.display=e?"none":"block",this.hiddenExampleBlocks_=this.setBlockSubsetVisibility(!e,goog.bind(this.isBlockInExampleArea,this),this.hiddenExampleBlocks_),this.position_()},this)}),this.hiddenDefinitionBlocks_=[],this.definitionSectionLogic_=new Blockly.ContractDefinitionSection(e),this.definitionSectionView_=new Blockly.ContractEditorSectionView(e,{sectionNumber:3,headerHeight:HEADER_HEIGHT,headerText:"Definition",onCollapseCallback:goog.bind(function(e){this.flyout_.setVisibility(!e),e||this.refreshParamsInFlyout_(),this.hiddenDefinitionBlocks_=this.setBlockSubsetVisibility(!e,goog.bind(this.isBlockInFunctionArea,this),this.hiddenDefinitionBlocks_),this.definitionSectionLogic_.handleCollapse(e),this.position_()},this),highlightBox:t,placeContentCallback:goog.bind(function(e){return this.flyout_&&(e=this.positionFlyout_(e)),this.definitionSectionLogic_.placeContent(e,this.getVerticalMidlineOffset_(),this.getFullWidth(),this.functionDefinitionBlock)},this)}),this.allSections_.set(CONTRACT_SECTION_NAME,this.contractSectionView_),this.allSections_.set(EXAMPLES_SECTION_NAME,this.examplesSectionView_),this.allSections_.set(DEFINITION_SECTION_NAME,this.definitionSectionView_)},Blockly.ContractEditor.prototype.autoOpenWithLevelConfiguration=function(e){this.autoOpenConfig_=e,Blockly.ContractEditor.superClass_.autoOpenWithLevelConfiguration.call(this,e)},Blockly.ContractEditor.prototype.setBlockSubsetVisibility=function(e,t,o){var n=[];return e?o.forEach(function(e){e.setCurrentlyHidden(!1)},this):this.modalBlockSpace.getTopBlocks().filter(t).forEach(function(e){n.push(e),e.setCurrentlyHidden(!0)},this),n},Blockly.ContractEditor.prototype.isBlockInFunctionArea=function(e){return this.isVisibleInEditor_(e)&&!this.isBlockInExampleArea(e)},Blockly.ContractEditor.prototype.isBlockInExampleArea=function(e){return this.isAnExampleBlockInEditor_(e)||e!==this.functionDefinitionBlock&&this.isVisibleInEditor_(e)&&e.getRelativeToSurfaceXY().y<this.getFlyoutTopPosition()},Blockly.ContractEditor.prototype.isVisibleInEditor_=function(e){return e.blockSpace===this.modalBlockSpace&&e.isVisible()},Blockly.ContractEditor.prototype.getFlyoutTopPosition=function(){return this.flyout_.getYPosition()-this.flyout_.getHeight()},Blockly.ContractEditor.prototype.isAnExampleBlockInEditor_=function(e){return goog.array.contains(this.exampleBlocks,e)},Blockly.ContractEditor.prototype.hideAndRestoreBlocks_=function(){Blockly.ContractEditor.superClass_.hideAndRestoreBlocks_.call(this),goog.array.clone(this.exampleBlocks).forEach(function(e){this.moveToMainBlockSpace_(e)},this),goog.array.clear(this.exampleBlocks),this.domainEditors_.forEach(function(e){e.dispose()},this),goog.array.clear(this.domainEditors_),this.outputTypeSelector.dispose(),this.outputTypeSelector=null},Blockly.ContractEditor.prototype.openAndEditFunction=function(e){Blockly.ContractEditor.superClass_.openAndEditFunction.call(this,e),this.addRangeEditor_(),this.updateFrameColorForType_(this.functionDefinitionBlock.getOutputType()),this.functionDefinitionBlock.setDeletable(!1),this.moveExampleBlocksToModal_(e),this.setupAfterExampleBlocksAdded_(),this.position_(),this.resetParamIDs_(),this.refreshParamsEverywhere()},Blockly.ContractEditor.prototype.setSectionHighlighted=function(t){this.allSections_.forEach(function(e){e.setHighlighted(e===t)},this)},Blockly.ContractEditor.prototype.addNewExampleBlock_=function(){this.addNewExampleBlockForFunction_(this.functionDefinitionBlock),this.refreshBlockInputTypes_()},Blockly.ContractEditor.prototype.addNewExampleBlockForFunction_=function(e){e=this.createExampleBlock_(e),this.addExampleBlockFromMainBlockSpace(e),this.position_()},Blockly.ContractEditor.prototype.moveExampleBlocksToModal_=function(e){Blockly.mainBlockSpace.findFunctionExamples(e).forEach(function(e){this.addExampleBlockFromMainBlockSpace(e)},this)},Blockly.ContractEditor.prototype.registerTestHandler=function(e){this.testHandler_=e},Blockly.ContractEditor.prototype.registerTestResetHandler=function(e){this.testResetHandler_=e},Blockly.ContractEditor.prototype.registerTestsFailedOnCloseHandler=function(e){this.customFailureCloseHandler_=e},Blockly.ContractEditor.prototype.addExampleBlockFromMainBlockSpace=function(e){(e=this.moveToModalBlockSpace(e)).getInputTargetBlock(Blockly.ContractEditor.EXAMPLE_BLOCK_ACTUAL_INPUT_NAME).setCanDisconnectFromParent(!1),this.exampleBlocks.push(e),e.blockEvents.listen(Blockly.Block.EVENTS.AFTER_DROPPED,function(){this.layOutBlockSpaceItems_(),this.modalBlockSpace.updateScrollableSize()}.bind(this)),e.blockEvents.listenOnce(Blockly.Block.EVENTS.AFTER_DISPOSED,this.removeExampleBlock_.bind(this,e),!1,this)},Blockly.ContractEditor.prototype.refreshBlockInputTypes_=function(){this.setBlockInputsToType_(this.currentFunctionDefinitionType_())},Blockly.ContractEditor.prototype.setBlockInputsToType_=function(t){this.exampleBlocks.concat(this.functionDefinitionBlock).forEach(function(e){e.updateInputsToType(t)},this)},Blockly.ContractEditor.prototype.currentFunctionDefinitionType_=function(){return this.functionDefinitionBlock.outputType_},Blockly.ContractEditor.prototype.removeExampleBlock_=function(e){goog.array.remove(this.exampleBlocks,e),this.position_()},Blockly.ContractEditor.prototype.openWithNewVariable=function(){this.openWithNewFunction(!0)},Blockly.ContractEditor.prototype.openWithNewFunction=function(e){this.ensureCreated_();var t=Blockly.Xml.domToBlock(Blockly.mainBlockSpace,Blockly.createSvgElement("block",{type:this.definitionBlockType}));if(t.updateOutputType(Blockly.ContractEditor.DEFAULT_OUTPUT_TYPE),t.userCreated=!0,e)t.convertToVariable();else for(e=0;e<Blockly.defaultNumExampleBlocks;e++)this.addNewExampleBlockForFunction_(t);this.openAndEditFunction(t.getTitleValue("NAME"))},Blockly.ContractEditor.prototype.createExampleBlock_=function(e){var t=Blockly.Xml.domToBlock(Blockly.mainBlockSpace,Blockly.createSvgElement("block",{type:Blockly.ContractEditor.EXAMPLE_BLOCK_TYPE}));return e=Blockly.Procedures.createCallerFromDefinition(Blockly.mainBlockSpace,e),t.attachBlockToInputName(e,Blockly.ContractEditor.EXAMPLE_BLOCK_ACTUAL_INPUT_NAME),t},Blockly.ContractEditor.prototype.getFullWidth=function(){return this.modalBlockSpace.getMetrics().viewWidth},Blockly.ContractEditor.prototype.layOutBlockSpaceItems_=function(){if(this.readyToBeLaidOut_()){var e=this.getFullWidth(),t=this.contractSectionView_.placeAndGetNewY(0,e);t=this.examplesSectionView_.placeAndGetNewY(t,e),this.definitionSectionView_.placeAndGetNewY(t,e)}},Blockly.ContractEditor.prototype.createContractDom_=function(){var e=goog.dom.createDom("DIV",null,goog.dom.createDom("SPAN",{id:"domain-label"},Blockly.Msg.FUNCTIONAL_DOMAIN_LABEL)," ",goog.dom.createDom("SPAN",{id:"domain-hint",class:"contract-type-hint"},"(the domain is the type of input)")),t=goog.dom.createDom("DIV",null,goog.dom.createDom("SPAN",{id:"outputTypeTitle"},Blockly.Msg.FUNCTIONAL_RANGE_LABEL)," ",goog.dom.createDom("SPAN",{id:"range-hint",class:"contract-type-hint"},"(the range is the type of output)"));t=goog.dom.createDom("DIV",{id:"range-area",style:"margin: 0;"},t,goog.dom.createDom("SPAN",{id:"outputTypeDropdown"}));var o=goog.dom.createDom("DIV",{id:"description-area",style:"margin: 0px;"},goog.dom.createDom("DIV",null,Blockly.Msg.FUNCTIONAL_DESCRIPTION_LABEL),goog.dom.createDom("DIV",null,goog.dom.createDom("TEXTAREA",{id:"functionDescriptionText",rows:"2"})));this.contractDiv_=goog.dom.createDom("DIV","blocklyToolboxDiv paramToolbox blocklyText contractEditor flyoutColorGray innerModalDiv",goog.dom.createDom("DIV",null,Blockly.Msg.FUNCTIONAL_NAME_LABEL),goog.dom.createDom("DIV",null,goog.dom.createDom("INPUT",{id:"functionNameText",type:"text"})),e,goog.dom.createDom("DIV",{id:"domain-area",style:"margin: 0;"}),goog.dom.createDom("DIV",{class:"clear",style:"margin: 0;"}),goog.dom.createDom("BUTTON",{id:"paramAddButton",class:"btn"},"Add Domain"),goog.dom.createDom("DIV",{class:"clear",style:"margin: 0;"}),t,o),Blockly.RTL&&this.contractDiv_.setAttribute("dir","RTL"),e=this.modalBlockSpace.getMetrics(),this.contractDiv_.style.left=e.absoluteLeft+"px",this.contractDiv_.style.top=e.absoluteTop+"px",this.contractDiv_.style.width=e.viewWidth+"px",this.contractDiv_.style.display="block",this.frameClipDiv_=this.createFrameClipDiv_(),this.frameClipDiv_.insertBefore(this.contractDiv_,this.frameClipDiv_.firstChild),this.container_.insertBefore(this.frameClipDiv_,this.container_.firstChild),this.initializeAddButton_()},Blockly.ContractEditor.prototype.createParameterEditor_=function(){},Blockly.ContractEditor.prototype.bindToolboxHandlers_=function(){},Blockly.ContractEditor.prototype.chromeBottomToContractDivDistance_=function(){return this.isShowingHeaders_()?HEADER_HEIGHT:0},Blockly.ContractEditor.prototype.getContractDomTopY_=function(){return this.chromeBottomToContractDivDistance_()+this.modalBlockSpace.yOffsetFromView},Blockly.ContractEditor.prototype.setupUIForBlock_=function(e){e=e.isVariable(),this.frameText_.textContent=e?Blockly.Msg.FUNCTIONAL_VARIABLE_HEADER:Blockly.Msg.CONTRACT_EDITOR_HEADER,goog.dom.setTextContent(goog.dom.getElement("outputTypeTitle"),e?Blockly.Msg.FUNCTIONAL_VARIABLE_TYPE:Blockly.Msg.FUNCTIONAL_RANGE_LABEL),goog.style.setElementShown(goog.dom.getElement("domain-area"),!e),goog.style.setElementShown(goog.dom.getElement("domain-label"),!e),goog.style.setElementShown(goog.dom.getElement("paramAddButton"),!e),goog.style.setElementShown(goog.dom.getElement("description-area"),!e),goog.style.setElementShown(goog.dom.getElement("range-hint"),!e),goog.style.setElementShown(goog.dom.getElement("domain-hint"),!e)},Blockly.ContractEditor.prototype.setupAfterExampleBlocksAdded_=function(){this.refreshBlockInputTypes_(),this.functionDefinitionBlock.isVariable()?this.setupSectionsForVariable_():this.setupSectionsForContract_(this.autoOpenConfig_),this.autoOpenConfig_=null},Blockly.ContractEditor.prototype.setupSectionsForVariable_=function(){this.contractSectionView_.setHidden(!1),this.contractSectionView_.setHeaderVisible(!1),this.examplesSectionView_.setHidden(!0),this.definitionSectionView_.setHidden(!1),this.definitionSectionView_.setHeaderVisible(!1)},Blockly.ContractEditor.prototype.setupSectionsForContract_=function(o){this.allSections_.forEach(function(e,t){o?(o[t+HIGHLIGHT_CONFIG_SUFFIX]&&this.setSectionHighlighted(e),e.setCollapsed(o[t+COLLAPSE_CONFIG_SUFFIX])):(e.setHighlighted(!1),e.setHidden(!1),e.setHeaderVisible(!0),e.setCollapsed(e.isCollapsed()))},this),this.disableExamples_&&(this.contractSectionView_.removeSectionNumber(),this.definitionSectionView_.removeSectionNumber(),this.examplesSectionView_.setHidden(!0))},Blockly.ContractEditor.prototype.isShowingHeaders_=function(){return!this.isEditingVariable()},Blockly.ContractEditor.prototype.isEditingVariable=function(){return this.functionDefinitionBlock&&this.functionDefinitionBlock.isVariable()},Blockly.ContractEditor.prototype.addParameter=function(e,t){var o=goog.events.getUniqueId("parameter");this.orderedParamIDsToBlocks_.set(o,this.newParameterBlock(e,t)),this.addDomainEditorForParamID_(o)},Blockly.ContractEditor.prototype.addDomainEditorForParamID_=function(e){var t=this.getParamNameType(e);(e=new Blockly.DomainEditor({paramID:e,name:t.name,type:t.type,onRemovePress:goog.bind(this.removeContractParameter_,this,e),onTypeChanged:goog.bind(this.changeParameterType_,this,e),onNameChanged:goog.bind(this.changeParameterName_,this,e),typeChoices:USER_TYPE_CHOICES})).render(goog.dom.getElement("domain-area")),this.domainEditors_.push(e)},Blockly.ContractEditor.prototype.removeContractParameter_=function(t){this.orderedParamIDsToBlocks_.remove(t),this.refreshParamsEverywhere(),goog.array.removeIf(this.domainEditors_,function(e){return e.getParamID()===t&&(e.dispose(),!0)},this),this.position_()},Blockly.ContractEditor.prototype.newParameterBlock=function(e,t){t=t||Blockly.ContractEditor.DEFAULT_PARAMETER_TYPE;var o=Blockly.createSvgElement("block",{type:this.parameterBlockType});return Blockly.createSvgElement("title",{name:"VAR"},o).textContent=e,t&&(e=Blockly.createSvgElement("mutation",{},o),Blockly.createSvgElement("outputtype",{},e).textContent=t),o},Blockly.ContractEditor.prototype.addParamsFromProcedure_=function(){for(var e=this.functionDefinitionBlock.getProcedureInfo(),t=0;t<e.parameterNames.length;t++)this.addParameter(e.parameterNames[t],e.parameterTypes[t])},Blockly.ContractEditor.prototype.addRangeEditor_=function(){this.outputTypeSelector=new Blockly.TypeDropdown({onTypeChanged:goog.bind(this.outputTypeChanged_,this),typeChoices:USER_TYPE_CHOICES,type:this.functionDefinitionBlock.getOutputType()||Blockly.ContractEditor.DEFAULT_OUTPUT_TYPE}),this.outputTypeSelector.render(this.getOutputTypeDropdownElement_())},Blockly.ContractEditor.prototype.outputTypeChanged_=function(e){this.updateFrameColorForType_(e),this.functionDefinitionBlock&&(this.setBlockInputsToType_(Blockly.BlockValueType.NONE),this.functionDefinitionBlock.updateOutputType(e),this.modalBlockSpace.events.dispatchEvent(Blockly.BlockSpace.EVENTS.BLOCK_SPACE_CHANGE),this.refreshBlockInputTypes_(),this.modalBlockSpace.events.dispatchEvent(Blockly.BlockSpace.EVENTS.BLOCK_SPACE_CHANGE))},Blockly.ContractEditor.prototype.updateFrameColorForType_=function(e){e=Blockly.FunctionalTypeColors[e];var o=goog.color.hsvToHex(e[0],e[1],255*e[2]);this.setFrameColor_(o),this.allSections_.forEach(function(e,t){e.setHeaderColor(o)},this)},Blockly.ContractEditor.prototype.setFrameColor_=function(e){this.frameBase_.style.fill=e},Blockly.ContractEditor.prototype.getOutputTypeDropdownElement_=function(){return goog.dom.getElement("outputTypeDropdown")},Blockly.ContractEditor.prototype.initializeAddButton_=function(){var e=goog.dom.getElement("paramAddButton");Blockly.bindEvent_(e,"mousedown",this,goog.bind(function(){this.addParameter(Blockly.Variables.generateUniqueName()),this.refreshParamsEverywhere()},this))},Blockly.ContractEditor.prototype.changeParameterType_=function(e,t){e=this.getParamNameType(e).name,this.functionDefinitionBlock.changeParamType(e,t),this.changeParameterTypeInFlyoutXML(e,t),this.refreshParamsEverywhere()},Blockly.ContractEditor.prototype.changeParameterName_=function(e,t){e=this.getParamNameType(e).name,Blockly.Variables.renameVariable(e,t,Blockly.modalBlockSpace)},Blockly.ContractEditor.prototype.getVerticalMidlineOffset_=function(){return Blockly.FunctionEditor.BLOCK_LAYOUT_LEFT_MARGIN+this.getMaxExampleCallBlockWidth_()+MARGIN_BLOCK_TO_CALL_SLOT},Blockly.ContractEditor.prototype.getMaxExampleCallBlockWidth_=function(){return this.exampleBlocks.reduce(function(e,t){return(t=t.getInputTargetBlock(Blockly.ContractEditor.EXAMPLE_BLOCK_ACTUAL_INPUT_NAME))?(t=t.getHeightWidth().width,Math.max(e,t)):e},DEFAULT_EXAMPLE_CALL_SECTION_WIDTH)},Blockly.ContractEditor.prototype.resetExampleViews=function(){this.exampleViews_.forEach(function(e){e.reset()})},Blockly.ContractEditor.prototype.testExample=function(e,t){return e=this.testHandler_(e,t),this.functionDefinitionBlock.getInput("STACK").connection.isConnected()?e:Blockly.Msg.DEFINE_FUNCTION_FOR_EXAMPLE},Blockly.ContractEditor.prototype.resetExample=function(e){this.testResetHandler_(e)},Blockly.ContractEditor.prototype.updateExampleResult=function(t,o){this.exampleViews_.some(function(e){if(e.getBlock()===t)return e.setResult(o),!0})},Blockly.ContractEditor.prototype.onPlaceExampleContent=function(n){var r=this.getMaxExampleCallBlockWidth_(),e=this.modalBlockSpace.getMetrics();this.exampleAreaDiv.style.left=this.modalBlockSpace.xOffsetFromView+"px",this.exampleAreaDiv.style.top=this.modalBlockSpace.yOffsetFromView+n+"px",this.exampleAreaDiv.style.width=e.viewWidth+"px",e=EXAMPLE_BLOCK_SECTION_MAGIN_BELOW/2;var i=n,a=this.getVerticalMidlineOffset_(),t=i;this.verticalExampleMidline.setAttribute("transform","translate("+a+","+i+")");var o=0<this.exampleBlocks.length;o&&(i+=e,this.callText.style.top=i-n+"px",this.callText.style.left=Blockly.FunctionEditor.BLOCK_LAYOUT_LEFT_MARGIN+"px",this.resultText.style.top=i-n+"px",this.resultText.style.left=a+Blockly.FunctionEditor.BLOCK_LAYOUT_LEFT_MARGIN+"px",i+=this.callText.offsetHeight,i+=e,this.topHorizontalLine.setAttribute("transform","translate(0,"+i+")"),this.topHorizontalLine.setAttribute("width",this.getFullWidth()),this.exampleBlocks.forEach(goog.bind(function(e,t){if(!(this.exampleViews_.length>t)){var o=new Blockly.ExampleView(this.exampleAreaDiv,this.examplesTableGroup,this);this.exampleViews_.push(o)}i=this.exampleViews_[t].placeExampleAndGetNewY(e,i,r,Blockly.FunctionEditor.BLOCK_LAYOUT_LEFT_MARGIN,EXAMPLE_BLOCK_MARGIN_BELOW,this.getFullWidth(),a,n)},this)));for(var s=this.exampleBlocks.length;s<this.exampleViews_.length;s++)this.exampleViews_[s].dispose();return this.exampleViews_.length=this.exampleBlocks.length,this.verticalExampleMidline.style.display=o?"block":"none",this.topHorizontalLine.style.display=o?"block":"none",this.callText.style.display=o?"block":"none",this.resultText.style.display=o?"block":"none",this.verticalExampleMidline.setAttribute("height",i-t),i+=e,this.addExampleButton.style.top=i-n+"px",this.addExampleButton.style.left=Blockly.FunctionEditor.BLOCK_LAYOUT_LEFT_MARGIN+"px",i+=this.addExampleButton.offsetHeight,i+=EXAMPLE_BLOCK_SECTION_MAGIN_BELOW,this.exampleAreaDiv.style.height=i-n+"px",i},Blockly.ContractEditor.prototype.onClose=function(){if(this.isOpen()){var o=!0;this.exampleViews_.forEach(function(e){var t=this.testExample(e.getBlock(),!1);e.setResult(t),e.refreshTestingUI(!1),o=o&&!t}.bind(this)),!o&&this.customFailureCloseHandler_()||this.hideIfOpen()}},Blockly.Generator={},Blockly.Generator.NAME_TYPE="generated_function",Blockly.Generator.languages={},Blockly.Generator.get=function(e){if(!(e in Blockly.Generator.languages)){var t=new Blockly.CodeGenerator(e);Blockly.Generator.languages[e]=t}return Blockly.Generator.languages[e]},Blockly.Generator.blocksToCode=function(e,t,o){var n=[];(e=Blockly.Generator.get(e)).init(t);for(var r,i=0;r=t[i];i++){var a=e.blockToCode(r,o);a instanceof Array&&(a=a[0]),a&&(r.outputConnection&&e.scrubNakedValue&&(a=e.scrubNakedValue(a)),r.isUnused()&&(a="/*\n"+a+"*/\n"),n.push(a))}return n=n.join("\n"),(n=(n=(n=e.finish(n)).replace(/^\s+\n/,"")).replace(/\n\s+$/,"\n")).replace(/[ \t]+\n/g,"\n")},Blockly.Generator.xmlToCode=function(e,t){return t=Blockly.Generator.xmlToBlocks(e,t),Blockly.Generator.blocksToCode(e,t)},Blockly.Generator.xmlToBlocks=function(e,t){return e=document.createElement("div"),Blockly.BlockSpace.createReadOnlyBlockSpace(e,t,{disableEventBindings:!0}).getTopBlocks(!0)},Blockly.Generator.blockSpaceToCode=function(e,t,o){if(t){"string"==typeof t&&(t=[t]);var n=goog.array.filter(Blockly.mainBlockSpace.getTopBlocks(!0),function(e){return goog.array.contains(t,e.type)},this)}else n=Blockly.mainBlockSpace.getTopBlocks(!0);return Blockly.Generator.blocksToCode(e,n,o)},Blockly.Generator.prefixLines=function(e,t){return t+e.replace(/\n(.)/g,"\n"+t+"$1")},Blockly.CodeGenerator=function(e){this.name_=e,this.RESERVED_WORDS_=""},Blockly.CodeGenerator.prototype.blockToCode=function(e,t){if(!e)return"";if(e.disabled||null!=t&&!t&&!e.isUserVisible())return e=e.nextConnection&&e.nextConnection.targetBlock(),this.blockToCode(e,t);var o=this[e.type];return(o=o?o.call(e):Blockly.Generator.prefixLines("Unknown block: "+e.type+"\n","// "))instanceof Array?[this.scrub_(e,o[0],t),o[1]]:this.scrub_(e,o,t)},Blockly.CodeGenerator.prototype.valueToCode=function(e,t,o){if(isNaN(o))throw'Expecting valid order from block "'+e.type+'".';if(!(e=e.getInputTargetBlock(t)))return"";var n=this.blockToCode(e);if(""===n)return"";if(!(n instanceof Array))throw'Expecting tuple from value block "'+e.type+'".';if(t=n[0],n=n[1],isNaN(n))throw'Expecting valid order from value block "'+e.type+'".';return t&&o<=n&&(t="("+t+")"),t},Blockly.CodeGenerator.prototype.statementToCode=function(e,t){if(e=e.getInputTargetBlock(t),t=this.blockToCode(e),!goog.isString(t))throw'Expecting code from statement block "'+e.type+'".';return t&&(t=Blockly.Generator.prefixLines(t,"  ")),t},Blockly.CodeGenerator.prototype.addReservedWords=function(e){this.RESERVED_WORDS_+=e+","},Blockly.Names=function(e){if(this.reservedDict_={},e){e=e.split(",");for(var t=0;t<e.length;t++)this.reservedDict_[Blockly.Names.PREFIX_+e[t]]=!0}this.reset()},Blockly.Names.PREFIX_="$_",Blockly.Names.prototype.reset=function(){this.db_={},this.dbSpecificType_={},this.dbReverse_={}},Blockly.Names.prototype.getName=function(e,t,o){var n=Blockly.Names.PREFIX_+e.toLowerCase()+"_"+t;return n in this.db_?this.db_[n]:(e=this.getDistinctName(e,t),this.db_[n]=e,o&&(this.dbSpecificType_[n]=o),e)},Blockly.Names.prototype.checkSpecificType=function(e,t,o){return(e=Blockly.Names.PREFIX_+e.toLowerCase()+"_"+t)in this.dbSpecificType_&&this.dbSpecificType_[e]===o},Blockly.Names.prototype.getDistinctName=function(e,t){for(e=this.safeName_(e),t="";this.dbReverse_[Blockly.Names.PREFIX_+e+t]||Blockly.Names.PREFIX_+e+t in this.reservedDict_;)t=t?t+1:2;return e+=t,this.dbReverse_[Blockly.Names.PREFIX_+e]=!0,e},Blockly.Names.prototype.safeName_=function(e){return e?(e=encodeURI(e.replace(/ /g,"_")).replace(/[^\w]/g,"_"),-1!="0123456789".indexOf(e[0])&&(e="my_"+e)):e="unnamed",e},Blockly.Names.equals=function(e,t){return e.toLowerCase()==t.toLowerCase()},Blockly.Procedures={},Blockly.Procedures.NAME_TYPE="PROCEDURE",Blockly.Procedures.NAME_TYPE_FUNCTIONAL_VARIABLE="FUNCTIONAL_VARIABLE",Blockly.Procedures.DEFINITION_BLOCK_TYPES=["procedures_defnoreturn","procedures_defreturn","functional_definition"],Blockly.Procedures.PROCEDURAL_TO_FUNCTIONAL_CALL_TYPE="procedural_to_functional_call",Blockly.Procedures.allProcedures=function(){var o=[],n=[],r=[],i=[];return Blockly.mainBlockSpace.getAllBlocks().forEach(function(e){if(e.getProcedureInfo){var t=e.getProcedureInfo();switch(e.type){case"functional_definition":r.push(t),"start_blocks"===Blockly.editBlocks&&((e=goog.object.clone(t)).callType=Blockly.Procedures.PROCEDURAL_TO_FUNCTIONAL_CALL_TYPE,r.push(e));break;case"procedures_defreturn":o.push(t);break;case"procedures_defnoreturn":n.push(t);break;default:i.push(t)}}}),n.sort(Blockly.Procedures.procedureInfoSort_),o.sort(Blockly.Procedures.procedureInfoSort_),r.sort(Blockly.Procedures.procedureInfoSort_),i.sort(Blockly.Procedures.procedureInfoSort_),goog.array.concat(n,o,r,i)},Blockly.Procedures.procedureInfoSort_=function(e,t){return(e=e.name.toLowerCase())>(t=t.name.toLowerCase())?1:e<t?-1:0},Blockly.Procedures.findLegalName=function(e,t){if(t.isInFlyout)return e;for(;!Blockly.Procedures.isLegalName(e,t.blockSpace,t);){var o=e.match(/^(.*?)(\d+)$/);e=o?o[1]+(parseInt(o[2],10)+1):e+"2"}return e},Blockly.Procedures.isLegalName=function(t,e,o){return!e.getAllBlocks().filter(function(e){return e!==o}).some(function(e){return e.getProcedureInfo&&Blockly.Names.equals(e.getProcedureInfo().name,t)})},Blockly.Procedures.rename=function(e){e=e.replace(/^[\s\xa0]+|[\s\xa0]+$/g,""),e=Blockly.Procedures.findLegalName(e,this.sourceBlock_);for(var t=this.sourceBlock_.blockSpace.getAllBlocks().concat(this.sourceBlock_.blockSpace.blockSpaceEditor.getAllFlyoutBlocks()),o=0;o<t.length;o++){var n=t[o].renameProcedure;n&&n.call(t[o],this.text_,e)}return this.sourceBlock_.blockSpace.blockSpaceEditor.svgResize(),e},Blockly.Procedures.flyoutCategory=function(o,n,r,i,a){if(!Blockly.functionEditor&&!Blockly.disableProcedureAutopopulate&&!Blockly.topLevelProcedureAutopopulate){if(Blockly.Blocks.procedures_defnoreturn){var e=new Blockly.Block(i,"procedures_defnoreturn");e.initSvg(),o.push(e),n.push(2*r)}Blockly.Blocks.procedures_defreturn&&((e=new Blockly.Block(i,"procedures_defreturn")).initSvg(),o.push(e),n.push(2*r)),Blockly.Blocks.procedures_ifreturn&&((e=new Blockly.Block(i,"procedures_ifreturn")).initSvg(),o.push(e),n.push(2*r)),n.length&&(n[n.length-1]=3*r)}Blockly.Procedures.allProcedures().forEach(function(e){if(!a||a(e)){var t=Blockly.Procedures.createCallerBlock(i,e);o.push(t),n.push(2*r),Blockly.editBlocks&&(e=Blockly.Procedures.createFunctionPassingBlock(i,e),o.push(e),n.push(2*r))}})},Blockly.Procedures.createCallerFromDefinition=function(e,t){return Blockly.Procedures.createCallerBlock(e,t.getProcedureInfo())},Blockly.Procedures.createCallerBlock=function(e,t){var o="gamelab_behavior_get"===t.callType?"VAR":"NAME";(e=new Blockly.Block(e,t.callType)).setTitleValue(t.name,o),o=[];for(var n=0;n<t.parameterNames.length;n++)o[n]="ARG"+n;return e.setProcedureParameters(t.parameterNames,o,t.parameterTypes),e.initSvg(),e},Blockly.Procedures.createFunctionPassingBlock=function(e,t){return(e=new Blockly.Block(e,"functional_pass")).setTitleValue(t.name,"NAME"),e.initSvg(),e},Blockly.Procedures.getCallers=function(t,e){return e.getAllBlocks().filter(function(e){return e.getCallName&&Blockly.Names.equals(t,e.getCallName())})},Blockly.Procedures.disposeCallers=function(e,t){Blockly.Procedures.getCallers(e,t).forEach(function(e){e.dispose(!0,!1)})},Blockly.Procedures.mutateCallers=function(e,t,o,n,r){Blockly.Procedures.getCallers(e,t).forEach(function(e){e.setProcedureParameters(o,n,r)},this)},Blockly.Procedures.getDefinition=function(t,e){return goog.array.find(e.getAllBlocks(),function(e){return e.getProcedureInfo&&Blockly.Names.equals(e.getProcedureInfo().name,t)})},goog.cssom={},goog.cssom.CssRuleType={STYLE:1,IMPORT:3,MEDIA:4,FONT_FACE:5,PAGE:6,NAMESPACE:7},goog.cssom.getAllCssText=function(e){return goog.cssom.getAllCss_(e||document.styleSheets,!0)},goog.cssom.getAllCssStyleRules=function(e){return goog.cssom.getAllCss_(e||document.styleSheets,!1)},goog.cssom.getCssRulesFromStyleSheet=function(e){var t=null;try{t=e.cssRules||e.rules}catch(t){if(15==t.code)throw t.styleSheet=e,t}return t},goog.cssom.getAllCssStyleSheets=function(e,t){var o=[];if(e=e||document.styleSheets,t=!!goog.isDef(t)&&t,e.imports&&e.imports.length)for(var n=0,r=e.imports.length;n<r;n++)goog.array.extend(o,goog.cssom.getAllCssStyleSheets(e.imports[n]));else if(e.length)for(n=0,r=e.length;n<r;n++)goog.array.extend(o,goog.cssom.getAllCssStyleSheets(e[n]));else{var i=goog.cssom.getCssRulesFromStyleSheet(e);if(i&&i.length){n=0,r=i.length;for(var a;n<r;n++)(a=i[n]).styleSheet&&goog.array.extend(o,goog.cssom.getAllCssStyleSheets(a.styleSheet))}}return!(e.type||e.rules||e.cssRules)||e.disabled&&!t||o.push(e),o},goog.cssom.getCssTextFromCssRule=function(e){var t="";return e.cssText?t=e.cssText:e.style&&e.style.cssText&&e.selectorText&&(t=e.style.cssText.replace(/\s*-closure-parent-stylesheet:\s*\[object\];?\s*/gi,"").replace(/\s*-closure-rule-index:\s*[\d]+;?\s*/gi,""),t=e.selectorText+" { "+t+" }"),t},goog.cssom.getCssRuleIndexInParentStyleSheet=function(e,t){if(e.style&&e.style["-closure-rule-index"])return e.style["-closure-rule-index"];if(!(t=t||goog.cssom.getParentStyleSheet(e)))throw Error("Cannot find a parentStyleSheet.");if((t=goog.cssom.getCssRulesFromStyleSheet(t))&&t.length)for(var o=0,n=t.length;o<n;o++)if(t[o]==e)return o;return-1},goog.cssom.getParentStyleSheet=function(e){return e.parentStyleSheet||e.style&&e.style["-closure-parent-stylesheet"]},goog.cssom.replaceCssRule=function(e,t,o,n){if(!(o=o||goog.cssom.getParentStyleSheet(e)))throw Error("Cannot proceed without the parentStyleSheet.");if(!(0<=(e=0<=Number(n)?Number(n):goog.cssom.getCssRuleIndexInParentStyleSheet(e,o))))throw Error("Cannot proceed without the index of the cssRule.");goog.cssom.removeCssRule(o,e),goog.cssom.addCssRule(o,t,e)},goog.cssom.addCssRule=function(e,t,o){if((null==o||o<0)&&(o=goog.cssom.getCssRulesFromStyleSheet(e).length),e.insertRule)e.insertRule(t,o);else{if(3!=(t=/^([^\{]+)\{([^\{]+)\}/.exec(t)).length)throw Error("Your CSSRule appears to be ill-formatted.");e.addRule(t[1],t[2],o)}},goog.cssom.removeCssRule=function(e,t){e.deleteRule?e.deleteRule(t):e.removeRule(t)},goog.cssom.addCssText=function(e,t){var o=t||goog.dom.getDomHelper(),n=o.getDocument();return(t=o.createElement("STYLE")).type="text/css",o.getElementsByTagName("HEAD")[0].appendChild(t),t.styleSheet?t.styleSheet.cssText=e:(e=n.createTextNode(e),t.appendChild(e)),t},goog.cssom.getFileNameFromStyleSheet=function(e){return(e=e.href)?/([^\/\?]+)[^\/]*$/.exec(e)[1]:null},goog.cssom.getAllCss_=function(e,t){for(var o=[],n=goog.cssom.getAllCssStyleSheets(e),r=0;e=n[r];r++){var i=goog.cssom.getCssRulesFromStyleSheet(e);if(i&&i.length)for(var a,s=0,l=0,c=i.length;l<c;l++)a=i[l],t&&!a.href?(a=goog.cssom.getCssTextFromCssRule(a),o.push(a)):a.href||(a.style&&(a.parentStyleSheet||(a.style["-closure-parent-stylesheet"]=e),a.style["-closure-rule-index"]=t?void 0:s),o.push(a)),t||s++}return t?o.join(" "):o},Blockly.Css={},Blockly.Css.Cursor={OPEN:"handopen",CLOSED:"handclosed"},Blockly.Css.currentCursor_="",Blockly.Css.styleSheet_=null,Blockly.Css.inject=function(e){var t=Blockly.Css.CONTENT.join("\n");t=t.replace(/%CONTAINER_ID%/g,e.id).replace(/%TREE_PATH%/g,Blockly.assetUrl("media/tree.png")).replace(/%CURSOR_OPEN_PATH%/g,Blockly.assetUrl("media/handopen.cur")).replace(/%CURSOR_CLOSED_PATH%/g,Blockly.assetUrl("media/handclosed.cur")),Blockly.Css.styleSheet_=goog.cssom.addCssText(t).sheet},Blockly.Css.setCursor=function(e,t){Blockly.readOnly||Blockly.Css.currentCursor_===e||(Blockly.Css.currentCursor_=e,t&&(e==Blockly.Css.Cursor.OPEN?Blockly.removeClass_(t.parentNode,"dragging"):Blockly.addClass_(t.parentNode,"dragging")))},Blockly.Css.CONTENT=[".blocklyFieldAngleTextInput {","  border: 1px solid #ccc;","  margin-top: -10px;","}",".blocklyFieldAngleDropdown {","  box-shadow: 4px 4px 6px #bbb;","  border-style: solid;","  border-width: 1px;","}",".blocklyFieldAngleDropdown > div {","  float: left;","}",".blocklyFieldAngleDropdown .goog-menu {","  box-shadow: none;","  border-style: none;","}",".blocklyFieldAngleDropdown .goog-menu::after {","  content: '';","  border-left: 1px solid #949ca2;","  position: absolute;","  height: 80%;","  right: 0;","  top: 10%;","}",".blocklyLimit rect {"," fill: #a69bc1;","}",".blocklyLimit.overLimit rect {"," fill: #daa53a;","}",".blocklyLimit .blocklyText {"," font-size: 10pt;"," fill: #fff;","}",".blocklyUnused .blocklyLimit rect {"," fill: #c6cacd;","}",".blocklyUnused .blocklyLimit .blocklyText {"," fill: #5b6770","}",".blocklyUnused .blocklyPath, .blocklyUnused .blocklyPathDark, .blocklyUnused .blocklyPathLight, .blocklyUnused .blocklyEditableText {"," opacity: 0.25;","}",".blocklyUnused .blocklyUnusedFrame {"," transition: opacity 2s;"," opacity: 0.8;","}",".blocklyUnused .blocklyUnusedFrame .blocklyText {"," fill: #000;","}",".blocklyUnused .blocklyUnusedFrame.hidden {"," opacity: 0;"," visibility: hidden","}",".blocklyUnused .blocklyHelp {"," cursor: pointer;","}",".blocklyUnused .blocklyHelp .blocklyText {"," fill: #fff;"," font-size: 10pt;"," text-anchor: middle;"," dominant-baseline: central;","}",".blocklyDraggable {","  cursor: url(%CURSOR_OPEN_PATH%) 8 5, auto;","}",".dragging, .dragging .blocklySvg, .dragging .blocklyDraggable {","  cursor: url(%CURSOR_CLOSED_PATH%) 7 3, auto !important;","}","#%CONTAINER_ID% {","  border: 1px solid #ddd;","}","#%CONTAINER_ID% .userHidden {","  display: none;","}","#%CONTAINER_ID% .hiddenFlyout, #blocklyDragCanvas .hiddenFlyout {","  display: none !important;","}","#%CONTAINER_ID%.edit .userHidden {","  display: inline;","  fill-opacity: 0.5;","}","#%CONTAINER_ID%.edit .userHidden .blocklyPath {","  fill-opacity: 0.5;","}","#%CONTAINER_ID%.edit .userHidden .blocklyPathDark, #%CONTAINER_ID%.edit .userHidden .blocklyPathLight {","  display: none;","}",".blocklySvg {","  cursor: pointer;","  background-color: #fff;","  overflow: hidden;","}",".blocklySvg.inline {","  vertical-align: top;","}","g.blocklyDraggable {","  -ms-touch-action: none;","  touch-action: none;","}",".blocklyWidgetDiv {","  position: absolute;","  display: none;","  z-index: 999;","}",".blocklyResizeSE {","  fill: #aaa;","  cursor: se-resize;","}",".blocklyResizeSW {","  fill: #aaa;","  cursor: sw-resize;","}",".blocklyResizeLine {","  stroke-width: 1;","  stroke: #888;","}",".blocklyHighlightedConnectionPath {","  stroke-width: 4px;","  stroke: #fc3;","  fill: none;","}",".blocklyPathLight {","  fill: none;","  stroke-width: 2;","  stroke-linecap: round;","}",".blocklyTypeHint {","  fill: none;","  stroke-width: 5;","}",".blocklySelected>.blocklyTypeHint, .blocklyUnused .blocklyTypeHint {","  display: none;","}",".blocklySpotlight>.blocklyPath {","  fill: #fc3;","}",".blocklySelected>.blocklyPath {","  stroke-width: 3px;","  stroke: #fc3;","}",".blocklySelected>.blocklyPathLight {","  display: none;","}",".blocklyUndeletable>.blocklyEditableText>rect {","  fill-opacity: 1.0;","  fill: #ffdb74;","}","#blocklyDragCanvas {","  display: none;","  pointer-events: none;","  position: absolute;","  top: -1px;","  left: -1px;","  border: 1px solid #fff;","  z-index: 10;","}","#blocklyDragCanvas.isDragging {","  display: block;","}",".blocklyDragging>.blocklyPath,",".blocklyDragging>.blocklyPathLight {","  fill-opacity: 0.8;","  stroke-opacity: 0.8;","}",".blocklyDragging>.blocklyPathDark {","  display: none;","}",".blocklyDisabled>.blocklyPath {","  fill-opacity: 0.50;","  stroke-opacity: 0.50;","}",".blocklyDisabled>.blocklyPathLight,",".blocklyDisabled>.blocklyPathDark {","  display: none;","}",".blocklyText {","  cursor: default;","  font-family: sans-serif;","  font-size: 11pt;","  fill: #fff;","}",".innerModalDiv {","  pointer-events: none !important;","}",".innerModalDiv .goog-flat-menu-button,",".innerModalDiv textarea,",".innerModalDiv input,",".innerModalDiv button {","  pointer-events: auto;","}",".flyoutColorGray {","  background-color: #DDD;","}",".contractEditor #paramAddButton {","  margin-top: 3px;","  margin-left: 10px;","  margin-bottom: 4px;","}",".contractEditorHeaderText {","  cursor: default;","  font-size: 12pt;","  fill: #fff;","}",".contract-type-hint {","  color: #898989;","  font-size: 11px;","}",".exampleAreaDiv {","  pointer-events: none;","}",".callResultText {","  color: #000;","  position: absolute;","}",".exampleAreaButton {","  pointer-events: initial;","  position: absolute;","}",".core-clearfix {","  overflow: auto;","}",".testButton {","  padding: 3px 0 !important;","  min-width: 95px !important;","}",".resetButton {","  border: 1px solid #0094ca !important;","  background-color: #0094ca !important;","}",".example-result-text {","  position: absolute;","  font-size: 16px;","}",".color-square-icon {","  float: left;","  width: 21px;","  height: 18px;","  margin-right: 9px !important;","  margin-left: 6px !important;","}",".goog-menuitem .color-square-icon {","  margin-left: -3px !important;","  margin-top: 2px !important;","}",".blocklyNonEditableText>text {","  pointer-events: none;","}",".blocklyNonEditableText>rect,",".blocklyEditableText>rect {","  fill: #fff;","  fill-opacity: 0.6;","}",".blocklyNonEditableText>text,",".blocklyEditableText>text {","  fill: #000;","}",".blocklyEditableText:hover>rect {","  stroke-width: 2;","  stroke: #fff;","}","/*"," * Don't allow users to select text.  It gets annoying when trying to"," * drag a block and selected text moves instead."," */",".blocklySvg text {","  -moz-user-select: none;","  -webkit-user-select: none;","  user-select: none;","  cursor: inherit;","}",".blocklyHidden {","  display: none;","}",".blocklyFieldDropdown:not(.blocklyHidden) {","  display: block;","}",".blocklyTooltipBackground {","  fill: #ffffc7;","  stroke-width: 1px;","  stroke: #d8d8d8;","}",".blocklyTooltipShadow,",".blocklyContextMenuShadow,",".blocklyDropdownMenuShadow {","  fill: #bbb;","  filter: url(#blocklyShadowFilter);","}",".blocklyTooltipText {","  font-family: sans-serif;","  font-size: 9pt;","  fill: #000;","}","#modalEditorClose:hover>rect {","  fill: #0094ca;","}",".svgTextButton:hover>rect {","  fill: #0094ca;","}",".red-delete-button {","  background-color: #cc0000 !important;","  border: 1px solid #cc0000 !important;","}",".blocklyIconShield {","  cursor: default;","  fill: #00c;","  stroke-width: 1px;","  stroke: #ccc;","}",".blocklyIconGroup:hover>.blocklyIconShield {","  fill: #00f;","  stroke: #fff;","}",".blocklyIconGroup:hover>.blocklyIconMark {","  fill: #fff;","}",".blocklyIconMark {","  cursor: default !important;","  font-family: sans-serif;","  font-size: 9pt;","  font-weight: bold;","  fill: #ccc;","  text-anchor: middle;","}",".blocklyWarningBody {","}",".blocklyMinimalBody {","  margin: 0;","  padding: 0;","}",".blocklyHtmlInput {","  font-family: sans-serif;","  font-size: 11pt;","  border: none;","  outline: none;","  width: 100%;","  -moz-appearance: textfield;","}",".blocklyHtmlInput::-webkit-inner-spin-button, .blocklyHtmlInput::-webkit-outer-spin-button {","  -webkit-appearance: none;","}",".blocklyContextMenuBackground,",".blocklyMutatorBackground {","  fill: #fff;","  stroke-width: 1;","  stroke: #ddd;","}",".newFunctionDiv {","  position: absolute;","  top: 120px;","  left: 600px;","}","#modalContainer .goog-flat-menu-button-caption {","  color: #555555;","  margin-left: 1px;","  margin-right: 0;","  min-width: 55px;","}",".blocklyContextMenuOptions>.blocklyMenuDiv,",".blocklyContextMenuOptions>.blocklyMenuDivDisabled,",".blocklyDropdownMenuOptions>.blocklyMenuDiv {","  fill: #fff;","}",".blocklyContextMenuOptions>.blocklyMenuDiv:hover>rect,",".blocklyDropdownMenuOptions>.blocklyMenuDiv:hover>rect {","  fill: #57e;","}",".blocklyMenuSelected>rect {","  fill: #57e;","}",".blocklyMenuText {","  cursor: default !important;","  font-family: sans-serif;","  font-size: 15px; /* All context menu sizes are based on pixels. */","  fill: #000;","}",".blocklyContextMenuOptions>.blocklyMenuDiv:hover>.blocklyMenuText,",".blocklyDropdownMenuOptions>.blocklyMenuDiv:hover>.blocklyMenuText {","  fill: #fff;","}",".blocklyMenuSelected>.blocklyMenuText {","  fill: #fff;","}",".blocklyMenuDivDisabled>.blocklyMenuText {","  fill: #ccc;","}",".blocklyFlyoutBackground {","  fill: #ddd;","  fill-opacity: 0.8;","}",".blocklyToolboxBackground {","  fill: #ddd;","}",".blocklyBackground {","  fill: #666;","}",".blocklyScrollbarBackground {","  fill: #fff;","  stroke-width: 1;","  stroke: #e4e4e4;","}",".blocklyScrollbarKnob {","  fill: #ccc;","}",".blocklyScrollbarBackground:hover+.blocklyScrollbarKnob,",".blocklyScrollbarKnob:hover {","  fill: #bbb;","}",".blocklyInvalidInput {","  background: #faa;","}",".blocklyAngleCircle {","  stroke: #444;","  stroke-width: 1;","  fill: #ddd;","  fill-opacity: 0.8;","}",".blocklyAngleMarks {","  stroke: #444;","  stroke-width: 1;","}",".blocklyAngleGuage {","  fill: #d00;","  fill-opacity: 0.8;  ","}",".blocklyContextMenu {","  border-radius: 4px;","}",".blocklyDropdownMenu {","  padding: 0 !important;","  position: relative !important;","}",".blocklyRectangularDropdownMenu .goog-menuitem {","  height: 100%;","  padding: 0 !important;","  border-radius: 5px;","  margin-bottom: 4px !important;","}",".fieldRectangularDropdownBackdrop {","  fill: #fff;","  fill-opacity: 0.6;","}",".blocklyRectangularDropdownArrow {","  fill: #7965a1;","  font-size: 20px !important;","}",".blocklyRectangularDropdownMenu .goog-menuitem-highlight, .goog-menuitem-hover {","  border-color: #7965a1 !important;","  border-style: dotted !important;","  border-width: 0px !important;","  margin: -4px -4px 0 !important;","  border-width: 4px !important;","  border-style: solid !important;","  padding-bottom: 0px !important;","  padding-top: 0px !important;","}",".colored-type-dropdown .goog-menuitem-content {","  color: #555555;","  float: left;","}",".colored-type-dropdown > .goog-menuitem {","  padding: 0px 40px 2px 13px;","}",".goog-menu {","  box-shadow: 4px 4px 6px #bbb;","  border-width: 2px;","}",".goog-menuitem {","  height: 20px;","  padding-top: 0;","  padding-bottom: 0;","}",".goog-menuitem-highlight,",".goog-menuitem-hover {","  border-width: 0;","  background-color: #57e;","}",".goog-menuitem-highlight .goog-menuitem-content {","  color: #fff;","}",".goog-option-selected .goog-menuitem-checkbox:before {",'  content: "✓";',"}",".goog-menuitem-checkbox {",'  background: ""',"}",".blocklyRectangularDropdownMenu img {","  -webkit-border-radius: 5px;","  -moz-border-radius: 5px;","  border-radius: 5px;","}",".blocklyRectangularDropdownMenu {","  border-radius: 5px;","  box-shadow: none !important;","}",".goog-option-selected .goog-menuitem-checkbox,",".goog-option-selected .goog-menuitem-icon {","}","/* Category tree in Toolbox. */",".blocklyToolboxDiv {","  display: none;","  overflow-x: visible;","  overflow-y: auto;","  position: absolute;","}",".blocklyTreeRoot {","  padding: 4px 0;","}",".blocklyTreeRoot:focus {","  outline: none;","}",".blocklyTreeRow {","  line-height: 22px;","  height: 22px;","  padding-right: 1em;","  white-space: nowrap;","}",'.blocklyToolboxDiv[dir="RTL"] .blocklyTreeRow {',"  padding-right: 0;","  padding-left: 1em !important;","}",".blocklyTreeRow:hover {","  background-color: #e4e4e4;","}",".blocklyTreeIcon {","  height: 16px;","  width: 16px;","  vertical-align: middle;","  background-image: url(%TREE_PATH%);","}",".blocklyTreeIconClosedLtr {","  background-position: -32px -1px;","}",".blocklyTreeIconClosedRtl {","  background-position: 0px -1px;","}",".blocklyTreeIconOpen {","  background-position: -16px -1px;","}",".blocklyTreeIconNone {","  background-position: -48px -1px;","}",".blocklyTreeSelected>.blocklyTreeIconClosedLtr {","  background-position: -32px -17px;","}",".blocklyTreeSelected>.blocklyTreeIconClosedRtl {","  background-position: 0px -17px;","}",".blocklyTreeSelected>.blocklyTreeIconOpen {","  background-position: -16px -17px;","}",".blocklyTreeSelected>.blocklyTreeIconNone {","  background-position: -48px -17px;","}",".blocklyTreeLabel {","  cursor: default;","  font-family: sans-serif;","  font-size: 16px;","  padding: 0 3px;","  vertical-align: middle;","  -moz-user-select: none;","  -webkit-user-select: none;","  -ms-user-select: none;","  user-select: none;","}",".blocklyTreeSelected {","  background-color: #57e !important;","}",".blocklyTreeSelected .blocklyTreeLabel {","  color: #fff;","}",".blocklyArrow {","  font-size: 80%;","}",".paramToolbox {","  padding: 0 0 5px 0;","  pointer-events: auto;","}",".paramToolbox input, .paramToolbox textarea {","  box-sizing: border-box;","  width: 100%;","  margin: 0;","  resize: none;","}",".paramToolbox input, .paramToolbox button {","  height: 30px;","  margin: 0;","}",".paramToolbox div {","  margin: 4px 10px;","}","#modalContainer {","  position: absolute;","  width: 100%;","  bottom: 0;","}","#modalContainer > svg {","  position: absolute;","  top: 0;","  left: 0;","  background: transparent;","  pointer-events: none;","}","#modalContainer > svg * {","  pointer-events: visiblePainted;","}","/*"," * Copyright 2007 The Closure Library Authors. All Rights Reserved."," *"," * Use of this source code is governed by the Apache License, Version 2.0."," * See the COPYING file for details."," */","/* Author: pupius@google.com (Daniel Pupius) */","/*"," Styles to make the colorpicker look like the old gmail color picker"," NOTE: without CSS scoping this will override styles defined in palette.css","*/",".goog-palette {","  outline: none;","  cursor: default;","}",".goog-palette-table {","  border: 1px solid #666;","  border-collapse: collapse;","}",".goog-palette-cell {","  height: 25px;","  width: 25px;","  margin: 0;","  border: 0;","  text-align: center;","  vertical-align: middle;","  border-right: 1px solid #666;","  font-size: 1px;","}",".goog-palette-colorswatch {","  position: relative;","  height: 25px;","  width: 25px;","  border: 1px solid #666;","}",".goog-palette-cell-hover .goog-palette-colorswatch {","  border: 1px solid #FFF;","}",".goog-palette-cell-selected .goog-palette-colorswatch {","  border: 1px solid #000;","  color: #fff;","}",".goog-menu {","  background: #fff;","  border-color: #ccc #666 #666 #ccc;","  border-style: solid;","  border-width: 1px;","  cursor: default;","  font: normal 13px Arial, sans-serif;","  margin: 0;","  outline: none;","  padding: 4px 0;","  position: absolute;","  z-index: 20000;","}",".goog-menuitem {","  color: #000;","  font: normal 13px Arial, sans-serif;","  list-style: none;","  margin: 0;","  padding: 4px 7em 4px 28px;","  white-space: nowrap;","}",".goog-menuitem.goog-menuitem-rtl {","  padding-left: 7em;","  padding-right: 28px;","}",".goog-menu-nocheckbox .goog-menuitem,",".goog-menu-noicon .goog-menuitem {","  padding-left: 12px;","}",".goog-menu-noaccel .goog-menuitem:not(.goog-menuitem-rtl) {","  padding-right: 20px;","}",".goog-menu-noaccel .goog-menuitem.goog-menuitem-rtl {","  padding-left: 20px;","}",".goog-menuitem-content {","  color: #000;","  font-size: 15px;","}",".goog-menuitem-disabled .goog-menuitem-accel,",".goog-menuitem-disabled .goog-menuitem-content {","  color: #ccc !important;","}",".goog-menuitem-disabled .goog-menuitem-icon {","  opacity: 0.3;","  -moz-opacity: 0.3;","  filter: alpha(opacity=30);","}",".goog-menuitem-highlight,",".goog-menuitem-hover {","  background-color: #d6e9f8;","  border-color: #d6e9f8;","  border-style: dotted;","  border-width: 1px 0;","  padding-bottom: 3px;","  padding-top: 3px;","}",".goog-menuitem-checkbox,",".goog-menuitem-icon {","  background-repeat: no-repeat;","  height: 16px;","  left: 6px;","  position: absolute;","  right: auto;","  vertical-align: middle;","  width: 16px;","}",".goog-menuitem-rtl .goog-menuitem-checkbox,",".goog-menuitem-rtl .goog-menuitem-icon {","  left: auto;","  right: 6px;","}",".goog-option-selected .goog-menuitem-checkbox,",".goog-option-selected .goog-menuitem-icon {","}",".goog-menuitem-accel {","  color: #999;","  direction: ltr;","  left: auto;","  padding: 0 6px;","  position: absolute;","  right: 0;","  text-align: right;","}",".goog-menuitem-rtl .goog-menuitem-accel {","  left: 0;","  right: auto;","  text-align: left;","}",".goog-menuitem-mnemonic-hint {","  text-decoration: underline;","}",".goog-menuitem-mnemonic-separator {","  color: #999;","  font-size: 12px;","  padding-left: 4px;","}",".goog-menuseparator {","  border-top: 1px solid #ccc;","  margin: 4px 0;","  padding: 0;","}",".goog-flat-menu-button {","  background-color: #fff;","  border: 1px solid #c9c9c9;","  color: #333;","  cursor: pointer;","  font: normal 95%;","  list-style: none;","  margin: 0 2px;","  outline: none;","  padding: 1px 4px;","  position: relative;","  text-decoration: none;","  vertical-align: middle;","}",".goog-flat-menu-button-disabled * {","  border-color: #ccc;","  color: #999;","  cursor: default;","}",".goog-flat-menu-button-hover {","  border-color: #9cf #69e #69e #7af !important; /* Hover border wins. */","}",".goog-flat-menu-button-active {","  background-color: #bbb;","  background-position: bottom left;","}",".goog-flat-menu-button-focused {","  border-color: #bbb;","}",".goog-flat-menu-button-caption {","  padding-right: 10px;","  vertical-align: top;","}",".goog-flat-menu-button-dropdown {","  /* Client apps may override the URL at which they serve the sprite. */","  background: url(https://ssl.gstatic.com/editor/editortoolbar.png) no-repeat -388px 0;","  position: absolute;","  right: 2px;","  top: 0;","  vertical-align: top;","  width: 7px;","}",".goog-inline-block {","  position: relative;","  display: -moz-inline-box; /* Ignored by FF3 and later. */","  display: inline-block;","}",""],Blockly.WidgetDiv={},Blockly.WidgetDiv.DIV=null,Blockly.WidgetDiv.owner_=null,Blockly.WidgetDiv.dispose_=null,Blockly.WidgetDiv.show=function(e,t){Blockly.WidgetDiv.hide(),Blockly.WidgetDiv.owner_=e,Blockly.WidgetDiv.dispose_=t,Blockly.WidgetDiv.DIV.style.display="block"},Blockly.WidgetDiv.isVisible=function(){return!!Blockly.WidgetDiv.owner_},Blockly.WidgetDiv.hide=function(){Blockly.WidgetDiv.owner_&&(Blockly.WidgetDiv.DIV.style.display="none",Blockly.WidgetDiv.dispose_&&Blockly.WidgetDiv.dispose_(),Blockly.WidgetDiv.owner_=null,Blockly.WidgetDiv.dispose_=null,goog.dom.removeChildren(Blockly.WidgetDiv.DIV))},Blockly.WidgetDiv.hideIfOwner=function(e){Blockly.WidgetDiv.isOwner(e)&&Blockly.WidgetDiv.hide()},Blockly.WidgetDiv.isOwner=function(e){return Blockly.WidgetDiv.owner_==e},Blockly.WidgetDiv.position=function(e,t,o,n){t<n.y&&(t=n.y),Blockly.RTL?e>o.width+n.x&&(e=o.width+n.x):e<n.x&&(e=n.x),Blockly.WidgetDiv.DIV.style.left=e+"px",Blockly.WidgetDiv.DIV.style.top=t+"px"},Blockly.inject=function(e,t,o){if(!goog.dom.contains(document,e))throw"Error: container is not in current document.";t&&goog.mixin(Blockly,Blockly.parseOptions_(t)),goog.ui.Component.setDefaultRightToLeft(Blockly.RTL),Blockly.Css.inject(e),o&&(Blockly.audioPlayer=o,Blockly.registerUISounds_(Blockly.audioPlayer)),Blockly.mainBlockSpaceEditor=new Blockly.BlockSpaceEditor(e),Blockly.mainBlockSpace=Blockly.mainBlockSpaceEditor.blockSpace,Blockly.fireUiEvent(document,Blockly.BlockSpace.EVENTS.MAIN_BLOCK_SPACE_CREATED),Blockly.useModalFunctionEditor?Blockly.functionEditor=new Blockly.FunctionEditor:Blockly.useContractEditor&&(Blockly.functionEditor=new Blockly.ContractEditor({disableExamples:t&&t.disableExamples}),Blockly.contractEditor=Blockly.functionEditor),Blockly.focusedBlockSpace=Blockly.mainBlockSpace},Blockly.parseOptions_=function(e){var t,o,n,r=!!e.readOnly,i=!!e.showUnusedBlocks;if(r)var a=n=o=t=!1,s=null;else t=(s=e.toolbox)?("string"!=typeof s&&"undefined"==typeof XSLTProcessor&&(s=s.outerHTML),"string"==typeof s&&(s=Blockly.Xml.textToDom(s)),!!s.getElementsByTagName("category").length):(s=null,!1),void 0===(o=e.trashcan)&&(o=t),void 0===(n=e.collapse)&&(n=t),void 0===(a=e.grayOutUndeletableBlocks)&&(a=!1);e.scrollbars&&(e.hasVerticalScrollbars=!0,e.hasHorizontalScrollbars=!0);var l=e.topLevelProcedureAutopopulate||!1;return l&&t&&(console.warn("Don't use topLevelProcedureAutopopulate with a categorized toolbox"),l=!1),{RTL:!!e.rtl,collapse:n,readOnly:r,showUnusedBlocks:i,maxBlocks:e.maxBlocks||1/0,assetUrl:e.assetUrl||function(e){return"./"+e},hasCategories:t,hasHorizontalScrollbars:e.hasHorizontalScrollbars,hasVerticalScrollbars:e.hasVerticalScrollbars,customSimpleDialog:e.customSimpleDialog,hasTrashcan:o,varsInGlobals:e.varsInGlobals||!1,languageTree:s,disableIfElseEditing:e.disableIfElseEditing||!1,disableParamEditing:e.disableParamEditing||!1,disableVariableEditing:e.disableVariableEditing||!1,disableProcedureAutopopulate:e.disableProcedureAutopopulate||!1,topLevelProcedureAutopopulate:l,useModalFunctionEditor:e.useModalFunctionEditor||!1,useContractEditor:e.useContractEditor||!1,disableExamples:e.disableExamples||!1,defaultNumExampleBlocks:e.defaultNumExampleBlocks||0,grayOutUndeletableBlocks:a,editBlocks:e.editBlocks||!1,showExampleTestButtons:e.showExampleTestButtons||!1,valueTypeTabShapeMap:e.valueTypeTabShapeMap||{},typeHints:e.typeHints||!1}},Blockly.registerUISounds_=function(e){e.register({id:"click",mp3:Blockly.assetUrl("media/click.mp3"),wav:Blockly.assetUrl("media/click.wav"),ogg:Blockly.assetUrl("media/click.ogg")}),e.register({id:"delete",mp3:Blockly.assetUrl("media/delete.mp3"),wav:Blockly.assetUrl("media/delete.wav"),ogg:Blockly.assetUrl("media/delete.ogg")})},goog.memoize=function(o,e){var n=e||goog.memoize.simpleSerializer;return function(){if(goog.memoize.ENABLE_MEMOIZE){var e=this||goog.global;e=e[goog.memoize.CACHE_PROPERTY_]||(e[goog.memoize.CACHE_PROPERTY_]={});var t=n(goog.getUid(o),arguments);return e.hasOwnProperty(t)?e[t]:e[t]=o.apply(this,arguments)}return o.apply(this,arguments)}},goog.memoize.ENABLE_MEMOIZE=!0,goog.memoize.clearCache=function(e){e[goog.memoize.CACHE_PROPERTY_]={}},goog.memoize.CACHE_PROPERTY_="closure_memoize_cache_",goog.memoize.simpleSerializer=function(e,t){e=[e];for(var o=t.length-1;0<=o;--o)e.push(typeof t[o],t[o]);return e.join("\v")},Blockly.utils={},Blockly.addClass_=function(e,t){var o=e.getAttribute("class")||"";Blockly.stringContainsClass_(o,t)||(o&&(o+=" "),e.setAttribute("class",o+t))},Blockly.elementHasClass_=function(e,t){return Blockly.stringContainsClass_(e.getAttribute("class")||"",t)},Blockly.stringContainsClass_=function(e,t){return-1!==(" "+e+" ").indexOf(" "+t+" ")},Blockly.removeClass_=function(e,t){var o=e.getAttribute("class");if(-1!=(" "+o+" ").indexOf(" "+t+" ")){o=o.split(/\s+/);for(var n=0;n<o.length;n++)o[n]&&o[n]!=t||(o.splice(n,1),n--);o.length?e.setAttribute("class",o.join(" ")):e.removeAttribute("class")}},Blockly.bindEvent_=function(e,t,n,r,o){o=!!o;var i=[];if(!e.addEventListener)throw"Element is not a DOM node with addEventListener.";var a=function(e){r.apply(n,arguments)},s=Blockly.bindEvent_.TOUCH_MAP[t];return s?(window.navigator.pointerEnabled||window.navigator.msPointerEnabled||(e.addEventListener(t,a,o),i.push([e,t,a,o])),a=function(e){if(e.target&&e.target.style){var t=e.target.style;t.touchAction?t.touchAction="none":t.msTouchAction&&(t.msTouchAction="none")}t=e.changedTouches||[e];for(var o=0;o<t.length;++o)e.clientX=t[o].clientX,e.clientY=t[o].clientY,r.apply(n,arguments)},e.addEventListener(s,a,o),i.push([e,s,a,o])):(e.addEventListener(t,a,o),i.push([e,t,a,o])),i},Blockly.bindEvent_.TOUCH_MAP={},window.navigator.pointerEnabled?Blockly.bindEvent_.TOUCH_MAP={mousedown:"pointerdown",mousemove:"pointermove",mouseup:"pointerup"}:window.navigator.msPointerEnabled?Blockly.bindEvent_.TOUCH_MAP={mousedown:"MSPointerDown",mousemove:"MSPointerMove",mouseup:"MSPointerUp"}:("ontouchstart"in document.documentElement||0<navigator.maxTouchPoints)&&(Blockly.bindEvent_.TOUCH_MAP={mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend"}),Blockly.unbindEvent_=function(e){for(;e.length;){var t=e.pop(),o=t[2];t[0].removeEventListener(t[1],o,t[3])}return o},Blockly.fireUiEvent=function(e,t,o){o=o||{};var n=document;if(n.createEvent)n=n.createEvent("UIEvents"),goog.object.extend(n,o),n.initEvent(t,!0,!0),e.dispatchEvent(n);else{if(!n.createEventObject)throw"FireEvent: No event creation mechanism.";n=n.createEventObject(),goog.object.extend(n,o),e.fireEvent("on"+t,n)}},Blockly.noEvent=function(e){e.preventDefault(),e.stopPropagation()},Blockly.getRelativeXY=function(e){var t={x:0,y:0},o=e.getAttribute("x");return o&&(t.x=parseFloat(o)),(o=e.getAttribute("y"))&&(t.y=parseFloat(o)),(e=(e=e.getAttribute("transform"))&&e.match(/translate\(\s*([-\d.]+)([ ,]\s*([-\d.]+)\s*\))?/))&&(t.x+=parseFloat(e[1]),e[3]&&(t.y+=parseFloat(e[3]))),t},Blockly.getSvgXY_=function(e,t){var o=0,n=0;t=t||Blockly.topMostSVGParent(e);do{var r=Blockly.getRelativeXY(e);o+=r.x,n+=r.y,e=e.parentNode}while(e&&e!==t);return{x:o,y:n}},Blockly.getAbsoluteXY_=function(e,t){var o=Blockly.getSvgXY_(e,t);return Blockly.convertCoordinates(o.x,o.y,t||Blockly.topMostSVGParent(e),!1)},Blockly.topMostSVGParent=function(e){for(var t=null;e;)"svg"===e.tagName&&(t=e),e=goog.dom.getParentElement(e);return t||Blockly.mainBlockSpaceEditor.getSVGElement()},Blockly.createSvgElement=function(e,t,o,n){for(var r in n=n||{},e=document.createElementNS(Blockly.SVG_NS,e),t)e.setAttribute(r,t[r]);return document.body.runtimeStyle&&(e.runtimeStyle=e.currentStyle=e.style),o&&(n.belowExisting?goog.dom.insertChildAt(o,e,0):goog.dom.appendChild(o,e)),e},Blockly.isRightButton=function(e){return 2==e.button||e.ctrlKey},Blockly.convertCoordinates=function(e,t,o,n){n&&(e-=window.pageXOffset,t-=window.pageYOffset);var r=o.createSVGPoint();return r.x=e,r.y=t,(e=o.getScreenCTM())||(e=o.getBoundingClientRect(),e=o.createSVGMatrix(e.left,e.top)),n&&(e=e.inverse()),o=r.matrixTransform(e),n||(goog.userAgent.IPAD||goog.userAgent.IPHONE)&&!goog.userAgent.isVersionOrHigher(538)||(o.x+=window.pageXOffset,o.y+=window.pageYOffset),o},Blockly.mouseToSvg=function(e,t){return Blockly.mouseCoordinatesToSvg(e.clientX,e.clientY,t||Blockly.topMostSVGParent(e.target))},Blockly.mouseCoordinatesToSvg=function(e,t,o){return Blockly.convertCoordinates(e+window.pageXOffset,t+window.pageYOffset,o,!0)},Blockly.svgCoordinatesToViewport=function(e,t){return t=t.getMetrics(),new goog.math.Coordinate(e.x-t.absoluteLeft,e.y-t.absoluteTop)},Blockly.viewportCoordinateToBlockSpace=function(e,t){return t=t.getViewportBox(),new goog.math.Coordinate(e.x+t.left,e.y+t.top)},Blockly.shortestStringLength=function(e){if(!e.length)return 0;for(var t=e[0].length,o=1;o<e.length;o++)t=Math.min(t,e[o].length);return t},Blockly.commonWordPrefix=function(e,t){if(!e.length)return 0;if(1==e.length)return e[0].length;var o=0;t=t||Blockly.shortestStringLength(e);for(var n=0;n<t;n++){for(var r=e[0][n],i=1;i<e.length;i++)if(r!=e[i][n])return o;" "==r&&(o=n+1)}for(i=1;i<e.length;i++)if((r=e[i][n])&&" "!=r)return o;return t},Blockly.commonWordSuffix=function(e,t){if(!e.length)return 0;if(1==e.length)return e[0].length;var o=0;t=t||Blockly.shortestStringLength(e);for(var n=0;n<t;n++){for(var r=e[0].substr(-n-1,1),i=1;i<e.length;i++)if(r!=e[i].substr(-n-1,1))return o;" "==r&&(o=n+1)}for(i=1;i<e.length;i++)if((r=e[i].charAt(e[i].length-n-1))&&" "!=r)return o;return t},Blockly.isNumber=function(e){return!!e.match(/^\s*-?\d+(\.\d+)?\s*$/)},Blockly.isMsie=function(){return 0<=window.navigator.userAgent.indexOf("MSIE")},Blockly.isTrident=function(){return 0<=window.navigator.userAgent.indexOf("Trident")},Blockly.isIOS=function(){return/iP(hone|od|ad)/.test(navigator.platform)},Blockly.ieVersion=function(){return document.documentMode},Blockly.mixColoursWithForegroundOpacity=function(e,t,o){return e=goog.color.hexToRgb(e),t=goog.color.hexToRgb(t),goog.color.rgbToHex(Math.round(t[0]*(1-o)+e[0]*o),Math.round(t[1]*(1-o)+e[1]*o),Math.round(t[2]*(1-o)+e[2]*o))},Blockly.printerRangeToNumbers=function(e){e=e.replace(/ /g,"").split(",");for(var t=[],o=/^(\d+)\-(\d+)$/,n=/^(\d+)$/,r=0;r<e.length;r++){var i=e[r],a=o.exec(i);i=n.exec(i),a?(a=goog.array.range(Number(a[1]),Number(a[2])+1),t=t.concat(a)):i&&t.push(Number(i[1]))}return t},Blockly.getUID=function(){return goog.events.getUniqueId("blocklyUID")},Blockly.isTargetInput=function(e){return"textarea"==e.target.type||"text"==e.target.type||"tel"==e.target.type},Blockly.blockContextMenu=function(e){Blockly.isTargetInput(e)||e.preventDefault()},Blockly.getNormalizedWheelDeltaY=function(e){return(e=e.deltaY||-e.wheelDeltaY)?(goog.userAgent.GECKO&&(e*=10),e):null},Blockly.getBoxOverflow=function(e,t){return new goog.math.Box(Math.max(0,e.top-t.top),Math.max(0,t.right-e.right),Math.max(0,t.bottom-e.bottom),Math.max(0,e.left-t.left))},Blockly.getPointBoxOverflow=function(e,t){return new goog.math.Box(e.top-t.y,t.x-e.right,t.y-e.bottom,e.left-t.x)},Blockly.isBoxWiderThan=function(e,t){return Blockly.getBoxWidth(e)>Blockly.getBoxWidth(t)},Blockly.isBoxTallerThan=function(e,t){return Blockly.getBoxHeight(e)>Blockly.getBoxHeight(t)},Blockly.getBoxWidth=function(e){return e.right-e.left},Blockly.getBoxHeight=function(e){return e.bottom-e.top},Blockly.numberWithin=function(e,t,o,n){return n?t<=e&&e<=o:t<e&&e<o},Blockly.svgRectToRect=function(e){return new goog.math.Rect(e.x,e.y,e.width,e.height)},Blockly.showSimpleDialog=function(e){Blockly.customSimpleDialog&&Blockly.customSimpleDialog(e)},Blockly.BOX_DIRECTIONS=["top","right","bottom","left"],Blockly.addToNonZeroSides=function(t,o){Blockly.BOX_DIRECTIONS.forEach(function(e){0!==t[e]&&(t[e]+=o)})},Blockly.svgIgnoreMouseEvents=function(e){e.style.pointerEvents="none"},Blockly.fireTestClickSequence=function(e){Blockly.fireTestMouseEvent(e,"mousedown"),Blockly.fireTestMouseEvent(e,"mouseup"),Blockly.fireTestMouseEvent(e,"click")},Blockly.fireTestMouseEvent=function(e,t){if(!document.createEvent)throw"fireTestMouseEvent is only for testing in browsers with createEvent";e.dispatchEvent(Blockly.makeTestMouseEvent(t))},Blockly.makeTestMouseEvent=function(e){var t=document.createEvent("MouseEvents");return t.initMouseEvent(e,!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),t},Blockly.findEmptyContainerBlock=function(e){for(var t=0;t<e.length;t++){var o=e[t];if(Blockly.findEmptyInput(o,Blockly.NEXT_STATEMENT))return o}return null},Blockly.findEmptyInput=function(e,t){return goog.array.find(e.inputList,function(e){return e.type===t&&!e.connection.targetConnection})},Blockly.aggregateCounts=function(e){return e.reduce(function(e,t){return e[t]=(e[t]||0)+1,e},{})},Blockly.Blocks.colour={},Blockly.Blocks.colour_picker={init:function(){this.setHelpUrl(Blockly.Msg.COLOUR_PICKER_HELPURL),this.appendDummyInput().appendTitle(new Blockly.FieldColour("#ff0000"),"COLOUR"),this.setOutput(!0,Blockly.BlockValueType.COLOUR),this.setTooltip(Blockly.Msg.COLOUR_PICKER_TOOLTIP)}},Blockly.Blocks.colour_random={init:function(){this.setHelpUrl(Blockly.Msg.COLOUR_RANDOM_HELPURL),this.appendDummyInput().appendTitle(Blockly.Msg.COLOUR_RANDOM_TITLE),this.setOutput(!0,Blockly.BlockValueType.COLOUR),this.setTooltip(Blockly.Msg.COLOUR_RANDOM_TOOLTIP)}},Blockly.Blocks.colour_rgb={init:function(){this.setHelpUrl(Blockly.Msg.COLOUR_RGB_HELPURL),this.appendValueInput("RED").setCheck(Blockly.BlockValueType.NUMBER).setAlign(Blockly.ALIGN_RIGHT).appendTitle(Blockly.Msg.COLOUR_RGB_TITLE).appendTitle(Blockly.Msg.COLOUR_RGB_RED),this.appendValueInput("GREEN").setCheck(Blockly.BlockValueType.NUMBER).setAlign(Blockly.ALIGN_RIGHT).appendTitle(Blockly.Msg.COLOUR_RGB_GREEN),this.appendValueInput("BLUE").setCheck(Blockly.BlockValueType.NUMBER).setAlign(Blockly.ALIGN_RIGHT).appendTitle(Blockly.Msg.COLOUR_RGB_BLUE),this.setOutput(!0,Blockly.BlockValueType.COLOUR),this.setTooltip(Blockly.Msg.COLOUR_RGB_TOOLTIP)}},Blockly.Blocks.colour_blend={init:function(){this.setHelpUrl(Blockly.Msg.COLOUR_BLEND_HELPURL),this.appendValueInput("COLOUR1").setCheck(Blockly.BlockValueType.COLOUR).setAlign(Blockly.ALIGN_RIGHT).appendTitle(Blockly.Msg.COLOUR_BLEND_TITLE).appendTitle(Blockly.Msg.COLOUR_BLEND_COLOUR1),this.appendValueInput("COLOUR2").setCheck(Blockly.BlockValueType.COLOUR).setAlign(Blockly.ALIGN_RIGHT).appendTitle(Blockly.Msg.COLOUR_BLEND_COLOUR2),this.appendValueInput("RATIO").setCheck(Blockly.BlockValueType.NUMBER).setAlign(Blockly.ALIGN_RIGHT).appendTitle(Blockly.Msg.COLOUR_BLEND_RATIO),this.setOutput(!0,Blockly.BlockValueType.COLOUR),this.setTooltip(Blockly.Msg.COLOUR_BLEND_TOOLTIP)}},Blockly.Blocks.functionalExamples={},Blockly.Blocks.functional_example={shouldHideIfInMainBlockSpace:function(){return!0},isCopyable:function(){return!1},init:function(){this.setHSV(0,0,.49),this.setFunctional(!0,{headerHeight:0,rowBuffer:3}),this.setFunctionalOutput(!1),this.appendFunctionalInput("ACTUAL").setAlign(Blockly.ALIGN_CENTRE),this.appendFunctionalInput("EXPECTED").setAlign(Blockly.ALIGN_CENTRE).setInline(!0),this.setTooltip(Blockly.Msg.EXAMPLE_DESCRIPTION)},mutationToDom:function(){},domToMutation:function(e){},updateOutputType:function(e){this.outputType_=e,this.changeFunctionalOutput(this.outputType_)},updateInputsToType:function(e){this.updateInputType_(this.getInput("EXPECTED"),e),this.updateInputType_(this.getInput("ACTUAL"),e),this.render()},updateInputType_:function(e,t){e.setHSV.apply(e,Blockly.FunctionalTypeColors[t]),e.setCheck(t)}},Blockly.Blocks.variables={},Blockly.Blocks.variables_get={init:function(){var e=new Blockly.FieldLabel(Blockly.Msg.VARIABLES_GET_ITEM);e.EDITABLE=!0,this.setHelpUrl(Blockly.Msg.VARIABLES_GET_HELPURL),this.setHSV(312,.32,.62),this.appendDummyInput().appendTitle(Blockly.Msg.VARIABLES_GET_TITLE).appendTitle(Blockly.disableVariableEditing?e:new Blockly.FieldVariable(Blockly.Msg.VARIABLES_GET_ITEM),"VAR").appendTitle(Blockly.Msg.VARIABLES_GET_TAIL),this.setOutput(!0),this.setTooltip(Blockly.Msg.VARIABLES_GET_TOOLTIP)},getVars:Blockly.Variables.getVars,renameVar:function(e,t){Blockly.Names.equals(e,this.getTitleValue("VAR"))&&this.setTitleValue(t,"VAR")},removeVar:function(e){Blockly.Names.equals(e,this.getTitleValue("VAR"))&&this.dispose(!0,!0)},contextMenuType_:"variables_set",customContextMenu:function(e){var t={enabled:!0},o=this.getTitleValue("VAR");t.text=Blockly.Msg.VARIABLES_GET_CREATE_SET.replace("%1",o),(o=goog.dom.createDom("title",null,o)).setAttribute("name","VAR"),(o=goog.dom.createDom("block",null,o)).setAttribute("type",this.contextMenuType_),t.callback=Blockly.ContextMenu.callbackFactory(this,o),e.push(t)}},Blockly.Blocks.variables_set={init:function(){var e=new Blockly.FieldLabel(Blockly.Msg.VARIABLES_SET_ITEM);e.EDITABLE=!0,this.setHelpUrl(Blockly.Msg.VARIABLES_SET_HELPURL),this.setHSV(312,.32,.62),this.appendValueInput("VALUE").appendTitle(Blockly.Msg.VARIABLES_SET_TITLE).appendTitle(Blockly.disableVariableEditing?e:new Blockly.FieldVariable(Blockly.Msg.VARIABLES_SET_ITEM),"VAR").appendTitle(Blockly.Msg.VARIABLES_SET_TAIL),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip(Blockly.Msg.VARIABLES_SET_TOOLTIP)},getVars:Blockly.Variables.getVars,renameVar:function(e,t){Blockly.Names.equals(e,this.getTitleValue("VAR"))&&this.setTitleValue(t,"VAR")},contextMenuMsg_:Blockly.Msg.VARIABLES_SET_CREATE_GET,contextMenuType_:"variables_get",customContextMenu:Blockly.Blocks.variables_get.customContextMenu},Blockly.Blocks.parameters_get={init:function(){var e=new Blockly.FieldLabel(Blockly.Msg.VARIABLES_GET_ITEM);e.EDITABLE=!0,this.setHelpUrl(Blockly.Msg.VARIABLES_GET_HELPURL),this.setHSV(7,.8,.95),this.appendDummyInput().appendTitle(Blockly.Msg.VARIABLES_GET_TITLE).appendTitle(Blockly.disableVariableEditing?e:new Blockly.FieldParameter(Blockly.Msg.VARIABLES_GET_ITEM),"VAR").appendTitle(Blockly.Msg.VARIABLES_GET_TAIL),this.setOutput(!0),this.setTooltip(Blockly.Msg.VARIABLES_GET_TOOLTIP)},mutationToDom:function(){var e=this.outputConnection.getCheck();if(e&&1===e.length){var t=document.createElement("mutation");return t.setAttribute("output",e[0]),t}},domToMutation:function(e){(e=e.getAttribute("output"))&&(this.setColour(null),this.outputConnection.setCheck(e,!!Blockly.valueTypeTabShapeMap[e]))},renameVar:function(t,o){Blockly.FunctionEditor.allFunctionEditors.forEach(function(e){e.isOpen()&&(e.renameParameter(t,o),e.refreshParamsEverywhere())})},removeVar:Blockly.Blocks.variables_get.removeVar},Blockly.Blocks.functionalParameters={},Blockly.Blocks.functional_parameters_get={init:function(){var e=new Blockly.FieldLabel(Blockly.Msg.VARIABLES_GET_ITEM);e.EDITABLE=!0,this.setHelpUrl(Blockly.Msg.VARIABLES_GET_HELPURL),this.setHSV(312,.32,.62),this.setFunctional(!0),this.appendDummyInput().appendTitle(Blockly.Msg.VARIABLES_GET_TITLE).appendTitle(e,"VAR").appendTitle(Blockly.Msg.VARIABLES_GET_TAIL).setAlign(Blockly.ALIGN_CENTRE),this.setFunctionalOutput(!0),this.setTooltip(Blockly.Msg.VARIABLES_GET_TOOLTIP)},renameVar:function(e,t){if(Blockly.functionEditor){var o=this.getTitle_("VAR");o.getText()===e&&o.setText(t)}},removeVar:Blockly.Blocks.variables_get.removeVar,mutationToDom:function(){var e=document.createElement("mutation");if(this.description_){var t=document.createElement("description");t.textContent=this.description_,e.appendChild(t)}return this.outputType_&&((t=document.createElement("outputtype")).textContent=this.outputType_,e.appendChild(t)),e},domToMutation:function(e){for(var t,o=0;t=e.childNodes[o];o++){var n=t.nodeName.toLowerCase();"description"===n?this.description_=t.textContent:"outputtype"===n&&(this.outputType_=t.textContent,this.changeFunctionalOutput(this.outputType_))}}},Blockly.Blocks.procedures={},Blockly.Block.createProcedureDefinitionBlock=function(o){(o=o||{}).overrides=o.overrides||{};var e={shouldHideIfInMainBlockSpace:function(){return Blockly.useModalFunctionEditor},init:function(){var e=!Blockly.disableParamEditing&&!Blockly.useModalFunctionEditor;this.setHelpUrl(Blockly.Msg.PROCEDURES_DEFNORETURN_HELPURL),this.setHSV(94,.84,.6);var t=Blockly.Procedures.findLegalName(Blockly.Msg.PROCEDURES_DEFNORETURN_PROCEDURE,this);this.appendDummyInput().appendTitle(e?"":" ").appendTitle(new Blockly.FieldTextInput(t,Blockly.Procedures.rename),"NAME").appendTitle("","PARAMS"),this.appendStatementInput("STACK").appendTitle(Blockly.Msg.PROCEDURES_DEFNORETURN_DO),e&&this.setMutator(new Blockly.Mutator(["procedures_mutatorarg"])),this.setTooltip(Blockly.Msg.PROCEDURES_DEFNORETURN_TOOLTIP),this.setFramed(this.blockSpace===Blockly.mainBlockSpace&&!this.blockSpace.isReadOnly()),this.parameterNames_=[],this.parameterTypes_=[],o.initPostScript&&o.initPostScript(this)},updateParams_:function(){for(var e=!1,t={},o=0;o<this.parameterNames_.length;o++){if(t["arg_"+this.parameterNames_[o].toLowerCase()]){e=!0;break}t["arg_"+this.parameterNames_[o].toLowerCase()]=!0}e?this.setWarningText(Blockly.Msg.PROCEDURES_DEF_DUPLICATE_WARNING):this.setWarningText(null),e="",this.parameterNames_.length&&(e=Blockly.Msg.PROCEDURES_BEFORE_PARAMS+" "+this.parameterNames_.join(", ")),this.setTitleValue(e,"PARAMS")},mutationToDom:function(){for(var e=document.createElement("mutation"),t=0;t<this.parameterNames_.length;t++){var o=document.createElement("arg");o.setAttribute("name",this.parameterNames_[t]),this.parameterTypes_&&this.parameterTypes_[t]&&o.setAttribute("type",this.parameterTypes_[t]),e.appendChild(o)}return this.description_&&((t=document.createElement("description")).textContent=this.description_,e.appendChild(t)),e},domToMutation:function(e){this.parameterNames_=[];for(var t,o=0;t=e.childNodes[o];o++){var n=t.nodeName.toLowerCase();"arg"===n?(this.parameterNames_.push(t.getAttribute("name")),(t=t.getAttribute("type"))&&(this.parameterTypes_||(this.parameterTypes_=[]),this.parameterTypes_[this.parameterNames_.length-1]=t)):"description"===n&&(this.description_=t.textContent)}this.updateParams_()},decompose:function(e){var t=new Blockly.Block(e,"procedures_mutatorcontainer");t.initSvg();for(var o=t.getInput("STACK").connection,n=0;n<this.parameterNames_.length;n++){var r=new Blockly.Block(e,"procedures_mutatorarg");r.initSvg(),r.setTitleValue(this.parameterNames_[n],"NAME"),r.setTitleValue(this.parameterTypes_[n],"TYPE"),r.oldLocation=n,o.connect(r.previousConnection),o=r.nextConnection}return Blockly.Procedures.mutateCallers(this.getTitleValue("NAME"),this.blockSpace,this.parameterNames_,null),t},compose:function(e){e=e.getInputTargetBlock("STACK");for(var t=[],o=[],n=[];e;)t.push(e.getTitleValue("NAME")),o.push(e.getTitleValue("TYPE")),n.push(e.id),e=e.nextConnection&&e.nextConnection.targetBlock();this.updateParamsFromArrays(t,n,o)},updateParamsFromArrays:function(e,t,o){this.parameterNames_=goog.array.clone(e),this.parameterTypes_=goog.array.clone(o),this.paramIds_=t?goog.array.clone(t):null,this.updateParams_(),this.updateCallerParams_()},updateCallerParams_:function(){Blockly.Procedures.mutateCallers(this.getTitleValue("NAME"),this.blockSpace,this.parameterNames_,this.paramIds_,this.parameterTypes_)},dispose:function(e,t,o){if(!o){var n=this.getTitleValue("NAME");Blockly.Procedures.disposeCallers(n,this.blockSpace)}Blockly.Block.prototype.dispose.apply(this,arguments)},getProcedureInfo:function(){return{name:this.getTitleValue("NAME"),parameterNames:this.parameterNames_,parameterIDs:this.paramIds_,parameterTypes:this.parameterTypes_,type:this.type,callType:this.callType_}},getVars:function(){return{Default:this.parameterNames_}},renameVar:function(e,t){for(var o=!1,n=0;n<this.parameterNames_.length;n++)Blockly.Names.equals(e,this.parameterNames_[n])&&(this.parameterNames_[n]=t,o=!0);if(o&&(this.updateParams_(),this.mutator&&this.mutator.isVisible())){o=this.mutator.blockSpace_.getAllBlocks(),n=0;for(var r;r=o[n];n++)"procedures_mutatorarg"==r.type&&Blockly.Names.equals(e,r.getTitleValue("NAME"))&&r.setTitleValue(t,"NAME")}},removeVar:function(e){-1<(e=this.parameterNames_.indexOf(e))&&(this.parameterNames_.splice(e,1),this.parameterTypes_&&this.parameterTypes_.splice(e,1),this.updateParams_())},customContextMenu:function(e){var t={enabled:!0},o=this.getTitleValue("NAME");t.text=Blockly.Msg.PROCEDURES_CREATE_DO.replace("%1",o);var n=goog.dom.createDom("mutation");n.setAttribute("name",o);for(var r=0;r<this.parameterNames_.length;r++)(o=goog.dom.createDom("arg")).setAttribute("name",this.parameterNames_[r]),n.appendChild(o);for((n=goog.dom.createDom("block",null,n)).setAttribute("type",this.callType_),t.callback=Blockly.ContextMenu.callbackFactory(this,n),e.push(t),r=0;r<this.parameterNames_.length;r++)t={enabled:!0},o=this.parameterNames_[r],t.text=Blockly.Msg.VARIABLES_SET_CREATE_GET.replace("%1",o),(n=goog.dom.createDom("title",null,o)).setAttribute("name","VAR"),(n=goog.dom.createDom("block",null,n)).setAttribute("type","variables_get"),t.callback=Blockly.ContextMenu.callbackFactory(this,n),e.push(t)},userCreated:!1,shouldBeGrayedOut:function(){return!1},callType_:"procedures_callnoreturn"};return goog.object.extend(e,o.overrides),e},Blockly.Blocks.procedures_defnoreturn=Blockly.Block.createProcedureDefinitionBlock(),Blockly.Blocks.procedures_defreturn={shouldHideIfInMainBlockSpace:function(){return Blockly.useModalFunctionEditor},init:function(){this.setHelpUrl(Blockly.Msg.PROCEDURES_DEFRETURN_HELPURL),this.setHSV(94,.84,.6);var e=Blockly.Procedures.findLegalName(Blockly.Msg.PROCEDURES_DEFRETURN_PROCEDURE,this);this.appendDummyInput().appendTitle(Blockly.Msg.PROCEDURES_DEFRETURN_TITLE).appendTitle(new Blockly.FieldTextInput(e,Blockly.Procedures.rename),"NAME").appendTitle("","PARAMS"),this.appendStatementInput("STACK").appendTitle(Blockly.Msg.PROCEDURES_DEFRETURN_DO),this.appendValueInput("RETURN").setAlign(Blockly.ALIGN_RIGHT).appendTitle(Blockly.Msg.PROCEDURES_DEFRETURN_RETURN),this.setMutator(new Blockly.Mutator(["procedures_mutatorarg"])),this.setTooltip(Blockly.Msg.PROCEDURES_DEFRETURN_TOOLTIP),this.setFramed(this.blockSpace===Blockly.mainBlockSpace&&!this.blockSpace.isReadOnly()),this.parameterNames_=[]},updateParams_:Blockly.Blocks.procedures_defnoreturn.updateParams_,updateCallerParams_:Blockly.Blocks.procedures_defnoreturn.updateCallerParams_,updateParamsFromArrays:Blockly.Blocks.procedures_defnoreturn.updateParamsFromArrays,mutationToDom:Blockly.Blocks.procedures_defnoreturn.mutationToDom,domToMutation:Blockly.Blocks.procedures_defnoreturn.domToMutation,decompose:Blockly.Blocks.procedures_defnoreturn.decompose,compose:Blockly.Blocks.procedures_defnoreturn.compose,dispose:Blockly.Blocks.procedures_defnoreturn.dispose,getProcedureInfo:function(){return{name:this.getTitleValue("NAME"),parameterNames:this.parameterNames_,parameterIDs:this.paramIds_,type:this.type,callType:this.callType_}},getVars:Blockly.Blocks.procedures_defnoreturn.getVars,renameVar:Blockly.Blocks.procedures_defnoreturn.renameVar,customContextMenu:Blockly.Blocks.procedures_defnoreturn.customContextMenu,userCreated:Blockly.Blocks.procedures_defnoreturn.userCreated,shouldBeGrayedOut:Blockly.Blocks.procedures_defnoreturn.shouldBeGrayedOut,callType_:"procedures_callreturn"},Blockly.Blocks.procedures_mutatorcontainer={init:function(){this.setHSV(94,.84,.6),this.appendDummyInput().appendTitle(Blockly.Msg.PROCEDURES_MUTATORCONTAINER_TITLE),this.appendStatementInput("STACK"),this.setTooltip(""),this.contextMenu=!1}},Blockly.Blocks.procedures_mutatorarg={init:function(){this.setHSV(94,.84,.6),this.appendDummyInput().appendTitle(Blockly.Msg.PROCEDURES_MUTATORARG_TITLE).appendTitle(new Blockly.FieldTextInput("x",this.validator),"NAME"),Blockly.valueTypeTabShapeMap&&(this.appendDummyInput().appendTitle(Blockly.Msg.PROCEDURES_MUTATORARG_TYPE).appendTitle(new Blockly.FieldDropdown(function(){return goog.object.getValues(Blockly.BlockValueType).map(function(e){return[e,e]})}),"TYPE"),this.setInputsInline(!0)),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip(""),this.contextMenu=!1}},Blockly.Blocks.procedures_mutatorarg.validator=function(e){return(e=e.replace(/[\s\xa0]+/g," ").replace(/^ | $/g,""))||null},Blockly.Blocks.procedures_callnoreturn={init:function(){this.setHelpUrl(Blockly.Msg.PROCEDURES_CALLNORETURN_HELPURL),this.setHSV(94,.84,.6);var e=this.appendDummyInput().appendTitle(Blockly.Msg.PROCEDURES_CALLNORETURN_CALL).appendTitle("","NAME");if(Blockly.useModalFunctionEditor){var t=new Blockly.FieldIcon(Blockly.Msg.FUNCTION_EDIT);Blockly.bindEvent_(t.fieldGroup_,"mousedown",this,this.openEditor),e.appendTitle(t)}this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip(Blockly.Msg.PROCEDURES_CALLNORETURN_TOOLTIP),this.currentParameterNames_=[],this.currentParameterIDs=this.parameterIDsToArgumentConnections=null},openEditor:function(e){e.stopPropagation(),Blockly.functionEditor.openEditorForCallBlock_(this)},getCallName:function(){return this.getTitleValue("NAME")},renameProcedure:function(e,t){Blockly.Names.equals(e,this.getTitleValue("NAME"))&&(this.setTitleValue(t,"NAME"),this.setTooltip((this.outputConnection?Blockly.Msg.PROCEDURES_CALLRETURN_TOOLTIP:Blockly.Msg.PROCEDURES_CALLNORETURN_TOOLTIP).replace("%1",t)))},setProcedureParameters:function(e,t,o){if(t){if(t.length!=e.length)throw"Error: paramNames and paramIds must be the same length.";this.currentParameterIDs||(this.parameterIDsToArgumentConnections={},e.join("\n")==this.currentParameterNames_.join("\n")?this.currentParameterIDs=t:this.currentParameterIDs=[]);var n=this.rendered;this.rendered=!1;for(var r=this.currentParameterNames_.length-1;0<=r;r--){var i=this.getInput("ARG"+r);if(i){var a=i.connection.targetConnection;this.parameterIDsToArgumentConnections[this.currentParameterIDs[r]]=a,this.removeInput("ARG"+r)}}for(this.currentParameterNames_=[].concat(e),this.currentParameterIDs=t,this.currentParameterTypes_=o,r=0;r<this.currentParameterNames_.length;r++)i=this.appendValueInput("ARG"+r).setAlign(Blockly.ALIGN_RIGHT).appendTitle(this.currentParameterNames_[r]),this.currentParameterIDs&&(e=this.currentParameterIDs[r])in this.parameterIDsToArgumentConnections&&(!(a=this.parameterIDsToArgumentConnections[e])||a.targetConnection||a.sourceBlock_.blockSpace!=this.blockSpace?delete this.parameterIDsToArgumentConnections[e]:i.connection.connect(a)),i.setStrictCheck(this.currentParameterTypes_[r]);(this.rendered=n)&&(this.render(),this.bumpNeighbours())}else this.parameterIDsToArgumentConnections={},this.currentParameterIDs=null},mutationToDom:function(){var e=document.createElement("mutation");e.setAttribute("name",this.getTitleValue("NAME"));for(var t=0;t<this.currentParameterNames_.length;t++){var o=document.createElement("arg");o.setAttribute("name",this.currentParameterNames_[t]),this.currentParameterTypes_[t]&&o.setAttribute("type",this.currentParameterTypes_[t]),e.appendChild(o)}return e},domToMutation:function(e){var t=e.getAttribute("name");if(this.setTitleValue(t,"NAME"),this.setTooltip((this.outputConnection?Blockly.Msg.PROCEDURES_CALLRETURN_TOOLTIP:Blockly.Msg.PROCEDURES_CALLNORETURN_TOOLTIP).replace("%1",t)),(t=Blockly.Procedures.getDefinition(t,this.blockSpace))&&t.mutator&&t.mutator.isVisible())e=t.getProcedureInfo(),this.setProcedureParameters(e.parameterNames,e.parameterIDs,e.parameterTypes);else{this.currentParameterNames_=[],this.currentParameterTypes_=[],t=0;for(var o;o=e.childNodes[t];t++)"arg"==o.nodeName.toLowerCase()&&(this.currentParameterNames_.push(o.getAttribute("name")),this.currentParameterTypes_.push(o.getAttribute("type")));this.setProcedureParameters(this.currentParameterNames_,this.currentParameterNames_,this.currentParameterTypes_)}},renameVar:function(e,t){for(var o=0;o<this.currentParameterNames_.length;o++)Blockly.Names.equals(e,this.currentParameterNames_[o])&&(this.currentParameterNames_[o]=t,this.getInput("ARG"+o).titleRow[0].setText(t))},customContextMenu:function(e){var t={enabled:!0};t.text=Blockly.Msg.PROCEDURES_HIGHLIGHT_DEF;var o=this.getTitleValue("NAME"),n=this.blockSpace;t.callback=function(){var e=Blockly.Procedures.getDefinition(o,n);e&&e.select()},e.push(t)}},Blockly.Blocks.procedures_callreturn={init:function(){this.setHelpUrl(Blockly.Msg.PROCEDURES_CALLRETURN_HELPURL),this.setHSV(94,.84,.6);var e=this.appendDummyInput().appendTitle(Blockly.Msg.PROCEDURES_CALLRETURN_CALL).appendTitle("","NAME");if(Blockly.functionEditor){var t=new Blockly.FieldIcon(Blockly.Msg.FUNCTION_EDIT);Blockly.bindEvent_(t.fieldGroup_,"mousedown",this,this.openEditor),e.appendTitle(t)}this.setOutput(!0),this.setTooltip(Blockly.Msg.PROCEDURES_CALLRETURN_TOOLTIP),this.currentParameterNames_=[],this.currentParameterIDs=this.parameterIDsToArgumentConnections=null},openEditor:Blockly.Blocks.procedures_callnoreturn.openEditor,getCallName:Blockly.Blocks.procedures_callnoreturn.getCallName,renameProcedure:Blockly.Blocks.procedures_callnoreturn.renameProcedure,setProcedureParameters:Blockly.Blocks.procedures_callnoreturn.setProcedureParameters,mutationToDom:Blockly.Blocks.procedures_callnoreturn.mutationToDom,domToMutation:Blockly.Blocks.procedures_callnoreturn.domToMutation,renameVar:Blockly.Blocks.procedures_callnoreturn.renameVar,customContextMenu:Blockly.Blocks.procedures_callnoreturn.customContextMenu},Blockly.Blocks.procedures_ifreturn={init:function(){this.setHelpUrl("http://c2.com/cgi/wiki?GuardClause"),this.setHSV(94,.84,.6),this.appendValueInput("CONDITION").setCheck(Blockly.BlockValueType.BOOLEAN).appendTitle(Blockly.Msg.CONTROLS_IF_MSG_IF),this.appendValueInput("VALUE").appendTitle(Blockly.Msg.PROCEDURES_DEFRETURN_RETURN),this.setInputsInline(!0),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip(Blockly.Msg.PROCEDURES_IFRETURN_TOOLTIP),this.hasReturnValue_=!0},mutationToDom:function(){var e=document.createElement("mutation");return e.setAttribute("value",Number(this.hasReturnValue_)),e},domToMutation:function(e){this.hasReturnValue_=1==e.getAttribute("value"),this.hasReturnValue_||(this.removeInput("VALUE"),this.appendDummyInput("VALUE").appendTitle(Blockly.Msg.PROCEDURES_DEFRETURN_RETURN))},onchange:function(){if(this.blockSpace){var e=!1,t=this;do{if("procedures_defnoreturn"==t.type||"procedures_defreturn"==t.type){e=!0;break}t=t.getSurroundParent()}while(t);e?("procedures_defnoreturn"==t.type&&this.hasReturnValue_?(this.removeInput("VALUE"),this.appendDummyInput("VALUE").appendTitle(Blockly.Msg.PROCEDURES_DEFRETURN_RETURN),this.hasReturnValue_=!1):"procedures_defreturn"!=t.type||this.hasReturnValue_||(this.removeInput("VALUE"),this.appendValueInput("VALUE").appendTitle(Blockly.Msg.PROCEDURES_DEFRETURN_RETURN),this.hasReturnValue_=!0),this.setWarningText(null)):this.setWarningText(Blockly.Msg.PROCEDURES_IFRETURN_WARNING)}}},Blockly.Blocks.functionalProcedures={},Blockly.Blocks.functional_definition={shouldHideIfInMainBlockSpace:function(){return!0},init:function(){this.setHelpUrl(Blockly.Msg.PROCEDURES_DEFNORETURN_HELPURL),this.setHSV(94,.84,.6),this.setFunctional(!0,{headerHeight:0,rowBuffer:3}),this.setFunctionalOutput(!1);var e=Blockly.Procedures.findLegalName(Blockly.Msg.PROCEDURES_DEFNORETURN_PROCEDURE,this);this.appendDummyInput().appendTitle(Blockly.Msg.DEFINE_FUNCTION_DEFINE).appendTitle(new Blockly.FieldTextInput(e,Blockly.Procedures.rename),"NAME").appendTitle("","PARAMS"),this.appendFunctionalInput("STACK"),this.setFunctional(!0),this.setTooltip(Blockly.Msg.FUNCTIONAL_PROCEDURE_DEFINE_TOOLTIP),this.isFunctionalVariable_=!1,this.parameterNames_=[],this.paramIds_=[],this.parameterTypes_=[]},updateInputsToType:function(e){this.updateInputType_(this.getInput("STACK"),e),this.render()},updateInputType_:function(e,t){e.setHSV.apply(e,Blockly.FunctionalTypeColors[t]),e.setCheck(t)},mutationToDom:function(){for(var e=document.createElement("mutation"),t=0;t<this.parameterNames_.length;t++){var o=document.createElement("arg");o.setAttribute("name",this.parameterNames_[t]),this.parameterTypes_[t]&&o.setAttribute("type",this.parameterTypes_[t]),e.appendChild(o)}return this.description_&&((t=document.createElement("description")).textContent=this.description_,e.appendChild(t)),this.outputType_&&((t=document.createElement("outputType")).textContent=this.outputType_,e.appendChild(t)),this.isFunctionalVariable_&&((t=document.createElement("isfunctionalvariable")).textContent="true",e.appendChild(t)),e},domToMutation:function(e){this.parameterNames_=[];for(var t,o=0;t=e.childNodes[o];o++){var n=t.nodeName.toLowerCase();"arg"===n?(this.parameterNames_.push(t.getAttribute("name")),this.parameterTypes_.push(t.getAttribute("type"))):"description"===n?this.description_=t.textContent:"outputtype"===n?this.updateOutputType(t.textContent):"isfunctionalvariable"===n&&(this.isFunctionalVariable_=!0)}this.updateParams_()},isVariable:function(){return this.isFunctionalVariable_},convertToVariable:function(){this.isFunctionalVariable_=!0},updateParamsFromArrays:function(e,t,o){this.parameterNames_=goog.array.clone(e),this.paramIds_=t?goog.array.clone(t):null,this.parameterTypes_=goog.array.clone(o),this.updateParams_(),this.updateCallerParams_()},updateParams_:function(){for(var e=!1,t={},o=0;o<this.parameterNames_.length;o++){if(t["arg_"+this.parameterNames_[o].toLowerCase()]){e=!0;break}t["arg_"+this.parameterNames_[o].toLowerCase()]=!0}e?this.setWarningText(Blockly.Msg.PROCEDURES_DEF_DUPLICATE_WARNING):this.setWarningText(null),e="",this.parameterNames_.length&&(e=Blockly.Msg.PROCEDURES_BEFORE_PARAMS+" "+this.parameterNames_.join(", ")),this.setTitleValue(e,"PARAMS")},updateCallerParams_:function(){Blockly.Procedures.mutateCallers(this.getTitleValue("NAME"),this.blockSpace,this.parameterNames_,this.paramIds_,this.parameterTypes_)},getOutputType:function(){return this.outputType_},updateOutputType:function(e){this.outputType_=e,this.setHSV.apply(this,Blockly.FunctionalTypeColors[e])},dispose:function(e,t,o){if(!o){var n=this.getTitleValue("NAME");Blockly.Procedures.disposeCallers(n,this.blockSpace)}Blockly.Block.prototype.dispose.apply(this,arguments)},getProcedureInfo:function(){return{name:this.getTitleValue("NAME"),type:this.type,callType:this.callType_,parameterNames:this.parameterNames_,parameterTypes:this.parameterTypes_,isFunctionalVariable:this.isFunctionalVariable_}},getVars:function(){return{Default:this.parameterNames_}},renameVar:function(e,t){for(var o=!1,n=0;n<this.parameterNames_.length;n++)Blockly.Names.equals(e,this.parameterNames_[n])&&(this.parameterNames_[n]=t,o=!0);if(o&&(this.updateParams_(),this.mutator&&this.mutator.isVisible())){o=this.mutator.blockSpace_.getAllBlocks(),n=0;for(var r;r=o[n];n++)"functional_procedures_mutatorarg"==r.type&&Blockly.Names.equals(e,r.getTitleValue("NAME"))&&r.setTitleValue(t,"NAME")}},removeVar:function(e){-1<(e=this.parameterNames_.indexOf(e))&&(this.parameterNames_.splice(e,1),this.updateParams_())},changeParamType:function(e,t){for(var o=!1,n=0;n<this.parameterNames_.length;n++)Blockly.Names.equals(e,this.parameterNames_[n])&&(this.parameterTypes_[n]=t,o=!0);o&&(this.updateParams_(),this.updateCallerParams_())},shouldBeGrayedOut:function(){return!1},callType_:"functional_call"},Blockly.Blocks.functional_call={init:function(){this.setHelpUrl(Blockly.Msg.PROCEDURES_CALLNORETURN_HELPURL),this.setTooltip("Calls a user-defined function"),this.setHSV(94,.84,.6);var e=this.appendDummyInput().appendTitle(new Blockly.FieldLabel("Function Call",{fixedSize:{height:35}}),"NAME").appendTitle("","PARAM_TEXT");if(Blockly.useContractEditor&&this.blockSpace!==Blockly.modalBlockSpace){var t=new Blockly.FieldIcon(Blockly.Msg.FUNCTION_EDIT);Blockly.bindEvent_(t.fieldGroup_,"mousedown",this,this.openEditor),e.appendTitle(t),this.editLabel_=t}this.setFunctional(!0),this.currentParameterNames_=[],this.parameterIDsToArgumentConnections_={},this.currentParameterIDs_=[],this.currentParameterTypes_=[],this.currentDescription_=this.currentOutputType_=null,this.blockSpace.events.listen(Blockly.BlockSpace.EVENTS.BLOCK_SPACE_CHANGE,this.updateAttributesFromDefinition_,!1,this),this.changeFunctionalOutput(Blockly.BlockValueType.NONE)},updateAttributesFromDefinition_:function(){var e=Blockly.Procedures.getDefinition(this.getTitleValue("NAME"),this.blockSpace.blockSpaceEditor.blockSpace);e&&(e.outputType_&&e.outputType_!==this.currentOutputType_&&(this.currentOutputType_=e.outputType_,this.changeFunctionalOutput(e.outputType_)),e.description_&&e.description_!==this.currentDescription_&&(this.currentDescription_=e.description_,this.setTooltip(e.description_)))},beforeDispose:function(){this.blockSpace.events.unlisten(Blockly.BlockSpace.EVENTS.BLOCK_SPACE_CHANGE,this.updateAttributesFromDefinition_,!1,this)},openEditor:function(e){e.stopPropagation(),Blockly.functionEditor.openEditorForCallBlock_(this)},getCallName:function(){return this.getTitleValue("NAME")},getParamTypes:function(){return this.currentParameterTypes_},renameProcedure:function(e,t){Blockly.Names.equals(e,this.getTitleValue("NAME"))&&this.setTitleValue(t,"NAME")},setProcedureParameters:function(e,t,o){if(t){if(t.length!=e.length)throw"Error: paramNames and paramIds must be the same length.";this.currentParameterIDs_||(this.parameterIDsToArgumentConnections_={},e.join("\n")===this.currentParameterNames_.join("\n")?this.currentParameterIDs_=t:this.currentParameterIDs_=[]);var n=this.rendered;this.rendered=!1;for(var r=this.currentParameterNames_.length-1;0<=r;r--){var i=this.getInput("ARG"+r);if(i){var a=i.connection.targetConnection;this.parameterIDsToArgumentConnections_[this.currentParameterIDs_[r]]=a,this.removeInput("ARG"+r)}}for(this.currentParameterNames_=goog.array.clone(e),this.currentParameterIDs_=goog.array.clone(t),this.currentParameterTypes_=goog.array.clone(o),r=0;r<this.currentParameterNames_.length;r++)i=this.appendFunctionalInput("ARG"+r).setAlign(Blockly.ALIGN_CENTRE).setInline(0<r),a=this.currentParameterTypes_[r],i.setHSV.apply(i,Blockly.FunctionalTypeColors[a]),i.setCheck(a),this.currentParameterIDs_&&(e=this.currentParameterIDs_[r])in this.parameterIDsToArgumentConnections_&&(!(a=this.parameterIDsToArgumentConnections_[e])||a.targetConnection||a.sourceBlock_.blockSpace!=this.blockSpace?delete this.parameterIDsToArgumentConnections_[e]:i.connection.connect(a));this.refreshParameterTitleString_(),(this.rendered=n)&&this.render()}else this.parameterIDsToArgumentConnections_={},this.currentParameterIDs_=null},refreshParameterTitleString_:function(){var e=0<this.currentParameterNames_.length?" ("+this.currentParameterNames_.join(", ")+")":"";this.setTitleValue(e,"PARAM_TEXT")},mutationToDom:function(){var e=document.createElement("mutation");e.setAttribute("name",this.getTitleValue("NAME"));for(var t=0;t<this.currentParameterNames_.length;t++){var o=document.createElement("arg");o.setAttribute("name",this.currentParameterNames_[t]),o.setAttribute("type",this.currentParameterTypes_[t]),e.appendChild(o)}return e},domToMutation:function(e){var t,o=e.getAttribute("name");for(this.setTitleValue(o,"NAME"),this.setTooltip((this.outputConnection?Blockly.Msg.PROCEDURES_CALLRETURN_TOOLTIP:Blockly.Msg.PROCEDURES_CALLNORETURN_TOOLTIP).replace("%1",o)),this.currentParameterNames_=[],this.currentParameterIDs_=[],this.currentParameterTypes_=[],o=0;t=e.childNodes[o];o++)"arg"==t.nodeName.toLowerCase()&&(this.currentParameterNames_.push(t.getAttribute("name")),this.currentParameterTypes_.push(t.getAttribute("type")),this.currentParameterIDs_.push(Blockly.getUID()));this.setProcedureParameters(this.currentParameterNames_,this.currentParameterIDs_,this.currentParameterTypes_),this.updateAttributesFromDefinition_()},renameVar:function(e,t){for(var o=0;o<this.currentParameterNames_.length;o++)Blockly.Names.equals(e,this.currentParameterNames_[o])&&(this.currentParameterNames_[o]=t,this.refreshParameterTitleString_())}},Blockly.Blocks.functional_pass={init:function(){this.setHelpUrl(Blockly.Msg.PROCEDURES_CALLNORETURN_HELPURL),this.setTooltip("Pass a user-defined function"),this.setHSV(94,.84,.6);var e=this.appendDummyInput().appendTitle(new Blockly.FieldLabel("Pass Function",{fixedSize:{height:35}}),"NAME").appendTitle("","PARAM_TEXT");if(Blockly.useContractEditor&&this.blockSpace!==Blockly.modalBlockSpace){var t=new Blockly.FieldIcon(Blockly.Msg.FUNCTION_EDIT);Blockly.bindEvent_(t.fieldGroup_,"mousedown",this,this.openEditor),e.appendTitle(t),this.editLabel_=t}this.setFunctional(!0),this.setMovable(!!Blockly.editBlocks),this.setColorFromName_(),this.blockSpace.events.listen(Blockly.BlockSpace.EVENTS.BLOCK_SPACE_CHANGE,this.setColorFromName_,!1,this),this.changeFunctionalOutput(Blockly.BlockValueType.FUNCTION)},openEditor:function(e){e.stopPropagation(),Blockly.functionEditor.openEditorForCallBlock_(this)},renameProcedure:function(e,t){Blockly.Names.equals(e,this.getTitleValue("NAME"))&&(this.setTitleValue(t,"NAME"),this.setColorFromName_())},setColorFromName_:function(){var e=this.getTitleValue("NAME");e&&(e=Blockly.mainBlockSpace.findFunction(e))&&(e=e.getOutputType(),this.setHSV.apply(this,Blockly.FunctionalTypeColors[e]))},mutationToDom:function(){var e=document.createElement("mutation");return e.setAttribute("name",this.getTitleValue("NAME")),e},domToMutation:function(e){e=e.getAttribute("name"),this.setTitleValue(e,"NAME"),this.setTooltip((this.outputConnection?Blockly.Msg.PROCEDURES_CALLRETURN_TOOLTIP:Blockly.Msg.PROCEDURES_CALLNORETURN_TOOLTIP).replace("%1",e)),this.setColorFromName_()}},Blockly.Blocks.procedural_to_functional_call=Blockly.Blocks.procedures_callreturn,Blockly.Blocks.lists={},Blockly.Blocks.lists_create_empty={init:function(){this.setHelpUrl(Blockly.Msg.LISTS_CREATE_EMPTY_HELPURL),this.setOutput(!0,Blockly.BlockValueType.ARRAY),this.appendDummyInput().appendTitle(Blockly.Msg.LISTS_CREATE_EMPTY_TITLE),this.setTooltip(Blockly.Msg.LISTS_CREATE_EMPTY_TOOLTIP)}},Blockly.Blocks.lists_create_with={init:function(){this.appendValueInput("ADD0").appendTitle(Blockly.Msg.LISTS_CREATE_WITH_INPUT_WITH),this.appendValueInput("ADD1"),this.appendValueInput("ADD2"),this.setOutput(!0,Blockly.BlockValueType.ARRAY),this.setMutator(new Blockly.Mutator(["lists_create_with_item"])),this.setTooltip(Blockly.Msg.LISTS_CREATE_WITH_TOOLTIP),this.itemCount_=3},mutationToDom:function(e){return(e=document.createElement("mutation")).setAttribute("items",this.itemCount_),e},domToMutation:function(e){for(var t=0;t<this.itemCount_;t++)this.removeInput("ADD"+t);for(this.itemCount_=window.parseInt(e.getAttribute("items"),10),t=0;t<this.itemCount_;t++)e=this.appendValueInput("ADD"+t),0==t&&e.appendTitle(Blockly.Msg.LISTS_CREATE_WITH_INPUT_WITH);0==this.itemCount_&&this.appendDummyInput("EMPTY").appendTitle(Blockly.Msg.LISTS_CREATE_EMPTY_TITLE)},decompose:function(e){var t=new Blockly.Block(e,"lists_create_with_container");t.initSvg();for(var o=t.getInput("STACK").connection,n=0;n<this.itemCount_;n++){var r=new Blockly.Block(e,"lists_create_with_item");r.initSvg(),o.connect(r.previousConnection),o=r.nextConnection}return t},compose:function(e){if(0==this.itemCount_)this.removeInput("EMPTY");else for(var t=this.itemCount_-1;0<=t;t--)this.removeInput("ADD"+t);for(this.itemCount_=0,e=e.getInputTargetBlock("STACK");e;)t=this.appendValueInput("ADD"+this.itemCount_),0==this.itemCount_&&t.appendTitle(Blockly.Msg.LISTS_CREATE_WITH_INPUT_WITH),e.valueConnection_&&t.connection.connect(e.valueConnection_),this.itemCount_++,e=e.nextConnection&&e.nextConnection.targetBlock();0==this.itemCount_&&this.appendDummyInput("EMPTY").appendTitle(Blockly.Msg.LISTS_CREATE_EMPTY_TITLE)},saveConnections:function(e){e=e.getInputTargetBlock("STACK");for(var t=0;e;){var o=this.getInput("ADD"+t);e.valueConnection_=o&&o.connection.targetConnection,t++,e=e.nextConnection&&e.nextConnection.targetBlock()}}},Blockly.Blocks.lists_create_with_container={init:function(){this.setHSV(40,1,.99),this.appendDummyInput().appendTitle(Blockly.Msg.LISTS_CREATE_WITH_CONTAINER_TITLE_ADD),this.appendStatementInput("STACK"),this.setTooltip(Blockly.Msg.LISTS_CREATE_WITH_CONTAINER_TOOLTIP),this.contextMenu=!1}},Blockly.Blocks.lists_create_with_item={init:function(){this.setHSV(40,1,.99),this.appendDummyInput().appendTitle(Blockly.Msg.LISTS_CREATE_WITH_ITEM_TITLE),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip(Blockly.Msg.LISTS_CREATE_WITH_ITEM_TOOLTIP),this.contextMenu=!1}},Blockly.Blocks.lists_repeat={init:function(){this.setHelpUrl(Blockly.Msg.LISTS_REPEAT_HELPURL),this.setOutput(!0,Blockly.BlockValueType.ARRAY),this.interpolateMsg(Blockly.Msg.LISTS_REPEAT_TITLE,["ITEM",null,Blockly.ALIGN_RIGHT],["NUM","Number",Blockly.ALIGN_RIGHT],Blockly.ALIGN_RIGHT),this.setTooltip(Blockly.Msg.LISTS_REPEAT_TOOLTIP)}},Blockly.Blocks.lists_length={init:function(){this.setHelpUrl(Blockly.Msg.LISTS_LENGTH_HELPURL),this.setHSV(40,1,.99),this.appendValueInput("VALUE").setCheck([Blockly.BlockValueType.ARRAY,Blockly.BlockValueType.STRING]).appendTitle(Blockly.Msg.LISTS_LENGTH_INPUT_LENGTH),this.setOutput(!0,Blockly.BlockValueType.NUMBER),this.setTooltip(Blockly.Msg.LISTS_LENGTH_TOOLTIP)}},Blockly.Blocks.lists_isEmpty={init:function(){this.setHelpUrl(Blockly.Msg.LISTS_IS_EMPTY_HELPURL),this.setHSV(40,1,.99),this.interpolateMsg(Blockly.Msg.LISTS_IS_EMPTY_TITLE,["VALUE",["Array","String"],Blockly.ALIGN_RIGHT],Blockly.ALIGN_RIGHT),this.setInputsInline(!0),this.setOutput(!0,Blockly.BlockValueType.BOOLEAN),this.setTooltip(Blockly.Msg.LISTS_TOOLTIP)}},Blockly.Blocks.lists_indexOf={init:function(){var e=[[Blockly.Msg.LISTS_INDEX_OF_FIRST,"FIRST"],[Blockly.Msg.LISTS_INDEX_OF_LAST,"LAST"]];this.setHelpUrl(Blockly.Msg.LISTS_INDEX_OF_HELPURL),this.setHSV(40,1,.99),this.setOutput(!0,Blockly.BlockValueType.NUMBER),this.appendValueInput("VALUE").setCheck(Blockly.BlockValueType.ARRAY).appendTitle(Blockly.Msg.LISTS_INDEX_OF_INPUT_IN_LIST),this.appendValueInput("FIND").appendTitle(new Blockly.FieldDropdown(e),"END"),this.setInputsInline(!0),this.setTooltip(Blockly.Msg.LISTS_INDEX_OF_TOOLTIP)}},Blockly.Blocks.lists_getIndex={init:function(){var e=[[Blockly.Msg.LISTS_GET_INDEX_GET,"GET"],[Blockly.Msg.LISTS_GET_INDEX_GET_REMOVE,"GET_REMOVE"],[Blockly.Msg.LISTS_GET_INDEX_REMOVE,"REMOVE"]];this.WHERE_OPTIONS=[[Blockly.Msg.LISTS_GET_INDEX_FROM_START,"FROM_START"],[Blockly.Msg.LISTS_GET_INDEX_FROM_END,"FROM_END"],[Blockly.Msg.LISTS_GET_INDEX_FIRST,"FIRST"],[Blockly.Msg.LISTS_GET_INDEX_LAST,"LAST"],[Blockly.Msg.LISTS_GET_INDEX_RANDOM,"RANDOM"]],this.setHelpUrl(Blockly.Msg.LISTS_GET_INDEX_HELPURL),this.setHSV(40,1,.99),e=new Blockly.FieldDropdown(e,function(e){this.sourceBlock_.updateStatement("REMOVE"==e)}),this.appendValueInput("VALUE").setCheck(Blockly.BlockValueType.ARRAY).appendTitle(Blockly.Msg.LISTS_GET_INDEX_INPUT_IN_LIST),this.appendDummyInput().appendTitle(e,"MODE").appendTitle("","SPACE"),this.appendDummyInput("AT"),Blockly.Msg.LISTS_GET_INDEX_TAIL&&this.appendDummyInput("TAIL").appendTitle(Blockly.Msg.LISTS_GET_INDEX_TAIL),this.setInputsInline(!0),this.setOutput(!0),this.updateAt(!0);var t=this;this.setTooltip(function(){var e=t.getTitleValue("MODE")+"_"+t.getTitleValue("WHERE");return Blockly.Msg["LISTS_GET_INDEX_TOOLTIP_"+e]})},mutationToDom:function(){var e=document.createElement("mutation");e.setAttribute("statement",!this.outputConnection);var t=this.getInput("AT").type==Blockly.INPUT_VALUE;return e.setAttribute("at",t),e},domToMutation:function(e){var t="true"==e.getAttribute("statement");this.updateStatement(t),e="false"!=e.getAttribute("at"),this.updateAt(e)},updateStatement:function(e){e!=!this.outputConnection&&(this.unplug(!0,!0),e?(this.setOutput(!1),this.setPreviousStatement(!0),this.setNextStatement(!0)):(this.setPreviousStatement(!1),this.setNextStatement(!1),this.setOutput(!0)))},updateAt:function(n){this.removeInput("AT"),this.removeInput("ORDINAL",!0),n?(this.appendValueInput("AT").setCheck(Blockly.BlockValueType.NUMBER),Blockly.Msg.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput("ORDINAL").appendTitle(Blockly.Msg.ORDINAL_NUMBER_SUFFIX)):this.appendDummyInput("AT");var e=new Blockly.FieldDropdown(this.WHERE_OPTIONS,function(e){var t="FROM_START"==e||"FROM_END"==e;if(t!=n){var o=this.sourceBlock_;return o.updateAt(t),o.setTitleValue(e,"WHERE"),null}});this.getInput("AT").appendTitle(e,"WHERE"),Blockly.Msg.LISTS_GET_INDEX_TAIL&&this.moveInputBefore("TAIL",null)}},Blockly.Blocks.lists_setIndex={init:function(){var e=[[Blockly.Msg.LISTS_SET_INDEX_SET,"SET"],[Blockly.Msg.LISTS_SET_INDEX_INSERT,"INSERT"]];this.WHERE_OPTIONS=[[Blockly.Msg.LISTS_GET_INDEX_FROM_START,"FROM_START"],[Blockly.Msg.LISTS_GET_INDEX_FROM_END,"FROM_END"],[Blockly.Msg.LISTS_GET_INDEX_FIRST,"FIRST"],[Blockly.Msg.LISTS_GET_INDEX_LAST,"LAST"],[Blockly.Msg.LISTS_GET_INDEX_RANDOM,"RANDOM"]],this.setHelpUrl(Blockly.Msg.LISTS_SET_INDEX_HELPURL),this.setHSV(40,1,.99),this.appendValueInput("LIST").setCheck(Blockly.BlockValueType.ARRAY).appendTitle(Blockly.Msg.LISTS_SET_INDEX_INPUT_IN_LIST),this.appendDummyInput().appendTitle(new Blockly.FieldDropdown(e),"MODE").appendTitle("","SPACE"),this.appendDummyInput("AT"),this.appendValueInput("TO").appendTitle(Blockly.Msg.LISTS_SET_INDEX_INPUT_TO),this.setInputsInline(!0),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip(Blockly.Msg.LISTS_SET_INDEX_TOOLTIP),this.updateAt(!0);var t=this;this.setTooltip(function(){var e=t.getTitleValue("MODE")+"_"+t.getTitleValue("WHERE");return Blockly.Msg["LISTS_SET_INDEX_TOOLTIP_"+e]})},mutationToDom:function(){var e=document.createElement("mutation"),t=this.getInput("AT").type==Blockly.INPUT_VALUE;return e.setAttribute("at",t),e},domToMutation:function(e){e="false"!=e.getAttribute("at"),this.updateAt(e)},updateAt:function(n){this.removeInput("AT"),this.removeInput("ORDINAL",!0),n?(this.appendValueInput("AT").setCheck(Blockly.BlockValueType.NUMBER),Blockly.Msg.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput("ORDINAL").appendTitle(Blockly.Msg.ORDINAL_NUMBER_SUFFIX)):this.appendDummyInput("AT");var e=new Blockly.FieldDropdown(this.WHERE_OPTIONS,function(e){var t="FROM_START"==e||"FROM_END"==e;if(t!=n){var o=this.sourceBlock_;return o.updateAt(t),o.setTitleValue(e,"WHERE"),null}});this.moveInputBefore("AT","TO"),this.getInput("ORDINAL")&&this.moveInputBefore("ORDINAL","TO"),this.getInput("AT").appendTitle(e,"WHERE")}},Blockly.Blocks.lists_getSublist={init:function(){this.WHERE_OPTIONS_1=[[Blockly.Msg.LISTS_GET_INDEX_FROM_START,"FROM_START"],[Blockly.Msg.LISTS_GET_INDEX_FROM_END,"FROM_END"],[Blockly.Msg.LISTS_GET_INDEX_FIRST,"FIRST"]],this.WHERE_OPTIONS_2=[[Blockly.Msg.LISTS_GET_INDEX_FROM_START,"FROM_START"],[Blockly.Msg.LISTS_GET_INDEX_FROM_END,"FROM_END"],[Blockly.Msg.LISTS_GET_INDEX_LAST,"LAST"]],this.setHelpUrl(Blockly.Msg.LISTS_GET_SUBLIST_HELPURL),this.appendValueInput("LIST").setCheck(Blockly.BlockValueType.ARRAY).appendTitle(Blockly.Msg.LISTS_GET_SUBLIST_INPUT_IN_LIST),this.appendDummyInput("AT1"),this.appendDummyInput("AT2"),Blockly.Msg.LISTS_GET_SUBLIST_TAIL&&this.appendDummyInput("TAIL").appendTitle(Blockly.Msg.LISTS_GET_SUBLIST_TAIL),this.setInputsInline(!0),this.setOutput(!0,Blockly.BlockValueType.ARRAY),this.updateAt(1,!0),this.updateAt(2,!0),this.setTooltip(Blockly.Msg.LISTS_GET_SUBLIST_TOOLTIP)},mutationToDom:function(){var e=document.createElement("mutation"),t=this.getInput("AT1").type==Blockly.INPUT_VALUE;return e.setAttribute("at1",t),t=this.getInput("AT2").type==Blockly.INPUT_VALUE,e.setAttribute("at2",t),e},domToMutation:function(e){var t="true"==e.getAttribute("at1");e="true"==e.getAttribute("at2"),this.updateAt(1,t),this.updateAt(2,e)},updateAt:function(n,r){this.removeInput("AT"+n),this.removeInput("ORDINAL"+n,!0),r?(this.appendValueInput("AT"+n).setCheck(Blockly.BlockValueType.NUMBER),Blockly.Msg.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput("ORDINAL"+n).appendTitle(Blockly.Msg.ORDINAL_NUMBER_SUFFIX)):this.appendDummyInput("AT"+n);var e=new Blockly.FieldDropdown(this["WHERE_OPTIONS_"+n],function(e){var t="FROM_START"==e||"FROM_END"==e;if(t!=r){var o=this.sourceBlock_;return o.updateAt(n,t),o.setTitleValue(e,"WHERE"+n),null}});this.getInput("AT"+n).appendTitle(e,"WHERE"+n),1==n&&(this.moveInputBefore("AT1","AT2"),this.getInput("ORDINAL1")&&this.moveInputBefore("ORDINAL1","AT2")),Blockly.Msg.LISTS_GET_SUBLIST_TAIL&&this.moveInputBefore("TAIL",null)}},Blockly.Blocks.logic={},Blockly.Blocks.controls_if={init:function(){this.setHelpUrl(Blockly.Msg.CONTROLS_IF_HELPURL),this.setColour(210),this.appendValueInput("IF0").setCheck(Blockly.BlockValueType.BOOLEAN).appendTitle(Blockly.Msg.CONTROLS_IF_MSG_IF),this.appendStatementInput("DO0").appendTitle(Blockly.Msg.CONTROLS_IF_MSG_THEN),this.setPreviousStatement(!0),this.setNextStatement(!0),Blockly.disableIfElseEditing||this.setMutator(new Blockly.Mutator(["controls_if_elseif","controls_if_else"]));var e=this;this.setTooltip(function(){return e.elseifCount_||e.elseCount_?!e.elseifCount_&&e.elseCount_?Blockly.Msg.CONTROLS_IF_TOOLTIP_2:e.elseifCount_&&!e.elseCount_?Blockly.Msg.CONTROLS_IF_TOOLTIP_3:e.elseifCount_&&e.elseCount_?Blockly.Msg.CONTROLS_IF_TOOLTIP_4:"":Blockly.Msg.CONTROLS_IF_TOOLTIP_1}),this.elseCount_=this.elseifCount_=0},mutationToDom:function(){if(!this.elseifCount_&&!this.elseCount_)return null;var e=document.createElement("mutation");return this.elseifCount_&&e.setAttribute("elseif",this.elseifCount_),this.elseCount_&&e.setAttribute("else",1),e},domToMutation:function(e){for(this.elseifCount_=window.parseInt(e.getAttribute("elseif"),10),this.elseCount_=window.parseInt(e.getAttribute("else"),10),e=1;e<=this.elseifCount_;e++)this.appendValueInput("IF"+e).setCheck(Blockly.BlockValueType.BOOLEAN).appendTitle(Blockly.Msg.CONTROLS_IF_MSG_ELSEIF),this.appendStatementInput("DO"+e).appendTitle(Blockly.Msg.CONTROLS_IF_MSG_THEN);this.elseCount_&&this.appendStatementInput("ELSE").appendTitle(Blockly.Msg.CONTROLS_IF_MSG_ELSE)},decompose:function(e){var t=new Blockly.Block(e,"controls_if_if");t.initSvg();for(var o=t.getInput("STACK").connection,n=1;n<=this.elseifCount_;n++){var r=new Blockly.Block(e,"controls_if_elseif");r.initSvg(),o.connect(r.previousConnection),o=r.nextConnection}return this.elseCount_&&((e=new Blockly.Block(e,"controls_if_else")).initSvg(),o.connect(e.previousConnection)),t},compose:function(e){this.elseCount_&&this.removeInput("ELSE"),this.elseCount_=0;for(var t=this.elseifCount_;0<t;t--)this.removeInput("IF"+t),this.removeInput("DO"+t);for(this.elseifCount_=0,e=e.getInputTargetBlock("STACK");e;){switch(e.type){case"controls_if_elseif":this.elseifCount_++,t=this.appendValueInput("IF"+this.elseifCount_).setCheck(Blockly.BlockValueType.BOOLEAN).appendTitle(Blockly.Msg.CONTROLS_IF_MSG_ELSEIF);var o=this.appendStatementInput("DO"+this.elseifCount_);o.appendTitle(Blockly.Msg.CONTROLS_IF_MSG_THEN),e.valueConnection_&&t.connection.connect(e.valueConnection_),e.statementConnection_&&o.connection.connect(e.statementConnection_);break;case"controls_if_else":this.elseCount_++,(t=this.appendStatementInput("ELSE")).appendTitle(Blockly.Msg.CONTROLS_IF_MSG_ELSE),e.statementConnection_&&t.connection.connect(e.statementConnection_);break;default:throw"Unknown block type."}e=e.nextConnection&&e.nextConnection.targetBlock()}},saveConnections:function(e){e=e.getInputTargetBlock("STACK");for(var t=1;e;){switch(e.type){case"controls_if_elseif":var o=this.getInput("IF"+t),n=this.getInput("DO"+t);e.valueConnection_=o&&o.connection.targetConnection,e.statementConnection_=n&&n.connection.targetConnection,t++;break;case"controls_if_else":n=this.getInput("ELSE"),e.statementConnection_=n&&n.connection.targetConnection;break;default:throw"Unknown block type."}e=e.nextConnection&&e.nextConnection.targetBlock()}}},Blockly.Blocks.controls_if_if={init:function(){this.setHSV(196,1,.79),this.appendDummyInput().appendTitle(Blockly.Msg.CONTROLS_IF_IF_TITLE_IF),this.appendStatementInput("STACK"),this.setTooltip(Blockly.Msg.CONTROLS_IF_IF_TOOLTIP),this.contextMenu=!1}},Blockly.Blocks.controls_if_elseif={init:function(){this.setHSV(196,1,.79),this.appendDummyInput().appendTitle(Blockly.Msg.CONTROLS_IF_ELSEIF_TITLE_ELSEIF),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip(Blockly.Msg.CONTROLS_IF_ELSEIF_TOOLTIP),this.contextMenu=!1}},Blockly.Blocks.controls_if_else={init:function(){this.setHSV(196,1,.79),this.appendDummyInput().appendTitle(Blockly.Msg.CONTROLS_IF_ELSE_TITLE_ELSE),this.setPreviousStatement(!0),this.setTooltip(Blockly.Msg.CONTROLS_IF_ELSE_TOOLTIP),this.contextMenu=!1}},Blockly.Blocks.logic_compare={init:function(){var e=Blockly.RTL?[["=","EQ"],["≠","NEQ"],[">","LT"],["≥","LTE"],["<","GT"],["≤","GTE"]]:[["=","EQ"],["≠","NEQ"],["<","LT"],["≤","LTE"],[">","GT"],["≥","GTE"]];this.setHelpUrl(Blockly.Msg.LOGIC_COMPARE_HELPURL),this.setOutput(!0,Blockly.BlockValueType.BOOLEAN),this.appendValueInput("A"),this.appendValueInput("B").appendTitle(new Blockly.FieldDropdown(e),"OP"),this.setInputsInline(!0);var t=this;this.setTooltip(function(){var e=t.getTitleValue("OP");return{EQ:Blockly.Msg.LOGIC_COMPARE_TOOLTIP_EQ,NEQ:Blockly.Msg.LOGIC_COMPARE_TOOLTIP_NEQ,LT:Blockly.Msg.LOGIC_COMPARE_TOOLTIP_LT,LTE:Blockly.Msg.LOGIC_COMPARE_TOOLTIP_LTE,GT:Blockly.Msg.LOGIC_COMPARE_TOOLTIP_GT,GTE:Blockly.Msg.LOGIC_COMPARE_TOOLTIP_GTE}[e]})}},Blockly.Blocks.logic_operation={init:function(){var e=[[Blockly.Msg.LOGIC_OPERATION_AND,"AND"],[Blockly.Msg.LOGIC_OPERATION_OR,"OR"]];this.setHelpUrl(Blockly.Msg.LOGIC_OPERATION_HELPURL),this.setOutput(!0,Blockly.BlockValueType.BOOLEAN),this.appendValueInput("A").setCheck(Blockly.BlockValueType.BOOLEAN),this.appendValueInput("B").setCheck(Blockly.BlockValueType.BOOLEAN).appendTitle(new Blockly.FieldDropdown(e),"OP"),this.setInputsInline(!0);var t=this;this.setTooltip(function(){var e=t.getTitleValue("OP");return t.TOOLTIPS[e]})}},Blockly.Blocks.logic_negate={init:function(){this.setHelpUrl(Blockly.Msg.LOGIC_NEGATE_HELPURL),this.setOutput(!0,Blockly.BlockValueType.BOOLEAN),this.interpolateMsg(Blockly.Msg.LOGIC_NEGATE_TITLE,["BOOL",Blockly.BlockValueType.BOOLEAN,Blockly.ALIGN_RIGHT],Blockly.ALIGN_RIGHT),this.setTooltip(Blockly.Msg.LOGIC_NEGATE_TOOLTIP)}},Blockly.Blocks.logic_boolean={init:function(){var e=[[Blockly.Msg.LOGIC_BOOLEAN_TRUE,"TRUE"],[Blockly.Msg.LOGIC_BOOLEAN_FALSE,"FALSE"]];this.setHelpUrl(Blockly.Msg.LOGIC_BOOLEAN_HELPURL),this.setOutput(!0,Blockly.BlockValueType.BOOLEAN),this.appendDummyInput().appendTitle(new Blockly.FieldDropdown(e),"BOOL"),this.setTooltip(Blockly.Msg.LOGIC_BOOLEAN_TOOLTIP)}},Blockly.Blocks.logic_null={init:function(){this.setHelpUrl(Blockly.Msg.LOGIC_NULL_HELPURL),this.setHSV(196,1,.79),this.setOutput(!0),this.appendDummyInput().appendTitle(Blockly.Msg.LOGIC_NULL),this.setTooltip(Blockly.Msg.LOGIC_NULL_TOOLTIP)}},Blockly.Blocks.logic_ternary={init:function(){this.setHelpUrl(Blockly.Msg.LOGIC_TERNARY_HELPURL),this.setHSV(196,1,.79),this.appendValueInput("IF").setCheck(Blockly.BlockValueType.BOOLEAN).appendTitle(Blockly.Msg.LOGIC_TERNARY_CONDITION),this.appendValueInput("THEN").appendTitle(Blockly.Msg.LOGIC_TERNARY_IF_TRUE),this.appendValueInput("ELSE").appendTitle(Blockly.Msg.LOGIC_TERNARY_IF_FALSE),this.setOutput(!0),this.setTooltip(Blockly.Msg.LOGIC_TERNARY_TOOLTIP)}},Blockly.Blocks.loops={},Blockly.Blocks.controls_repeat={init:function(){this.setHelpUrl(Blockly.Msg.CONTROLS_REPEAT_HELPURL),this.setHSV(322,.9,.95),this.appendDummyInput().appendTitle(Blockly.Msg.CONTROLS_REPEAT_TITLE_REPEAT).appendTitle(new Blockly.FieldTextInput("10",Blockly.FieldTextInput.nonnegativeIntegerValidator),"TIMES").appendTitle(Blockly.Msg.CONTROLS_REPEAT_TITLE_TIMES),this.appendStatementInput("DO").appendTitle(Blockly.Msg.CONTROLS_REPEAT_INPUT_DO),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip(Blockly.Msg.CONTROLS_REPEAT_TOOLTIP)}},Blockly.Blocks.controls_repeat_ext={init:function(){this.setHelpUrl(Blockly.Msg.CONTROLS_REPEAT_HELPURL),this.setHSV(322,.9,.95),this.interpolateMsg(Blockly.Msg.CONTROLS_REPEAT_TITLE,["TIMES","Number",Blockly.ALIGN_RIGHT],Blockly.ALIGN_RIGHT),this.appendStatementInput("DO").appendTitle(Blockly.Msg.CONTROLS_REPEAT_INPUT_DO),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setInputsInline(!0),this.setTooltip(Blockly.Msg.CONTROLS_REPEAT_TOOLTIP)}},Blockly.Blocks.controls_whileUntil={init:function(){var e=[[Blockly.Msg.CONTROLS_WHILEUNTIL_OPERATOR_WHILE,"WHILE"],[Blockly.Msg.CONTROLS_WHILEUNTIL_OPERATOR_UNTIL,"UNTIL"]];this.setHelpUrl(Blockly.Msg.CONTROLS_WHILEUNTIL_HELPURL),this.setHSV(322,.9,.95),this.appendValueInput("BOOL").setCheck(Blockly.BlockValueType.BOOLEAN).appendTitle(new Blockly.FieldDropdown(e),"MODE"),this.appendStatementInput("DO").appendTitle(Blockly.Msg.CONTROLS_WHILEUNTIL_INPUT_DO),this.setPreviousStatement(!0),this.setNextStatement(!0);var t=this;this.setTooltip(function(){var e=t.getTitleValue("MODE");return{WHILE:Blockly.Msg.CONTROLS_WHILEUNTIL_TOOLTIP_WHILE,UNTIL:Blockly.Msg.CONTROLS_WHILEUNTIL_TOOLTIP_UNTIL}[e]})}},Blockly.Blocks.controls_for={init:function(){var e=this;this.setHelpUrl(Blockly.Msg.CONTROLS_FOR_HELPURL),this.setHSV(322,.9,.95),this.interpolateMsg(Blockly.Msg.CONTROLS_FOR_INPUT_COUNTER,function(){e.appendDummyInput().appendTitle(new Blockly.FieldVariable(null),"VAR")},["FROM","Number",blockly.ALIGN_RIGHT],["TO","Number",blockly.ALIGN_RIGHT],["BY","Number",blockly.ALIGN_RIGHT],blockly.ALIGN_RIGHT),this.appendStatementInput("DO").appendTitle(Blockly.Msg.CONTROLS_FOR_INPUT_DO),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setInputsInline(!0);var t=this;this.setTooltip(function(){return Blockly.Msg.CONTROLS_FOR_TOOLTIP.replace("%1",t.getTitleValue("VAR"))})},getVars:Blockly.Variables.getVars,renameVar:function(e,t){Blockly.Names.equals(e,this.getTitleValue("VAR"))&&this.setTitleValue(t,"VAR")},customContextMenu:function(e){var t={enabled:!0},o=this.getTitleValue("VAR");t.text=Blockly.Msg.VARIABLES_SET_CREATE_GET.replace("%1",o),(o=goog.dom.createDom("title",null,o)).setAttribute("name","VAR"),(o=goog.dom.createDom("block",null,o)).setAttribute("type","variables_get"),t.callback=Blockly.ContextMenu.callbackFactory(this,o),e.push(t)},domToMutation:function(e){"default_var"===e.getAttribute("name")&&(e=Blockly.Variables.generateUniqueNameFromBase_(e.childNodes[0].data),this.setTitleValue(e,"VAR"))}},Blockly.Blocks.controls_forEach={init:function(){this.setHelpUrl(Blockly.Msg.CONTROLS_FOREACH_HELPURL),this.setHSV(322,.9,.95),this.appendValueInput("LIST").setCheck(Blockly.BlockValueType.ARRAY).appendTitle(Blockly.Msg.CONTROLS_FOREACH_INPUT_ITEM).appendTitle(new Blockly.FieldVariable(null),"VAR").appendTitle(Blockly.Msg.CONTROLS_FOREACH_INPUT_INLIST),Blockly.Msg.CONTROLS_FOREACH_INPUT_INLIST_TAIL&&(this.appendDummyInput().appendTitle(Blockly.Msg.CONTROLS_FOREACH_INPUT_INLIST_TAIL),this.setInputsInline(!0)),this.appendStatementInput("DO").appendTitle(Blockly.Msg.CONTROLS_FOREACH_INPUT_DO),this.setPreviousStatement(!0),this.setNextStatement(!0);var e=this;this.setTooltip(function(){return Blockly.Msg.CONTROLS_FOREACH_TOOLTIP.replace("%1",e.getTitleValue("VAR"))})},getVars:Blockly.Variables.getVars,renameVar:function(e,t){Blockly.Names.equals(e,this.getTitleValue("VAR"))&&this.setTitleValue(t,"VAR")},customContextMenu:Blockly.Blocks.controls_for.customContextMenu},Blockly.Blocks.controls_flow_statements={init:function(){var e=[[Blockly.Msg.CONTROLS_FLOW_STATEMENTS_OPERATOR_BREAK,"BREAK"],[Blockly.Msg.CONTROLS_FLOW_STATEMENTS_OPERATOR_CONTINUE,"CONTINUE"]];this.setHelpUrl(Blockly.Msg.CONTROLS_FLOW_STATEMENTS_HELPURL),this.setHSV(322,.9,.95),this.appendDummyInput().appendTitle(new Blockly.FieldDropdown(e),"FLOW"),this.setPreviousStatement(!0);var t=this;this.setTooltip(function(){var e=t.getTitleValue("FLOW");return t.TOOLTIPS[e]})},onchange:function(){if(this.blockSpace){var e=!1,t=this;do{if("controls_repeat"==t.type||"controls_repeat_ext"==t.type||"controls_forEach"==t.type||"controls_for"==t.type||"controls_whileUntil"==t.type){e=!0;break}t=t.getSurroundParent()}while(t);e?this.setWarningText(null):this.setWarningText(Blockly.Msg.CONTROLS_FLOW_STATEMENTS_WARNING)}}},Blockly.Blocks.math={},Blockly.Blocks.math_number={init:function(){this.setHelpUrl(Blockly.Msg.MATH_NUMBER_HELPURL),this.appendDummyInput().appendTitle(new Blockly.FieldTextInput("0",Blockly.FieldTextInput.numberValidator),"NUM"),this.setOutput(!0,Blockly.BlockValueType.NUMBER),this.setTooltip(Blockly.Msg.MATH_NUMBER_TOOLTIP)}},Blockly.Blocks.math_arithmetic={init:function(){var e=[[Blockly.Msg.MATH_ADDITION_SYMBOL,"ADD"],[Blockly.Msg.MATH_SUBTRACTION_SYMBOL,"MINUS"],[Blockly.Msg.MATH_MULTIPLICATION_SYMBOL,"MULTIPLY"],[Blockly.Msg.MATH_DIVISION_SYMBOL,"DIVIDE"],[Blockly.Msg.MATH_POWER_SYMBOL,"POWER"]];this.setHelpUrl(Blockly.Msg.MATH_ARITHMETIC_HELPURL),this.setOutput(!0,Blockly.BlockValueType.NUMBER),this.appendValueInput("A").setCheck(Blockly.BlockValueType.NUMBER),this.appendValueInput("B").setCheck(Blockly.BlockValueType.NUMBER).appendTitle(new Blockly.FieldDropdown(e),"OP"),this.setInputsInline(!0);var t=this;this.setTooltip(function(){var e=t.getTitleValue("OP");return{ADD:Blockly.Msg.MATH_ARITHMETIC_TOOLTIP_ADD,MINUS:Blockly.Msg.MATH_ARITHMETIC_TOOLTIP_MINUS,MULTIPLY:Blockly.Msg.MATH_ARITHMETIC_TOOLTIP_MULTIPLY,DIVIDE:Blockly.Msg.MATH_ARITHMETIC_TOOLTIP_DIVIDE,POWER:Blockly.Msg.MATH_ARITHMETIC_TOOLTIP_POWER}[e]})}},Blockly.Blocks.math_single={init:function(){var e=[[Blockly.Msg.MATH_SINGLE_OP_ROOT,"ROOT"],[Blockly.Msg.MATH_SINGLE_OP_ABSOLUTE,"ABS"],["-","NEG"],["ln","LN"],["log10","LOG10"],["e^","EXP"],["10^","POW10"]];this.setHelpUrl(Blockly.Msg.MATH_SINGLE_HELPURL),this.setOutput(!0,Blockly.BlockValueType.NUMBER),this.appendValueInput("NUM").setCheck(Blockly.BlockValueType.NUMBER).appendTitle(new Blockly.FieldDropdown(e),"OP");var t=this;this.setTooltip(function(){var e=t.getTitleValue("OP");return{ROOT:Blockly.Msg.MATH_SINGLE_TOOLTIP_ROOT,ABS:Blockly.Msg.MATH_SINGLE_TOOLTIP_ABS,NEG:Blockly.Msg.MATH_SINGLE_TOOLTIP_NEG,LN:Blockly.Msg.MATH_SINGLE_TOOLTIP_LN,LOG10:Blockly.Msg.MATH_SINGLE_TOOLTIP_LOG10,EXP:Blockly.Msg.MATH_SINGLE_TOOLTIP_EXP,POW10:Blockly.Msg.MATH_SINGLE_TOOLTIP_POW10}[e]})}},Blockly.Blocks.math_trig={init:function(){var e=[[Blockly.Msg.MATH_TRIG_SIN,"SIN"],[Blockly.Msg.MATH_TRIG_COS,"COS"],[Blockly.Msg.MATH_TRIG_TAN,"TAN"],[Blockly.Msg.MATH_TRIG_ASIN,"ASIN"],[Blockly.Msg.MATH_TRIG_ACOS,"ACOS"],[Blockly.Msg.MATH_TRIG_ATAN,"ATAN"]];this.setHelpUrl(Blockly.Msg.MATH_TRIG_HELPURL),this.setOutput(!0,Blockly.BlockValueType.NUMBER),this.appendValueInput("NUM").setCheck(Blockly.BlockValueType.NUMBER).appendTitle(new Blockly.FieldDropdown(e),"OP");var t=this;this.setTooltip(function(){var e=t.getTitleValue("OP");return{SIN:Blockly.Msg.MATH_TRIG_TOOLTIP_SIN,COS:Blockly.Msg.MATH_TRIG_TOOLTIP_COS,TAN:Blockly.Msg.MATH_TRIG_TOOLTIP_TAN,ASIN:Blockly.Msg.MATH_TRIG_TOOLTIP_ASIN,ACOS:Blockly.Msg.MATH_TRIG_TOOLTIP_ACOS,ATAN:Blockly.Msg.MATH_TRIG_TOOLTIP_ATAN}[e]})}},Blockly.Blocks.math_constant={init:function(){this.setHelpUrl(Blockly.Msg.MATH_CONSTANT_HELPURL),this.setOutput(!0,Blockly.BlockValueType.NUMBER),this.appendDummyInput().appendTitle(new Blockly.FieldDropdown([["π","PI"],["e","E"],["φ","GOLDEN_RATIO"],["sqrt(2)","SQRT2"],["sqrt(½)","SQRT1_2"],["∞","INFINITY"]]),"CONSTANT"),this.setTooltip(Blockly.Msg.MATH_CONSTANT_TOOLTIP)}},Blockly.Blocks.math_number_property={init:function(){var e=[[Blockly.Msg.MATH_IS_EVEN,"EVEN"],[Blockly.Msg.MATH_IS_ODD,"ODD"],[Blockly.Msg.MATH_IS_PRIME,"PRIME"],[Blockly.Msg.MATH_IS_WHOLE,"WHOLE"],[Blockly.Msg.MATH_IS_POSITIVE,"POSITIVE"],[Blockly.Msg.MATH_IS_NEGATIVE,"NEGATIVE"],[Blockly.Msg.MATH_IS_DIVISIBLE_BY,"DIVISIBLE_BY"]];this.appendValueInput("NUMBER_TO_CHECK").setCheck(Blockly.BlockValueType.NUMBER),e=new Blockly.FieldDropdown(e,function(e){this.sourceBlock_.updateShape("DIVISIBLE_BY"==e)}),this.appendDummyInput().appendTitle(e,"PROPERTY"),this.setInputsInline(!0),this.setOutput(!0,Blockly.BlockValueType.BOOLEAN),this.setTooltip(Blockly.Msg.MATH_IS_TOOLTIP)},mutationToDom:function(){var e=document.createElement("mutation"),t="DIVISIBLE_BY"==this.getTitleValue("PROPERTY");return e.setAttribute("divisor_input",t),e},domToMutation:function(e){e="true"==e.getAttribute("divisor_input"),this.updateShape(e)},updateShape:function(e){var t=this.getInput("DIVISOR");e?t||this.appendValueInput("DIVISOR").setCheck(Blockly.BlockValueType.NUMBER):t&&this.removeInput("DIVISOR")}},Blockly.Blocks.math_change={init:function(){this.setHelpUrl(Blockly.Msg.MATH_CHANGE_HELPURL),this.setHSV(258,.35,.62),this.appendValueInput("DELTA").setCheck(Blockly.BlockValueType.NUMBER).appendTitle(Blockly.Msg.MATH_CHANGE_TITLE_CHANGE).appendTitle(new Blockly.FieldVariable(Blockly.Msg.MATH_CHANGE_TITLE_ITEM),"VAR").appendTitle(Blockly.Msg.MATH_CHANGE_INPUT_BY),this.setPreviousStatement(!0),this.setNextStatement(!0);var e=this;this.setTooltip(function(){return Blockly.Msg.MATH_CHANGE_TOOLTIP.replace("%1",e.getTitleValue("VAR"))})},getVars:Blockly.Variables.getVars,renameVar:function(e,t){Blockly.Names.equals(e,this.getTitleValue("VAR"))&&this.setTitleValue(t,"VAR")}},Blockly.Blocks.math_round={init:function(){var e=[[Blockly.Msg.MATH_ROUND_OPERATOR_ROUND,"ROUND"],[Blockly.Msg.MATH_ROUND_OPERATOR_ROUNDUP,"ROUNDUP"],[Blockly.Msg.MATH_ROUND_OPERATOR_ROUNDDOWN,"ROUNDDOWN"]];this.setHelpUrl(Blockly.Msg.MATH_ROUND_HELPURL),this.setOutput(!0,Blockly.BlockValueType.NUMBER),this.appendValueInput("NUM").setCheck(Blockly.BlockValueType.NUMBER).appendTitle(new Blockly.FieldDropdown(e),"OP"),this.setTooltip(Blockly.Msg.MATH_ROUND_TOOLTIP)}},Blockly.Blocks.math_on_list={init:function(){var e=[[Blockly.Msg.MATH_ONLIST_OPERATOR_SUM,"SUM"],[Blockly.Msg.MATH_ONLIST_OPERATOR_MIN,"MIN"],[Blockly.Msg.MATH_ONLIST_OPERATOR_MAX,"MAX"],[Blockly.Msg.MATH_ONLIST_OPERATOR_AVERAGE,"AVERAGE"],[Blockly.Msg.MATH_ONLIST_OPERATOR_MEDIAN,"MEDIAN"],[Blockly.Msg.MATH_ONLIST_OPERATOR_MODE,"MODE"],[Blockly.Msg.MATH_ONLIST_OPERATOR_STD_DEV,"STD_DEV"],[Blockly.Msg.MATH_ONLIST_OPERATOR_RANDOM,"RANDOM"]],t=this;this.setHelpUrl(Blockly.Msg.MATH_ONLIST_HELPURL),this.setOutput(!0,Blockly.BlockValueType.NUMBER),e=new Blockly.FieldDropdown(e,function(e){"MODE"==e?t.outputConnection.setCheck(Blockly.BlockValueType.ARRAY):t.outputConnection.setCheck(Blockly.BlockValueType.NUMBER)}),this.appendValueInput("LIST").setCheck(Blockly.BlockValueType.ARRAY).appendTitle(e,"OP"),this.setTooltip(function(){var e=t.getTitleValue("OP");return t.TOOLTIPS[e]})}},Blockly.Blocks.math_modulo={init:function(){this.setHelpUrl(Blockly.Msg.MATH_MODULO_HELPURL),this.setOutput(!0,Blockly.BlockValueType.NUMBER),this.interpolateMsg(Blockly.Msg.MATH_MODULO_TITLE,["DIVIDEND","Number",Blockly.ALIGN_RIGHT],["DIVISOR","Number",Blockly.ALIGN_RIGHT],Blockly.ALIGN_RIGHT),this.setInputsInline(!0),this.setTooltip(Blockly.Msg.MATH_MODULO_TOOLTIP)}},Blockly.Blocks.math_constrain={init:function(){this.setHelpUrl(Blockly.Msg.MATH_CONSTRAIN_HELPURL),this.setOutput(!0,Blockly.BlockValueType.NUMBER),this.interpolateMsg(Blockly.Msg.MATH_CONSTRAIN_TITLE,["VALUE","Number",Blockly.ALIGN_RIGHT],["LOW","Number",Blockly.ALIGN_RIGHT],["HIGH","Number",Blockly.ALIGN_RIGHT],Blockly.ALIGN_RIGHT),this.setInputsInline(!0),this.setTooltip(Blockly.Msg.MATH_CONSTRAIN_TOOLTIP)}},Blockly.Blocks.math_random_int={init:function(){this.setHelpUrl(Blockly.Msg.MATH_RANDOM_INT_HELPURL),this.setOutput(!0,Blockly.BlockValueType.NUMBER),this.interpolateMsg(Blockly.Msg.MATH_RANDOM_INT_TITLE,["FROM","Number",Blockly.ALIGN_RIGHT],["TO","Number",Blockly.ALIGN_RIGHT],Blockly.ALIGN_RIGHT),this.setInputsInline(!0),this.setTooltip(Blockly.Msg.MATH_RANDOM_INT_TOOLTIP)}},Blockly.Blocks.math_random_float={init:function(){this.setHelpUrl(Blockly.Msg.MATH_RANDOM_FLOAT_HELPURL),this.setOutput(!0,Blockly.BlockValueType.NUMBER),this.appendDummyInput().appendTitle(Blockly.Msg.MATH_RANDOM_FLOAT_TITLE_RANDOM),this.setTooltip(Blockly.Msg.MATH_RANDOM_FLOAT_TOOLTIP)}},Blockly.Blocks.text={init:function(){this.setHelpUrl(Blockly.Msg.TEXT_TEXT_HELPURL),this.appendDummyInput().appendTitle(new Blockly.FieldImage(Blockly.assetUrl("media/quote0.png"),12,12)).appendTitle(new Blockly.FieldTextInput(""),"TEXT").appendTitle(new Blockly.FieldImage(Blockly.assetUrl("media/quote1.png"),12,12)),this.setOutput(!0,Blockly.BlockValueType.STRING),this.setTooltip(Blockly.Msg.TEXT_TEXT_TOOLTIP)}},Blockly.Blocks.text_join={init:function(){this.setHelpUrl(Blockly.Msg.TEXT_JOIN_HELPURL),this.appendValueInput("ADD0").appendTitle(Blockly.Msg.TEXT_JOIN_TITLE_CREATEWITH),this.appendValueInput("ADD1"),this.setOutput(!0,Blockly.BlockValueType.STRING),this.setMutator(new Blockly.Mutator(["text_create_join_item"])),this.setTooltip(Blockly.Msg.TEXT_JOIN_TOOLTIP),this.itemCount_=2},mutationToDom:function(){var e=document.createElement("mutation");return e.setAttribute("items",this.itemCount_),e},domToMutation:function(e){for(var t=0;t<this.itemCount_;t++)this.removeInput("ADD"+t);for(this.itemCount_=window.parseInt(e.getAttribute("items"),10),t=0;t<this.itemCount_;t++)e=this.appendValueInput("ADD"+t),0==t&&e.appendTitle(Blockly.Msg.TEXT_JOIN_TITLE_CREATEWITH);0==this.itemCount_&&this.appendDummyInput("EMPTY").appendTitle(new Blockly.FieldImage(Blockly.assetUrl("media/quote0.png"),12,12)).appendTitle(new Blockly.FieldImage(Blockly.assetUrl("media/quote1.png"),12,12))},decompose:function(e){var t=new Blockly.Block(e,"text_create_join_container");t.initSvg();for(var o=t.getInput("STACK").connection,n=0;n<this.itemCount_;n++){var r=new Blockly.Block(e,"text_create_join_item");r.initSvg(),o.connect(r.previousConnection),o=r.nextConnection}return t},compose:function(e){if(0==this.itemCount_)this.removeInput("EMPTY");else for(var t=this.itemCount_-1;0<=t;t--)this.removeInput("ADD"+t);for(this.itemCount_=0,e=e.getInputTargetBlock("STACK");e;)t=this.appendValueInput("ADD"+this.itemCount_),0==this.itemCount_&&t.appendTitle(Blockly.Msg.TEXT_JOIN_TITLE_CREATEWITH),e.valueConnection_&&t.connection.connect(e.valueConnection_),this.itemCount_++,e=e.nextConnection&&e.nextConnection.targetBlock();0==this.itemCount_&&this.appendDummyInput("EMPTY").appendTitle(new Blockly.FieldImage(Blockly.assetUrl("media/quote0.png"),12,12)).appendTitle(new Blockly.FieldImage(Blockly.assetUrl("media/quote1.png"),12,12))},saveConnections:function(e){e=e.getInputTargetBlock("STACK");for(var t=0;e;){var o=this.getInput("ADD"+t);e.valueConnection_=o&&o.connection.targetConnection,t++,e=e.nextConnection&&e.nextConnection.targetBlock()}}},Blockly.Blocks.text_create_join_container={init:function(){this.setColour(160),this.appendDummyInput().appendTitle(Blockly.Msg.TEXT_CREATE_JOIN_TITLE_JOIN),this.appendStatementInput("STACK"),this.setTooltip(Blockly.Msg.TEXT_CREATE_JOIN_TOOLTIP),this.contextMenu=!1}},Blockly.Blocks.text_create_join_item={init:function(){this.setColour(160),this.appendDummyInput().appendTitle(Blockly.Msg.TEXT_CREATE_JOIN_ITEM_TITLE_ITEM),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip(Blockly.Msg.TEXT_CREATE_JOIN_ITEM_TOOLTIP),this.contextMenu=!1}},Blockly.Blocks.text_append={init:function(){this.setHelpUrl(Blockly.Msg.TEXT_APPEND_HELPURL),this.setColour(160),this.appendValueInput("TEXT").appendTitle(Blockly.Msg.TEXT_APPEND_TO).appendTitle(new Blockly.FieldVariable(Blockly.Msg.TEXT_APPEND_VARIABLE),"VAR").appendTitle(Blockly.Msg.TEXT_APPEND_APPENDTEXT),this.setPreviousStatement(!0),this.setNextStatement(!0);var e=this;this.setTooltip(function(){return Blockly.Msg.TEXT_APPEND_TOOLTIP.replace("%1",e.getTitleValue("VAR"))})},getVars:Blockly.Variables.getVars,renameVar:function(e,t){Blockly.Names.equals(e,this.getTitleValue("VAR"))&&this.setTitleValue(t,"VAR")}},Blockly.Blocks.text_length={init:function(){this.setHelpUrl(Blockly.Msg.TEXT_LENGTH_HELPURL),this.setColour(160),this.interpolateMsg(Blockly.Msg.TEXT_LENGTH_TITLE,["VALUE",["String","Array"],Blockly.ALIGN_RIGHT],Blockly.ALIGN_RIGHT),this.setOutput(!0,Blockly.BlockValueType.NUMBER),this.setTooltip(Blockly.Msg.TEXT_LENGTH_TOOLTIP)}},Blockly.Blocks.text_isEmpty={init:function(){this.setHelpUrl(Blockly.Msg.TEXT_ISEMPTY_HELPURL),this.setColour(160),this.interpolateMsg(Blockly.Msg.TEXT_ISEMPTY_TITLE,["VALUE",["String","Array"],Blockly.ALIGN_RIGHT],Blockly.ALIGN_RIGHT),this.setOutput(!0,Blockly.BlockValueType.BOOLEAN),this.setTooltip(Blockly.Msg.TEXT_ISEMPTY_TOOLTIP)}},Blockly.Blocks.text_indexOf={init:function(){var e=[[Blockly.Msg.TEXT_INDEXOF_OPERATOR_FIRST,"FIRST"],[Blockly.Msg.TEXT_INDEXOF_OPERATOR_LAST,"LAST"]];this.setHelpUrl(Blockly.Msg.TEXT_INDEXOF_HELPURL),this.setColour(160),this.setOutput(!0,Blockly.BlockValueType.NUMBER),this.appendValueInput("VALUE").setCheck(Blockly.BlockValueType.STRING).appendTitle(Blockly.Msg.TEXT_INDEXOF_INPUT_INTEXT),this.appendValueInput("FIND").setCheck(Blockly.BlockValueType.STRING).appendTitle(new Blockly.FieldDropdown(e),"END"),Blockly.Msg.TEXT_INDEXOF_TAIL&&this.appendDummyInput().appendTitle(Blockly.Msg.TEXT_INDEXOF_TAIL),this.setInputsInline(!0),this.setTooltip(Blockly.Msg.TEXT_INDEXOF_TOOLTIP)}},Blockly.Blocks.text_charAt={init:function(){this.WHERE_OPTIONS=[[Blockly.Msg.TEXT_CHARAT_FROM_START,"FROM_START"],[Blockly.Msg.TEXT_CHARAT_FROM_END,"FROM_END"],[Blockly.Msg.TEXT_CHARAT_FIRST,"FIRST"],[Blockly.Msg.TEXT_CHARAT_LAST,"LAST"],[Blockly.Msg.TEXT_CHARAT_RANDOM,"RANDOM"]],this.setHelpUrl(Blockly.Msg.TEXT_CHARAT_HELPURL),this.setOutput(!0,Blockly.BlockValueType.STRING),this.appendValueInput("VALUE").setCheck(Blockly.BlockValueType.STRING).appendTitle(Blockly.Msg.TEXT_CHARAT_INPUT_INTEXT),this.appendDummyInput("AT"),this.setInputsInline(!0),this.updateAt(!0),this.setTooltip(Blockly.Msg.TEXT_CHARAT_TOOLTIP)},mutationToDom:function(){var e=document.createElement("mutation"),t=this.getInput("AT").type==Blockly.INPUT_VALUE;return e.setAttribute("at",t),e},domToMutation:function(e){e="false"!=e.getAttribute("at"),this.updateAt(e)},updateAt:function(n){this.removeInput("AT"),this.removeInput("ORDINAL",!0),n?(this.appendValueInput("AT").setCheck(Blockly.BlockValueType.NUMBER),Blockly.Msg.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput("ORDINAL").appendTitle(Blockly.Msg.ORDINAL_NUMBER_SUFFIX)):this.appendDummyInput("AT"),Blockly.Msg.TEXT_CHARAT_TAIL&&(this.removeInput("TAIL",!0),this.appendDummyInput("TAIL").appendTitle(Blockly.Msg.TEXT_CHARAT_TAIL));var e=new Blockly.FieldDropdown(this.WHERE_OPTIONS,function(e){var t="FROM_START"==e||"FROM_END"==e;if(t!=n){var o=this.sourceBlock_;return o.updateAt(t),o.setTitleValue(e,"WHERE"),null}});this.getInput("AT").appendTitle(e,"WHERE")}},Blockly.Blocks.text_getSubstring={init:function(){this.WHERE_OPTIONS_1=[[Blockly.Msg.TEXT_GET_SUBSTRING_START_FROM_START,"FROM_START"],[Blockly.Msg.TEXT_GET_SUBSTRING_START_FROM_END,"FROM_END"],[Blockly.Msg.TEXT_GET_SUBSTRING_START_FIRST,"FIRST"]],this.WHERE_OPTIONS_2=[[Blockly.Msg.TEXT_GET_SUBSTRING_END_FROM_START,"FROM_START"],[Blockly.Msg.TEXT_GET_SUBSTRING_END_FROM_END,"FROM_END"],[Blockly.Msg.TEXT_GET_SUBSTRING_END_LAST,"LAST"]],this.setHelpUrl(Blockly.Msg.TEXT_GET_SUBSTRING_HELPURL),this.appendValueInput("STRING").setCheck(Blockly.BlockValueType.STRING).appendTitle(Blockly.Msg.TEXT_GET_SUBSTRING_INPUT_IN_TEXT),this.appendDummyInput("AT1"),this.appendDummyInput("AT2"),Blockly.Msg.TEXT_GET_SUBSTRING_TAIL&&this.appendDummyInput("TAIL").appendTitle(Blockly.Msg.TEXT_GET_SUBSTRING_TAIL),this.setInputsInline(!0),this.setOutput(!0,Blockly.BlockValueType.STRING),this.updateAt(1,!0),this.updateAt(2,!0),this.setTooltip(Blockly.Msg.TEXT_GET_SUBSTRING_TOOLTIP)},mutationToDom:function(){var e=document.createElement("mutation"),t=this.getInput("AT1").type==Blockly.INPUT_VALUE;return e.setAttribute("at1",t),t=this.getInput("AT2").type==Blockly.INPUT_VALUE,e.setAttribute("at2",t),e},domToMutation:function(e){var t="true"==e.getAttribute("at1");e="true"==e.getAttribute("at2"),this.updateAt(1,t),this.updateAt(2,e)},updateAt:function(n,r){this.removeInput("AT"+n),this.removeInput("ORDINAL"+n,!0),r?(this.appendValueInput("AT"+n).setCheck(Blockly.BlockValueType.NUMBER),Blockly.Msg.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput("ORDINAL"+n).appendTitle(Blockly.Msg.ORDINAL_NUMBER_SUFFIX)):this.appendDummyInput("AT"+n),2==n&&Blockly.Msg.TEXT_GET_SUBSTRING_TAIL&&(this.removeInput("TAIL",!0),this.appendDummyInput("TAIL").appendTitle(Blockly.Msg.TEXT_GET_SUBSTRING_TAIL));var e=new Blockly.FieldDropdown(this["WHERE_OPTIONS_"+n],function(e){var t="FROM_START"==e||"FROM_END"==e;if(t!=r){var o=this.sourceBlock_;return o.updateAt(n,t),o.setTitleValue(e,"WHERE"+n),null}});this.getInput("AT"+n).appendTitle(e,"WHERE"+n),1==n&&this.moveInputBefore("AT1","AT2")}},Blockly.Blocks.text_changeCase={init:function(){var e=[[Blockly.Msg.TEXT_CHANGECASE_OPERATOR_UPPERCASE,"UPPERCASE"],[Blockly.Msg.TEXT_CHANGECASE_OPERATOR_LOWERCASE,"LOWERCASE"],[Blockly.Msg.TEXT_CHANGECASE_OPERATOR_TITLECASE,"TITLECASE"]];this.setHelpUrl(Blockly.Msg.TEXT_CHANGECASE_HELPURL),this.appendValueInput("TEXT").setCheck(Blockly.BlockValueType.STRING).appendTitle(new Blockly.FieldDropdown(e),"CASE"),this.setOutput(!0,Blockly.BlockValueType.STRING),this.setTooltip(Blockly.Msg.TEXT_CHANGECASE_TOOLTIP)}},Blockly.Blocks.text_trim={init:function(){var e=[[Blockly.Msg.TEXT_TRIM_OPERATOR_BOTH,"BOTH"],[Blockly.Msg.TEXT_TRIM_OPERATOR_LEFT,"LEFT"],[Blockly.Msg.TEXT_TRIM_OPERATOR_RIGHT,"RIGHT"]];this.setHelpUrl(Blockly.Msg.TEXT_TRIM_HELPURL),this.appendValueInput("TEXT").setCheck(Blockly.BlockValueType.STRING).appendTitle(new Blockly.FieldDropdown(e),"MODE"),this.setOutput(!0,Blockly.BlockValueType.STRING),this.setTooltip(Blockly.Msg.TEXT_TRIM_TOOLTIP)}},Blockly.Blocks.text_print={init:function(){this.setHelpUrl(Blockly.Msg.TEXT_PRINT_HELPURL),this.setColour(160),this.interpolateMsg(Blockly.Msg.TEXT_PRINT_TITLE,["TEXT",null,Blockly.ALIGN_RIGHT],Blockly.ALIGN_RIGHT),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip(Blockly.Msg.TEXT_PRINT_TOOLTIP)}},Blockly.Blocks.text_prompt={init:function(){var e=[[Blockly.Msg.TEXT_PROMPT_TYPE_TEXT,"TEXT"],[Blockly.Msg.TEXT_PROMPT_TYPE_NUMBER,"NUMBER"]],t=this;this.setHelpUrl(Blockly.Msg.TEXT_PROMPT_HELPURL),e=new Blockly.FieldDropdown(e,function(e){"NUMBER"==e?t.outputConnection.setCheck(Blockly.BlockValueType.NUMBER):t.outputConnection.setCheck(Blockly.BlockValueType.STRING)}),this.appendDummyInput().appendTitle(e,"TYPE").appendTitle(new Blockly.FieldImage(Blockly.assetUrl("media/quote0.png"),12,12)).appendTitle(new Blockly.FieldTextInput(""),"TEXT").appendTitle(new Blockly.FieldImage(Blockly.assetUrl("media/quote1.png"),12,12)),this.setOutput(!0,Blockly.BlockValueType.STRING),(t=this).setTooltip(function(){return"TEXT"==t.getTitleValue("TYPE")?Blockly.Msg.TEXT_PROMPT_TOOLTIP_TEXT:Blockly.Msg.TEXT_PROMPT_TOOLTIP_NUMBER})}},Blockly.Blocks.unknown={unknownBlock:!0,init:function(){this.setHSV(0,0,.8)}},Blockly.JavaScript=Blockly.Generator.get("JavaScript"),Blockly.JavaScript.addReservedWords("Blockly,break,case,catch,continue,debugger,default,delete,do,else,finally,for,function,if,in,instanceof,new,return,switch,this,throw,try,typeof,var,void,while,with,class,enum,export,extends,import,super,implements,interface,let,package,private,protected,public,static,yield,const,null,true,false,Array,ArrayBuffer,Boolean,Date,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Error,eval,EvalError,Float32Array,Float64Array,Function,Infinity,Int16Array,Int32Array,Int8Array,isFinite,isNaN,Iterator,JSON,Math,NaN,Number,Object,parseFloat,parseInt,RangeError,ReferenceError,RegExp,StopIteration,String,SyntaxError,TypeError,Uint16Array,Uint32Array,Uint8Array,Uint8ClampedArray,undefined,uneval,URIError,applicationCache,closed,Components,content,_content,controllers,crypto,defaultStatus,dialogArguments,directories,document,frameElement,frames,fullScreen,globalStorage,history,innerHeight,innerWidth,length,location,locationbar,localStorage,menubar,messageManager,mozAnimationStartTime,mozInnerScreenX,mozInnerScreenY,mozPaintCount,name,navigator,opener,outerHeight,outerWidth,pageXOffset,pageYOffset,parent,performance,personalbar,pkcs11,returnValue,screen,screenX,screenY,scrollbars,scrollMaxX,scrollMaxY,scrollX,scrollY,self,sessionStorage,sidebar,status,statusbar,toolbar,top,URL,window,addEventListener,alert,atob,back,blur,btoa,captureEvents,clearImmediate,clearInterval,clearTimeout,close,confirm,disableExternalCapture,dispatchEvent,dump,enableExternalCapture,escape,find,focus,forward,GeckoActiveXObject,getAttention,getAttentionWithCycleCount,getComputedStyle,getSelection,home,matchMedia,maximize,minimize,moveBy,moveTo,mozRequestAnimationFrame,open,openDialog,postMessage,print,prompt,QueryInterface,releaseEvents,removeEventListener,resizeBy,resizeTo,restore,routeEvent,scroll,scrollBy,scrollByLines,scrollByPages,scrollTo,setCursor,setImmediate,setInterval,setResizable,setTimeout,showModalDialog,sizeToContent,stop,unescape,updateCommands,XPCNativeWrapper,XPCSafeJSObjectWrapper,onabort,onbeforeunload,onblur,onchange,onclick,onclose,oncontextmenu,ondevicemotion,ondeviceorientation,ondragdrop,onerror,onfocus,onhashchange,onkeydown,onkeypress,onkeyup,onload,onmousedown,onmousemove,onmouseout,onmouseover,onmouseup,onmozbeforepaint,onpaint,onpopstate,onreset,onresize,onscroll,onselect,onsubmit,onunload,onpageshow,onpagehide,Image,Option,Worker,Event,Range,File,FileReader,Blob,BlobBuilder,Attr,CDATASection,CharacterData,Comment,console,DocumentFragment,DocumentType,DomConfiguration,DOMError,DOMErrorHandler,DOMException,DOMImplementation,DOMImplementationList,DOMImplementationRegistry,DOMImplementationSource,DOMLocator,DOMObject,DOMString,DOMStringList,DOMTimeStamp,DOMUserData,Entity,EntityReference,MediaQueryList,MediaQueryListListener,NameList,NamedNodeMap,Node,NodeFilter,NodeIterator,NodeList,Notation,Plugin,PluginArray,ProcessingInstruction,SharedWorker,Text,TimeRanges,Treewalker,TypeInfo,UserDataHandler,Worker,WorkerGlobalScope,HTMLDocument,HTMLElement,HTMLAnchorElement,HTMLAppletElement,HTMLAudioElement,HTMLAreaElement,HTMLBaseElement,HTMLBaseFontElement,HTMLBodyElement,HTMLBRElement,HTMLButtonElement,HTMLCanvasElement,HTMLDirectoryElement,HTMLDivElement,HTMLDListElement,HTMLEmbedElement,HTMLFieldSetElement,HTMLFontElement,HTMLFormElement,HTMLFrameElement,HTMLFrameSetElement,HTMLHeadElement,HTMLHeadingElement,HTMLHtmlElement,HTMLHRElement,HTMLIFrameElement,HTMLImageElement,HTMLInputElement,HTMLKeygenElement,HTMLLabelElement,HTMLLIElement,HTMLLinkElement,HTMLMapElement,HTMLMenuElement,HTMLMetaElement,HTMLModElement,HTMLObjectElement,HTMLOListElement,HTMLOptGroupElement,HTMLOptionElement,HTMLOutputElement,HTMLParagraphElement,HTMLParamElement,HTMLPreElement,HTMLQuoteElement,HTMLScriptElement,HTMLSelectElement,HTMLSourceElement,HTMLSpanElement,HTMLStyleElement,HTMLTableElement,HTMLTableCaptionElement,HTMLTableCellElement,HTMLTableDataCellElement,HTMLTableHeaderCellElement,HTMLTableColElement,HTMLTableRowElement,HTMLTableSectionElement,HTMLTextAreaElement,HTMLTimeElement,HTMLTitleElement,HTMLTrackElement,HTMLUListElement,HTMLUnknownElement,HTMLVideoElement,HTMLCanvasElement,CanvasRenderingContext2D,CanvasGradient,CanvasPattern,TextMetrics,ImageData,CanvasPixelArray,HTMLAudioElement,HTMLVideoElement,NotifyAudioAvailableEvent,HTMLCollection,HTMLAllCollection,HTMLFormControlsCollection,HTMLOptionsCollection,HTMLPropertiesCollection,DOMTokenList,DOMSettableTokenList,DOMStringMap,RadioNodeList,SVGDocument,SVGElement,SVGAElement,SVGAltGlyphElement,SVGAltGlyphDefElement,SVGAltGlyphItemElement,SVGAnimationElement,SVGAnimateElement,SVGAnimateColorElement,SVGAnimateMotionElement,SVGAnimateTransformElement,SVGSetElement,SVGCircleElement,SVGClipPathElement,SVGColorProfileElement,SVGCursorElement,SVGDefsElement,SVGDescElement,SVGEllipseElement,SVGFilterElement,SVGFilterPrimitiveStandardAttributes,SVGFEBlendElement,SVGFEColorMatrixElement,SVGFEComponentTransferElement,SVGFECompositeElement,SVGFEConvolveMatrixElement,SVGFEDiffuseLightingElement,SVGFEDisplacementMapElement,SVGFEDistantLightElement,SVGFEFloodElement,SVGFEGaussianBlurElement,SVGFEImageElement,SVGFEMergeElement,SVGFEMergeNodeElement,SVGFEMorphologyElement,SVGFEOffsetElement,SVGFEPointLightElement,SVGFESpecularLightingElement,SVGFESpotLightElement,SVGFETileElement,SVGFETurbulenceElement,SVGComponentTransferFunctionElement,SVGFEFuncRElement,SVGFEFuncGElement,SVGFEFuncBElement,SVGFEFuncAElement,SVGFontElement,SVGFontFaceElement,SVGFontFaceFormatElement,SVGFontFaceNameElement,SVGFontFaceSrcElement,SVGFontFaceUriElement,SVGForeignObjectElement,SVGGElement,SVGGlyphElement,SVGGlyphRefElement,SVGGradientElement,SVGLinearGradientElement,SVGRadialGradientElement,SVGHKernElement,SVGImageElement,SVGLineElement,SVGMarkerElement,SVGMaskElement,SVGMetadataElement,SVGMissingGlyphElement,SVGMPathElement,SVGPathElement,SVGPatternElement,SVGPolylineElement,SVGPolygonElement,SVGRectElement,SVGScriptElement,SVGStopElement,SVGStyleElement,SVGSVGElement,SVGSwitchElement,SVGSymbolElement,SVGTextElement,SVGTextPathElement,SVGTitleElement,SVGTRefElement,SVGTSpanElement,SVGUseElement,SVGViewElement,SVGVKernElement,SVGAngle,SVGColor,SVGICCColor,SVGElementInstance,SVGElementInstanceList,SVGLength,SVGLengthList,SVGMatrix,SVGNumber,SVGNumberList,SVGPaint,SVGPoint,SVGPointList,SVGPreserveAspectRatio,SVGRect,SVGStringList,SVGTransform,SVGTransformList,SVGAnimatedAngle,SVGAnimatedBoolean,SVGAnimatedEnumeration,SVGAnimatedInteger,SVGAnimatedLength,SVGAnimatedLengthList,SVGAnimatedNumber,SVGAnimatedNumberList,SVGAnimatedPreserveAspectRatio,SVGAnimatedRect,SVGAnimatedString,SVGAnimatedTransformList,SVGPathSegList,SVGPathSeg,SVGPathSegArcAbs,SVGPathSegArcRel,SVGPathSegClosePath,SVGPathSegCurvetoCubicAbs,SVGPathSegCurvetoCubicRel,SVGPathSegCurvetoCubicSmoothAbs,SVGPathSegCurvetoCubicSmoothRel,SVGPathSegCurvetoQuadraticAbs,SVGPathSegCurvetoQuadraticRel,SVGPathSegCurvetoQuadraticSmoothAbs,SVGPathSegCurvetoQuadraticSmoothRel,SVGPathSegLinetoAbs,SVGPathSegLinetoHorizontalAbs,SVGPathSegLinetoHorizontalRel,SVGPathSegLinetoRel,SVGPathSegLinetoVerticalAbs,SVGPathSegLinetoVerticalRel,SVGPathSegMovetoAbs,SVGPathSegMovetoRel,ElementTimeControl,TimeEvent,SVGAnimatedPathData,SVGAnimatedPoints,SVGColorProfileRule,SVGCSSRule,SVGExternalResourcesRequired,SVGFitToViewBox,SVGLangSpace,SVGLocatable,SVGRenderingIntent,SVGStylable,SVGTests,SVGTextContentElement,SVGTextPositioningElement,SVGTransformable,SVGUnitTypes,SVGURIReference,SVGViewSpec,SVGZoomAndPan"),Blockly.JavaScript.ORDER_ATOMIC=0,Blockly.JavaScript.ORDER_MEMBER=1,Blockly.JavaScript.ORDER_NEW=1,Blockly.JavaScript.ORDER_FUNCTION_CALL=2,Blockly.JavaScript.ORDER_INCREMENT=3,Blockly.JavaScript.ORDER_DECREMENT=3,Blockly.JavaScript.ORDER_LOGICAL_NOT=4,Blockly.JavaScript.ORDER_BITWISE_NOT=4,Blockly.JavaScript.ORDER_UNARY_PLUS=4,Blockly.JavaScript.ORDER_UNARY_NEGATION=4,Blockly.JavaScript.ORDER_TYPEOF=4,Blockly.JavaScript.ORDER_VOID=4,Blockly.JavaScript.ORDER_DELETE=4,Blockly.JavaScript.ORDER_MULTIPLICATION=5,Blockly.JavaScript.ORDER_DIVISION=5,Blockly.JavaScript.ORDER_MODULUS=5,Blockly.JavaScript.ORDER_ADDITION=6,Blockly.JavaScript.ORDER_SUBTRACTION=6,Blockly.JavaScript.ORDER_BITWISE_SHIFT=7,Blockly.JavaScript.ORDER_RELATIONAL=8,Blockly.JavaScript.ORDER_IN=8,Blockly.JavaScript.ORDER_INSTANCEOF=8,Blockly.JavaScript.ORDER_EQUALITY=9,Blockly.JavaScript.ORDER_BITWISE_AND=10,Blockly.JavaScript.ORDER_BITWISE_XOR=11,Blockly.JavaScript.ORDER_BITWISE_OR=12,Blockly.JavaScript.ORDER_LOGICAL_AND=13,Blockly.JavaScript.ORDER_LOGICAL_OR=14,Blockly.JavaScript.ORDER_CONDITIONAL=15,Blockly.JavaScript.ORDER_ASSIGNMENT=16,Blockly.JavaScript.ORDER_COMMA=17,Blockly.JavaScript.ORDER_NONE=99,Blockly.JavaScript.INFINITE_LOOP_TRAP=null,Blockly.JavaScript.init=function(e){if(Blockly.JavaScript.definitions_={},Blockly.Variables&&(Blockly.JavaScript.variableDB_?Blockly.JavaScript.variableDB_.reset():Blockly.JavaScript.variableDB_=new Blockly.Names(Blockly.JavaScript.RESERVED_WORDS_),!Blockly.varsInGlobals)){var t=[];e=Blockly.Variables.allVariables(e);for(var o=0;o<e.length;o++)t[o]="var "+Blockly.JavaScript.variableDB_.getName(e[o],Blockly.Variables.NAME_TYPE)+";";Blockly.JavaScript.definitions_.variables=t.join("\n")}},Blockly.JavaScript.finish=function(e){var t,o=[];for(t in Blockly.JavaScript.definitions_)o.push(Blockly.JavaScript.definitions_[t]);return o.join("\n\n")+"\n\n\n"+e},Blockly.JavaScript.scrubNakedValue=function(e){return e+";\n"},Blockly.JavaScript.quote_=function(e){return"'"+(e=e.replace(/\\/g,"\\\\").replace(/\n/g,"\\\n").replace(/'/g,"\\'"))+"'"},Blockly.JavaScript.translateVarName=function(e){var t=Blockly.JavaScript.variableDB_.getName(e,Blockly.Variables.NAME_TYPE);return Blockly.varsInGlobals?Blockly.JavaScript.variableDB_.checkSpecificType(e,Blockly.Variables.NAME_TYPE,Blockly.Variables.NAME_TYPE_LOCAL)?t:"Globals."+t:t},Blockly.JavaScript.scrub_=function(e,t,o){return null===t?"":(e=!e.skipNextBlockGeneration&&e.nextConnection&&e.nextConnection.targetBlock(),t+(o=this.blockToCode(e,o)))},Blockly.JavaScript.colour={},Blockly.JavaScript.colour_picker=function(){return["'"+this.getTitleValue("COLOUR")+"'",Blockly.JavaScript.ORDER_ATOMIC]},Blockly.JavaScript.colour_random=function(){if(!Blockly.JavaScript.definitions_.colour_random){var e=Blockly.JavaScript.variableDB_.getDistinctName("colour_random",Blockly.Generator.NAME_TYPE);Blockly.JavaScript.colour_random.functionName=e;var t=[];t.push("function "+e+"() {"),t.push("  var num = Math.floor(Math.random() * Math.pow(2, 24));"),t.push("  return '#' + ('00000' + num.toString(16)).substr(-6);"),t.push("}"),Blockly.JavaScript.definitions_.colour_random=t.join("\n")}return[Blockly.JavaScript.colour_random.functionName+"()",Blockly.JavaScript.ORDER_FUNCTION_CALL]},Blockly.JavaScript.colour_rgb=function(){var e=Blockly.JavaScript.valueToCode(this,"RED",Blockly.JavaScript.ORDER_COMMA)||0,t=Blockly.JavaScript.valueToCode(this,"GREEN",Blockly.JavaScript.ORDER_COMMA)||0,o=Blockly.JavaScript.valueToCode(this,"BLUE",Blockly.JavaScript.ORDER_COMMA)||0;if(!Blockly.JavaScript.definitions_.colour_rgb){var n=Blockly.JavaScript.variableDB_.getDistinctName("colour_rgb",Blockly.Generator.NAME_TYPE);Blockly.JavaScript.colour_rgb.functionName=n;var r=[];r.push("function "+n+"(r, g, b) {"),r.push("  r = Math.round(Math.max(Math.min(Number(r), 255), 0));"),r.push("  g = Math.round(Math.max(Math.min(Number(g), 255), 0));"),r.push("  b = Math.round(Math.max(Math.min(Number(b), 255), 0));"),r.push("  r = ('0' + (r || 0).toString(16)).slice(-2);"),r.push("  g = ('0' + (g || 0).toString(16)).slice(-2);"),r.push("  b = ('0' + (b || 0).toString(16)).slice(-2);"),r.push("  return '#' + r + g + b;"),r.push("}"),Blockly.JavaScript.definitions_.colour_rgb=r.join("\n")}return[Blockly.JavaScript.colour_rgb.functionName+"("+e+", "+t+", "+o+")",Blockly.JavaScript.ORDER_FUNCTION_CALL]},Blockly.JavaScript.colour_blend=function(){var e=Blockly.JavaScript.valueToCode(this,"COLOUR1",Blockly.JavaScript.ORDER_COMMA)||"'#000000'",t=Blockly.JavaScript.valueToCode(this,"COLOUR2",Blockly.JavaScript.ORDER_COMMA)||"'#000000'",o=Blockly.JavaScript.valueToCode(this,"RATIO",Blockly.JavaScript.ORDER_COMMA)||.5;if(!Blockly.JavaScript.definitions_.colour_blend){var n=Blockly.JavaScript.variableDB_.getDistinctName("colour_blend",Blockly.Generator.NAME_TYPE);Blockly.JavaScript.colour_blend.functionName=n;var r=[];r.push("function "+n+"(c1, c2, ratio) {"),r.push("  ratio = Math.max(Math.min(Number(ratio), 1), 0);"),r.push("  var r1 = parseInt(c1.substring(1, 3), 16);"),r.push("  var g1 = parseInt(c1.substring(3, 5), 16);"),r.push("  var b1 = parseInt(c1.substring(5, 7), 16);"),r.push("  var r2 = parseInt(c2.substring(1, 3), 16);"),r.push("  var g2 = parseInt(c2.substring(3, 5), 16);"),r.push("  var b2 = parseInt(c2.substring(5, 7), 16);"),r.push("  var r = Math.round(r1 * (1 - ratio) + r2 * ratio);"),r.push("  var g = Math.round(g1 * (1 - ratio) + g2 * ratio);"),r.push("  var b = Math.round(b1 * (1 - ratio) + b2 * ratio);"),r.push("  r = ('0' + (r || 0).toString(16)).slice(-2);"),r.push("  g = ('0' + (g || 0).toString(16)).slice(-2);"),r.push("  b = ('0' + (b || 0).toString(16)).slice(-2);"),r.push("  return '#' + r + g + b;"),r.push("}"),Blockly.JavaScript.definitions_.colour_blend=r.join("\n")}return[Blockly.JavaScript.colour_blend.functionName+"("+e+", "+t+", "+o+")",Blockly.JavaScript.ORDER_FUNCTION_CALL]},Blockly.JavaScript.functionalExamples={},Blockly.JavaScript.functional_example=function(){return["("+(Blockly.JavaScript.statementToCode(this,"EXPECTED",Blockly.JavaScript.ORDER_NONE)||"null")+" == "+(Blockly.JavaScript.statementToCode(this,"ACTUAL",Blockly.JavaScript.ORDER_NONE)||"null")+")",0]},Blockly.JavaScript.functionalParameters={},Blockly.JavaScript.functional_parameters_get=function(){return Blockly.JavaScript.translateVarName(this.getTitleValue("VAR"))},Blockly.JavaScript.functionalProcedures={},Blockly.JavaScript.functional_definition=function(){for(var e=Blockly.JavaScript.variableDB_.getName(this.getTitleValue("NAME"),Blockly.Procedures.NAME_TYPE),t=[],o=0;o<this.parameterNames_.length;o++)t[o]=Blockly.JavaScript.variableDB_.getName(this.parameterNames_[o],Blockly.Variables.NAME_TYPE,Blockly.Variables.NAME_TYPE_LOCAL);o="",Blockly.JavaScript.INFINITE_LOOP_TRAP&&(o=Blockly.JavaScript.INFINITE_LOOP_TRAP.replace(/%1/g,"'"+this.id+"'")+o);var n=Blockly.JavaScript.statementToCode(this,"STACK",Blockly.JavaScript.ORDER_NONE)||"";return n&&(n="  return "+n+";\n"),t=(Blockly.varsInGlobals?"Globals."+e+" = function":"function "+e)+"("+t.join(", ")+") {\n"+o+n+"\n}",t=Blockly.JavaScript.scrub_(this,t),Blockly.JavaScript.definitions_[e]=t,null},Blockly.JavaScript.functional_call=function(){for(var e=Blockly.JavaScript.variableDB_.getName(this.getTitleValue("NAME"),Blockly.Procedures.NAME_TYPE),t=[],o=0;o<this.currentParameterNames_.length;o++)t[o]=Blockly.JavaScript.statementToCode(this,"ARG"+o,Blockly.JavaScript.ORDER_COMMA)||"null";return(Blockly.varsInGlobals?"Globals.":"")+e+"("+t.join(", ")+")"},Blockly.JavaScript.functional_pass=function(){var e=Blockly.JavaScript.variableDB_.getName(this.getTitleValue("NAME"),Blockly.Procedures.NAME_TYPE);return(Blockly.varsInGlobals?"Globals.":"")+e},Blockly.JavaScript.procedural_to_functional_call=function(){for(var e=Blockly.JavaScript.variableDB_.getName(this.getTitleValue("NAME"),Blockly.Procedures.NAME_TYPE),t=[],o=0;o<this.currentParameterNames_.length;o++){var n=Blockly.JavaScript.valueToCode(this,"ARG"+o,Blockly.JavaScript.ORDER_COMMA);t[o]=n||"null"}return[(Blockly.varsInGlobals?"Globals.":"")+e+"("+t.join(", ")+")",Blockly.JavaScript.ORDER_NONE]},Blockly.JavaScript.lists={},Blockly.JavaScript.lists_create_empty=function(){return["[]",Blockly.JavaScript.ORDER_ATOMIC]},Blockly.JavaScript.lists_create_with=function(){for(var e=Array(this.itemCount_),t=0;t<this.itemCount_;t++)e[t]=Blockly.JavaScript.valueToCode(this,"ADD"+t,Blockly.JavaScript.ORDER_COMMA)||"null";return[e="["+e.join(", ")+"]",Blockly.JavaScript.ORDER_ATOMIC]},Blockly.JavaScript.lists_repeat=function(){if(!Blockly.JavaScript.definitions_.lists_repeat){var e=Blockly.JavaScript.variableDB_.getDistinctName("lists_repeat",Blockly.Generator.NAME_TYPE);Blockly.JavaScript.lists_repeat.repeat=e;var t=[];t.push("function "+e+"(value, n) {"),t.push("  var array = [];"),t.push("  for (var i = 0; i < n; i++) {"),t.push("    array[i] = value;"),t.push("  }"),t.push("  return array;"),t.push("}"),Blockly.JavaScript.definitions_.lists_repeat=t.join("\n")}return e=Blockly.JavaScript.valueToCode(this,"ITEM",Blockly.JavaScript.ORDER_COMMA)||"null",t=Blockly.JavaScript.valueToCode(this,"NUM",Blockly.JavaScript.ORDER_COMMA)||"0",[Blockly.JavaScript.lists_repeat.repeat+"("+e+", "+t+")",Blockly.JavaScript.ORDER_FUNCTION_CALL]},Blockly.JavaScript.lists_length=function(){return[(Blockly.JavaScript.valueToCode(this,"VALUE",Blockly.JavaScript.ORDER_FUNCTION_CALL)||"''")+".length",Blockly.JavaScript.ORDER_MEMBER]},Blockly.JavaScript.lists_isEmpty=function(){return["!"+(Blockly.JavaScript.valueToCode(this,"VALUE",Blockly.JavaScript.ORDER_MEMBER)||"[]")+".length",Blockly.JavaScript.ORDER_LOGICAL_NOT]},Blockly.JavaScript.lists_indexOf=function(){var e="FIRST"==this.getTitleValue("END")?"indexOf":"lastIndexOf",t=Blockly.JavaScript.valueToCode(this,"FIND",Blockly.JavaScript.ORDER_NONE)||"''";return[(Blockly.JavaScript.valueToCode(this,"VALUE",Blockly.JavaScript.ORDER_MEMBER)||"[]")+"."+e+"("+t+") + 1",Blockly.JavaScript.ORDER_MEMBER]},Blockly.JavaScript.lists_getIndex=function(){var e=this.getTitleValue("MODE")||"GET",t=this.getTitleValue("WHERE")||"FROM_START",o=Blockly.JavaScript.valueToCode(this,"AT",Blockly.JavaScript.ORDER_UNARY_NEGATION)||"1",n=Blockly.JavaScript.valueToCode(this,"VALUE",Blockly.JavaScript.ORDER_MEMBER)||"[]";if("FIRST"==t){if("GET"==e)return[n+"[0]",Blockly.JavaScript.ORDER_MEMBER];if("GET_REMOVE"==e)return[n+".shift()",Blockly.JavaScript.ORDER_MEMBER];if("REMOVE"==e)return n+".shift();\n"}else if("LAST"==t){if("GET"==e)return[n+".slice(-1)[0]",Blockly.JavaScript.ORDER_MEMBER];if("GET_REMOVE"==e)return[n+".pop()",Blockly.JavaScript.ORDER_MEMBER];if("REMOVE"==e)return n+".pop();\n"}else if("FROM_START"==t){if(o=Blockly.isNumber(o)?parseFloat(o)-1:o+" - 1","GET"==e)return[n+"["+o+"]",Blockly.JavaScript.ORDER_MEMBER];if("GET_REMOVE"==e)return[n+".splice("+o+", 1)[0]",Blockly.JavaScript.ORDER_FUNCTION_CALL];if("REMOVE"==e)return n+".splice("+o+", 1);\n"}else if("FROM_END"==t){if("GET"==e)return[n+".slice(-"+o+")[0]",Blockly.JavaScript.ORDER_FUNCTION_CALL];if("GET_REMOVE"==e||"REMOVE"==e){if(!Blockly.JavaScript.definitions_.lists_remove_from_end){t=Blockly.JavaScript.variableDB_.getDistinctName("lists_remove_from_end",Blockly.Generator.NAME_TYPE),Blockly.JavaScript.lists_getIndex.lists_remove_from_end=t;var r=[];r.push("function "+t+"(list, x) {"),r.push("  x = list.length - x;"),r.push("  return list.splice(x, 1)[0];"),r.push("}"),Blockly.JavaScript.definitions_.lists_remove_from_end=r.join("\n")}if(o=Blockly.JavaScript.lists_getIndex.lists_remove_from_end+"("+n+", "+o+")","GET_REMOVE"==e)return[o,Blockly.JavaScript.ORDER_FUNCTION_CALL];if("REMOVE"==e)return o+";\n"}}else if("RANDOM"==t){if(Blockly.JavaScript.definitions_.lists_get_random_item||(t=Blockly.JavaScript.variableDB_.getDistinctName("lists_get_random_item",Blockly.Generator.NAME_TYPE),Blockly.JavaScript.lists_getIndex.random=t,(r=[]).push("function "+t+"(list, remove) {"),r.push("  var x = Math.floor(Math.random() * list.length);"),r.push("  if (remove) {"),r.push("    return list.splice(x, 1)[0];"),r.push("  } else {"),r.push("    return list[x];"),r.push("  }"),r.push("}"),Blockly.JavaScript.definitions_.lists_get_random_item=r.join("\n")),o=Blockly.JavaScript.lists_getIndex.random+"("+n+", "+("GET"!=e)+")","GET"==e||"GET_REMOVE"==e)return[o,Blockly.JavaScript.ORDER_FUNCTION_CALL];if("REMOVE"==e)return o+";\n"}throw"Unhandled combination (lists_getIndex)."},Blockly.JavaScript.lists_setIndex=function(){function e(){if(o.match(/^\w+$/))return"";var e=Blockly.JavaScript.variableDB_.getDistinctName("tmp_list",Blockly.Variables.NAME_TYPE),t="var "+e+" = "+o+";\n";return o=e,t}var o=Blockly.JavaScript.valueToCode(this,"LIST",Blockly.JavaScript.ORDER_MEMBER)||"[]",t=this.getTitleValue("MODE")||"GET",n=this.getTitleValue("WHERE")||"FROM_START",r=Blockly.JavaScript.valueToCode(this,"AT",Blockly.JavaScript.ORDER_NONE)||"1",i=Blockly.JavaScript.valueToCode(this,"TO",Blockly.JavaScript.ORDER_ASSIGNMENT)||"null";if("FIRST"==n){if("SET"==t)return o+"[0] = "+i+";\n";if("INSERT"==t)return o+".unshift("+i+");\n"}else if("LAST"==n){if("SET"==t)return(n=e())+(o+"[")+o+".length - 1] = "+i+";\n";if("INSERT"==t)return o+".push("+i+");\n"}else if("FROM_START"==n){if(r=Blockly.isNumber(r)?parseFloat(r)-1:r+" - 1","SET"==t)return o+"["+r+"] = "+i+";\n";if("INSERT"==t)return o+".splice("+r+", 0, "+i+");\n"}else if("FROM_END"==n){if(n=e(),"SET"==t)return n+(o+"[")+o+".length - "+r+"] = "+i+";\n";if("INSERT"==t)return n+(o+".splice(")+o+".length - "+r+", 0, "+i+");\n"}else if("RANDOM"==n){if(n=e(),n+="var "+(r=Blockly.JavaScript.variableDB_.getDistinctName("tmp_x",Blockly.Variables.NAME_TYPE))+" = Math.floor(Math.random() * "+o+".length);\n","SET"==t)return n+(o+"[")+r+"] = "+i+";\n";if("INSERT"==t)return n+(o+".splice(")+r+", 0, "+i+");\n"}throw"Unhandled combination (lists_setIndex)."},Blockly.JavaScript.lists_getSublist=function(){var e=Blockly.JavaScript.valueToCode(this,"LIST",Blockly.JavaScript.ORDER_MEMBER)||"[]",t=this.getTitleValue("WHERE1"),o=this.getTitleValue("WHERE2"),n=Blockly.JavaScript.valueToCode(this,"AT1",Blockly.JavaScript.ORDER_NONE)||"1",r=Blockly.JavaScript.valueToCode(this,"AT2",Blockly.JavaScript.ORDER_NONE)||"1";if("FIRST"==t&&"LAST"==o)e+=".concat()";else{if(!Blockly.JavaScript.definitions_.lists_get_sublist){var i=Blockly.JavaScript.variableDB_.getDistinctName("lists_get_sublist",Blockly.Generator.NAME_TYPE);Blockly.JavaScript.lists_getSublist.func=i;var a=[];a.push("function "+i+"(list, where1, at1, where2, at2) {"),a.push("  function getAt(where, at) {"),a.push("    if (where == 'FROM_START') {"),a.push("      at--;"),a.push("    } else if (where == 'FROM_END') {"),a.push("      at = list.length - at;"),a.push("    } else if (where == 'FIRST') {"),a.push("      at = 0;"),a.push("    } else if (where == 'LAST') {"),a.push("      at = list.length - 1;"),a.push("    } else {"),a.push("      throw 'Unhandled option (lists_getSublist).';"),a.push("    }"),a.push("    return at;"),a.push("  }"),a.push("  at1 = getAt(where1, at1);"),a.push("  at2 = getAt(where2, at2) + 1;"),a.push("  return list.slice(at1, at2);"),a.push("}"),Blockly.JavaScript.definitions_.lists_get_sublist=a.join("\n")}e=Blockly.JavaScript.lists_getSublist.func+"("+e+", '"+t+"', "+n+", '"+o+"', "+r+")"}return[e,Blockly.JavaScript.ORDER_FUNCTION_CALL]},Blockly.JavaScript.logic={},Blockly.JavaScript.controls_if=function(){var e=0,t=Blockly.JavaScript.valueToCode(this,"IF"+e,Blockly.JavaScript.ORDER_NONE)||"false",o=Blockly.JavaScript.statementToCode(this,"DO"+e),n="if ("+t+") {\n"+o+"}";for(e=1;e<=this.elseifCount_;e++)n+=" else if ("+(t=Blockly.JavaScript.valueToCode(this,"IF"+e,Blockly.JavaScript.ORDER_NONE)||"false")+") {\n"+(o=Blockly.JavaScript.statementToCode(this,"DO"+e))+"}";return this.elseCount_&&(n+=" else {\n"+(o=Blockly.JavaScript.statementToCode(this,"ELSE"))+"}\n"),n+"\n"},Blockly.JavaScript.logic_compare=function(){var e=this.getTitleValue("OP"),t="=="==(e=Blockly.JavaScript.logic_compare.OPERATORS[e])||"!="==e?Blockly.JavaScript.ORDER_EQUALITY:Blockly.JavaScript.ORDER_RELATIONAL;return[(Blockly.JavaScript.valueToCode(this,"A",t)||"0")+" "+e+" "+(Blockly.JavaScript.valueToCode(this,"B",t)||"0"),t]},Blockly.JavaScript.logic_compare.OPERATORS={EQ:"==",NEQ:"!=",LT:"<",LTE:"<=",GT:">",GTE:">="},Blockly.JavaScript.logic_operation=function(){var e="AND"==this.getTitleValue("OP")?"&&":"||",t="&&"==e?Blockly.JavaScript.ORDER_LOGICAL_AND:Blockly.JavaScript.ORDER_LOGICAL_OR;return[(Blockly.JavaScript.valueToCode(this,"A",t)||"false")+" "+e+" "+(Blockly.JavaScript.valueToCode(this,"B",t)||"false"),t]},Blockly.JavaScript.logic_negate=function(){var e=Blockly.JavaScript.ORDER_LOGICAL_NOT;return["!"+(Blockly.JavaScript.valueToCode(this,"BOOL",e)||"false"),e]},Blockly.JavaScript.logic_boolean=function(){return["TRUE"==this.getTitleValue("BOOL")?"true":"false",Blockly.JavaScript.ORDER_ATOMIC]},Blockly.JavaScript.logic_null=function(){return["null",Blockly.JavaScript.ORDER_ATOMIC]},Blockly.JavaScript.logic_ternary=function(){return[(Blockly.JavaScript.valueToCode(this,"IF",Blockly.JavaScript.ORDER_CONDITIONAL)||"false")+" ? "+(Blockly.JavaScript.valueToCode(this,"THEN",Blockly.JavaScript.ORDER_CONDITIONAL)||"null")+" : "+(Blockly.JavaScript.valueToCode(this,"ELSE",Blockly.JavaScript.ORDER_CONDITIONAL)||"null"),Blockly.JavaScript.ORDER_CONDITIONAL]},Blockly.JavaScript.loops={},Blockly.JavaScript.controls_repeat=function(){var e=Number(this.getTitleValue("TIMES"))||0,t=Blockly.JavaScript.statementToCode(this,"DO");Blockly.JavaScript.INFINITE_LOOP_TRAP&&(t=Blockly.JavaScript.INFINITE_LOOP_TRAP.replace(/%1/g,"'"+this.id+"'")+t);var o=Blockly.JavaScript.variableDB_.getDistinctName("count",Blockly.Variables.NAME_TYPE);return"for (var "+o+" = 0; "+o+" < "+e+"; "+o+"++) {\n"+t+"}\n"},Blockly.JavaScript.controls_repeat_ext=function(){var e=Blockly.JavaScript.valueToCode(this,"TIMES",Blockly.JavaScript.ORDER_ASSIGNMENT)||"0",t=Blockly.JavaScript.statementToCode(this,"DO");Blockly.JavaScript.INFINITE_LOOP_TRAP&&(t=Blockly.JavaScript.INFINITE_LOOP_TRAP.replace(/%1/g,"'"+this.id+"'")+t);var o="",n=Blockly.JavaScript.variableDB_.getDistinctName("count",Blockly.Variables.NAME_TYPE),r=e;return e.match(/^\w+$/)||Blockly.isNumber(e)||(o+="var "+(r=Blockly.JavaScript.variableDB_.getDistinctName("repeat_end",Blockly.Variables.NAME_TYPE))+" = "+e+";\n"),o+"for (var "+n+" = 0; "+n+" < "+r+"; "+n+"++) {\n"+t+"}\n"},Blockly.JavaScript.controls_whileUntil=function(){var e="UNTIL"==this.getTitleValue("MODE"),t=Blockly.JavaScript.valueToCode(this,"BOOL",e?Blockly.JavaScript.ORDER_LOGICAL_NOT:Blockly.JavaScript.ORDER_NONE)||"false",o=Blockly.JavaScript.statementToCode(this,"DO");return Blockly.JavaScript.INFINITE_LOOP_TRAP&&(o=Blockly.JavaScript.INFINITE_LOOP_TRAP.replace(/%1/g,"'"+this.id+"'")+o),e&&(t="!"+t),"while ("+t+") {\n"+o+"}\n"},Blockly.JavaScript.controls_for=function(){var e=Blockly.JavaScript.translateVarName(this.getTitleValue("VAR")),t=Blockly.JavaScript.valueToCode(this,"FROM",Blockly.JavaScript.ORDER_ASSIGNMENT)||"0",o=Blockly.JavaScript.valueToCode(this,"TO",Blockly.JavaScript.ORDER_ASSIGNMENT)||"0",n=Blockly.JavaScript.valueToCode(this,"BY",Blockly.JavaScript.ORDER_ASSIGNMENT)||"1",r=Blockly.JavaScript.statementToCode(this,"DO");if(Blockly.JavaScript.INFINITE_LOOP_TRAP&&(r=Blockly.JavaScript.INFINITE_LOOP_TRAP.replace(/%1/g,"'"+this.id+"'")+r),Blockly.isNumber(t)&&Blockly.isNumber(o)&&Blockly.isNumber(n)){var i=parseFloat(t)<=parseFloat(o),a="for ("+e+" = "+t+"; "+e+(i?" <= ":" >= ")+o+"; "+e;1===(e=Math.abs(parseFloat(n)))?a+=i?"++":"--":(a+=(i?" += ":" -= ")+e,0===e&&(r='  throw new Error("Infinity");\n'+r)),a+=") {\n"+r+"}\n"}else{a="";var s=Blockly.JavaScript.variableDB_.getName(this.getTitleValue("VAR"),Blockly.Variables.NAME_TYPE);(i=t).match(/^\w+$/)||Blockly.isNumber(t)||(a+="var "+(i=Blockly.JavaScript.variableDB_.getDistinctName(s+"_start",Blockly.Variables.NAME_TYPE))+" = "+t+";\n"),(t=o).match(/^\w+$/)||Blockly.isNumber(o)||(a+="var "+(t=Blockly.JavaScript.variableDB_.getDistinctName(s+"_end",Blockly.Variables.NAME_TYPE))+" = "+o+";\n"),a+="var "+(o=Blockly.JavaScript.variableDB_.getDistinctName(s+"_inc",Blockly.Variables.NAME_TYPE))+" = ",a=(a=Blockly.isNumber(n)?a+(Math.abs(n)+";\n"):a+"Math.abs("+n+");\n")+"if ("+i+" > "+t+") {\n  "+o+" = -"+o+";\n}\n",a+="for ("+e+" = "+i+";\n     "+o+" >= 0 ? "+e+" <= "+t+" : "+e+" >= "+t+";\n     "+e+" += "+o+") {\n"+r+"}\n"}return a},Blockly.JavaScript.controls_forEach=function(){var e=Blockly.JavaScript.translateVarName(this.getTitleValue("VAR")),t=Blockly.JavaScript.valueToCode(this,"LIST",Blockly.JavaScript.ORDER_ASSIGNMENT)||"[]",o=Blockly.JavaScript.statementToCode(this,"DO");Blockly.JavaScript.INFINITE_LOOP_TRAP&&(o=Blockly.JavaScript.INFINITE_LOOP_TRAP.replace(/%1/g,"'"+this.id+"'")+o);var n=Blockly.JavaScript.variableDB_.getName(this.getTitleValue("VAR"),Blockly.Variables.NAME_TYPE),r=Blockly.JavaScript.variableDB_.getDistinctName(n+"_index",Blockly.Variables.NAME_TYPE);return e=t.match(/^\w+$/)?"for (var "+r+" in  "+t+") {\n  "+e+" = "+t+"["+r+"];\n"+o+"}\n":"var "+(n=Blockly.JavaScript.variableDB_.getDistinctName(n+"_list",Blockly.Variables.NAME_TYPE))+" = "+t+";\nfor (var "+r+" in "+n+") {\n  "+e+" = "+n+"["+r+"];\n"+o+"}\n"},Blockly.JavaScript.controls_flow_statements=function(){switch(this.getTitleValue("FLOW")){case"BREAK":return"break;\n";case"CONTINUE":return"continue;\n"}throw"Unknown flow statement."},Blockly.JavaScript.math={},Blockly.JavaScript.math_number=function(){return[window.parseFloat(this.getTitleValue("NUM"))||0,Blockly.JavaScript.ORDER_ATOMIC]},Blockly.JavaScript.math_arithmetic=function(){var e=this.getTitleValue("OP"),t=Blockly.JavaScript.math_arithmetic.OPERATORS[e];e=t[0],t=t[1];var o=Blockly.JavaScript.valueToCode(this,"A",t)||"0",n=Blockly.JavaScript.valueToCode(this,"B",t)||"0";return e?[o+e+n,t]:["Math.pow("+o+", "+n+")",Blockly.JavaScript.ORDER_FUNCTION_CALL]},Blockly.JavaScript.math_arithmetic.OPERATORS={ADD:[" + ",Blockly.JavaScript.ORDER_ADDITION],MINUS:[" - ",Blockly.JavaScript.ORDER_SUBTRACTION],MULTIPLY:[" * ",Blockly.JavaScript.ORDER_MULTIPLICATION],DIVIDE:[" / ",Blockly.JavaScript.ORDER_DIVISION],POWER:[null,Blockly.JavaScript.ORDER_COMMA]},Blockly.JavaScript.math_single=function(){var e=this.getTitleValue("OP");if("NEG"==e){var t=Blockly.JavaScript.valueToCode(this,"NUM",Blockly.JavaScript.ORDER_UNARY_NEGATION)||"0";return"-"==t[0]&&(t=" "+t),["-"+t,Blockly.JavaScript.ORDER_UNARY_NEGATION]}switch(t="SIN"==e||"COS"==e||"TAN"==e?Blockly.JavaScript.valueToCode(this,"NUM",Blockly.JavaScript.ORDER_DIVISION)||"0":Blockly.JavaScript.valueToCode(this,"NUM",Blockly.JavaScript.ORDER_NONE)||"0",e){case"ABS":var o="Math.abs("+t+")";break;case"ROOT":o="Math.sqrt("+t+")";break;case"LN":o="Math.log("+t+")";break;case"EXP":o="Math.exp("+t+")";break;case"POW10":o="Math.pow(10,"+t+")";break;case"ROUND":o="Math.round("+t+")";break;case"ROUNDUP":o="Math.ceil("+t+")";break;case"ROUNDDOWN":o="Math.floor("+t+")";break;case"SIN":o="Math.sin("+t+" / 180 * Math.PI)";break;case"COS":o="Math.cos("+t+" / 180 * Math.PI)";break;case"TAN":o="Math.tan("+t+" / 180 * Math.PI)"}if(o)return[o,Blockly.JavaScript.ORDER_FUNCTION_CALL];switch(e){case"LOG10":o="Math.log("+t+") / Math.log(10)";break;case"ASIN":o="Math.asin("+t+") / Math.PI * 180";break;case"ACOS":o="Math.acos("+t+") / Math.PI * 180";break;case"ATAN":o="Math.atan("+t+") / Math.PI * 180";break;default:throw"Unknown math operator: "+e}return[o,Blockly.JavaScript.ORDER_DIVISION]},Blockly.JavaScript.math_constant=function(){var e=this.getTitleValue("CONSTANT");return Blockly.JavaScript.math_constant.CONSTANTS[e]},Blockly.JavaScript.math_constant.CONSTANTS={PI:["Math.PI",Blockly.JavaScript.ORDER_MEMBER],E:["Math.E",Blockly.JavaScript.ORDER_MEMBER],GOLDEN_RATIO:["(1 + Math.sqrt(5)) / 2",Blockly.JavaScript.ORDER_DIVISION],SQRT2:["Math.SQRT2",Blockly.JavaScript.ORDER_MEMBER],SQRT1_2:["Math.SQRT1_2",Blockly.JavaScript.ORDER_MEMBER],INFINITY:["Infinity",Blockly.JavaScript.ORDER_ATOMIC]},Blockly.JavaScript.math_number_property=function(){var e=Blockly.JavaScript.valueToCode(this,"NUMBER_TO_CHECK",Blockly.JavaScript.ORDER_MODULUS)||"0",t=this.getTitleValue("PROPERTY");if("PRIME"==t){if(!Blockly.JavaScript.definitions_.isPrime){t=Blockly.JavaScript.variableDB_.getDistinctName("isPrime",Blockly.Generator.NAME_TYPE),Blockly.JavaScript.logic_prime=t;var o=[];o.push("function "+t+"(n) {"),o.push("  // http://en.wikipedia.org/wiki/Primality_test#Naive_methods"),o.push("  if (n == 2 || n == 3) {"),o.push("    return true;"),o.push("  }"),o.push("  // False if n is NaN, negative, is 1, or not whole."),o.push("  // And false if n is divisible by 2 or 3."),o.push("  if (isNaN(n) || n <= 1 || n % 1 != 0 || n % 2 == 0 || n % 3 == 0) {"),o.push("    return false;"),o.push("  }"),o.push("  // Check all the numbers of form 6k +/- 1, up to sqrt(n)."),o.push("  for (var x = 6; x <= Math.sqrt(n) + 1; x += 6) {"),o.push("    if (n % (x - 1) == 0 || n % (x + 1) == 0) {"),o.push("      return false;"),o.push("    }"),o.push("  }"),o.push("  return true;"),o.push("}"),Blockly.JavaScript.definitions_.isPrime=o.join("\n")}return[o=Blockly.JavaScript.logic_prime+"("+e+")",Blockly.JavaScript.ORDER_FUNCTION_CALL]}switch(t){case"EVEN":o=e+" % 2 == 0";break;case"ODD":o=e+" % 2 == 1";break;case"WHOLE":o=e+" % 1 == 0";break;case"POSITIVE":o=e+" > 0";break;case"NEGATIVE":o=e+" < 0";break;case"DIVISIBLE_BY":o=e+" % "+(t=Blockly.JavaScript.valueToCode(this,"DIVISOR",Blockly.JavaScript.ORDER_MODULUS)||"0")+" == 0"}return[o,Blockly.JavaScript.ORDER_EQUALITY]},Blockly.JavaScript.math_change=function(){var e=Blockly.JavaScript.valueToCode(this,"DELTA",Blockly.JavaScript.ORDER_ADDITION)||"0",t=Blockly.JavaScript.translateVarName(this.getTitleValue("VAR"));return t+" = (typeof "+t+" == 'number' ? "+t+" : 0) + "+e+";\n"},Blockly.JavaScript.math_round=Blockly.JavaScript.math_single,Blockly.JavaScript.math_trig=Blockly.JavaScript.math_single,Blockly.JavaScript.math_on_list=function(){var e=this.getTitleValue("OP");switch(e){case"SUM":e=Blockly.JavaScript.valueToCode(this,"LIST",Blockly.JavaScript.ORDER_MEMBER)||"[]",e+=".reduce(function(x, y) {return x + y;})";break;case"MIN":e="Math.min.apply(null, "+(e=Blockly.JavaScript.valueToCode(this,"LIST",Blockly.JavaScript.ORDER_COMMA)||"[]")+")";break;case"MAX":e="Math.max.apply(null, "+(e=Blockly.JavaScript.valueToCode(this,"LIST",Blockly.JavaScript.ORDER_COMMA)||"[]")+")";break;case"AVERAGE":if(!Blockly.JavaScript.definitions_.math_mean){var t=Blockly.JavaScript.variableDB_.getDistinctName("math_mean",Blockly.Generator.NAME_TYPE);Blockly.JavaScript.math_on_list.math_mean=t,(e=[]).push("function "+t+"(myList) {"),e.push("  return myList.reduce(function(x, y) {return x + y;}) / myList.length;"),e.push("}"),Blockly.JavaScript.definitions_.math_mean=e.join("\n")}e=Blockly.JavaScript.valueToCode(this,"LIST",Blockly.JavaScript.ORDER_NONE)||"[]",e=Blockly.JavaScript.math_on_list.math_mean+"("+e+")";break;case"MEDIAN":Blockly.JavaScript.definitions_.math_median||(t=Blockly.JavaScript.variableDB_.getDistinctName("math_median",Blockly.Generator.NAME_TYPE),Blockly.JavaScript.math_on_list.math_median=t,(e=[]).push("function "+t+"(myList) {"),e.push("  var localList = myList.filter(function (x) {return typeof x == 'number';});"),e.push("  if (!localList.length) return null;"),e.push("  localList.sort(function(a, b) {return b - a;});"),e.push("  if (localList.length % 2 == 0) {"),e.push("    return (localList[localList.length / 2 - 1] + localList[localList.length / 2]) / 2;"),e.push("  } else {"),e.push("    return localList[(localList.length - 1) / 2];"),e.push("  }"),e.push("}"),Blockly.JavaScript.definitions_.math_median=e.join("\n")),e=Blockly.JavaScript.valueToCode(this,"LIST",Blockly.JavaScript.ORDER_NONE)||"[]",e=Blockly.JavaScript.math_on_list.math_median+"("+e+")";break;case"MODE":Blockly.JavaScript.definitions_.math_modes||(t=Blockly.JavaScript.variableDB_.getDistinctName("math_modes",Blockly.Generator.NAME_TYPE),Blockly.JavaScript.math_on_list.math_modes=t,(e=[]).push("function "+t+"(values) {"),e.push("  var modes = [];"),e.push("  var counts = [];"),e.push("  var maxCount = 0;"),e.push("  for (var i = 0; i < values.length; i++) {"),e.push("    var value = values[i];"),e.push("    var found = false;"),e.push("    var thisCount;"),e.push("    for (var j = 0; j < counts.length; j++) {"),e.push("      if (counts[j][0] === value) {"),e.push("        thisCount = ++counts[j][1];"),e.push("        found = true;"),e.push("        break;"),e.push("      }"),e.push("    }"),e.push("    if (!found) {"),e.push("      counts.push([value, 1]);"),e.push("      thisCount = 1;"),e.push("    }"),e.push("    maxCount = Math.max(thisCount, maxCount);"),e.push("  }"),e.push("  for (var j = 0; j < counts.length; j++) {"),e.push("    if (counts[j][1] == maxCount) {"),e.push("        modes.push(counts[j][0]);"),e.push("    }"),e.push("  }"),e.push("  return modes;"),e.push("}"),Blockly.JavaScript.definitions_.math_modes=e.join("\n")),e=Blockly.JavaScript.valueToCode(this,"LIST",Blockly.JavaScript.ORDER_NONE)||"[]",e=Blockly.JavaScript.math_on_list.math_modes+"("+e+")";break;case"STD_DEV":Blockly.JavaScript.definitions_.math_standard_deviation||(t=Blockly.JavaScript.variableDB_.getDistinctName("math_standard_deviation",Blockly.Generator.NAME_TYPE),Blockly.JavaScript.math_on_list.math_standard_deviation=t,(e=[]).push("function "+t+"(numbers) {"),e.push("  var n = numbers.length;"),e.push("  if (!n) return null;"),e.push("  var mean = numbers.reduce(function(x, y) {return x + y;}) / n;"),e.push("  var variance = 0;"),e.push("  for (var j = 0; j < n; j++) {"),e.push("    variance += Math.pow(numbers[j] - mean, 2);"),e.push("  }"),e.push("  variance = variance / n;"),e.push("  return Math.sqrt(variance);"),e.push("}"),Blockly.JavaScript.definitions_.math_standard_deviation=e.join("\n")),e=Blockly.JavaScript.valueToCode(this,"LIST",Blockly.JavaScript.ORDER_NONE)||"[]",e=Blockly.JavaScript.math_on_list.math_standard_deviation+"("+e+")";break;case"RANDOM":Blockly.JavaScript.definitions_.math_random_item||(t=Blockly.JavaScript.variableDB_.getDistinctName("math_random_item",Blockly.Generator.NAME_TYPE),Blockly.JavaScript.math_on_list.math_random_item=t,(e=[]).push("function "+t+"(list) {"),e.push("  var x = Math.floor(Math.random() * list.length);"),e.push("  return list[x];"),e.push("}"),Blockly.JavaScript.definitions_.math_random_item=e.join("\n")),e=Blockly.JavaScript.valueToCode(this,"LIST",Blockly.JavaScript.ORDER_NONE)||"[]",e=Blockly.JavaScript.math_on_list.math_random_item+"("+e+")";break;default:throw"Unknown operator: "+e}return[e,Blockly.JavaScript.ORDER_FUNCTION_CALL]},Blockly.JavaScript.math_modulo=function(){return[(Blockly.JavaScript.valueToCode(this,"DIVIDEND",Blockly.JavaScript.ORDER_MODULUS)||"0")+" % "+(Blockly.JavaScript.valueToCode(this,"DIVISOR",Blockly.JavaScript.ORDER_MODULUS)||"0"),Blockly.JavaScript.ORDER_MODULUS]},Blockly.JavaScript.math_constrain=function(){return["Math.min(Math.max("+(Blockly.JavaScript.valueToCode(this,"VALUE",Blockly.JavaScript.ORDER_COMMA)||"0")+", "+(Blockly.JavaScript.valueToCode(this,"LOW",Blockly.JavaScript.ORDER_COMMA)||"0")+"), "+(Blockly.JavaScript.valueToCode(this,"HIGH",Blockly.JavaScript.ORDER_COMMA)||"Infinity")+")",Blockly.JavaScript.ORDER_FUNCTION_CALL]},Blockly.JavaScript.math_random_int=function(){var e=Blockly.JavaScript.valueToCode(this,"FROM",Blockly.JavaScript.ORDER_COMMA)||"0",t=Blockly.JavaScript.valueToCode(this,"TO",Blockly.JavaScript.ORDER_COMMA)||"0";if(!Blockly.JavaScript.definitions_.math_random_int){var o=Blockly.JavaScript.variableDB_.getDistinctName("math_random_int",Blockly.Generator.NAME_TYPE);Blockly.JavaScript.math_random_int.random_function=o;var n=[];n.push("function "+o+"(a, b) {"),n.push("  if (a > b) {"),n.push("    // Swap a and b to ensure a is smaller."),n.push("    var c = a;"),n.push("    a = b;"),n.push("    b = c;"),n.push("  }"),n.push("  return Math.floor(Math.random() * (b - a + 1) + a);"),n.push("}"),Blockly.JavaScript.definitions_.math_random_int=n.join("\n")}return[Blockly.JavaScript.math_random_int.random_function+"("+e+", "+t+")",Blockly.JavaScript.ORDER_FUNCTION_CALL]},Blockly.JavaScript.math_random_float=function(){return["Math.random()",Blockly.JavaScript.ORDER_FUNCTION_CALL]},Blockly.JavaScript.procedures={},Blockly.JavaScript.procedures_defreturn=function(){for(var e=Blockly.JavaScript.variableDB_.getName(this.getTitleValue("NAME"),Blockly.Procedures.NAME_TYPE),t=[],o=0;o<this.parameterNames_.length;o++)t[o]=Blockly.JavaScript.variableDB_.getName(this.parameterNames_[o],Blockly.Variables.NAME_TYPE,Blockly.Variables.NAME_TYPE_LOCAL);o=Blockly.JavaScript.statementToCode(this,"STACK"),Blockly.JavaScript.INFINITE_LOOP_TRAP&&(o=Blockly.JavaScript.INFINITE_LOOP_TRAP.replace(/%1/g,"'"+this.id+"'")+o);var n=Blockly.JavaScript.valueToCode(this,"RETURN",Blockly.JavaScript.ORDER_NONE)||"";return n&&(n="  return "+n+";\n"),t=(Blockly.varsInGlobals?"Globals."+e+" = function":"function "+e)+"("+t.join(", ")+") {\n"+o+n+"}",t=Blockly.JavaScript.scrub_(this,t),Blockly.JavaScript.definitions_[e]=t,null},Blockly.JavaScript.procedures_defnoreturn=Blockly.JavaScript.procedures_defreturn,Blockly.JavaScript.procedures_callreturn=function(){for(var e=Blockly.JavaScript.variableDB_.getName(this.getTitleValue("NAME"),Blockly.Procedures.NAME_TYPE),t=[],o=0;o<this.currentParameterNames_.length;o++)t[o]=Blockly.JavaScript.valueToCode(this,"ARG"+o,Blockly.JavaScript.ORDER_COMMA)||"null";return[(Blockly.varsInGlobals?"Globals.":"")+e+"("+t.join(", ")+")",Blockly.JavaScript.ORDER_FUNCTION_CALL]},Blockly.JavaScript.procedures_callnoreturn=function(){for(var e=Blockly.JavaScript.variableDB_.getName(this.getTitleValue("NAME"),Blockly.Procedures.NAME_TYPE),t=[],o=0;o<this.currentParameterNames_.length;o++)t[o]=Blockly.JavaScript.valueToCode(this,"ARG"+o,Blockly.JavaScript.ORDER_COMMA)||"null";return(Blockly.varsInGlobals?"Globals.":"")+e+"("+t.join(", ")+");\n"},Blockly.JavaScript.procedures_ifreturn=function(){var e="if ("+(Blockly.JavaScript.valueToCode(this,"CONDITION",Blockly.JavaScript.ORDER_NONE)||"false")+") {\n";return this.hasReturnValue_?e+="  return "+(Blockly.JavaScript.valueToCode(this,"VALUE",Blockly.JavaScript.ORDER_NONE)||"null")+";\n":e+="  return;\n",e+"}\n"},Blockly.JavaScript.text=function(){return[Blockly.JavaScript.quote_(this.getTitleValue("TEXT")),Blockly.JavaScript.ORDER_ATOMIC]},Blockly.JavaScript.text_join=function(){if(0==this.itemCount_)return["''",Blockly.JavaScript.ORDER_ATOMIC];if(1==this.itemCount_){var e=Blockly.JavaScript.valueToCode(this,"ADD0",Blockly.JavaScript.ORDER_NONE)||"''";return["String("+e+")",Blockly.JavaScript.ORDER_FUNCTION_CALL]}if(2==this.itemCount_){e=Blockly.JavaScript.valueToCode(this,"ADD0",Blockly.JavaScript.ORDER_NONE)||"''";var t=Blockly.JavaScript.valueToCode(this,"ADD1",Blockly.JavaScript.ORDER_NONE)||"''";return["String("+e+") + String("+t+")",Blockly.JavaScript.ORDER_ADDITION]}for(e=Array(this.itemCount_),t=0;t<this.itemCount_;t++)e[t]=Blockly.JavaScript.valueToCode(this,"ADD"+t,Blockly.JavaScript.ORDER_COMMA)||"''";return[e="["+e.join(",")+"].join('')",Blockly.JavaScript.ORDER_FUNCTION_CALL]},Blockly.JavaScript.text_append=function(){var e=Blockly.JavaScript.translateVarName(this.getTitleValue("VAR"));return e+" = String("+e+") + String("+(Blockly.JavaScript.valueToCode(this,"TEXT",Blockly.JavaScript.ORDER_NONE)||"''")+");\n"},Blockly.JavaScript.text_length=function(){return[(Blockly.JavaScript.valueToCode(this,"VALUE",Blockly.JavaScript.ORDER_FUNCTION_CALL)||"''")+".length",Blockly.JavaScript.ORDER_MEMBER]},Blockly.JavaScript.text_isEmpty=function(){return["!"+(Blockly.JavaScript.valueToCode(this,"VALUE",Blockly.JavaScript.ORDER_MEMBER)||"''"),Blockly.JavaScript.ORDER_LOGICAL_NOT]},Blockly.JavaScript.text_indexOf=function(){var e="FIRST"==this.getTitleValue("END")?"indexOf":"lastIndexOf",t=Blockly.JavaScript.valueToCode(this,"FIND",Blockly.JavaScript.ORDER_NONE)||"''";return[(Blockly.JavaScript.valueToCode(this,"VALUE",Blockly.JavaScript.ORDER_MEMBER)||"''")+"."+e+"("+t+") + 1",Blockly.JavaScript.ORDER_MEMBER]},Blockly.JavaScript.text_charAt=function(){var e=this.getTitleValue("WHERE")||"FROM_START",t=Blockly.JavaScript.valueToCode(this,"AT",Blockly.JavaScript.ORDER_UNARY_NEGATION)||"1",o=Blockly.JavaScript.valueToCode(this,"VALUE",Blockly.JavaScript.ORDER_MEMBER)||"''";switch(e){case"FIRST":return[o+".charAt(0)",Blockly.JavaScript.ORDER_FUNCTION_CALL];case"LAST":return[o+".slice(-1)",Blockly.JavaScript.ORDER_FUNCTION_CALL];case"FROM_START":return[o+".charAt("+(t=Blockly.isNumber(t)?parseFloat(t)-1:t+" - 1")+")",Blockly.JavaScript.ORDER_FUNCTION_CALL];case"FROM_END":return[o+".slice(-"+t+").charAt(0)",Blockly.JavaScript.ORDER_FUNCTION_CALL];case"RANDOM":return Blockly.JavaScript.definitions_.text_random_letter||(e=Blockly.JavaScript.variableDB_.getDistinctName("text_random_letter",Blockly.Generator.NAME_TYPE),Blockly.JavaScript.text_charAt.text_random_letter=e,(t=[]).push("function "+e+"(text) {"),t.push("  var x = Math.floor(Math.random() * text.length);"),t.push("  return text[x];"),t.push("}"),Blockly.JavaScript.definitions_.text_random_letter=t.join("\n")),[o=Blockly.JavaScript.text_charAt.text_random_letter+"("+o+")",Blockly.JavaScript.ORDER_FUNCTION_CALL]}throw"Unhandled option (text_charAt)."},Blockly.JavaScript.text_getSubstring=function(){var e=Blockly.JavaScript.valueToCode(this,"STRING",Blockly.JavaScript.ORDER_MEMBER)||"[]",t=this.getTitleValue("WHERE1"),o=this.getTitleValue("WHERE2"),n=Blockly.JavaScript.valueToCode(this,"AT1",Blockly.JavaScript.ORDER_NONE)||"1",r=Blockly.JavaScript.valueToCode(this,"AT2",Blockly.JavaScript.ORDER_NONE)||"1";if("FIRST"!=t||"LAST"!=o){if(!Blockly.JavaScript.definitions_.text_get_substring){var i=Blockly.JavaScript.variableDB_.getDistinctName("text_get_substring",Blockly.Generator.NAME_TYPE);Blockly.JavaScript.text_getSubstring.func=i;var a=[];a.push("function "+i+"(text, where1, at1, where2, at2) {"),a.push("  function getAt(where, at) {"),a.push("    if (where == 'FROM_START') {"),a.push("      at--;"),a.push("    } else if (where == 'FROM_END') {"),a.push("      at = text.length - at;"),a.push("    } else if (where == 'FIRST') {"),a.push("      at = 0;"),a.push("    } else if (where == 'LAST') {"),a.push("      at = text.length - 1;"),a.push("    } else {"),a.push("      throw 'Unhandled option (text_getSubstring).';"),a.push("    }"),a.push("    return at;"),a.push("  }"),a.push("  at1 = getAt(where1, at1);"),a.push("  at2 = getAt(where2, at2) + 1;"),a.push("  return text.slice(at1, at2);"),a.push("}"),Blockly.JavaScript.definitions_.text_get_substring=a.join("\n")}e=Blockly.JavaScript.text_getSubstring.func+"("+e+", '"+t+"', "+n+", '"+o+"', "+r+")"}return[e,Blockly.JavaScript.ORDER_FUNCTION_CALL]},Blockly.JavaScript.text_changeCase=function(){var e=this.getTitleValue("CASE");if(e=Blockly.JavaScript.text_changeCase.OPERATORS[e]){var t=Blockly.JavaScript.valueToCode(this,"TEXT",Blockly.JavaScript.ORDER_MEMBER)||"''";e=t+e}else Blockly.JavaScript.definitions_.text_toTitleCase||(e=Blockly.JavaScript.variableDB_.getDistinctName("text_toTitleCase",Blockly.Generator.NAME_TYPE),Blockly.JavaScript.text_changeCase.toTitleCase=e,(t=[]).push("function "+e+"(str) {"),t.push("  return str.replace(/\\S+/g,"),t.push("      function(txt) {return txt[0].toUpperCase() + txt.substring(1).toLowerCase();});"),t.push("}"),Blockly.JavaScript.definitions_.text_toTitleCase=t.join("\n")),t=Blockly.JavaScript.valueToCode(this,"TEXT",Blockly.JavaScript.ORDER_NONE)||"''",e=Blockly.JavaScript.text_changeCase.toTitleCase+"("+t+")";return[e,Blockly.JavaScript.ORDER_FUNCTION_CALL]},Blockly.JavaScript.text_changeCase.OPERATORS={UPPERCASE:".toUpperCase()",LOWERCASE:".toLowerCase()",TITLECASE:null},Blockly.JavaScript.text_trim=function(){var e=this.getTitleValue("MODE");return e=Blockly.JavaScript.text_trim.OPERATORS[e],[(Blockly.JavaScript.valueToCode(this,"TEXT",Blockly.JavaScript.ORDER_MEMBER)||"''")+e,Blockly.JavaScript.ORDER_FUNCTION_CALL]},Blockly.JavaScript.text_trim.OPERATORS={LEFT:".trimLeft()",RIGHT:".trimRight()",BOTH:".trim()"},Blockly.JavaScript.text_print=function(){return"window.alert("+(Blockly.JavaScript.valueToCode(this,"TEXT",Blockly.JavaScript.ORDER_NONE)||"''")+");\n"},Blockly.JavaScript.text_prompt=function(){var e="window.prompt("+Blockly.JavaScript.quote_(this.getTitleValue("TEXT"))+")";return"NUMBER"==this.getTitleValue("TYPE")&&(e="window.parseFloat("+e+")"),[e,Blockly.JavaScript.ORDER_FUNCTION_CALL]},Blockly.JavaScript.variables={},Blockly.JavaScript.variables_get=function(){return[Blockly.JavaScript.translateVarName(this.getTitleValue("VAR")),Blockly.JavaScript.ORDER_ATOMIC]},Blockly.JavaScript.variables_set=function(){var e=Blockly.JavaScript.valueToCode(this,"VALUE",Blockly.JavaScript.ORDER_ASSIGNMENT)||"0";return Blockly.JavaScript.translateVarName(this.getTitleValue("VAR"))+" = "+e+";\n"},Blockly.JavaScript.parameters_get=Blockly.JavaScript.variables_get,Blockly.JavaScript.parameters_set=Blockly.JavaScript.variables_set,Blockly.JavaScript.sprite_variables_get=Blockly.JavaScript.variables_get,Blockly.JavaScript.sprite_variables_set=Blockly.JavaScript.variables_set,Blockly.assetUrl=void 0,Blockly.SVG_NS="http://www.w3.org/2000/svg",Blockly.HTML_NS="http://www.w3.org/1999/xhtml",Blockly.HSV_SATURATION=.45,Blockly.HSV_VALUE=.65,Blockly.makeColour=function(e,t,o){return goog.color.hsvToHex(e,t,256*o)},Blockly.INPUT_VALUE=1,Blockly.OUTPUT_VALUE=2,Blockly.NEXT_STATEMENT=3,Blockly.PREVIOUS_STATEMENT=4,Blockly.DUMMY_INPUT=5,Blockly.FUNCTIONAL_INPUT=6,Blockly.FUNCTIONAL_OUTPUT=7,Blockly.ALIGN_LEFT=-1,Blockly.ALIGN_CENTRE=0,Blockly.ALIGN_RIGHT=1,Blockly.OPPOSITE_TYPE=[],Blockly.OPPOSITE_TYPE[Blockly.INPUT_VALUE]=Blockly.OUTPUT_VALUE,Blockly.OPPOSITE_TYPE[Blockly.OUTPUT_VALUE]=Blockly.INPUT_VALUE,Blockly.OPPOSITE_TYPE[Blockly.NEXT_STATEMENT]=Blockly.PREVIOUS_STATEMENT,Blockly.OPPOSITE_TYPE[Blockly.PREVIOUS_STATEMENT]=Blockly.NEXT_STATEMENT,Blockly.OPPOSITE_TYPE[Blockly.FUNCTIONAL_INPUT]=Blockly.FUNCTIONAL_OUTPUT,Blockly.OPPOSITE_TYPE[Blockly.FUNCTIONAL_OUTPUT]=Blockly.FUNCTIONAL_INPUT,Blockly.selected=null,Blockly.readOnly=!1,Blockly.showUnusedBlocks=!1,Blockly.highlightedConnection_=null,Blockly.localConnection_=null,Blockly.DRAG_RADIUS=5,Blockly.SNAP_RADIUS=15,Blockly.BUMP_UNCONNECTED=!0,Blockly.BUMP_DELAY=250,Blockly.COLLAPSE_CHARS=30,Blockly.mainBlockSpace=null,Blockly.mainBlockSpaceEditor=null,Blockly.clipboard_=null,Blockly.playAudio=function(e){Blockly.audioPlayer&&Blockly.audioPlayer.play(e)},Blockly.removeAllRanges=function(){function e(){try{window.getSelection().removeAllRanges()}catch(e){}}if(window.getSelection){var t=window.getSelection();t&&t.removeAllRanges&&(e(),window.setTimeout(function(){e()},0))}};var BlocklyModule={};goog.Timer.defaultTimerObject=window,module.exports=Blockly}).call(this,__webpack_require__(25))},1634:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=i(o(0)),r=i(o(1));function i(e){return e&&e.__esModule?e:{default:e}}var a=function(e){var t=e.children;return r.default.createElement("div",{style:{display:"flex",flexFlow:"row",justifyContent:"center",marginTop:20,marginBottom:20}},t)};a.propTypes={children:n.default.any};var s=a;t.default=s,e.exports=t.default},1635:function(e,t){e.exports.isMobile=function(){return/Mobile|iP(hone|od|ad)|Android|BlackBerry|IEMobile/.test(window.navigator.userAgent)},e.exports.isSafari=function(){return-1!==navigator.userAgent.indexOf("Safari")&&-1===navigator.userAgent.indexOf("Chrome")},e.exports.isChrome34=function(){return/Chrome\/34/.test(window.navigator.userAgent)}},164:function(e,t,o){"use strict";t.parse=function(e){var t,o=[],n=String(e||l),r=n.indexOf(s),i=0,a=!1;for(;!a;)-1===r&&(r=n.length,a=!0),!(t=n.slice(i,r).trim())&&a||o.push(t),i=r+1,r=n.indexOf(s,i);return o},t.stringify=function(e,t){var o=t||{},n=!1===o.padLeft?l:i,r=o.padRight?i:l;e[e.length-1]===l&&(e=e.concat(l));return e.join(r+s+n).trim()};var s=",",i=" ",l=""},1645:function(e,t,o){"use strict";t.decode=t.parse=o(1876),t.encode=t.stringify=o(1877)},1646:function(e,t){e.exports={aliases:{music:["music","headphones","volume-off","volume-down","volume-up","play"],note:["music","comment","comment-o"],sound:["music","headphones","volume-off","volume-down","volume-up","play","microphone","microphone-slash"],search:["search"],magnify:["search","search-plus","search-minus"],zoom:["search","search-plus","search-minus"],enlarge:["search","search-plus","expand","arrows-alt"],bigger:["search","search-plus","expand","arrows-alt"],"envelope-o":["envelope-o"],email:["envelope-o","envelope"],support:["envelope-o","question-circle","phone","phone-square","envelope","ambulance","medkit","question","ticket","life-ring"],"e-mail":["envelope-o","envelope"],letter:["envelope-o","envelope"],mail:["envelope-o","envelope"],notification:["envelope-o","flag","exclamation-circle","exclamation-triangle","comment","comments","bell","envelope","comment-o","comments-o","bell-o","circle","flag-o","flag-checkered","exclamation","dot-circle-o"],heart:["heart","gratipay"],love:["heart","heart-o","gratipay"],like:["heart","thumbs-o-up","heart-o","thumbs-up","gratipay"],favorite:["heart","thumbs-o-up","heart-o","thumbs-up","gratipay"],star:["star","certificate"],award:["star","star-o","star-half","trophy","star-half-o","shield"],achievement:["star","star-o","star-half","trophy","star-half-o","shield"],night:["star","star-o","moon-o"],rating:["star","star-o","star-half","smile-o","frown-o","meh-o","star-half-o"],score:["star","star-o","star-half","star-half-o"],"star-o":["star-o"],user:["user","female","male"],person:["user","female","male","wheelchair"],man:["user","male"],head:["user"],profile:["user","user-md","female","male"],film:["film","video-camera","youtube-square","youtube"],movie:["film","video-camera","ticket"],"th-large":["th-large"],blocks:["th-large","th"],squares:["th-large","th"],boxes:["th-large","th"],grid:["th-large","th"],th:["th"],"th-list":["th-list"],ul:["th-list","list-alt","list","bars","list-ul","list-ol"],ol:["th-list","list-alt","list","bars","list-ul","list-ol"],checklist:["th-list","list-alt","list","bars","list-ul","list-ol"],finished:["th-list","list-alt","list"],completed:["th-list","list-alt","list"],done:["th-list","check","list-alt","list","check-square-o","check-circle","check-circle-o","check-square"],todo:["th-list","check","list-alt","list","check-square-o","check-circle","check-circle-o","bars","list-ul","list-ol","check-square"],check:["check"],checkmark:["check","check-square"],agree:["check","check-square-o","check-circle","check-circle-o","thumbs-o-up","check-square","thumbs-up"],accept:["check","check-square-o","check-circle","check-circle-o","check-square"],confirm:["check","check-square-o","check-circle","check-circle-o","check-square"],tick:["check"],ok:["check","check-square-o","check-circle","check-circle-o","check-square","calendar-check-o"],times:["times"],close:["times","times","times-circle","times-circle-o"],exit:["times","times-circle","times-circle-o","sign-out"],x:["times","times-circle","times-circle-o"],cross:["times"],remove:["times","trash-o","minus-circle","ban","minus","chain-broken","minus-square","minus-square-o","trash"],"search-plus":["search-plus"],"search-minus":["search-minus"],minify:["search-minus","minus","minus-square","minus-square-o"],smaller:["search-minus","compress"],"power-off":["power-off"],on:["power-off"],signal:["signal"],cog:["cog"],settings:["cog","cogs","wrench","tasks","bars"],gear:["cog"],"trash-o":["trash-o"],garbage:["trash-o","trash"],delete:["trash-o","minus-circle","ban","minus","minus-square","minus-square-o","trash"],trash:["trash-o","minus-circle","ban","minus","minus-square","minus-square-o","trash"],hide:["trash-o","minus-circle","ban","minus","minus","eye-slash","minus-square","minus-square","minus-square-o","minus-square-o","trash"],home:["home"],main:["home"],house:["home"],"file-o":["file-o"],new:["file-o","plus-circle","plus","external-link","file-text-o","plus-square","external-link-square","file","file-text","plus-square-o"],page:["file-o","file-text-o","file","file-text"],pdf:["file-o","file-text-o","file","file-text"],document:["file-o","file-text-o","file","file-text"],"clock-o":["clock-o"],watch:["clock-o"],timer:["clock-o"],late:["clock-o"],timestamp:["clock-o"],road:["road"],street:["road"],download:["download","arrow-circle-o-down","arrow-down","arrow-circle-down"],import:["download","upload","cloud-download","cloud-upload"],"arrow-circle-o-down":["arrow-circle-o-down"],"arrow-circle-o-up":["arrow-circle-o-up"],inbox:["inbox"],"play-circle-o":["play-circle-o"],repeat:["repeat"],redo:["repeat"],forward:["repeat","forward","forward","chevron-right","arrow-right","hand-o-right","arrow-circle-right","caret-right","angle-double-right","angle-right","chevron-circle-right","caret-square-o-right","arrow-circle-o-right"],"rotate-right":["repeat"],refresh:["refresh","retweet"],reload:["refresh","retweet"],sync:["refresh"],"list-alt":["list-alt"],lock:["lock","unlock","unlock-alt"],protect:["lock","unlock","unlock-alt"],admin:["lock","unlock","unlock-alt"],flag:["flag"],report:["flag","flag-o","flag-checkered","bug"],notify:["flag","flag-checkered","exclamation"],headphones:["headphones"],listen:["headphones"],"volume-off":["volume-off"],mute:["volume-off","microphone-slash"],"volume-down":["volume-down"],lower:["volume-down"],quieter:["volume-down"],"volume-up":["volume-up"],higher:["volume-up"],louder:["volume-up","bullhorn"],qrcode:["qrcode"],scan:["qrcode","barcode"],barcode:["barcode"],tag:["tag"],label:["tag"],tags:["tags"],labels:["tags"],book:["book"],read:["book"],documentation:["book"],bookmark:["bookmark"],save:["bookmark","bookmark-o","hdd-o","cloud","floppy-o"],print:["print"],camera:["camera"],photo:["camera","picture-o","camera-retro"],picture:["camera","camera-retro"],record:["camera","video-camera","camera-retro","microphone","microphone-slash"],font:["font"],text:["font","align-left","align-center","align-right","align-justify","mobile"],bold:["bold"],italic:["italic"],italics:["italic"],"text-height":["text-height"],"text-width":["text-width"],"align-left":["align-left"],"align-center":["align-center"],middle:["align-center"],"align-right":["align-right"],"align-justify":["align-justify"],list:["list","bars","bars","list-ul","list-ol","list-ol"],outdent:["outdent"],dedent:["outdent"],indent:["indent"],"video-camera":["video-camera"],"picture-o":["picture-o"],image:["picture-o"],pencil:["pencil"],write:["pencil","pencil-square-o","pencil-square"],edit:["pencil","pencil-square-o","pencil-square-o","pencil-square"],update:["pencil","pencil-square-o","wrench","pencil-square"],"map-marker":["map-marker"],map:["map-marker","globe","location-arrow","street-view","map"],pin:["map-marker","thumb-tack"],location:["map-marker","plane","thumb-tack","globe","location-arrow","compass"],coordinates:["map-marker","thumb-tack","globe","location-arrow"],localize:["map-marker","globe"],address:["map-marker","location-arrow"],travel:["map-marker","plane","globe","suitcase","bed"],where:["map-marker","location-arrow"],place:["map-marker","globe","location-arrow"],adjust:["adjust"],contrast:["adjust","sun-o","moon-o"],tint:["tint"],raindrop:["tint"],waterdrop:["tint"],drop:["tint"],droplet:["tint"],"pencil-square-o":["pencil-square-o"],"share-square-o":["share-square-o"],social:["share-square-o","share-square"],send:["share-square-o","share-square","paper-plane"],"check-square-o":["check-square-o"],arrows:["arrows","exchange"],move:["arrows","arrows-alt","suitcase"],reorder:["arrows","arrows-alt","bars","bars"],resize:["arrows","expand","arrows-v","arrows-h","arrows-alt"],"step-backward":["step-backward"],rewind:["step-backward","fast-backward","backward"],previous:["step-backward","fast-backward","backward","chevron-left","arrow-left","hand-o-left","arrow-circle-left","caret-left","angle-double-left","angle-left","chevron-circle-left","long-arrow-left","arrow-circle-o-left","caret-square-o-left"],beginning:["step-backward","fast-backward"],start:["step-backward","fast-backward","play","play-circle","youtube-play"],first:["step-backward","fast-backward"],"fast-backward":["fast-backward"],backward:["backward"],play:["play"],playing:["play","play-circle","youtube-play"],pause:["pause"],wait:["pause"],stop:["stop","ban"],block:["stop","ban","square-o","square"],box:["stop","square-o","square","archive"],square:["stop","square-o","square"],next:["forward","fast-forward","step-forward","chevron-right","arrow-right","hand-o-right","arrow-circle-right","caret-right","angle-double-right","angle-right","chevron-circle-right","caret-square-o-right","arrow-circle-o-right"],"fast-forward":["fast-forward"],end:["fast-forward","step-forward"],last:["fast-forward","step-forward"],"step-forward":["step-forward"],eject:["eject"],"chevron-left":["chevron-left"],bracket:["chevron-left","chevron-right"],back:["chevron-left","arrow-left","hand-o-left","arrow-circle-left","caret-left","undo","angle-double-left","angle-left","chevron-circle-left","long-arrow-left","arrow-circle-o-left","caret-square-o-left"],"chevron-right":["chevron-right"],"plus-circle":["plus-circle"],add:["plus-circle","plus","plus-square","plus-square-o","cart-plus"],create:["plus-circle","plus","plus-square","plus-square-o"],expand:["plus-circle","expand","plus","arrows-alt","plus-square","plus-square-o"],"minus-circle":["minus-circle"],"times-circle":["times-circle"],"check-circle":["check-circle"],"question-circle":["question-circle"],help:["question-circle","info-circle","ambulance","medkit","question","info"],information:["question-circle","info-circle","question","info"],unknown:["question-circle","question"],"info-circle":["info-circle"],more:["info-circle","caret-down","sort-desc","info","chevron-circle-down","caret-square-o-down"],details:["info-circle","asterisk","info"],"times-circle-o":["times-circle-o"],"check-circle-o":["check-circle-o"],ban:["ban"],abort:["ban"],cancel:["ban"],"arrow-left":["arrow-left"],"arrow-right":["arrow-right"],"arrow-up":["arrow-up"],"arrow-down":["arrow-down"],share:["share","retweet","bullhorn"],"mail-forward":["share"],compress:["compress"],collapse:["compress","minus","minus-square","minus-square-o"],combine:["compress"],contract:["compress"],merge:["compress","code-fork"],plus:["plus"],minus:["minus"],asterisk:["asterisk"],"exclamation-circle":["exclamation-circle"],warning:["exclamation-circle","exclamation-triangle","exclamation-triangle","exclamation"],error:["exclamation-circle","exclamation-triangle","exclamation"],problem:["exclamation-circle","exclamation-triangle","exclamation"],alert:["exclamation-circle","exclamation-triangle","bell","bell-o","exclamation"],gift:["gift"],present:["gift"],leaf:["leaf","pagelines"],eco:["leaf","pagelines"],nature:["leaf","pagelines"],fire:["fire"],flame:["fire"],hot:["fire"],popular:["fire"],eye:["eye"],show:["eye","eye-slash"],visible:["eye","eye-slash"],views:["eye","eye-slash"],"eye-slash":["eye-slash"],toggle:["eye-slash"],visiblity:["eye-slash"],"exclamation-triangle":["exclamation-triangle"],plane:["plane"],trip:["plane","suitcase"],destination:["plane"],airplane:["plane"],fly:["plane"],mode:["plane"],calendar:["calendar"],date:["calendar","calendar-o"],time:["calendar","calendar-o"],when:["calendar","calendar-o"],random:["random"],sort:["random","sort"],shuffle:["random"],comment:["comment"],speech:["comment","comment-o"],chat:["comment","comment-o"],bubble:["comment","comment-o"],feedback:["comment","comment-o"],message:["comment","comments","comment-o","comments-o","commenting","commenting-o"],texting:["comment","comments","comment-o","comments-o"],sms:["comment","comments","comment-o","comments-o"],magnet:["magnet"],"chevron-up":["chevron-up"],"chevron-down":["chevron-down"],retweet:["retweet"],"shopping-cart":["shopping-cart"],checkout:["shopping-cart","credit-card","money","credit-card-alt"],buy:["shopping-cart","credit-card","money","credit-card-alt"],purchase:["shopping-cart","credit-card","money","credit-card-alt"],payment:["shopping-cart","credit-card","money","credit-card-alt"],folder:["folder"],"folder-open":["folder-open"],"arrows-v":["arrows-v"],"arrows-h":["arrows-h"],"bar-chart":["bar-chart"],graph:["bar-chart","area-chart","pie-chart","line-chart"],analytics:["bar-chart","area-chart","pie-chart","line-chart"],"bar-chart-o":["bar-chart"],"twitter-square":["twitter-square"],tweet:["twitter-square","twitter"],"social network":["twitter-square","facebook-square","twitter","facebook","google-plus-square","google-plus"],"facebook-square":["facebook-square"],"camera-retro":["camera-retro"],key:["key"],unlock:["key","unlock"],password:["key","unlock","unlock-alt"],cogs:["cogs"],gears:["cogs"],comments:["comments"],conversation:["comments","comments-o"],notes:["comments","comments-o"],"thumbs-o-up":["thumbs-o-up"],approve:["thumbs-o-up","smile-o","thumbs-up"],hand:["thumbs-o-up","thumbs-o-down","thumbs-up","thumbs-down"],"thumbs-o-down":["thumbs-o-down"],dislike:["thumbs-o-down","thumbs-down"],disapprove:["thumbs-o-down","frown-o","thumbs-down"],disagree:["thumbs-o-down","thumbs-down"],"star-half":["star-half"],"heart-o":["heart-o"],"sign-out":["sign-out"],"log out":["sign-out"],logout:["sign-out"],leave:["sign-out"],arrow:["sign-out","sign-in","exchange"],"linkedin-square":["linkedin-square"],"thumb-tack":["thumb-tack"],marker:["thumb-tack"],"external-link":["external-link"],open:["external-link","external-link-square"],"sign-in":["sign-in"],enter:["sign-in"],join:["sign-in"],"log in":["sign-in"],login:["sign-in"],"sign up":["sign-in","user-plus"],"sign in":["sign-in"],signin:["sign-in"],signup:["sign-in","user-plus"],trophy:["trophy"],winner:["trophy","shield"],game:["trophy"],"github-square":["github-square"],octocat:["github-square","github","github-alt"],upload:["upload"],"lemon-o":["lemon-o"],phone:["phone"],call:["phone","phone-square","mobile"],voice:["phone","phone-square","microphone","microphone-slash"],number:["phone","phone-square","mobile"],earphone:["phone"],"square-o":["square-o"],"bookmark-o":["bookmark-o"],"phone-square":["phone-square"],twitter:["twitter"],facebook:["facebook"],"facebook-f":["facebook"],github:["github","code-fork"],"credit-card":["credit-card"],money:["credit-card","money","money","credit-card-alt"],debit:["credit-card","credit-card-alt"],rss:["rss"],blog:["rss","rss-square"],feed:["rss","rss-square"],"hdd-o":["hdd-o"],harddrive:["hdd-o"],"hard drive":["hdd-o"],storage:["hdd-o","archive"],bullhorn:["bullhorn"],announcement:["bullhorn"],broadcast:["bullhorn"],bell:["bell"],reminder:["bell","bell-o"],certificate:["certificate"],badge:["certificate"],"hand-o-right":["hand-o-right"],point:["hand-o-right","hand-o-left","hand-o-up","hand-o-down"],right:["hand-o-right"],"hand-o-left":["hand-o-left"],left:["hand-o-left"],"hand-o-up":["hand-o-up"],"hand-o-down":["hand-o-down"],"arrow-circle-left":["arrow-circle-left"],"arrow-circle-right":["arrow-circle-right"],"arrow-circle-up":["arrow-circle-up"],"arrow-circle-down":["arrow-circle-down"],globe:["globe"],world:["globe"],planet:["globe"],earth:["globe"],global:["globe"],translate:["globe"],all:["globe"],language:["globe","language"],country:["globe"],wrench:["wrench"],fix:["wrench"],tasks:["tasks"],progress:["tasks","spinner"],loading:["tasks","spinner"],downloading:["tasks"],downloads:["tasks"],filter:["filter"],funnel:["filter"],options:["filter"],briefcase:["briefcase"],work:["briefcase","building-o","building"],business:["briefcase","building-o","building"],office:["briefcase","building-o","building"],luggage:["briefcase","suitcase"],bag:["briefcase"],"arrows-alt":["arrows-alt"],fullscreen:["arrows-alt"],users:["users"],people:["users"],profiles:["users"],persons:["users"],group:["users"],link:["link","anchor"],chain:["link","link"],cloud:["cloud"],flask:["flask"],science:["flask"],beaker:["flask"],experimental:["flask"],labs:["flask"],scissors:["scissors"],cut:["scissors"],"files-o":["files-o"],duplicate:["files-o"],copy:["files-o","clipboard","clone"],paperclip:["paperclip"],attachment:["paperclip"],"floppy-o":["floppy-o"],bars:["bars"],menu:["bars","caret-down","sort-desc","chevron-circle-down","compass","caret-square-o-down"],drag:["bars"],hamburger:["bars"],navicon:["bars"],"list-ul":["list-ul"],"list-ol":["list-ol"],numbers:["list-ol","sort-numeric-asc","sort-numeric-desc"],strikethrough:["strikethrough"],underline:["underline"],table:["table"],data:["table"],excel:["table"],spreadsheet:["table"],magic:["magic"],wizard:["magic"],automatic:["magic"],autocomplete:["magic"],truck:["truck"],shipping:["truck"],pinterest:["pinterest"],"pinterest-square":["pinterest-square"],"google-plus-square":["google-plus-square"],"google-plus":["google-plus"],cash:["money"],"caret-down":["caret-down"],dropdown:["caret-down","sort-desc","chevron-circle-down","caret-square-o-down"],"triangle down":["caret-down"],"caret-up":["caret-up"],"triangle up":["caret-up"],"caret-left":["caret-left"],"triangle left":["caret-left"],"caret-right":["caret-right"],"triangle right":["caret-right"],columns:["columns"],split:["columns"],panes:["columns"],order:["sort"],unsorted:["sort"],"sort-desc":["sort-desc"],"sort-down":["sort-desc"],"sort-asc":["sort-asc"],"sort-up":["sort-asc"],envelope:["envelope"],linkedin:["linkedin"],undo:["undo"],"rotate-left":["undo"],gavel:["gavel"],legal:["gavel"],tachometer:["tachometer"],dashboard:["tachometer"],"comment-o":["comment-o"],"comments-o":["comments-o"],bolt:["bolt"],lightning:["bolt"],weather:["bolt","sun-o"],flash:["bolt"],sitemap:["sitemap"],directory:["sitemap","compass"],hierarchy:["sitemap"],organization:["sitemap"],umbrella:["umbrella"],clipboard:["clipboard"],paste:["clipboard"],"lightbulb-o":["lightbulb-o"],idea:["lightbulb-o"],inspiration:["lightbulb-o"],exchange:["exchange"],transfer:["exchange"],"cloud-download":["cloud-download"],"cloud-upload":["cloud-upload"],"user-md":["user-md"],doctor:["user-md"],medical:["user-md"],nurse:["user-md"],stethoscope:["stethoscope"],suitcase:["suitcase"],baggage:["suitcase"],"bell-o":["bell-o"],coffee:["coffee"],morning:["coffee"],mug:["coffee"],breakfast:["coffee"],tea:["coffee"],drink:["coffee"],cafe:["coffee"],cutlery:["cutlery"],food:["cutlery"],restaurant:["cutlery"],spoon:["cutlery","spoon"],knife:["cutlery"],dinner:["cutlery"],eat:["cutlery"],"file-text-o":["file-text-o"],"building-o":["building-o"],apartment:["building-o","building"],company:["building-o","building"],"hospital-o":["hospital-o"],building:["hospital-o","building"],ambulance:["ambulance"],medkit:["medkit"],"first aid":["medkit"],firstaid:["medkit"],health:["medkit"],"h-square":["h-square"],hospital:["h-square"],hotel:["h-square","bed"],"plus-square":["plus-square"],"angle-double-left":["angle-double-left"],laquo:["angle-double-left"],quote:["angle-double-left","angle-double-right"],"angle-double-right":["angle-double-right"],raquo:["angle-double-right"],"angle-double-up":["angle-double-up"],"angle-double-down":["angle-double-down"],"angle-left":["angle-left"],"angle-right":["angle-right"],"angle-up":["angle-up"],"angle-down":["angle-down"],desktop:["desktop","desktop"],monitor:["desktop"],screen:["desktop"],computer:["desktop","laptop"],demo:["desktop","laptop"],device:["desktop","laptop","tablet"],laptop:["laptop"],tablet:["tablet"],ipad:["tablet"],mobile:["mobile"],"cell phone":["mobile"],cellphone:["mobile"],iphone:["mobile"],"mobile-phone":["mobile"],"circle-o":["circle-o"],"quote-left":["quote-left"],"quote-right":["quote-right"],spinner:["spinner"],circle:["circle"],dot:["circle"],reply:["reply"],"mail-reply":["reply"],"github-alt":["github-alt"],"folder-o":["folder-o"],"folder-open-o":["folder-open-o"],"smile-o":["smile-o"],emoticon:["smile-o","frown-o","meh-o"],happy:["smile-o"],satisfied:["smile-o"],"frown-o":["frown-o"],sad:["frown-o"],"meh-o":["meh-o"],neutral:["meh-o"],gamepad:["gamepad"],controller:["gamepad"],"keyboard-o":["keyboard-o"],type:["keyboard-o"],input:["keyboard-o"],"flag-o":["flag-o"],"flag-checkered":["flag-checkered"],terminal:["terminal"],command:["terminal"],prompt:["terminal"],code:["terminal","code","css3"],html:["code"],brackets:["code"],"reply-all":["reply-all"],"mail-reply-all":["reply-all"],"star-half-o":["star-half-o"],"star-half-empty":["star-half-o"],"star-half-full":["star-half-o"],"location-arrow":["location-arrow"],crop:["crop"],"code-fork":["code-fork"],git:["code-fork","bitbucket","bitbucket-square","git"],fork:["code-fork"],vcs:["code-fork"],svn:["code-fork"],rebase:["code-fork"],version:["code-fork"],"chain-broken":["chain-broken"],unlink:["chain-broken"],question:["question"],info:["info"],exclamation:["exclamation"],superscript:["superscript"],exponential:["superscript"],subscript:["subscript"],eraser:["eraser"],"puzzle-piece":["puzzle-piece"],addon:["puzzle-piece"],"add-on":["puzzle-piece"],section:["puzzle-piece"],microphone:["microphone"],"microphone-slash":["microphone-slash"],shield:["shield"],"calendar-o":["calendar-o"],"fire-extinguisher":["fire-extinguisher"],rocket:["rocket"],app:["rocket"],maxcdn:["maxcdn"],"chevron-circle-left":["chevron-circle-left"],"chevron-circle-right":["chevron-circle-right"],"chevron-circle-up":["chevron-circle-up"],"chevron-circle-down":["chevron-circle-down"],html5:["html5"],css3:["css3"],anchor:["anchor"],"unlock-alt":["unlock-alt"],bullseye:["bullseye","dot-circle-o"],target:["bullseye","dot-circle-o"],"ellipsis-h":["ellipsis-h"],dots:["ellipsis-h","ellipsis-v"],"ellipsis-v":["ellipsis-v"],"rss-square":["rss-square"],"play-circle":["play-circle"],ticket:["ticket"],pass:["ticket"],"minus-square":["minus-square"],"minus-square-o":["minus-square-o"],"level-up":["level-up"],"level-down":["level-down"],"check-square":["check-square"],"pencil-square":["pencil-square"],"external-link-square":["external-link-square"],"share-square":["share-square"],compass:["compass"],safari:["compass","safari"],"caret-square-o-down":["caret-square-o-down"],"toggle-down":["caret-square-o-down"],"caret-square-o-up":["caret-square-o-up"],"toggle-up":["caret-square-o-up"],"caret-square-o-right":["caret-square-o-right"],"toggle-right":["caret-square-o-right"],eur:["eur"],euro:["eur"],gbp:["gbp"],usd:["usd"],dollar:["usd"],inr:["inr"],rupee:["inr"],jpy:["jpy"],cny:["jpy"],rmb:["jpy"],yen:["jpy"],rub:["rub"],ruble:["rub"],rouble:["rub"],krw:["krw"],won:["krw"],btc:["btc"],bitcoin:["btc"],file:["file"],"file-text":["file-text"],"sort-alpha-asc":["sort-alpha-asc"],"sort-alpha-desc":["sort-alpha-desc"],"sort-amount-asc":["sort-amount-asc"],"sort-amount-desc":["sort-amount-desc"],"sort-numeric-asc":["sort-numeric-asc"],"sort-numeric-desc":["sort-numeric-desc"],"thumbs-up":["thumbs-up"],"thumbs-down":["thumbs-down"],"youtube-square":["youtube-square"],video:["youtube-square","youtube"],youtube:["youtube"],xing:["xing"],"xing-square":["xing-square"],"youtube-play":["youtube-play"],dropbox:["dropbox"],"stack-overflow":["stack-overflow"],instagram:["instagram"],flickr:["flickr"],adn:["adn"],bitbucket:["bitbucket"],"bitbucket-square":["bitbucket-square"],tumblr:["tumblr"],"tumblr-square":["tumblr-square"],"long-arrow-down":["long-arrow-down"],"long-arrow-up":["long-arrow-up"],"long-arrow-left":["long-arrow-left"],"long-arrow-right":["long-arrow-right"],apple:["apple"],osx:["apple"],windows:["windows"],microsoft:["windows"],android:["android"],linux:["linux"],tux:["linux"],dribbble:["dribbble"],skype:["skype"],foursquare:["foursquare"],trello:["trello"],female:["female"],woman:["female"],male:["male"],gratipay:["gratipay"],gittip:["gratipay"],"sun-o":["sun-o"],lighter:["sun-o"],brighten:["sun-o"],day:["sun-o"],"moon-o":["moon-o"],darker:["moon-o"],archive:["archive"],bug:["bug"],insect:["bug"],vk:["vk"],weibo:["weibo"],renren:["renren"],pagelines:["pagelines"],leaves:["pagelines"],tree:["pagelines","tree"],plant:["pagelines"],"stack-exchange":["stack-exchange"],"arrow-circle-o-right":["arrow-circle-o-right"],"arrow-circle-o-left":["arrow-circle-o-left"],"caret-square-o-left":["caret-square-o-left"],"toggle-left":["caret-square-o-left"],"dot-circle-o":["dot-circle-o"],wheelchair:["wheelchair"],handicap:["wheelchair"],accessibility:["wheelchair"],accessibile:["wheelchair"],"vimeo-square":["vimeo-square"],try:["try"],"turkish-lira":["try"],"plus-square-o":["plus-square-o"],"space-shuttle":["space-shuttle"],slack:["slack"],"envelope-square":["envelope-square"],wordpress:["wordpress"],openid:["openid"],university:["university"],institution:["university"],bank:["university"],"graduation-cap":["graduation-cap"],learning:["graduation-cap"],school:["graduation-cap"],student:["graduation-cap"],"mortar-board":["graduation-cap"],yahoo:["yahoo"],google:["google"],reddit:["reddit"],"reddit-square":["reddit-square"],"stumbleupon-circle":["stumbleupon-circle"],stumbleupon:["stumbleupon"],delicious:["delicious"],digg:["digg"],"pied-piper":["pied-piper"],"pied-piper-alt":["pied-piper-alt"],drupal:["drupal"],joomla:["joomla"],fax:["fax"],child:["child"],paw:["paw"],pet:["paw"],cube:["cube"],cubes:["cubes"],behance:["behance"],"behance-square":["behance-square"],steam:["steam"],"steam-square":["steam-square"],recycle:["recycle"],car:["car"],vehicle:["car","taxi","bicycle","bus","motorcycle"],automobile:["car"],taxi:["taxi"],cab:["taxi"],spotify:["spotify"],deviantart:["deviantart"],soundcloud:["soundcloud"],database:["database"],"file-pdf-o":["file-pdf-o"],"file-word-o":["file-word-o"],"file-excel-o":["file-excel-o"],"file-powerpoint-o":["file-powerpoint-o"],"file-image-o":["file-image-o"],"file-photo-o":["file-image-o"],"file-picture-o":["file-image-o"],"file-archive-o":["file-archive-o"],"file-zip-o":["file-archive-o"],"file-audio-o":["file-audio-o"],"file-sound-o":["file-audio-o"],"file-video-o":["file-video-o"],"file-movie-o":["file-video-o"],"file-code-o":["file-code-o"],vine:["vine"],codepen:["codepen"],jsfiddle:["jsfiddle"],"life-ring":["life-ring"],"life-bouy":["life-ring"],"life-buoy":["life-ring"],"life-saver":["life-ring"],"circle-o-notch":["circle-o-notch"],rebel:["rebel"],ra:["rebel"],empire:["empire"],ge:["empire"],"git-square":["git-square"],"hacker-news":["hacker-news"],"y-combinator-square":["hacker-news"],"yc-square":["hacker-news"],"tencent-weibo":["tencent-weibo"],qq:["qq"],weixin:["weixin"],wechat:["weixin"],"paper-plane":["paper-plane"],"paper-plane-o":["paper-plane-o"],"send-o":["paper-plane-o"],history:["history"],"circle-thin":["circle-thin"],header:["header"],heading:["header"],paragraph:["paragraph"],sliders:["sliders"],"share-alt":["share-alt"],"share-alt-square":["share-alt-square"],"futbol-o":["futbol-o"],"soccer-ball-o":["futbol-o"],tty:["tty"],binoculars:["binoculars"],plug:["plug"],slideshare:["slideshare"],twitch:["twitch"],yelp:["yelp"],"newspaper-o":["newspaper-o"],press:["newspaper-o"],wifi:["wifi"],calculator:["calculator"],paypal:["paypal"],"google-wallet":["google-wallet"],"cc-visa":["cc-visa"],"cc-mastercard":["cc-mastercard"],"cc-discover":["cc-discover"],"cc-amex":["cc-amex"],amex:["cc-amex"],"cc-paypal":["cc-paypal"],"cc-stripe":["cc-stripe"],"bell-slash":["bell-slash"],"bell-slash-o":["bell-slash-o"],copyright:["copyright"],at:["at"],eyedropper:["eyedropper"],"paint-brush":["paint-brush"],"birthday-cake":["birthday-cake"],"area-chart":["area-chart"],"pie-chart":["pie-chart"],"line-chart":["line-chart"],lastfm:["lastfm"],"lastfm-square":["lastfm-square"],"toggle-off":["toggle-off"],"toggle-on":["toggle-on"],bicycle:["bicycle"],bike:["bicycle","motorcycle"],bus:["bus"],ioxhost:["ioxhost"],angellist:["angellist"],cc:["cc"],ils:["ils"],shekel:["ils"],sheqel:["ils"],meanpath:["meanpath"],buysellads:["buysellads"],connectdevelop:["connectdevelop"],dashcube:["dashcube"],forumbee:["forumbee"],leanpub:["leanpub"],sellsy:["sellsy"],shirtsinbulk:["shirtsinbulk"],simplybuilt:["simplybuilt"],skyatlas:["skyatlas"],"cart-plus":["cart-plus"],shopping:["cart-plus","cart-arrow-down"],"cart-arrow-down":["cart-arrow-down"],diamond:["diamond"],gem:["diamond"],gemstone:["diamond"],ship:["ship"],boat:["ship"],sea:["ship"],"user-secret":["user-secret"],whisper:["user-secret"],spy:["user-secret"],incognito:["user-secret"],motorcycle:["motorcycle"],"street-view":["street-view"],heartbeat:["heartbeat"],ekg:["heartbeat"],"facebook-official":["facebook-official"],"pinterest-p":["pinterest-p"],whatsapp:["whatsapp"],server:["server"],"user-plus":["user-plus"],"user-times":["user-times"],bed:["bed"],viacoin:["viacoin"],train:["train"],subway:["subway"],medium:["medium"],"y-combinator":["y-combinator"],yc:["y-combinator"],"optin-monster":["optin-monster"],opencart:["opencart"],expeditedssl:["expeditedssl"],"battery-full":["battery-full"],"battery-4":["battery-full"],"battery-three-quarters":["battery-three-quarters"],"battery-3":["battery-three-quarters"],"battery-half":["battery-half"],"battery-2":["battery-half"],"battery-quarter":["battery-quarter"],"battery-1":["battery-quarter"],"battery-empty":["battery-empty"],"battery-0":["battery-empty"],"mouse-pointer":["mouse-pointer"],"i-cursor":["i-cursor"],"object-group":["object-group"],"object-ungroup":["object-ungroup"],"sticky-note":["sticky-note"],"sticky-note-o":["sticky-note-o"],"cc-jcb":["cc-jcb"],"cc-diners-club":["cc-diners-club"],clone:["clone"],"balance-scale":["balance-scale"],"hourglass-o":["hourglass-o"],"hourglass-start":["hourglass-start"],"hourglass-1":["hourglass-start"],"hourglass-half":["hourglass-half"],"hourglass-2":["hourglass-half"],"hourglass-end":["hourglass-end"],"hourglass-3":["hourglass-end"],hourglass:["hourglass"],"hand-rock-o":["hand-rock-o"],"hand-grab-o":["hand-rock-o"],"hand-paper-o":["hand-paper-o"],"hand-stop-o":["hand-paper-o"],"hand-scissors-o":["hand-scissors-o"],"hand-lizard-o":["hand-lizard-o"],"hand-spock-o":["hand-spock-o"],"hand-pointer-o":["hand-pointer-o"],"hand-peace-o":["hand-peace-o"],trademark:["trademark"],registered:["registered"],"creative-commons":["creative-commons"],gg:["gg"],"gg-circle":["gg-circle"],tripadvisor:["tripadvisor"],odnoklassniki:["odnoklassniki"],"odnoklassniki-square":["odnoklassniki-square"],"get-pocket":["get-pocket"],"wikipedia-w":["wikipedia-w"],browser:["safari","chrome","firefox","internet-explorer","edge"],chrome:["chrome"],firefox:["firefox"],opera:["opera"],"internet-explorer":["internet-explorer"],ie:["internet-explorer","edge"],television:["television"],tv:["television"],contao:["contao"],"500px":["500px"],amazon:["amazon"],"calendar-plus-o":["calendar-plus-o"],"calendar-minus-o":["calendar-minus-o"],"calendar-times-o":["calendar-times-o"],"calendar-check-o":["calendar-check-o"],industry:["industry"],factory:["industry"],"map-pin":["map-pin"],"map-signs":["map-signs"],"map-o":["map-o"],commenting:["commenting"],"commenting-o":["commenting-o"],houzz:["houzz"],vimeo:["vimeo"],"black-tie":["black-tie"],fonticons:["fonticons"],"reddit-alien":["reddit-alien"],edge:["edge"],"credit-card-alt":["credit-card-alt"],"credit card":["credit-card-alt"],codiepie:["codiepie"],modx:["modx"],"fort-awesome":["fort-awesome"],usb:["usb"],"product-hunt":["product-hunt"],mixcloud:["mixcloud"],scribd:["scribd"],"pause-circle":["pause-circle"],"pause-circle-o":["pause-circle-o"],"stop-circle":["stop-circle"],"stop-circle-o":["stop-circle-o"],"shopping-bag":["shopping-bag"],"shopping-basket":["shopping-basket"],hashtag:["hashtag"],bluetooth:["bluetooth"],"bluetooth-b":["bluetooth-b"],percent:["percent"]},unicode:{music:"f001",search:"f002","envelope-o":"f003",heart:"f004",star:"f005","star-o":"f006",user:"f007",film:"f008","th-large":"f009",th:"f00a","th-list":"f00b",check:"f00c",times:"f00d","search-plus":"f00e","search-minus":"f010","power-off":"f011",signal:"f012",cog:"f013","trash-o":"f014",home:"f015","file-o":"f016","clock-o":"f017",road:"f018",download:"f019","arrow-circle-o-down":"f01a","arrow-circle-o-up":"f01b",inbox:"f01c","play-circle-o":"f01d",repeat:"f01e",refresh:"f021","list-alt":"f022",lock:"f023",flag:"f024",headphones:"f025","volume-off":"f026","volume-down":"f027","volume-up":"f028",qrcode:"f029",barcode:"f02a",tag:"f02b",tags:"f02c",book:"f02d",bookmark:"f02e",print:"f02f",camera:"f030",font:"f031",bold:"f032",italic:"f033","text-height":"f034","text-width":"f035","align-left":"f036","align-center":"f037","align-right":"f038","align-justify":"f039",list:"f03a",outdent:"f03b",indent:"f03c","video-camera":"f03d","picture-o":"f03e",pencil:"f040","map-marker":"f041",adjust:"f042",tint:"f043","pencil-square-o":"f044","share-square-o":"f045","check-square-o":"f046",arrows:"f047","step-backward":"f048","fast-backward":"f049",backward:"f04a",play:"f04b",pause:"f04c",stop:"f04d",forward:"f04e","fast-forward":"f050","step-forward":"f051",eject:"f052","chevron-left":"f053","chevron-right":"f054","plus-circle":"f055","minus-circle":"f056","times-circle":"f057","check-circle":"f058","question-circle":"f059","info-circle":"f05a","times-circle-o":"f05c","check-circle-o":"f05d",ban:"f05e","arrow-left":"f060","arrow-right":"f061","arrow-up":"f062","arrow-down":"f063",share:"f064",expand:"f065",compress:"f066",plus:"f067",minus:"f068",asterisk:"f069","exclamation-circle":"f06a",gift:"f06b",leaf:"f06c",fire:"f06d",eye:"f06e","eye-slash":"f070","exclamation-triangle":"f071",plane:"f072",calendar:"f073",random:"f074",comment:"f075",magnet:"f076","chevron-up":"f077","chevron-down":"f078",retweet:"f079","shopping-cart":"f07a",folder:"f07b","folder-open":"f07c","arrows-v":"f07d","arrows-h":"f07e","bar-chart":"f080","twitter-square":"f081","facebook-square":"f082","camera-retro":"f083",key:"f084",cogs:"f085",comments:"f086","thumbs-o-up":"f087","thumbs-o-down":"f088","star-half":"f089","heart-o":"f08a","sign-out":"f08b","linkedin-square":"f08c","thumb-tack":"f08d","external-link":"f08e","sign-in":"f090",trophy:"f091","github-square":"f092",upload:"f093","lemon-o":"f094",phone:"f095","square-o":"f096","bookmark-o":"f097","phone-square":"f098",twitter:"f099",facebook:"f09a",github:"f09b",unlock:"f09c","credit-card":"f09d",rss:"f09e","hdd-o":"f0a0",bullhorn:"f0a1",bell:"f0f3",certificate:"f0a3","hand-o-right":"f0a4","hand-o-left":"f0a5","hand-o-up":"f0a6","hand-o-down":"f0a7","arrow-circle-left":"f0a8","arrow-circle-right":"f0a9","arrow-circle-up":"f0aa","arrow-circle-down":"f0ab",globe:"f0ac",wrench:"f0ad",tasks:"f0ae",filter:"f0b0",briefcase:"f0b1","arrows-alt":"f0b2",users:"f0c0",link:"f0c1",cloud:"f0c2",flask:"f0c3",scissors:"f0c4","files-o":"f0c5",paperclip:"f0c6","floppy-o":"f0c7",square:"f0c8",bars:"f0c9","list-ul":"f0ca","list-ol":"f0cb",strikethrough:"f0cc",underline:"f0cd",table:"f0ce",magic:"f0d0",truck:"f0d1",pinterest:"f0d2","pinterest-square":"f0d3","google-plus-square":"f0d4","google-plus":"f0d5",money:"f0d6","caret-down":"f0d7","caret-up":"f0d8","caret-left":"f0d9","caret-right":"f0da",columns:"f0db",sort:"f0dc","sort-desc":"f0dd","sort-asc":"f0de",envelope:"f0e0",linkedin:"f0e1",undo:"f0e2",gavel:"f0e3",tachometer:"f0e4","comment-o":"f0e5","comments-o":"f0e6",bolt:"f0e7",sitemap:"f0e8",umbrella:"f0e9",clipboard:"f0ea","lightbulb-o":"f0eb",exchange:"f0ec","cloud-download":"f0ed","cloud-upload":"f0ee","user-md":"f0f0",stethoscope:"f0f1",suitcase:"f0f2","bell-o":"f0a2",coffee:"f0f4",cutlery:"f0f5","file-text-o":"f0f6","building-o":"f0f7","hospital-o":"f0f8",ambulance:"f0f9",medkit:"f0fa","h-square":"f0fd","plus-square":"f0fe","angle-double-left":"f100","angle-double-right":"f101","angle-double-up":"f102","angle-double-down":"f103","angle-left":"f104","angle-right":"f105","angle-up":"f106","angle-down":"f107",desktop:"f108",laptop:"f109",tablet:"f10a",mobile:"f10b","circle-o":"f10c","quote-left":"f10d","quote-right":"f10e",spinner:"f110",circle:"f111",reply:"f112","github-alt":"f113","folder-o":"f114","folder-open-o":"f115","smile-o":"f118","frown-o":"f119","meh-o":"f11a",gamepad:"f11b","keyboard-o":"f11c","flag-o":"f11d","flag-checkered":"f11e",terminal:"f120",code:"f121","reply-all":"f122","star-half-o":"f123","location-arrow":"f124",crop:"f125","code-fork":"f126","chain-broken":"f127",question:"f128",info:"f129",exclamation:"f12a",superscript:"f12b",subscript:"f12c",eraser:"f12d","puzzle-piece":"f12e",microphone:"f130","microphone-slash":"f131",shield:"f132","calendar-o":"f133","fire-extinguisher":"f134",rocket:"f135",maxcdn:"f136","chevron-circle-left":"f137","chevron-circle-right":"f138","chevron-circle-up":"f139","chevron-circle-down":"f13a",html5:"f13b",css3:"f13c",anchor:"f13d","unlock-alt":"f13e",bullseye:"f140","ellipsis-h":"f141","ellipsis-v":"f142","rss-square":"f143","play-circle":"f144",ticket:"f145","minus-square":"f146","minus-square-o":"f147","level-up":"f148","level-down":"f149","check-square":"f14a","pencil-square":"f14b","external-link-square":"f14c","share-square":"f14d",compass:"f14e","caret-square-o-down":"f150","caret-square-o-up":"f151","caret-square-o-right":"f152",eur:"f153",gbp:"f154",usd:"f155",inr:"f156",jpy:"f157",rub:"f158",krw:"f159",btc:"f15a",file:"f15b","file-text":"f15c","sort-alpha-asc":"f15d","sort-alpha-desc":"f15e","sort-amount-asc":"f160","sort-amount-desc":"f161","sort-numeric-asc":"f162","sort-numeric-desc":"f163","thumbs-up":"f164","thumbs-down":"f165","youtube-square":"f166",youtube:"f167",xing:"f168","xing-square":"f169","youtube-play":"f16a",dropbox:"f16b","stack-overflow":"f16c",instagram:"f16d",flickr:"f16e",adn:"f170",bitbucket:"f171","bitbucket-square":"f172",tumblr:"f173","tumblr-square":"f174","long-arrow-down":"f175","long-arrow-up":"f176","long-arrow-left":"f177","long-arrow-right":"f178",apple:"f179",windows:"f17a",android:"f17b",linux:"f17c",dribbble:"f17d",skype:"f17e",foursquare:"f180",trello:"f181",female:"f182",male:"f183",gratipay:"f184","sun-o":"f185","moon-o":"f186",archive:"f187",bug:"f188",vk:"f189",weibo:"f18a",renren:"f18b",pagelines:"f18c","stack-exchange":"f18d","arrow-circle-o-right":"f18e","arrow-circle-o-left":"f190","caret-square-o-left":"f191","dot-circle-o":"f192",wheelchair:"f193","vimeo-square":"f194",try:"f195","plus-square-o":"f196","space-shuttle":"f197",slack:"f198","envelope-square":"f199",wordpress:"f19a",openid:"f19b",university:"f19c","graduation-cap":"f19d",yahoo:"f19e",google:"f1a0",reddit:"f1a1","reddit-square":"f1a2","stumbleupon-circle":"f1a3",stumbleupon:"f1a4",delicious:"f1a5",digg:"f1a6","pied-piper":"f1a7","pied-piper-alt":"f1a8",drupal:"f1a9",joomla:"f1aa",language:"f1ab",fax:"f1ac",building:"f1ad",child:"f1ae",paw:"f1b0",spoon:"f1b1",cube:"f1b2",cubes:"f1b3",behance:"f1b4","behance-square":"f1b5",steam:"f1b6","steam-square":"f1b7",recycle:"f1b8",car:"f1b9",taxi:"f1ba",tree:"f1bb",spotify:"f1bc",deviantart:"f1bd",soundcloud:"f1be",database:"f1c0","file-pdf-o":"f1c1","file-word-o":"f1c2","file-excel-o":"f1c3","file-powerpoint-o":"f1c4","file-image-o":"f1c5","file-archive-o":"f1c6","file-audio-o":"f1c7","file-video-o":"f1c8","file-code-o":"f1c9",vine:"f1ca",codepen:"f1cb",jsfiddle:"f1cc","life-ring":"f1cd","circle-o-notch":"f1ce",rebel:"f1d0",empire:"f1d1","git-square":"f1d2",git:"f1d3","hacker-news":"f1d4","tencent-weibo":"f1d5",qq:"f1d6",weixin:"f1d7","paper-plane":"f1d8","paper-plane-o":"f1d9",history:"f1da","circle-thin":"f1db",header:"f1dc",paragraph:"f1dd",sliders:"f1de","share-alt":"f1e0","share-alt-square":"f1e1","futbol-o":"f1e3",tty:"f1e4",binoculars:"f1e5",plug:"f1e6",slideshare:"f1e7",twitch:"f1e8",yelp:"f1e9","newspaper-o":"f1ea",wifi:"f1eb",calculator:"f1ec",paypal:"f1ed","google-wallet":"f1ee","cc-visa":"f1f0","cc-mastercard":"f1f1","cc-discover":"f1f2","cc-amex":"f1f3","cc-paypal":"f1f4","cc-stripe":"f1f5","bell-slash":"f1f6","bell-slash-o":"f1f7",trash:"f1f8",copyright:"f1f9",at:"f1fa",eyedropper:"f1fb","paint-brush":"f1fc","birthday-cake":"f1fd","area-chart":"f1fe","pie-chart":"f200","line-chart":"f201",lastfm:"f202","lastfm-square":"f203","toggle-off":"f204","toggle-on":"f205",bicycle:"f206",bus:"f207",ioxhost:"f208",angellist:"f209",cc:"f20a",ils:"f20b",meanpath:"f20c",buysellads:"f20d",connectdevelop:"f20e",dashcube:"f210",forumbee:"f211",leanpub:"f212",sellsy:"f213",shirtsinbulk:"f214",simplybuilt:"f215",skyatlas:"f216","cart-plus":"f217","cart-arrow-down":"f218",diamond:"f219",ship:"f21a","user-secret":"f21b",motorcycle:"f21c","street-view":"f21d",heartbeat:"f21e","facebook-official":"f230","pinterest-p":"f231",whatsapp:"f232",server:"f233","user-plus":"f234","user-times":"f235",bed:"f236",viacoin:"f237",train:"f238",subway:"f239",medium:"f23a","y-combinator":"f23b","optin-monster":"f23c",opencart:"f23d",expeditedssl:"f23e","battery-full":"f240","battery-three-quarters":"f241","battery-half":"f242","battery-quarter":"f243","battery-empty":"f244","mouse-pointer":"f245","i-cursor":"f246","object-group":"f247","object-ungroup":"f248","sticky-note":"f249","sticky-note-o":"f24a","cc-jcb":"f24b","cc-diners-club":"f24c",clone:"f24d","balance-scale":"f24e","hourglass-o":"f250","hourglass-start":"f251","hourglass-half":"f252","hourglass-end":"f253",hourglass:"f254","hand-rock-o":"f255","hand-paper-o":"f256","hand-scissors-o":"f257","hand-lizard-o":"f258","hand-spock-o":"f259","hand-pointer-o":"f25a","hand-peace-o":"f25b",trademark:"f25c",registered:"f25d","creative-commons":"f25e",gg:"f260","gg-circle":"f261",tripadvisor:"f262",odnoklassniki:"f263","odnoklassniki-square":"f264","get-pocket":"f265","wikipedia-w":"f266",safari:"f267",chrome:"f268",firefox:"f269",opera:"f26a","internet-explorer":"f26b",television:"f26c",contao:"f26d","500px":"f26e",amazon:"f270","calendar-plus-o":"f271","calendar-minus-o":"f272","calendar-times-o":"f273","calendar-check-o":"f274",industry:"f275","map-pin":"f276","map-signs":"f277","map-o":"f278",map:"f279",commenting:"f27a","commenting-o":"f27b",houzz:"f27c",vimeo:"f27d","black-tie":"f27e",fonticons:"f280","reddit-alien":"f281",edge:"f282","credit-card-alt":"f283",codiepie:"f284",modx:"f285","fort-awesome":"f286",usb:"f287","product-hunt":"f288",mixcloud:"f289",scribd:"f28a","pause-circle":"f28b","pause-circle-o":"f28c","stop-circle":"f28d","stop-circle-o":"f28e","shopping-bag":"f290","shopping-basket":"f291",hashtag:"f292",bluetooth:"f293","bluetooth-b":"f294",percent:"f295"}}},167:function(e,t,o){"use strict";e.exports={}},168:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(o(15)),r=s(o(1)),i=s(o(0)),a=s(o(14));function s(e){return e&&e.__esModule?e:{default:e}}function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e}).apply(this,arguments)}var c,u,d,p=function(e){function t(){return e.apply(this,arguments)||this}!function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(t,e);var o=t.prototype;return o.shouldComponentUpdate=function(){return!1},o.componentDidMount=function(){"function"==typeof this.props.contentFunction&&(this.refs.root.innerHTML=this.props.contentFunction())},o.getRoot=function(){return this.refs.root},o.componentWillUnmount=function(){throw new Error("Unmounting a ProtectedStatefulDiv is not allowed.")},o.render=function(){return r.default.createElement("div",l({},n.default.omit(this.props,["contentFunction"]),{ref:"root"}))},t}(r.default.Component);c=p,u="propTypes",d={contentFunction:i.default.func,children:i.default.node},u in c?Object.defineProperty(c,u,{value:d,enumerable:!0,configurable:!0,writable:!0}):c[u]=d;var h=(0,a.default)(p);t.default=h,e.exports=t.default},17:function(e,t,o){"use strict";e.exports=function(e,t,o,n,r,i,a,s){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[o,n,r,i,a,s],u=0;(l=new Error(t.replace(/%s/g,function(){return c[u++]}))).name="Invariant Violation"}throw l.framesToPop=1,l}}},175:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},e.exports=t.default},1756:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.globalFunctions=void 0;var n={randomNumber:function(e,t){return void 0===t&&(t=e,e=0),Math.floor(Math.random()*(~~t-~~e+1))+~~e},getTime:function(){return(new Date).getTime()},promptNum:function(e){for(var t;t=Number(window.prompt(e)),isNaN(t););return t}};t.globalFunctions=n},1757:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:m,o=1<arguments.length?arguments[1]:void 0;if(o.type===h){var t=(0,p.bisect)(o.hints,function(e){return-1!==o.hintsUsedIds.indexOf(e.hintId)}),n=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var o=[],n=!0,r=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(o.push(a.value),!t||o.length!==t);n=!0);}catch(e){r=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(r)throw i}}return o}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}(t,2),r=n[0],i=n[1];return Object.assign({},e,{unseenHints:e.unseenHints.concat(i),seenHints:e.seenHints.concat(r)})}if(o.type===g){var a=Object.assign({},e.unseenHints[0],{alreadySeen:!0});return Object.assign({},e,{unseenHints:e.unseenHints.slice(1),seenHints:e.seenHints.concat([a])})}if(o.type!==f)return e;var s=e.seenHints.filter(function(t){return"contextual"!==t.hintType||o.hints.some(function(e){return t.hintId===e.hintId})}),l=o.hints.filter(function(t){return e.seenHints.every(function(e){return t.hintId!==e.hintId})}),c=e.unseenHints.filter(function(e){return"contextual"!==e.hintType}),u=l.filter(function(e){return!e.alreadySeen}).concat(c),d=s.concat(l.filter(function(e){return e.alreadySeen}));return Object.assign({},e,{unseenHints:u,seenHints:d})},t.displayMissingBlockHints=t.showNextHint=t.enqueueHints=void 0;var p=o(11);var h="authoredHints/ENQUEUE_HINTS",g="authoredHints/SHOW_NEXT_HINT",f="authoredHints/DISPLAY_MISSING_BLOCK_HINTS",m={seenHints:[],unseenHints:[]};t.enqueueHints=function(e,t){return{type:h,hints:e,hintsUsedIds:t}};t.showNextHint=function(){return{type:g}};t.displayMissingBlockHints=function(e){return{type:f,hints:e}}},1758:function(e,t,o){"use strict";t.__esModule=!0;var c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e},n=function(){function n(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,o){return t&&n(e.prototype,t),o&&n(e,o),e}}();function r(e){return e&&e.__esModule?e:{default:e}}var i=r(o(830)),a=r(o(696)),b=r(o(831)),E=r(o(697)),s=r(o(832)),T=r(o(833)),l=r(o(1)),u=r(o(0)),S=1e3/60,d=function(t){function o(e){var v=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),t.call(this,e),this.wasAnimating=!1,this.animationID=null,this.prevTime=0,this.accumulatedTime=0,this.unreadPropStyle=null,this.clearUnreadPropStyle=function(e){var t=!1,o=v.state,n=o.currentStyle,r=o.currentVelocity,i=o.lastIdealStyle,a=o.lastIdealVelocity;for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){var l=e[s];"number"==typeof l&&(t||(t=!0,n=c({},n),r=c({},r),i=c({},i),a=c({},a)),n[s]=l,r[s]=0,i[s]=l,a[s]=0)}t&&v.setState({currentStyle:n,currentVelocity:r,lastIdealStyle:i,lastIdealVelocity:a})},this.startAnimationIfNecessary=function(){v.animationID=s.default(function(e){var t=v.props.style;if(T.default(v.state.currentStyle,t,v.state.currentVelocity))return v.wasAnimating&&v.props.onRest&&v.props.onRest(),v.animationID=null,v.wasAnimating=!1,void(v.accumulatedTime=0);v.wasAnimating=!0;var o=e||E.default(),n=o-v.prevTime;if(v.prevTime=o,v.accumulatedTime=v.accumulatedTime+n,v.accumulatedTime>10*S&&(v.accumulatedTime=0),0===v.accumulatedTime)return v.animationID=null,void v.startAnimationIfNecessary();var r=(v.accumulatedTime-Math.floor(v.accumulatedTime/S)*S)/S,i=Math.floor(v.accumulatedTime/S),a={},s={},l={},c={};for(var u in t)if(Object.prototype.hasOwnProperty.call(t,u)){var d=t[u];if("number"==typeof d)l[u]=d,c[u]=0,a[u]=d,s[u]=0;else{for(var p=v.state.lastIdealStyle[u],h=v.state.lastIdealVelocity[u],g=0;g<i;g++){var f=b.default(S/1e3,p,h,d.val,d.stiffness,d.damping,d.precision);p=f[0],h=f[1]}var m=b.default(S/1e3,p,h,d.val,d.stiffness,d.damping,d.precision),y=m[0],_=m[1];l[u]=p+(y-p)*r,c[u]=h+(_-h)*r,a[u]=p,s[u]=h}}v.animationID=null,v.accumulatedTime-=i*S,v.setState({currentStyle:l,currentVelocity:c,lastIdealStyle:a,lastIdealVelocity:s}),v.unreadPropStyle=null,v.startAnimationIfNecessary()})},this.state=this.defaultState()}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(o,t),n(o,null,[{key:"propTypes",value:{defaultStyle:u.default.objectOf(u.default.number),style:u.default.objectOf(u.default.oneOfType([u.default.number,u.default.object])).isRequired,children:u.default.func.isRequired,onRest:u.default.func},enumerable:!0}]),o.prototype.defaultState=function(){var e=this.props,t=e.defaultStyle,o=e.style,n=t||a.default(o),r=i.default(n);return{currentStyle:n,currentVelocity:r,lastIdealStyle:n,lastIdealVelocity:r}},o.prototype.componentDidMount=function(){this.prevTime=E.default(),this.startAnimationIfNecessary()},o.prototype.componentWillReceiveProps=function(e){null!=this.unreadPropStyle&&this.clearUnreadPropStyle(this.unreadPropStyle),this.unreadPropStyle=e.style,null==this.animationID&&(this.prevTime=E.default(),this.startAnimationIfNecessary())},o.prototype.componentWillUnmount=function(){null!=this.animationID&&(s.default.cancel(this.animationID),this.animationID=null)},o.prototype.render=function(){var e=this.props.children(this.state.currentStyle);return e&&l.default.Children.only(e)},o}(l.default.Component);t.default=d,e.exports=t.default},1759:function(e,t,o){"use strict";t.__esModule=!0;var p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e},n=function(){function n(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,o){return t&&n(e.prototype,t),o&&n(e,o),e}}();function r(e){return e&&e.__esModule?e:{default:e}}var i=r(o(830)),a=r(o(696)),A=r(o(831)),O=r(o(697)),s=r(o(832)),w=r(o(833)),l=r(o(1)),c=r(o(0)),B=1e3/60;var u=function(t){function o(e){var C=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),t.call(this,e),this.animationID=null,this.prevTime=0,this.accumulatedTime=0,this.unreadPropStyles=null,this.clearUnreadPropStyle=function(e){for(var t=C.state,o=t.currentStyles,n=t.currentVelocities,r=t.lastIdealStyles,i=t.lastIdealVelocities,a=!1,s=0;s<e.length;s++){var l=e[s],c=!1;for(var u in l)if(Object.prototype.hasOwnProperty.call(l,u)){var d=l[u];"number"==typeof d&&(c||(a=c=!0,o[s]=p({},o[s]),n[s]=p({},n[s]),r[s]=p({},r[s]),i[s]=p({},i[s])),o[s][u]=d,n[s][u]=0,r[s][u]=d,i[s][u]=0)}}a&&C.setState({currentStyles:o,currentVelocities:n,lastIdealStyles:r,lastIdealVelocities:i})},this.startAnimationIfNecessary=function(){C.animationID=s.default(function(e){var t=C.props.styles(C.state.lastIdealStyles);if(function(e,t,o){for(var n=0;n<e.length;n++)if(!w.default(e[n],t[n],o[n]))return!1;return!0}(C.state.currentStyles,t,C.state.currentVelocities))return C.animationID=null,void(C.accumulatedTime=0);var o=e||O.default(),n=o-C.prevTime;if(C.prevTime=o,C.accumulatedTime=C.accumulatedTime+n,C.accumulatedTime>10*B&&(C.accumulatedTime=0),0===C.accumulatedTime)return C.animationID=null,void C.startAnimationIfNecessary();for(var r=(C.accumulatedTime-Math.floor(C.accumulatedTime/B)*B)/B,i=Math.floor(C.accumulatedTime/B),a=[],s=[],l=[],c=[],u=0;u<t.length;u++){var d=t[u],p={},h={},g={},f={};for(var m in d)if(Object.prototype.hasOwnProperty.call(d,m)){var y=d[m];if("number"==typeof y)p[m]=y,h[m]=0,g[m]=y,f[m]=0;else{for(var _=C.state.lastIdealStyles[u][m],v=C.state.lastIdealVelocities[u][m],b=0;b<i;b++){var E=A.default(B/1e3,_,v,y.val,y.stiffness,y.damping,y.precision);_=E[0],v=E[1]}var T=A.default(B/1e3,_,v,y.val,y.stiffness,y.damping,y.precision),S=T[0],k=T[1];p[m]=_+(S-_)*r,h[m]=v+(k-v)*r,g[m]=_,f[m]=v}}l[u]=p,c[u]=h,a[u]=g,s[u]=f}C.animationID=null,C.accumulatedTime-=i*B,C.setState({currentStyles:l,currentVelocities:c,lastIdealStyles:a,lastIdealVelocities:s}),C.unreadPropStyles=null,C.startAnimationIfNecessary()})},this.state=this.defaultState()}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(o,t),n(o,null,[{key:"propTypes",value:{defaultStyles:c.default.arrayOf(c.default.objectOf(c.default.number)),styles:c.default.func.isRequired,children:c.default.func.isRequired},enumerable:!0}]),o.prototype.defaultState=function(){var e=this.props,t=e.defaultStyles,o=e.styles,n=t||o().map(a.default),r=n.map(function(e){return i.default(e)});return{currentStyles:n,currentVelocities:r,lastIdealStyles:n,lastIdealVelocities:r}},o.prototype.componentDidMount=function(){this.prevTime=O.default(),this.startAnimationIfNecessary()},o.prototype.componentWillReceiveProps=function(e){null!=this.unreadPropStyles&&this.clearUnreadPropStyle(this.unreadPropStyles),this.unreadPropStyles=e.styles(this.state.lastIdealStyles),null==this.animationID&&(this.prevTime=O.default(),this.startAnimationIfNecessary())},o.prototype.componentWillUnmount=function(){null!=this.animationID&&(s.default.cancel(this.animationID),this.animationID=null)},o.prototype.render=function(){var e=this.props.children(this.state.currentStyles);return e&&l.default.Children.only(e)},o}(l.default.Component);t.default=u,e.exports=t.default},176:function(e,t,o){"use strict";function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.MenuBreak=t.MenuBubble=t.default=t.STANDARD_PADDING=void 0;var g=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var t=c();if(t&&t.has(e))return t.get(e);var o={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(o,r,i):o[r]=e[r]}o.default=e,t&&t.set(e,o);return o}(o(1)),n=l(o(0)),r=l(o(14)),i=l(o(749)),s=l(o(4)),f=l(o(6));function l(e){return e&&e.__esModule?e:{default:e}}function c(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return c=function(){return e},e}function u(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}function m(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{},n=Object.keys(Object(o));"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(o).filter(function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable}))),n.forEach(function(e){d(t,e,o[e])})}return t}function d(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var p=f.default.white,h=f.default.light_gray,y={position:"absolute",zIndex:t.STANDARD_PADDING=20,border:"1px solid ".concat(h),backgroundColor:p,borderRadius:2,boxShadow:"3px 3px 3px gray",textAlign:"left",maxWidth:300},_={position:"absolute",bottom:"100%",left:20,marginLeft:-7,borderTopWidth:0,borderBottomWidth:12,borderLeftWidth:7,borderRightWidth:7,borderStyle:"solid",borderColor:"transparent transparent ".concat(h," transparent")},v=m({},_,{bottom:"calc(100% - 2px)",borderColor:"transparent transparent ".concat(p," transparent")}),b=function(e){function t(){return e.apply(this,arguments)||this}return u(t,e),t.prototype.render=function(){return g.default.createElement(i.default,{closeOnEsc:!0,closeOnOutsideClick:!0,isOpened:this.props.isOpen,beforeClose:this.props.beforeClose},g.default.createElement(T,{targetPoint:this.props.targetPoint,offset:this.props.offset,className:this.props.className,showTail:this.props.showTail,style:this.props.style},this.props.children))},t}(g.Component);d(t.default=b,"propTypes",{targetPoint:n.default.shape({top:n.default.number.isRequired,left:n.default.number.isRequired}).isRequired,offset:n.default.shape({x:n.default.number.isRequired,y:n.default.number.isRequired}),children:n.default.any,className:n.default.string,isOpen:n.default.bool,beforeClose:n.default.func,showTail:n.default.bool,style:n.default.object});var E=function(e){function t(){return e.apply(this,arguments)||this}u(t,e);var o=t.prototype;return o.renderMenuItems=function(){var e=this.props.children;Array.isArray(e)&&(e=e.filter(function(e){return e}));var o=g.Children.count(e);return 0===o?g.default.createElement("div",null,g.default.createElement("em",null,s.default.noMenuItemsAvailable())):g.default.createElement("div",null,g.Children.map(e,function(e,t){return e?g.default.cloneElement(e,{first:0===t,last:t===o-1}):e}))},o.render=function(){var e=this.props,t=e.targetPoint,o=e.className,n=this.props.offset?this.props.offset.y:12,r=this.props.offset?this.props.offset.x:-20,i=m({},y,this.props.style,t,{marginTop:n,marginLeft:r});return g.default.createElement("div",{style:i,className:o},this.renderMenuItems(),this.props.showTail&&g.default.createElement("span",{style:_}),this.props.showTail&&g.default.createElement("span",{style:v}))},t}(g.Component);d(E,"propTypes",{targetPoint:n.default.shape({top:n.default.number.isRequired,left:n.default.number.isRequired}).isRequired,offset:n.default.shape({x:n.default.number.isRequired,y:n.default.number.isRequired}),children:n.default.any,className:n.default.string,showTail:n.default.bool,style:n.default.object});var T=(0,r.default)(E);t.MenuBubble=T;var S=function(e){function t(){return e.apply(this,arguments)||this}return u(t,e),t.prototype.render=function(){var e={borderTop:"1px solid "+f.default.lighter_gray,marginTop:10,marginBottom:10,marginLeft:20,marginRight:20};return g.default.createElement("div",{style:e})},t}(g.Component);t.MenuBreak=S;var k=function(e){function t(){return e.apply(this,arguments)||this}return u(t,e),t.prototype.render=function(){var e=this.props,t=e.first,o=e.last,n=e.onClick,r=e.children,i=e.href,a=e.openInNewTab,s=e.className,l=e.style,c="pop-up-menu-item",u=s?"".concat(c," ").concat(s):c;if(!i&&!n)throw new Error("Expect at least one of href/onClick");var d=m({},{paddingTop:t?20:5,paddingBottom:o?20:5,paddingLeft:20,paddingRight:20,cursor:"pointer",":hover":{backgroundColor:f.default.lightest_gray}},l),p={color:this.props.color?this.props.color:f.default.dark_charcoal,textDecoration:"none",fontFamily:"'Gotham 4r', sans-serif"},h=a?"_blank":"";return g.default.createElement("div",{style:d},this.props.href&&g.default.createElement("a",{className:u,href:i,style:m({},p,{display:"block"}),target:h},r),!this.props.href&&g.default.createElement("div",{className:u,style:p,onClick:n},r))},t}(g.Component);d(k,"propTypes",{children:n.default.node.isRequired,onClick:n.default.func,href:n.default.string,first:n.default.bool,last:n.default.bool,color:n.default.string,openInNewTab:n.default.bool,className:n.default.string,style:n.default.object}),b.Item=(0,r.default)(k)},1760:function(e,t,o){"use strict";t.__esModule=!0;var p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e},n=function(){function n(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,o){return t&&n(e.prototype,t),o&&n(e,o),e}}();function r(e){return e&&e.__esModule?e:{default:e}}var b=r(o(830)),h=r(o(696)),B=r(o(831)),E=r(o(1761)),I=r(o(697)),i=r(o(832)),R=r(o(833)),a=r(o(1)),s=r(o(0)),N=1e3/60;function P(e,t,n){var r=t;return null==r?e.map(function(e,t){return{key:e.key,data:e.data,style:n[t]}}):e.map(function(e,t){for(var o=0;o<r.length;o++)if(r[o].key===e.key)return{key:r[o].key,data:r[o].data,style:n[t]};return{key:e.key,data:e.data,style:n[t]}})}function L(e,n,r,t,o,i,a,s,l){for(var c=E.default(t,o,function(e,t){var o=n(t);return null==o?(r({key:t.key,data:t.data}),null):R.default(i[e],o,a[e])?(r({key:t.key,data:t.data}),null):{key:t.key,data:t.data,style:o}}),u=[],d=[],p=[],h=[],g=0;g<c.length;g++){for(var f=c[g],m=null,y=0;y<t.length;y++)if(t[y].key===f.key){m=y;break}if(null==m){var _=e(f);u[g]=_,p[g]=_;var v=b.default(f.style);d[g]=v,h[g]=v}else u[g]=i[m],p[g]=s[m],d[g]=a[m],h[g]=l[m]}return[c,u,d,p,h]}var l=function(t){function o(e){var w=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),t.call(this,e),this.unmounting=!1,this.animationID=null,this.prevTime=0,this.accumulatedTime=0,this.unreadPropStyles=null,this.clearUnreadPropStyle=function(e){for(var t=L(w.props.willEnter,w.props.willLeave,w.props.didLeave,w.state.mergedPropsStyles,e,w.state.currentStyles,w.state.currentVelocities,w.state.lastIdealStyles,w.state.lastIdealVelocities),o=t[0],n=t[1],r=t[2],i=t[3],a=t[4],s=0;s<e.length;s++){var l=e[s].style,c=!1;for(var u in l)if(Object.prototype.hasOwnProperty.call(l,u)){var d=l[u];"number"==typeof d&&(c||(c=!0,n[s]=p({},n[s]),r[s]=p({},r[s]),i[s]=p({},i[s]),a[s]=p({},a[s]),o[s]={key:o[s].key,data:o[s].data,style:p({},o[s].style)}),n[s][u]=d,r[s][u]=0,i[s][u]=d,a[s][u]=0,o[s].style[u]=d)}}w.setState({currentStyles:n,currentVelocities:r,mergedPropsStyles:o,lastIdealStyles:i,lastIdealVelocities:a})},this.startAnimationIfNecessary=function(){w.unmounting||(w.animationID=i.default(function(e){if(!w.unmounting){var t=w.props.styles,o="function"==typeof t?t(P(w.state.mergedPropsStyles,w.unreadPropStyles,w.state.lastIdealStyles)):t;if(function(e,t,o,n){if(n.length!==t.length)return!1;for(var r=0;r<n.length;r++)if(n[r].key!==t[r].key)return!1;for(r=0;r<n.length;r++)if(!R.default(e[r],t[r].style,o[r]))return!1;return!0}(w.state.currentStyles,o,w.state.currentVelocities,w.state.mergedPropsStyles))return w.animationID=null,void(w.accumulatedTime=0);var n=e||I.default(),r=n-w.prevTime;if(w.prevTime=n,w.accumulatedTime=w.accumulatedTime+r,w.accumulatedTime>10*N&&(w.accumulatedTime=0),0===w.accumulatedTime)return w.animationID=null,void w.startAnimationIfNecessary();for(var i=(w.accumulatedTime-Math.floor(w.accumulatedTime/N)*N)/N,a=Math.floor(w.accumulatedTime/N),s=L(w.props.willEnter,w.props.willLeave,w.props.didLeave,w.state.mergedPropsStyles,o,w.state.currentStyles,w.state.currentVelocities,w.state.lastIdealStyles,w.state.lastIdealVelocities),l=s[0],c=s[1],u=s[2],d=s[3],p=s[4],h=0;h<l.length;h++){var g=l[h].style,f={},m={},y={},_={};for(var v in g)if(Object.prototype.hasOwnProperty.call(g,v)){var b=g[v];if("number"==typeof b)f[v]=b,m[v]=0,y[v]=b,_[v]=0;else{for(var E=d[h][v],T=p[h][v],S=0;S<a;S++){var k=B.default(N/1e3,E,T,b.val,b.stiffness,b.damping,b.precision);E=k[0],T=k[1]}var C=B.default(N/1e3,E,T,b.val,b.stiffness,b.damping,b.precision),A=C[0],O=C[1];f[v]=E+(A-E)*i,m[v]=T+(O-T)*i,y[v]=E,_[v]=T}}d[h]=y,p[h]=_,c[h]=f,u[h]=m}w.animationID=null,w.accumulatedTime-=a*N,w.setState({currentStyles:c,currentVelocities:u,lastIdealStyles:d,lastIdealVelocities:p,mergedPropsStyles:l}),w.unreadPropStyles=null,w.startAnimationIfNecessary()}}))},this.state=this.defaultState()}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(o,t),n(o,null,[{key:"propTypes",value:{defaultStyles:s.default.arrayOf(s.default.shape({key:s.default.string.isRequired,data:s.default.any,style:s.default.objectOf(s.default.number).isRequired})),styles:s.default.oneOfType([s.default.func,s.default.arrayOf(s.default.shape({key:s.default.string.isRequired,data:s.default.any,style:s.default.objectOf(s.default.oneOfType([s.default.number,s.default.object])).isRequired}))]).isRequired,children:s.default.func.isRequired,willEnter:s.default.func,willLeave:s.default.func,didLeave:s.default.func},enumerable:!0},{key:"defaultProps",value:{willEnter:function(e){return h.default(e.style)},willLeave:function(){return null},didLeave:function(){}},enumerable:!0}]),o.prototype.defaultState=function(){var e=this.props,t=e.defaultStyles,o=e.styles,n=e.willEnter,r=e.willLeave,i=e.didLeave,a="function"==typeof o?o(t):o,s=void 0;s=null==t?a:t.map(function(e){for(var t=0;t<a.length;t++)if(a[t].key===e.key)return a[t];return e});var l=null==t?a.map(function(e){return h.default(e.style)}):t.map(function(e){return h.default(e.style)}),c=null==t?a.map(function(e){return b.default(e.style)}):t.map(function(e){return b.default(e.style)}),u=L(n,r,i,s,a,l,c,l,c),d=u[0];return{currentStyles:u[1],currentVelocities:u[2],lastIdealStyles:u[3],lastIdealVelocities:u[4],mergedPropsStyles:d}},o.prototype.componentDidMount=function(){this.prevTime=I.default(),this.startAnimationIfNecessary()},o.prototype.componentWillReceiveProps=function(e){this.unreadPropStyles&&this.clearUnreadPropStyle(this.unreadPropStyles);var t=e.styles;this.unreadPropStyles="function"==typeof t?t(P(this.state.mergedPropsStyles,this.unreadPropStyles,this.state.lastIdealStyles)):t,null==this.animationID&&(this.prevTime=I.default(),this.startAnimationIfNecessary())},o.prototype.componentWillUnmount=function(){this.unmounting=!0,null!=this.animationID&&(i.default.cancel(this.animationID),this.animationID=null)},o.prototype.render=function(){var e=P(this.state.mergedPropsStyles,this.unreadPropStyles,this.state.currentStyles),t=this.props.children(e);return t&&a.default.Children.only(t)},o}(a.default.Component);t.default=l,e.exports=t.default},1761:function(e,t,o){"use strict";t.__esModule=!0,t.default=function(e,l,t){for(var c={},o=0;o<e.length;o++)c[e[o].key]=o;for(var u={},o=0;o<l.length;o++)u[l[o].key]=o;for(var n=[],o=0;o<l.length;o++)n[o]=l[o];for(var o=0;o<e.length;o++)if(!Object.prototype.hasOwnProperty.call(u,e[o].key)){var r=t(o,e[o]);null!=r&&n.push(r)}return n.sort(function(e,t){var o=u[e.key],n=u[t.key],r=c[e.key],i=c[t.key];if(null!=o&&null!=n)return u[e.key]-u[t.key];if(null!=r&&null!=i)return c[e.key]-c[t.key];if(null!=o){for(var a=0;a<l.length;a++){var s=l[a].key;if(Object.prototype.hasOwnProperty.call(c,s)){if(o<u[s]&&i>c[s])return-1;if(o>u[s]&&i<c[s])return 1}}return 1}for(var a=0;a<l.length;a++){var s=l[a].key;if(Object.prototype.hasOwnProperty.call(c,s)){if(n<u[s]&&r>c[s])return 1;if(n>u[s]&&r<c[s])return-1}}return-1})},e.exports=t.default},1762:function(e,t,o){"use strict";t.__esModule=!0;var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e};t.default=function(e,t){return n({},s,t,{val:e})};var r,i=o(1203),a=(r=i)&&r.__esModule?r:{default:r},s=n({},a.default.noWobble,{precision:.01});e.exports=t.default},1763:function(e,t,o){"use strict";t.__esModule=!0;t.default=function(){0};e.exports=t.default},1764:function(e,t,o){"use strict";var n,i=(n=o(10))&&n.__esModule?n:{default:n};e.exports=function(e){var t=(0,i.default)(e.currentTarget).attr("href"),o=screen.width/2-320,n=screen.height/2-240,r=window.open(t,"Share","toolbar=no, location=no, directories=no, status=no, menubar=no, scrollbars=no, resizable=no, copyhistory=no, width=640, height=480, top="+n+", left="+o);return!r||(window.focus&&r.focus(),!1)}},1766:function(e,t,o){var n={"./af":910,"./af.js":910,"./ar":911,"./ar-dz":912,"./ar-dz.js":912,"./ar-kw":913,"./ar-kw.js":913,"./ar-ly":914,"./ar-ly.js":914,"./ar-ma":915,"./ar-ma.js":915,"./ar-sa":916,"./ar-sa.js":916,"./ar-tn":917,"./ar-tn.js":917,"./ar.js":911,"./az":918,"./az.js":918,"./be":919,"./be.js":919,"./bg":920,"./bg.js":920,"./bm":921,"./bm.js":921,"./bn":922,"./bn.js":922,"./bo":923,"./bo.js":923,"./br":924,"./br.js":924,"./bs":925,"./bs.js":925,"./ca":926,"./ca.js":926,"./cs":927,"./cs.js":927,"./cv":928,"./cv.js":928,"./cy":929,"./cy.js":929,"./da":930,"./da.js":930,"./de":931,"./de-at":932,"./de-at.js":932,"./de-ch":933,"./de-ch.js":933,"./de.js":931,"./dv":934,"./dv.js":934,"./el":935,"./el.js":935,"./en-au":936,"./en-au.js":936,"./en-ca":937,"./en-ca.js":937,"./en-gb":938,"./en-gb.js":938,"./en-ie":939,"./en-ie.js":939,"./en-il":940,"./en-il.js":940,"./en-nz":941,"./en-nz.js":941,"./eo":942,"./eo.js":942,"./es":943,"./es-do":944,"./es-do.js":944,"./es-us":945,"./es-us.js":945,"./es.js":943,"./et":946,"./et.js":946,"./eu":947,"./eu.js":947,"./fa":948,"./fa.js":948,"./fi":949,"./fi.js":949,"./fo":950,"./fo.js":950,"./fr":951,"./fr-ca":952,"./fr-ca.js":952,"./fr-ch":953,"./fr-ch.js":953,"./fr.js":951,"./fy":954,"./fy.js":954,"./gd":955,"./gd.js":955,"./gl":956,"./gl.js":956,"./gom-latn":957,"./gom-latn.js":957,"./gu":958,"./gu.js":958,"./he":959,"./he.js":959,"./hi":960,"./hi.js":960,"./hr":961,"./hr.js":961,"./hu":962,"./hu.js":962,"./hy-am":963,"./hy-am.js":963,"./id":964,"./id.js":964,"./is":965,"./is.js":965,"./it":966,"./it.js":966,"./ja":967,"./ja.js":967,"./jv":968,"./jv.js":968,"./ka":969,"./ka.js":969,"./kk":970,"./kk.js":970,"./km":971,"./km.js":971,"./kn":972,"./kn.js":972,"./ko":973,"./ko.js":973,"./ky":974,"./ky.js":974,"./lb":975,"./lb.js":975,"./lo":976,"./lo.js":976,"./lt":977,"./lt.js":977,"./lv":978,"./lv.js":978,"./me":979,"./me.js":979,"./mi":980,"./mi.js":980,"./mk":981,"./mk.js":981,"./ml":982,"./ml.js":982,"./mn":983,"./mn.js":983,"./mr":984,"./mr.js":984,"./ms":985,"./ms-my":986,"./ms-my.js":986,"./ms.js":985,"./mt":987,"./mt.js":987,"./my":988,"./my.js":988,"./nb":989,"./nb.js":989,"./ne":990,"./ne.js":990,"./nl":991,"./nl-be":992,"./nl-be.js":992,"./nl.js":991,"./nn":993,"./nn.js":993,"./pa-in":994,"./pa-in.js":994,"./pl":995,"./pl.js":995,"./pt":996,"./pt-br":997,"./pt-br.js":997,"./pt.js":996,"./ro":998,"./ro.js":998,"./ru":999,"./ru.js":999,"./sd":1e3,"./sd.js":1e3,"./se":1001,"./se.js":1001,"./si":1002,"./si.js":1002,"./sk":1003,"./sk.js":1003,"./sl":1004,"./sl.js":1004,"./sq":1005,"./sq.js":1005,"./sr":1006,"./sr-cyrl":1007,"./sr-cyrl.js":1007,"./sr.js":1006,"./ss":1008,"./ss.js":1008,"./sv":1009,"./sv.js":1009,"./sw":1010,"./sw.js":1010,"./ta":1011,"./ta.js":1011,"./te":1012,"./te.js":1012,"./tet":1013,"./tet.js":1013,"./tg":1014,"./tg.js":1014,"./th":1015,"./th.js":1015,"./tl-ph":1016,"./tl-ph.js":1016,"./tlh":1017,"./tlh.js":1017,"./tr":1018,"./tr.js":1018,"./tzl":1019,"./tzl.js":1019,"./tzm":1020,"./tzm-latn":1021,"./tzm-latn.js":1021,"./tzm.js":1020,"./ug-cn":1022,"./ug-cn.js":1022,"./uk":1023,"./uk.js":1023,"./ur":1024,"./ur.js":1024,"./uz":1025,"./uz-latn":1026,"./uz-latn.js":1026,"./uz.js":1025,"./vi":1027,"./vi.js":1027,"./x-pseudo":1028,"./x-pseudo.js":1028,"./yo":1029,"./yo.js":1029,"./zh-cn":1030,"./zh-cn.js":1030,"./zh-hk":1031,"./zh-hk.js":1031,"./zh-tw":1032,"./zh-tw.js":1032};function r(e){var t=i(e);return o(t)}function i(e){if(o.o(n,e))return n[e];var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}r.keys=function(){return Object.keys(n)},r.resolve=i,(e.exports=r).id=1766},1767:function(e,t,o){"use strict";function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.stringifySong=v,t.getBoardEventDropdownForParam=b,t.categories=t.blocks=t.additionalPredefValues=t.MAKER_CATEGORY=void 0;var n,r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var t=d();if(t&&t.has(e))return t.get(e);var o={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(o,r,i):o[r]=e[r]}o.default=e,t&&t.set(e,o);return o}(o(1768)),i=u(o(15)),s=u(o(6)),l=o(391),c=o(1153);function u(e){return e&&e.__esModule?e:{default:e}}function d(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return d=function(){return e},e}function p(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{},n=Object.keys(Object(o));"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(o).filter(function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable}))),n.forEach(function(e){h(t,e,o[e])})}return t}function h(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var g="Maker";t.MAKER_CATEGORY=g;var f="Circuit",m="[ColorLed].",y=i.default.range(c.N_COLOR_LEDS).map(function(e){return"colorLeds[".concat(e,"]")}),_="".concat(y[0],".");function v(e){return"[\n"+e.map(function(e){return"  ".concat(JSON.stringify(e))}).join(",\n")+"\n]"}function b(e){var t=function(e){return'"'.concat(e,'"')},o=c.COMPONENT_EVENTS[e];return Array.isArray(o)?i.default.chain(o).sort().sortedUniq().map(t).value():i.default.chain(c.COMPONENT_EVENTS).values().flatten().sort().sortedUniq().map(t).value()}var E=Object.keys(c.COMPONENT_EVENTS);t.additionalPredefValues=E;var T={parent:r,category:g,paletteParams:["pin"],params:["0"]},S={parent:r,category:g,paletteParams:["pin"],params:["0"]},k=[{func:"pinMode",parent:r,category:g,paletteParams:["pin","mode"],params:["13",'"output"'],dropdown:{1:['"output"','"input"','"analog"']}},{func:"digitalWrite",parent:r,category:g,paletteParams:["pin","value"],params:["13","1"],dropdown:{1:["1","0"]}},{func:"digitalRead",parent:r,category:g,type:"value",nativeIsAsync:!0,paletteParams:["pin"],params:['"D4"']},{func:"analogWrite",parent:r,category:g,paletteParams:["pin","value"],params:["5","150"]},{func:"analogRead",parent:r,category:g,type:"value",nativeIsAsync:!0,paletteParams:["pin"],params:["5"]},{func:"boardConnected",parent:r,category:g,type:"value"},{func:"exit",category:g,noAutocomplete:!0},p({func:"createLed"},T,{type:"either"}),p({func:"var myLed = createLed"},T,{noAutocomplete:!0,docFunc:"createLed"}),p({func:"createButton"},S,{type:"either"}),p({func:"var myButton = createButton"},S,{noAutocomplete:!0,docFunc:"createButton"}),{func:"onBoardEvent",parent:r,category:f,paletteParams:["component","event","callback"],params:["buttonL",'"down"',"function(event) {\n  \n}"],allowFunctionDrop:{2:!0},dropdown:{0:Object.keys(c.COMPONENT_EVENTS),1:function(e){return b((0,l.getFirstParam)("onBoardEvent",this.parent,e))}}},{func:"led",category:f,type:"readonlyproperty",noAutocomplete:!0},{func:"led.on",category:f},{func:"led.off",category:f},{func:"led.blink",category:f,paletteParams:["interval"],params:["200"]},{func:"led.toggle",category:f},{func:"led.pulse",category:f,paletteParams:["interval"],params:["200"]},{func:"colorLeds",category:f,type:"readonlyproperty"},{func:"on",blockPrefix:_,category:f,tipPrefix:m,modeOptionName:"*.on",objectDropdown:{options:y}},{func:"off",blockPrefix:_,category:f,tipPrefix:m,modeOptionName:"*.off",objectDropdown:{options:y}},{func:"toggle",blockPrefix:_,category:f,tipPrefix:m,modeOptionName:"*.toggle",objectDropdown:{options:y}},{func:"blink",blockPrefix:_,category:f,paletteParams:["interval"],params:["100"],tipPrefix:m,modeOptionName:"*.blink",objectDropdown:{options:y}},{func:"intensity",blockPrefix:_,category:f,params:["25"],tipPrefix:m,modeOptionName:"*.intensity",objectDropdown:{options:y}},{func:"color",blockPrefix:_,category:f,paletteParams:["color"],params:['"#FF00FF"'],paramButtons:{minArgs:1,maxArgs:3},tipPrefix:m,modeOptionName:"*.color",objectDropdown:{options:y}},{func:"pulse",blockPrefix:_,category:f,paletteParams:["interval"],params:["300"],tipPrefix:m,modeOptionName:"*.pulse",objectDropdown:{options:y}},{func:"buzzer",category:f,type:"readonlyproperty",noAutocomplete:!0},{func:"buzzer.frequency",category:f,paletteParams:["frequency","duration"],params:["500","100"],paramButtons:{minArgs:1,maxArgs:2}},{func:"buzzer.note",category:f,paletteParams:["note","duration"],params:['"A4"',"100"],paramButtons:{minArgs:1,maxArgs:2}},{func:"buzzer.off",category:f},{func:"buzzer.stop",category:f},{func:"buzzer.play",category:f,paletteParams:["notes","tempo"],params:[v(c.SONG_CHARGE),120],paramButtons:{minArgs:1,maxArgs:2}},{func:"buzzer.playNotes",category:f,paletteParams:["notes","tempo"],params:[v(c.SONG_1D),120],paramButtons:{minArgs:1,maxArgs:2}},{func:"buzzer.playSong",category:f,paletteParams:["notes","tempo"],params:[v(c.SONG_CHARGE),120],paramButtons:{minArgs:1,maxArgs:2}},{func:"accelerometer.getOrientation",category:f,type:"value",paletteParams:["orientationType"],params:['"inclination"'],dropdown:{0:['"inclination"','"pitch"','"roll"']}},{func:"accelerometer.getAcceleration",category:f,type:"value",paletteParams:["orientationType"],params:['"x"'],dropdown:{0:['"x"','"y"','"z"','"total"']}},{func:"accelerometer.start",category:f},{func:"accelerometer.sensitivity",category:f,type:"property"},{func:"isPressed",objectDropdown:{options:c.BUTTON_VARS,dropdownOnly:!0},category:f,blockPrefix:"".concat(c.BUTTON_VARS[0],"."),modeOptionName:"*.isPressed",type:"readonlyproperty",tipPrefix:"[Button]."},{func:"holdtime",objectDropdown:{options:c.BUTTON_VARS,dropdownOnly:!0},category:f,blockPrefix:"".concat(c.BUTTON_VARS[0],"."),modeOptionName:"*.holdtime",type:"readonlyproperty",tipPrefix:"[Button]."},{func:"soundSensor.start",category:f,noAutocomplete:!0},{func:"soundSensor.value",category:f,type:"readonlyproperty"},{func:"soundSensor.getAveragedValue",category:f,params:["500"],paletteParams:["ms"],type:"value"},{func:"soundSensor.setScale",category:f,params:["0","100"],paletteParams:["low","high"]},{func:"soundSensor.threshold",category:f,type:"property"},{func:"lightSensor.start",category:f,noAutocomplete:!0},{func:"lightSensor.value",category:f,type:"readonlyproperty"},{func:"lightSensor.getAveragedValue",category:f,params:["500"],paletteParams:["ms"],type:"value"},{func:"lightSensor.setScale",category:f,params:["0","100"],paletteParams:["low","high"]},{func:"lightSensor.threshold",category:f,type:"property"},{func:"tempSensor.F",category:f,type:"readonlyproperty"},{func:"tempSensor.C",category:f,type:"readonlyproperty"},{func:"toggleSwitch.isOpen",category:f,type:"readonlyproperty"}];t.blocks=k;var C=(h(n={},g,{color:"cyan",rgb:s.default.droplet_cyan,blocks:[]}),h(n,f,{color:"red",rgb:s.default.droplet_red,blocks:[]}),n);t.categories=C},1768:function(e,t,o){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.injectExecuteCmd=function(e){n=e},t.pinMode=function(e,t){return n(null,"pinMode",{pin:e,mode:t})},t.digitalWrite=function(e,t){return n(null,"digitalWrite",{pin:e,value:t})},t.digitalRead=function(e,t){return n(null,"digitalRead",{pin:e,callback:t})},t.analogWrite=function(e,t){return n(null,"analogWrite",{pin:e,value:t})},t.analogRead=function(e,t){return n(null,"analogRead",{pin:e,callback:t})},t.boardConnected=function(){return n(null,"boardConnected")},t.createLed=function(e){return n(null,"createLed",{pin:e})},t.createButton=function(e){return n(null,"createButton",{pin:e})},t.onBoardEvent=function(e,t,o){return n(null,"onBoardEvent",{component:e,event:t,callback:o})}},1769:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:a,o=1<arguments.length?arguments[1]:void 0;return o.type!==r?t:(Object.keys(o.props).forEach(function(e){if(!i.has(e))throw new Error('Property "'.concat(e,'" may not be set using the ').concat(o.type," action."));if(t[e]!==a[e]&&t[e]!==o.props[e])throw new Error("Can't change value of key \"".concat(e,'".'))}),n.assign({},t,o.props))},t.setPageConstants=function(e){return{type:r,props:e}};var n=o(15),r="pageConstants/SET_PAGE_CONSTANTS",i=new Set(["skinId","showNextHint","ttsShortInstructionsUrl","ttsLongInstructionsUrl","assetUrl","channelId","hasDataMode","hasDesignMode","isChallengeLevel","isEmbedView","isResponsive","isIframeEmbed","isReadOnlyWorkspace","isNotStartedLevel","isShareView","isProjectLevel","isSubmittable","isSubmitted","noInstructionsWhenCollapsed","puzzleNumber","stageTotal","showDebugButtons","showDebugConsole","showDebugWatch","showDebugSlider","showMakerToggle","locale","hasContainedLevels","isDroplet","isBlockly","isMinecraft","runButtonText","visualizationHasPadding","visualizationInWorkspace","hideCoordinateOverlay","hideSource","hideRunButton","playspacePhoneFrame","noVisualization","pinWorkspaceToBottom","smallStaticAvatar","failureAvatar","aniGifURL","inputOutputTable","showAnimationMode","startInAnimationTab","allAnimationsSingleFrame","nonResponsiveVisualizationColumnWidth","is13Plus","isSignedIn","userId","verifiedTeacher","isK1","textToSpeechEnabled","documentationUrl","appType","nextLevelUrl","showProjectTemplateWorkspaceIcon","serverLevelId","serverScriptLevelId","exportApp","expoGenerateApk","expoCheckApkBuild","expoCancelApkBuild","allowExportExpo","widgetMode","librariesEnabled"]),a={assetUrl:function(){}}},1784:function(e,t,o){"use strict";function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=p(o(0)),i=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var t=d();if(t&&t.has(e))return t.get(e);var o={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(o,r,i):o[r]=e[r]}o.default=e,t&&t.set(e,o);return o}(o(1)),r=p(o(23)),s=p(o(4)),l=p(o(66)),c=p(o(287)),u=o(219);function d(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return d=function(){return e},e}function p(e){return e&&e.__esModule?e:{default:e}}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}function f(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var m={link:{cursor:"pointer"},dialog:{paddingLeft:20,paddingRight:20,paddingBottom:20,textAlign:"left",fontFamily:'"Gotham 4r", sans-serif'},dialogLinkContainer:{marginTop:20},dialogLink:{color:"#005580"}},y=function(r){function e(){for(var e,t=arguments.length,o=new Array(t),n=0;n<t;n++)o[n]=arguments[n];return f(h(e=r.call.apply(r,[this].concat(o))||this),"state",{open:!1}),f(h(e),"open",function(){return e.setState({open:!0})}),f(h(e),"close",function(){return e.setState({open:!1})}),e}return g(e,r),e.prototype.render=function(){return i.default.createElement("div",null,i.default.createElement(_,{isDialogOpen:this.state.open,handleClose:this.close}),!this.props.inDialog&&i.default.createElement("span",null,"|  "),i.default.createElement("a",{className:"ui-test-fallback-player-caption-dialog-link",onClick:this.open,style:m.link},s.default.fallbackVideoClosedCaptioningLink()))},e}(i.default.Component);f(t.default=y,"propTypes",{inDialog:n.default.bool});var _=function(e){function t(){return e.apply(this,arguments)||this}return g(t,e),t.prototype.render=function(){return i.default.createElement(l.default,{useUpdatedStyles:!0,isOpen:this.props.isDialogOpen,style:m.dialog,handleClose:this.props.handleClose},i.default.createElement("h2",{className:"ui-test-fallback-player-caption-dialog"},s.default.fallbackVideoClosedCaptioningDialogHeading()),i.default.createElement("div",null,s.default.fallbackVideoClosedCaptioningDialogBody()),i.default.createElement("div",{style:m.dialogLinkContainer},i.default.createElement("a",{style:m.dialogLink,href:(0,u.pegasus)("/educate/it"),target:"_blank"},s.default.fallbackVideoClosedCaptioningDialogBodyLink())),i.default.createElement(c.default,null,i.default.createElement(r.default,{__useDeprecatedTag:!0,className:"ui-test-fallback-player-caption-dialog-close",text:s.default.fallbackVideoClosedCaptioningDialogClose(),onClick:this.props.handleClose,color:r.default.ButtonColor.orange})))},t}(i.Component);f(_,"propTypes",{isDialogOpen:n.default.bool.isRequired,handleClose:n.default.func}),e.exports=t.default},1785:function(e,t){},1786:function(e,t){e.exports=function(e){var t=o.call(e);return"[object Function]"===t||"function"==typeof e&&"[object RegExp]"!==t||"undefined"!=typeof window&&(e===window.setTimeout||e===window.alert||e===window.confirm||e===window.prompt)};var o=Object.prototype.toString},1787:function(e,t){var c=function(e){return e.replace(/^\s+|\s+$/g,"")};e.exports=function(e){if(!e)return{};for(var t,o={},n=c(e).split("\n"),r=0;r<n.length;r++){var i=n[r],a=i.indexOf(":"),s=c(i.slice(0,a)).toLowerCase(),l=c(i.slice(a+1));void 0===o[s]?o[s]=l:(t=o[s],"[object Array]"===Object.prototype.toString.call(t)?o[s].push(l):o[s]=[o[s],l])}return o}},1788:function(o,e,t){(function(e){var t;t="undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{},o.exports=t}).call(this,t(25))},1789:function(e,t){var o=Object.create||function(){function t(){}return function(e){if(1!==arguments.length)throw new Error("Object.create shim only accepts one parameter.");return t.prototype=e,new t}}();function c(e,t){this.name="ParsingError",this.code=e.code,this.message=t||e.message}function f(e){function t(e,t,o,n){return 3600*(0|e)+60*(0|t)+(0|o)+(0|n)/1e3}var o=e.match(/^(\d+):(\d{2})(:\d{2})?\.(\d{3})/);return o?o[3]?t(o[1],o[2],o[3].replace(":",""),o[4]):59<o[1]?t(o[1],o[2],0,o[4]):t(0,o[1],o[2],o[4]):null}function u(){this.values=o(null)}function d(e,t,o,n){var r=n?e.split(n):[e];for(var i in r)if("string"==typeof r[i]){var a=r[i].split(o);if(2===a.length)t(a[0],a[1])}}function l(t,e,i){var o,n,a,r=t;function s(){var e=f(t);if(null===e)throw new c(c.Errors.BadTimeStamp,"Malformed timestamp: "+r);return t=t.replace(/^[^\sa-zA-Z-]+/,""),e}function l(){t=t.replace(/^\s+/,"")}if(l(),e.startTime=s(),l(),"--\x3e"!==t.substr(0,3))throw new c(c.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '--\x3e'): "+r);t=t.substr(3),l(),e.endTime=s(),l(),o=t,n=e,a=new u,d(o,function(e,t){switch(e){case"region":for(var o=i.length-1;0<=o;o--)if(i[o].id===t){a.set(e,i[o].region);break}break;case"vertical":a.alt(e,t,["rl","lr"]);break;case"line":var n=t.split(","),r=n[0];a.integer(e,r),a.percent(e,r)&&a.set("snapToLines",!1),a.alt(e,r,["auto"]),2===n.length&&a.alt("lineAlign",n[1],["start","middle","end"]);break;case"position":n=t.split(","),a.percent(e,n[0]),2===n.length&&a.alt("positionAlign",n[1],["start","middle","end"]);break;case"size":a.percent(e,t);break;case"align":a.alt(e,t,["start","middle","end","left","right"])}},/:/,/\s/),n.region=a.get("region",null),n.vertical=a.get("vertical",""),n.line=a.get("line","auto"),n.lineAlign=a.get("lineAlign","start"),n.snapToLines=a.get("snapToLines",!0),n.size=a.get("size",100),n.align=a.get("align","middle"),n.position=a.get("position",{start:0,left:0,middle:50,end:100,right:100},n.align),n.positionAlign=a.get("positionAlign",{start:"start",left:"start",middle:"middle",end:"end",right:"end"},n.align)}((c.prototype=o(Error.prototype)).constructor=c).Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}},u.prototype={set:function(e,t){this.get(e)||""===t||(this.values[e]=t)},get:function(e,t,o){return o?this.has(e)?this.values[e]:t[o]:this.has(e)?this.values[e]:t},has:function(e){return e in this.values},alt:function(e,t,o){for(var n=0;n<o.length;++n)if(t===o[n]){this.set(e,t);break}},integer:function(e,t){/^-?\d+$/.test(t)&&this.set(e,parseInt(t,10))},percent:function(e,t){return!!(t.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&0<=(t=parseFloat(t))&&t<=100)&&(this.set(e,t),!0)}};var m={"&amp;":"&","&lt;":"<","&gt;":">","&lrm;":"‎","&rlm;":"‏","&nbsp;":" "},y={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},_={v:"title",lang:"lang"},v={rt:"ruby"};function i(i,o){function e(){if(!o)return null;var e,t=o.match(/^([^<]*)(<[^>]*>?)?/);return e=t[1]?t[1]:t[2],o=o.substr(e.length),e}function t(e){return m[e]}function n(e){for(;g=e.match(/&(amp|lt|gt|lrm|rlm|nbsp);/);)e=e.replace(g[0],t);return e}function r(e,t){var o=y[e];if(!o)return null;var n=i.document.createElement(o);n.localName=o;var r=_[e];return r&&t&&(n[r]=t.trim()),n}for(var a,s,l,c=i.document.createElement("div"),u=c,d=[];null!==(a=e());)if("<"!==a[0])u.appendChild(i.document.createTextNode(n(a)));else{if("/"===a[1]){d.length&&d[d.length-1]===a.substr(2).replace(">","")&&(d.pop(),u=u.parentNode);continue}var p,h=f(a.substr(1,a.length-2));if(h){p=i.document.createProcessingInstruction("timestamp",h),u.appendChild(p);continue}var g=a.match(/^<([^.\s/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/);if(!g)continue;if(!(p=r(g[1],g[3])))continue;if(s=u,v[(l=p).localName]&&v[l.localName]!==s.localName)continue;g[2]&&(p.className=g[2].substr(1).replace("."," ")),d.push(g[1]),u.appendChild(p),u=p}return c}var n=[[1470,1470],[1472,1472],[1475,1475],[1478,1478],[1488,1514],[1520,1524],[1544,1544],[1547,1547],[1549,1549],[1563,1563],[1566,1610],[1645,1647],[1649,1749],[1765,1766],[1774,1775],[1786,1805],[1807,1808],[1810,1839],[1869,1957],[1969,1969],[1984,2026],[2036,2037],[2042,2042],[2048,2069],[2074,2074],[2084,2084],[2088,2088],[2096,2110],[2112,2136],[2142,2142],[2208,2208],[2210,2220],[8207,8207],[64285,64285],[64287,64296],[64298,64310],[64312,64316],[64318,64318],[64320,64321],[64323,64324],[64326,64449],[64467,64829],[64848,64911],[64914,64967],[65008,65020],[65136,65140],[65142,65276],[67584,67589],[67592,67592],[67594,67637],[67639,67640],[67644,67644],[67647,67669],[67671,67679],[67840,67867],[67872,67897],[67903,67903],[67968,68023],[68030,68031],[68096,68096],[68112,68115],[68117,68119],[68121,68147],[68160,68167],[68176,68184],[68192,68223],[68352,68405],[68416,68437],[68440,68466],[68472,68479],[68608,68680],[126464,126467],[126469,126495],[126497,126498],[126500,126500],[126503,126503],[126505,126514],[126516,126519],[126521,126521],[126523,126523],[126530,126530],[126535,126535],[126537,126537],[126539,126539],[126541,126543],[126545,126546],[126548,126548],[126551,126551],[126553,126553],[126555,126555],[126557,126557],[126559,126559],[126561,126562],[126564,126564],[126567,126570],[126572,126578],[126580,126583],[126585,126588],[126590,126590],[126592,126601],[126603,126619],[126625,126627],[126629,126633],[126635,126651],[1114109,1114109]];function a(e){for(var t=0;t<n.length;t++){var o=n[t];if(e>=o[0]&&e<=o[1])return!0}return!1}function s(){}function p(e,t,o){s.call(this),this.cue=t,this.cueDiv=i(e,t.text);var n={color:"rgba(255, 255, 255, 1)",backgroundColor:"rgba(0, 0, 0, 0.8)",position:"relative",left:0,right:0,top:0,bottom:0,display:"inline",writingMode:""===t.vertical?"horizontal-tb":"lr"===t.vertical?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext"};this.applyStyles(n,this.cueDiv),this.div=e.document.createElement("div"),n={direction:function(e){var t=[],o="";if(!e||!e.childNodes)return"ltr";function r(e,t){for(var o=t.childNodes.length-1;0<=o;o--)e.push(t.childNodes[o])}function i(e){if(!e||!e.length)return null;var t=e.pop(),o=t.textContent||t.innerText;if(o){var n=o.match(/^.*(\n|\r)/);return n?n[e.length=0]:o}return"ruby"===t.tagName?i(e):t.childNodes?(r(e,t),i(e)):void 0}for(r(t,e);o=i(t);)for(var n=0;n<o.length;n++)if(a(o.charCodeAt(n)))return"rtl";return"ltr"}(this.cueDiv),writingMode:""===t.vertical?"horizontal-tb":"lr"===t.vertical?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext",textAlign:"middle"===t.align?"center":t.align,font:o.font,whiteSpace:"pre-line",position:"absolute"},this.applyStyles(n),this.div.appendChild(this.cueDiv);var r=0;switch(t.positionAlign){case"start":r=t.position;break;case"middle":r=t.position-t.size/2;break;case"end":r=t.position-t.size}""===t.vertical?this.applyStyles({left:this.formatStyle(r,"%"),width:this.formatStyle(t.size,"%")}):this.applyStyles({top:this.formatStyle(r,"%"),height:this.formatStyle(t.size,"%")}),this.move=function(e){this.applyStyles({top:this.formatStyle(e.top,"px"),bottom:this.formatStyle(e.bottom,"px"),left:this.formatStyle(e.left,"px"),right:this.formatStyle(e.right,"px"),height:this.formatStyle(e.height,"px"),width:this.formatStyle(e.width,"px")})}}function b(e){var t,o,n,r;if(e.div){o=e.div.offsetHeight,n=e.div.offsetWidth,r=e.div.offsetTop;var i=(i=e.div.childNodes)&&(i=i[0])&&i.getClientRects&&i.getClientRects();e=e.div.getBoundingClientRect(),t=i?Math.max(i[0]&&i[0].height||0,e.height/i.length):0}this.left=e.left,this.right=e.right,this.top=e.top||r,this.height=e.height||o,this.bottom=e.bottom||r+(e.height||o),this.width=e.width||n,this.lineHeight=void 0!==t?t:e.lineHeight}function h(e,t,s,l){var o=new b(t),n=t.cue,r=function(e){if("number"==typeof e.line&&(e.snapToLines||0<=e.line&&e.line<=100))return e.line;if(!e.track||!e.track.textTrackList||!e.track.textTrackList.mediaElement)return-1;for(var t=e.track,o=t.textTrackList,n=0,r=0;r<o.length&&o[r]!==t;r++)"showing"===o[r].mode&&n++;return-1*++n}(n),i=[];if(n.snapToLines){var a;switch(n.vertical){case"":i=["+y","-y"],a="height";break;case"rl":i=["+x","-x"],a="width";break;case"lr":i=["-x","+x"],a="width"}var c=o.lineHeight,u=c*Math.round(r),d=s[a]+c,p=i[0];Math.abs(u)>d&&(u=u<0?-1:1,u*=Math.ceil(d/c)*c),r<0&&(u+=""===n.vertical?s.height:s.width,i=i.reverse()),o.move(p,u)}else{var h=o.lineHeight/s.height*100;switch(n.lineAlign){case"middle":r-=h/2;break;case"end":r-=h}switch(n.vertical){case"":t.applyStyles({top:t.formatStyle(r,"%")});break;case"rl":t.applyStyles({left:t.formatStyle(r,"%")});break;case"lr":t.applyStyles({right:t.formatStyle(r,"%")})}i=["+y","-x","+x","-y"],o=new b(t)}var g=function(e,t){for(var o,n=new b(e),r=1,i=0;i<t.length;i++){for(;e.overlapsOppositeAxis(s,t[i])||e.within(s)&&e.overlapsAny(l);)e.move(t[i]);if(e.within(s))return e;var a=e.intersectPercentage(s);a<r&&(o=new b(e),r=a),e=new b(n)}return o||n}(o,i);t.move(g.toCSSCompatValues(s))}function r(){}s.prototype.applyStyles=function(e,t){for(var o in t=t||this.div,e)e.hasOwnProperty(o)&&(t.style[o]=e[o])},s.prototype.formatStyle=function(e,t){return 0===e?0:e+t},(p.prototype=o(s.prototype)).constructor=p,b.prototype.move=function(e,t){switch(t=void 0!==t?t:this.lineHeight,e){case"+x":this.left+=t,this.right+=t;break;case"-x":this.left-=t,this.right-=t;break;case"+y":this.top+=t,this.bottom+=t;break;case"-y":this.top-=t,this.bottom-=t}},b.prototype.overlaps=function(e){return this.left<e.right&&this.right>e.left&&this.top<e.bottom&&this.bottom>e.top},b.prototype.overlapsAny=function(e){for(var t=0;t<e.length;t++)if(this.overlaps(e[t]))return!0;return!1},b.prototype.within=function(e){return this.top>=e.top&&this.bottom<=e.bottom&&this.left>=e.left&&this.right<=e.right},b.prototype.overlapsOppositeAxis=function(e,t){switch(t){case"+x":return this.left<e.left;case"-x":return this.right>e.right;case"+y":return this.top<e.top;case"-y":return this.bottom>e.bottom}},b.prototype.intersectPercentage=function(e){return Math.max(0,Math.min(this.right,e.right)-Math.max(this.left,e.left))*Math.max(0,Math.min(this.bottom,e.bottom)-Math.max(this.top,e.top))/(this.height*this.width)},b.prototype.toCSSCompatValues=function(e){return{top:this.top-e.top,bottom:e.bottom-this.bottom,left:this.left-e.left,right:e.right-this.right,height:this.height,width:this.width}},b.getSimpleBoxPosition=function(e){var t=e.div?e.div.offsetHeight:e.tagName?e.offsetHeight:0,o=e.div?e.div.offsetWidth:e.tagName?e.offsetWidth:0,n=e.div?e.div.offsetTop:e.tagName?e.offsetTop:0;return{left:(e=e.div?e.div.getBoundingClientRect():e.tagName?e.getBoundingClientRect():e).left,right:e.right,top:e.top||n,height:e.height||t,bottom:e.bottom||n+(e.height||t),width:e.width||o}},r.StringDecoder=function(){return{decode:function(e){if(!e)return"";if("string"!=typeof e)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(e))}}},r.convertCueToDOMTree=function(e,t){return e&&t?i(e,t):null};r.processCues=function(n,r,e){if(!n||!r||!e)return null;for(;e.firstChild;)e.removeChild(e.firstChild);var i=n.document.createElement("div");if(i.style.position="absolute",i.style.left="0",i.style.right="0",i.style.top="0",i.style.bottom="0",i.style.margin="1.5%",e.appendChild(i),function(e){for(var t=0;t<e.length;t++)if(e[t].hasBeenReset||!e[t].displayState)return!0;return!1}(r)){var a=[],s=b.getSimpleBoxPosition(i),l={font:Math.round(.05*s.height*100)/100+"px sans-serif"};!function(){for(var e,t,o=0;o<r.length;o++)t=r[o],e=new p(n,t,l),i.appendChild(e.div),h(0,e,s,a),t.displayState=e.div,a.push(b.getSimpleBoxPosition(e))}()}else for(var t=0;t<r.length;t++)i.appendChild(r[t].displayState)},(r.Parser=function(e,t,o){o||(o=t,t={}),t||(t={}),this.window=e,this.vttjs=t,this.state="INITIAL",this.buffer="",this.decoder=o||new TextDecoder("utf8"),this.regionList=[]}).prototype={reportOrThrowError:function(e){if(!(e instanceof c))throw e;this.onparsingerror&&this.onparsingerror(e)},parse:function(e){var n=this;function t(){for(var e=n.buffer,t=0;t<e.length&&"\r"!==e[t]&&"\n"!==e[t];)++t;var o=e.substr(0,t);return"\r"===e[t]&&++t,"\n"===e[t]&&++t,n.buffer=e.substr(t),o}function o(e){e.match(/X-TIMESTAMP-MAP/)?d(e,function(e,t){switch(e){case"X-TIMESTAMP-MAP":!function(e){var o=new u;d(e,function(e,t){switch(e){case"MPEGT":o.integer(e+"S",t);break;case"LOCA":o.set(e+"L",f(t))}},/[^\d]:/,/,/),n.ontimestampmap&&n.ontimestampmap({MPEGTS:o.get("MPEGTS"),LOCAL:o.get("LOCAL")})}(t)}},/=/):d(e,function(e,t){switch(e){case"Region":!function(e){var r=new u;if(d(e,function(e,t){switch(e){case"id":r.set(e,t);break;case"width":r.percent(e,t);break;case"lines":r.integer(e,t);break;case"regionanchor":case"viewportanchor":var o=t.split(",");if(2!==o.length)break;var n=new u;if(n.percent("x",o[0]),n.percent("y",o[1]),!n.has("x")||!n.has("y"))break;r.set(e+"X",n.get("x")),r.set(e+"Y",n.get("y"));break;case"scroll":r.alt(e,t,["up"])}},/=/,/\s/),r.has("id")){var t=new(n.vttjs.VTTRegion||n.window.VTTRegion);t.width=r.get("width",100),t.lines=r.get("lines",3),t.regionAnchorX=r.get("regionanchorX",0),t.regionAnchorY=r.get("regionanchorY",100),t.viewportAnchorX=r.get("viewportanchorX",0),t.viewportAnchorY=r.get("viewportanchorY",100),t.scroll=r.get("scroll",""),n.onregion&&n.onregion(t),n.regionList.push({id:r.get("id"),region:t})}}(t)}},/:/)}e&&(n.buffer+=n.decoder.decode(e,{stream:!0}));try{var r;if("INITIAL"===n.state){if(!/\r\n|\n/.test(n.buffer))return this;var i=(r=t()).match(/^WEBVTT([ \t].*)?$/);if(!i||!i[0])throw new c(c.Errors.BadSignature);n.state="HEADER"}for(var a=!1;n.buffer;){if(!/\r\n|\n/.test(n.buffer))return this;switch(a?a=!1:r=t(),n.state){case"HEADER":/:/.test(r)?o(r):r||(n.state="ID");continue;case"NOTE":r||(n.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(r)){n.state="NOTE";break}if(!r)continue;if(n.cue=new(n.vttjs.VTTCue||n.window.VTTCue)(0,0,""),n.state="CUE",-1===r.indexOf("--\x3e")){n.cue.id=r;continue}case"CUE":try{l(r,n.cue,n.regionList)}catch(e){n.reportOrThrowError(e),n.cue=null,n.state="BADCUE";continue}n.state="CUETEXT";continue;case"CUETEXT":var s=-1!==r.indexOf("--\x3e");if(!r||s&&(a=!0)){n.oncue&&n.oncue(n.cue),n.cue=null,n.state="ID";continue}n.cue.text&&(n.cue.text+="\n"),n.cue.text+=r;continue;case"BADCUE":r||(n.state="ID");continue}}}catch(e){n.reportOrThrowError(e),"CUETEXT"===n.state&&n.cue&&n.oncue&&n.oncue(n.cue),n.cue=null,n.state="INITIAL"===n.state?"BADWEBVTT":"BADCUE"}return this},flush:function(){var t=this;try{if(t.buffer+=t.decoder.decode(),(t.cue||"HEADER"===t.state)&&(t.buffer+="\n\n",t.parse()),"INITIAL"===t.state)throw new c(c.Errors.BadSignature)}catch(e){t.reportOrThrowError(e)}return t.onflush&&t.onflush(),this}},e.exports=r},179:function(e,t,o){"use strict";function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.NotificationResponsive=t.default=t.NotificationType=void 0;var n,v=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var t=d();if(t&&t.has(e))return t.get(e);var o={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(o,r,i):o[r]=e[r]}o.default=e,t&&t.set(e,o);return o}(o(1)),r=u(o(0)),i=u(o(14)),s=o(9),l=u(o(6)),b=u(o(18)),E=u(o(23)),c=u(o(114));function u(e){return e&&e.__esModule?e:{default:e}}function d(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return d=function(){return e},e}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function T(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var S={information:"information",success:"success",failure:"failure",warning:"warning",course:"course",bullhorn:"bullhorn",feedback:"feedback"};t.NotificationType=S;var k={main:{borderWidth:1,borderStyle:"solid",minHeight:72,width:"100%",backgroundColor:l.default.white,marginBottom:20,display:"flex",flexFlow:"wrap",boxSizing:"border-box"},notice:{fontFamily:'"Gotham 4r", sans-serif',fontSize:18,fontWeight:"bold",letterSpacing:-.2,lineHeight:1.5,marginTop:16,backgroundColor:l.default.white},details:{fontFamily:'"Gotham 4r", sans-serif',fontSize:14,lineHeight:1.5,paddingTop:6,paddingBottom:16,color:l.default.charcoal},detailsLink:{fontFamily:'"Gotham 5r", sans-serif',color:l.default.teal},wordBox:{flex:1,marginLeft:25,marginRight:25},dismiss:{color:l.default.lighter_gray,marginTop:5,marginRight:0,marginLeft:10,cursor:"pointer"},iconBox:{width:72,backgroundColor:l.default.lightest_gray,textAlign:"center",float:"left"},contentBox:{width:"calc(100% - 100px)",display:"flex",flexFlow:"wrap"},icon:{color:"rgba(255,255,255, .8)",fontSize:38,lineHeight:2},buttonsMobile:{width:"100%"},button:{marginLeft:25,marginRight:25,marginTop:18,marginBottom:18},colors:(n={},T(n,S.information,{borderColor:l.default.teal,color:l.default.teal,backgroundColor:l.default.teal}),T(n,S.success,{borderColor:l.default.level_perfect,color:l.default.level_perfect,backgroundColor:l.default.level_perfect}),T(n,S.failure,{borderColor:l.default.red,color:l.default.red,backgroundColor:l.default.red}),T(n,S.warning,{borderColor:l.default.mustardyellow,color:l.default.charcoal,backgroundColor:l.default.mustardyellow}),T(n,S.course,{borderColor:l.default.border_gray,color:l.default.teal,backgroundColor:l.default.teal}),T(n,S.bullhorn,{borderColor:l.default.teal,color:l.default.teal,backgroundColor:l.default.teal}),T(n,S.feedback,{borderColor:l.default.purple,color:l.default.purple,backgroundColor:l.default.purple}),n),clear:{clear:"both"}},h=function(r){function e(){for(var e,t=arguments.length,o=new Array(t),n=0;n<t;n++)o[n]=arguments[n];return T(p(e=r.call.apply(r,[this].concat(o))||this),"state",{open:!0}),T(p(e),"onDismiss",function(){e.toggleContent(),e.props.onDismiss&&e.props.onDismiss()}),e}!function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(e,r);var t=e.prototype;return t.toggleContent=function(){this.setState({open:!this.state.open})},t.onAnnouncementClick=function(){this.props.analyticId&&(0,c.default)("teacher_announcement","click",this.props.analyticId),this.props.onButtonClick&&this.props.onButtonClick()},t.onButtonClick=function(){this.onClick&&this.onClick()},t.render=function(){var o=this,e=this.props,t=e.notice,n=e.details,r=e.detailsLinkText,i=e.detailsLink,a=e.detailsLinkNewWindow,s=e.type,l=e.buttonText,c=e.buttonLink,u=e.dismissible,d=e.newWindow,p=e.isRtl,h=e.width,g=e.buttonClassName,f=e.buttons,m=e.responsiveSize,y=void 0===m||"lg"===m,_=function(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{},n=Object.keys(Object(o));"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(o).filter(function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable}))),n.forEach(function(e){T(t,e,o[e])})}return t}({},k.main,{direction:p?"rtl":"ltr",width:h||k.main.width});return this.state.open?v.default.createElement("div",{className:"announcement-notification"},v.default.createElement("div",{style:[k.colors[s],_]},s!==S.course&&v.default.createElement("div",{style:[k.iconBox,k.colors[s]]},v.default.createElement(b.default,{icon:{information:"info-circle",success:"check-circle",failure:"exclamation-triangle",warning:"exclamation-triangle",bullhorn:"bullhorn",feedback:"envelope"}[s],style:k.icon})),v.default.createElement("div",{style:k.contentBox},v.default.createElement("div",{style:k.wordBox},v.default.createElement("div",{style:[k.colors[s],k.notice]},t),v.default.createElement("div",{style:k.details},n,r&&i&&v.default.createElement("span",null," ",v.default.createElement("a",{href:i,style:k.detailsLink,target:a?"_blank":null},r)))),v.default.createElement("div",{style:y?null:k.buttonsMobile},l&&c&&v.default.createElement(E.default,{__useDeprecatedTag:!0,href:c,color:E.default.ButtonColor.gray,text:l,style:k.button,target:d?"_blank":null,onClick:this.onAnnouncementClick.bind(this),className:g}),f&&f.map(function(e,t){return v.default.createElement(E.default,{__useDeprecatedTag:!0,key:t,href:e.link,color:E.default.ButtonColor.gray,text:e.text,style:k.button,target:e.newWindow?"_blank":null,onClick:o.onButtonClick.bind(e),className:e.className})}),this.props.children)),u&&v.default.createElement("div",{style:k.dismiss},v.default.createElement(b.default,{icon:"times",onClick:this.onDismiss}))),v.default.createElement("div",{style:k.clear})):null},e}(v.Component);T(h,"propTypes",{type:r.default.oneOf(Object.keys(S)).isRequired,notice:r.default.string.isRequired,details:r.default.string.isRequired,detailsLinkText:r.default.string,detailsLink:r.default.string,detailsLinkNewWindow:r.default.bool,buttonText:r.default.string,buttonLink:r.default.string,dismissible:r.default.bool.isRequired,onDismiss:r.default.func,newWindow:r.default.bool,analyticId:r.default.string,responsiveSize:r.default.oneOf(["lg","md","sm","xs"]),isRtl:r.default.bool.isRequired,onButtonClick:r.default.func,buttonClassName:r.default.string,buttons:r.default.arrayOf(r.default.shape({text:r.default.string,link:r.default.string,newWindow:r.default.bool,onClick:r.default.func,className:r.default.string})),children:r.default.node,width:r.default.oneOfType([r.default.number,r.default.string])});var g=(0,s.connect)(function(e){return{isRtl:e.isRtl}})((0,i.default)(h));t.default=g;var f=(0,s.connect)(function(e){return{isRtl:e.isRtl,responsiveSize:e.responsive.responsiveSize}})((0,i.default)(h));t.NotificationResponsive=f},1790:function(e,t){var y={"":1,lr:1,rl:1},o={start:1,middle:1,end:1,left:1,right:1};function _(e){return"string"==typeof e&&(!!o[e.toLowerCase()]&&e.toLowerCase())}function n(e,t,o){this.hasBeenReset=!1;var n="",r=!1,i=e,a=t,s=o,l=null,c="",u=!0,d="auto",p="start",h=50,g="middle",f=50,m="middle";Object.defineProperties(this,{id:{enumerable:!0,get:function(){return n},set:function(e){n=""+e}},pauseOnExit:{enumerable:!0,get:function(){return r},set:function(e){r=!!e}},startTime:{enumerable:!0,get:function(){return i},set:function(e){if("number"!=typeof e)throw new TypeError("Start time must be set to a number.");i=e,this.hasBeenReset=!0}},endTime:{enumerable:!0,get:function(){return a},set:function(e){if("number"!=typeof e)throw new TypeError("End time must be set to a number.");a=e,this.hasBeenReset=!0}},text:{enumerable:!0,get:function(){return s},set:function(e){s=""+e,this.hasBeenReset=!0}},region:{enumerable:!0,get:function(){return l},set:function(e){l=e,this.hasBeenReset=!0}},vertical:{enumerable:!0,get:function(){return c},set:function(e){var t=function(e){return"string"==typeof e&&!!y[e.toLowerCase()]&&e.toLowerCase()}(e);if(!1===t)throw new SyntaxError("An invalid or illegal string was specified.");c=t,this.hasBeenReset=!0}},snapToLines:{enumerable:!0,get:function(){return u},set:function(e){u=!!e,this.hasBeenReset=!0}},line:{enumerable:!0,get:function(){return d},set:function(e){if("number"!=typeof e&&"auto"!==e)throw new SyntaxError("An invalid number or illegal string was specified.");d=e,this.hasBeenReset=!0}},lineAlign:{enumerable:!0,get:function(){return p},set:function(e){var t=_(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");p=t,this.hasBeenReset=!0}},position:{enumerable:!0,get:function(){return h},set:function(e){if(e<0||100<e)throw new Error("Position must be between 0 and 100.");h=e,this.hasBeenReset=!0}},positionAlign:{enumerable:!0,get:function(){return g},set:function(e){var t=_(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");g=t,this.hasBeenReset=!0}},size:{enumerable:!0,get:function(){return f},set:function(e){if(e<0||100<e)throw new Error("Size must be between 0 and 100.");f=e,this.hasBeenReset=!0}},align:{enumerable:!0,get:function(){return m},set:function(e){var t=_(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");m=t,this.hasBeenReset=!0}}}),this.displayState=void 0}n.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)},e.exports=n},1791:function(e,t){var l={"":!0,up:!0};function c(e){return"number"==typeof e&&0<=e&&e<=100}e.exports=function(){var t=100,o=3,n=0,r=100,i=0,a=100,s="";Object.defineProperties(this,{width:{enumerable:!0,get:function(){return t},set:function(e){if(!c(e))throw new Error("Width must be between 0 and 100.");t=e}},lines:{enumerable:!0,get:function(){return o},set:function(e){if("number"!=typeof e)throw new TypeError("Lines must be set to a number.");o=e}},regionAnchorY:{enumerable:!0,get:function(){return r},set:function(e){if(!c(e))throw new Error("RegionAnchorX must be between 0 and 100.");r=e}},regionAnchorX:{enumerable:!0,get:function(){return n},set:function(e){if(!c(e))throw new Error("RegionAnchorY must be between 0 and 100.");n=e}},viewportAnchorY:{enumerable:!0,get:function(){return a},set:function(e){if(!c(e))throw new Error("ViewportAnchorY must be between 0 and 100.");a=e}},viewportAnchorX:{enumerable:!0,get:function(){return i},set:function(e){if(!c(e))throw new Error("ViewportAnchorX must be between 0 and 100.");i=e}},scroll:{enumerable:!0,get:function(){return s},set:function(e){var t=function(e){return"string"==typeof e&&!!l[e.toLowerCase()]&&e.toLowerCase()}(e);if(!1===t)throw new SyntaxError("An invalid or illegal string was specified.");s=t}}})}},1792:function(e,t,o){"use strict";var n=o(1217),r=o(1216),i=function(){i.prototype.init.call(this),this.captionPackets_=[],this.ccStreams_=[new u(0,0),new u(0,1),new u(1,0),new u(1,1)],this.reset(),this.ccStreams_.forEach(function(e){e.on("data",this.trigger.bind(this,"data")),e.on("partialdone",this.trigger.bind(this,"partialdone")),e.on("done",this.trigger.bind(this,"done"))},this)};i.prototype=new n,i.prototype.push=function(e){var t,o,n;if("sei_rbsp"===e.nalUnitType&&(t=r.parseSei(e.escapedRBSP)).payloadType===r.USER_DATA_REGISTERED_ITU_T_T35&&(o=r.parseUserData(t)))if(e.dts<this.latestDts_)this.ignoreNextEqualDts_=!0;else{if(e.dts===this.latestDts_&&this.ignoreNextEqualDts_)return this.numSameDts_--,void(this.numSameDts_||(this.ignoreNextEqualDts_=!1));n=r.parseCaptionPackets(e.pts,o),this.captionPackets_=this.captionPackets_.concat(n),this.latestDts_!==e.dts&&(this.numSameDts_=0),this.numSameDts_++,this.latestDts_=e.dts}},i.prototype.flushCCStreams=function(t){this.ccStreams_.forEach(function(e){return"flush"===t?e.flush():e.partialFlush()},this)},i.prototype.flushStream=function(e){this.captionPackets_.length&&(this.captionPackets_.forEach(function(e,t){e.presortIndex=t}),this.captionPackets_.sort(function(e,t){return e.pts===t.pts?e.presortIndex-t.presortIndex:e.pts-t.pts}),this.captionPackets_.forEach(function(e){e.type<2&&this.dispatchCea608Packet(e)},this),this.captionPackets_.length=0),this.flushCCStreams(e)},i.prototype.flush=function(){return this.flushStream("flush")},i.prototype.partialFlush=function(){return this.flushStream("partialFlush")},i.prototype.reset=function(){this.latestDts_=null,this.ignoreNextEqualDts_=!1,this.numSameDts_=0,this.activeCea608Channel_=[null,null],this.ccStreams_.forEach(function(e){e.reset()})},i.prototype.dispatchCea608Packet=function(e){this.setsTextOrXDSActive(e)?this.activeCea608Channel_[e.type]=null:this.setsChannel1Active(e)?this.activeCea608Channel_[e.type]=0:this.setsChannel2Active(e)&&(this.activeCea608Channel_[e.type]=1),null!==this.activeCea608Channel_[e.type]&&this.ccStreams_[(e.type<<1)+this.activeCea608Channel_[e.type]].push(e)},i.prototype.setsChannel1Active=function(e){return 4096==(30720&e.ccData)},i.prototype.setsChannel2Active=function(e){return 6144==(30720&e.ccData)},i.prototype.setsTextOrXDSActive=function(e){return 256==(28928&e.ccData)||4138==(30974&e.ccData)||6186==(30974&e.ccData)};var a={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,304:174,305:176,306:189,307:191,308:8482,309:162,310:163,311:9834,312:224,313:160,314:232,315:226,316:234,317:238,318:244,319:251,544:193,545:201,546:211,547:218,548:220,549:252,550:8216,551:161,552:42,553:39,554:8212,555:169,556:8480,557:8226,558:8220,559:8221,560:192,561:194,562:199,563:200,564:202,565:203,566:235,567:206,568:207,569:239,570:212,571:217,572:249,573:219,574:171,575:187,800:195,801:227,802:205,803:204,804:236,805:210,806:242,807:213,808:245,809:123,810:125,811:92,812:94,813:95,814:124,815:126,816:196,817:228,818:214,819:246,820:223,821:165,822:164,823:9474,824:197,825:229,826:216,827:248,828:9484,829:9488,830:9492,831:9496},s=function(e){return null===e?"":(e=a[e]||e,String.fromCharCode(e))},l=[4352,4384,4608,4640,5376,5408,5632,5664,5888,5920,4096,4864,4896,5120,5152],c=function(){for(var e=[],t=15;t--;)e.push("");return e},u=function(e,t){u.prototype.init.call(this),this.field_=e||0,this.dataChannel_=t||0,this.name_="CC"+(1+(this.field_<<1|this.dataChannel_)),this.setConstants(),this.reset(),this.push=function(e){var t,o,n,r,i;if((t=32639&e.ccData)!==this.lastControlCode_){if(4096==(61440&t)?this.lastControlCode_=t:t!==this.PADDING_&&(this.lastControlCode_=null),n=t>>>8,r=255&t,t!==this.PADDING_)if(t===this.RESUME_CAPTION_LOADING_)this.mode_="popOn";else if(t===this.END_OF_CAPTION_)this.mode_="popOn",this.clearFormatting(e.pts),this.flushDisplayed(e.pts),o=this.displayed_,this.displayed_=this.nonDisplayed_,this.nonDisplayed_=o,this.startPts_=e.pts;else if(t===this.ROLL_UP_2_ROWS_)this.rollUpRows_=2,this.setRollUp(e.pts);else if(t===this.ROLL_UP_3_ROWS_)this.rollUpRows_=3,this.setRollUp(e.pts);else if(t===this.ROLL_UP_4_ROWS_)this.rollUpRows_=4,this.setRollUp(e.pts);else if(t===this.CARRIAGE_RETURN_)this.clearFormatting(e.pts),this.flushDisplayed(e.pts),this.shiftRowsUp_(),this.startPts_=e.pts;else if(t===this.BACKSPACE_)"popOn"===this.mode_?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1);else if(t===this.ERASE_DISPLAYED_MEMORY_)this.flushDisplayed(e.pts),this.displayed_=c();else if(t===this.ERASE_NON_DISPLAYED_MEMORY_)this.nonDisplayed_=c();else if(t===this.RESUME_DIRECT_CAPTIONING_)"paintOn"!==this.mode_&&(this.flushDisplayed(e.pts),this.displayed_=c()),this.mode_="paintOn",this.startPts_=e.pts;else if(this.isSpecialCharacter(n,r))i=s((n=(3&n)<<8)|r),this[this.mode_](e.pts,i),this.column_++;else if(this.isExtCharacter(n,r))"popOn"===this.mode_?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1),i=s((n=(3&n)<<8)|r),this[this.mode_](e.pts,i),this.column_++;else if(this.isMidRowCode(n,r))this.clearFormatting(e.pts),this[this.mode_](e.pts," "),this.column_++,14==(14&r)&&this.addFormatting(e.pts,["i"]),1==(1&r)&&this.addFormatting(e.pts,["u"]);else if(this.isOffsetControlCode(n,r))this.column_+=3&r;else if(this.isPAC(n,r)){var a=l.indexOf(7968&t);"rollUp"===this.mode_&&(a-this.rollUpRows_+1<0&&(a=this.rollUpRows_-1),this.setRollUp(e.pts,a)),a!==this.row_&&(this.clearFormatting(e.pts),this.row_=a),1&r&&-1===this.formatting_.indexOf("u")&&this.addFormatting(e.pts,["u"]),16==(16&t)&&(this.column_=4*((14&t)>>1)),this.isColorPAC(r)&&14==(14&r)&&this.addFormatting(e.pts,["i"])}else this.isNormalChar(n)&&(0===r&&(r=null),i=s(n),i+=s(r),this[this.mode_](e.pts,i),this.column_+=i.length)}else this.lastControlCode_=null}};u.prototype=new n,u.prototype.flushDisplayed=function(e){var t=this.displayed_.map(function(e){try{return e.trim()}catch(e){return console.error("Skipping malformed caption."),""}}).join("\n").replace(/^\n+|\n+$/g,"");t.length&&this.trigger("data",{startPts:this.startPts_,endPts:e,text:t,stream:this.name_})},u.prototype.reset=function(){this.mode_="popOn",this.topRow_=0,this.startPts_=0,this.displayed_=c(),this.nonDisplayed_=c(),this.lastControlCode_=null,this.column_=0,this.row_=14,this.rollUpRows_=2,this.formatting_=[]},u.prototype.setConstants=function(){0===this.dataChannel_?(this.BASE_=16,this.EXT_=17,this.CONTROL_=(20|this.field_)<<8,this.OFFSET_=23):1===this.dataChannel_&&(this.BASE_=24,this.EXT_=25,this.CONTROL_=(28|this.field_)<<8,this.OFFSET_=31),this.PADDING_=0,this.RESUME_CAPTION_LOADING_=32|this.CONTROL_,this.END_OF_CAPTION_=47|this.CONTROL_,this.ROLL_UP_2_ROWS_=37|this.CONTROL_,this.ROLL_UP_3_ROWS_=38|this.CONTROL_,this.ROLL_UP_4_ROWS_=39|this.CONTROL_,this.CARRIAGE_RETURN_=45|this.CONTROL_,this.RESUME_DIRECT_CAPTIONING_=41|this.CONTROL_,this.BACKSPACE_=33|this.CONTROL_,this.ERASE_DISPLAYED_MEMORY_=44|this.CONTROL_,this.ERASE_NON_DISPLAYED_MEMORY_=46|this.CONTROL_},u.prototype.isSpecialCharacter=function(e,t){return e===this.EXT_&&48<=t&&t<=63},u.prototype.isExtCharacter=function(e,t){return(e===this.EXT_+1||e===this.EXT_+2)&&32<=t&&t<=63},u.prototype.isMidRowCode=function(e,t){return e===this.EXT_&&32<=t&&t<=47},u.prototype.isOffsetControlCode=function(e,t){return e===this.OFFSET_&&33<=t&&t<=35},u.prototype.isPAC=function(e,t){return e>=this.BASE_&&e<this.BASE_+8&&64<=t&&t<=127},u.prototype.isColorPAC=function(e){return 64<=e&&e<=79||96<=e&&e<=127},u.prototype.isNormalChar=function(e){return 32<=e&&e<=127},u.prototype.setRollUp=function(e,t){if("rollUp"!==this.mode_&&(this.row_=14,this.mode_="rollUp",this.flushDisplayed(e),this.nonDisplayed_=c(),this.displayed_=c()),void 0!==t&&t!==this.row_)for(var o=0;o<this.rollUpRows_;o++)this.displayed_[t-o]=this.displayed_[this.row_-o],this.displayed_[this.row_-o]="";void 0===t&&(t=this.row_),this.topRow_=t-this.rollUpRows_+1},u.prototype.addFormatting=function(e,t){this.formatting_=this.formatting_.concat(t);var o=t.reduce(function(e,t){return e+"<"+t+">"},"");this[this.mode_](e,o)},u.prototype.clearFormatting=function(e){if(this.formatting_.length){var t=this.formatting_.reverse().reduce(function(e,t){return e+"</"+t+">"},"");this.formatting_=[],this[this.mode_](e,t)}},u.prototype.popOn=function(e,t){var o=this.nonDisplayed_[this.row_];o+=t,this.nonDisplayed_[this.row_]=o},u.prototype.rollUp=function(e,t){var o=this.displayed_[this.row_];o+=t,this.displayed_[this.row_]=o},u.prototype.shiftRowsUp_=function(){var e;for(e=0;e<this.topRow_;e++)this.displayed_[e]="";for(e=this.row_+1;e<15;e++)this.displayed_[e]="";for(e=this.topRow_;e<this.row_;e++)this.displayed_[e]=this.displayed_[e+1];this.displayed_[this.row_]=""},u.prototype.paintOn=function(e,t){var o=this.displayed_[this.row_];o+=t,this.displayed_[this.row_]=o},e.exports={CaptionStream:i,Cea608Stream:u}},1793:function(e,t,o){"use strict";var n=o(1217),r=function(e,t){var o=1;for(t<e&&(o=-1);4294967296<Math.abs(t-e);)e+=8589934592*o;return e},i=function(e){var t,o;i.prototype.init.call(this),this.type_=e||"shared",this.push=function(e){"shared"!==this.type_&&e.type!==this.type_||(void 0===o&&(o=e.dts),e.dts=r(e.dts,o),e.pts=r(e.pts,o),t=e.dts,this.trigger("data",e))},this.flush=function(){o=t,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.discontinuity=function(){t=o=void 0},this.reset=function(){this.discontinuity(),this.trigger("reset")}};i.prototype=new n,e.exports={TimestampRolloverStream:i,handleRollover:r}},1794:function(e,t,o){"use strict";var n=o(1218),r=function(e){var t=31&e[1];return t<<=8,t|=e[2]},s=function(e){return!!(64&e[1])},l=function(e){var t=0;return 1<(48&e[3])>>>4&&(t+=e[4]+1),t},a=function(e){switch(e){case 5:return"slice_layer_without_partitioning_rbsp_idr";case 6:return"sei_rbsp";case 7:return"seq_parameter_set_rbsp";case 8:return"pic_parameter_set_rbsp";case 9:return"access_unit_delimiter_rbsp";default:return null}};e.exports={parseType:function(e,t){var o=r(e);return 0===o?"pat":o===t?"pmt":t?"pes":null},parsePat:function(e){var t=s(e),o=4+l(e);return t&&(o+=e[o]+1),(31&e[o+10])<<8|e[o+11]},parsePmt:function(e){var t={},o=s(e),n=4+l(e);if(o&&(n+=e[n]+1),1&e[n+5]){var r;r=3+((15&e[n+1])<<8|e[n+2])-4;for(var i=12+((15&e[n+10])<<8|e[n+11]);i<r;){var a=n+i;t[(31&e[a+1])<<8|e[a+2]]=e[a],i+=5+((15&e[a+3])<<8|e[a+4])}return t}},parsePayloadUnitStartIndicator:s,parsePesType:function(e,t){switch(t[r(e)]){case n.H264_STREAM_TYPE:return"video";case n.ADTS_STREAM_TYPE:return"audio";case n.METADATA_STREAM_TYPE:return"timed-metadata";default:return null}},parsePesTime:function(e){if(!s(e))return null;var t=4+l(e);if(t>=e.byteLength)return null;var o,n=null;return 192&(o=e[t+7])&&((n={}).pts=(14&e[t+9])<<27|(255&e[t+10])<<20|(254&e[t+11])<<12|(255&e[t+12])<<5|(254&e[t+13])>>>3,n.pts*=4,n.pts+=(6&e[t+13])>>>1,n.dts=n.pts,64&o&&(n.dts=(14&e[t+14])<<27|(255&e[t+15])<<20|(254&e[t+16])<<12|(255&e[t+17])<<5|(254&e[t+18])>>>3,n.dts*=4,n.dts+=(6&e[t+18])>>>1)),n},videoPacketContainsKeyFrame:function(e){for(var t=4+l(e),o=e.subarray(t),n=0,r=0,i=!1;r<o.byteLength-3;r++)if(1===o[r+2]){n=r+5;break}for(;n<o.byteLength;)switch(o[n]){case 0:if(0!==o[n-1]){n+=2;break}if(0!==o[n-2]){n++;break}for(r+3!==n-2&&"slice_layer_without_partitioning_rbsp_idr"===a(31&o[r+3])&&(i=!0);1!==o[++n]&&n<o.length;);r=n-2,n+=3;break;case 1:if(0!==o[n-1]||0!==o[n-2]){n+=3;break}"slice_layer_without_partitioning_rbsp_idr"===a(31&o[r+3])&&(i=!0),r=n-2,n+=3;break;default:n+=3}return o=o.subarray(r),n-=r,r=0,o&&3<o.byteLength&&"slice_layer_without_partitioning_rbsp_idr"===a(31&o[r+3])&&(i=!0),i}}},1795:function(e,t,o){"use strict";var n=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],s=function(e){return e[0]<<21|e[1]<<14|e[2]<<7|e[3]};e.exports={isLikelyAacData:function(e){return e[0]==="I".charCodeAt(0)&&e[1]==="D".charCodeAt(0)&&e[2]==="3".charCodeAt(0)},parseId3TagSize:function(e,t){var o=e[t+6]<<21|e[t+7]<<14|e[t+8]<<7|e[t+9];return(16&e[t+5])>>4?20+o:10+o},parseAdtsSize:function(e,t){var o=(224&e[t+5])>>5,n=e[t+4]<<3;return 6144&e[t+3]|n|o},parseType:function(e,t){return e[t]==="I".charCodeAt(0)&&e[t+1]==="D".charCodeAt(0)&&e[t+2]==="3".charCodeAt(0)?"timed-metadata":!0&e[t]&&240==(240&e[t+1])?"audio":null},parseSampleRate:function(e){for(var t=0;t+5<e.length;){if(255===e[t]&&240==(246&e[t+1]))return n[(60&e[t+2])>>>2];t++}return null},parseAacTimestamp:function(e){var t,o,n;t=10,64&e[5]&&(t+=4,t+=s(e.subarray(10,14)));do{if((o=s(e.subarray(t+4,t+8)))<1)return null;if("PRIV"===String.fromCharCode(e[t],e[t+1],e[t+2],e[t+3])){n=e.subarray(t+10,t+o+10);for(var r=0;r<n.byteLength;r++)if(0===n[r]){if("com.apple.streaming.transportStreamTimestamp"!==unescape(function(e,t,o){var n,r="";for(n=t;n<o;n++)r+="%"+("00"+e[n].toString(16)).slice(-2);return r}(n,0,r)))break;var i=n.subarray(r+1),a=(1&i[3])<<30|i[4]<<22|i[5]<<14|i[6]<<6|i[7]>>>2;return a*=4,a+=3&i[7]}}t+=10,t+=o}while(t<e.byteLength);return null}}},1796:function(e,t){var o,n,r,i,a,s,l;o=function(e){return 9e4*e},n=function(e,t){return e*t},r=function(e){return e/9e4},i=function(e,t){return e/t},a=function(e,t){return o(i(e,t))},s=function(e,t){return n(r(e),t)},l=function(e,t,o){return r(o?e:e-t)},e.exports={ONE_SECOND_IN_TS:9e4,secondsToVideoTs:o,secondsToAudioTs:n,videoTsToSeconds:r,audioTsToSeconds:i,audioTsToVideoTs:a,videoTsToAudioTs:s,metadataTsToSeconds:l}},18:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=l;var n=r(o(0)),i=r(o(1)),a=r(o(15));function r(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(null==e)return{};var o,n,r=function(e,t){if(null==e)return{};var o,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)o=i[n],0<=t.indexOf(o)||(r[o]=e[o]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)o=i[n],0<=t.indexOf(o)||Object.prototype.propertyIsEnumerable.call(e,o)&&(r[o]=e[o])}return r}function l(e){var t=e.icon,o=e.className,n=s(e,["icon","className"]),r=a.default.assign({},n,{className:"fa fa-".concat(t," ").concat(o||"")});return i.default.createElement("i",r)}l.propTypes={icon:n.default.string.isRequired,className:n.default.string},e.exports=t.default},181:function(e,t,o){"use strict";var n=a(o(10)),r=a(o(15)),i=o(11);function a(e){return e&&e.__esModule?e:{default:e}}var s={api_base_url:"/v3/channels",all:function(r){n.default.ajax({url:this.api_base_url,type:"get",dataType:"json"}).done(function(e,t){r(null,e)}).fail(function(e,t,o){var n=new Error("status: "+t+"; error: "+o);r(n,null)})},create:function(e,r,t){n.default.ajax({url:this.api_base_url+(0,i.stringifyQueryParams)(t),type:"post",contentType:"application/json; charset=utf-8",data:JSON.stringify(e)}).done(function(e,t){r(null,e)}).fail(function(e,t,o){var n=new Error("status: "+t+"; error: "+o);r(n,void 0)})},delete:function(e,r){n.default.ajax({url:this.api_base_url+"/"+e+"/delete",type:"post",dataType:"json"}).done(function(e,t){r(null,!0)}).fail(function(e,t,o){var n=new Error("status: "+t+"; error: "+o);r(n,!1)})},deleteObject:function(e,r){n.default.ajax({url:this.api_base_url+"/"+e,type:"delete",dataType:"json"}).done(function(e,t){r(null,!0)}).fail(function(e,t,o){var n=new Error("status: "+t+"; error: "+o);r(n,!1)})},fetch:function(e,r){n.default.ajax({url:this.api_base_url+"/"+e,type:"get",dataType:"json"}).done(function(e,t,o){r(null,e,o)}).fail(function(e,t,o){var n=new Error("status: "+t+"; error: "+o);r(n,void 0,void 0,e)})},update:function(e,t,r){n.default.ajax({url:this.api_base_url+"/"+e,type:"post",contentType:"application/json; charset=utf-8",data:JSON.stringify(t)}).done(function(e,t){r(null,e)}).fail(function(e,t,o){var n=new Error("status: "+t+"; error: "+o);n.responseText=e.responseText,r(n,!1)})},copyAll:function(e,t,r){n.default.ajax({url:this.api_base_url+"/"+t+"?src="+e,type:"put"}).done(function(e,t){r(null,e)}).fail(function(e,t,o){var n=new Error("status: "+t+"; error: "+o);r(n,!1)})},put:function(e,t,o,r){n.default.ajax({url:this.api_base_url+"/"+e+"/"+o,type:"put",contentType:"application/json; charset=utf-8",data:t}).done(function(e,t){r(null,e)}).fail(function(e,t,o){var n=function(e,t,o){return new Error("httpStatusCode: ".concat(e.status,"; status: ").concat(t,"; error: ").concat(o))}(e,t,o);r(n,!1)})},patchAll:function(e,t,o,r){n.default.ajax({url:this.api_base_url+"/"+e+"/?"+t,type:"patch",contentType:"application/json; charset=utf-8",data:o}).done(function(e,t){r(null,e)}).fail(function(e,t,o){var n=new Error("status: "+t+"; error: "+o);r(n,!1)})}};e.exports={create:function(e){return r.default.assign({},s,{api_base_url:e})}}},1845:function(e,t,o){"use strict";o.r(t);var n=o(3),_=o.n(n),r=o(13),d=o.n(r),i=o(1234),p=o.n(i),a=o(12),h=o.n(a),s=o(850),u=o.n(s),l=o(851),c=o.n(l),g=o(852),f=o.n(g);
/*! @name m3u8-parser @version 4.4.0 @license Apache-2.0 */
function m(){return(m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e}).apply(this,arguments)}function y(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}var v=function(){function e(){this.listeners={}}var t=e.prototype;return t.on=function(e,t){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t)},t.off=function(e,t){if(!this.listeners[e])return!1;var o=this.listeners[e].indexOf(t);return this.listeners[e].splice(o,1),-1<o},t.trigger=function(e){var t,o,n,r=this.listeners[e];if(r)if(2===arguments.length)for(o=r.length,t=0;t<o;++t)r[t].call(this,arguments[1]);else for(n=Array.prototype.slice.call(arguments,1),o=r.length,t=0;t<o;++t)r[t].apply(this,n)},t.dispose=function(){this.listeners={}},t.pipe=function(t){this.on("data",function(e){t.push(e)})},e}(),b=function(t){function e(){var e;return(e=t.call(this)||this).buffer="",e}return y(e,t),e.prototype.push=function(e){var t;for(this.buffer+=e,t=this.buffer.indexOf("\n");-1<t;t=this.buffer.indexOf("\n"))this.trigger("data",this.buffer.substring(0,t)),this.buffer=this.buffer.substring(t+1)},e}(v),E=function(e){for(var t,o=e.split(new RegExp('(?:^|,)((?:[^=]*)=(?:"[^"]*"|[^,]*))')),n={},r=o.length;r--;)""!==o[r]&&((t=/([^=]*)=(.*)/.exec(o[r]).slice(1))[0]=t[0].replace(/^\s+|\s+$/g,""),t[1]=t[1].replace(/^\s+|\s+$/g,""),t[1]=t[1].replace(/^['"](.*)['"]$/g,"$1"),n[t[0]]=t[1]);return n},T=function(t){function e(){var e;return(e=t.call(this)||this).customParsers=[],e.tagMappers=[],e}y(e,t);var o=e.prototype;return o.push=function(n){var l,c,u=this;0!==(n=n.trim()).length&&("#"===n[0]?this.tagMappers.reduce(function(e,t){var o=t(n);return o===n?e:e.concat([o])},[n]).forEach(function(e){for(var t=0;t<u.customParsers.length;t++)if(u.customParsers[t].call(u,e))return;if(0===e.indexOf("#EXT"))if(e=e.replace("\r",""),l=/^#EXTM3U/.exec(e))u.trigger("data",{type:"tag",tagType:"m3u"});else{if(l=/^#EXTINF:?([0-9\.]*)?,?(.*)?$/.exec(e))return c={type:"tag",tagType:"inf"},l[1]&&(c.duration=parseFloat(l[1])),l[2]&&(c.title=l[2]),void u.trigger("data",c);if(l=/^#EXT-X-TARGETDURATION:?([0-9.]*)?/.exec(e))return c={type:"tag",tagType:"targetduration"},l[1]&&(c.duration=parseInt(l[1],10)),void u.trigger("data",c);if(l=/^#ZEN-TOTAL-DURATION:?([0-9.]*)?/.exec(e))return c={type:"tag",tagType:"totalduration"},l[1]&&(c.duration=parseInt(l[1],10)),void u.trigger("data",c);if(l=/^#EXT-X-VERSION:?([0-9.]*)?/.exec(e))return c={type:"tag",tagType:"version"},l[1]&&(c.version=parseInt(l[1],10)),void u.trigger("data",c);if(l=/^#EXT-X-MEDIA-SEQUENCE:?(\-?[0-9.]*)?/.exec(e))return c={type:"tag",tagType:"media-sequence"},l[1]&&(c.number=parseInt(l[1],10)),void u.trigger("data",c);if(l=/^#EXT-X-DISCONTINUITY-SEQUENCE:?(\-?[0-9.]*)?/.exec(e))return c={type:"tag",tagType:"discontinuity-sequence"},l[1]&&(c.number=parseInt(l[1],10)),void u.trigger("data",c);if(l=/^#EXT-X-PLAYLIST-TYPE:?(.*)?$/.exec(e))return c={type:"tag",tagType:"playlist-type"},l[1]&&(c.playlistType=l[1]),void u.trigger("data",c);if(l=/^#EXT-X-BYTERANGE:?([0-9.]*)?@?([0-9.]*)?/.exec(e))return c={type:"tag",tagType:"byterange"},l[1]&&(c.length=parseInt(l[1],10)),l[2]&&(c.offset=parseInt(l[2],10)),void u.trigger("data",c);if(l=/^#EXT-X-ALLOW-CACHE:?(YES|NO)?/.exec(e))return c={type:"tag",tagType:"allow-cache"},l[1]&&(c.allowed=!/NO/.test(l[1])),void u.trigger("data",c);if(l=/^#EXT-X-MAP:?(.*)$/.exec(e)){if(c={type:"tag",tagType:"map"},l[1]){var o=E(l[1]);if(o.URI&&(c.uri=o.URI),o.BYTERANGE){var n=o.BYTERANGE.split("@"),r=n[0],i=n[1];c.byterange={},r&&(c.byterange.length=parseInt(r,10)),i&&(c.byterange.offset=parseInt(i,10))}}u.trigger("data",c)}else if(l=/^#EXT-X-STREAM-INF:?(.*)$/.exec(e)){if(c={type:"tag",tagType:"stream-inf"},l[1]){if(c.attributes=E(l[1]),c.attributes.RESOLUTION){var a=c.attributes.RESOLUTION.split("x"),s={};a[0]&&(s.width=parseInt(a[0],10)),a[1]&&(s.height=parseInt(a[1],10)),c.attributes.RESOLUTION=s}c.attributes.BANDWIDTH&&(c.attributes.BANDWIDTH=parseInt(c.attributes.BANDWIDTH,10)),c.attributes["PROGRAM-ID"]&&(c.attributes["PROGRAM-ID"]=parseInt(c.attributes["PROGRAM-ID"],10))}u.trigger("data",c)}else{if(l=/^#EXT-X-MEDIA:?(.*)$/.exec(e))return c={type:"tag",tagType:"media"},l[1]&&(c.attributes=E(l[1])),void u.trigger("data",c);if(l=/^#EXT-X-ENDLIST/.exec(e))u.trigger("data",{type:"tag",tagType:"endlist"});else if(l=/^#EXT-X-DISCONTINUITY/.exec(e))u.trigger("data",{type:"tag",tagType:"discontinuity"});else{if(l=/^#EXT-X-PROGRAM-DATE-TIME:?(.*)$/.exec(e))return c={type:"tag",tagType:"program-date-time"},l[1]&&(c.dateTimeString=l[1],c.dateTimeObject=new Date(l[1])),void u.trigger("data",c);if(l=/^#EXT-X-KEY:?(.*)$/.exec(e))return c={type:"tag",tagType:"key"},l[1]&&(c.attributes=E(l[1]),c.attributes.IV&&("0x"===c.attributes.IV.substring(0,2).toLowerCase()&&(c.attributes.IV=c.attributes.IV.substring(2)),c.attributes.IV=c.attributes.IV.match(/.{8}/g),c.attributes.IV[0]=parseInt(c.attributes.IV[0],16),c.attributes.IV[1]=parseInt(c.attributes.IV[1],16),c.attributes.IV[2]=parseInt(c.attributes.IV[2],16),c.attributes.IV[3]=parseInt(c.attributes.IV[3],16),c.attributes.IV=new Uint32Array(c.attributes.IV))),void u.trigger("data",c);if(l=/^#EXT-X-START:?(.*)$/.exec(e))return c={type:"tag",tagType:"start"},l[1]&&(c.attributes=E(l[1]),c.attributes["TIME-OFFSET"]=parseFloat(c.attributes["TIME-OFFSET"]),c.attributes.PRECISE=/YES/.test(c.attributes.PRECISE)),void u.trigger("data",c);if(l=/^#EXT-X-CUE-OUT-CONT:?(.*)?$/.exec(e))return c={type:"tag",tagType:"cue-out-cont"},l[1]?c.data=l[1]:c.data="",void u.trigger("data",c);if(l=/^#EXT-X-CUE-OUT:?(.*)?$/.exec(e))return c={type:"tag",tagType:"cue-out"},l[1]?c.data=l[1]:c.data="",void u.trigger("data",c);if(l=/^#EXT-X-CUE-IN:?(.*)?$/.exec(e))return c={type:"tag",tagType:"cue-in"},l[1]?c.data=l[1]:c.data="",void u.trigger("data",c);u.trigger("data",{type:"tag",data:e.slice(4)})}}}else u.trigger("data",{type:"comment",text:e.slice(1)})}):this.trigger("data",{type:"uri",uri:n}))},o.addParser=function(e){var t=this,o=e.expression,n=e.customType,r=e.dataParser,i=e.segment;"function"!=typeof r&&(r=function(e){return e}),this.customParsers.push(function(e){if(o.exec(e))return t.trigger("data",{type:"custom",data:r(e),customType:n,segment:i}),!0})},o.addTagMapper=function(e){var t=e.expression,o=e.map;this.tagMappers.push(function(e){return t.test(e)?o(e):e})},e}(v);var S=function(t){function e(){var e;(e=t.call(this)||this).lineStream=new b,e.parseStream=new T,e.lineStream.pipe(e.parseStream);var r,i,a=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e),s=[],l={},c={AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},u=0;return e.manifest={allowCache:!0,discontinuityStarts:[],segments:[]},e.parseStream.on("data",function(t){var o,n;({tag:function(){({"allow-cache":function(){this.manifest.allowCache=t.allowed,"allowed"in t||(this.trigger("info",{message:"defaulting allowCache to YES"}),this.manifest.allowCache=!0)},byterange:function(){var e={};"length"in t&&((l.byterange=e).length=t.length,"offset"in t||(this.trigger("info",{message:"defaulting offset to zero"}),t.offset=0)),"offset"in t&&((l.byterange=e).offset=t.offset)},endlist:function(){this.manifest.endList=!0},inf:function(){"mediaSequence"in this.manifest||(this.manifest.mediaSequence=0,this.trigger("info",{message:"defaulting media sequence to zero"})),"discontinuitySequence"in this.manifest||(this.manifest.discontinuitySequence=0,this.trigger("info",{message:"defaulting discontinuity sequence to zero"})),0<t.duration&&(l.duration=t.duration),0===t.duration&&(l.duration=.01,this.trigger("info",{message:"updating zero segment duration to a small value"})),this.manifest.segments=s},key:function(){if(t.attributes)if("NONE"!==t.attributes.METHOD)if(t.attributes.URI){if("urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed"===t.attributes.KEYFORMAT){return-1===["SAMPLE-AES","SAMPLE-AES-CTR","SAMPLE-AES-CENC"].indexOf(t.attributes.METHOD)?void this.trigger("warn",{message:"invalid key method provided for Widevine"}):("SAMPLE-AES-CENC"===t.attributes.METHOD&&this.trigger("warn",{message:"SAMPLE-AES-CENC is deprecated, please use SAMPLE-AES-CTR instead"}),"data:text/plain;base64,"!==t.attributes.URI.substring(0,23)?void this.trigger("warn",{message:"invalid key URI provided for Widevine"}):t.attributes.KEYID&&"0x"===t.attributes.KEYID.substring(0,2)?void(this.manifest.contentProtection={"com.widevine.alpha":{attributes:{schemeIdUri:t.attributes.KEYFORMAT,keyId:t.attributes.KEYID.substring(2)},pssh:function(e){for(var t=_.a.atob(e||""),o=new Uint8Array(t.length),n=0;n<t.length;n++)o[n]=t.charCodeAt(n);return o}(t.attributes.URI.split(",")[1])}}):void this.trigger("warn",{message:"invalid key ID provided for Widevine"}))}t.attributes.METHOD||this.trigger("warn",{message:"defaulting key method to AES-128"}),i={method:t.attributes.METHOD||"AES-128",uri:t.attributes.URI},void 0!==t.attributes.IV&&(i.iv=t.attributes.IV)}else this.trigger("warn",{message:"ignoring key declaration without URI"});else i=null;else this.trigger("warn",{message:"ignoring key declaration without attribute list"})},"media-sequence":function(){isFinite(t.number)?this.manifest.mediaSequence=t.number:this.trigger("warn",{message:"ignoring invalid media sequence: "+t.number})},"discontinuity-sequence":function(){isFinite(t.number)?(this.manifest.discontinuitySequence=t.number,u=t.number):this.trigger("warn",{message:"ignoring invalid discontinuity sequence: "+t.number})},"playlist-type":function(){/VOD|EVENT/.test(t.playlistType)?this.manifest.playlistType=t.playlistType:this.trigger("warn",{message:"ignoring unknown playlist type: "+t.playlist})},map:function(){r={},t.uri&&(r.uri=t.uri),t.byterange&&(r.byterange=t.byterange)},"stream-inf":function(){this.manifest.playlists=s,this.manifest.mediaGroups=this.manifest.mediaGroups||c,t.attributes?(l.attributes||(l.attributes={}),m(l.attributes,t.attributes)):this.trigger("warn",{message:"ignoring empty stream-inf attributes"})},media:function(){if(this.manifest.mediaGroups=this.manifest.mediaGroups||c,t.attributes&&t.attributes.TYPE&&t.attributes["GROUP-ID"]&&t.attributes.NAME){var e=this.manifest.mediaGroups[t.attributes.TYPE];e[t.attributes["GROUP-ID"]]=e[t.attributes["GROUP-ID"]]||{},o=e[t.attributes["GROUP-ID"]],(n={default:/yes/i.test(t.attributes.DEFAULT)}).default?n.autoselect=!0:n.autoselect=/yes/i.test(t.attributes.AUTOSELECT),t.attributes.LANGUAGE&&(n.language=t.attributes.LANGUAGE),t.attributes.URI&&(n.uri=t.attributes.URI),t.attributes["INSTREAM-ID"]&&(n.instreamId=t.attributes["INSTREAM-ID"]),t.attributes.CHARACTERISTICS&&(n.characteristics=t.attributes.CHARACTERISTICS),t.attributes.FORCED&&(n.forced=/yes/i.test(t.attributes.FORCED)),o[t.attributes.NAME]=n}else this.trigger("warn",{message:"ignoring incomplete or missing media group"})},discontinuity:function(){u+=1,l.discontinuity=!0,this.manifest.discontinuityStarts.push(s.length)},"program-date-time":function(){void 0===this.manifest.dateTimeString&&(this.manifest.dateTimeString=t.dateTimeString,this.manifest.dateTimeObject=t.dateTimeObject),l.dateTimeString=t.dateTimeString,l.dateTimeObject=t.dateTimeObject},targetduration:function(){!isFinite(t.duration)||t.duration<0?this.trigger("warn",{message:"ignoring invalid target duration: "+t.duration}):this.manifest.targetDuration=t.duration},totalduration:function(){!isFinite(t.duration)||t.duration<0?this.trigger("warn",{message:"ignoring invalid total duration: "+t.duration}):this.manifest.totalDuration=t.duration},start:function(){t.attributes&&!isNaN(t.attributes["TIME-OFFSET"])?this.manifest.start={timeOffset:t.attributes["TIME-OFFSET"],precise:t.attributes.PRECISE}:this.trigger("warn",{message:"ignoring start declaration without appropriate attribute list"})},"cue-out":function(){l.cueOut=t.data},"cue-out-cont":function(){l.cueOutCont=t.data},"cue-in":function(){l.cueIn=t.data}}[t.tagType]||function(){}).call(a)},uri:function(){l.uri=t.uri,s.push(l),!this.manifest.targetDuration||"duration"in l||(this.trigger("warn",{message:"defaulting segment duration to the target duration"}),l.duration=this.manifest.targetDuration),i&&(l.key=i),l.timeline=u,r&&(l.map=r),l={}},comment:function(){},custom:function(){t.segment?(l.custom=l.custom||{},l.custom[t.customType]=t.data):(this.manifest.custom=this.manifest.custom||{},this.manifest.custom[t.customType]=t.data)}})[t.type].call(a)}),e}y(e,t);var o=e.prototype;return o.push=function(e){this.lineStream.push(e)},o.end=function(){this.lineStream.push("\n")},o.addParser=function(e){this.parseStream.addParser(e)},o.addTagMapper=function(e){this.parseStream.addTagMapper(e)},e}(v),k=o(703),C=o(849),A=o.n(C),O=o(332),w=o.n(O),B=o(1235),I=o.n(B),R=o(1236),N=o.n(R);var P=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},L=function(){function n(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,o){return t&&n(e.prototype,t),o&&n(e,o),e}}(),x=null,D=function(){function u(e){P(this,u),x||(x=function(){var e=[[[],[],[],[],[]],[[],[],[],[],[]]],t=e[0],o=e[1],n=t[4],r=o[4],i=void 0,a=void 0,s=void 0,l=[],c=[],u=void 0,d=void 0,p=void 0,h=void 0,g=void 0;for(i=0;i<256;i++)c[(l[i]=i<<1^283*(i>>7))^i]=i;for(a=s=0;!n[a];a^=u||1,s=c[s]||1)for(p=(p=s^s<<1^s<<2^s<<3^s<<4)>>8^255&p^99,g=16843009*l[d=l[u=l[r[n[a]=p]=a]]]^65537*d^257*u^16843008*a,h=257*l[p]^16843008*p,i=0;i<4;i++)t[i][a]=h=h<<24^h>>>8,o[i][p]=g=g<<24^g>>>8;for(i=0;i<5;i++)t[i]=t[i].slice(0),o[i]=o[i].slice(0);return e}()),this._tables=[[x[0][0].slice(),x[0][1].slice(),x[0][2].slice(),x[0][3].slice(),x[0][4].slice()],[x[1][0].slice(),x[1][1].slice(),x[1][2].slice(),x[1][3].slice(),x[1][4].slice()]];var t=void 0,o=void 0,n=void 0,r=void 0,i=void 0,a=this._tables[0][4],s=this._tables[1],l=e.length,c=1;if(4!==l&&6!==l&&8!==l)throw new Error("Invalid aes key size");for(r=e.slice(0),i=[],this._key=[r,i],t=l;t<4*l+28;t++)n=r[t-1],(t%l==0||8===l&&t%l==4)&&(n=a[n>>>24]<<24^a[n>>16&255]<<16^a[n>>8&255]<<8^a[255&n],t%l==0&&(n=n<<8^n>>>24^c<<24,c=c<<1^283*(c>>7))),r[t]=r[t-l]^n;for(o=0;t;o++,t--)n=r[3&o?t:t-4],i[o]=t<=4||o<4?n:s[0][a[n>>>24]]^s[1][a[n>>16&255]]^s[2][a[n>>8&255]]^s[3][a[255&n]]}return u.prototype.decrypt=function(e,t,o,n,r,i){var a=this._key[1],s=e^a[0],l=n^a[1],c=o^a[2],u=t^a[3],d=void 0,p=void 0,h=void 0,g=a.length/4-2,f=void 0,m=4,y=this._tables[1],_=y[0],v=y[1],b=y[2],E=y[3],T=y[4];for(f=0;f<g;f++)d=_[s>>>24]^v[l>>16&255]^b[c>>8&255]^E[255&u]^a[m],p=_[l>>>24]^v[c>>16&255]^b[u>>8&255]^E[255&s]^a[m+1],h=_[c>>>24]^v[u>>16&255]^b[s>>8&255]^E[255&l]^a[m+2],u=_[u>>>24]^v[s>>16&255]^b[l>>8&255]^E[255&c]^a[m+3],m+=4,s=d,l=p,c=h;for(f=0;f<4;f++)r[(3&-f)+i]=T[s>>>24]<<24^T[l>>16&255]<<16^T[c>>8&255]<<8^T[255&u]^a[m++],d=s,s=l,l=c,c=u,u=d},u}(),M=function(){function e(){P(this,e),this.listeners={}}return e.prototype.on=function(e,t){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t)},e.prototype.off=function(e,t){if(!this.listeners[e])return!1;var o=this.listeners[e].indexOf(t);return this.listeners[e].splice(o,1),-1<o},e.prototype.trigger=function(e){var t=this.listeners[e];if(t)if(2===arguments.length)for(var o=t.length,n=0;n<o;++n)t[n].call(this,arguments[1]);else for(var r=Array.prototype.slice.call(arguments,1),i=t.length,a=0;a<i;++a)t[a].apply(this,r)},e.prototype.dispose=function(){this.listeners={}},e.prototype.pipe=function(t){this.on("data",function(e){t.push(e)})},e}(),U=function(t){function o(){P(this,o);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,t.call(this,M));return e.jobs=[],e.delay=1,e.timeout_=null,e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(o,t),o.prototype.processJob_=function(){this.jobs.shift()(),this.jobs.length?this.timeout_=setTimeout(this.processJob_.bind(this),this.delay):this.timeout_=null},o.prototype.push=function(e){this.jobs.push(e),this.timeout_||(this.timeout_=setTimeout(this.processJob_.bind(this),this.delay))},o}(M),F=function(e){return e<<24|(65280&e)<<8|(16711680&e)>>8|e>>>24},H=function(e,t,o){var n=new Int32Array(e.buffer,e.byteOffset,e.byteLength>>2),r=new D(Array.prototype.slice.call(t)),i=new Uint8Array(e.byteLength),a=new Int32Array(i.buffer),s=void 0,l=void 0,c=void 0,u=void 0,d=void 0,p=void 0,h=void 0,g=void 0,f=void 0;for(s=o[0],l=o[1],c=o[2],u=o[3],f=0;f<n.length;f+=4)d=F(n[f]),p=F(n[f+1]),h=F(n[f+2]),g=F(n[f+3]),r.decrypt(d,p,h,g,a,f),a[f]=F(a[f]^s),a[f+1]=F(a[f+1]^l),a[f+2]=F(a[f+2]^c),a[f+3]=F(a[f+3]^u),s=d,l=p,c=h,u=g;return i},j=function(){function l(e,t,o,n){P(this,l);var r=l.STEP,i=new Int32Array(e.buffer),a=new Uint8Array(e.byteLength),s=0;for(this.asyncStream_=new U,this.asyncStream_.push(this.decryptChunk_(i.subarray(s,s+r),t,o,a)),s=r;s<i.length;s+=r)o=new Uint32Array([F(i[s-4]),F(i[s-3]),F(i[s-2]),F(i[s-1])]),this.asyncStream_.push(this.decryptChunk_(i.subarray(s,s+r),t,o,a));this.asyncStream_.push(function(){n(null,function(e){return e.subarray(0,e.byteLength-e[e.byteLength-1])}(a))})}return l.prototype.decryptChunk_=function(t,o,n,r){return function(){var e=H(t,o,n);r.set(e,t.byteOffset)}},L(l,null,[{key:"STEP",get:function(){return 32e3}}]),l}(),G=[],V=function(a,s){return function(e,t,o){var n=s.levels[t],r=new RegExp("^("+n+")$");if("log"!==e&&o.unshift(e.toUpperCase()+":"),o.unshift(a+":"),G&&G.push([].concat(o)),_.a.console){var i=_.a.console[e];i||"debug"!==e||(i=_.a.console.info||_.a.console.log),i&&n&&r.test(e)&&i[Array.isArray(o)?"apply":"call"](_.a.console,o)}}};var W=function t(o){var n,r="info",i=function(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];n("log",r,t)};return n=V(o,i),i.createLogger=function(e){return t(o+": "+e)},i.levels={all:"debug|log|warn|error",off:"",debug:"debug|log|warn|error",info:"log|warn|error",warn:"warn|error",error:"error",DEFAULT:r},i.level=function(e){if("string"==typeof e){if(!i.levels.hasOwnProperty(e))throw new Error('"'+e+'" in not a valid log level');r=e}return r},(i.history=function(){return G?[].concat(G):[]}).filter=function(t){return(G||[]).filter(function(e){return new RegExp(".*"+t+".*").test(e[0])})},i.history.clear=function(){G&&(G.length=0)},i.history.disable=function(){null!==G&&(G.length=0,G=null)},i.history.enable=function(){null===G&&(G=[])},i.error=function(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];return n("error",r,t)},i.warn=function(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];return n("warn",r,t)},i.debug=function(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];return n("debug",r,t)},i}("VIDEOJS"),z=W.createLogger,q=Object.prototype.toString,K=function(e){return J(e)?Object.keys(e):[]};function Y(t,o){K(t).forEach(function(e){return o(t[e],e)})}function X(o){for(var e=arguments.length,t=new Array(1<e?e-1:0),n=1;n<e;n++)t[n-1]=arguments[n];return Object.assign?Object.assign.apply(Object,[o].concat(t)):(t.forEach(function(e){e&&Y(e,function(e,t){o[t]=e})}),o)}function J(e){return!!e&&"object"==typeof e}function Q(e){return J(e)&&"[object Object]"===q.call(e)&&e.constructor===Object}function $(e,t){if(!e||!t)return"";if("function"!=typeof _.a.getComputedStyle)return"";var o=_.a.getComputedStyle(e);return o?o.getPropertyValue(t)||o[t]:""}function Z(e){return"string"==typeof e&&/\S/.test(e)}function ee(e){if(/\s/.test(e))throw new Error("class has illegal whitespace characters")}function te(){return d.a===_.a.document}function oe(e){return J(e)&&1===e.nodeType}function ne(){try{return _.a.parent!==_.a.self}catch(e){return!0}}function re(n){return function(e,t){if(!Z(e))return d.a[n](null);Z(t)&&(t=d.a.querySelector(t));var o=oe(t)?t:d.a;return o[n]&&o[n](e)}}function ie(e,o,t,n){void 0===e&&(e="div"),void 0===o&&(o={}),void 0===t&&(t={});var r=d.a.createElement(e);return Object.getOwnPropertyNames(o).forEach(function(e){var t=o[e];-1!==e.indexOf("aria-")||"role"===e||"type"===e?(W.warn("Setting attributes in the second argument of createEl()\nhas been deprecated. Use the third argument instead.\ncreateEl(type, properties, attributes). Attempting to set "+e+" to "+t+"."),r.setAttribute(e,t)):"textContent"===e?ae(r,t):r[e]=t}),Object.getOwnPropertyNames(t).forEach(function(e){r.setAttribute(e,t[e])}),n&&Ce(r,n),r}function ae(e,t){return void 0===e.textContent?e.innerText=t:e.textContent=t,e}function se(e,t){t.firstChild?t.insertBefore(e,t.firstChild):t.appendChild(e)}function le(e,t){return ee(t),e.classList?e.classList.contains(t):function(e){return new RegExp("(^|\\s)"+e+"($|\\s)")}(t).test(e.className)}function ce(e,t){return e.classList?e.classList.add(t):le(e,t)||(e.className=(e.className+" "+t).trim()),e}function ue(e,t){return e.classList?e.classList.remove(t):(ee(t),e.className=e.className.split(/\s+/).filter(function(e){return e!==t}).join(" ")),e}function de(e,t,o){var n=le(e,t);if("function"==typeof o&&(o=o(e,t)),"boolean"!=typeof o&&(o=!n),o!==n)return o?ce(e,t):ue(e,t),e}function pe(o,n){Object.getOwnPropertyNames(n).forEach(function(e){var t=n[e];null==t||!1===t?o.removeAttribute(e):o.setAttribute(e,!0===t?"":t)})}function he(e){var t={},o=",autoplay,controls,playsinline,loop,muted,default,defaultMuted,";if(e&&e.attributes&&0<e.attributes.length)for(var n=e.attributes,r=n.length-1;0<=r;r--){var i=n[r].name,a=n[r].value;"boolean"!=typeof e[i]&&-1===o.indexOf(","+i+",")||(a=null!==a),t[i]=a}return t}function ge(e,t){return e.getAttribute(t)}function fe(e,t,o){e.setAttribute(t,o)}function me(e,t){e.removeAttribute(t)}function ye(){d.a.body.focus(),d.a.onselectstart=function(){return!1}}function _e(){d.a.onselectstart=function(){return!0}}function ve(e){if(e&&e.getBoundingClientRect&&e.parentNode){var t=e.getBoundingClientRect(),o={};return["bottom","height","left","right","top","width"].forEach(function(e){void 0!==t[e]&&(o[e]=t[e])}),o.height||(o.height=parseFloat($(e,"height"))),o.width||(o.width=parseFloat($(e,"width"))),o}}function be(e){var t;if(e.getBoundingClientRect&&e.parentNode&&(t=e.getBoundingClientRect()),!t)return{left:0,top:0};var o=d.a.documentElement,n=d.a.body,r=o.clientLeft||n.clientLeft||0,i=_.a.pageXOffset||n.scrollLeft,a=t.left+i-r,s=o.clientTop||n.clientTop||0,l=_.a.pageYOffset||n.scrollTop,c=t.top+l-s;return{left:Math.round(a),top:Math.round(c)}}function Ee(e,t){var o={},n=be(e),r=e.offsetWidth,i=e.offsetHeight,a=n.top,s=n.left,l=t.pageY,c=t.pageX;return t.changedTouches&&(c=t.changedTouches[0].pageX,l=t.changedTouches[0].pageY),o.y=Math.max(0,Math.min(1,(a-l+i)/i)),o.x=Math.max(0,Math.min(1,(c-s)/r)),o}function Te(e){return J(e)&&3===e.nodeType}function Se(e){for(;e.firstChild;)e.removeChild(e.firstChild);return e}function ke(e){return"function"==typeof e&&(e=e()),(Array.isArray(e)?e:[e]).map(function(e){return"function"==typeof e&&(e=e()),oe(e)||Te(e)?e:"string"==typeof e&&/\S/.test(e)?d.a.createTextNode(e):void 0}).filter(function(e){return e})}function Ce(t,e){return ke(e).forEach(function(e){return t.appendChild(e)}),t}function Ae(e,t){return Ce(Se(e),t)}function Oe(e){return void 0===e.button&&void 0===e.buttons||(0===e.button&&void 0===e.buttons||("mouseup"===e.type&&0===e.button&&0===e.buttons||0===e.button&&1===e.buttons))}var we,Be=re("querySelector"),Ie=re("querySelectorAll"),Re=Object.freeze({isReal:te,isEl:oe,isInFrame:ne,createEl:ie,textContent:ae,prependTo:se,hasClass:le,addClass:ce,removeClass:ue,toggleClass:de,setAttributes:pe,getAttributes:he,getAttribute:ge,setAttribute:fe,removeAttribute:me,blockTextSelection:ye,unblockTextSelection:_e,getBoundingClientRect:ve,findPosition:be,getPointerPosition:Ee,isTextNode:Te,emptyEl:Se,normalizeContent:ke,appendContent:Ce,insertContent:Ae,isSingleLeftClick:Oe,$:Be,$$:Ie}),Ne=!1,Pe=function(){if(te()&&!1!==we.options.autoSetup){var e=Array.prototype.slice.call(d.a.getElementsByTagName("video")),t=Array.prototype.slice.call(d.a.getElementsByTagName("audio")),o=Array.prototype.slice.call(d.a.getElementsByTagName("video-js")),n=e.concat(t,o);if(n&&0<n.length)for(var r=0,i=n.length;r<i;r++){var a=n[r];if(!a||!a.getAttribute){Le(1);break}void 0===a.player&&null!==a.getAttribute("data-setup")&&we(a)}else Ne||Le(1)}};function Le(e,t){t&&(we=t),_.a.setTimeout(Pe,e)}function xe(){Ne=!0,_.a.removeEventListener("load",xe)}te()&&("complete"===d.a.readyState?xe():_.a.addEventListener("load",xe));var De,Me=function(e){var t=d.a.createElement("style");return t.className=e,t},Ue=function(e,t){e.styleSheet?e.styleSheet.cssText=t:e.textContent=t},Fe=3;function He(){return Fe++}_.a.WeakMap||(De=function(){function e(){this.vdata="vdata"+Math.floor(_.a.performance&&_.a.performance.now()||Date.now()),this.data={}}var t=e.prototype;return t.set=function(e,t){var o=e[this.vdata]||He();return e[this.vdata]||(e[this.vdata]=o),this.data[o]=t,this},t.get=function(e){var t=e[this.vdata];if(t)return this.data[t];W("We have no data for this element",e)},t.has=function(e){return e[this.vdata]in this.data},t.delete=function(e){var t=e[this.vdata];t&&(delete this.data[t],delete e[this.vdata])},e}());var je=_.a.WeakMap?new WeakMap:new De;function Ge(e,t){if(je.has(e)){var o=je.get(e);0===o.handlers[t].length&&(delete o.handlers[t],e.removeEventListener?e.removeEventListener(t,o.dispatcher,!1):e.detachEvent&&e.detachEvent("on"+t,o.dispatcher)),Object.getOwnPropertyNames(o.handlers).length<=0&&(delete o.handlers,delete o.dispatcher,delete o.disabled),0===Object.getOwnPropertyNames(o).length&&je.delete(e)}}function Ve(t,o,e,n){e.forEach(function(e){t(o,e,n)})}function We(e){function t(){return!0}function o(){return!1}if(!e||!e.isPropagationStopped){var n=e||_.a.event;for(var r in e={},n)"layerX"!==r&&"layerY"!==r&&"keyLocation"!==r&&"webkitMovementX"!==r&&"webkitMovementY"!==r&&("returnValue"===r&&n.preventDefault||(e[r]=n[r]));if(e.target||(e.target=e.srcElement||d.a),e.relatedTarget||(e.relatedTarget=e.fromElement===e.target?e.toElement:e.fromElement),e.preventDefault=function(){n.preventDefault&&n.preventDefault(),e.returnValue=!1,n.returnValue=!1,e.defaultPrevented=!0},e.defaultPrevented=!1,e.stopPropagation=function(){n.stopPropagation&&n.stopPropagation(),e.cancelBubble=!0,n.cancelBubble=!0,e.isPropagationStopped=t},e.isPropagationStopped=o,e.stopImmediatePropagation=function(){n.stopImmediatePropagation&&n.stopImmediatePropagation(),e.isImmediatePropagationStopped=t,e.stopPropagation()},e.isImmediatePropagationStopped=o,null!==e.clientX&&void 0!==e.clientX){var i=d.a.documentElement,a=d.a.body;e.pageX=e.clientX+(i&&i.scrollLeft||a&&a.scrollLeft||0)-(i&&i.clientLeft||a&&a.clientLeft||0),e.pageY=e.clientY+(i&&i.scrollTop||a&&a.scrollTop||0)-(i&&i.clientTop||a&&a.clientTop||0)}e.which=e.charCode||e.keyCode,null!==e.button&&void 0!==e.button&&(e.button=1&e.button?0:4&e.button?1:2&e.button?2:0)}return e}var ze=!1;!function(){try{var e=Object.defineProperty({},"passive",{get:function(){ze=!0}});_.a.addEventListener("test",null,e),_.a.removeEventListener("test",null,e)}catch(e){}}();var qe=["touchstart","touchmove"];function Ke(a,e,t){if(Array.isArray(e))return Ve(Ke,a,e,t);je.has(a)||je.set(a,{});var s=je.get(a);if(s.handlers||(s.handlers={}),s.handlers[e]||(s.handlers[e]=[]),t.guid||(t.guid=He()),s.handlers[e].push(t),s.dispatcher||(s.disabled=!1,s.dispatcher=function(e,t){if(!s.disabled){e=We(e);var o=s.handlers[e.type];if(o)for(var n=o.slice(0),r=0,i=n.length;r<i&&!e.isImmediatePropagationStopped();r++)try{n[r].call(a,e,t)}catch(e){W.error(e)}}}),1===s.handlers[e].length)if(a.addEventListener){var o=!1;ze&&-1<qe.indexOf(e)&&(o={passive:!0}),a.addEventListener(e,s.dispatcher,o)}else a.attachEvent&&a.attachEvent("on"+e,s.dispatcher)}function Ye(e,t,o){if(je.has(e)){var n=je.get(e);if(n.handlers){if(Array.isArray(t))return Ve(Ye,e,t,o);var r=function(e,t){n.handlers[t]=[],Ge(e,t)};if(void 0!==t){var i=n.handlers[t];if(i)if(o){if(o.guid)for(var a=0;a<i.length;a++)i[a].guid===o.guid&&i.splice(a--,1);Ge(e,t)}else r(e,t)}else for(var s in n.handlers)Object.prototype.hasOwnProperty.call(n.handlers||{},s)&&r(e,s)}}}function Xe(e,t,o){var n=je.has(e)?je.get(e):{},r=e.parentNode||e.ownerDocument;if("string"==typeof t?t={type:t,target:e}:t.target||(t.target=e),t=We(t),n.dispatcher&&n.dispatcher.call(e,t,o),r&&!t.isPropagationStopped()&&!0===t.bubbles)Xe.call(null,r,t,o);else if(!r&&!t.defaultPrevented&&t.target&&t.target[t.type]){je.has(t.target)||je.set(t.target,{});var i=je.get(t.target);t.target[t.type]&&(i.disabled=!0,"function"==typeof t.target[t.type]&&t.target[t.type](),i.disabled=!1)}return!t.defaultPrevented}function Je(t,o,n){if(Array.isArray(o))return Ve(Je,t,o,n);var e=function e(){Ye(t,o,e),n.apply(this,arguments)};e.guid=n.guid=n.guid||He(),Ke(t,o,e)}function Qe(t,o,n){var e=function e(){Ye(t,o,e),n.apply(this,arguments)};e.guid=n.guid=n.guid||He(),Ke(t,o,e)}var $e,Ze=Object.freeze({fixEvent:We,on:Ke,off:Ye,trigger:Xe,one:Je,any:Qe}),et=function(e,t,o){t.guid||(t.guid=He());var n=t.bind(e);return n.guid=o?o+"_"+t.guid:t.guid,n},tt=function(t,o){var n=_.a.performance.now();return function(){var e=_.a.performance.now();o<=e-n&&(t.apply(void 0,arguments),n=e)}},ot=function(){};ot.prototype.allowedEvents_={},ot.prototype.addEventListener=ot.prototype.on=function(e,t){var o=this.addEventListener;this.addEventListener=function(){},Ke(this,e,t),this.addEventListener=o},ot.prototype.removeEventListener=ot.prototype.off=function(e,t){Ye(this,e,t)},ot.prototype.one=function(e,t){var o=this.addEventListener;this.addEventListener=function(){},Je(this,e,t),this.addEventListener=o},ot.prototype.any=function(e,t){var o=this.addEventListener;this.addEventListener=function(){},Qe(this,e,t),this.addEventListener=o},ot.prototype.dispatchEvent=ot.prototype.trigger=function(e){var t=e.type||e;"string"==typeof e&&(e={type:t}),e=We(e),this.allowedEvents_[t]&&this["on"+t]&&this["on"+t](e),Xe(this,e)},ot.prototype.queueTrigger=function(e){var t=this;$e||($e=new Map);var o=e.type||e,n=$e.get(this);n||(n=new Map,$e.set(this,n));var r=n.get(o);n.delete(o),_.a.clearTimeout(r);var i=_.a.setTimeout(function(){0===n.size&&(n=null,$e.delete(t)),t.trigger(e)},0);n.set(o,i)};var nt=function(t){return t instanceof ot||!!t.eventBusEl_&&["on","one","off","trigger"].every(function(e){return"function"==typeof t[e]})},rt=function(e){return"string"==typeof e&&/\S/.test(e)||Array.isArray(e)&&!!e.length},it=function(e){if(!e.nodeName&&!nt(e))throw new Error("Invalid target; must be a DOM node or evented object.")},at=function(e){if(!rt(e))throw new Error("Invalid event type; must be a non-empty string or array.")},st=function(e){if("function"!=typeof e)throw new Error("Invalid listener; must be a function.")},lt=function(e,t){var o,n,r,i=t.length<3||t[0]===e||t[0]===e.eventBusEl_;return r=i?(o=e.eventBusEl_,3<=t.length&&t.shift(),n=t[0],t[1]):(o=t[0],n=t[1],t[2]),it(o),at(n),st(r),{isTargetingSelf:i,target:o,type:n,listener:r=et(e,r)}},ct=function(e,t,o,n){it(e),e.nodeName?Ze[t](e,o,n):e[t](o,n)},ut={on:function(){for(var e=this,t=arguments.length,o=new Array(t),n=0;n<t;n++)o[n]=arguments[n];var r=lt(this,o),i=r.isTargetingSelf,a=r.target,s=r.type,l=r.listener;if(ct(a,"on",s,l),!i){var c=function(){return e.off(a,s,l)};c.guid=l.guid;var u=function(){return e.off("dispose",c)};u.guid=l.guid,ct(this,"on","dispose",c),ct(a,"on","dispose",u)}},one:function(){for(var r=this,e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];var n=lt(this,t),i=n.isTargetingSelf,a=n.target,s=n.type,l=n.listener;if(i)ct(a,"one",s,l);else{var c=function e(){r.off(a,s,e);for(var t=arguments.length,o=new Array(t),n=0;n<t;n++)o[n]=arguments[n];l.apply(null,o)};c.guid=l.guid,ct(a,"one",s,c)}},any:function(){for(var r=this,e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];var n=lt(this,t),i=n.isTargetingSelf,a=n.target,s=n.type,l=n.listener;if(i)ct(a,"any",s,l);else{var c=function e(){r.off(a,s,e);for(var t=arguments.length,o=new Array(t),n=0;n<t;n++)o[n]=arguments[n];l.apply(null,o)};c.guid=l.guid,ct(a,"any",s,c)}},off:function(e,t,o){if(!e||rt(e))Ye(this.eventBusEl_,e,t);else{var n=e,r=t;it(n),at(r),st(o),o=et(this,o),this.off("dispose",o),n.nodeName?(Ye(n,r,o),Ye(n,"dispose",o)):nt(n)&&(n.off(r,o),n.off("dispose",o))}},trigger:function(e,t){return Xe(this.eventBusEl_,e,t)}};function dt(e,t){void 0===t&&(t={});var o=t.eventBusKey;if(o){if(!e[o].nodeName)throw new Error('The eventBusKey "'+o+'" does not refer to an element.');e.eventBusEl_=e[o]}else e.eventBusEl_=ie("span",{className:"vjs-event-bus"});return X(e,ut),e.eventedCallbacks&&e.eventedCallbacks.forEach(function(e){e()}),e.on("dispose",function(){e.off(),_.a.setTimeout(function(){e.eventBusEl_=null},0)}),e}var pt={state:{},setState:function(e){var o,n=this;return"function"==typeof e&&(e=e()),Y(e,function(e,t){n.state[t]!==e&&((o=o||{})[t]={from:n.state[t],to:e}),n.state[t]=e}),o&&nt(this)&&this.trigger({changes:o,type:"statechanged"}),o}};function ht(e,t){return X(e,pt),e.state=X({},e.state,t),"function"==typeof e.handleStateChanged&&nt(e)&&e.on("statechanged",e.handleStateChanged),e}var gt=function(e){return"string"!=typeof e?e:e.replace(/./,function(e){return e.toLowerCase()})},ft=function(e){return"string"!=typeof e?e:e.replace(/./,function(e){return e.toUpperCase()})};function mt(){for(var o={},e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.forEach(function(e){e&&Y(e,function(e,t){Q(e)?(Q(o[t])||(o[t]={}),o[t]=mt(o[t],e)):o[t]=e})}),o}var yt=function(){function c(e,t,o){if(!e&&this.play?this.player_=e=this:this.player_=e,this.parentComponent_=null,this.options_=mt({},this.options_),t=this.options_=mt(this.options_,t),this.id_=t.id||t.el&&t.el.id,!this.id_){var n=e&&e.id&&e.id()||"no_player";this.id_=n+"_component_"+He()}var r;this.name_=t.name||null,t.el?this.el_=t.el:!1!==t.createEl&&(this.el_=this.createEl()),!1!==t.evented&&dt(this,{eventBusKey:this.el_?"el_":null}),ht(this,this.constructor.defaultState),this.children_=[],this.childIndex_={},this.childNameIndex_={},_.a.Set||(r=function(){function e(){this.set_={}}var t=e.prototype;return t.has=function(e){return e in this.set_},t.delete=function(e){var t=this.has(e);return delete this.set_[e],t},t.add=function(e){return this.set_[e]=1,this},t.forEach=function(e,t){for(var o in this.set_)e.call(t,o,o,this)},e}()),this.setTimeoutIds_=_.a.Set?new Set:new r,this.setIntervalIds_=_.a.Set?new Set:new r,this.rafIds_=_.a.Set?new Set:new r,(this.clearingTimersOnDispose_=!1)!==t.initChildren&&this.initChildren(),this.ready(o),!1!==t.reportTouchActivity&&this.enableTouchActivity()}var e=c.prototype;return e.dispose=function(){if(this.trigger({type:"dispose",bubbles:!1}),this.children_)for(var e=this.children_.length-1;0<=e;e--)this.children_[e].dispose&&this.children_[e].dispose();this.children_=null,this.childIndex_=null,this.childNameIndex_=null,this.parentComponent_=null,this.el_&&(this.el_.parentNode&&this.el_.parentNode.removeChild(this.el_),je.has(this.el_)&&je.delete(this.el_),this.el_=null),this.player_=null},e.player=function(){return this.player_},e.options=function(e){return e&&(this.options_=mt(this.options_,e)),this.options_},e.el=function(){return this.el_},e.createEl=function(e,t,o){return ie(e,t,o)},e.localize=function(e,r,t){void 0===t&&(t=e);var o=this.player_.language&&this.player_.language(),n=this.player_.languages&&this.player_.languages(),i=n&&n[o],a=o&&o.split("-")[0],s=n&&n[a],l=t;return i&&i[e]?l=i[e]:s&&s[e]&&(l=s[e]),r&&(l=l.replace(/\{(\d+)\}/g,function(e,t){var o=r[t-1],n=o;return void 0===o&&(n=e),n})),l},e.contentEl=function(){return this.contentEl_||this.el_},e.id=function(){return this.id_},e.name=function(){return this.name_},e.children=function(){return this.children_},e.getChildById=function(e){return this.childIndex_[e]},e.getChild=function(e){if(e)return this.childNameIndex_[e]},e.addChild=function(e,t,o){var n,r;if(void 0===t&&(t={}),void 0===o&&(o=this.children_.length),"string"==typeof e){r=ft(e);var i=t.componentClass||r;t.name=r;var a=c.getComponent(i);if(!a)throw new Error("Component "+i+" does not exist");if("function"!=typeof a)return null;n=new a(this.player_||this,t)}else n=e;if(n.parentComponent_&&n.parentComponent_.removeChild(n),this.children_.splice(o,0,n),n.parentComponent_=this,"function"==typeof n.id&&(this.childIndex_[n.id()]=n),(r=r||n.name&&ft(n.name()))&&(this.childNameIndex_[r]=n,this.childNameIndex_[gt(r)]=n),"function"==typeof n.el&&n.el()){var s=this.contentEl().children[o]||null;this.contentEl().insertBefore(n.el(),s)}return n},e.removeChild=function(e){if("string"==typeof e&&(e=this.getChild(e)),e&&this.children_){for(var t=!1,o=this.children_.length-1;0<=o;o--)if(this.children_[o]===e){t=!0,this.children_.splice(o,1);break}if(t){e.parentComponent_=null,this.childIndex_[e.id()]=null,this.childNameIndex_[ft(e.name())]=null,this.childNameIndex_[gt(e.name())]=null;var n=e.el();n&&n.parentNode===this.contentEl()&&this.contentEl().removeChild(e.el())}}},e.initChildren=function(){var r=this,n=this.options_.children;if(n){var e,i=this.options_,o=c.getComponent("Tech");(e=Array.isArray(n)?n:Object.keys(n)).concat(Object.keys(this.options_).filter(function(t){return!e.some(function(e){return"string"==typeof e?t===e:t===e.name})})).map(function(e){var t,o;return o="string"==typeof e?n[t=e]||r.options_[t]||{}:(t=e.name,e),{name:t,opts:o}}).filter(function(e){var t=c.getComponent(e.opts.componentClass||ft(e.name));return t&&!o.isTech(t)}).forEach(function(e){var t=e.name,o=e.opts;if(void 0!==i[t]&&(o=i[t]),!1!==o){!0===o&&(o={}),o.playerOptions=r.options_.playerOptions;var n=r.addChild(t,o);n&&(r[t]=n)}})}},e.buildCSSClass=function(){return""},e.ready=function(e,t){if(void 0===t&&(t=!1),e)return this.isReady_?void(t?e.call(this):this.setTimeout(e,1)):(this.readyQueue_=this.readyQueue_||[],void this.readyQueue_.push(e))},e.triggerReady=function(){this.isReady_=!0,this.setTimeout(function(){var e=this.readyQueue_;this.readyQueue_=[],e&&0<e.length&&e.forEach(function(e){e.call(this)},this),this.trigger("ready")},1)},e.$=function(e,t){return Be(e,t||this.contentEl())},e.$$=function(e,t){return Ie(e,t||this.contentEl())},e.hasClass=function(e){return le(this.el_,e)},e.addClass=function(e){ce(this.el_,e)},e.removeClass=function(e){ue(this.el_,e)},e.toggleClass=function(e,t){de(this.el_,e,t)},e.show=function(){this.removeClass("vjs-hidden")},e.hide=function(){this.addClass("vjs-hidden")},e.lockShowing=function(){this.addClass("vjs-lock-showing")},e.unlockShowing=function(){this.removeClass("vjs-lock-showing")},e.getAttribute=function(e){return ge(this.el_,e)},e.setAttribute=function(e,t){fe(this.el_,e,t)},e.removeAttribute=function(e){me(this.el_,e)},e.width=function(e,t){return this.dimension("width",e,t)},e.height=function(e,t){return this.dimension("height",e,t)},e.dimensions=function(e,t){this.width(e,!0),this.height(t)},e.dimension=function(e,t,o){if(void 0!==t)return null!==t&&t==t||(t=0),-1!==(""+t).indexOf("%")||-1!==(""+t).indexOf("px")?this.el_.style[e]=t:this.el_.style[e]="auto"===t?"":t+"px",void(o||this.trigger("componentresize"));if(!this.el_)return 0;var n=this.el_.style[e],r=n.indexOf("px");return-1!==r?parseInt(n.slice(0,r),10):parseInt(this.el_["offset"+ft(e)],10)},e.currentDimension=function(e){var t=0;if("width"!==e&&"height"!==e)throw new Error("currentDimension only accepts width or height value");if(t=$(this.el_,e),0===(t=parseFloat(t))||isNaN(t)){var o="offset"+ft(e);t=this.el_[o]}return t},e.currentDimensions=function(){return{width:this.currentDimension("width"),height:this.currentDimension("height")}},e.currentWidth=function(){return this.currentDimension("width")},e.currentHeight=function(){return this.currentDimension("height")},e.focus=function(){this.el_.focus()},e.blur=function(){this.el_.blur()},e.handleKeyDown=function(e){this.player_&&(e.stopPropagation(),this.player_.handleKeyDown(e))},e.handleKeyPress=function(e){this.handleKeyDown(e)},e.emitTapEvents=function(){var n,t=0,r=null;this.on("touchstart",function(e){1===e.touches.length&&(r={pageX:e.touches[0].pageX,pageY:e.touches[0].pageY},t=_.a.performance.now(),n=!0)}),this.on("touchmove",function(e){if(1<e.touches.length)n=!1;else if(r){var t=e.touches[0].pageX-r.pageX,o=e.touches[0].pageY-r.pageY;10<Math.sqrt(t*t+o*o)&&(n=!1)}});var e=function(){n=!1};this.on("touchleave",e),this.on("touchcancel",e),this.on("touchend",function(e){!(r=null)===n&&(_.a.performance.now()-t<200&&(e.preventDefault(),this.trigger("tap")))})},e.enableTouchActivity=function(){if(this.player()&&this.player().reportUserActivity){var t,o=et(this.player(),this.player().reportUserActivity);this.on("touchstart",function(){o(),this.clearInterval(t),t=this.setInterval(o,250)});var e=function(e){o(),this.clearInterval(t)};this.on("touchmove",o),this.on("touchend",e),this.on("touchcancel",e)}},e.setTimeout=function(e,t){var o,n=this;return e=et(this,e),this.clearTimersOnDispose_(),o=_.a.setTimeout(function(){n.setTimeoutIds_.has(o)&&n.setTimeoutIds_.delete(o),e()},t),this.setTimeoutIds_.add(o),o},e.clearTimeout=function(e){return this.setTimeoutIds_.has(e)&&(this.setTimeoutIds_.delete(e),_.a.clearTimeout(e)),e},e.setInterval=function(e,t){e=et(this,e),this.clearTimersOnDispose_();var o=_.a.setInterval(e,t);return this.setIntervalIds_.add(o),o},e.clearInterval=function(e){return this.setIntervalIds_.has(e)&&(this.setIntervalIds_.delete(e),_.a.clearInterval(e)),e},e.requestAnimationFrame=function(e){var t,o=this;return this.supportsRaf_?(this.clearTimersOnDispose_(),e=et(this,e),t=_.a.requestAnimationFrame(function(){o.rafIds_.has(t)&&o.rafIds_.delete(t),e()}),this.rafIds_.add(t),t):this.setTimeout(e,1e3/60)},e.cancelAnimationFrame=function(e){return this.supportsRaf_?(this.rafIds_.has(e)&&(this.rafIds_.delete(e),_.a.cancelAnimationFrame(e)),e):this.clearTimeout(e)},e.clearTimersOnDispose_=function(){var n=this;this.clearingTimersOnDispose_||(this.clearingTimersOnDispose_=!0,this.one("dispose",function(){[["rafIds_","cancelAnimationFrame"],["setTimeoutIds_","clearTimeout"],["setIntervalIds_","clearInterval"]].forEach(function(e){var t=e[0],o=e[1];n[t].forEach(n[o],n)}),n.clearingTimersOnDispose_=!1}))},c.registerComponent=function(e,t){if("string"!=typeof e||!e)throw new Error('Illegal component name, "'+e+'"; must be a non-empty string.');var o,n=c.getComponent("Tech"),r=n&&n.isTech(t),i=c===t||c.prototype.isPrototypeOf(t.prototype);if(r||!i)throw o=r?"techs must be registered using Tech.registerTech()":"must be a Component subclass",new Error('Illegal component, "'+e+'"; '+o+".");e=ft(e),c.components_||(c.components_={});var a=c.getComponent("Player");if("Player"===e&&a&&a.players){var s=a.players,l=Object.keys(s);if(s&&0<l.length&&l.map(function(e){return s[e]}).every(Boolean))throw new Error("Can not register Player component after player has been created.")}return c.components_[e]=t,c.components_[gt(e)]=t},c.getComponent=function(e){if(e&&c.components_)return c.components_[e]},c}();function _t(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}function vt(e,t){return(vt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function bt(e,t,o){return(bt=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()?Reflect.construct:function(e,t,o){var n=[null];n.push.apply(n,t);var r=new(Function.bind.apply(e,n));return o&&vt(r,o.prototype),r}).apply(null,arguments)}function Et(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}yt.prototype.supportsRaf_="function"==typeof _.a.requestAnimationFrame&&"function"==typeof _.a.cancelAnimationFrame,yt.registerComponent("Component",yt);var Tt,St,kt,Ct,At=_.a.navigator&&_.a.navigator.userAgent||"",Ot=/AppleWebKit\/([\d.]+)/i.exec(At),wt=Ot?parseFloat(Ot.pop()):null,Bt=/iPad/i.test(At),It=/iPhone/i.test(At)&&!Bt,Rt=/iPod/i.test(At),Nt=It||Bt||Rt,Pt=(Tt=At.match(/OS (\d+)_/i))&&Tt[1]?Tt[1]:null,Lt=/Android/i.test(At),xt=function(){var e=At.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);if(!e)return null;var t=e[1]&&parseFloat(e[1]),o=e[2]&&parseFloat(e[2]);return t&&o?parseFloat(e[1]+"."+e[2]):t||null}(),Dt=Lt&&xt<5&&wt<537,Mt=/Firefox/i.test(At),Ut=/Edge/i.test(At),Ft=!Ut&&(/Chrome/i.test(At)||/CriOS/i.test(At)),Ht=(St=At.match(/(Chrome|CriOS)\/(\d+)/))&&St[2]?parseFloat(St[2]):null,jt=(kt=/MSIE\s(\d+)\.\d/.exec(At),!(Ct=kt&&parseFloat(kt[1]))&&/Trident\/7.0/i.test(At)&&/rv:11.0/.test(At)&&(Ct=11),Ct),Gt=/Safari/i.test(At)&&!Ft&&!Lt&&!Ut,Vt=(Gt||Nt)&&!Ft,Wt=/Windows/i.test(At),zt=te()&&("ontouchstart"in _.a||_.a.navigator.maxTouchPoints||_.a.DocumentTouch&&_.a.document instanceof _.a.DocumentTouch),qt=Object.freeze({IS_IPAD:Bt,IS_IPHONE:It,IS_IPOD:Rt,IS_IOS:Nt,IOS_VERSION:Pt,IS_ANDROID:Lt,ANDROID_VERSION:xt,IS_NATIVE_ANDROID:Dt,IS_FIREFOX:Mt,IS_EDGE:Ut,IS_CHROME:Ft,CHROME_VERSION:Ht,IE_VERSION:jt,IS_SAFARI:Gt,IS_ANY_SAFARI:Vt,IS_WINDOWS:Wt,TOUCH_ENABLED:zt});function Kt(e,t,o,n){return function(e,t,o){if("number"!=typeof t||t<0||o<t)throw new Error("Failed to execute '"+e+"' on 'TimeRanges': The index provided ("+t+") is non-numeric or out of bounds (0-"+o+").")}(e,n,o.length-1),o[n][t]}function Yt(e){return void 0===e||0===e.length?{length:0,start:function(){throw new Error("This TimeRanges object is empty")},end:function(){throw new Error("This TimeRanges object is empty")}}:{length:e.length,start:Kt.bind(null,"start",0,e),end:Kt.bind(null,"end",1,e)}}function Xt(e,t){return Array.isArray(e)?Yt(e):void 0===e||void 0===t?Yt():Yt([[e,t]])}function Jt(e,t){var o,n,r=0;if(!t)return 0;e&&e.length||(e=Xt(0,0));for(var i=0;i<e.length;i++)o=e.start(i),t<(n=e.end(i))&&(n=t),r+=n-o;return r/t}for(var Qt,$t={prefixed:!0},Zt=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror","fullscreen"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror","-webkit-full-screen"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror","-moz-full-screen"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError","-ms-fullscreen"]],eo=Zt[0],to=0;to<Zt.length;to++)if(Zt[to][1]in d.a){Qt=Zt[to];break}if(Qt){for(var oo=0;oo<Qt.length;oo++)$t[eo[oo]]=Qt[oo];$t.prefixed=Qt[0]!==eo[0]}function no(e){if(e instanceof no)return e;"number"==typeof e?this.code=e:"string"==typeof e?this.message=e:J(e)&&("number"==typeof e.code&&(this.code=e.code),X(this,e)),this.message||(this.message=no.defaultMessages[this.code]||"")}no.prototype.code=0,no.prototype.message="",no.prototype.status=null,no.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"],no.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail part-way.",3:"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",4:"The media could not be loaded, either because the server or network failed or because the format is not supported.",5:"The media is encrypted and we do not have the keys to decrypt it."};for(var ro=0;ro<no.errorTypes.length;ro++)no[no.errorTypes[ro]]=ro,no.prototype[no.errorTypes[ro]]=ro;function io(e){return null!=e&&"function"==typeof e.then}function ao(e){io(e)&&e.then(null,function(e){})}var so=function(n){return["kind","label","language","id","inBandMetadataTrackDispatchType","mode","src"].reduce(function(e,t,o){return n[t]&&(e[t]=n[t]),e},{cues:n.cues&&Array.prototype.map.call(n.cues,function(e){return{startTime:e.startTime,endTime:e.endTime,text:e.text,id:e.id}})})},lo=function(e){var t=e.$$("track"),o=Array.prototype.map.call(t,function(e){return e.track});return Array.prototype.map.call(t,function(e){var t=so(e.track);return e.src&&(t.src=e.src),t}).concat(Array.prototype.filter.call(e.textTracks(),function(e){return-1===o.indexOf(e)}).map(so))},co=function(e,o){return e.forEach(function(e){var t=o.addRemoteTextTrack(e).track;!e.src&&e.cues&&e.cues.forEach(function(e){return t.addCue(e)})}),o.textTracks()},uo="vjs-modal-dialog",po=function(n){function e(e,t){var o;return(o=n.call(this,e,t)||this).opened_=o.hasBeenOpened_=o.hasBeenFilled_=!1,o.closeable(!o.options_.uncloseable),o.content(o.options_.content),o.contentEl_=ie("div",{className:uo+"-content"},{role:"document"}),o.descEl_=ie("p",{className:uo+"-description vjs-control-text",id:o.el().getAttribute("aria-describedby")}),ae(o.descEl_,o.description()),o.el_.appendChild(o.descEl_),o.el_.appendChild(o.contentEl_),o}_t(e,n);var t=e.prototype;return t.createEl=function(){return n.prototype.createEl.call(this,"div",{className:this.buildCSSClass(),tabIndex:-1},{"aria-describedby":this.id()+"_description","aria-hidden":"true","aria-label":this.label(),role:"dialog"})},t.dispose=function(){this.contentEl_=null,this.descEl_=null,this.previouslyActiveEl_=null,n.prototype.dispose.call(this)},t.buildCSSClass=function(){return uo+" vjs-hidden "+n.prototype.buildCSSClass.call(this)},t.label=function(){return this.localize(this.options_.label||"Modal Window")},t.description=function(){var e=this.options_.description||this.localize("This is a modal window.");return this.closeable()&&(e+=" "+this.localize("This modal can be closed by pressing the Escape key or activating the close button.")),e},t.open=function(){if(!this.opened_){var e=this.player();this.trigger("beforemodalopen"),this.opened_=!0,(this.options_.fillAlways||!this.hasBeenOpened_&&!this.hasBeenFilled_)&&this.fill(),this.wasPlaying_=!e.paused(),this.options_.pauseOnOpen&&this.wasPlaying_&&e.pause(),this.on("keydown",this.handleKeyDown),this.hadControls_=e.controls(),e.controls(!1),this.show(),this.conditionalFocus_(),this.el().setAttribute("aria-hidden","false"),this.trigger("modalopen"),this.hasBeenOpened_=!0}},t.opened=function(e){return"boolean"==typeof e&&this[e?"open":"close"](),this.opened_},t.close=function(){if(this.opened_){var e=this.player();this.trigger("beforemodalclose"),this.opened_=!1,this.wasPlaying_&&this.options_.pauseOnOpen&&e.play(),this.off("keydown",this.handleKeyDown),this.hadControls_&&e.controls(!0),this.hide(),this.el().setAttribute("aria-hidden","true"),this.trigger("modalclose"),this.conditionalBlur_(),this.options_.temporary&&this.dispose()}},t.closeable=function(e){if("boolean"==typeof e){var t=this.closeable_=!!e,o=this.getChild("closeButton");if(t&&!o){var n=this.contentEl_;this.contentEl_=this.el_,o=this.addChild("closeButton",{controlText:"Close Modal Dialog"}),this.contentEl_=n,this.on(o,"close",this.close)}!t&&o&&(this.off(o,"close",this.close),this.removeChild(o),o.dispose())}return this.closeable_},t.fill=function(){this.fillWith(this.content())},t.fillWith=function(e){var t=this.contentEl(),o=t.parentNode,n=t.nextSibling;this.trigger("beforemodalfill"),this.hasBeenFilled_=!0,o.removeChild(t),this.empty(),Ae(t,e),this.trigger("modalfill"),n?o.insertBefore(t,n):o.appendChild(t);var r=this.getChild("closeButton");r&&o.appendChild(r.el_)},t.empty=function(){this.trigger("beforemodalempty"),Se(this.contentEl()),this.trigger("modalempty")},t.content=function(e){return void 0!==e&&(this.content_=e),this.content_},t.conditionalFocus_=function(){var e=d.a.activeElement,t=this.player_.el_;this.previouslyActiveEl_=null,(t.contains(e)||t===e)&&(this.previouslyActiveEl_=e,this.focus())},t.conditionalBlur_=function(){this.previouslyActiveEl_&&(this.previouslyActiveEl_.focus(),this.previouslyActiveEl_=null)},t.handleKeyDown=function(e){if(e.stopPropagation(),h.a.isEventKey(e,"Escape")&&this.closeable())return e.preventDefault(),void this.close();if(h.a.isEventKey(e,"Tab")){for(var t,o=this.focusableEls_(),n=this.el_.querySelector(":focus"),r=0;r<o.length;r++)if(n===o[r]){t=r;break}d.a.activeElement===this.el_&&(t=0),e.shiftKey&&0===t?(o[o.length-1].focus(),e.preventDefault()):e.shiftKey||t!==o.length-1||(o[0].focus(),e.preventDefault())}},t.focusableEls_=function(){var e=this.el_.querySelectorAll("*");return Array.prototype.filter.call(e,function(e){return(e instanceof _.a.HTMLAnchorElement||e instanceof _.a.HTMLAreaElement)&&e.hasAttribute("href")||(e instanceof _.a.HTMLInputElement||e instanceof _.a.HTMLSelectElement||e instanceof _.a.HTMLTextAreaElement||e instanceof _.a.HTMLButtonElement)&&!e.hasAttribute("disabled")||e instanceof _.a.HTMLIFrameElement||e instanceof _.a.HTMLObjectElement||e instanceof _.a.HTMLEmbedElement||e.hasAttribute("tabindex")&&-1!==e.getAttribute("tabindex")||e.hasAttribute("contenteditable")})},e}(yt);po.prototype.options_={pauseOnOpen:!0,temporary:!0},yt.registerComponent("ModalDialog",po);var ho=function(n){function e(e){var t;void 0===e&&(e=[]),(t=n.call(this)||this).tracks_=[],Object.defineProperty(Et(t),"length",{get:function(){return this.tracks_.length}});for(var o=0;o<e.length;o++)t.addTrack(e[o]);return t}_t(e,n);var t=e.prototype;return t.addTrack=function(e){var t=this.tracks_.length;""+t in this||Object.defineProperty(this,t,{get:function(){return this.tracks_[t]}}),-1===this.tracks_.indexOf(e)&&(this.tracks_.push(e),this.trigger({track:e,type:"addtrack",target:this}))},t.removeTrack=function(e){for(var t,o=0,n=this.length;o<n;o++)if(this[o]===e){(t=this[o]).off&&t.off(),this.tracks_.splice(o,1);break}t&&this.trigger({track:t,type:"removetrack",target:this})},t.getTrackById=function(e){for(var t=null,o=0,n=this.length;o<n;o++){var r=this[o];if(r.id===e){t=r;break}}return t},e}(ot);for(var go in ho.prototype.allowedEvents_={change:"change",addtrack:"addtrack",removetrack:"removetrack"},ho.prototype.allowedEvents_)ho.prototype["on"+go]=null;var fo=function(e,t){for(var o=0;o<e.length;o++)Object.keys(e[o]).length&&t.id!==e[o].id&&(e[o].enabled=!1)},mo=function(n){function e(e){var t;void 0===e&&(e=[]);for(var o=e.length-1;0<=o;o--)if(e[o].enabled){fo(e,e[o]);break}return(t=n.call(this,e)||this).changing_=!1,t}_t(e,n);var t=e.prototype;return t.addTrack=function(e){var t=this;e.enabled&&fo(this,e),n.prototype.addTrack.call(this,e),e.addEventListener&&(e.enabledChange_=function(){t.changing_||(t.changing_=!0,fo(t,e),t.changing_=!1,t.trigger("change"))},e.addEventListener("enabledchange",e.enabledChange_))},t.removeTrack=function(e){n.prototype.removeTrack.call(this,e),e.removeEventListener&&e.enabledChange_&&(e.removeEventListener("enabledchange",e.enabledChange_),e.enabledChange_=null)},e}(ho),yo=function(e,t){for(var o=0;o<e.length;o++)Object.keys(e[o]).length&&t.id!==e[o].id&&(e[o].selected=!1)},_o=function(n){function e(e){var t;void 0===e&&(e=[]);for(var o=e.length-1;0<=o;o--)if(e[o].selected){yo(e,e[o]);break}return(t=n.call(this,e)||this).changing_=!1,Object.defineProperty(Et(t),"selectedIndex",{get:function(){for(var e=0;e<this.length;e++)if(this[e].selected)return e;return-1},set:function(){}}),t}_t(e,n);var t=e.prototype;return t.addTrack=function(e){var t=this;e.selected&&yo(this,e),n.prototype.addTrack.call(this,e),e.addEventListener&&(e.selectedChange_=function(){t.changing_||(t.changing_=!0,yo(t,e),t.changing_=!1,t.trigger("change"))},e.addEventListener("selectedchange",e.selectedChange_))},t.removeTrack=function(e){n.prototype.removeTrack.call(this,e),e.removeEventListener&&e.selectedChange_&&(e.removeEventListener("selectedchange",e.selectedChange_),e.selectedChange_=null)},e}(ho),vo=function(o){function e(){return o.apply(this,arguments)||this}_t(e,o);var t=e.prototype;return t.addTrack=function(e){var t=this;o.prototype.addTrack.call(this,e),this.queueChange_||(this.queueChange_=function(){return t.queueTrigger("change")}),this.triggerSelectedlanguagechange||(this.triggerSelectedlanguagechange_=function(){return t.trigger("selectedlanguagechange")}),e.addEventListener("modechange",this.queueChange_);-1===["metadata","chapters"].indexOf(e.kind)&&e.addEventListener("modechange",this.triggerSelectedlanguagechange_)},t.removeTrack=function(e){o.prototype.removeTrack.call(this,e),e.removeEventListener&&(this.queueChange_&&e.removeEventListener("modechange",this.queueChange_),this.selectedlanguagechange_&&e.removeEventListener("modechange",this.triggerSelectedlanguagechange_))},e}(ho),bo=function(){function e(e){void 0===e&&(e=[]),this.trackElements_=[],Object.defineProperty(this,"length",{get:function(){return this.trackElements_.length}});for(var t=0,o=e.length;t<o;t++)this.addTrackElement_(e[t])}var t=e.prototype;return t.addTrackElement_=function(e){var t=this.trackElements_.length;""+t in this||Object.defineProperty(this,t,{get:function(){return this.trackElements_[t]}}),-1===this.trackElements_.indexOf(e)&&this.trackElements_.push(e)},t.getTrackElementByTrack_=function(e){for(var t,o=0,n=this.trackElements_.length;o<n;o++)if(e===this.trackElements_[o].track){t=this.trackElements_[o];break}return t},t.removeTrackElement_=function(e){for(var t=0,o=this.trackElements_.length;t<o;t++)if(e===this.trackElements_[t]){this.trackElements_[t].track&&"function"==typeof this.trackElements_[t].track.off&&this.trackElements_[t].track.off(),"function"==typeof this.trackElements_[t].off&&this.trackElements_[t].off(),this.trackElements_.splice(t,1);break}},e}(),Eo=function(){function t(e){t.prototype.setCues_.call(this,e),Object.defineProperty(this,"length",{get:function(){return this.length_}})}var e=t.prototype;return e.setCues_=function(e){var t=this.length||0,o=0,n=e.length;this.cues_=e,this.length_=e.length;var r=function(e){""+e in this||Object.defineProperty(this,""+e,{get:function(){return this.cues_[e]}})};if(t<n)for(o=t;o<n;o++)r.call(this,o)},e.getCueById=function(e){for(var t=null,o=0,n=this.length;o<n;o++){var r=this[o];if(r.id===e){t=r;break}}return t},t}(),To={alternative:"alternative",captions:"captions",main:"main",sign:"sign",subtitles:"subtitles",commentary:"commentary"},So={alternative:"alternative",descriptions:"descriptions",main:"main","main-desc":"main-desc",translation:"translation",commentary:"commentary"},ko={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"},Co={disabled:"disabled",hidden:"hidden",showing:"showing"},Ao=function(i){function e(e){var t;void 0===e&&(e={}),t=i.call(this)||this;var o={id:e.id||"vjs_track_"+He(),kind:e.kind||"",label:e.label||"",language:e.language||""},n=function(e){Object.defineProperty(Et(t),e,{get:function(){return o[e]},set:function(){}})};for(var r in o)n(r);return t}return _t(e,i),e}(ot),Oo=function(e){var t=["protocol","hostname","port","pathname","search","hash","host"],o=d.a.createElement("a");o.href=e;var n,r=""===o.host&&"file:"!==o.protocol;r&&((n=d.a.createElement("div")).innerHTML='<a href="'+e+'"></a>',o=n.firstChild,n.setAttribute("style","display:none; position:absolute;"),d.a.body.appendChild(n));for(var i={},a=0;a<t.length;a++)i[t[a]]=o[t[a]];return"http:"===i.protocol&&(i.host=i.host.replace(/:80$/,"")),"https:"===i.protocol&&(i.host=i.host.replace(/:443$/,"")),i.protocol||(i.protocol=_.a.location.protocol),r&&d.a.body.removeChild(n),i},wo=function(e){if(!e.match(/^https?:\/\//)){var t=d.a.createElement("div");t.innerHTML='<a href="'+e+'">x</a>',e=t.firstChild.href}return e},Bo=function(e){if("string"==typeof e){var t=/^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/.exec(e);if(t)return t.pop().toLowerCase()}return""},Io=function(e){var t=_.a.location,o=Oo(e);return(":"===o.protocol?t.protocol:o.protocol)+o.host!==t.protocol+t.host},Ro=Object.freeze({parseUrl:Oo,getAbsoluteURL:wo,getFileExtension:Bo,isCrossOrigin:Io}),No=function(e,t){var o=new _.a.WebVTT.Parser(_.a,_.a.vttjs,_.a.WebVTT.StringDecoder()),n=[];o.oncue=function(e){t.addCue(e)},o.onparsingerror=function(e){n.push(e)},o.onflush=function(){t.trigger({type:"loadeddata",target:t})},o.parse(e),0<n.length&&(_.a.console&&_.a.console.groupCollapsed&&_.a.console.groupCollapsed("Text Track parsing errors for "+t.src),n.forEach(function(e){return W.error(e)}),_.a.console&&_.a.console.groupEnd&&_.a.console.groupEnd()),o.flush()},Po=function(c){function e(e){var t;if(void 0===e&&(e={}),!e.tech)throw new Error("A tech was not provided.");var o=mt(e,{kind:ko[e.kind]||"subtitles",language:e.language||e.srclang||""}),n=Co[o.mode]||"disabled",r=o.default;"metadata"!==o.kind&&"chapters"!==o.kind||(n="hidden"),(t=c.call(this,o)||this).tech_=o.tech,t.cues_=[],t.activeCues_=[];var i=new Eo(t.cues_),a=new Eo(t.activeCues_),s=!1,l=et(Et(t),function(){this.activeCues=this.activeCues,s&&(this.trigger("cuechange"),s=!1)});return"disabled"!==n&&t.tech_.ready(function(){t.tech_.on("timeupdate",l)},!0),Object.defineProperties(Et(t),{default:{get:function(){return r},set:function(){}},mode:{get:function(){return n},set:function(e){var t=this;Co[e]&&("disabled"!==(n=e)?this.tech_.ready(function(){t.tech_.on("timeupdate",l)},!0):this.tech_.off("timeupdate",l),this.trigger("modechange"))}},cues:{get:function(){return this.loaded_?i:null},set:function(){}},activeCues:{get:function(){if(!this.loaded_)return null;if(0===this.cues.length)return a;for(var e=this.tech_.currentTime(),t=[],o=0,n=this.cues.length;o<n;o++){var r=this.cues[o];r.startTime<=e&&r.endTime>=e?t.push(r):r.startTime===r.endTime&&r.startTime<=e&&r.startTime+.5>=e&&t.push(r)}if(s=!1,t.length!==this.activeCues_.length)s=!0;else for(var i=0;i<t.length;i++)-1===this.activeCues_.indexOf(t[i])&&(s=!0);return this.activeCues_=t,a.setCues_(this.activeCues_),a},set:function(){}}}),o.src?(t.src=o.src,function(e,n){var t={uri:e},o=Io(e);o&&(t.cors=o),u()(t,et(this,function(e,t,o){if(e)return W.error(e,t);n.loaded_=!0,"function"!=typeof _.a.WebVTT?n.tech_&&n.tech_.any(["vttjsloaded","vttjserror"],function(e){if("vttjserror"!==e.type)return No(o,n);W.error("vttjs failed to load, stopping trying to process "+n.src)}):No(o,n)}))}(o.src,Et(t))):t.loaded_=!0,t}_t(e,c);var t=e.prototype;return t.addCue=function(e){var t=e;if(_.a.vttjs&&!(e instanceof _.a.vttjs.VTTCue)){for(var o in t=new _.a.vttjs.VTTCue(e.startTime,e.endTime,e.text),e)o in t||(t[o]=e[o]);t.id=e.id,t.originalCue_=e}for(var n=this.tech_.textTracks(),r=0;r<n.length;r++)n[r]!==this&&n[r].removeCue(t);this.cues_.push(t),this.cues.setCues_(this.cues_)},t.removeCue=function(e){for(var t=this.cues_.length;t--;){var o=this.cues_[t];if(o===e||o.originalCue_&&o.originalCue_===e){this.cues_.splice(t,1),this.cues.setCues_(this.cues_);break}}},e}(Ao);Po.prototype.allowedEvents_={cuechange:"cuechange"};var Lo=function(r){function e(e){var t;void 0===e&&(e={});var o=mt(e,{kind:So[e.kind]||""});t=r.call(this,o)||this;var n=!1;return Object.defineProperty(Et(t),"enabled",{get:function(){return n},set:function(e){"boolean"==typeof e&&e!==n&&(n=e,this.trigger("enabledchange"))}}),o.enabled&&(t.enabled=o.enabled),t.loaded_=!0,t}return _t(e,r),e}(Ao),xo=function(r){function e(e){var t;void 0===e&&(e={});var o=mt(e,{kind:To[e.kind]||""});t=r.call(this,o)||this;var n=!1;return Object.defineProperty(Et(t),"selected",{get:function(){return n},set:function(e){"boolean"==typeof e&&e!==n&&(n=e,this.trigger("selectedchange"))}}),o.selected&&(t.selected=o.selected),t}return _t(e,r),e}(Ao),Do=function(r){function e(e){var t,o;void 0===e&&(e={}),t=r.call(this)||this;var n=new Po(e);return t.kind=n.kind,t.src=n.src,t.srclang=n.language,t.label=n.label,t.default=n.default,Object.defineProperties(Et(t),{readyState:{get:function(){return o}},track:{get:function(){return n}}}),o=0,n.addEventListener("loadeddata",function(){o=2,t.trigger({type:"load",target:Et(t)})}),t}return _t(e,r),e}(ot);Do.prototype.allowedEvents_={load:"load"},Do.NONE=0,Do.LOADING=1,Do.LOADED=2,Do.ERROR=3;var Mo={audio:{ListClass:mo,TrackClass:Lo,capitalName:"Audio"},video:{ListClass:_o,TrackClass:xo,capitalName:"Video"},text:{ListClass:vo,TrackClass:Po,capitalName:"Text"}};Object.keys(Mo).forEach(function(e){Mo[e].getterName=e+"Tracks",Mo[e].privateName=e+"Tracks_"});var Uo={remoteText:{ListClass:vo,TrackClass:Po,capitalName:"RemoteText",getterName:"remoteTextTracks",privateName:"remoteTextTracks_"},remoteTextEl:{ListClass:bo,TrackClass:Do,capitalName:"RemoteTextTrackEls",getterName:"remoteTextTrackEls",privateName:"remoteTextTrackEls_"}},Fo=mt(Mo,Uo);Uo.names=Object.keys(Uo),Mo.names=Object.keys(Mo),Fo.names=[].concat(Uo.names).concat(Mo.names);var Ho=function(t){function o(o,e){var n;return void 0===o&&(o={}),void 0===e&&(e=function(){}),o.reportTouchActivity=!1,(n=t.call(this,null,o,e)||this).hasStarted_=!1,n.on("playing",function(){this.hasStarted_=!0}),n.on("loadstart",function(){this.hasStarted_=!1}),Fo.names.forEach(function(e){var t=Fo[e];o&&o[t.getterName]&&(n[t.privateName]=o[t.getterName])}),n.featuresProgressEvents||n.manualProgressOn(),n.featuresTimeupdateEvents||n.manualTimeUpdatesOn(),["Text","Audio","Video"].forEach(function(e){!1===o["native"+e+"Tracks"]&&(n["featuresNative"+e+"Tracks"]=!1)}),!1===o.nativeCaptions||!1===o.nativeTextTracks?n.featuresNativeTextTracks=!1:!0!==o.nativeCaptions&&!0!==o.nativeTextTracks||(n.featuresNativeTextTracks=!0),n.featuresNativeTextTracks||n.emulateTextTracks(),n.autoRemoteTextTracks_=new Fo.text.ListClass,n.initTrackListeners(),o.nativeControlsForTouch||n.emitTapEvents(),n.constructor&&(n.name_=n.constructor.name||"Unknown Tech"),n}_t(o,t);var e=o.prototype;return e.triggerSourceset=function(e){var t=this;this.isReady_||this.one("ready",function(){return t.setTimeout(function(){return t.triggerSourceset(e)},1)}),this.trigger({src:e,type:"sourceset"})},e.manualProgressOn=function(){this.on("durationchange",this.onDurationChange),this.manualProgress=!0,this.one("ready",this.trackProgress)},e.manualProgressOff=function(){this.manualProgress=!1,this.stopTrackingProgress(),this.off("durationchange",this.onDurationChange)},e.trackProgress=function(e){this.stopTrackingProgress(),this.progressInterval=this.setInterval(et(this,function(){var e=this.bufferedPercent();this.bufferedPercent_!==e&&this.trigger("progress"),1===(this.bufferedPercent_=e)&&this.stopTrackingProgress()}),500)},e.onDurationChange=function(e){this.duration_=this.duration()},e.buffered=function(){return Xt(0,0)},e.bufferedPercent=function(){return Jt(this.buffered(),this.duration_)},e.stopTrackingProgress=function(){this.clearInterval(this.progressInterval)},e.manualTimeUpdatesOn=function(){this.manualTimeUpdates=!0,this.on("play",this.trackCurrentTime),this.on("pause",this.stopTrackingCurrentTime)},e.manualTimeUpdatesOff=function(){this.manualTimeUpdates=!1,this.stopTrackingCurrentTime(),this.off("play",this.trackCurrentTime),this.off("pause",this.stopTrackingCurrentTime)},e.trackCurrentTime=function(){this.currentTimeInterval&&this.stopTrackingCurrentTime(),this.currentTimeInterval=this.setInterval(function(){this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},250)},e.stopTrackingCurrentTime=function(){this.clearInterval(this.currentTimeInterval),this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},e.dispose=function(){this.clearTracks(Mo.names),this.manualProgress&&this.manualProgressOff(),this.manualTimeUpdates&&this.manualTimeUpdatesOff(),t.prototype.dispose.call(this)},e.clearTracks=function(e){var r=this;(e=[].concat(e)).forEach(function(e){for(var t=r[e+"Tracks"]()||[],o=t.length;o--;){var n=t[o];"text"===e&&r.removeRemoteTextTrack(n),t.removeTrack(n)}})},e.cleanupAutoTextTracks=function(){for(var e=this.autoRemoteTextTracks_||[],t=e.length;t--;){var o=e[t];this.removeRemoteTextTrack(o)}},e.reset=function(){},e.error=function(e){return void 0!==e&&(this.error_=new no(e),this.trigger("error")),this.error_},e.played=function(){return this.hasStarted_?Xt(0,0):Xt()},e.setCurrentTime=function(){this.manualTimeUpdates&&this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},e.initTrackListeners=function(){var r=this;Mo.names.forEach(function(e){var t=Mo[e],o=function(){r.trigger(e+"trackchange")},n=r[t.getterName]();n.addEventListener("removetrack",o),n.addEventListener("addtrack",o),r.on("dispose",function(){n.removeEventListener("removetrack",o),n.removeEventListener("addtrack",o)})})},e.addWebVttScript_=function(){var e=this;if(!_.a.WebVTT)if(d.a.body.contains(this.el())){if(!this.options_["vtt.js"]&&Q(c.a)&&0<Object.keys(c.a).length)return void this.trigger("vttjsloaded");var t=d.a.createElement("script");t.src=this.options_["vtt.js"]||"https://vjs.zencdn.net/vttjs/0.14.1/vtt.min.js",t.onload=function(){e.trigger("vttjsloaded")},t.onerror=function(){e.trigger("vttjserror")},this.on("dispose",function(){t.onload=null,t.onerror=null}),_.a.WebVTT=!0,this.el().parentNode.appendChild(t)}else this.ready(this.addWebVttScript_)},e.emulateTextTracks=function(){var e=this,o=this.textTracks(),t=this.remoteTextTracks(),n=function(e){return o.addTrack(e.track)},r=function(e){return o.removeTrack(e.track)};t.on("addtrack",n),t.on("removetrack",r),this.addWebVttScript_();var i=function(){return e.trigger("texttrackchange")},a=function(){i();for(var e=0;e<o.length;e++){var t=o[e];t.removeEventListener("cuechange",i),"showing"===t.mode&&t.addEventListener("cuechange",i)}};a(),o.addEventListener("change",a),o.addEventListener("addtrack",a),o.addEventListener("removetrack",a),this.on("dispose",function(){t.off("addtrack",n),t.off("removetrack",r),o.removeEventListener("change",a),o.removeEventListener("addtrack",a),o.removeEventListener("removetrack",a);for(var e=0;e<o.length;e++){o[e].removeEventListener("cuechange",i)}})},e.addTextTrack=function(e,t,o){if(!e)throw new Error("TextTrack kind is required but was not provided");return function(e,t,o,n,r){void 0===r&&(r={});var i=e.textTracks();r.kind=t,o&&(r.label=o),n&&(r.language=n),r.tech=e;var a=new Fo.text.TrackClass(r);return i.addTrack(a),a}(this,e,t,o)},e.createRemoteTextTrack=function(e){var t=mt(e,{tech:this});return new Uo.remoteTextEl.TrackClass(t)},e.addRemoteTextTrack=function(e,t){var o=this;void 0===e&&(e={});var n=this.createRemoteTextTrack(e);return!0!==t&&!1!==t&&(W.warn('Calling addRemoteTextTrack without explicitly setting the "manualCleanup" parameter to `true` is deprecated and default to `false` in future version of video.js'),t=!0),this.remoteTextTrackEls().addTrackElement_(n),this.remoteTextTracks().addTrack(n.track),!0!==t&&this.ready(function(){return o.autoRemoteTextTracks_.addTrack(n.track)}),n},e.removeRemoteTextTrack=function(e){var t=this.remoteTextTrackEls().getTrackElementByTrack_(e);this.remoteTextTrackEls().removeTrackElement_(t),this.remoteTextTracks().removeTrack(e),this.autoRemoteTextTracks_.removeTrack(e)},e.getVideoPlaybackQuality=function(){return{}},e.requestPictureInPicture=function(){var e=this.options_.Promise||_.a.Promise;if(e)return e.reject()},e.setPoster=function(){},e.playsinline=function(){},e.setPlaysinline=function(){},e.overrideNativeAudioTracks=function(){},e.overrideNativeVideoTracks=function(){},e.canPlayType=function(){return""},o.canPlayType=function(){return""},o.canPlaySource=function(e,t){return o.canPlayType(e.type)},o.isTech=function(e){return e.prototype instanceof o||e instanceof o||e===o},o.registerTech=function(e,t){if(o.techs_||(o.techs_={}),!o.isTech(t))throw new Error("Tech "+e+" must be a Tech");if(!o.canPlayType)throw new Error("Techs must have a static canPlayType method on them");if(!o.canPlaySource)throw new Error("Techs must have a static canPlaySource method on them");return e=ft(e),o.techs_[e]=t,o.techs_[gt(e)]=t,"Tech"!==e&&o.defaultTechOrder_.push(e),t},o.getTech=function(e){if(e)return o.techs_&&o.techs_[e]?o.techs_[e]:(e=ft(e),_.a&&_.a.videojs&&_.a.videojs[e]?(W.warn("The "+e+" tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)"),_.a.videojs[e]):void 0)},o}(yt);Fo.names.forEach(function(e){var t=Fo[e];Ho.prototype[t.getterName]=function(){return this[t.privateName]=this[t.privateName]||new t.ListClass,this[t.privateName]}}),Ho.prototype.featuresVolumeControl=!0,Ho.prototype.featuresMuteControl=!0,Ho.prototype.featuresFullscreenResize=!1,Ho.prototype.featuresPlaybackRate=!1,Ho.prototype.featuresProgressEvents=!1,Ho.prototype.featuresSourceset=!1,Ho.prototype.featuresTimeupdateEvents=!1,Ho.prototype.featuresNativeTextTracks=!1,Ho.withSourceHandlers=function(r){r.registerSourceHandler=function(e,t){var o=r.sourceHandlers;o||(o=r.sourceHandlers=[]),void 0===t&&(t=o.length),o.splice(t,0,e)},r.canPlayType=function(e){for(var t,o=r.sourceHandlers||[],n=0;n<o.length;n++)if(t=o[n].canPlayType(e))return t;return""},r.selectSourceHandler=function(e,t){for(var o=r.sourceHandlers||[],n=0;n<o.length;n++)if(o[n].canHandleSource(e,t))return o[n];return null},r.canPlaySource=function(e,t){var o=r.selectSourceHandler(e,t);return o?o.canHandleSource(e,t):""};["seekable","seeking","duration"].forEach(function(e){var t=this[e];"function"==typeof t&&(this[e]=function(){return this.sourceHandler_&&this.sourceHandler_[e]?this.sourceHandler_[e].apply(this.sourceHandler_,arguments):t.apply(this,arguments)})},r.prototype),r.prototype.setSource=function(e){var t=r.selectSourceHandler(e,this.options_);t||(r.nativeSourceHandler?t=r.nativeSourceHandler:W.error("No source handler found for the current source.")),this.disposeSourceHandler(),this.off("dispose",this.disposeSourceHandler),t!==r.nativeSourceHandler&&(this.currentSource_=e),this.sourceHandler_=t.handleSource(e,this,this.options_),this.one("dispose",this.disposeSourceHandler)},r.prototype.disposeSourceHandler=function(){this.currentSource_&&(this.clearTracks(["audio","video"]),this.currentSource_=null),this.cleanupAutoTextTracks(),this.sourceHandler_&&(this.sourceHandler_.dispose&&this.sourceHandler_.dispose(),this.sourceHandler_=null)}},yt.registerComponent("Tech",Ho),Ho.registerTech("Tech",Ho),Ho.defaultTechOrder_=[];var jo={},Go={},Vo={};function Wo(e,t,o){e.setTimeout(function(){return function o(n,e,r,i,a,s){void 0===n&&(n={});void 0===e&&(e=[]);void 0===a&&(a=[]);void 0===s&&(s=!1);var t=e,l=t[0],c=t.slice(1);if("string"==typeof l)o(n,jo[l],r,i,a,s);else if(l){var u=Jo(i,l);if(!u.setSource)return a.push(u),o(n,c,r,i,a,s);u.setSource(X({},n),function(e,t){if(e)return o(n,c,r,i,a,s);a.push(u),o(t,n.type===t.type?c:jo[t.type],r,i,a,s)})}else c.length?o(n,c,r,i,a,s):s?r(n,a):o(n,jo["*"],r,i,a,!0)}(t,jo[t.type],o,e)},1)}function zo(e,t,o,n){void 0===n&&(n=null);var r="call"+ft(o),i=e.reduce(Xo(r),n),a=i===Vo,s=a?null:t[o](i);return function(e,t,o,n){for(var r=e.length-1;0<=r;r--){var i=e[r];i[t]&&i[t](n,o)}}(e,o,s,a),s}var qo={buffered:1,currentTime:1,duration:1,seekable:1,played:1,paused:1,volume:1},Ko={setCurrentTime:1,setVolume:1},Yo={play:1,pause:1};function Xo(o){return function(e,t){return e===Vo?Vo:t[o]?t[o](e):e}}function Jo(e,t){var o=Go[e.id()],n=null;if(null==o)return n=t(e),Go[e.id()]=[[t,n]],n;for(var r=0;r<o.length;r++){var i=o[r],a=i[0],s=i[1];a===t&&(n=s)}return null===n&&(n=t(e),o.push([t,n])),n}var Qo={opus:"video/ogg",ogv:"video/ogg",mp4:"video/mp4",mov:"video/mp4",m4v:"video/mp4",mkv:"video/x-matroska",m4a:"audio/mp4",mp3:"audio/mpeg",aac:"audio/aac",oga:"audio/ogg",m3u8:"application/x-mpegURL",jpg:"image/jpeg",jpeg:"image/jpeg",gif:"image/gif",png:"image/png",svg:"image/svg+xml",webp:"image/webp"},$o=function(e){void 0===e&&(e="");var t=Bo(e);return Qo[t.toLowerCase()]||""};function Zo(e){if(!e.type){var t=$o(e.src);t&&(e.type=t)}return e}var en=function(c){function e(e,t,o){var n,r=mt({createEl:!1},t);if(n=c.call(this,e,r,o)||this,t.playerOptions.sources&&0!==t.playerOptions.sources.length)e.src(t.playerOptions.sources);else for(var i=0,a=t.playerOptions.techOrder;i<a.length;i++){var s=ft(a[i]),l=Ho.getTech(s);if(s||(l=yt.getComponent(s)),l&&l.isSupported()){e.loadTech_(s);break}}return n}return _t(e,c),e}(yt);yt.registerComponent("MediaLoader",en);var tn=function(r){function e(e,t){var o;return(o=r.call(this,e,t)||this).emitTapEvents(),o.enable(),o}_t(e,r);var t=e.prototype;return t.createEl=function(e,t,o){void 0===e&&(e="div"),void 0===t&&(t={}),void 0===o&&(o={}),t=X({innerHTML:'<span aria-hidden="true" class="vjs-icon-placeholder"></span>',className:this.buildCSSClass(),tabIndex:0},t),"button"===e&&W.error("Creating a ClickableComponent with an HTML element of "+e+" is not supported; use a Button instead."),o=X({role:"button"},o),this.tabIndex_=t.tabIndex;var n=r.prototype.createEl.call(this,e,t,o);return this.createControlTextEl(n),n},t.dispose=function(){this.controlTextEl_=null,r.prototype.dispose.call(this)},t.createControlTextEl=function(e){return this.controlTextEl_=ie("span",{className:"vjs-control-text"},{"aria-live":"polite"}),e&&e.appendChild(this.controlTextEl_),this.controlText(this.controlText_,e),this.controlTextEl_},t.controlText=function(e,t){if(void 0===t&&(t=this.el()),void 0===e)return this.controlText_||"Need Text";var o=this.localize(e);this.controlText_=e,ae(this.controlTextEl_,o),this.nonIconControl||t.setAttribute("title",o)},t.buildCSSClass=function(){return"vjs-control vjs-button "+r.prototype.buildCSSClass.call(this)},t.enable=function(){this.enabled_||(this.enabled_=!0,this.removeClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","false"),void 0!==this.tabIndex_&&this.el_.setAttribute("tabIndex",this.tabIndex_),this.on(["tap","click"],this.handleClick),this.on("keydown",this.handleKeyDown))},t.disable=function(){this.enabled_=!1,this.addClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","true"),void 0!==this.tabIndex_&&this.el_.removeAttribute("tabIndex"),this.off("mouseover",this.handleMouseOver),this.off("mouseout",this.handleMouseOut),this.off(["tap","click"],this.handleClick),this.off("keydown",this.handleKeyDown)},t.handleClick=function(e){},t.handleKeyDown=function(e){h.a.isEventKey(e,"Space")||h.a.isEventKey(e,"Enter")?(e.preventDefault(),e.stopPropagation(),this.trigger("click")):r.prototype.handleKeyDown.call(this,e)},e}(yt);yt.registerComponent("ClickableComponent",tn);var on=function(n){function e(e,t){var o;return(o=n.call(this,e,t)||this).update(),e.on("posterchange",et(Et(o),o.update)),o}_t(e,n);var t=e.prototype;return t.dispose=function(){this.player().off("posterchange",this.update),n.prototype.dispose.call(this)},t.createEl=function(){return ie("div",{className:"vjs-poster",tabIndex:-1})},t.update=function(e){var t=this.player().poster();this.setSrc(t),t?this.show():this.hide()},t.setSrc=function(e){var t="";e&&(t='url("'+e+'")'),this.el_.style.backgroundImage=t},t.handleClick=function(e){this.player_.controls()&&(this.player_.tech(!0)&&this.player_.tech(!0).focus(),this.player_.paused()?ao(this.player_.play()):this.player_.pause())},e}(tn);yt.registerComponent("PosterImage",on);var nn={monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-serif'};function rn(e,t){var o;if(4===e.length)o=e[1]+e[1]+e[2]+e[2]+e[3]+e[3];else{if(7!==e.length)throw new Error("Invalid color code provided, "+e+"; must be formatted as e.g. #f0e or #f604e2.");o=e.slice(1)}return"rgba("+parseInt(o.slice(0,2),16)+","+parseInt(o.slice(2,4),16)+","+parseInt(o.slice(4,6),16)+","+t+")"}function an(e,t,o){try{e.style[t]=o}catch(e){return}}var sn=function(i){function e(o,e,t){var n;n=i.call(this,o,e,t)||this;var r=et(Et(n),n.updateDisplay);return o.on("loadstart",et(Et(n),n.toggleDisplay)),o.on("texttrackchange",r),o.on("loadedmetadata",et(Et(n),n.preselectTrack)),o.ready(et(Et(n),function(){if(o.tech_&&o.tech_.featuresNativeTextTracks)this.hide();else{o.on("fullscreenchange",r),o.on("playerresize",r),_.a.addEventListener("orientationchange",r),o.on("dispose",function(){return _.a.removeEventListener("orientationchange",r)});for(var e=this.options_.playerOptions.tracks||[],t=0;t<e.length;t++)this.player_.addRemoteTextTrack(e[t],!0);this.preselectTrack()}})),n}_t(e,i);var t=e.prototype;return t.preselectTrack=function(){for(var e,t,o,n={captions:1,subtitles:1},r=this.player_.textTracks(),i=this.player_.cache_.selectedLanguage,a=0;a<r.length;a++){var s=r[a];i&&i.enabled&&i.language&&i.language===s.language&&s.kind in n?s.kind===i.kind?o=s:o||(o=s):i&&!i.enabled?t=e=o=null:s.default&&("descriptions"!==s.kind||e?s.kind in n&&!t&&(t=s):e=s)}o?o.mode="showing":t?t.mode="showing":e&&(e.mode="showing")},t.toggleDisplay=function(){this.player_.tech_&&this.player_.tech_.featuresNativeTextTracks?this.hide():this.show()},t.createEl=function(){return i.prototype.createEl.call(this,"div",{className:"vjs-text-track-display"},{"aria-live":"off","aria-atomic":"true"})},t.clearDisplay=function(){"function"==typeof _.a.WebVTT&&_.a.WebVTT.processCues(_.a,[],this.el_)},t.updateDisplay=function(){var e=this.player_.textTracks(),t=this.options_.allowMultipleShowingTracks;if(this.clearDisplay(),t){for(var o=[],n=0;n<e.length;++n){var r=e[n];"showing"===r.mode&&o.push(r)}this.updateForTrack(o)}else{for(var i=null,a=null,s=e.length;s--;){var l=e[s];"showing"===l.mode&&("descriptions"===l.kind?i=l:a=l)}a?("off"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","off"),this.updateForTrack(a)):i&&("assertive"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","assertive"),this.updateForTrack(i))}},t.updateDisplayState=function(e){for(var t=this.player_.textTrackSettings.getValues(),o=e.activeCues,n=o.length;n--;){var r=o[n];if(r){var i=r.displayState;if(t.color&&(i.firstChild.style.color=t.color),t.textOpacity&&an(i.firstChild,"color",rn(t.color||"#fff",t.textOpacity)),t.backgroundColor&&(i.firstChild.style.backgroundColor=t.backgroundColor),t.backgroundOpacity&&an(i.firstChild,"backgroundColor",rn(t.backgroundColor||"#000",t.backgroundOpacity)),t.windowColor&&(t.windowOpacity?an(i,"backgroundColor",rn(t.windowColor,t.windowOpacity)):i.style.backgroundColor=t.windowColor),t.edgeStyle&&("dropshadow"===t.edgeStyle?i.firstChild.style.textShadow="2px 2px 3px #222, 2px 2px 4px #222, 2px 2px 5px #222":"raised"===t.edgeStyle?i.firstChild.style.textShadow="1px 1px #222, 2px 2px #222, 3px 3px #222":"depressed"===t.edgeStyle?i.firstChild.style.textShadow="1px 1px #ccc, 0 1px #ccc, -1px -1px #222, 0 -1px #222":"uniform"===t.edgeStyle&&(i.firstChild.style.textShadow="0 0 4px #222, 0 0 4px #222, 0 0 4px #222, 0 0 4px #222")),t.fontPercent&&1!==t.fontPercent){var a=_.a.parseFloat(i.style.fontSize);i.style.fontSize=a*t.fontPercent+"px",i.style.height="auto",i.style.top="auto",i.style.bottom="2px"}t.fontFamily&&"default"!==t.fontFamily&&("small-caps"===t.fontFamily?i.firstChild.style.fontVariant="small-caps":i.firstChild.style.fontFamily=nn[t.fontFamily])}}},t.updateForTrack=function(e){if(Array.isArray(e)||(e=[e]),"function"==typeof _.a.WebVTT&&!e.every(function(e){return!e.activeCues})){for(var t=[],o=0;o<e.length;++o)for(var n=e[o],r=0;r<n.activeCues.length;++r)t.push(n.activeCues[r]);_.a.WebVTT.processCues(_.a,t,this.el_);for(var i=0;i<e.length;++i){for(var a=e[i],s=0;s<a.activeCues.length;++s){var l=a.activeCues[s].displayState;ce(l,"vjs-text-track-cue"),ce(l,"vjs-text-track-cue-"+(a.language?a.language:i))}this.player_.textTrackSettings&&this.updateDisplayState(a)}}},e}(yt);yt.registerComponent("TextTrackDisplay",sn);var ln=function(r){function e(){return r.apply(this,arguments)||this}return _t(e,r),e.prototype.createEl=function(){var e=this.player_.isAudio(),t=this.localize(e?"Audio Player":"Video Player"),o=ie("span",{className:"vjs-control-text",innerHTML:this.localize("{1} is loading.",[t])}),n=r.prototype.createEl.call(this,"div",{className:"vjs-loading-spinner",dir:"ltr"});return n.appendChild(o),n},e}(yt);yt.registerComponent("LoadingSpinner",ln);var cn=function(t){function e(){return t.apply(this,arguments)||this}_t(e,t);var o=e.prototype;return o.createEl=function(e,t,o){void 0===t&&(t={}),void 0===o&&(o={}),t=X({innerHTML:'<span aria-hidden="true" class="vjs-icon-placeholder"></span>',className:this.buildCSSClass()},t),o=X({type:"button"},o);var n=yt.prototype.createEl.call(this,"button",t,o);return this.createControlTextEl(n),n},o.addChild=function(e,t){void 0===t&&(t={});var o=this.constructor.name;return W.warn("Adding an actionable (user controllable) child to a Button ("+o+") is not supported; use a ClickableComponent instead."),yt.prototype.addChild.call(this,e,t)},o.enable=function(){t.prototype.enable.call(this),this.el_.removeAttribute("disabled")},o.disable=function(){t.prototype.disable.call(this),this.el_.setAttribute("disabled","disabled")},o.handleKeyDown=function(e){h.a.isEventKey(e,"Space")||h.a.isEventKey(e,"Enter")?e.stopPropagation():t.prototype.handleKeyDown.call(this,e)},e}(tn);yt.registerComponent("Button",cn);var un=function(n){function e(e,t){var o;return(o=n.call(this,e,t)||this).mouseused_=!1,o.on("mousedown",o.handleMouseDown),o}_t(e,n);var t=e.prototype;return t.buildCSSClass=function(){return"vjs-big-play-button"},t.handleClick=function(e){var t=this.player_.play();if(this.mouseused_&&e.clientX&&e.clientY)return ao(t),void(this.player_.tech(!0)&&this.player_.tech(!0).focus());var o=this.player_.getChild("controlBar"),n=o&&o.getChild("playToggle");if(n){var r=function(){return n.focus()};io(t)?t.then(r,function(){}):this.setTimeout(r,1)}else this.player_.tech(!0).focus()},t.handleKeyDown=function(e){this.mouseused_=!1,n.prototype.handleKeyDown.call(this,e)},t.handleMouseDown=function(e){this.mouseused_=!0},e}(cn);un.prototype.controlText_="Play Video",yt.registerComponent("BigPlayButton",un);var dn=function(n){function e(e,t){var o;return(o=n.call(this,e,t)||this).controlText(t&&t.controlText||o.localize("Close")),o}_t(e,n);var t=e.prototype;return t.buildCSSClass=function(){return"vjs-close-button "+n.prototype.buildCSSClass.call(this)},t.handleClick=function(e){this.trigger({type:"close",bubbles:!1})},t.handleKeyDown=function(e){h.a.isEventKey(e,"Esc")?(e.preventDefault(),e.stopPropagation(),this.trigger("click")):n.prototype.handleKeyDown.call(this,e)},e}(cn);yt.registerComponent("CloseButton",dn);var pn=function(n){function e(e,t){var o;return void 0===t&&(t={}),o=n.call(this,e,t)||this,t.replay=void 0===t.replay||t.replay,o.on(e,"play",o.handlePlay),o.on(e,"pause",o.handlePause),t.replay&&o.on(e,"ended",o.handleEnded),o}_t(e,n);var t=e.prototype;return t.buildCSSClass=function(){return"vjs-play-control "+n.prototype.buildCSSClass.call(this)},t.handleClick=function(e){this.player_.paused()?this.player_.play():this.player_.pause()},t.handleSeeked=function(e){this.removeClass("vjs-ended"),this.player_.paused()?this.handlePause(e):this.handlePlay(e)},t.handlePlay=function(e){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.controlText("Pause")},t.handlePause=function(e){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.controlText("Play")},t.handleEnded=function(e){this.removeClass("vjs-playing"),this.addClass("vjs-ended"),this.controlText("Replay"),this.one(this.player_,"seeked",this.handleSeeked)},e}(cn);pn.prototype.controlText_="Play",yt.registerComponent("PlayToggle",pn);var hn=function(e,t){e=e<0?0:e;var o=Math.floor(e%60),n=Math.floor(e/60%60),r=Math.floor(e/3600),i=Math.floor(t/60%60),a=Math.floor(t/3600);return(isNaN(e)||e===1/0)&&(r=n=o="-"),(r=0<r||0<a?r+":":"")+(n=((r||10<=i)&&n<10?"0"+n:n)+":")+(o=o<10?"0"+o:o)},gn=hn;function fn(e,t){return void 0===t&&(t=e),gn(e,t)}var mn=function(n){function e(e,t){var o;return(o=n.call(this,e,t)||this).throttledUpdateContent=tt(et(Et(o),o.updateContent),30),o.on(e,"timeupdate",o.throttledUpdateContent),o}_t(e,n);var t=e.prototype;return t.createEl=function(){var e=this.buildCSSClass(),t=n.prototype.createEl.call(this,"div",{className:e+" vjs-time-control vjs-control",innerHTML:'<span class="vjs-control-text" role="presentation">'+this.localize(this.labelText_)+" </span>"});return this.contentEl_=ie("span",{className:e+"-display"},{"aria-live":"off",role:"presentation"}),this.updateTextNode_(),t.appendChild(this.contentEl_),t},t.dispose=function(){this.contentEl_=null,this.textNode_=null,n.prototype.dispose.call(this)},t.updateTextNode_=function(){if(this.contentEl_){for(;this.contentEl_.firstChild;)this.contentEl_.removeChild(this.contentEl_.firstChild);this.textNode_=d.a.createTextNode(this.formattedTime_||this.formatTime_(0)),this.contentEl_.appendChild(this.textNode_)}},t.formatTime_=function(e){return fn(e)},t.updateFormattedTime_=function(e){var t=this.formatTime_(e);t!==this.formattedTime_&&(this.formattedTime_=t,this.requestAnimationFrame(this.updateTextNode_))},t.updateContent=function(e){},e}(yt);mn.prototype.labelText_="Time",mn.prototype.controlText_="Time",yt.registerComponent("TimeDisplay",mn);var yn=function(n){function e(e,t){var o;return(o=n.call(this,e,t)||this).on(e,"ended",o.handleEnded),o}_t(e,n);var t=e.prototype;return t.buildCSSClass=function(){return"vjs-current-time"},t.updateContent=function(e){var t=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();this.updateFormattedTime_(t)},t.handleEnded=function(e){this.player_.duration()&&this.updateFormattedTime_(this.player_.duration())},e}(mn);yn.prototype.labelText_="Current Time",yn.prototype.controlText_="Current Time",yt.registerComponent("CurrentTimeDisplay",yn);var _n=function(n){function e(e,t){var o;return(o=n.call(this,e,t)||this).on(e,"durationchange",o.updateContent),o.on(e,"loadstart",o.updateContent),o.on(e,"loadedmetadata",o.throttledUpdateContent),o}_t(e,n);var t=e.prototype;return t.buildCSSClass=function(){return"vjs-duration"},t.updateContent=function(e){var t=this.player_.duration();this.duration_!==t&&(this.duration_=t,this.updateFormattedTime_(t))},e}(mn);_n.prototype.labelText_="Duration",_n.prototype.controlText_="Duration",yt.registerComponent("DurationDisplay",_n);var vn=function(e){function t(){return e.apply(this,arguments)||this}return _t(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-time-control vjs-time-divider",innerHTML:"<div><span>/</span></div>"},{"aria-hidden":!0})},t}(yt);yt.registerComponent("TimeDivider",vn);var bn=function(n){function e(e,t){var o;return(o=n.call(this,e,t)||this).on(e,"durationchange",o.throttledUpdateContent),o.on(e,"ended",o.handleEnded),o}_t(e,n);var t=e.prototype;return t.buildCSSClass=function(){return"vjs-remaining-time"},t.createEl=function(){var e=n.prototype.createEl.call(this);return e.insertBefore(ie("span",{},{"aria-hidden":!0},"-"),this.contentEl_),e},t.updateContent=function(e){"number"==typeof this.player_.duration()&&(this.player_.remainingTimeDisplay?this.updateFormattedTime_(this.player_.remainingTimeDisplay()):this.updateFormattedTime_(this.player_.remainingTime()))},t.handleEnded=function(e){this.player_.duration()&&this.updateFormattedTime_(0)},e}(mn);bn.prototype.labelText_="Remaining Time",bn.prototype.controlText_="Remaining Time",yt.registerComponent("RemainingTimeDisplay",bn);var En=function(n){function e(e,t){var o;return(o=n.call(this,e,t)||this).updateShowing(),o.on(o.player(),"durationchange",o.updateShowing),o}_t(e,n);var t=e.prototype;return t.createEl=function(){var e=n.prototype.createEl.call(this,"div",{className:"vjs-live-control vjs-control"});return this.contentEl_=ie("div",{className:"vjs-live-display",innerHTML:'<span class="vjs-control-text">'+this.localize("Stream Type")+" </span>"+this.localize("LIVE")},{"aria-live":"off"}),e.appendChild(this.contentEl_),e},t.dispose=function(){this.contentEl_=null,n.prototype.dispose.call(this)},t.updateShowing=function(e){this.player().duration()===1/0?this.show():this.hide()},e}(yt);yt.registerComponent("LiveDisplay",En);var Tn=function(n){function e(e,t){var o;return(o=n.call(this,e,t)||this).updateLiveEdgeStatus(),o.player_.liveTracker&&o.on(o.player_.liveTracker,"liveedgechange",o.updateLiveEdgeStatus),o}_t(e,n);var t=e.prototype;return t.createEl=function(){var e=n.prototype.createEl.call(this,"button",{className:"vjs-seek-to-live-control vjs-control"});return this.textEl_=ie("span",{className:"vjs-seek-to-live-text",innerHTML:this.localize("LIVE")},{"aria-hidden":"true"}),e.appendChild(this.textEl_),e},t.updateLiveEdgeStatus=function(e){!this.player_.liveTracker||this.player_.liveTracker.atLiveEdge()?(this.setAttribute("aria-disabled",!0),this.addClass("vjs-at-live-edge"),this.controlText("Seek to live, currently playing live")):(this.setAttribute("aria-disabled",!1),this.removeClass("vjs-at-live-edge"),this.controlText("Seek to live, currently behind live"))},t.handleClick=function(){this.player_.liveTracker.seekToLiveEdge()},t.dispose=function(){this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.updateLiveEdgeStatus),this.textEl_=null,n.prototype.dispose.call(this)},e}(cn);Tn.prototype.controlText_="Seek to live, currently playing live",yt.registerComponent("SeekToLive",Tn);var Sn=function(n){function e(e,t){var o;return(o=n.call(this,e,t)||this).bar=o.getChild(o.options_.barName),o.vertical(!!o.options_.vertical),o.enable(),o}_t(e,n);var t=e.prototype;return t.enabled=function(){return this.enabled_},t.enable=function(){this.enabled()||(this.on("mousedown",this.handleMouseDown),this.on("touchstart",this.handleMouseDown),this.on("keydown",this.handleKeyDown),this.on("click",this.handleClick),this.on(this.player_,"controlsvisible",this.update),this.playerEvent&&this.on(this.player_,this.playerEvent,this.update),this.removeClass("disabled"),this.setAttribute("tabindex",0),this.enabled_=!0)},t.disable=function(){if(this.enabled()){var e=this.bar.el_.ownerDocument;this.off("mousedown",this.handleMouseDown),this.off("touchstart",this.handleMouseDown),this.off("keydown",this.handleKeyDown),this.off("click",this.handleClick),this.off(this.player_,"controlsvisible",this.update),this.off(e,"mousemove",this.handleMouseMove),this.off(e,"mouseup",this.handleMouseUp),this.off(e,"touchmove",this.handleMouseMove),this.off(e,"touchend",this.handleMouseUp),this.removeAttribute("tabindex"),this.addClass("disabled"),this.playerEvent&&this.off(this.player_,this.playerEvent,this.update),this.enabled_=!1}},t.createEl=function(e,t,o){return void 0===t&&(t={}),void 0===o&&(o={}),t.className=t.className+" vjs-slider",t=X({tabIndex:0},t),o=X({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100,tabIndex:0},o),n.prototype.createEl.call(this,e,t,o)},t.handleMouseDown=function(e){var t=this.bar.el_.ownerDocument;"mousedown"===e.type&&e.preventDefault(),"touchstart"!==e.type||Ft||e.preventDefault(),ye(),this.addClass("vjs-sliding"),this.trigger("slideractive"),this.on(t,"mousemove",this.handleMouseMove),this.on(t,"mouseup",this.handleMouseUp),this.on(t,"touchmove",this.handleMouseMove),this.on(t,"touchend",this.handleMouseUp),this.handleMouseMove(e)},t.handleMouseMove=function(e){},t.handleMouseUp=function(){var e=this.bar.el_.ownerDocument;_e(),this.removeClass("vjs-sliding"),this.trigger("sliderinactive"),this.off(e,"mousemove",this.handleMouseMove),this.off(e,"mouseup",this.handleMouseUp),this.off(e,"touchmove",this.handleMouseMove),this.off(e,"touchend",this.handleMouseUp),this.update()},t.update=function(){if(this.el_){var e=this.getPercent(),t=this.bar;if(t){("number"!=typeof e||e!=e||e<0||e===1/0)&&(e=0);var o=(100*e).toFixed(2)+"%",n=t.el().style,r=this.vertical()?"height":"width";return n[r]!==o&&(n[r]=o),e}}},t.calculateDistance=function(e){var t=Ee(this.el_,e);return this.vertical()?t.y:t.x},t.handleKeyDown=function(e){h.a.isEventKey(e,"Left")||h.a.isEventKey(e,"Down")?(e.preventDefault(),e.stopPropagation(),this.stepBack()):h.a.isEventKey(e,"Right")||h.a.isEventKey(e,"Up")?(e.preventDefault(),e.stopPropagation(),this.stepForward()):n.prototype.handleKeyDown.call(this,e)},t.handleClick=function(e){e.stopPropagation(),e.preventDefault()},t.vertical=function(e){if(void 0===e)return this.vertical_||!1;this.vertical_=!!e,this.vertical_?this.addClass("vjs-slider-vertical"):this.addClass("vjs-slider-horizontal")},e}(yt);yt.registerComponent("Slider",Sn);var kn=function(n){function e(e,t){var o;return(o=n.call(this,e,t)||this).partEls_=[],o.on(e,"progress",o.update),o}_t(e,n);var t=e.prototype;return t.createEl=function(){return n.prototype.createEl.call(this,"div",{className:"vjs-load-progress",innerHTML:'<span class="vjs-control-text"><span>'+this.localize("Loaded")+'</span>: <span class="vjs-control-text-loaded-percentage">0%</span></span>'})},t.dispose=function(){this.partEls_=null,n.prototype.dispose.call(this)},t.update=function(e){var t=this.player_.liveTracker,o=this.player_.buffered(),n=t&&t.isLive()?t.seekableEnd():this.player_.duration(),r=this.player_.bufferedEnd(),i=this.partEls_,a=this.$(".vjs-control-text-loaded-percentage"),s=function(e,t,o){var n=e/t||0;return n=100*(1<=n?1:n),o&&(n=n.toFixed(2)),n+"%"};this.el_.style.width=s(r,n),ae(a,s(r,n,!0));for(var l=0;l<o.length;l++){var c=o.start(l),u=o.end(l),d=i[l];d||(d=this.el_.appendChild(ie()),i[l]=d),d.style.left=s(c,r),d.style.width=s(u-c,r)}for(var p=i.length;p>o.length;p--)this.el_.removeChild(i[p-1]);i.length=o.length},e}(yt);yt.registerComponent("LoadProgressBar",kn);var Cn=function(n){function e(e,t){var o;return(o=n.call(this,e,t)||this).update=tt(et(Et(o),o.update),30),o}_t(e,n);var t=e.prototype;return t.createEl=function(){return n.prototype.createEl.call(this,"div",{className:"vjs-time-tooltip"},{"aria-hidden":"true"})},t.update=function(e,t,o){var n=ve(this.el_),r=ve(this.player_.el()),i=e.width*t;if(r&&n){var a=e.left-r.left+i,s=e.width-i+(r.right-e.right),l=n.width/2;a<l?l+=l-a:s<l&&(l=s),l<0?l=0:l>n.width&&(l=n.width),this.el_.style.right="-"+l+"px",this.write(o)}},t.write=function(e){ae(this.el_,e)},t.updateTime=function(r,i,a,s){var l=this;this.rafId_&&this.cancelAnimationFrame(this.rafId_),this.rafId_=this.requestAnimationFrame(function(){var e,t=l.player_.duration();if(l.player_.liveTracker&&l.player_.liveTracker.isLive()){var o=l.player_.liveTracker.liveWindow(),n=o-i*o;e=(n<1?"":"-")+fn(n,o)}else e=fn(a,t);l.update(r,i,e),s&&s()})},e}(yt);yt.registerComponent("TimeTooltip",Cn);var An=function(n){function e(e,t){var o;return(o=n.call(this,e,t)||this).update=tt(et(Et(o),o.update),30),o}_t(e,n);var t=e.prototype;return t.createEl=function(){return n.prototype.createEl.call(this,"div",{className:"vjs-play-progress vjs-slider-bar"},{"aria-hidden":"true"})},t.update=function(e,t){var o=this.getChild("timeTooltip");if(o){var n=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();o.updateTime(e,t,n)}},e}(yt);An.prototype.options_={children:[]},Nt||Lt||An.prototype.options_.children.push("timeTooltip"),yt.registerComponent("PlayProgressBar",An);var On=function(n){function e(e,t){var o;return(o=n.call(this,e,t)||this).update=tt(et(Et(o),o.update),30),o}_t(e,n);var t=e.prototype;return t.createEl=function(){return n.prototype.createEl.call(this,"div",{className:"vjs-mouse-display"})},t.update=function(e,t){var o=this,n=t*this.player_.duration();this.getChild("timeTooltip").updateTime(e,t,n,function(){o.el_.style.left=e.width*t+"px"})},e}(yt);On.prototype.options_={children:["timeTooltip"]},yt.registerComponent("MouseTimeDisplay",On);var wn=function(n){function e(e,t){var o;return(o=n.call(this,e,t)||this).setEventHandlers_(),o}_t(e,n);var t=e.prototype;return t.setEventHandlers_=function(){this.update=tt(et(this,this.update),30),this.on(this.player_,"timeupdate",this.update),this.on(this.player_,"ended",this.handleEnded),this.on(this.player_,"durationchange",this.update),this.player_.liveTracker&&this.on(this.player_.liveTracker,"liveedgechange",this.update),this.updateInterval=null,this.on(this.player_,["playing"],this.enableInterval_),this.on(this.player_,["ended","pause","waiting"],this.disableInterval_),"hidden"in d.a&&"visibilityState"in d.a&&this.on(d.a,"visibilitychange",this.toggleVisibility_)},t.toggleVisibility_=function(e){d.a.hidden?this.disableInterval_(e):(this.enableInterval_(),this.requestAnimationFrame(this.update))},t.enableInterval_=function(){var e=this;this.clearInterval(this.updateInterval),this.updateInterval=this.setInterval(function(){e.requestAnimationFrame(e.update)},30)},t.disableInterval_=function(e){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&"ended"!==e.type||this.clearInterval(this.updateInterval)},t.createEl=function(){return n.prototype.createEl.call(this,"div",{className:"vjs-progress-holder"},{"aria-label":this.localize("Progress Bar")})},t.update_=function(e,t){var o=this.player_.liveTracker,n=this.player_.duration();o&&o.isLive()&&(n=this.player_.liveTracker.liveCurrentTime()),this.el_.setAttribute("aria-valuenow",(100*t).toFixed(2)),this.el_.setAttribute("aria-valuetext",this.localize("progress bar timing: currentTime={1} duration={2}",[fn(e,n),fn(n,n)],"{1} of {2}")),this.bar&&this.bar.update(ve(this.el_),t)},t.update=function(e){if(null!==this.el().offsetParent){var t=n.prototype.update.call(this);return this.update_(this.getCurrentTime_(),t),t}},t.getCurrentTime_=function(){return this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime()},t.handleEnded=function(e){this.update_(this.player_.duration(),1)},t.getPercent=function(){var e,t=this.getCurrentTime_(),o=this.player_.liveTracker;return o&&o.isLive()?(e=(t-o.seekableStart())/o.liveWindow(),o.atLiveEdge()&&(e=1)):e=t/this.player_.duration(),1<=e?1:e||0},t.handleMouseDown=function(e){Oe(e)&&(e.stopPropagation(),this.player_.scrubbing(!0),this.videoWasPlaying=!this.player_.paused(),this.player_.pause(),n.prototype.handleMouseDown.call(this,e))},t.handleMouseMove=function(e){if(Oe(e)){var t,o=this.calculateDistance(e),n=this.player_.liveTracker;if(n&&n.isLive()){var r=n.seekableStart(),i=n.liveCurrentTime();if(i<=(t=r+o*n.liveWindow())&&(t=i),t<=r&&(t=r+.1),t===1/0)return}else(t=o*this.player_.duration())===this.player_.duration()&&(t-=.1);this.player_.currentTime(t)}},t.enable=function(){n.prototype.enable.call(this);var e=this.getChild("mouseTimeDisplay");e&&e.show()},t.disable=function(){n.prototype.disable.call(this);var e=this.getChild("mouseTimeDisplay");e&&e.hide()},t.handleMouseUp=function(e){n.prototype.handleMouseUp.call(this,e),e&&e.stopPropagation(),this.player_.scrubbing(!1),this.player_.trigger({type:"timeupdate",target:this,manuallyTriggered:!0}),this.videoWasPlaying&&ao(this.player_.play())},t.stepForward=function(){this.player_.currentTime(this.player_.currentTime()+5)},t.stepBack=function(){this.player_.currentTime(this.player_.currentTime()-5)},t.handleAction=function(e){this.player_.paused()?this.player_.play():this.player_.pause()},t.handleKeyDown=function(e){if(h.a.isEventKey(e,"Space")||h.a.isEventKey(e,"Enter"))e.preventDefault(),e.stopPropagation(),this.handleAction(e);else if(h.a.isEventKey(e,"Home"))e.preventDefault(),e.stopPropagation(),this.player_.currentTime(0);else if(h.a.isEventKey(e,"End"))e.preventDefault(),e.stopPropagation(),this.player_.currentTime(this.player_.duration());else if(/^[0-9]$/.test(h()(e))){e.preventDefault(),e.stopPropagation();var t=10*(h.a.codes[h()(e)]-h.a.codes[0])/100;this.player_.currentTime(this.player_.duration()*t)}else h.a.isEventKey(e,"PgDn")?(e.preventDefault(),e.stopPropagation(),this.player_.currentTime(this.player_.currentTime()-60)):h.a.isEventKey(e,"PgUp")?(e.preventDefault(),e.stopPropagation(),this.player_.currentTime(this.player_.currentTime()+60)):n.prototype.handleKeyDown.call(this,e)},e}(Sn);wn.prototype.options_={children:["loadProgressBar","playProgressBar"],barName:"playProgressBar"},Nt||Lt||wn.prototype.options_.children.splice(1,0,"mouseTimeDisplay"),yt.registerComponent("SeekBar",wn);var Bn=function(n){function e(e,t){var o;return(o=n.call(this,e,t)||this).handleMouseMove=tt(et(Et(o),o.handleMouseMove),30),o.throttledHandleMouseSeek=tt(et(Et(o),o.handleMouseSeek),30),o.enable(),o}_t(e,n);var t=e.prototype;return t.createEl=function(){return n.prototype.createEl.call(this,"div",{className:"vjs-progress-control vjs-control"})},t.handleMouseMove=function(e){var t=this.getChild("seekBar");if(t){var o=t.getChild("mouseTimeDisplay"),n=t.el(),r=ve(n),i=Ee(n,e).x;1<i?i=1:i<0&&(i=0),o&&o.update(r,i)}},t.handleMouseSeek=function(e){var t=this.getChild("seekBar");t&&t.handleMouseMove(e)},t.enabled=function(){return this.enabled_},t.disable=function(){this.children().forEach(function(e){return e.disable&&e.disable()}),this.enabled()&&(this.off(["mousedown","touchstart"],this.handleMouseDown),this.off(this.el_,"mousemove",this.handleMouseMove),this.handleMouseUp(),this.addClass("disabled"),this.enabled_=!1)},t.enable=function(){this.children().forEach(function(e){return e.enable&&e.enable()}),this.enabled()||(this.on(["mousedown","touchstart"],this.handleMouseDown),this.on(this.el_,"mousemove",this.handleMouseMove),this.removeClass("disabled"),this.enabled_=!0)},t.handleMouseDown=function(e){var t=this.el_.ownerDocument,o=this.getChild("seekBar");o&&o.handleMouseDown(e),this.on(t,"mousemove",this.throttledHandleMouseSeek),this.on(t,"touchmove",this.throttledHandleMouseSeek),this.on(t,"mouseup",this.handleMouseUp),this.on(t,"touchend",this.handleMouseUp)},t.handleMouseUp=function(e){var t=this.el_.ownerDocument,o=this.getChild("seekBar");o&&o.handleMouseUp(e),this.off(t,"mousemove",this.throttledHandleMouseSeek),this.off(t,"touchmove",this.throttledHandleMouseSeek),this.off(t,"mouseup",this.handleMouseUp),this.off(t,"touchend",this.handleMouseUp)},e}(yt);Bn.prototype.options_={children:["seekBar"]},yt.registerComponent("ProgressControl",Bn);var In=function(n){function e(e,t){var o;return(o=n.call(this,e,t)||this).on(e,["enterpictureinpicture","leavepictureinpicture"],o.handlePictureInPictureChange),d.a.pictureInPictureEnabled||o.disable(),o}_t(e,n);var t=e.prototype;return t.buildCSSClass=function(){return"vjs-picture-in-picture-control "+n.prototype.buildCSSClass.call(this)},t.handlePictureInPictureChange=function(e){this.player_.isInPictureInPicture()?this.controlText("Exit Picture-in-Picture"):this.controlText("Picture-in-Picture")},t.handleClick=function(e){this.player_.isInPictureInPicture()?this.player_.exitPictureInPicture():this.player_.requestPictureInPicture()},e}(cn);In.prototype.controlText_="Picture-in-Picture",yt.registerComponent("PictureInPictureToggle",In);var Rn=function(n){function e(e,t){var o;return(o=n.call(this,e,t)||this).on(e,"fullscreenchange",o.handleFullscreenChange),!1===d.a[e.fsApi_.fullscreenEnabled]&&o.disable(),o}_t(e,n);var t=e.prototype;return t.buildCSSClass=function(){return"vjs-fullscreen-control "+n.prototype.buildCSSClass.call(this)},t.handleFullscreenChange=function(e){this.player_.isFullscreen()?this.controlText("Non-Fullscreen"):this.controlText("Fullscreen")},t.handleClick=function(e){this.player_.isFullscreen()?this.player_.exitFullscreen():this.player_.requestFullscreen()},e}(cn);Rn.prototype.controlText_="Fullscreen",yt.registerComponent("FullscreenToggle",Rn);var Nn=function(e){function t(){return e.apply(this,arguments)||this}return _t(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-volume-level",innerHTML:'<span class="vjs-control-text"></span>'})},t}(yt);yt.registerComponent("VolumeLevel",Nn);var Pn=function(n){function e(e,t){var o;return(o=n.call(this,e,t)||this).on("slideractive",o.updateLastVolume_),o.on(e,"volumechange",o.updateARIAAttributes),e.ready(function(){return o.updateARIAAttributes()}),o}_t(e,n);var t=e.prototype;return t.createEl=function(){return n.prototype.createEl.call(this,"div",{className:"vjs-volume-bar vjs-slider-bar"},{"aria-label":this.localize("Volume Level"),"aria-live":"polite"})},t.handleMouseDown=function(e){Oe(e)&&n.prototype.handleMouseDown.call(this,e)},t.handleMouseMove=function(e){Oe(e)&&(this.checkMuted(),this.player_.volume(this.calculateDistance(e)))},t.checkMuted=function(){this.player_.muted()&&this.player_.muted(!1)},t.getPercent=function(){return this.player_.muted()?0:this.player_.volume()},t.stepForward=function(){this.checkMuted(),this.player_.volume(this.player_.volume()+.1)},t.stepBack=function(){this.checkMuted(),this.player_.volume(this.player_.volume()-.1)},t.updateARIAAttributes=function(e){var t=this.player_.muted()?0:this.volumeAsPercentage_();this.el_.setAttribute("aria-valuenow",t),this.el_.setAttribute("aria-valuetext",t+"%")},t.volumeAsPercentage_=function(){return Math.round(100*this.player_.volume())},t.updateLastVolume_=function(){var e=this,t=this.player_.volume();this.one("sliderinactive",function(){0===e.player_.volume()&&e.player_.lastVolume_(t)})},e}(Sn);Pn.prototype.options_={children:["volumeLevel"],barName:"volumeLevel"},Pn.prototype.playerEvent="volumechange",yt.registerComponent("VolumeBar",Pn);var Ln=function(n){function e(e,t){var o;return void 0===t&&(t={}),t.vertical=t.vertical||!1,(void 0===t.volumeBar||Q(t.volumeBar))&&(t.volumeBar=t.volumeBar||{},t.volumeBar.vertical=t.vertical),function(e,t){t.tech_&&!t.tech_.featuresVolumeControl&&e.addClass("vjs-hidden"),e.on(t,"loadstart",function(){t.tech_.featuresVolumeControl?e.removeClass("vjs-hidden"):e.addClass("vjs-hidden")})}(Et(o=n.call(this,e,t)||this),e),o.throttledHandleMouseMove=tt(et(Et(o),o.handleMouseMove),30),o.on("mousedown",o.handleMouseDown),o.on("touchstart",o.handleMouseDown),o.on(o.volumeBar,["focus","slideractive"],function(){o.volumeBar.addClass("vjs-slider-active"),o.addClass("vjs-slider-active"),o.trigger("slideractive")}),o.on(o.volumeBar,["blur","sliderinactive"],function(){o.volumeBar.removeClass("vjs-slider-active"),o.removeClass("vjs-slider-active"),o.trigger("sliderinactive")}),o}_t(e,n);var t=e.prototype;return t.createEl=function(){var e="vjs-volume-horizontal";return this.options_.vertical&&(e="vjs-volume-vertical"),n.prototype.createEl.call(this,"div",{className:"vjs-volume-control vjs-control "+e})},t.handleMouseDown=function(e){var t=this.el_.ownerDocument;this.on(t,"mousemove",this.throttledHandleMouseMove),this.on(t,"touchmove",this.throttledHandleMouseMove),this.on(t,"mouseup",this.handleMouseUp),this.on(t,"touchend",this.handleMouseUp)},t.handleMouseUp=function(e){var t=this.el_.ownerDocument;this.off(t,"mousemove",this.throttledHandleMouseMove),this.off(t,"touchmove",this.throttledHandleMouseMove),this.off(t,"mouseup",this.handleMouseUp),this.off(t,"touchend",this.handleMouseUp)},t.handleMouseMove=function(e){this.volumeBar.handleMouseMove(e)},e}(yt);Ln.prototype.options_={children:["volumeBar"]},yt.registerComponent("VolumeControl",Ln);var xn=function(n){function e(e,t){var o;return function(e,t){t.tech_&&!t.tech_.featuresMuteControl&&e.addClass("vjs-hidden"),e.on(t,"loadstart",function(){t.tech_.featuresMuteControl?e.removeClass("vjs-hidden"):e.addClass("vjs-hidden")})}(Et(o=n.call(this,e,t)||this),e),o.on(e,["loadstart","volumechange"],o.update),o}_t(e,n);var t=e.prototype;return t.buildCSSClass=function(){return"vjs-mute-control "+n.prototype.buildCSSClass.call(this)},t.handleClick=function(e){var t=this.player_.volume(),o=this.player_.lastVolume_();if(0===t){var n=o<.1?.1:o;this.player_.volume(n),this.player_.muted(!1)}else this.player_.muted(!this.player_.muted())},t.update=function(e){this.updateIcon_(),this.updateControlText_()},t.updateIcon_=function(){var e=this.player_.volume(),t=3;Nt&&this.player_.tech_&&this.player_.tech_.el_&&this.player_.muted(this.player_.tech_.el_.muted),0===e||this.player_.muted()?t=0:e<.33?t=1:e<.67&&(t=2);for(var o=0;o<4;o++)ue(this.el_,"vjs-vol-"+o);ce(this.el_,"vjs-vol-"+t)},t.updateControlText_=function(){var e=this.player_.muted()||0===this.player_.volume()?"Unmute":"Mute";this.controlText()!==e&&this.controlText(e)},e}(cn);xn.prototype.controlText_="Mute",yt.registerComponent("MuteToggle",xn);var Dn=function(n){function e(e,t){var o;return void 0===t&&(t={}),void 0!==t.inline?t.inline=t.inline:t.inline=!0,(void 0===t.volumeControl||Q(t.volumeControl))&&(t.volumeControl=t.volumeControl||{},t.volumeControl.vertical=!t.inline),(o=n.call(this,e,t)||this).on(e,["loadstart"],o.volumePanelState_),o.on(o.muteToggle,"keyup",o.handleKeyPress),o.on(o.volumeControl,"keyup",o.handleVolumeControlKeyUp),o.on("keydown",o.handleKeyPress),o.on("mouseover",o.handleMouseOver),o.on("mouseout",o.handleMouseOut),o.on(o.volumeControl,["slideractive"],o.sliderActive_),o.on(o.volumeControl,["sliderinactive"],o.sliderInactive_),o}_t(e,n);var t=e.prototype;return t.sliderActive_=function(){this.addClass("vjs-slider-active")},t.sliderInactive_=function(){this.removeClass("vjs-slider-active")},t.volumePanelState_=function(){this.volumeControl.hasClass("vjs-hidden")&&this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-hidden"),this.volumeControl.hasClass("vjs-hidden")&&!this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-mute-toggle-only")},t.createEl=function(){var e="vjs-volume-panel-horizontal";return this.options_.inline||(e="vjs-volume-panel-vertical"),n.prototype.createEl.call(this,"div",{className:"vjs-volume-panel vjs-control "+e})},t.dispose=function(){this.handleMouseOut(),n.prototype.dispose.call(this)},t.handleVolumeControlKeyUp=function(e){h.a.isEventKey(e,"Esc")&&this.muteToggle.focus()},t.handleMouseOver=function(e){this.addClass("vjs-hover"),Ke(d.a,"keyup",et(this,this.handleKeyPress))},t.handleMouseOut=function(e){this.removeClass("vjs-hover"),Ye(d.a,"keyup",et(this,this.handleKeyPress))},t.handleKeyPress=function(e){h.a.isEventKey(e,"Esc")&&this.handleMouseOut()},e}(yt);Dn.prototype.options_={children:["muteToggle","volumeControl"]},yt.registerComponent("VolumePanel",Dn);var Mn=function(n){function e(e,t){var o;return o=n.call(this,e,t)||this,t&&(o.menuButton_=t.menuButton),o.focusedChild_=-1,o.on("keydown",o.handleKeyDown),o.boundHandleBlur_=et(Et(o),o.handleBlur),o.boundHandleTapClick_=et(Et(o),o.handleTapClick),o}_t(e,n);var t=e.prototype;return t.addEventListenerForItem=function(e){e instanceof yt&&(this.on(e,"blur",this.boundHandleBlur_),this.on(e,["tap","click"],this.boundHandleTapClick_))},t.removeEventListenerForItem=function(e){e instanceof yt&&(this.off(e,"blur",this.boundHandleBlur_),this.off(e,["tap","click"],this.boundHandleTapClick_))},t.removeChild=function(e){"string"==typeof e&&(e=this.getChild(e)),this.removeEventListenerForItem(e),n.prototype.removeChild.call(this,e)},t.addItem=function(e){var t=this.addChild(e);t&&this.addEventListenerForItem(t)},t.createEl=function(){var e=this.options_.contentElType||"ul";this.contentEl_=ie(e,{className:"vjs-menu-content"}),this.contentEl_.setAttribute("role","menu");var t=n.prototype.createEl.call(this,"div",{append:this.contentEl_,className:"vjs-menu"});return t.appendChild(this.contentEl_),Ke(t,"click",function(e){e.preventDefault(),e.stopImmediatePropagation()}),t},t.dispose=function(){this.contentEl_=null,this.boundHandleBlur_=null,this.boundHandleTapClick_=null,n.prototype.dispose.call(this)},t.handleBlur=function(e){var t=e.relatedTarget||d.a.activeElement;if(!this.children().some(function(e){return e.el()===t})){var o=this.menuButton_;o&&o.buttonPressed_&&t!==o.el().firstChild&&o.unpressButton()}},t.handleTapClick=function(t){if(this.menuButton_){this.menuButton_.unpressButton();var e=this.children();if(!Array.isArray(e))return;var o=e.filter(function(e){return e.el()===t.target})[0];if(!o)return;"CaptionSettingsMenuItem"!==o.name()&&this.menuButton_.focus()}},t.handleKeyDown=function(e){h.a.isEventKey(e,"Left")||h.a.isEventKey(e,"Down")?(e.preventDefault(),e.stopPropagation(),this.stepForward()):(h.a.isEventKey(e,"Right")||h.a.isEventKey(e,"Up"))&&(e.preventDefault(),e.stopPropagation(),this.stepBack())},t.stepForward=function(){var e=0;void 0!==this.focusedChild_&&(e=this.focusedChild_+1),this.focus(e)},t.stepBack=function(){var e=0;void 0!==this.focusedChild_&&(e=this.focusedChild_-1),this.focus(e)},t.focus=function(e){void 0===e&&(e=0);var t=this.children().slice();t.length&&t[0].className&&/vjs-menu-title/.test(t[0].className)&&t.shift(),0<t.length&&(e<0?e=0:e>=t.length&&(e=t.length-1),t[this.focusedChild_=e].el_.focus())},e}(yt);yt.registerComponent("Menu",Mn);var Un=function(r){function e(e,t){var o;void 0===t&&(t={}),(o=r.call(this,e,t)||this).menuButton_=new cn(e,t),o.menuButton_.controlText(o.controlText_),o.menuButton_.el_.setAttribute("aria-haspopup","true");var n=cn.prototype.buildCSSClass();return o.menuButton_.el_.className=o.buildCSSClass()+" "+n,o.menuButton_.removeClass("vjs-control"),o.addChild(o.menuButton_),o.update(),o.enabled_=!0,o.on(o.menuButton_,"tap",o.handleClick),o.on(o.menuButton_,"click",o.handleClick),o.on(o.menuButton_,"keydown",o.handleKeyDown),o.on(o.menuButton_,"mouseenter",function(){o.addClass("vjs-hover"),o.menu.show(),Ke(d.a,"keyup",et(Et(o),o.handleMenuKeyUp))}),o.on("mouseleave",o.handleMouseLeave),o.on("keydown",o.handleSubmenuKeyDown),o}_t(e,r);var t=e.prototype;return t.update=function(){var e=this.createMenu();this.menu&&(this.menu.dispose(),this.removeChild(this.menu)),this.menu=e,this.addChild(e),this.buttonPressed_=!1,this.menuButton_.el_.setAttribute("aria-expanded","false"),this.items&&this.items.length<=this.hideThreshold_?this.hide():this.show()},t.createMenu=function(){var e=new Mn(this.player_,{menuButton:this});if(this.hideThreshold_=0,this.options_.title){var t=ie("li",{className:"vjs-menu-title",innerHTML:ft(this.options_.title),tabIndex:-1});this.hideThreshold_+=1;var o=new yt(this.player_,{el:t});e.addItem(o)}if(this.items=this.createItems(),this.items)for(var n=0;n<this.items.length;n++)e.addItem(this.items[n]);return e},t.createItems=function(){},t.createEl=function(){return r.prototype.createEl.call(this,"div",{className:this.buildWrapperCSSClass()},{})},t.buildWrapperCSSClass=function(){var e="vjs-menu-button";return!0===this.options_.inline?e+="-inline":e+="-popup","vjs-menu-button "+e+" "+cn.prototype.buildCSSClass()+" "+r.prototype.buildCSSClass.call(this)},t.buildCSSClass=function(){var e="vjs-menu-button";return!0===this.options_.inline?e+="-inline":e+="-popup","vjs-menu-button "+e+" "+r.prototype.buildCSSClass.call(this)},t.controlText=function(e,t){return void 0===t&&(t=this.menuButton_.el()),this.menuButton_.controlText(e,t)},t.dispose=function(){this.handleMouseLeave(),r.prototype.dispose.call(this)},t.handleClick=function(e){this.buttonPressed_?this.unpressButton():this.pressButton()},t.handleMouseLeave=function(e){this.removeClass("vjs-hover"),Ye(d.a,"keyup",et(this,this.handleMenuKeyUp))},t.focus=function(){this.menuButton_.focus()},t.blur=function(){this.menuButton_.blur()},t.handleKeyDown=function(e){h.a.isEventKey(e,"Esc")||h.a.isEventKey(e,"Tab")?(this.buttonPressed_&&this.unpressButton(),h.a.isEventKey(e,"Tab")||(e.preventDefault(),this.menuButton_.focus())):(h.a.isEventKey(e,"Up")||h.a.isEventKey(e,"Down"))&&(this.buttonPressed_||(e.preventDefault(),this.pressButton()))},t.handleMenuKeyUp=function(e){(h.a.isEventKey(e,"Esc")||h.a.isEventKey(e,"Tab"))&&this.removeClass("vjs-hover")},t.handleSubmenuKeyPress=function(e){this.handleSubmenuKeyDown(e)},t.handleSubmenuKeyDown=function(e){(h.a.isEventKey(e,"Esc")||h.a.isEventKey(e,"Tab"))&&(this.buttonPressed_&&this.unpressButton(),h.a.isEventKey(e,"Tab")||(e.preventDefault(),this.menuButton_.focus()))},t.pressButton=function(){if(this.enabled_){if(this.buttonPressed_=!0,this.menu.show(),this.menu.lockShowing(),this.menuButton_.el_.setAttribute("aria-expanded","true"),Nt&&ne())return;this.menu.focus()}},t.unpressButton=function(){this.enabled_&&(this.buttonPressed_=!1,this.menu.unlockShowing(),this.menu.hide(),this.menuButton_.el_.setAttribute("aria-expanded","false"))},t.disable=function(){this.unpressButton(),this.enabled_=!1,this.addClass("vjs-disabled"),this.menuButton_.disable()},t.enable=function(){this.enabled_=!0,this.removeClass("vjs-disabled"),this.menuButton_.enable()},e}(yt);yt.registerComponent("MenuButton",Un);var Fn=function(i){function e(e,t){var o,n=t.tracks;if((o=i.call(this,e,t)||this).items.length<=1&&o.hide(),!n)return Et(o);var r=et(Et(o),o.update);return n.addEventListener("removetrack",r),n.addEventListener("addtrack",r),o.player_.on("ready",r),o.player_.on("dispose",function(){n.removeEventListener("removetrack",r),n.removeEventListener("addtrack",r)}),o}return _t(e,i),e}(Un);yt.registerComponent("TrackButton",Fn);var Hn=["Tab","Esc","Up","Down","Right","Left"],jn=function(n){function e(e,t){var o;return(o=n.call(this,e,t)||this).selectable=t.selectable,o.isSelected_=t.selected||!1,o.multiSelectable=t.multiSelectable,o.selected(o.isSelected_),o.selectable?o.multiSelectable?o.el_.setAttribute("role","menuitemcheckbox"):o.el_.setAttribute("role","menuitemradio"):o.el_.setAttribute("role","menuitem"),o}_t(e,n);var t=e.prototype;return t.createEl=function(e,t,o){return this.nonIconControl=!0,n.prototype.createEl.call(this,"li",X({className:"vjs-menu-item",innerHTML:'<span class="vjs-menu-item-text">'+this.localize(this.options_.label)+"</span>",tabIndex:-1},t),o)},t.handleKeyDown=function(t){Hn.some(function(e){return h.a.isEventKey(t,e)})||n.prototype.handleKeyDown.call(this,t)},t.handleClick=function(e){this.selected(!0)},t.selected=function(e){this.selectable&&(e?(this.addClass("vjs-selected"),this.el_.setAttribute("aria-checked","true"),this.controlText(", selected"),this.isSelected_=!0):(this.removeClass("vjs-selected"),this.el_.setAttribute("aria-checked","false"),this.controlText(""),this.isSelected_=!1))},e}(tn);yt.registerComponent("MenuItem",jn);var Gn=function(l){function e(e,t){var n,o=t.track,r=e.textTracks();t.label=o.label||o.language||"Unknown",t.selected="showing"===o.mode,(n=l.call(this,e,t)||this).track=o,n.kinds=(t.kinds||[t.kind||n.track.kind]).filter(Boolean);var i,a=function(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];n.handleTracksChange.apply(Et(n),t)},s=function(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];n.handleSelectedLanguageChange.apply(Et(n),t)};(e.on(["loadstart","texttrackchange"],a),r.addEventListener("change",a),r.addEventListener("selectedlanguagechange",s),n.on("dispose",function(){e.off(["loadstart","texttrackchange"],a),r.removeEventListener("change",a),r.removeEventListener("selectedlanguagechange",s)}),void 0===r.onchange)&&n.on(["tap","click"],function(){if("object"!=typeof _.a.Event)try{i=new _.a.Event("change")}catch(e){}i||(i=d.a.createEvent("Event")).initEvent("change",!0,!0),r.dispatchEvent(i)});return n.handleTracksChange(),n}_t(e,l);var t=e.prototype;return t.handleClick=function(e){var t=this.track,o=this.player_.textTracks();if(l.prototype.handleClick.call(this,e),o)for(var n=0;n<o.length;n++){var r=o[n];-1!==this.kinds.indexOf(r.kind)&&(r===t?"showing"!==r.mode&&(r.mode="showing"):"disabled"!==r.mode&&(r.mode="disabled"))}},t.handleTracksChange=function(e){var t="showing"===this.track.mode;t!==this.isSelected_&&this.selected(t)},t.handleSelectedLanguageChange=function(e){if("showing"===this.track.mode){var t=this.player_.cache_.selectedLanguage;if(t&&t.enabled&&t.language===this.track.language&&t.kind!==this.track.kind)return;this.player_.cache_.selectedLanguage={enabled:!0,language:this.track.language,kind:this.track.kind}}},t.dispose=function(){this.track=null,l.prototype.dispose.call(this)},e}(jn);yt.registerComponent("TextTrackMenuItem",Gn);var Vn=function(o){function e(e,t){return t.track={player:e,kind:t.kind,kinds:t.kinds,default:!1,mode:"disabled"},t.kinds||(t.kinds=[t.kind]),t.label?t.track.label=t.label:t.track.label=t.kinds.join(" and ")+" off",t.selectable=!0,t.multiSelectable=!1,o.call(this,e,t)||this}_t(e,o);var t=e.prototype;return t.handleTracksChange=function(e){for(var t=this.player().textTracks(),o=!0,n=0,r=t.length;n<r;n++){var i=t[n];if(-1<this.options_.kinds.indexOf(i.kind)&&"showing"===i.mode){o=!1;break}}o!==this.isSelected_&&this.selected(o)},t.handleSelectedLanguageChange=function(e){for(var t=this.player().textTracks(),o=!0,n=0,r=t.length;n<r;n++){var i=t[n];if(-1<["captions","descriptions","subtitles"].indexOf(i.kind)&&"showing"===i.mode){o=!1;break}}o&&(this.player_.cache_.selectedLanguage={enabled:!1})},e}(Gn);yt.registerComponent("OffTextTrackMenuItem",Vn);var Wn=function(o){function e(e,t){return void 0===t&&(t={}),t.tracks=e.textTracks(),o.call(this,e,t)||this}return _t(e,o),e.prototype.createItems=function(e,t){var o;void 0===e&&(e=[]),void 0===t&&(t=Gn),this.label_&&(o=this.label_+" off"),e.push(new Vn(this.player_,{kinds:this.kinds_,kind:this.kind_,label:o})),this.hideThreshold_+=1;var n=this.player_.textTracks();Array.isArray(this.kinds_)||(this.kinds_=[this.kind_]);for(var r=0;r<n.length;r++){var i=n[r];if(-1<this.kinds_.indexOf(i.kind)){var a=new t(this.player_,{track:i,kinds:this.kinds_,kind:this.kind_,selectable:!0,multiSelectable:!1});a.addClass("vjs-"+i.kind+"-menu-item"),e.push(a)}}return e},e}(Fn);yt.registerComponent("TextTrackButton",Wn);var zn=function(a){function e(e,t){var o,n=t.track,r=t.cue,i=e.currentTime();return t.selectable=!0,t.multiSelectable=!1,t.label=r.text,t.selected=r.startTime<=i&&i<r.endTime,(o=a.call(this,e,t)||this).track=n,o.cue=r,n.addEventListener("cuechange",et(Et(o),o.update)),o}_t(e,a);var t=e.prototype;return t.handleClick=function(e){a.prototype.handleClick.call(this),this.player_.currentTime(this.cue.startTime),this.update(this.cue.startTime)},t.update=function(e){var t=this.cue,o=this.player_.currentTime();this.selected(t.startTime<=o&&o<t.endTime)},e}(jn);yt.registerComponent("ChaptersTrackMenuItem",zn);var qn=function(n){function e(e,t,o){return n.call(this,e,t,o)||this}_t(e,n);var t=e.prototype;return t.buildCSSClass=function(){return"vjs-chapters-button "+n.prototype.buildCSSClass.call(this)},t.buildWrapperCSSClass=function(){return"vjs-chapters-button "+n.prototype.buildWrapperCSSClass.call(this)},t.update=function(e){this.track_&&(!e||"addtrack"!==e.type&&"removetrack"!==e.type)||this.setTrack(this.findChaptersTrack()),n.prototype.update.call(this)},t.setTrack=function(e){if(this.track_!==e){if(this.updateHandler_||(this.updateHandler_=this.update.bind(this)),this.track_){var t=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);t&&t.removeEventListener("load",this.updateHandler_),this.track_=null}if(this.track_=e,this.track_){this.track_.mode="hidden";var o=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);o&&o.addEventListener("load",this.updateHandler_)}}},t.findChaptersTrack=function(){for(var e=this.player_.textTracks()||[],t=e.length-1;0<=t;t--){var o=e[t];if(o.kind===this.kind_)return o}},t.getMenuCaption=function(){return this.track_&&this.track_.label?this.track_.label:this.localize(ft(this.kind_))},t.createMenu=function(){return this.options_.title=this.getMenuCaption(),n.prototype.createMenu.call(this)},t.createItems=function(){var e=[];if(!this.track_)return e;var t=this.track_.cues;if(!t)return e;for(var o=0,n=t.length;o<n;o++){var r=t[o],i=new zn(this.player_,{track:this.track_,cue:r});e.push(i)}return e},e}(Wn);qn.prototype.kind_="chapters",qn.prototype.controlText_="Chapters",yt.registerComponent("ChaptersButton",qn);var Kn=function(a){function e(e,t,o){var n;n=a.call(this,e,t,o)||this;var r=e.textTracks(),i=et(Et(n),n.handleTracksChange);return r.addEventListener("change",i),n.on("dispose",function(){r.removeEventListener("change",i)}),n}_t(e,a);var t=e.prototype;return t.handleTracksChange=function(e){for(var t=this.player().textTracks(),o=!1,n=0,r=t.length;n<r;n++){var i=t[n];if(i.kind!==this.kind_&&"showing"===i.mode){o=!0;break}}o?this.disable():this.enable()},t.buildCSSClass=function(){return"vjs-descriptions-button "+a.prototype.buildCSSClass.call(this)},t.buildWrapperCSSClass=function(){return"vjs-descriptions-button "+a.prototype.buildWrapperCSSClass.call(this)},e}(Wn);Kn.prototype.kind_="descriptions",Kn.prototype.controlText_="Descriptions",yt.registerComponent("DescriptionsButton",Kn);var Yn=function(n){function e(e,t,o){return n.call(this,e,t,o)||this}_t(e,n);var t=e.prototype;return t.buildCSSClass=function(){return"vjs-subtitles-button "+n.prototype.buildCSSClass.call(this)},t.buildWrapperCSSClass=function(){return"vjs-subtitles-button "+n.prototype.buildWrapperCSSClass.call(this)},e}(Wn);Yn.prototype.kind_="subtitles",Yn.prototype.controlText_="Subtitles",yt.registerComponent("SubtitlesButton",Yn);var Xn=function(n){function e(e,t){var o;return t.track={player:e,kind:t.kind,label:t.kind+" settings",selectable:!1,default:!1,mode:"disabled"},t.selectable=!1,t.name="CaptionSettingsMenuItem",(o=n.call(this,e,t)||this).addClass("vjs-texttrack-settings"),o.controlText(", opens "+t.kind+" settings dialog"),o}return _t(e,n),e.prototype.handleClick=function(e){this.player().getChild("textTrackSettings").open()},e}(Gn);yt.registerComponent("CaptionSettingsMenuItem",Xn);var Jn=function(n){function e(e,t,o){return n.call(this,e,t,o)||this}_t(e,n);var t=e.prototype;return t.buildCSSClass=function(){return"vjs-captions-button "+n.prototype.buildCSSClass.call(this)},t.buildWrapperCSSClass=function(){return"vjs-captions-button "+n.prototype.buildWrapperCSSClass.call(this)},t.createItems=function(){var e=[];return this.player().tech_&&this.player().tech_.featuresNativeTextTracks||!this.player().getChild("textTrackSettings")||(e.push(new Xn(this.player_,{kind:this.kind_})),this.hideThreshold_+=1),n.prototype.createItems.call(this,e)},e}(Wn);Jn.prototype.kind_="captions",Jn.prototype.controlText_="Captions",yt.registerComponent("CaptionsButton",Jn);var Qn=function(r){function e(){return r.apply(this,arguments)||this}return _t(e,r),e.prototype.createEl=function(e,t,o){var n='<span class="vjs-menu-item-text">'+this.localize(this.options_.label);return"captions"===this.options_.track.kind&&(n+='\n        <span aria-hidden="true" class="vjs-icon-placeholder"></span>\n        <span class="vjs-control-text"> '+this.localize("Captions")+"</span>\n      "),n+="</span>",r.prototype.createEl.call(this,e,X({innerHTML:n},t),o)},e}(Gn);yt.registerComponent("SubsCapsMenuItem",Qn);var $n=function(n){function e(e,t){var o;return void 0===t&&(t={}),(o=n.call(this,e,t)||this).label_="subtitles",-1<["en","en-us","en-ca","fr-ca"].indexOf(o.player_.language_)&&(o.label_="captions"),o.menuButton_.controlText(ft(o.label_)),o}_t(e,n);var t=e.prototype;return t.buildCSSClass=function(){return"vjs-subs-caps-button "+n.prototype.buildCSSClass.call(this)},t.buildWrapperCSSClass=function(){return"vjs-subs-caps-button "+n.prototype.buildWrapperCSSClass.call(this)},t.createItems=function(){var e=[];return this.player().tech_&&this.player().tech_.featuresNativeTextTracks||!this.player().getChild("textTrackSettings")||(e.push(new Xn(this.player_,{kind:this.label_})),this.hideThreshold_+=1),e=n.prototype.createItems.call(this,e,Qn)},e}(Wn);$n.prototype.kinds_=["captions","subtitles"],$n.prototype.controlText_="Subtitles",yt.registerComponent("SubsCapsButton",$n);var Zn=function(a){function e(e,t){var n,o=t.track,r=e.audioTracks();t.label=o.label||o.language||"Unknown",t.selected=o.enabled,(n=a.call(this,e,t)||this).track=o,n.addClass("vjs-"+o.kind+"-menu-item");var i=function(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];n.handleTracksChange.apply(Et(n),t)};return r.addEventListener("change",i),n.on("dispose",function(){r.removeEventListener("change",i)}),n}_t(e,a);var t=e.prototype;return t.createEl=function(e,t,o){var n='<span class="vjs-menu-item-text">'+this.localize(this.options_.label);return"main-desc"===this.options_.track.kind&&(n+='\n        <span aria-hidden="true" class="vjs-icon-placeholder"></span>\n        <span class="vjs-control-text"> '+this.localize("Descriptions")+"</span>\n      "),n+="</span>",a.prototype.createEl.call(this,e,X({innerHTML:n},t),o)},t.handleClick=function(e){var t=this.player_.audioTracks();a.prototype.handleClick.call(this,e);for(var o=0;o<t.length;o++){var n=t[o];n.enabled=n===this.track}},t.handleTracksChange=function(e){this.selected(this.track.enabled)},e}(jn);yt.registerComponent("AudioTrackMenuItem",Zn);var er=function(o){function e(e,t){return void 0===t&&(t={}),t.tracks=e.audioTracks(),o.call(this,e,t)||this}_t(e,o);var t=e.prototype;return t.buildCSSClass=function(){return"vjs-audio-button "+o.prototype.buildCSSClass.call(this)},t.buildWrapperCSSClass=function(){return"vjs-audio-button "+o.prototype.buildWrapperCSSClass.call(this)},t.createItems=function(e){void 0===e&&(e=[]),this.hideThreshold_=1;for(var t=this.player_.audioTracks(),o=0;o<t.length;o++){var n=t[o];e.push(new Zn(this.player_,{track:n,selectable:!0,multiSelectable:!1}))}return e},e}(Fn);er.prototype.controlText_="Audio Track",yt.registerComponent("AudioTrackButton",er);var tr=function(i){function e(e,t){var o,n=t.rate,r=parseFloat(n,10);return t.label=n,t.selected=1===r,t.selectable=!0,t.multiSelectable=!1,(o=i.call(this,e,t)||this).label=n,o.rate=r,o.on(e,"ratechange",o.update),o}_t(e,i);var t=e.prototype;return t.handleClick=function(e){i.prototype.handleClick.call(this),this.player().playbackRate(this.rate)},t.update=function(e){this.selected(this.player().playbackRate()===this.rate)},e}(jn);tr.prototype.contentElType="button",yt.registerComponent("PlaybackRateMenuItem",tr);var or=function(n){function e(e,t){var o;return(o=n.call(this,e,t)||this).updateVisibility(),o.updateLabel(),o.on(e,"loadstart",o.updateVisibility),o.on(e,"ratechange",o.updateLabel),o}_t(e,n);var t=e.prototype;return t.createEl=function(){var e=n.prototype.createEl.call(this);return this.labelEl_=ie("div",{className:"vjs-playback-rate-value",innerHTML:"1x"}),e.appendChild(this.labelEl_),e},t.dispose=function(){this.labelEl_=null,n.prototype.dispose.call(this)},t.buildCSSClass=function(){return"vjs-playback-rate "+n.prototype.buildCSSClass.call(this)},t.buildWrapperCSSClass=function(){return"vjs-playback-rate "+n.prototype.buildWrapperCSSClass.call(this)},t.createMenu=function(){var e=new Mn(this.player()),t=this.playbackRates();if(t)for(var o=t.length-1;0<=o;o--)e.addChild(new tr(this.player(),{rate:t[o]+"x"}));return e},t.updateARIAAttributes=function(){this.el().setAttribute("aria-valuenow",this.player().playbackRate())},t.handleClick=function(e){for(var t=this.player().playbackRate(),o=this.playbackRates(),n=o[0],r=0;r<o.length;r++)if(o[r]>t){n=o[r];break}this.player().playbackRate(n)},t.playbackRates=function(){return this.options_.playbackRates||this.options_.playerOptions&&this.options_.playerOptions.playbackRates},t.playbackRateSupported=function(){return this.player().tech_&&this.player().tech_.featuresPlaybackRate&&this.playbackRates()&&0<this.playbackRates().length},t.updateVisibility=function(e){this.playbackRateSupported()?this.removeClass("vjs-hidden"):this.addClass("vjs-hidden")},t.updateLabel=function(e){this.playbackRateSupported()&&(this.labelEl_.innerHTML=this.player().playbackRate()+"x")},e}(Un);or.prototype.controlText_="Playback Rate",yt.registerComponent("PlaybackRateMenuButton",or);var nr=function(e){function t(){return e.apply(this,arguments)||this}_t(t,e);var o=t.prototype;return o.buildCSSClass=function(){return"vjs-spacer "+e.prototype.buildCSSClass.call(this)},o.createEl=function(){return e.prototype.createEl.call(this,"div",{className:this.buildCSSClass()})},t}(yt);yt.registerComponent("Spacer",nr);var rr=function(t){function e(){return t.apply(this,arguments)||this}_t(e,t);var o=e.prototype;return o.buildCSSClass=function(){return"vjs-custom-control-spacer "+t.prototype.buildCSSClass.call(this)},o.createEl=function(){var e=t.prototype.createEl.call(this,{className:this.buildCSSClass()});return e.innerHTML=" ",e},e}(nr);yt.registerComponent("CustomControlSpacer",rr);var ir=function(e){function t(){return e.apply(this,arguments)||this}return _t(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-control-bar",dir:"ltr"})},t}(yt);ir.prototype.options_={children:["playToggle","volumePanel","currentTimeDisplay","timeDivider","durationDisplay","progressControl","liveDisplay","seekToLive","remainingTimeDisplay","customControlSpacer","playbackRateMenuButton","chaptersButton","descriptionsButton","subsCapsButton","audioTrackButton","fullscreenToggle"]},"exitPictureInPicture"in d.a&&ir.prototype.options_.children.splice(ir.prototype.options_.children.length-1,0,"pictureInPictureToggle"),yt.registerComponent("ControlBar",ir);var ar=function(n){function e(e,t){var o;return(o=n.call(this,e,t)||this).on(e,"error",o.open),o}_t(e,n);var t=e.prototype;return t.buildCSSClass=function(){return"vjs-error-display "+n.prototype.buildCSSClass.call(this)},t.content=function(){var e=this.player().error();return e?this.localize(e.message):""},e}(po);ar.prototype.options_=mt(po.prototype.options_,{pauseOnOpen:!1,fillAlways:!0,temporary:!1,uncloseable:!0}),yt.registerComponent("ErrorDisplay",ar);var sr="vjs-text-track-settings",lr=["#000","Black"],cr=["#00F","Blue"],ur=["#0FF","Cyan"],dr=["#0F0","Green"],pr=["#F0F","Magenta"],hr=["#F00","Red"],gr=["#FFF","White"],fr=["#FF0","Yellow"],mr=["1","Opaque"],yr=["0.5","Semi-Transparent"],_r=["0","Transparent"],vr={backgroundColor:{selector:".vjs-bg-color > select",id:"captions-background-color-%s",label:"Color",options:[lr,gr,hr,dr,cr,fr,pr,ur]},backgroundOpacity:{selector:".vjs-bg-opacity > select",id:"captions-background-opacity-%s",label:"Transparency",options:[mr,yr,_r]},color:{selector:".vjs-fg-color > select",id:"captions-foreground-color-%s",label:"Color",options:[gr,lr,hr,dr,cr,fr,pr,ur]},edgeStyle:{selector:".vjs-edge-style > select",id:"%s",label:"Text Edge Style",options:[["none","None"],["raised","Raised"],["depressed","Depressed"],["uniform","Uniform"],["dropshadow","Dropshadow"]]},fontFamily:{selector:".vjs-font-family > select",id:"captions-font-family-%s",label:"Font Family",options:[["proportionalSansSerif","Proportional Sans-Serif"],["monospaceSansSerif","Monospace Sans-Serif"],["proportionalSerif","Proportional Serif"],["monospaceSerif","Monospace Serif"],["casual","Casual"],["script","Script"],["small-caps","Small Caps"]]},fontPercent:{selector:".vjs-font-percent > select",id:"captions-font-size-%s",label:"Font Size",options:[["0.50","50%"],["0.75","75%"],["1.00","100%"],["1.25","125%"],["1.50","150%"],["1.75","175%"],["2.00","200%"],["3.00","300%"],["4.00","400%"]],default:2,parser:function(e){return"1.00"===e?null:Number(e)}},textOpacity:{selector:".vjs-text-opacity > select",id:"captions-foreground-opacity-%s",label:"Transparency",options:[mr,yr]},windowColor:{selector:".vjs-window-color > select",id:"captions-window-color-%s",label:"Color"},windowOpacity:{selector:".vjs-window-opacity > select",id:"captions-window-opacity-%s",label:"Transparency",options:[_r,yr,mr]}};function br(e,t){if(t&&(e=t(e)),e&&"none"!==e)return e}vr.windowColor.options=vr.backgroundColor.options;var Er=function(n){function e(e,t){var o;return t.temporary=!1,(o=n.call(this,e,t)||this).updateDisplay=et(Et(o),o.updateDisplay),o.fill(),o.hasBeenOpened_=o.hasBeenFilled_=!0,o.endDialog=ie("p",{className:"vjs-control-text",textContent:o.localize("End of dialog window.")}),o.el().appendChild(o.endDialog),o.setDefaults(),void 0===t.persistTextTrackSettings&&(o.options_.persistTextTrackSettings=o.options_.playerOptions.persistTextTrackSettings),o.on(o.$(".vjs-done-button"),"click",function(){o.saveSettings(),o.close()}),o.on(o.$(".vjs-default-button"),"click",function(){o.setDefaults(),o.updateDisplay()}),Y(vr,function(e){o.on(o.$(e.selector),"change",o.updateDisplay)}),o.options_.persistTextTrackSettings&&o.restoreSettings(),o}_t(e,n);var t=e.prototype;return t.dispose=function(){this.endDialog=null,n.prototype.dispose.call(this)},t.createElSelect_=function(e,t,o){var n=this;void 0===t&&(t=""),void 0===o&&(o="label");var r=vr[e],i=r.id.replace("%s",this.id_),a=[t,i].join(" ").trim();return["<"+o+' id="'+i+'" class="'+("label"===o?"vjs-label":"")+'">',this.localize(r.label),"</"+o+">",'<select aria-labelledby="'+a+'">'].concat(r.options.map(function(e){var t=i+"-"+e[1].replace(/\W+/g,"");return['<option id="'+t+'" value="'+e[0]+'" ','aria-labelledby="'+a+" "+t+'">',n.localize(e[1]),"</option>"].join("")})).concat("</select>").join("")},t.createElFgColor_=function(){var e="captions-text-legend-"+this.id_;return['<fieldset class="vjs-fg-color vjs-track-setting">','<legend id="'+e+'">',this.localize("Text"),"</legend>",this.createElSelect_("color",e),'<span class="vjs-text-opacity vjs-opacity">',this.createElSelect_("textOpacity",e),"</span>","</fieldset>"].join("")},t.createElBgColor_=function(){var e="captions-background-"+this.id_;return['<fieldset class="vjs-bg-color vjs-track-setting">','<legend id="'+e+'">',this.localize("Background"),"</legend>",this.createElSelect_("backgroundColor",e),'<span class="vjs-bg-opacity vjs-opacity">',this.createElSelect_("backgroundOpacity",e),"</span>","</fieldset>"].join("")},t.createElWinColor_=function(){var e="captions-window-"+this.id_;return['<fieldset class="vjs-window-color vjs-track-setting">','<legend id="'+e+'">',this.localize("Window"),"</legend>",this.createElSelect_("windowColor",e),'<span class="vjs-window-opacity vjs-opacity">',this.createElSelect_("windowOpacity",e),"</span>","</fieldset>"].join("")},t.createElColors_=function(){return ie("div",{className:"vjs-track-settings-colors",innerHTML:[this.createElFgColor_(),this.createElBgColor_(),this.createElWinColor_()].join("")})},t.createElFont_=function(){return ie("div",{className:"vjs-track-settings-font",innerHTML:['<fieldset class="vjs-font-percent vjs-track-setting">',this.createElSelect_("fontPercent","","legend"),"</fieldset>",'<fieldset class="vjs-edge-style vjs-track-setting">',this.createElSelect_("edgeStyle","","legend"),"</fieldset>",'<fieldset class="vjs-font-family vjs-track-setting">',this.createElSelect_("fontFamily","","legend"),"</fieldset>"].join("")})},t.createElControls_=function(){var e=this.localize("restore all settings to the default values");return ie("div",{className:"vjs-track-settings-controls",innerHTML:['<button type="button" class="vjs-default-button" title="'+e+'">',this.localize("Reset"),'<span class="vjs-control-text"> '+e+"</span>","</button>",'<button type="button" class="vjs-done-button">'+this.localize("Done")+"</button>"].join("")})},t.content=function(){return[this.createElColors_(),this.createElFont_(),this.createElControls_()]},t.label=function(){return this.localize("Caption Settings Dialog")},t.description=function(){return this.localize("Beginning of dialog window. Escape will cancel and close the window.")},t.buildCSSClass=function(){return n.prototype.buildCSSClass.call(this)+" vjs-text-track-settings"},t.getValues=function(){var r=this;return function(o,n,e){return void 0===e&&(e=0),K(o).reduce(function(e,t){return n(e,o[t],t)},e)}(vr,function(e,t,o){var n=function(e,t){return br(e.options[e.options.selectedIndex].value,t)}(r.$(t.selector),t.parser);return void 0!==n&&(e[o]=n),e},{})},t.setValues=function(o){var n=this;Y(vr,function(e,t){!function(e,t,o){if(t)for(var n=0;n<e.options.length;n++)if(br(e.options[n].value,o)===t){e.selectedIndex=n;break}}(n.$(e.selector),o[t],e.parser)})},t.setDefaults=function(){var o=this;Y(vr,function(e){var t=e.hasOwnProperty("default")?e.default:0;o.$(e.selector).selectedIndex=t})},t.restoreSettings=function(){var e;try{e=JSON.parse(_.a.localStorage.getItem(sr))}catch(e){W.warn(e)}e&&this.setValues(e)},t.saveSettings=function(){if(this.options_.persistTextTrackSettings){var e=this.getValues();try{Object.keys(e).length?_.a.localStorage.setItem(sr,JSON.stringify(e)):_.a.localStorage.removeItem(sr)}catch(e){W.warn(e)}}},t.updateDisplay=function(){var e=this.player_.getChild("textTrackDisplay");e&&e.updateDisplay()},t.conditionalBlur_=function(){this.previouslyActiveEl_=null;var e=this.player_.controlBar,t=e&&e.subsCapsButton,o=e&&e.captionsButton;t?t.focus():o&&o.focus()},e}(po);yt.registerComponent("TextTrackSettings",Er);var Tr=function(i){function e(e,t){var o,n=t.ResizeObserver||_.a.ResizeObserver;null===t.ResizeObserver&&(n=!1);var r=mt({createEl:!n,reportTouchActivity:!1},t);return(o=i.call(this,e,r)||this).ResizeObserver=t.ResizeObserver||_.a.ResizeObserver,o.loadListener_=null,o.resizeObserver_=null,o.debouncedHandler_=function(n,r,i,a){var s;void 0===a&&(a=_.a);var e=function(){var e=this,t=arguments,o=function(){o=s=null,i||n.apply(e,t)};!s&&i&&n.apply(e,t),a.clearTimeout(s),s=a.setTimeout(o,r)};return e.cancel=function(){a.clearTimeout(s),s=null},e}(function(){o.resizeHandler()},100,!1,Et(o)),n?(o.resizeObserver_=new o.ResizeObserver(o.debouncedHandler_),o.resizeObserver_.observe(e.el())):(o.loadListener_=function(){if(o.el_&&o.el_.contentWindow){var e=o.debouncedHandler_,t=o.unloadListener_=function(){Ye(this,"resize",e),Ye(this,"unload",t),t=null};Ke(o.el_.contentWindow,"unload",t),Ke(o.el_.contentWindow,"resize",e)}},o.one("load",o.loadListener_)),o}_t(e,i);var t=e.prototype;return t.createEl=function(){return i.prototype.createEl.call(this,"iframe",{className:"vjs-resize-manager",tabIndex:-1},{"aria-hidden":"true"})},t.resizeHandler=function(){this.player_&&this.player_.trigger&&this.player_.trigger("playerresize")},t.dispose=function(){this.debouncedHandler_&&this.debouncedHandler_.cancel(),this.resizeObserver_&&(this.player_.el()&&this.resizeObserver_.unobserve(this.player_.el()),this.resizeObserver_.disconnect()),this.loadListener_&&this.off("load",this.loadListener_),this.el_&&this.el_.contentWindow&&this.unloadListener_&&this.unloadListener_.call(this.el_.contentWindow),this.ResizeObserver=null,this.resizeObserver=null,this.debouncedHandler_=null,this.loadListener_=null,i.prototype.dispose.call(this)},e}(yt);yt.registerComponent("ResizeManager",Tr);var Sr=function(r){function e(e,t){var o,n=mt({createEl:!1},t);return(o=r.call(this,e,n)||this).reset_(),o.on(o.player_,"durationchange",o.handleDurationchange),jt&&"hidden"in d.a&&"visibilityState"in d.a&&o.on(d.a,"visibilitychange",o.handleVisibilityChange),o}_t(e,r);var t=e.prototype;return t.handleVisibilityChange=function(){this.player_.duration()===1/0&&(d.a.hidden?this.stopTracking():this.startTracking())},t.isBehind_=function(){if(!this.timeupdateSeen_)return!1;var e=this.liveCurrentTime(),t=this.player_.currentTime(),o=2*this.seekableIncrement_+.07;return e!==1/0&&t<=e-o},t.trackLive_=function(){this.pastSeekEnd_=this.pastSeekEnd_;var e=this.player_.seekable();if(e&&e.length){var t=this.seekableEnd();t!==this.lastSeekEnd_&&(this.lastSeekEnd_&&(this.seekableIncrementList_=this.seekableIncrementList_.slice(-11),this.seekableIncrementList_.push(Math.abs(t-this.lastSeekEnd_)),3<this.seekableIncrementList_.length&&(this.seekableIncrement_=function(e){var t=Math.floor(e.length/2),o=[].concat(e).sort(function(e,t){return e-t});return e.length%2!=0?o[t]:(o[t-1]+o[t])/2}(this.seekableIncrementList_))),this.pastSeekEnd_=0,this.lastSeekEnd_=t,this.trigger("seekableendchange")),this.pastSeekEnd_=this.pastSeekEnd()+.03,this.isBehind_()!==this.behindLiveEdge()&&(this.behindLiveEdge_=this.isBehind_(),this.trigger("liveedgechange"))}},t.handleDurationchange=function(){this.player_.duration()===1/0?this.startTracking():this.stopTracking()},t.startTracking=function(){var e=this;this.isTracking()||(this.timeupdateSeen_||(this.timeupdateSeen_=this.player_.hasStarted()),this.trackingInterval_=this.setInterval(this.trackLive_,30),this.trackLive_(),this.on(this.player_,"play",this.trackLive_),this.on(this.player_,"pause",this.trackLive_),this.timeupdateSeen_||(this.one(this.player_,"play",this.handlePlay),this.handleTimeupdate=function(){e.timeupdateSeen_=!0,e.handleTimeupdate=null},this.one(this.player_,"timeupdate",this.handleTimeupdate)))},t.handlePlay=function(){this.one(this.player_,"timeupdate",this.seekToLiveEdge)},t.reset_=function(){this.pastSeekEnd_=0,this.lastSeekEnd_=null,this.behindLiveEdge_=null,this.timeupdateSeen_=!1,this.clearInterval(this.trackingInterval_),this.trackingInterval_=null,this.seekableIncrement_=12,this.seekableIncrementList_=[],this.off(this.player_,"play",this.trackLive_),this.off(this.player_,"pause",this.trackLive_),this.off(this.player_,"play",this.handlePlay),this.off(this.player_,"timeupdate",this.seekToLiveEdge),this.handleTimeupdate&&(this.off(this.player_,"timeupdate",this.handleTimeupdate),this.handleTimeupdate=null)},t.stopTracking=function(){this.isTracking()&&this.reset_()},t.seekableEnd=function(){for(var e=this.player_.seekable(),t=[],o=e?e.length:0;o--;)t.push(e.end(o));return t.length?t.sort()[t.length-1]:1/0},t.seekableStart=function(){for(var e=this.player_.seekable(),t=[],o=e?e.length:0;o--;)t.push(e.start(o));return t.length?t.sort()[0]:0},t.liveWindow=function(){var e=this.liveCurrentTime();return e===1/0?1/0:e-this.seekableStart()},t.isLive=function(){return this.isTracking()},t.atLiveEdge=function(){return!this.behindLiveEdge()},t.liveCurrentTime=function(){return this.pastSeekEnd()+this.seekableEnd()},t.pastSeekEnd=function(){return this.pastSeekEnd_},t.behindLiveEdge=function(){return this.behindLiveEdge_},t.isTracking=function(){return"number"==typeof this.trackingInterval_},t.seekToLiveEdge=function(){this.atLiveEdge()||(this.player_.currentTime(this.liveCurrentTime()),this.player_.paused()&&this.player_.play())},t.dispose=function(){this.stopTracking(),r.prototype.dispose.call(this)},e}(yt);yt.registerComponent("LiveTracker",Sr);var kr=function(e){var t=e.el();if(t.hasAttribute("src"))return e.triggerSourceset(t.src),!0;var o=e.$$("source"),n=[],r="";if(!o.length)return!1;for(var i=0;i<o.length;i++){var a=o[i].src;a&&-1===n.indexOf(a)&&n.push(a)}return!!n.length&&(1===n.length&&(r=n[0]),e.triggerSourceset(r),!0)},Cr=Object.defineProperty({},"innerHTML",{get:function(){return this.cloneNode(!0).innerHTML},set:function(e){var t=d.a.createElement(this.nodeName.toLowerCase());t.innerHTML=e;for(var o=d.a.createDocumentFragment();t.childNodes.length;)o.appendChild(t.childNodes[0]);return this.innerText="",_.a.Element.prototype.appendChild.call(this,o),this.innerHTML}}),Ar=function(e,t){for(var o={},n=0;n<e.length&&!((o=Object.getOwnPropertyDescriptor(e[n],t))&&o.set&&o.get);n++);return o.enumerable=!0,o.configurable=!0,o},Or=function(i){var a=i.el();if(!a.resetSourceWatch_){var t={},e=function(e){return Ar([e.el(),_.a.HTMLMediaElement.prototype,_.a.Element.prototype,Cr],"innerHTML")}(i),o=function(r){return function(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];var n=r.apply(a,t);return kr(i),n}};["append","appendChild","insertAdjacentHTML"].forEach(function(e){a[e]&&(t[e]=a[e],a[e]=o(t[e]))}),Object.defineProperty(a,"innerHTML",mt(e,{set:o(e.set)})),a.resetSourceWatch_=function(){a.resetSourceWatch_=null,Object.keys(t).forEach(function(e){a[e]=t[e]}),Object.defineProperty(a,"innerHTML",e)},i.one("sourceset",a.resetSourceWatch_)}},wr=Object.defineProperty({},"src",{get:function(){return this.hasAttribute("src")?wo(_.a.Element.prototype.getAttribute.call(this,"src")):""},set:function(e){return _.a.Element.prototype.setAttribute.call(this,"src",e),e}}),Br=function(n){if(n.featuresSourceset){var r=n.el();if(!r.resetSourceset_){var o=function(e){return Ar([e.el(),_.a.HTMLMediaElement.prototype,wr],"src")}(n),i=r.setAttribute,t=r.load;Object.defineProperty(r,"src",mt(o,{set:function(e){var t=o.set.call(r,e);return n.triggerSourceset(r.src),t}})),r.setAttribute=function(e,t){var o=i.call(r,e,t);return/src/i.test(e)&&n.triggerSourceset(r.src),o},r.load=function(){var e=t.call(r);return kr(n)||(n.triggerSourceset(""),Or(n)),e},r.currentSrc?n.triggerSourceset(r.currentSrc):kr(n)||Or(n),r.resetSourceset_=function(){r.resetSourceset_=null,r.load=t,r.setAttribute=i,Object.defineProperty(r,"src",o),r.resetSourceWatch_&&r.resetSourceWatch_()}}}},Ir=function(u){function s(e,t){var o;o=u.call(this,e,t)||this;var n=e.source,r=!1;if(n&&(o.el_.currentSrc!==n.src||e.tag&&3===e.tag.initNetworkState_)?o.setSource(n):o.handleLateInit_(o.el_),e.enableSourceset&&o.setupSourcesetHandling_(),o.el_.hasChildNodes()){for(var i=o.el_.childNodes,a=i.length,s=[];a--;){var l=i[a];"track"===l.nodeName.toLowerCase()&&(o.featuresNativeTextTracks?(o.remoteTextTrackEls().addTrackElement_(l),o.remoteTextTracks().addTrack(l.track),o.textTracks().addTrack(l.track),r||o.el_.hasAttribute("crossorigin")||!Io(l.src)||(r=!0)):s.push(l))}for(var c=0;c<s.length;c++)o.el_.removeChild(s[c])}return o.proxyNativeTracks_(),o.featuresNativeTextTracks&&r&&W.warn("Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.\nThis may prevent text tracks from loading."),o.restoreMetadataTracksInIOSNativePlayer_(),(zt||It||Dt)&&!0===e.nativeControlsForTouch&&o.setControls(!0),o.proxyWebkitFullscreen_(),o.triggerReady(),o}_t(s,u);var e=s.prototype;return e.dispose=function(){this.el_&&this.el_.resetSourceset_&&this.el_.resetSourceset_(),s.disposeMediaElement(this.el_),this.options_=null,u.prototype.dispose.call(this)},e.setupSourcesetHandling_=function(){Br(this)},e.restoreMetadataTracksInIOSNativePlayer_=function(){var n,r=this.textTracks(),e=function(){n=[];for(var e=0;e<r.length;e++){var t=r[e];"metadata"===t.kind&&n.push({track:t,storedMode:t.mode})}};e(),r.addEventListener("change",e),this.on("dispose",function(){return r.removeEventListener("change",e)});var t=function e(){for(var t=0;t<n.length;t++){var o=n[t];"disabled"===o.track.mode&&o.track.mode!==o.storedMode&&(o.track.mode=o.storedMode)}r.removeEventListener("change",e)};this.on("webkitbeginfullscreen",function(){r.removeEventListener("change",e),r.removeEventListener("change",t),r.addEventListener("change",t)}),this.on("webkitendfullscreen",function(){r.removeEventListener("change",e),r.addEventListener("change",e),r.removeEventListener("change",t)})},e.overrideNative_=function(e,t){var o=this;if(t===this["featuresNative"+e+"Tracks"]){var n=e.toLowerCase();this[n+"TracksListeners_"]&&Object.keys(this[n+"TracksListeners_"]).forEach(function(e){o.el()[n+"Tracks"].removeEventListener(e,o[n+"TracksListeners_"][e])}),this["featuresNative"+e+"Tracks"]=!t,this[n+"TracksListeners_"]=null,this.proxyNativeTracksForType_(n)}},e.overrideNativeAudioTracks=function(e){this.overrideNative_("Audio",e)},e.overrideNativeVideoTracks=function(e){this.overrideNative_("Video",e)},e.proxyNativeTracksForType_=function(e){var n=this,t=Mo[e],r=this.el()[t.getterName],i=this[t.getterName]();if(this["featuresNative"+t.capitalName+"Tracks"]&&r&&r.addEventListener){var a={change:function(e){i.trigger({type:"change",target:i,currentTarget:i,srcElement:i})},addtrack:function(e){i.addTrack(e.track)},removetrack:function(e){i.removeTrack(e.track)}},o=function(){for(var e=[],t=0;t<i.length;t++){for(var o=!1,n=0;n<r.length;n++)if(r[n]===i[t]){o=!0;break}o||e.push(i[t])}for(;e.length;)i.removeTrack(e.shift())};this[t.getterName+"Listeners_"]=a,Object.keys(a).forEach(function(t){var o=a[t];r.addEventListener(t,o),n.on("dispose",function(e){return r.removeEventListener(t,o)})}),this.on("loadstart",o),this.on("dispose",function(e){return n.off("loadstart",o)})}},e.proxyNativeTracks_=function(){var t=this;Mo.names.forEach(function(e){t.proxyNativeTracksForType_(e)})},e.createEl=function(){var e=this.options_.tag;if(!e||!this.options_.playerElIngest&&!this.movingMediaElementInDOM){if(e){var t=e.cloneNode(!0);e.parentNode&&e.parentNode.insertBefore(t,e),s.disposeMediaElement(e),e=t}else{e=d.a.createElement("video");var o=mt({},this.options_.tag&&he(this.options_.tag));zt&&!0===this.options_.nativeControlsForTouch||delete o.controls,pe(e,X(o,{id:this.options_.techId,class:"vjs-tech"}))}e.playerId=this.options_.playerId}void 0!==this.options_.preload&&fe(e,"preload",this.options_.preload);for(var n=["loop","muted","playsinline","autoplay"],r=0;r<n.length;r++){var i=n[r],a=this.options_[i];void 0!==a&&(a?fe(e,i,i):me(e,i),e[i]=a)}return e},e.handleLateInit_=function(e){if(0!==e.networkState&&3!==e.networkState){if(0===e.readyState){var t=!1,o=function(){t=!0};this.on("loadstart",o);var n=function(){t||this.trigger("loadstart")};return this.on("loadedmetadata",n),void this.ready(function(){this.off("loadstart",o),this.off("loadedmetadata",n),t||this.trigger("loadstart")})}var r=["loadstart"];r.push("loadedmetadata"),2<=e.readyState&&r.push("loadeddata"),3<=e.readyState&&r.push("canplay"),4<=e.readyState&&r.push("canplaythrough"),this.ready(function(){r.forEach(function(e){this.trigger(e)},this)})}},e.setCurrentTime=function(e){try{this.el_.currentTime=e}catch(e){W(e,"Video is not ready. (Video.js)")}},e.duration=function(){var t=this;if(this.el_.duration===1/0&&Lt&&Ft&&0===this.el_.currentTime){return this.on("timeupdate",function e(){0<t.el_.currentTime&&(t.el_.duration===1/0&&t.trigger("durationchange"),t.off("timeupdate",e))}),NaN}return this.el_.duration||NaN},e.width=function(){return this.el_.offsetWidth},e.height=function(){return this.el_.offsetHeight},e.proxyWebkitFullscreen_=function(){var e=this;if("webkitDisplayingFullscreen"in this.el_){var t=function(){this.trigger("fullscreenchange",{isFullscreen:!1})},o=function(){"webkitPresentationMode"in this.el_&&"picture-in-picture"!==this.el_.webkitPresentationMode&&(this.one("webkitendfullscreen",t),this.trigger("fullscreenchange",{isFullscreen:!0}))};this.on("webkitbeginfullscreen",o),this.on("dispose",function(){e.off("webkitbeginfullscreen",o),e.off("webkitendfullscreen",t)})}},e.supportsFullScreen=function(){if("function"==typeof this.el_.webkitEnterFullScreen){var e=_.a.navigator&&_.a.navigator.userAgent||"";if(/Android/.test(e)||!/Chrome|Mac OS X 10.5/.test(e))return!0}return!1},e.enterFullScreen=function(){var e=this.el_;e.paused&&e.networkState<=e.HAVE_METADATA?(this.el_.play(),this.setTimeout(function(){e.pause(),e.webkitEnterFullScreen()},0)):e.webkitEnterFullScreen()},e.exitFullScreen=function(){this.el_.webkitExitFullScreen()},e.requestPictureInPicture=function(){return this.el_.requestPictureInPicture()},e.src=function(e){if(void 0===e)return this.el_.src;this.setSrc(e)},e.reset=function(){s.resetMediaElement(this.el_)},e.currentSrc=function(){return this.currentSource_?this.currentSource_.src:this.el_.currentSrc},e.setControls=function(e){this.el_.controls=!!e},e.addTextTrack=function(e,t,o){return this.featuresNativeTextTracks?this.el_.addTextTrack(e,t,o):u.prototype.addTextTrack.call(this,e,t,o)},e.createRemoteTextTrack=function(e){if(!this.featuresNativeTextTracks)return u.prototype.createRemoteTextTrack.call(this,e);var t=d.a.createElement("track");return e.kind&&(t.kind=e.kind),e.label&&(t.label=e.label),(e.language||e.srclang)&&(t.srclang=e.language||e.srclang),e.default&&(t.default=e.default),e.id&&(t.id=e.id),e.src&&(t.src=e.src),t},e.addRemoteTextTrack=function(e,t){var o=u.prototype.addRemoteTextTrack.call(this,e,t);return this.featuresNativeTextTracks&&this.el().appendChild(o),o},e.removeRemoteTextTrack=function(e){if(u.prototype.removeRemoteTextTrack.call(this,e),this.featuresNativeTextTracks)for(var t=this.$$("track"),o=t.length;o--;)e!==t[o]&&e!==t[o].track||this.el().removeChild(t[o])},e.getVideoPlaybackQuality=function(){if("function"==typeof this.el().getVideoPlaybackQuality)return this.el().getVideoPlaybackQuality();var e={};return void 0!==this.el().webkitDroppedFrameCount&&void 0!==this.el().webkitDecodedFrameCount&&(e.droppedVideoFrames=this.el().webkitDroppedFrameCount,e.totalVideoFrames=this.el().webkitDecodedFrameCount),_.a.performance&&"function"==typeof _.a.performance.now?e.creationTime=_.a.performance.now():_.a.performance&&_.a.performance.timing&&"number"==typeof _.a.performance.timing.navigationStart&&(e.creationTime=_.a.Date.now()-_.a.performance.timing.navigationStart),e},s}(Ho);if(te()){Ir.TEST_VID=d.a.createElement("video");var Rr=d.a.createElement("track");Rr.kind="captions",Rr.srclang="en",Rr.label="English",Ir.TEST_VID.appendChild(Rr)}Ir.isSupported=function(){try{Ir.TEST_VID.volume=.5}catch(e){return!1}return!(!Ir.TEST_VID||!Ir.TEST_VID.canPlayType)},Ir.canPlayType=function(e){return Ir.TEST_VID.canPlayType(e)},Ir.canPlaySource=function(e,t){return Ir.canPlayType(e.type)},Ir.canControlVolume=function(){try{var e=Ir.TEST_VID.volume;return Ir.TEST_VID.volume=e/2+.1,e!==Ir.TEST_VID.volume}catch(e){return!1}},Ir.canMuteVolume=function(){try{var e=Ir.TEST_VID.muted;return Ir.TEST_VID.muted=!e,Ir.TEST_VID.muted?fe(Ir.TEST_VID,"muted","muted"):me(Ir.TEST_VID,"muted"),e!==Ir.TEST_VID.muted}catch(e){return!1}},Ir.canControlPlaybackRate=function(){if(Lt&&Ft&&Ht<58)return!1;try{var e=Ir.TEST_VID.playbackRate;return Ir.TEST_VID.playbackRate=e/2+.1,e!==Ir.TEST_VID.playbackRate}catch(e){return!1}},Ir.canOverrideAttributes=function(){try{var e=function(){};Object.defineProperty(d.a.createElement("video"),"src",{get:e,set:e}),Object.defineProperty(d.a.createElement("audio"),"src",{get:e,set:e}),Object.defineProperty(d.a.createElement("video"),"innerHTML",{get:e,set:e}),Object.defineProperty(d.a.createElement("audio"),"innerHTML",{get:e,set:e})}catch(e){return!1}return!0},Ir.supportsNativeTextTracks=function(){return Vt||Nt&&Ft},Ir.supportsNativeVideoTracks=function(){return!(!Ir.TEST_VID||!Ir.TEST_VID.videoTracks)},Ir.supportsNativeAudioTracks=function(){return!(!Ir.TEST_VID||!Ir.TEST_VID.audioTracks)},Ir.Events=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","resize","volumechange"],Ir.prototype.featuresVolumeControl=Ir.canControlVolume(),Ir.prototype.featuresMuteControl=Ir.canMuteVolume(),Ir.prototype.featuresPlaybackRate=Ir.canControlPlaybackRate(),Ir.prototype.featuresSourceset=Ir.canOverrideAttributes(),Ir.prototype.movingMediaElementInDOM=!Nt,Ir.prototype.featuresFullscreenResize=!0,Ir.prototype.featuresProgressEvents=!0,Ir.prototype.featuresTimeupdateEvents=!0,Ir.prototype.featuresNativeTextTracks=Ir.supportsNativeTextTracks(),Ir.prototype.featuresNativeVideoTracks=Ir.supportsNativeVideoTracks(),Ir.prototype.featuresNativeAudioTracks=Ir.supportsNativeAudioTracks();var Nr=Ir.TEST_VID&&Ir.TEST_VID.constructor.prototype.canPlayType,Pr=/^application\/(?:x-|vnd\.apple\.)mpegurl/i;Ir.patchCanPlayType=function(){4<=xt&&!Mt&&!Ft&&(Ir.TEST_VID.constructor.prototype.canPlayType=function(e){return e&&Pr.test(e)?"maybe":Nr.call(this,e)})},Ir.unpatchCanPlayType=function(){var e=Ir.TEST_VID.constructor.prototype.canPlayType;return Ir.TEST_VID.constructor.prototype.canPlayType=Nr,e},Ir.patchCanPlayType(),Ir.disposeMediaElement=function(e){if(e){for(e.parentNode&&e.parentNode.removeChild(e);e.hasChildNodes();)e.removeChild(e.firstChild);e.removeAttribute("src"),"function"==typeof e.load&&function(){try{e.load()}catch(e){}}()}},Ir.resetMediaElement=function(e){if(e){for(var t=e.querySelectorAll("source"),o=t.length;o--;)e.removeChild(t[o]);e.removeAttribute("src"),"function"==typeof e.load&&function(){try{e.load()}catch(e){}}()}},["muted","defaultMuted","autoplay","controls","loop","playsinline"].forEach(function(e){Ir.prototype[e]=function(){return this.el_[e]||this.el_.hasAttribute(e)}}),["muted","defaultMuted","autoplay","loop","playsinline"].forEach(function(t){Ir.prototype["set"+ft(t)]=function(e){(this.el_[t]=e)?this.el_.setAttribute(t,t):this.el_.removeAttribute(t)}}),["paused","currentTime","buffered","volume","poster","preload","error","seeking","seekable","ended","playbackRate","defaultPlaybackRate","played","networkState","readyState","videoWidth","videoHeight"].forEach(function(e){Ir.prototype[e]=function(){return this.el_[e]}}),["volume","src","poster","preload","playbackRate","defaultPlaybackRate"].forEach(function(t){Ir.prototype["set"+ft(t)]=function(e){this.el_[t]=e}}),["pause","load","play"].forEach(function(e){Ir.prototype[e]=function(){return this.el_[e]()}}),Ho.withSourceHandlers(Ir),Ir.nativeSourceHandler={},Ir.nativeSourceHandler.canPlayType=function(e){try{return Ir.TEST_VID.canPlayType(e)}catch(e){return""}},Ir.nativeSourceHandler.canHandleSource=function(e,t){if(e.type)return Ir.nativeSourceHandler.canPlayType(e.type);if(e.src){var o=Bo(e.src);return Ir.nativeSourceHandler.canPlayType("video/"+o)}return""},Ir.nativeSourceHandler.handleSource=function(e,t,o){t.setSrc(e.src)},Ir.nativeSourceHandler.dispose=function(){},Ir.registerSourceHandler(Ir.nativeSourceHandler),Ho.registerTech("Html5",Ir);var Lr=["progress","abort","suspend","emptied","stalled","loadedmetadata","loadeddata","timeupdate","resize","volumechange","texttrackchange"],xr={canplay:"CanPlay",canplaythrough:"CanPlayThrough",playing:"Playing",seeked:"Seeked"},Dr=["tiny","xsmall","small","medium","large","xlarge","huge"],Mr={};Dr.forEach(function(e){var t="x"===e.charAt(0)?"x-"+e.substring(1):e;Mr[e]="vjs-layout-"+t});var Ur={tiny:210,xsmall:320,small:425,medium:768,large:1440,xlarge:2560,huge:1/0},Fr=function(u){function c(e,t,o){var n;if(e.id=e.id||t.id||"vjs_video_"+He(),(t=X(c.getTagSettings(e),t)).initChildren=!1,t.createEl=!1,t.evented=!1,t.reportTouchActivity=!1,!t.language)if("function"==typeof e.closest){var r=e.closest("[lang]");r&&r.getAttribute&&(t.language=r.getAttribute("lang"))}else for(var i=e;i&&1===i.nodeType;){if(he(i).hasOwnProperty("lang")){t.language=i.getAttribute("lang");break}i=i.parentNode}if((n=u.call(this,null,t,o)||this).boundDocumentFullscreenChange_=et(Et(n),n.documentFullscreenChange_),n.boundFullWindowOnEscKey_=et(Et(n),n.fullWindowOnEscKey),n.log=z(n.id_),n.fsApi_=$t,n.isPosterFromTech_=!1,n.queuedCallbacks_=[],n.isReady_=!1,n.hasStarted_=!1,n.userActive_=!1,!n.options_||!n.options_.techOrder||!n.options_.techOrder.length)throw new Error("No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?");if(n.tag=e,n.tagAttributes=e&&he(e),n.language(n.options_.language),t.languages){var a={};Object.getOwnPropertyNames(t.languages).forEach(function(e){a[e.toLowerCase()]=t.languages[e]}),n.languages_=a}else n.languages_=c.prototype.options_.languages;n.resetCache_(),n.poster_=t.poster||"",n.controls_=!!t.controls,e.controls=!1,e.removeAttribute("controls"),n.changingSrc_=!1,n.playCallbacks_=[],n.playTerminatedQueue_=[],e.hasAttribute("autoplay")?n.autoplay(!0):n.autoplay(n.options_.autoplay),t.plugins&&Object.keys(t.plugins).forEach(function(e){if("function"!=typeof n[e])throw new Error('plugin "'+e+'" does not exist')}),n.scrubbing_=!1,n.el_=n.createEl(),dt(Et(n),{eventBusKey:"el_"}),n.fluid_&&n.on("playerreset",n.updateStyleEl_);var s=mt(n.options_);t.plugins&&Object.keys(t.plugins).forEach(function(e){n[e](t.plugins[e])}),n.options_.playerOptions=s,n.middleware_=[],n.initChildren(),n.isAudio("audio"===e.nodeName.toLowerCase()),n.controls()?n.addClass("vjs-controls-enabled"):n.addClass("vjs-controls-disabled"),n.el_.setAttribute("role","region"),n.isAudio()?n.el_.setAttribute("aria-label",n.localize("Audio Player")):n.el_.setAttribute("aria-label",n.localize("Video Player")),n.isAudio()&&n.addClass("vjs-audio"),n.flexNotSupported_()&&n.addClass("vjs-no-flex"),zt&&n.addClass("vjs-touch-enabled"),Nt||n.addClass("vjs-workinghover"),c.players[n.id_]=Et(n);var l="7.6.6".split(".")[0];return n.addClass("vjs-v"+l),n.userActive(!0),n.reportUserActivity(),n.one("play",n.listenForUserActivity_),n.on("stageclick",n.handleStageClick_),n.on("keydown",n.handleKeyDown),n.breakpoints(n.options_.breakpoints),n.responsive(n.options_.responsive),n}_t(c,u);var e=c.prototype;return e.dispose=function(){var n=this;this.trigger("dispose"),this.off("dispose"),Ye(d.a,this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_),Ye(d.a,"keydown",this.boundFullWindowOnEscKey_),this.styleEl_&&this.styleEl_.parentNode&&(this.styleEl_.parentNode.removeChild(this.styleEl_),this.styleEl_=null),c.players[this.id_]=null,this.tag&&this.tag.player&&(this.tag.player=null),this.el_&&this.el_.player&&(this.el_.player=null),this.tech_&&(this.tech_.dispose(),this.isPosterFromTech_=!1,this.poster_=""),this.playerElIngest_&&(this.playerElIngest_=null),this.tag&&(this.tag=null),function(e){Go[e.id()]=null}(this),Fo.names.forEach(function(e){var t=Fo[e],o=n[t.getterName]();o&&o.off&&o.off()}),u.prototype.dispose.call(this)},e.createEl=function(){var t,o=this.tag,e=this.playerElIngest_=o.parentNode&&o.parentNode.hasAttribute&&o.parentNode.hasAttribute("data-vjs-player"),n="video-js"===this.tag.tagName.toLowerCase();e?t=this.el_=o.parentNode:n||(t=this.el_=u.prototype.createEl.call(this,"div"));var r=he(o);if(n){for(t=this.el_=o,o=this.tag=d.a.createElement("video");t.children.length;)o.appendChild(t.firstChild);le(t,"video-js")||ce(t,"video-js"),t.appendChild(o),e=this.playerElIngest_=t,Object.keys(t).forEach(function(e){try{o[e]=t[e]}catch(e){}})}if(o.setAttribute("tabindex","-1"),r.tabindex="-1",(jt||Ft&&Wt)&&(o.setAttribute("role","application"),r.role="application"),o.removeAttribute("width"),o.removeAttribute("height"),"width"in r&&delete r.width,"height"in r&&delete r.height,Object.getOwnPropertyNames(r).forEach(function(e){n&&"class"===e||t.setAttribute(e,r[e]),n&&o.setAttribute(e,r[e])}),o.playerId=o.id,o.id+="_html5_api",o.className="vjs-tech",o.player=t.player=this,this.addClass("vjs-paused"),!0!==_.a.VIDEOJS_NO_DYNAMIC_STYLE){this.styleEl_=Me("vjs-styles-dimensions");var i=Be(".vjs-styles-defaults"),a=Be("head");a.insertBefore(this.styleEl_,i?i.nextSibling:a.firstChild)}this.fill_=!1,this.fluid_=!1,this.width(this.options_.width),this.height(this.options_.height),this.fill(this.options_.fill),this.fluid(this.options_.fluid),this.aspectRatio(this.options_.aspectRatio);for(var s=o.getElementsByTagName("a"),l=0;l<s.length;l++){var c=s.item(l);ce(c,"vjs-hidden"),c.setAttribute("hidden","hidden")}return o.initNetworkState_=o.networkState,o.parentNode&&!e&&o.parentNode.insertBefore(t,o),se(o,t),this.children_.unshift(o),this.el_.setAttribute("lang",this.language_),this.el_=t},e.width=function(e){return this.dimension("width",e)},e.height=function(e){return this.dimension("height",e)},e.dimension=function(e,t){var o=e+"_";if(void 0===t)return this[o]||0;if(""===t)return this[o]=void 0,void this.updateStyleEl_();var n=parseFloat(t);isNaN(n)?W.error('Improper value "'+t+'" supplied for for '+e):(this[o]=n,this.updateStyleEl_())},e.fluid=function(e){if(void 0===e)return!!this.fluid_;this.fluid_=!!e,nt(this)&&this.off("playerreset",this.updateStyleEl_),e?(this.addClass("vjs-fluid"),this.fill(!1),function(e,t){nt(e)?t():(e.eventedCallbacks||(e.eventedCallbacks=[]),e.eventedCallbacks.push(t))}(function(){this.on("playerreset",this.updateStyleEl_)})):this.removeClass("vjs-fluid"),this.updateStyleEl_()},e.fill=function(e){if(void 0===e)return!!this.fill_;this.fill_=!!e,e?(this.addClass("vjs-fill"),this.fluid(!1)):this.removeClass("vjs-fill")},e.aspectRatio=function(e){if(void 0===e)return this.aspectRatio_;if(!/^\d+\:\d+$/.test(e))throw new Error("Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.");this.aspectRatio_=e,this.fluid(!0),this.updateStyleEl_()},e.updateStyleEl_=function(){if(!0!==_.a.VIDEOJS_NO_DYNAMIC_STYLE){var e,t,o,n=(void 0!==this.aspectRatio_&&"auto"!==this.aspectRatio_?this.aspectRatio_:0<this.videoWidth()?this.videoWidth()+":"+this.videoHeight():"16:9").split(":"),r=n[1]/n[0];e=void 0!==this.width_?this.width_:void 0!==this.height_?this.height_/r:this.videoWidth()||300,t=void 0!==this.height_?this.height_:e*r,o=/^[^a-zA-Z]/.test(this.id())?"dimensions-"+this.id():this.id()+"-dimensions",this.addClass(o),Ue(this.styleEl_,"\n      ."+o+" {\n        width: "+e+"px;\n        height: "+t+"px;\n      }\n\n      ."+o+".vjs-fluid {\n        padding-top: "+100*r+"%;\n      }\n    ")}else{var i="number"==typeof this.width_?this.width_:this.options_.width,a="number"==typeof this.height_?this.height_:this.options_.height,s=this.tech_&&this.tech_.el();s&&(0<=i&&(s.width=i),0<=a&&(s.height=a))}},e.loadTech_=function(e,t){var o=this;this.tech_&&this.unloadTech_();var n=ft(e),r=e.charAt(0).toLowerCase()+e.slice(1);"Html5"!==n&&this.tag&&(Ho.getTech("Html5").disposeMediaElement(this.tag),this.tag.player=null,this.tag=null),this.techName_=n,this.isReady_=!1;var i={source:t,autoplay:"string"!=typeof this.autoplay()&&this.autoplay(),nativeControlsForTouch:this.options_.nativeControlsForTouch,playerId:this.id(),techId:this.id()+"_"+r+"_api",playsinline:this.options_.playsinline,preload:this.options_.preload,loop:this.options_.loop,muted:this.options_.muted,poster:this.poster(),language:this.language(),playerElIngest:this.playerElIngest_||!1,"vtt.js":this.options_["vtt.js"],canOverridePoster:!!this.options_.techCanOverridePoster,enableSourceset:this.options_.enableSourceset,Promise:this.options_.Promise};Fo.names.forEach(function(e){var t=Fo[e];i[t.getterName]=o[t.privateName]}),X(i,this.options_[n]),X(i,this.options_[r]),X(i,this.options_[e.toLowerCase()]),this.tag&&(i.tag=this.tag),t&&t.src===this.cache_.src&&0<this.cache_.currentTime&&(i.startTime=this.cache_.currentTime);var a=Ho.getTech(e);if(!a)throw new Error("No Tech named '"+n+"' exists! '"+n+"' should be registered using videojs.registerTech()'");this.tech_=new a(i),this.tech_.ready(et(this,this.handleTechReady_),!0),co(this.textTracksJson_||[],this.tech_),Lr.forEach(function(e){o.on(o.tech_,e,o["handleTech"+ft(e)+"_"])}),Object.keys(xr).forEach(function(t){o.on(o.tech_,t,function(e){0===o.tech_.playbackRate()&&o.tech_.seeking()?o.queuedCallbacks_.push({callback:o["handleTech"+xr[t]+"_"].bind(o),event:e}):o["handleTech"+xr[t]+"_"](e)})}),this.on(this.tech_,"loadstart",this.handleTechLoadStart_),this.on(this.tech_,"sourceset",this.handleTechSourceset_),this.on(this.tech_,"waiting",this.handleTechWaiting_),this.on(this.tech_,"ended",this.handleTechEnded_),this.on(this.tech_,"seeking",this.handleTechSeeking_),this.on(this.tech_,"play",this.handleTechPlay_),this.on(this.tech_,"firstplay",this.handleTechFirstPlay_),this.on(this.tech_,"pause",this.handleTechPause_),this.on(this.tech_,"durationchange",this.handleTechDurationChange_),this.on(this.tech_,"fullscreenchange",this.handleTechFullscreenChange_),this.on(this.tech_,"enterpictureinpicture",this.handleTechEnterPictureInPicture_),this.on(this.tech_,"leavepictureinpicture",this.handleTechLeavePictureInPicture_),this.on(this.tech_,"error",this.handleTechError_),this.on(this.tech_,"loadedmetadata",this.updateStyleEl_),this.on(this.tech_,"posterchange",this.handleTechPosterChange_),this.on(this.tech_,"textdata",this.handleTechTextData_),this.on(this.tech_,"ratechange",this.handleTechRateChange_),this.usingNativeControls(this.techGet_("controls")),this.controls()&&!this.usingNativeControls()&&this.addTechControlsListeners_(),this.tech_.el().parentNode===this.el()||"Html5"===n&&this.tag||se(this.tech_.el(),this.el()),this.tag&&(this.tag.player=null,this.tag=null)},e.unloadTech_=function(){var o=this;Fo.names.forEach(function(e){var t=Fo[e];o[t.privateName]=o[t.getterName]()}),this.textTracksJson_=lo(this.tech_),this.isReady_=!1,this.tech_.dispose(),this.tech_=!1,this.isPosterFromTech_&&(this.poster_="",this.trigger("posterchange")),this.isPosterFromTech_=!1},e.tech=function(e){return void 0===e&&W.warn("Using the tech directly can be dangerous. I hope you know what you're doing.\nSee https://github.com/videojs/video.js/issues/2617 for more info.\n"),this.tech_},e.addTechControlsListeners_=function(){this.removeTechControlsListeners_(),this.on(this.tech_,"mouseup",this.handleTechClick_),this.on(this.tech_,"dblclick",this.handleTechDoubleClick_),this.on(this.tech_,"touchstart",this.handleTechTouchStart_),this.on(this.tech_,"touchmove",this.handleTechTouchMove_),this.on(this.tech_,"touchend",this.handleTechTouchEnd_),this.on(this.tech_,"tap",this.handleTechTap_)},e.removeTechControlsListeners_=function(){this.off(this.tech_,"tap",this.handleTechTap_),this.off(this.tech_,"touchstart",this.handleTechTouchStart_),this.off(this.tech_,"touchmove",this.handleTechTouchMove_),this.off(this.tech_,"touchend",this.handleTechTouchEnd_),this.off(this.tech_,"mouseup",this.handleTechClick_),this.off(this.tech_,"dblclick",this.handleTechDoubleClick_)},e.handleTechReady_=function(){this.triggerReady(),this.cache_.volume&&this.techCall_("setVolume",this.cache_.volume),this.handleTechPosterChange_(),this.handleTechDurationChange_()},e.handleTechLoadStart_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-seeking"),this.error(null),this.handleTechDurationChange_(),this.paused()?(this.hasStarted(!1),this.trigger("loadstart")):(this.trigger("loadstart"),this.trigger("firstplay")),this.manualAutoplay_(this.autoplay())},e.manualAutoplay_=function(t){var n=this;if(this.tech_&&"string"==typeof t){var e,o=function(){var e=n.muted();n.muted(!0);var t=function(){n.muted(e)};n.playTerminatedQueue_.push(t);var o=n.play();if(io(o))return o.catch(t)};if("any"===t&&!0!==this.muted()?io(e=this.play())&&(e=e.catch(o)):e="muted"===t&&!0!==this.muted()?o():this.play(),io(e))return e.then(function(){n.trigger({type:"autoplay-success",autoplay:t})}).catch(function(e){n.trigger({type:"autoplay-failure",autoplay:t})})}},e.updateSourceCaches_=function(e){void 0===e&&(e="");var t=e,o="";"string"!=typeof t&&(t=e.src,o=e.type),this.cache_.source=this.cache_.source||{},this.cache_.sources=this.cache_.sources||[],t&&!o&&(o=function(e,t){if(!t)return"";if(e.cache_.source.src===t&&e.cache_.source.type)return e.cache_.source.type;var o=e.cache_.sources.filter(function(e){return e.src===t});if(o.length)return o[0].type;for(var n=e.$$("source"),r=0;r<n.length;r++){var i=n[r];if(i.type&&i.src&&i.src===t)return i.type}return $o(t)}(this,t)),this.cache_.source=mt({},e,{src:t,type:o});for(var n=this.cache_.sources.filter(function(e){return e.src&&e.src===t}),r=[],i=this.$$("source"),a=[],s=0;s<i.length;s++){var l=he(i[s]);r.push(l),l.src&&l.src===t&&a.push(l.src)}a.length&&!n.length?this.cache_.sources=r:n.length||(this.cache_.sources=[this.cache_.source]),this.cache_.src=t},e.handleTechSourceset_=function(e){var o=this;if(!this.changingSrc_){var t=function(e){return o.updateSourceCaches_(e)},n=this.currentSource().src,r=e.src;n&&!/^blob:/.test(n)&&/^blob:/.test(r)&&(!this.lastSource_||this.lastSource_.tech!==r&&this.lastSource_.player!==n)&&(t=function(){}),t(r),e.src||this.tech_.any(["sourceset","loadstart"],function(e){if("sourceset"!==e.type){var t=o.techGet("currentSrc");o.lastSource_.tech=t,o.updateSourceCaches_(t)}})}this.lastSource_={player:this.currentSource().src,tech:e.src},this.trigger({src:e.src,type:"sourceset"})},e.hasStarted=function(e){if(void 0===e)return this.hasStarted_;e!==this.hasStarted_&&(this.hasStarted_=e,this.hasStarted_?(this.addClass("vjs-has-started"),this.trigger("firstplay")):this.removeClass("vjs-has-started"))},e.handleTechPlay_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.hasStarted(!0),this.trigger("play")},e.handleTechRateChange_=function(){0<this.tech_.playbackRate()&&0===this.cache_.lastPlaybackRate&&(this.queuedCallbacks_.forEach(function(e){return e.callback(e.event)}),this.queuedCallbacks_=[]),this.cache_.lastPlaybackRate=this.tech_.playbackRate(),this.trigger("ratechange")},e.handleTechWaiting_=function(){var t=this;this.addClass("vjs-waiting"),this.trigger("waiting");var o=this.currentTime();this.on("timeupdate",function e(){o!==t.currentTime()&&(t.removeClass("vjs-waiting"),t.off("timeupdate",e))})},e.handleTechCanPlay_=function(){this.removeClass("vjs-waiting"),this.trigger("canplay")},e.handleTechCanPlayThrough_=function(){this.removeClass("vjs-waiting"),this.trigger("canplaythrough")},e.handleTechPlaying_=function(){this.removeClass("vjs-waiting"),this.trigger("playing")},e.handleTechSeeking_=function(){this.addClass("vjs-seeking"),this.trigger("seeking")},e.handleTechSeeked_=function(){this.removeClass("vjs-seeking"),this.removeClass("vjs-ended"),this.trigger("seeked")},e.handleTechFirstPlay_=function(){this.options_.starttime&&(W.warn("Passing the `starttime` option to the player will be deprecated in 6.0"),this.currentTime(this.options_.starttime)),this.addClass("vjs-has-started"),this.trigger("firstplay")},e.handleTechPause_=function(){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.trigger("pause")},e.handleTechEnded_=function(){this.addClass("vjs-ended"),this.options_.loop?(this.currentTime(0),this.play()):this.paused()||this.pause(),this.trigger("ended")},e.handleTechDurationChange_=function(){this.duration(this.techGet_("duration"))},e.handleTechClick_=function(e){Oe(e)&&this.controls_&&(this.paused()?ao(this.play()):this.pause())},e.handleTechDoubleClick_=function(t){this.controls_&&(Array.prototype.some.call(this.$$(".vjs-control-bar, .vjs-modal-dialog"),function(e){return e.contains(t.target)})||void 0!==this.options_&&void 0!==this.options_.userActions&&void 0!==this.options_.userActions.doubleClick&&!1===this.options_.userActions.doubleClick||(void 0!==this.options_&&void 0!==this.options_.userActions&&"function"==typeof this.options_.userActions.doubleClick?this.options_.userActions.doubleClick.call(this,t):this.isFullscreen()?this.exitFullscreen():this.requestFullscreen()))},e.handleTechTap_=function(){this.userActive(!this.userActive())},e.handleTechTouchStart_=function(){this.userWasActive=this.userActive()},e.handleTechTouchMove_=function(){this.userWasActive&&this.reportUserActivity()},e.handleTechTouchEnd_=function(e){e.preventDefault()},e.handleStageClick_=function(){this.reportUserActivity()},e.toggleFullscreenClass_=function(){this.isFullscreen()?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")},e.documentFullscreenChange_=function(e){var t=this.el(),o=d.a[this.fsApi_.fullscreenElement]===t;!o&&t.matches?o=t.matches(":"+this.fsApi_.fullscreen):!o&&t.msMatchesSelector&&(o=t.msMatchesSelector(":"+this.fsApi_.fullscreen)),this.isFullscreen(o),!1===this.isFullscreen()&&Ye(d.a,this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_),this.fsApi_.prefixed&&this.trigger("fullscreenchange")},e.handleTechFullscreenChange_=function(e,t){t&&this.isFullscreen(t.isFullscreen),this.trigger("fullscreenchange")},e.togglePictureInPictureClass_=function(){this.isInPictureInPicture()?this.addClass("vjs-picture-in-picture"):this.removeClass("vjs-picture-in-picture")},e.handleTechEnterPictureInPicture_=function(e){this.isInPictureInPicture(!0)},e.handleTechLeavePictureInPicture_=function(e){this.isInPictureInPicture(!1)},e.handleTechError_=function(){var e=this.tech_.error();this.error(e)},e.handleTechTextData_=function(){var e=null;1<arguments.length&&(e=arguments[1]),this.trigger("textdata",e)},e.getCache=function(){return this.cache_},e.resetCache_=function(){this.cache_={currentTime:0,inactivityTimeout:this.options_.inactivityTimeout,duration:NaN,lastVolume:1,lastPlaybackRate:this.defaultPlaybackRate(),media:null,src:"",source:{},sources:[],volume:1}},e.techCall_=function(e,t){this.ready(function(){if(e in Ko)return function(e,t,o,n){return t[o](e.reduce(Xo(o),n))}(this.middleware_,this.tech_,e,t);if(e in Yo)return zo(this.middleware_,this.tech_,e,t);try{this.tech_&&this.tech_[e](t)}catch(e){throw W(e),e}},!0)},e.techGet_=function(t){if(this.tech_&&this.tech_.isReady_){if(t in qo)return function(e,t,o){return e.reduceRight(Xo(o),t[o]())}(this.middleware_,this.tech_,t);if(t in Yo)return zo(this.middleware_,this.tech_,t);try{return this.tech_[t]()}catch(e){if(void 0===this.tech_[t])throw W("Video.js: "+t+" method not defined for "+this.techName_+" playback technology.",e),e;if("TypeError"===e.name)throw W("Video.js: "+t+" unavailable on "+this.techName_+" playback technology element.",e),this.tech_.isReady_=!1,e;throw W(e),e}}},e.play=function(){var t=this,e=this.options_.Promise||_.a.Promise;return e?new e(function(e){t.play_(e)}):this.play_()},e.play_=function(e){var t=this;void 0===e&&(e=ao),this.playCallbacks_.push(e);var o=Boolean(!this.changingSrc_&&(this.src()||this.currentSrc()));if(this.waitToPlay_&&(this.off(["ready","loadstart"],this.waitToPlay_),this.waitToPlay_=null),!this.isReady_||!o)return this.waitToPlay_=function(e){t.play_()},this.one(["ready","loadstart"],this.waitToPlay_),void(o||!Vt&&!Nt||this.load());var n=this.techGet_("play");null===n?this.runPlayTerminatedQueue_():this.runPlayCallbacks_(n)},e.runPlayTerminatedQueue_=function(){var e=this.playTerminatedQueue_.slice(0);this.playTerminatedQueue_=[],e.forEach(function(e){e()})},e.runPlayCallbacks_=function(t){var e=this.playCallbacks_.slice(0);this.playCallbacks_=[],this.playTerminatedQueue_=[],e.forEach(function(e){e(t)})},e.pause=function(){this.techCall_("pause")},e.paused=function(){return!1!==this.techGet_("paused")},e.played=function(){return this.techGet_("played")||Xt(0,0)},e.scrubbing=function(e){if(void 0===e)return this.scrubbing_;this.scrubbing_=!!e,e?this.addClass("vjs-scrubbing"):this.removeClass("vjs-scrubbing")},e.currentTime=function(e){return void 0!==e?(e<0&&(e=0),void this.techCall_("setCurrentTime",e)):(this.cache_.currentTime=this.techGet_("currentTime")||0,this.cache_.currentTime)},e.duration=function(e){if(void 0===e)return void 0!==this.cache_.duration?this.cache_.duration:NaN;(e=parseFloat(e))<0&&(e=1/0),e!==this.cache_.duration&&((this.cache_.duration=e)===1/0?(this.addClass("vjs-live"),this.options_.liveui&&this.player_.liveTracker&&this.addClass("vjs-liveui")):(this.removeClass("vjs-live"),this.removeClass("vjs-liveui")),isNaN(e)||this.trigger("durationchange"))},e.remainingTime=function(){return this.duration()-this.currentTime()},e.remainingTimeDisplay=function(){return Math.floor(this.duration())-Math.floor(this.currentTime())},e.buffered=function(){var e=this.techGet_("buffered");return e&&e.length||(e=Xt(0,0)),e},e.bufferedPercent=function(){return Jt(this.buffered(),this.duration())},e.bufferedEnd=function(){var e=this.buffered(),t=this.duration(),o=e.end(e.length-1);return t<o&&(o=t),o},e.volume=function(e){var t;return void 0!==e?(t=Math.max(0,Math.min(1,parseFloat(e))),this.cache_.volume=t,this.techCall_("setVolume",t),void(0<t&&this.lastVolume_(t))):(t=parseFloat(this.techGet_("volume")),isNaN(t)?1:t)},e.muted=function(e){if(void 0===e)return this.techGet_("muted")||!1;this.techCall_("setMuted",e)},e.defaultMuted=function(e){return void 0!==e?this.techCall_("setDefaultMuted",e):this.techGet_("defaultMuted")||!1},e.lastVolume_=function(e){if(void 0===e||0===e)return this.cache_.lastVolume;this.cache_.lastVolume=e},e.supportsFullScreen=function(){return this.techGet_("supportsFullScreen")||!1},e.isFullscreen=function(e){return void 0!==e?(this.isFullscreen_=!!e,void this.toggleFullscreenClass_()):!!this.isFullscreen_},e.requestFullscreen=function(e){var t;this.isFullscreen(!0),this.fsApi_.requestFullscreen?(Ke(d.a,this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_),this.fsApi_.prefixed||(t=this.options_.fullscreen&&this.options_.fullscreen.options||{},void 0!==e&&(t=e)),ao(this.el_[this.fsApi_.requestFullscreen](t))):this.tech_.supportsFullScreen()?this.techCall_("enterFullScreen"):(this.enterFullWindow(),this.trigger("fullscreenchange"))},e.exitFullscreen=function(){this.isFullscreen(!1),this.fsApi_.requestFullscreen?ao(d.a[this.fsApi_.exitFullscreen]()):this.tech_.supportsFullScreen()?this.techCall_("exitFullScreen"):(this.exitFullWindow(),this.trigger("fullscreenchange"))},e.enterFullWindow=function(){this.isFullWindow=!0,this.docOrigOverflow=d.a.documentElement.style.overflow,Ke(d.a,"keydown",this.boundFullWindowOnEscKey_),d.a.documentElement.style.overflow="hidden",ce(d.a.body,"vjs-full-window"),this.trigger("enterFullWindow")},e.fullWindowOnEscKey=function(e){h.a.isEventKey(e,"Esc")&&(!0===this.isFullscreen()?this.exitFullscreen():this.exitFullWindow())},e.exitFullWindow=function(){this.isFullWindow=!1,Ye(d.a,"keydown",this.boundFullWindowOnEscKey_),d.a.documentElement.style.overflow=this.docOrigOverflow,ue(d.a.body,"vjs-full-window"),this.trigger("exitFullWindow")},e.isInPictureInPicture=function(e){return void 0!==e?(this.isInPictureInPicture_=!!e,void this.togglePictureInPictureClass_()):!!this.isInPictureInPicture_},e.requestPictureInPicture=function(){if("pictureInPictureEnabled"in d.a)return this.techGet_("requestPictureInPicture")},e.exitPictureInPicture=function(){if("pictureInPictureEnabled"in d.a)return d.a.exitPictureInPicture()},e.handleKeyDown=function(e){var t=this.options_.userActions;if(t&&t.hotkeys){(function(e){var t=e.tagName.toLowerCase();if(e.isContentEditable)return!0;if("input"===t)return-1===["button","checkbox","hidden","radio","reset","submit"].indexOf(e.type);return-1!==["textarea"].indexOf(t)})(this.el_.ownerDocument.activeElement)||("function"==typeof t.hotkeys?t.hotkeys.call(this,e):this.handleHotkeys(e))}},e.handleHotkeys=function(e){var t=this.options_.userActions?this.options_.userActions.hotkeys:{},o=t.fullscreenKey,n=void 0===o?function(e){return h.a.isEventKey(e,"f")}:o,r=t.muteKey,i=void 0===r?function(e){return h.a.isEventKey(e,"m")}:r,a=t.playPauseKey,s=void 0===a?function(e){return h.a.isEventKey(e,"k")||h.a.isEventKey(e,"Space")}:a;if(n.call(this,e)){e.preventDefault(),e.stopPropagation();var l=yt.getComponent("FullscreenToggle");!1!==d.a[this.fsApi_.fullscreenEnabled]&&l.prototype.handleClick.call(this,e)}else if(i.call(this,e)){e.preventDefault(),e.stopPropagation(),yt.getComponent("MuteToggle").prototype.handleClick.call(this,e)}else if(s.call(this,e)){e.preventDefault(),e.stopPropagation(),yt.getComponent("PlayToggle").prototype.handleClick.call(this,e)}},e.canPlayType=function(e){for(var t,o=0,n=this.options_.techOrder;o<n.length;o++){var r=n[o],i=Ho.getTech(r);if(i||(i=yt.getComponent(r)),i){if(i.isSupported()&&(t=i.canPlayType(e)))return t}else W.error('The "'+r+'" tech is undefined. Skipped browser support check for that tech.')}return""},e.selectSource=function(e){var o,n=this,t=this.options_.techOrder.map(function(e){return[e,Ho.getTech(e)]}).filter(function(e){var t=e[0],o=e[1];return o?o.isSupported():(W.error('The "'+t+'" tech is undefined. Skipped browser support check for that tech.'),!1)}),r=function(e,o,n){var r;return e.some(function(t){return o.some(function(e){if(r=n(t,e))return!0})}),r},i=function(e,t){var o=e[0];if(e[1].canPlaySource(t,n.options_[o.toLowerCase()]))return{source:t,tech:o}};return(this.options_.sourceOrder?r(e,t,(o=i,function(e,t){return o(t,e)})):r(t,e,i))||!1},e.src=function(e){var o=this;if(void 0===e)return this.cache_.src||"";var n=function t(e){if(Array.isArray(e)){var o=[];e.forEach(function(e){e=t(e),Array.isArray(e)?o=o.concat(e):J(e)&&o.push(e)}),e=o}else e="string"==typeof e&&e.trim()?[Zo({src:e})]:J(e)&&"string"==typeof e.src&&e.src&&e.src.trim()?[Zo(e)]:[];return e}(e);n.length?(this.changingSrc_=!0,this.cache_.sources=n,this.updateSourceCaches_(n[0]),Wo(this,n[0],function(e,t){if(o.middleware_=t,o.cache_.sources=n,o.updateSourceCaches_(e),o.src_(e))return 1<n.length?o.src(n.slice(1)):(o.changingSrc_=!1,o.setTimeout(function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)})},0),void o.triggerReady());!function(e,t){e.forEach(function(e){return e.setTech&&e.setTech(t)})}(t,o.tech_)})):this.setTimeout(function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)})},0)},e.src_=function(e){var t=this,o=this.selectSource([e]);return!o||(function(e,t){return ft(e)===ft(t)}(o.tech,this.techName_)?this.ready(function(){this.tech_.constructor.prototype.hasOwnProperty("setSource")?this.techCall_("setSource",e):this.techCall_("src",e.src),this.changingSrc_=!1},!0):(this.changingSrc_=!0,this.loadTech_(o.tech,o.source),this.tech_.ready(function(){t.changingSrc_=!1})),!1)},e.load=function(){this.techCall_("load")},e.reset=function(){var e=this,t=this.options_.Promise||_.a.Promise;this.paused()||!t?this.doReset_():ao(this.play().then(function(){return e.doReset_()}))},e.doReset_=function(){this.tech_&&this.tech_.clearTracks("text"),this.resetCache_(),this.poster(""),this.loadTech_(this.options_.techOrder[0],null),this.techCall_("reset"),this.resetControlBarUI_(),nt(this)&&this.trigger("playerreset")},e.resetControlBarUI_=function(){this.resetProgressBar_(),this.resetPlaybackRate_(),this.resetVolumeBar_()},e.resetProgressBar_=function(){this.currentTime(0);var e=this.controlBar,t=e.durationDisplay,o=e.remainingTimeDisplay;t&&t.updateContent(),o&&o.updateContent()},e.resetPlaybackRate_=function(){this.playbackRate(this.defaultPlaybackRate()),this.handleTechRateChange_()},e.resetVolumeBar_=function(){this.volume(1),this.trigger("volumechange")},e.currentSources=function(){var e=this.currentSource(),t=[];return 0!==Object.keys(e).length&&t.push(e),this.cache_.sources||t},e.currentSource=function(){return this.cache_.source||{}},e.currentSrc=function(){return this.currentSource()&&this.currentSource().src||""},e.currentType=function(){return this.currentSource()&&this.currentSource().type||""},e.preload=function(e){return void 0!==e?(this.techCall_("setPreload",e),void(this.options_.preload=e)):this.techGet_("preload")},e.autoplay=function(e){if(void 0===e)return this.options_.autoplay||!1;var t;"string"==typeof e&&/(any|play|muted)/.test(e)?(this.options_.autoplay=e,this.manualAutoplay_(e),t=!1):this.options_.autoplay=!!e,t=void 0===t?this.options_.autoplay:t,this.tech_&&this.techCall_("setAutoplay",t)},e.playsinline=function(e){return void 0!==e?(this.techCall_("setPlaysinline",e),this.options_.playsinline=e,this):this.techGet_("playsinline")},e.loop=function(e){return void 0!==e?(this.techCall_("setLoop",e),void(this.options_.loop=e)):this.techGet_("loop")},e.poster=function(e){if(void 0===e)return this.poster_;e||(e=""),e!==this.poster_&&(this.poster_=e,this.techCall_("setPoster",e),this.isPosterFromTech_=!1,this.trigger("posterchange"))},e.handleTechPosterChange_=function(){if((!this.poster_||this.options_.techCanOverridePoster)&&this.tech_&&this.tech_.poster){var e=this.tech_.poster()||"";e!==this.poster_&&(this.poster_=e,this.isPosterFromTech_=!0,this.trigger("posterchange"))}},e.controls=function(e){if(void 0===e)return!!this.controls_;e=!!e,this.controls_!==e&&(this.controls_=e,this.usingNativeControls()&&this.techCall_("setControls",e),this.controls_?(this.removeClass("vjs-controls-disabled"),this.addClass("vjs-controls-enabled"),this.trigger("controlsenabled"),this.usingNativeControls()||this.addTechControlsListeners_()):(this.removeClass("vjs-controls-enabled"),this.addClass("vjs-controls-disabled"),this.trigger("controlsdisabled"),this.usingNativeControls()||this.removeTechControlsListeners_()))},e.usingNativeControls=function(e){if(void 0===e)return!!this.usingNativeControls_;e=!!e,this.usingNativeControls_!==e&&(this.usingNativeControls_=e,this.usingNativeControls_?(this.addClass("vjs-using-native-controls"),this.trigger("usingnativecontrols")):(this.removeClass("vjs-using-native-controls"),this.trigger("usingcustomcontrols")))},e.error=function(e){if(void 0===e)return this.error_||null;if(this.options_.suppressNotSupportedError&&e&&e.message&&e.message===this.localize(this.options_.notSupportedMessage)){var t=function(){this.error(e)};return this.options_.suppressNotSupportedError=!1,this.any(["click","touchstart"],t),void this.one("loadstart",function(){this.off(["click","touchstart"],t)})}if(null===e)return this.error_=e,this.removeClass("vjs-error"),void(this.errorDisplay&&this.errorDisplay.close());this.error_=new no(e),this.addClass("vjs-error"),W.error("(CODE:"+this.error_.code+" "+no.errorTypes[this.error_.code]+")",this.error_.message,this.error_),this.trigger("error")},e.reportUserActivity=function(e){this.userActivity_=!0},e.userActive=function(e){if(void 0===e)return this.userActive_;if((e=!!e)!==this.userActive_){if(this.userActive_=e,this.userActive_)return this.userActivity_=!0,this.removeClass("vjs-user-inactive"),this.addClass("vjs-user-active"),void this.trigger("useractive");this.tech_&&this.tech_.one("mousemove",function(e){e.stopPropagation(),e.preventDefault()}),this.userActivity_=!1,this.removeClass("vjs-user-active"),this.addClass("vjs-user-inactive"),this.trigger("userinactive")}},e.listenForUserActivity_=function(){var t,o,n,r=et(this,this.reportUserActivity);this.on("mousedown",function(){r(),this.clearInterval(t),t=this.setInterval(r,250)}),this.on("mousemove",function(e){e.screenX===o&&e.screenY===n||(o=e.screenX,n=e.screenY,r())}),this.on("mouseup",function(e){r(),this.clearInterval(t)});var i,e=this.getChild("controlBar");!e||Nt||Lt||(e.on("mouseenter",function(e){this.player().cache_.inactivityTimeout=this.player().options_.inactivityTimeout,this.player().options_.inactivityTimeout=0}),e.on("mouseleave",function(e){this.player().options_.inactivityTimeout=this.player().cache_.inactivityTimeout})),this.on("keydown",r),this.on("keyup",r),this.setInterval(function(){if(this.userActivity_){this.userActivity_=!1,this.userActive(!0),this.clearTimeout(i);var e=this.options_.inactivityTimeout;e<=0||(i=this.setTimeout(function(){this.userActivity_||this.userActive(!1)},e))}},250)},e.playbackRate=function(e){if(void 0===e)return this.tech_&&this.tech_.featuresPlaybackRate?this.cache_.lastPlaybackRate||this.techGet_("playbackRate"):1;this.techCall_("setPlaybackRate",e)},e.defaultPlaybackRate=function(e){return void 0!==e?this.techCall_("setDefaultPlaybackRate",e):this.tech_&&this.tech_.featuresPlaybackRate?this.techGet_("defaultPlaybackRate"):1},e.isAudio=function(e){if(void 0===e)return!!this.isAudio_;this.isAudio_=!!e},e.addTextTrack=function(e,t,o){if(this.tech_)return this.tech_.addTextTrack(e,t,o)},e.addRemoteTextTrack=function(e,t){if(this.tech_)return this.tech_.addRemoteTextTrack(e,t)},e.removeRemoteTextTrack=function(e){void 0===e&&(e={});var t=e.track;if(t||(t=e),this.tech_)return this.tech_.removeRemoteTextTrack(t)},e.getVideoPlaybackQuality=function(){return this.techGet_("getVideoPlaybackQuality")},e.videoWidth=function(){return this.tech_&&this.tech_.videoWidth&&this.tech_.videoWidth()||0},e.videoHeight=function(){return this.tech_&&this.tech_.videoHeight&&this.tech_.videoHeight()||0},e.language=function(e){if(void 0===e)return this.language_;this.language_=String(e).toLowerCase()},e.languages=function(){return mt(c.prototype.options_.languages,this.languages_)},e.toJSON=function(){var e=mt(this.options_),t=e.tracks;e.tracks=[];for(var o=0;o<t.length;o++){var n=t[o];(n=mt(n)).player=void 0,e.tracks[o]=n}return e},e.createModal=function(e,t){var o=this;(t=t||{}).content=e||"";var n=new po(this,t);return this.addChild(n),n.on("dispose",function(){o.removeChild(n)}),n.open(),n},e.updateCurrentBreakpoint_=function(){if(this.responsive())for(var e=this.currentBreakpoint(),t=this.currentWidth(),o=0;o<Dr.length;o++){var n=Dr[o];if(t<=this.breakpoints_[n]){if(e===n)return;e&&this.removeClass(Mr[e]),this.addClass(Mr[n]),this.breakpoint_=n;break}}},e.removeCurrentBreakpoint_=function(){var e=this.currentBreakpointClass();this.breakpoint_="",e&&this.removeClass(e)},e.breakpoints=function(e){return void 0===e||(this.breakpoint_="",this.breakpoints_=X({},Ur,e),this.updateCurrentBreakpoint_()),X(this.breakpoints_)},e.responsive=function(e){return void 0===e?this.responsive_:(e=Boolean(e))!==this.responsive_?((this.responsive_=e)?(this.on("playerresize",this.updateCurrentBreakpoint_),this.updateCurrentBreakpoint_()):(this.off("playerresize",this.updateCurrentBreakpoint_),this.removeCurrentBreakpoint_()),e):void 0},e.currentBreakpoint=function(){return this.breakpoint_},e.currentBreakpointClass=function(){return Mr[this.breakpoint_]||""},e.loadMedia=function(e,t){var o=this;if(e&&"object"==typeof e){this.reset(),this.cache_.media=mt(e);var n=this.cache_.media,r=n.artwork,i=n.poster,a=n.src,s=n.textTracks;!r&&i&&(this.cache_.media.artwork=[{src:i,type:$o(i)}]),a&&this.src(a),i&&this.poster(i),Array.isArray(s)&&s.forEach(function(e){return o.addRemoteTextTrack(e,!1)}),this.ready(t)}},e.getMedia=function(){if(this.cache_.media)return mt(this.cache_.media);var e=this.poster(),t={src:this.currentSources(),textTracks:Array.prototype.map.call(this.remoteTextTracks(),function(e){return{kind:e.kind,label:e.label,language:e.language,src:e.src}})};return e&&(t.poster=e,t.artwork=[{src:t.poster,type:$o(t.poster)}]),t},c.getTagSettings=function(e){var t={sources:[],tracks:[]},o=he(e),n=o["data-setup"];if(le(e,"vjs-fill")&&(o.fill=!0),le(e,"vjs-fluid")&&(o.fluid=!0),null!==n){var r=p()(n||"{}"),i=r[0],a=r[1];i&&W.error(i),X(o,a)}if(X(t,o),e.hasChildNodes())for(var s=e.childNodes,l=0,c=s.length;l<c;l++){var u=s[l],d=u.nodeName.toLowerCase();"source"===d?t.sources.push(he(u)):"track"===d&&t.tracks.push(he(u))}return t},e.flexNotSupported_=function(){var e=d.a.createElement("i");return!("flexBasis"in e.style||"webkitFlexBasis"in e.style||"mozFlexBasis"in e.style||"msFlexBasis"in e.style||"msFlexOrder"in e.style)},c}(yt);Fo.names.forEach(function(e){var t=Fo[e];Fr.prototype[t.getterName]=function(){return this.tech_?this.tech_[t.getterName]():(this[t.privateName]=this[t.privateName]||new t.ListClass,this[t.privateName])}}),Fr.players={};var Hr=_.a.navigator;Fr.prototype.options_={techOrder:Ho.defaultTechOrder_,html5:{},flash:{},inactivityTimeout:2e3,playbackRates:[],liveui:!1,children:["mediaLoader","posterImage","textTrackDisplay","loadingSpinner","bigPlayButton","liveTracker","controlBar","errorDisplay","textTrackSettings","resizeManager"],language:Hr&&(Hr.languages&&Hr.languages[0]||Hr.userLanguage||Hr.language)||"en",languages:{},notSupportedMessage:"No compatible source was found for this media.",fullscreen:{options:{navigationUI:"hide"}},breakpoints:{},responsive:!1},["ended","seeking","seekable","networkState","readyState"].forEach(function(e){Fr.prototype[e]=function(){return this.techGet_(e)}}),Lr.forEach(function(e){Fr.prototype["handleTech"+ft(e)+"_"]=function(){return this.trigger(e)}}),yt.registerComponent("Player",Fr);var jr="plugin",Gr="activePlugins_",Vr={},Wr=function(e){return Vr.hasOwnProperty(e)},zr=function(e){return Wr(e)?Vr[e]:void 0},qr=function(e,t){e[Gr]=e[Gr]||{},e[Gr][t]=!0},Kr=function(e,t,o){var n=(o?"before":"")+"pluginsetup";e.trigger(n,t),e.trigger(n+":"+t.name,t)},Yr=function(r,i){return i.prototype.name=r,function(){Kr(this,{name:r,plugin:i,instance:null},!0);for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];var n=bt(i,[this].concat(t));return this[r]=function(){return n},Kr(this,n.getEventHash()),n}},Xr=function(){function o(e){if(this.constructor===o)throw new Error("Plugin must be sub-classed; not directly instantiated.");this.player=e,dt(this),delete this.trigger,ht(this,this.constructor.defaultState),qr(e,this.name),this.dispose=et(this,this.dispose),e.on("dispose",this.dispose)}var e=o.prototype;return e.version=function(){return this.constructor.VERSION},e.getEventHash=function(e){return void 0===e&&(e={}),e.name=this.name,e.plugin=this.constructor,e.instance=this,e},e.trigger=function(e,t){return void 0===t&&(t={}),Xe(this.eventBusEl_,e,this.getEventHash(t))},e.handleStateChanged=function(e){},e.dispose=function(){var e=this.name,t=this.player;this.trigger("dispose"),this.off(),t.off("dispose",this.dispose),t[Gr][e]=!1,this.player=this.state=null,t[e]=Yr(e,Vr[e])},o.isBasic=function(e){var t="string"==typeof e?zr(e):e;return"function"==typeof t&&!o.prototype.isPrototypeOf(t.prototype)},o.registerPlugin=function(e,t){if("string"!=typeof e)throw new Error('Illegal plugin name, "'+e+'", must be a string, was '+typeof e+".");if(Wr(e))W.warn('A plugin named "'+e+'" already exists. You may want to avoid re-registering plugins!');else if(Fr.prototype.hasOwnProperty(e))throw new Error('Illegal plugin name, "'+e+'", cannot share a name with an existing player method!');if("function"!=typeof t)throw new Error('Illegal plugin for "'+e+'", must be a function, was '+typeof t+".");return Vr[e]=t,e!==jr&&(o.isBasic(t)?Fr.prototype[e]=function(t,o){var n=function(){Kr(this,{name:t,plugin:o,instance:null},!0);var e=o.apply(this,arguments);return qr(this,t),Kr(this,{name:t,plugin:o,instance:e}),e};return Object.keys(o).forEach(function(e){n[e]=o[e]}),n}(e,t):Fr.prototype[e]=Yr(e,t)),t},o.deregisterPlugin=function(e){if(e===jr)throw new Error("Cannot de-register base plugin.");Wr(e)&&(delete Vr[e],delete Fr.prototype[e])},o.getPlugins=function(e){var o;return void 0===e&&(e=Object.keys(Vr)),e.forEach(function(e){var t=zr(e);t&&((o=o||{})[e]=t)}),o},o.getPluginVersion=function(e){var t=zr(e);return t&&t.VERSION||""},o}();Xr.getPlugin=zr,Xr.BASE_PLUGIN_NAME=jr,Xr.registerPlugin(jr,Xr),Fr.prototype.usingPlugin=function(e){return!!this[Gr]&&!0===this[Gr][e]},Fr.prototype.hasPlugin=function(e){return!!Wr(e)};var Jr=function(e){return 0===e.indexOf("#")?e.slice(1):e};function Qr(e,o,t){var n=Qr.getPlayer(e);if(n)return o&&W.warn('Player "'+e+'" is already initialised. Options will not be applied.'),t&&n.ready(t),n;var r="string"==typeof e?Be("#"+Jr(e)):e;if(!oe(r))throw new TypeError("The element or ID supplied is not valid. (videojs)");r.ownerDocument.defaultView&&r.ownerDocument.body.contains(r)||W.warn("The element supplied is not included in the DOM"),o=o||{},Qr.hooks("beforesetup").forEach(function(e){var t=e(r,mt(o));J(t)&&!Array.isArray(t)?o=mt(o,t):W.error("please return an object in beforesetup hooks")});var i=yt.getComponent("Player");return n=new i(r,o,t),Qr.hooks("setup").forEach(function(e){return e(n)}),n}if(Qr.hooks_={},Qr.hooks=function(e,t){return Qr.hooks_[e]=Qr.hooks_[e]||[],t&&(Qr.hooks_[e]=Qr.hooks_[e].concat(t)),Qr.hooks_[e]},Qr.hook=function(e,t){Qr.hooks(e,t)},Qr.hookOnce=function(o,e){Qr.hooks(o,[].concat(e).map(function(t){return function e(){return Qr.removeHook(o,e),t.apply(void 0,arguments)}}))},Qr.removeHook=function(e,t){var o=Qr.hooks(e).indexOf(t);return!(o<=-1)&&(Qr.hooks_[e]=Qr.hooks_[e].slice(),Qr.hooks_[e].splice(o,1),!0)},!0!==_.a.VIDEOJS_NO_DYNAMIC_STYLE&&te()){var $r=Be(".vjs-styles-defaults");if(!$r){$r=Me("vjs-styles-defaults");var Zr=Be("head");Zr&&Zr.insertBefore($r,Zr.firstChild),Ue($r,"\n      .video-js {\n        width: 300px;\n        height: 150px;\n      }\n\n      .vjs-fluid {\n        padding-top: 56.25%\n      }\n    ")}}Le(1,Qr),Qr.VERSION="7.6.6",Qr.options=Fr.prototype.options_,Qr.getPlayers=function(){return Fr.players},Qr.getPlayer=function(e){var t,o=Fr.players;if("string"==typeof e){var n=Jr(e),r=o[n];if(r)return r;t=Be("#"+n)}else t=e;if(oe(t)){var i=t,a=i.player,s=i.playerId;if(a||o[s])return a||o[s]}},Qr.getAllPlayers=function(){return Object.keys(Fr.players).map(function(e){return Fr.players[e]}).filter(Boolean)},Qr.players=Fr.players,Qr.getComponent=yt.getComponent,Qr.registerComponent=function(e,t){Ho.isTech(t)&&W.warn("The "+e+" tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)"),yt.registerComponent.call(yt,e,t)},Qr.getTech=Ho.getTech,Qr.registerTech=Ho.registerTech,Qr.use=function(e,t){jo[e]=jo[e]||[],jo[e].push(t)},Object.defineProperty(Qr,"middleware",{value:{},writeable:!1,enumerable:!0}),Object.defineProperty(Qr.middleware,"TERMINATOR",{value:Vo,writeable:!1,enumerable:!0}),Qr.browser=qt,Qr.TOUCH_ENABLED=zt,Qr.extend=function(e,t){void 0===t&&(t={});var o=function(){e.apply(this,arguments)},n={};for(var r in"object"==typeof t?(t.constructor!==Object.prototype.constructor&&(o=t.constructor),n=t):"function"==typeof t&&(o=t),function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.super_=t)}(o,e),n)n.hasOwnProperty(r)&&(o.prototype[r]=n[r]);return o},Qr.mergeOptions=mt,Qr.bind=et,Qr.registerPlugin=Xr.registerPlugin,Qr.deregisterPlugin=Xr.deregisterPlugin,Qr.plugin=function(e,t){return W.warn("videojs.plugin() is deprecated; use videojs.registerPlugin() instead"),Xr.registerPlugin(e,t)},Qr.getPlugins=Xr.getPlugins,Qr.getPlugin=Xr.getPlugin,Qr.getPluginVersion=Xr.getPluginVersion,Qr.addLanguage=function(e,t){var o;return e=(""+e).toLowerCase(),Qr.options.languages=mt(Qr.options.languages,((o={})[e]=t,o)),Qr.options.languages[e]},Qr.log=W,Qr.createLogger=z,Qr.createTimeRange=Qr.createTimeRanges=Xt,Qr.formatTime=fn,Qr.setFormatTime=function(e){gn=e},Qr.resetFormatTime=function(){gn=hn},Qr.parseUrl=Oo,Qr.isCrossOrigin=Io,Qr.EventTarget=ot,Qr.on=Ke,Qr.one=Je,Qr.off=Ye,Qr.trigger=Xe,Qr.xhr=u.a,Qr.TextTrack=Po,Qr.AudioTrack=Lo,Qr.VideoTrack=xo,["isEl","isTextNode","createEl","hasClass","addClass","removeClass","toggleClass","setAttributes","getAttributes","emptyEl","appendContent","insertContent"].forEach(function(e){Qr[e]=function(){return W.warn("videojs."+e+"() is deprecated; use videojs.dom."+e+"() instead"),Re[e].apply(null,arguments)}}),Qr.computedStyle=$,Qr.dom=Re,Qr.url=Ro;
/**
 * @videojs/http-streaming
 * @version 1.10.6
 * @copyright 2019 Brightcove, Inc
 * @license Apache-2.0
 */
var ei=function(e,t){return/^[a-z]+:/i.test(t)?t:(/\/\//i.test(e)||(e=f.a.buildAbsoluteURL(_.a.location.href,e)),f.a.buildAbsoluteURL(e,t))},ti=function(e,t,o){return e&&o.responseURL&&t!==o.responseURL?o.responseURL:t},oi=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},ni=function(){function n(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,o){return t&&n(e.prototype,t),o&&n(e,o),e}}(),ri=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},ii=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},ai=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var o=[],n=!0,r=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(o.push(a.value),!t||o.length!==t);n=!0);}catch(e){r=!0,i=e}finally{try{!n&&s.return&&s.return()}finally{if(r)throw i}}return o}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},si=Qr.mergeOptions,li=Qr.EventTarget,ci=Qr.log,ui=function(r,i){["AUDIO","SUBTITLES"].forEach(function(e){for(var t in r.mediaGroups[e])for(var o in r.mediaGroups[e][t]){var n=r.mediaGroups[e][t][o];i(n,e,t,o)}})},di=function(e,t){var o=si(e,{}),n=o.playlists[t.uri];if(!n)return null;if(n.segments&&t.segments&&n.segments.length===t.segments.length&&n.endList===t.endList&&n.mediaSequence===t.mediaSequence)return null;var r=si(n,t);n.segments&&(r.segments=function(e,t,o){var n=t.slice();o=o||0;for(var r=Math.min(e.length,t.length+o),i=o;i<r;i++)n[i-o]=si(e[i],n[i-o]);return n}(n.segments,t.segments,t.mediaSequence-n.mediaSequence)),r.segments.forEach(function(e){!function(e,t){e.resolvedUri||(e.resolvedUri=ei(t,e.uri)),e.key&&!e.key.resolvedUri&&(e.key.resolvedUri=ei(t,e.key.uri)),e.map&&!e.map.resolvedUri&&(e.map.resolvedUri=ei(t,e.map.uri))}(e,r.resolvedUri)});for(var i=0;i<o.playlists.length;i++)o.playlists[i].uri===t.uri&&(o.playlists[i]=r);return o.playlists[t.uri]=r,o},pi=function(e){for(var t=e.playlists.length;t--;){var o=e.playlists[t];(e.playlists[o.uri]=o).resolvedUri=ei(e.uri,o.uri),o.id=t,o.attributes||(o.attributes={},ci.warn("Invalid playlist STREAM-INF detected. Missing BANDWIDTH attribute."))}},hi=function(t){ui(t,function(e){e.uri&&(e.resolvedUri=ei(t.uri,e.uri))})},gi=function(e,t){var o=e.segments[e.segments.length-1];return t&&o&&o.duration?1e3*o.duration:500*(e.targetDuration||10)},fi=function(e){function c(e,t){var o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};oi(this,c);var n=ii(this,(c.__proto__||Object.getPrototypeOf(c)).call(this)),r=o.withCredentials,i=void 0!==r&&r,a=o.handleManifestRedirects,s=void 0!==a&&a;n.srcUrl=e,n.hls_=t,n.withCredentials=i,n.handleManifestRedirects=s;var l=t.options_;if(n.customTagParsers=l&&l.customTagParsers||[],n.customTagMappers=l&&l.customTagMappers||[],!n.srcUrl)throw new Error("A non-empty playlist URL is required");return n.state="HAVE_NOTHING",n.on("mediaupdatetimeout",function(){"HAVE_METADATA"===n.state&&(n.state="HAVE_CURRENT_METADATA",n.request=n.hls_.xhr({uri:ei(n.master.uri,n.media().uri),withCredentials:n.withCredentials},function(e,t){if(n.request)return e?n.playlistRequestError(n.request,n.media().uri,"HAVE_METADATA"):void n.haveMetadata(n.request,n.media().uri)}))}),n}return ri(c,li),ni(c,[{key:"playlistRequestError",value:function(e,t,o){this.request=null,o&&(this.state=o),this.error={playlist:this.master.playlists[t],status:e.status,message:"HLS playlist request error at URL: "+t+".",responseText:e.responseText,code:500<=e.status?4:2},this.trigger("error")}},{key:"haveMetadata",value:function(e,t){var o=this;this.request=null,this.state="HAVE_METADATA";var n=new S;this.customTagParsers.forEach(function(e){return n.addParser(e)}),this.customTagMappers.forEach(function(e){return n.addTagMapper(e)}),n.push(e.responseText),n.end(),n.manifest.uri=t,n.manifest.attributes=n.manifest.attributes||{};var r=di(this.master,n.manifest);this.targetDuration=n.manifest.targetDuration,r?(this.master=r,this.media_=this.master.playlists[n.manifest.uri]):this.trigger("playlistunchanged"),this.media().endList||(_.a.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=_.a.setTimeout(function(){o.trigger("mediaupdatetimeout")},gi(this.media(),!!r))),this.trigger("loadedplaylist")}},{key:"dispose",value:function(){this.stopRequest(),_.a.clearTimeout(this.mediaUpdateTimeout),_.a.clearTimeout(this.finalRenditionTimeout)}},{key:"stopRequest",value:function(){if(this.request){var e=this.request;this.request=null,e.onreadystatechange=null,e.abort()}}},{key:"media",value:function(o,e){var n=this;if(!o)return this.media_;if("HAVE_NOTHING"===this.state)throw new Error("Cannot switch media playlist from "+this.state);if("string"==typeof o){if(!this.master.playlists[o])throw new Error("Unknown playlist URI: "+o);o=this.master.playlists[o]}if(_.a.clearTimeout(this.finalRenditionTimeout),e){var t=o.targetDuration/2*1e3||5e3;this.finalRenditionTimeout=_.a.setTimeout(this.media.bind(this,o,!1),t)}else{var r=this.state,i=!this.media_||o.uri!==this.media_.uri;if(this.master.playlists[o.uri].endList)return this.request&&(this.request.onreadystatechange=null,this.request.abort(),this.request=null),this.state="HAVE_METADATA",this.media_=o,void(i&&(this.trigger("mediachanging"),this.trigger("mediachange")));if(i){if(this.state="SWITCHING_MEDIA",this.request){if(o.resolvedUri===this.request.url)return;this.request.onreadystatechange=null,this.request.abort(),this.request=null}this.media_&&this.trigger("mediachanging"),this.request=this.hls_.xhr({uri:o.resolvedUri,withCredentials:this.withCredentials},function(e,t){if(n.request){if(o.resolvedUri=ti(n.handleManifestRedirects,o.resolvedUri,t),e)return n.playlistRequestError(n.request,o.uri,r);n.haveMetadata(t,o.uri),"HAVE_MASTER"===r?n.trigger("loadedmetadata"):n.trigger("mediachange")}})}}}},{key:"pause",value:function(){this.stopRequest(),_.a.clearTimeout(this.mediaUpdateTimeout),"HAVE_NOTHING"===this.state&&(this.started=!1),"SWITCHING_MEDIA"===this.state?this.media_?this.state="HAVE_METADATA":this.state="HAVE_MASTER":"HAVE_CURRENT_METADATA"===this.state&&(this.state="HAVE_METADATA")}},{key:"load",value:function(e){var t=this;_.a.clearTimeout(this.mediaUpdateTimeout);var o=this.media();if(e){var n=o?o.targetDuration/2*1e3:5e3;this.mediaUpdateTimeout=_.a.setTimeout(function(){return t.load()},n)}else this.started?o&&!o.endList?this.trigger("mediaupdatetimeout"):this.trigger("loadedplaylist"):this.start()}},{key:"start",value:function(){var n=this;this.started=!0,this.request=this.hls_.xhr({uri:this.srcUrl,withCredentials:this.withCredentials},function(e,t){if(n.request){if(n.request=null,e)return n.error={status:t.status,message:"HLS playlist request error at URL: "+n.srcUrl+".",responseText:t.responseText,code:2},"HAVE_NOTHING"===n.state&&(n.started=!1),n.trigger("error");var o=new S;return n.customTagParsers.forEach(function(e){return o.addParser(e)}),n.customTagMappers.forEach(function(e){return o.addTagMapper(e)}),o.push(t.responseText),o.end(),n.state="HAVE_MASTER",n.srcUrl=ti(n.handleManifestRedirects,n.srcUrl,t),o.manifest.uri=n.srcUrl,o.manifest.playlists?(n.master=o.manifest,pi(n.master),hi(n.master),n.trigger("loadedplaylist"),void(n.request||n.media(o.manifest.playlists[0]))):(n.master={mediaGroups:{AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},uri:_.a.location.href,playlists:[{uri:n.srcUrl,id:0,resolvedUri:n.srcUrl,attributes:{}}]},n.master.playlists[n.srcUrl]=n.master.playlists[0],n.haveMetadata(t,n.srcUrl),n.trigger("loadedmetadata"))}})}}]),c}(),mi=Qr.createTimeRange,yi=function(e,t,o){var n,r;return void 0===t&&(t=e.mediaSequence+e.segments.length),t<e.mediaSequence?0:(n=function(e,t){var o=0,n=t-e.mediaSequence,r=e.segments[n];if(r){if(void 0!==r.start)return{result:r.start,precise:!0};if(void 0!==r.end)return{result:r.end-r.duration,precise:!0}}for(;n--;){if(void 0!==(r=e.segments[n]).end)return{result:o+r.end,precise:!0};if(o+=r.duration,void 0!==r.start)return{result:o+r.start,precise:!0}}return{result:o,precise:!1}}(e,t)).precise?n.result:(r=function(e,t){for(var o=0,n=void 0,r=t-e.mediaSequence;r<e.segments.length;r++){if(void 0!==(n=e.segments[r]).start)return{result:n.start-o,precise:!0};if(o+=n.duration,void 0!==n.end)return{result:n.end-o,precise:!0}}return{result:-1,precise:!1}}(e,t)).precise?r.result:n.result+o},_i=function(e,t,o){if(!e)return 0;if("number"!=typeof o&&(o=0),void 0===t){if(e.totalDuration)return e.totalDuration;if(!e.endList)return _.a.Infinity}return yi(e,t,o)},vi=function(e,t,o){var n=0;if(o<t){var r=[o,t];t=r[0],o=r[1]}if(t<0){for(var i=t;i<Math.min(0,o);i++)n+=e.targetDuration;t=0}for(var a=t;a<o;a++)n+=e.segments[a].duration;return n},bi=function(e){if(!e.segments.length)return 0;for(var t=e.segments.length-1,o=e.segments[t].duration||e.targetDuration,n=o+2*e.targetDuration;t--&&!(n<=(o+=e.segments[t].duration)););return Math.max(0,t)},Ei=function(e,t,o){if(!e||!e.segments)return null;if(e.endList)return _i(e);if(null===t)return null;t=t||0;var n=o?bi(e):e.segments.length;return yi(e,e.mediaSequence+n,t)},Ti=function(e){return e-Math.floor(e)==0},Si=function(e,t){if(Ti(t))return t+.1*e;for(var o=t.toString().split(".")[1].length,n=1;n<=o;n++){var r=Math.pow(10,n),i=t*r;if(Ti(i)||n===o)return(i+e)/r}},ki=Si.bind(null,1),Ci=Si.bind(null,-1),Ai=function(e){return e.excludeUntil&&e.excludeUntil>Date.now()},Oi=function(e){return e.excludeUntil&&e.excludeUntil===1/0},wi=function(e){var t=Ai(e);return!e.disabled&&!t},Bi=function(e,t){return t.attributes&&t.attributes[e]},Ii=function(e,t){if(1===e.playlists.length)return!0;var o=t.attributes.BANDWIDTH||Number.MAX_VALUE;return 0===e.playlists.filter(function(e){return!!wi(e)&&(e.attributes.BANDWIDTH||0)<o}).length},Ri={duration:_i,seekable:function(e,t){var o=t||0,n=Ei(e,t,!0);return null===n?mi():mi(o,n)},safeLiveIndex:bi,getMediaInfoForTime:function(e,t,o,n){var r=void 0,i=void 0,a=e.segments.length,s=t-n;if(s<0){if(0<o)for(r=o-1;0<=r;r--)if(i=e.segments[r],0<(s+=Ci(i.duration)))return{mediaIndex:r,startTime:n-vi(e,o,r)};return{mediaIndex:0,startTime:t}}if(o<0){for(r=o;r<0;r++)if((s-=e.targetDuration)<0)return{mediaIndex:0,startTime:t};o=0}for(r=o;r<a;r++)if(i=e.segments[r],(s-=ki(i.duration))<0)return{mediaIndex:r,startTime:n+vi(e,o,r)};return{mediaIndex:a-1,startTime:t}},isEnabled:wi,isDisabled:function(e){return e.disabled},isBlacklisted:Ai,isIncompatible:Oi,playlistEnd:Ei,isAes:function(e){for(var t=0;t<e.segments.length;t++)if(e.segments[t].key)return!0;return!1},isFmp4:function(e){for(var t=0;t<e.segments.length;t++)if(e.segments[t].map)return!0;return!1},hasAttribute:Bi,estimateSegmentRequestTime:function(e,t,o){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0;return Bi("BANDWIDTH",o)?(e*o.attributes.BANDWIDTH-8*n)/t:NaN},isLowestEnabledRendition:Ii},Ni=Qr.xhr,Pi=Qr.mergeOptions,Li=function(){return function e(t,n){t=Pi({timeout:45e3},t);var o=e.beforeRequest||Qr.Hls.xhr.beforeRequest;if(o&&"function"==typeof o){var r=o(t);r&&(t=r)}var i=Ni(t,function(e,t){var o=i.response;!e&&o&&(i.responseTime=Date.now(),i.roundTripTime=i.responseTime-i.requestTime,i.bytesReceived=o.byteLength||o.length,i.bandwidth||(i.bandwidth=Math.floor(i.bytesReceived/i.roundTripTime*8*1e3))),t.headers&&(i.responseHeaders=t.headers),e&&"ETIMEDOUT"===e.code&&(i.timedout=!0),e||i.aborted||200===t.statusCode||206===t.statusCode||0===t.statusCode||(e=new Error("XHR Failed with a response of: "+(i&&(o||i.responseText)))),n(e,i)}),a=i.abort;return i.abort=function(){return i.aborted=!0,a.apply(i,arguments)},i.uri=t.uri,i.requestTime=Date.now(),i}},xi=function(e){var t={};return e.byterange&&(t.Range=function(e){var t;return t=e.offset+e.length-1,"bytes="+e.offset+"-"+t}(e.byterange)),t},Di=function(e,t){var o=e.toString(16);return"00".substring(0,2-o.length)+o+(t%2?" ":"")},Mi=function(e){return 32<=e&&e<126?String.fromCharCode(e):"."},Ui=function(o){var n={};return Object.keys(o).forEach(function(e){var t=o[e];ArrayBuffer.isView(t)?n[e]={bytes:t.buffer,byteOffset:t.byteOffset,byteLength:t.byteLength}:n[e]=t}),n},Fi=function(e){var t=e.byterange||{length:1/0,offset:0};return[t.length,t.offset,e.resolvedUri].join(",")},Hi=function(e){return e.resolvedUri},ji=function(e){for(var t=Array.prototype.slice.call(e),o="",n=0;n<t.length/16;n++)o+=t.slice(16*n,16*n+16).map(Di).join("")+" "+t.slice(16*n,16*n+16).map(Mi).join("")+"\n";return o},Gi=Object.freeze({createTransferableMessage:Ui,initSegmentId:Fi,segmentKeyId:Hi,hexDump:ji,tagDump:function(e){var t=e.bytes;return ji(t)},textRanges:function(e){var t,o,n="",r=void 0;for(r=0;r<e.length;r++)n+=(o=r,(t=e).start(o)+"-"+t.end(o)+" ");return n}}),Vi=function(e){var t=e.playlist,o=e.time,n=void 0===o?void 0:o,r=e.callback;if(!r)throw new Error("getProgramTime: callback must be provided");if(!t||void 0===n)return r({message:"getProgramTime: playlist and time must be provided"});var i=function(e,t){if(!t||!t.segments||0===t.segments.length)return null;for(var o=0,n=void 0,r=0;r<t.segments.length&&!(e<=(o=(n=t.segments[r]).videoTimingInfo?n.videoTimingInfo.transmuxedPresentationEnd:o+n.duration));r++);var i=t.segments[t.segments.length-1];if(i.videoTimingInfo&&i.videoTimingInfo.transmuxedPresentationEnd<e)return null;if(o<e){if(e>o+.25*i.duration)return null;n=i}return{segment:n,estimatedStart:n.videoTimingInfo?n.videoTimingInfo.transmuxedPresentationStart:o-n.duration,type:n.videoTimingInfo?"accurate":"estimate"}}(n,t);if(!i)return r({message:"valid programTime was not found"});if("estimate"===i.type)return r({message:"Accurate programTime could not be determined. Please seek to e.seekTime and try again",seekTime:i.estimatedStart});var a={mediaSeconds:n},s=function(e,t){if(!t.dateTimeObject)return null;var o=t.videoTimingInfo.transmuxerPrependedSeconds,n=e-(t.videoTimingInfo.transmuxedPresentationStart+o);return new Date(t.dateTimeObject.getTime()+1e3*n)}(n,i.segment);return s&&(a.programDateTime=s.toISOString()),r(null,a)},Wi=function e(t){var o=t.programTime,n=t.playlist,r=t.retryCount,i=void 0===r?2:r,a=t.seekTo,s=t.pauseAfterSeek,l=void 0===s||s,c=t.tech,u=t.callback;if(!u)throw new Error("seekToProgramTime: callback must be provided");if(void 0===o||!n||!a)return u({message:"seekToProgramTime: programTime, seekTo and playlist must be provided"});if(!n.endList&&!c.hasStarted_)return u({message:"player must be playing a live stream to start buffering"});if(!function(e){if(!e.segments||0===e.segments.length)return!1;for(var t=0;t<e.segments.length;t++)if(!e.segments[t].dateTimeObject)return!1;return!0}(n))return u({message:"programDateTime tags must be provided in the manifest "+n.resolvedUri});var d=function(e,t){var o=void 0;try{o=new Date(e)}catch(e){return null}if(!t||!t.segments||0===t.segments.length)return null;var n=t.segments[0];if(o<n.dateTimeObject)return null;for(var r=0;r<t.segments.length-1&&(n=t.segments[r],!(o<t.segments[r+1].dateTimeObject));r++);var i=t.segments[t.segments.length-1],a=i.dateTimeObject,s=i.videoTimingInfo?function(e){return e.transmuxedPresentationEnd-e.transmuxedPresentationStart-e.transmuxerPrependedSeconds}(i.videoTimingInfo):i.duration+.25*i.duration;return new Date(a.getTime()+1e3*s)<o?null:(a<o&&(n=i),{segment:n,estimatedStart:n.videoTimingInfo?n.videoTimingInfo.transmuxedPresentationStart:Ri.duration(t,t.mediaSequence+t.segments.indexOf(n)),type:n.videoTimingInfo?"accurate":"estimate"})}(o,n);if(!d)return u({message:o+" was not found in the stream"});var p=d.segment,h=function(e,t){var o=void 0,n=void 0;try{o=new Date(e),n=new Date(t)}catch(e){}var r=o.getTime();return(n.getTime()-r)/1e3}(p.dateTimeObject,o);if("estimate"===d.type)return 0===i?u({message:o+" is not buffered yet. Try again"}):(a(d.estimatedStart+h),void c.one("seeked",function(){e({programTime:o,playlist:n,retryCount:i-1,seekTo:a,pauseAfterSeek:l,tech:c,callback:u})}));var g=p.start+h;c.one("seeked",function(){return u(null,c.currentTime())}),l&&c.pause(),a(g)},zi=function(e,t){var o=[],n=void 0;if(e&&e.length)for(n=0;n<e.length;n++)t(e.start(n),e.end(n))&&o.push([e.start(n),e.end(n)]);return Qr.createTimeRanges(o)},qi=function(e,o){return zi(e,function(e,t){return e-.1<=o&&o<=t+.1})},Ki=function(e,t){return zi(e,function(e){return t<=e-1/30})},Yi=function(e){var t=[];if(!e||!e.length)return"";for(var o=0;o<e.length;o++)t.push(e.start(o)+" => "+e.end(o));return t.join(", ")},Xi=function(e){for(var t=[],o=0;o<e.length;o++)t.push({start:e.start(o),end:e.end(o)});return t},Ji=function(e,t,o){var n=void 0,r=void 0;if(o&&o.cues)for(n=o.cues.length;n--;)(r=o.cues[n]).startTime<=t&&r.endTime>=e&&o.removeCue(r)},Qi=function(e){return isNaN(e)||Math.abs(e)===1/0?Number.MAX_VALUE:e},$i=function(e,t,o){var n=_.a.WebKitDataCue||_.a.VTTCue;if(t&&t.forEach(function(e){var t=e.stream;this.inbandTextTracks_[t].addCue(new n(e.startTime+this.timestampOffset,e.endTime+this.timestampOffset,e.text))},e),o){var r=Qi(e.mediaSource_.duration);if(o.forEach(function(e){var o=e.cueTime+this.timestampOffset;!("number"!=typeof o||_.a.isNaN(o)||o<0)&&o<1/0&&e.frames.forEach(function(e){var t=new n(o,o,e.value||e.url||e.data||"");t.frame=e,t.value=e,function(e){Object.defineProperties(e.frame,{id:{get:function(){return Qr.log.warn("cue.frame.id is deprecated. Use cue.value.key instead."),e.value.key}},value:{get:function(){return Qr.log.warn("cue.frame.value is deprecated. Use cue.value.data instead."),e.value.data}},privateData:{get:function(){return Qr.log.warn("cue.frame.privateData is deprecated. Use cue.value.data instead."),e.value.data}}})}(t),this.metadataTrack_.addCue(t)},this)},e),e.metadataTrack_&&e.metadataTrack_.cues&&e.metadataTrack_.cues.length){for(var i=e.metadataTrack_.cues,a=[],s=0;s<i.length;s++)i[s]&&a.push(i[s]);var l=a.reduce(function(e,t){var o=e[t.startTime]||[];return o.push(t),e[t.startTime]=o,e},{}),c=Object.keys(l).sort(function(e,t){return Number(e)-Number(t)});c.forEach(function(e,t){var o=l[e],n=Number(c[t+1])||r;o.forEach(function(e){e.endTime=n})})}}},Zi="undefined"!=typeof window?window:{},ea="undefined"==typeof Symbol?"__target":Symbol(),ta="application/javascript",oa=Zi.BlobBuilder||Zi.WebKitBlobBuilder||Zi.MozBlobBuilder||Zi.MSBlobBuilder,na=Zi.URL||Zi.webkitURL||na&&na.msURL,ra=Zi.Worker;function ia(r,i){return function(e){var t=this;if(!i)return new ra(r);if(ra&&!e){var o=ca(i.toString().replace(/^function.+?{/,"").slice(0,-1));return this[ea]=new ra(o),function(e,t){if(!e||!t)return;var o=e.terminate;e.objURL=t,e.terminate=function(){e.objURL&&na.revokeObjectURL(e.objURL),o.call(e)}}(this[ea],o),this[ea]}var n={postMessage:function(e){t.onmessage&&setTimeout(function(){t.onmessage({data:e,target:n})})}};i.call(n),this.postMessage=function(e){setTimeout(function(){n.onmessage({data:e,target:t})})},this.isThisThread=!0}}if(ra){var aa,sa=ca("self.onmessage = function () {}"),la=new Uint8Array(1);try{(aa=new ra(sa)).postMessage(la,[la.buffer])}catch(e){ra=null}finally{na.revokeObjectURL(sa),aa&&aa.terminate()}}function ca(t){try{return na.createObjectURL(new Blob([t],{type:ta}))}catch(e){var o=new oa;return o.append(t),na.createObjectURL(o.getBlob(type))}}var ua=new ia("./transmuxer-worker.worker.js",function(e,t){var Ct=this;!function(){var e=function(){this.init=function(){var i={};this.on=function(e,t){i[e]||(i[e]=[]),i[e]=i[e].concat(t)},this.off=function(e,t){var o;return!!i[e]&&(o=i[e].indexOf(t),i[e]=i[e].slice(),i[e].splice(o,1),-1<o)},this.trigger=function(e){var t,o,n,r;if(t=i[e])if(2===arguments.length)for(n=t.length,o=0;o<n;++o)t[o].call(this,arguments[1]);else{for(r=[],o=arguments.length,o=1;o<arguments.length;++o)r.push(arguments[o]);for(n=t.length,o=0;o<n;++o)t[o].apply(this,r)}},this.dispose=function(){i={}}}};e.prototype.pipe=function(t){return this.on("data",function(e){t.push(e)}),this.on("done",function(e){t.flush(e)}),this.on("partialdone",function(e){t.partialFlush(e)}),this.on("endedtimeline",function(e){t.endTimeline(e)}),this.on("reset",function(e){t.reset(e)}),t},e.prototype.push=function(e){this.trigger("data",e)},e.prototype.flush=function(e){this.trigger("done",e)},e.prototype.partialFlush=function(e){this.trigger("partialdone",e)},e.prototype.endTimeline=function(e){this.trigger("endedtimeline",e)},e.prototype.reset=function(e){this.trigger("reset",e)};var c,t,o,r,i,n,a,s,l,u,d,p,h,g,f,m,y,_,v,b,E,T,S,k,C,A,O,w,B,I,R,N,P,L,x,D,M,U,F,H,j=e,G=Math.pow(2,32)-1;!function(){var e;if(T={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],pasp:[],sdtp:[],smhd:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],styp:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[]},"undefined"!=typeof Uint8Array){for(e in T)T.hasOwnProperty(e)&&(T[e]=[e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(3)]);S=new Uint8Array(["i".charCodeAt(0),"s".charCodeAt(0),"o".charCodeAt(0),"m".charCodeAt(0)]),C=new Uint8Array(["a".charCodeAt(0),"v".charCodeAt(0),"c".charCodeAt(0),"1".charCodeAt(0)]),k=new Uint8Array([0,0,0,1]),A=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),O=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),w={video:A,audio:O},R=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),I=new Uint8Array([0,0,0,0,0,0,0,0]),N=new Uint8Array([0,0,0,0,0,0,0,0]),P=N,L=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),x=N,B=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])}}(),c=function(e){var t,o,n=[],r=0;for(t=1;t<arguments.length;t++)n.push(arguments[t]);for(t=n.length;t--;)r+=n[t].byteLength;for(o=new Uint8Array(r+8),new DataView(o.buffer,o.byteOffset,o.byteLength).setUint32(0,o.byteLength),o.set(e,4),t=0,r=8;t<n.length;t++)o.set(n[t],r),r+=n[t].byteLength;return o},t=function(){return c(T.dinf,c(T.dref,R))},o=function(e){return c(T.esds,new Uint8Array([0,0,0,0,3,25,0,0,0,4,17,64,21,0,6,0,0,0,218,192,0,0,218,192,5,2,e.audioobjecttype<<3|e.samplingfrequencyindex>>>1,e.samplingfrequencyindex<<7|e.channelcount<<3,6,1,2]))},f=function(e){return c(T.hdlr,w[e])},g=function(e){var t=new Uint8Array([0,0,0,0,0,0,0,2,0,0,0,3,0,1,95,144,e.duration>>>24&255,e.duration>>>16&255,e.duration>>>8&255,255&e.duration,85,196,0,0]);return e.samplerate&&(t[12]=e.samplerate>>>24&255,t[13]=e.samplerate>>>16&255,t[14]=e.samplerate>>>8&255,t[15]=255&e.samplerate),c(T.mdhd,t)},h=function(e){return c(T.mdia,g(e),f(e.type),n(e))},i=function(e){return c(T.mfhd,new Uint8Array([0,0,0,0,(4278190080&e)>>24,(16711680&e)>>16,(65280&e)>>8,255&e]))},n=function(e){return c(T.minf,"video"===e.type?c(T.vmhd,B):c(T.smhd,I),t(),y(e))},a=function(e,t){for(var o=[],n=t.length;n--;)o[n]=v(t[n]);return c.apply(null,[T.moof,i(e)].concat(o))},s=function(e){for(var t=e.length,o=[];t--;)o[t]=d(e[t]);return c.apply(null,[T.moov,u(4294967295)].concat(o).concat(l(e)))},l=function(e){for(var t=e.length,o=[];t--;)o[t]=b(e[t]);return c.apply(null,[T.mvex].concat(o))},u=function(e){var t=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,2,0,1,95,144,(4278190080&e)>>24,(16711680&e)>>16,(65280&e)>>8,255&e,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return c(T.mvhd,t)},m=function(e){var t,o,n=e.samples||[],r=new Uint8Array(4+n.length);for(o=0;o<n.length;o++)t=n[o].flags,r[o+4]=t.dependsOn<<4|t.isDependedOn<<2|t.hasRedundancy;return c(T.sdtp,r)},y=function(e){return c(T.stbl,_(e),c(T.stts,x),c(T.stsc,P),c(T.stsz,L),c(T.stco,N))},_=function(e){return c(T.stsd,new Uint8Array([0,0,0,0,0,0,0,1]),"video"===e.type?D(e):M(e))},D=function(e){var t,o,n=e.sps||[],r=e.pps||[],i=[],a=[];for(t=0;t<n.length;t++)i.push((65280&n[t].byteLength)>>>8),i.push(255&n[t].byteLength),i=i.concat(Array.prototype.slice.call(n[t]));for(t=0;t<r.length;t++)a.push((65280&r[t].byteLength)>>>8),a.push(255&r[t].byteLength),a=a.concat(Array.prototype.slice.call(r[t]));if(o=[T.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,(65280&e.width)>>8,255&e.width,(65280&e.height)>>8,255&e.height,0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),c(T.avcC,new Uint8Array([1,e.profileIdc,e.profileCompatibility,e.levelIdc,255].concat([n.length],i,[r.length],a))),c(T.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192]))],e.sarRatio){var s=e.sarRatio[0],l=e.sarRatio[1];o.push(c(T.pasp,new Uint8Array([(4278190080&s)>>24,(16711680&s)>>16,(65280&s)>>8,255&s,(4278190080&l)>>24,(16711680&l)>>16,(65280&l)>>8,255&l])))}return c.apply(null,o)},M=function(e){return c(T.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,(65280&e.channelcount)>>8,255&e.channelcount,(65280&e.samplesize)>>8,255&e.samplesize,0,0,0,0,(65280&e.samplerate)>>8,255&e.samplerate,0,0]),o(e))},p=function(e){var t=new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,(4278190080&e.id)>>24,(16711680&e.id)>>16,(65280&e.id)>>8,255&e.id,0,0,0,0,(4278190080&e.duration)>>24,(16711680&e.duration)>>16,(65280&e.duration)>>8,255&e.duration,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,(65280&e.width)>>8,255&e.width,0,0,(65280&e.height)>>8,255&e.height,0,0]);return c(T.tkhd,t)},v=function(e){var t,o,n,r,i,a;return t=c(T.tfhd,new Uint8Array([0,0,0,58,(4278190080&e.id)>>24,(16711680&e.id)>>16,(65280&e.id)>>8,255&e.id,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0])),i=Math.floor(e.baseMediaDecodeTime/(1+G)),a=Math.floor(e.baseMediaDecodeTime%(1+G)),o=c(T.tfdt,new Uint8Array([1,0,0,0,i>>>24&255,i>>>16&255,i>>>8&255,255&i,a>>>24&255,a>>>16&255,a>>>8&255,255&a])),92,"audio"===e.type?(n=E(e,92),c(T.traf,t,o,n)):(r=m(e),n=E(e,r.length+92),c(T.traf,t,o,n,r))},d=function(e){return e.duration=e.duration||4294967295,c(T.trak,p(e),h(e))},b=function(e){var t=new Uint8Array([0,0,0,0,(4278190080&e.id)>>24,(16711680&e.id)>>16,(65280&e.id)>>8,255&e.id,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return"video"!==e.type&&(t[t.length-1]=0),c(T.trex,t)},H=function(e,t){var o=0,n=0,r=0,i=0;return e.length&&(void 0!==e[0].duration&&(o=1),void 0!==e[0].size&&(n=2),void 0!==e[0].flags&&(r=4),void 0!==e[0].compositionTimeOffset&&(i=8)),[0,0,o|n|r|i,1,(4278190080&e.length)>>>24,(16711680&e.length)>>>16,(65280&e.length)>>>8,255&e.length,(4278190080&t)>>>24,(16711680&t)>>>16,(65280&t)>>>8,255&t]},F=function(e,t){var o,n,r,i;for(t+=20+16*(n=e.samples||[]).length,o=H(n,t),i=0;i<n.length;i++)r=n[i],o=o.concat([(4278190080&r.duration)>>>24,(16711680&r.duration)>>>16,(65280&r.duration)>>>8,255&r.duration,(4278190080&r.size)>>>24,(16711680&r.size)>>>16,(65280&r.size)>>>8,255&r.size,r.flags.isLeading<<2|r.flags.dependsOn,r.flags.isDependedOn<<6|r.flags.hasRedundancy<<4|r.flags.paddingValue<<1|r.flags.isNonSyncSample,61440&r.flags.degradationPriority,15&r.flags.degradationPriority,(4278190080&r.compositionTimeOffset)>>>24,(16711680&r.compositionTimeOffset)>>>16,(65280&r.compositionTimeOffset)>>>8,255&r.compositionTimeOffset]);return c(T.trun,new Uint8Array(o))},U=function(e,t){var o,n,r,i;for(t+=20+8*(n=e.samples||[]).length,o=H(n,t),i=0;i<n.length;i++)r=n[i],o=o.concat([(4278190080&r.duration)>>>24,(16711680&r.duration)>>>16,(65280&r.duration)>>>8,255&r.duration,(4278190080&r.size)>>>24,(16711680&r.size)>>>16,(65280&r.size)>>>8,255&r.size]);return c(T.trun,new Uint8Array(o))},E=function(e,t){return"audio"===e.type?U(e,t):F(e,t)};r=function(){return c(T.ftyp,S,k,S,C)};var V,W,z,q,K,Y,X,J,Q=function(e){return c(T.mdat,e)},$=a,Z=function(e){var t,o=r(),n=s(e);return(t=new Uint8Array(o.byteLength+n.byteLength)).set(o),t.set(n,o.byteLength),t},ee=function(e,t){var o={size:0,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0,degradationPriority:0,isNonSyncSample:1}};return o.dataOffset=t,o.compositionTimeOffset=e.pts-e.dts,o.duration=e.duration,o.size=4*e.length,o.size+=e.byteLength,e.keyFrame&&(o.flags.dependsOn=2,o.flags.isNonSyncSample=0),o},te=function(e){var t,o,n=[],r=[];for(r.byteLength=0,r.nalCount=0,r.duration=0,t=n.byteLength=0;t<e.length;t++)"access_unit_delimiter_rbsp"===(o=e[t]).nalUnitType?(n.length&&(n.duration=o.dts-n.dts,r.byteLength+=n.byteLength,r.nalCount+=n.length,r.duration+=n.duration,r.push(n)),(n=[o]).byteLength=o.data.byteLength,n.pts=o.pts,n.dts=o.dts):("slice_layer_without_partitioning_rbsp_idr"===o.nalUnitType&&(n.keyFrame=!0),n.duration=o.dts-n.dts,n.byteLength+=o.data.byteLength,n.push(o));return r.length&&(!n.duration||n.duration<=0)&&(n.duration=r[r.length-1].duration),r.byteLength+=n.byteLength,r.nalCount+=n.length,r.duration+=n.duration,r.push(n),r},oe=function(e){var t,o,n=[],r=[];for(n.byteLength=0,n.nalCount=0,n.duration=0,n.pts=e[0].pts,n.dts=e[0].dts,r.byteLength=0,r.nalCount=0,r.duration=0,r.pts=e[0].pts,r.dts=e[0].dts,t=0;t<e.length;t++)(o=e[t]).keyFrame?(n.length&&(r.push(n),r.byteLength+=n.byteLength,r.nalCount+=n.nalCount,r.duration+=n.duration),(n=[o]).nalCount=o.length,n.byteLength=o.byteLength,n.pts=o.pts,n.dts=o.dts,n.duration=o.duration):(n.duration+=o.duration,n.nalCount+=o.length,n.byteLength+=o.byteLength,n.push(o));return r.length&&n.duration<=0&&(n.duration=r[r.length-1].duration),r.byteLength+=n.byteLength,r.nalCount+=n.nalCount,r.duration+=n.duration,r.push(n),r},ne=function(e){var t;return!e[0][0].keyFrame&&1<e.length&&(t=e.shift(),e.byteLength-=t.byteLength,e.nalCount-=t.nalCount,e[0][0].dts=t.dts,e[0][0].pts=t.pts,e[0][0].duration+=t.duration),e},re=function(e,t){var o,n,r,i,a,s=t||0,l=[];for(o=0;o<e.length;o++)for(i=e[o],n=0;n<i.length;n++)a=i[n],s+=(r=ee(a,s)).size,l.push(r);return l},ie=function(e){var t,o,n,r,i,a,s=0,l=e.byteLength,c=e.nalCount,u=new Uint8Array(l+4*c),d=new DataView(u.buffer);for(t=0;t<e.length;t++)for(r=e[t],o=0;o<r.length;o++)for(i=r[o],n=0;n<i.length;n++)a=i[n],d.setUint32(s,a.data.byteLength),s+=4,u.set(a.data,s),s+=a.data.byteLength;return u},ae=[33,16,5,32,164,27],se=[33,65,108,84,1,2,4,8,168,2,4,8,17,191,252],le=function(e){for(var t=[];e--;)t.push(0);return t},ce={96e3:[ae,[227,64],le(154),[56]],88200:[ae,[231],le(170),[56]],64e3:[ae,[248,192],le(240),[56]],48e3:[ae,[255,192],le(268),[55,148,128],le(54),[112]],44100:[ae,[255,192],le(268),[55,163,128],le(84),[112]],32e3:[ae,[255,192],le(268),[55,234],le(226),[112]],24e3:[ae,[255,192],le(268),[55,255,128],le(268),[111,112],le(126),[224]],16e3:[ae,[255,192],le(268),[55,255,128],le(268),[111,255],le(269),[223,108],le(195),[1,192]],12e3:[se,le(268),[3,127,248],le(268),[6,255,240],le(268),[13,255,224],le(268),[27,253,128],le(259),[56]],11025:[se,le(268),[3,127,248],le(268),[6,255,240],le(268),[13,255,224],le(268),[27,255,192],le(268),[55,175,128],le(108),[112]],8e3:[se,le(268),[3,121,16],le(47),[7]]},ue=(V=ce,Object.keys(V).reduce(function(e,t){return e[t]=new Uint8Array(V[t].reduce(function(e,t){return e.concat(t)},[])),e},{}));Y=function(e,t){return W(K(e,t))},X=function(e,t){return z(q(e),t)},J=function(e,t,o){return q(o?e:e-t)};var de=9e4,pe=(W=function(e){return 9e4*e},z=function(e,t){return e*t},q=function(e){return e/9e4},K=function(e,t){return e/t},Y),he=X,ge=J,fe=function(e,t,o,n){var r,i,a,s,l,c=0,u=0,d=0;if(t.length&&(r=pe(e.baseMediaDecodeTime,e.samplerate),i=Math.ceil(de/(e.samplerate/1024)),o&&n&&(c=r-Math.max(o,n),d=(u=Math.floor(c/i))*i),!(u<1||de/2<d))){for((a=ue[e.samplerate])||(a=t[0].data),s=0;s<u;s++)l=t[0],t.splice(0,0,{data:a,dts:l.dts-i,pts:l.pts-i});e.baseMediaDecodeTime-=Math.floor(he(d,e.samplerate))}},me=function(e,t,o){return t.minSegmentDts>=o?e:(t.minSegmentDts=1/0,e.filter(function(e){return e.dts>=o&&(t.minSegmentDts=Math.min(t.minSegmentDts,e.dts),t.minSegmentPts=t.minSegmentDts,!0)}))},ye=function(e){var t,o,n=[];for(t=0;t<e.length;t++)o=e[t],n.push({size:o.data.byteLength,duration:1024});return n},_e=function(e){var t,o,n=0,r=new Uint8Array(function(e){var t,o=0;for(t=0;t<e.length;t++)o+=e[t].data.byteLength;return o}(e));for(t=0;t<e.length;t++)o=e[t],r.set(o.data,n),n+=o.data.byteLength;return r},ve=de,be=function(e){delete e.minSegmentDts,delete e.maxSegmentDts,delete e.minSegmentPts,delete e.maxSegmentPts},Ee=function(e,t){var o,n=e.minSegmentDts;return t||(n-=e.timelineStartInfo.dts),o=e.timelineStartInfo.baseMediaDecodeTime,o+=n,o=Math.max(0,o),"audio"===e.type&&(o*=e.samplerate/ve,o=Math.floor(o)),o},Te=function(e,t){"number"==typeof t.pts&&(void 0===e.timelineStartInfo.pts&&(e.timelineStartInfo.pts=t.pts),void 0===e.minSegmentPts?e.minSegmentPts=t.pts:e.minSegmentPts=Math.min(e.minSegmentPts,t.pts),void 0===e.maxSegmentPts?e.maxSegmentPts=t.pts:e.maxSegmentPts=Math.max(e.maxSegmentPts,t.pts)),"number"==typeof t.dts&&(void 0===e.timelineStartInfo.dts&&(e.timelineStartInfo.dts=t.dts),void 0===e.minSegmentDts?e.minSegmentDts=t.dts:e.minSegmentDts=Math.min(e.minSegmentDts,t.dts),void 0===e.maxSegmentDts?e.maxSegmentDts=t.dts:e.maxSegmentDts=Math.max(e.maxSegmentDts,t.dts))},Se=function(e){for(var t=0,o={payloadType:-1,payloadSize:0},n=0,r=0;t<e.byteLength&&128!==e[t];){for(;255===e[t];)n+=255,t++;for(n+=e[t++];255===e[t];)r+=255,t++;if(r+=e[t++],!o.payload&&4===n){o.payloadType=n,o.payloadSize=r,o.payload=e.subarray(t,t+r);break}t+=r,r=n=0}return o},ke=function(e){return 181!==e.payload[0]?null:49!=(e.payload[1]<<8|e.payload[2])?null:"GA94"!==String.fromCharCode(e.payload[3],e.payload[4],e.payload[5],e.payload[6])?null:3!==e.payload[7]?null:e.payload.subarray(8,e.payload.length-1)},Ce=function(e,t){var o,n,r,i,a=[];if(!(64&t[0]))return a;for(n=31&t[0],o=0;o<n;o++)i={type:3&t[2+(r=3*o)],pts:e},4&t[2+r]&&(i.ccData=t[3+r]<<8|t[4+r],a.push(i));return a},Ae=4,Oe=function e(){e.prototype.init.call(this),this.captionPackets_=[],this.ccStreams_=[new Ne(0,0),new Ne(0,1),new Ne(1,0),new Ne(1,1)],this.reset(),this.ccStreams_.forEach(function(e){e.on("data",this.trigger.bind(this,"data")),e.on("partialdone",this.trigger.bind(this,"partialdone")),e.on("done",this.trigger.bind(this,"done"))},this)};(Oe.prototype=new j).push=function(e){var t,o,n;if("sei_rbsp"===e.nalUnitType&&(t=Se(e.escapedRBSP)).payloadType===Ae&&(o=ke(t)))if(e.dts<this.latestDts_)this.ignoreNextEqualDts_=!0;else{if(e.dts===this.latestDts_&&this.ignoreNextEqualDts_)return this.numSameDts_--,void(this.numSameDts_||(this.ignoreNextEqualDts_=!1));n=Ce(e.pts,o),this.captionPackets_=this.captionPackets_.concat(n),this.latestDts_!==e.dts&&(this.numSameDts_=0),this.numSameDts_++,this.latestDts_=e.dts}},Oe.prototype.flushCCStreams=function(t){this.ccStreams_.forEach(function(e){return"flush"===t?e.flush():e.partialFlush()},this)},Oe.prototype.flushStream=function(e){this.captionPackets_.length&&(this.captionPackets_.forEach(function(e,t){e.presortIndex=t}),this.captionPackets_.sort(function(e,t){return e.pts===t.pts?e.presortIndex-t.presortIndex:e.pts-t.pts}),this.captionPackets_.forEach(function(e){e.type<2&&this.dispatchCea608Packet(e)},this),this.captionPackets_.length=0),this.flushCCStreams(e)},Oe.prototype.flush=function(){return this.flushStream("flush")},Oe.prototype.partialFlush=function(){return this.flushStream("partialFlush")},Oe.prototype.reset=function(){this.latestDts_=null,this.ignoreNextEqualDts_=!1,this.numSameDts_=0,this.activeCea608Channel_=[null,null],this.ccStreams_.forEach(function(e){e.reset()})},Oe.prototype.dispatchCea608Packet=function(e){this.setsTextOrXDSActive(e)?this.activeCea608Channel_[e.type]=null:this.setsChannel1Active(e)?this.activeCea608Channel_[e.type]=0:this.setsChannel2Active(e)&&(this.activeCea608Channel_[e.type]=1),null!==this.activeCea608Channel_[e.type]&&this.ccStreams_[(e.type<<1)+this.activeCea608Channel_[e.type]].push(e)},Oe.prototype.setsChannel1Active=function(e){return 4096==(30720&e.ccData)},Oe.prototype.setsChannel2Active=function(e){return 6144==(30720&e.ccData)},Oe.prototype.setsTextOrXDSActive=function(e){return 256==(28928&e.ccData)||4138==(30974&e.ccData)||6186==(30974&e.ccData)};var we={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,304:174,305:176,306:189,307:191,308:8482,309:162,310:163,311:9834,312:224,313:160,314:232,315:226,316:234,317:238,318:244,319:251,544:193,545:201,546:211,547:218,548:220,549:252,550:8216,551:161,552:42,553:39,554:8212,555:169,556:8480,557:8226,558:8220,559:8221,560:192,561:194,562:199,563:200,564:202,565:203,566:235,567:206,568:207,569:239,570:212,571:217,572:249,573:219,574:171,575:187,800:195,801:227,802:205,803:204,804:236,805:210,806:242,807:213,808:245,809:123,810:125,811:92,812:94,813:95,814:124,815:126,816:196,817:228,818:214,819:246,820:223,821:165,822:164,823:9474,824:197,825:229,826:216,827:248,828:9484,829:9488,830:9492,831:9496},Be=function(e){return null===e?"":(e=we[e]||e,String.fromCharCode(e))},Ie=[4352,4384,4608,4640,5376,5408,5632,5664,5888,5920,4096,4864,4896,5120,5152],Re=function(){for(var e=[],t=15;t--;)e.push("");return e},Ne=function e(t,o){e.prototype.init.call(this),this.field_=t||0,this.dataChannel_=o||0,this.name_="CC"+(1+(this.field_<<1|this.dataChannel_)),this.setConstants(),this.reset(),this.push=function(e){var t,o,n,r,i;if((t=32639&e.ccData)!==this.lastControlCode_){if(4096==(61440&t)?this.lastControlCode_=t:t!==this.PADDING_&&(this.lastControlCode_=null),n=t>>>8,r=255&t,t!==this.PADDING_)if(t===this.RESUME_CAPTION_LOADING_)this.mode_="popOn";else if(t===this.END_OF_CAPTION_)this.mode_="popOn",this.clearFormatting(e.pts),this.flushDisplayed(e.pts),o=this.displayed_,this.displayed_=this.nonDisplayed_,this.nonDisplayed_=o,this.startPts_=e.pts;else if(t===this.ROLL_UP_2_ROWS_)this.rollUpRows_=2,this.setRollUp(e.pts);else if(t===this.ROLL_UP_3_ROWS_)this.rollUpRows_=3,this.setRollUp(e.pts);else if(t===this.ROLL_UP_4_ROWS_)this.rollUpRows_=4,this.setRollUp(e.pts);else if(t===this.CARRIAGE_RETURN_)this.clearFormatting(e.pts),this.flushDisplayed(e.pts),this.shiftRowsUp_(),this.startPts_=e.pts;else if(t===this.BACKSPACE_)"popOn"===this.mode_?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1);else if(t===this.ERASE_DISPLAYED_MEMORY_)this.flushDisplayed(e.pts),this.displayed_=Re();else if(t===this.ERASE_NON_DISPLAYED_MEMORY_)this.nonDisplayed_=Re();else if(t===this.RESUME_DIRECT_CAPTIONING_)"paintOn"!==this.mode_&&(this.flushDisplayed(e.pts),this.displayed_=Re()),this.mode_="paintOn",this.startPts_=e.pts;else if(this.isSpecialCharacter(n,r))i=Be((n=(3&n)<<8)|r),this[this.mode_](e.pts,i),this.column_++;else if(this.isExtCharacter(n,r))"popOn"===this.mode_?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1),i=Be((n=(3&n)<<8)|r),this[this.mode_](e.pts,i),this.column_++;else if(this.isMidRowCode(n,r))this.clearFormatting(e.pts),this[this.mode_](e.pts," "),this.column_++,14==(14&r)&&this.addFormatting(e.pts,["i"]),1==(1&r)&&this.addFormatting(e.pts,["u"]);else if(this.isOffsetControlCode(n,r))this.column_+=3&r;else if(this.isPAC(n,r)){var a=Ie.indexOf(7968&t);"rollUp"===this.mode_&&(a-this.rollUpRows_+1<0&&(a=this.rollUpRows_-1),this.setRollUp(e.pts,a)),a!==this.row_&&(this.clearFormatting(e.pts),this.row_=a),1&r&&-1===this.formatting_.indexOf("u")&&this.addFormatting(e.pts,["u"]),16==(16&t)&&(this.column_=4*((14&t)>>1)),this.isColorPAC(r)&&14==(14&r)&&this.addFormatting(e.pts,["i"])}else this.isNormalChar(n)&&(0===r&&(r=null),i=Be(n),i+=Be(r),this[this.mode_](e.pts,i),this.column_+=i.length)}else this.lastControlCode_=null}};Ne.prototype=new j,Ne.prototype.flushDisplayed=function(e){var t=this.displayed_.map(function(e){try{return e.trim()}catch(e){return console.error("Skipping malformed caption."),""}}).join("\n").replace(/^\n+|\n+$/g,"");t.length&&this.trigger("data",{startPts:this.startPts_,endPts:e,text:t,stream:this.name_})},Ne.prototype.reset=function(){this.mode_="popOn",this.topRow_=0,this.startPts_=0,this.displayed_=Re(),this.nonDisplayed_=Re(),this.lastControlCode_=null,this.column_=0,this.row_=14,this.rollUpRows_=2,this.formatting_=[]},Ne.prototype.setConstants=function(){0===this.dataChannel_?(this.BASE_=16,this.EXT_=17,this.CONTROL_=(20|this.field_)<<8,this.OFFSET_=23):1===this.dataChannel_&&(this.BASE_=24,this.EXT_=25,this.CONTROL_=(28|this.field_)<<8,this.OFFSET_=31),this.PADDING_=0,this.RESUME_CAPTION_LOADING_=32|this.CONTROL_,this.END_OF_CAPTION_=47|this.CONTROL_,this.ROLL_UP_2_ROWS_=37|this.CONTROL_,this.ROLL_UP_3_ROWS_=38|this.CONTROL_,this.ROLL_UP_4_ROWS_=39|this.CONTROL_,this.CARRIAGE_RETURN_=45|this.CONTROL_,this.RESUME_DIRECT_CAPTIONING_=41|this.CONTROL_,this.BACKSPACE_=33|this.CONTROL_,this.ERASE_DISPLAYED_MEMORY_=44|this.CONTROL_,this.ERASE_NON_DISPLAYED_MEMORY_=46|this.CONTROL_},Ne.prototype.isSpecialCharacter=function(e,t){return e===this.EXT_&&48<=t&&t<=63},Ne.prototype.isExtCharacter=function(e,t){return(e===this.EXT_+1||e===this.EXT_+2)&&32<=t&&t<=63},Ne.prototype.isMidRowCode=function(e,t){return e===this.EXT_&&32<=t&&t<=47},Ne.prototype.isOffsetControlCode=function(e,t){return e===this.OFFSET_&&33<=t&&t<=35},Ne.prototype.isPAC=function(e,t){return e>=this.BASE_&&e<this.BASE_+8&&64<=t&&t<=127},Ne.prototype.isColorPAC=function(e){return 64<=e&&e<=79||96<=e&&e<=127},Ne.prototype.isNormalChar=function(e){return 32<=e&&e<=127},Ne.prototype.setRollUp=function(e,t){if("rollUp"!==this.mode_&&(this.row_=14,this.mode_="rollUp",this.flushDisplayed(e),this.nonDisplayed_=Re(),this.displayed_=Re()),void 0!==t&&t!==this.row_)for(var o=0;o<this.rollUpRows_;o++)this.displayed_[t-o]=this.displayed_[this.row_-o],this.displayed_[this.row_-o]="";void 0===t&&(t=this.row_),this.topRow_=t-this.rollUpRows_+1},Ne.prototype.addFormatting=function(e,t){this.formatting_=this.formatting_.concat(t);var o=t.reduce(function(e,t){return e+"<"+t+">"},"");this[this.mode_](e,o)},Ne.prototype.clearFormatting=function(e){if(this.formatting_.length){var t=this.formatting_.reverse().reduce(function(e,t){return e+"</"+t+">"},"");this.formatting_=[],this[this.mode_](e,t)}},Ne.prototype.popOn=function(e,t){var o=this.nonDisplayed_[this.row_];o+=t,this.nonDisplayed_[this.row_]=o},Ne.prototype.rollUp=function(e,t){var o=this.displayed_[this.row_];o+=t,this.displayed_[this.row_]=o},Ne.prototype.shiftRowsUp_=function(){var e;for(e=0;e<this.topRow_;e++)this.displayed_[e]="";for(e=this.row_+1;e<15;e++)this.displayed_[e]="";for(e=this.topRow_;e<this.row_;e++)this.displayed_[e]=this.displayed_[e+1];this.displayed_[this.row_]=""},Ne.prototype.paintOn=function(e,t){var o=this.displayed_[this.row_];o+=t,this.displayed_[this.row_]=o};var Pe={CaptionStream:Oe,Cea608Stream:Ne},Le={H264_STREAM_TYPE:27,ADTS_STREAM_TYPE:15,METADATA_STREAM_TYPE:21},xe=function(e,t){var o=1;for(t<e&&(o=-1);4294967296<Math.abs(t-e);)e+=8589934592*o;return e},De=function e(t){var o,n;e.prototype.init.call(this),this.type_=t||"shared",this.push=function(e){"shared"!==this.type_&&e.type!==this.type_||(void 0===n&&(n=e.dts),e.dts=xe(e.dts,n),e.pts=xe(e.pts,n),o=e.dts,this.trigger("data",e))},this.flush=function(){n=o,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.discontinuity=function(){o=n=void 0},this.reset=function(){this.discontinuity(),this.trigger("reset")}};De.prototype=new j;var Me,Ue=De,Fe=function(e,t,o){var n,r="";for(n=t;n<o;n++)r+="%"+("00"+e[n].toString(16)).slice(-2);return r},He=function(e,t,o){return decodeURIComponent(Fe(e,t,o))},je=function(e){return e[0]<<21|e[1]<<14|e[2]<<7|e[3]},Ge={TXXX:function(e){var t;if(3===e.data[0]){for(t=1;t<e.data.length;t++)if(0===e.data[t]){e.description=He(e.data,1,t),e.value=He(e.data,t+1,e.data.length).replace(/\0*$/,"");break}e.data=e.value}},WXXX:function(e){var t;if(3===e.data[0])for(t=1;t<e.data.length;t++)if(0===e.data[t]){e.description=He(e.data,1,t),e.url=He(e.data,t+1,e.data.length);break}},PRIV:function(e){var t,o;for(t=0;t<e.data.length;t++)if(0===e.data[t]){e.owner=(o=e.data,unescape(Fe(o,0,t)));break}e.privateData=e.data.subarray(t+1),e.data=e.privateData}};(Me=function(e){var t,l={debug:!(!e||!e.debug),descriptor:e&&e.descriptor},c=0,u=[],d=0;if(Me.prototype.init.call(this),this.dispatchType=Le.METADATA_STREAM_TYPE.toString(16),l.descriptor)for(t=0;t<l.descriptor.length;t++)this.dispatchType+=("00"+l.descriptor[t].toString(16)).slice(-2);this.push=function(e){var t,o,n,r,i;if("timed-metadata"===e.type)if(e.dataAlignmentIndicator&&(d=0,u.length=0),0===u.length&&(e.data.length<10||e.data[0]!=="I".charCodeAt(0)||e.data[1]!=="D".charCodeAt(0)||e.data[2]!=="3".charCodeAt(0)))l.debug&&console.log("Skipping unrecognized metadata packet");else if(u.push(e),d+=e.data.byteLength,1===u.length&&(c=je(e.data.subarray(6,10)),c+=10),!(d<c)){for(t={data:new Uint8Array(c),frames:[],pts:u[0].pts,dts:u[0].dts},i=0;i<c;)t.data.set(u[0].data.subarray(0,c-i),i),i+=u[0].data.byteLength,d-=u[0].data.byteLength,u.shift();o=10,64&t.data[5]&&(o+=4,o+=je(t.data.subarray(10,14)),c-=je(t.data.subarray(16,20)));do{if((n=je(t.data.subarray(o+4,o+8)))<1)return console.log("Malformed ID3 frame encountered. Skipping metadata parsing.");if((r={id:String.fromCharCode(t.data[o],t.data[o+1],t.data[o+2],t.data[o+3]),data:t.data.subarray(o+10,o+n+10)}).key=r.id,Ge[r.id]&&(Ge[r.id](r),"com.apple.streaming.transportStreamTimestamp"===r.owner)){var a=r.data,s=(1&a[3])<<30|a[4]<<22|a[5]<<14|a[6]<<6|a[7]>>>2;s*=4,s+=3&a[7],r.timeStamp=s,void 0===t.pts&&void 0===t.dts&&(t.pts=r.timeStamp,t.dts=r.timeStamp),this.trigger("timestamp",r)}t.frames.push(r),o+=10,o+=n}while(o<c);this.trigger("data",t)}}}).prototype=new j;var Ve,We,ze,qe=Me,Ke=Ue;(Ve=function(){var r=new Uint8Array(188),i=0;Ve.prototype.init.call(this),this.push=function(e){var t,o=0,n=188;for(i?((t=new Uint8Array(e.byteLength+i)).set(r.subarray(0,i)),t.set(e,i),i=0):t=e;n<t.byteLength;)71!==t[o]||71!==t[n]?(o++,n++):(this.trigger("data",t.subarray(o,n)),o+=188,n+=188);o<t.byteLength&&(r.set(t.subarray(o),0),i=t.byteLength-o)},this.flush=function(){188===i&&71===r[0]&&(this.trigger("data",r),i=0),this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.reset=function(){i=0,this.trigger("reset")}}).prototype=new j,(We=function(){var n,r,i,a;We.prototype.init.call(this),(a=this).packetsWaitingForPmt=[],this.programMapTable=void 0,n=function(e,t){var o=0;t.payloadUnitStartIndicator&&(o+=e[o]+1),"pat"===t.type?r(e.subarray(o),t):i(e.subarray(o),t)},r=function(e,t){t.section_number=e[7],t.last_section_number=e[8],a.pmtPid=(31&e[10])<<8|e[11],t.pmtPid=a.pmtPid},i=function(e,t){var o,n;if(1&e[5]){for(a.programMapTable={video:null,audio:null,"timed-metadata":{}},o=3+((15&e[1])<<8|e[2])-4,n=12+((15&e[10])<<8|e[11]);n<o;){var r=e[n],i=(31&e[n+1])<<8|e[n+2];r===Le.H264_STREAM_TYPE&&null===a.programMapTable.video?a.programMapTable.video=i:r===Le.ADTS_STREAM_TYPE&&null===a.programMapTable.audio?a.programMapTable.audio=i:r===Le.METADATA_STREAM_TYPE&&(a.programMapTable["timed-metadata"][i]=r),n+=5+((15&e[n+3])<<8|e[n+4])}t.programMapTable=a.programMapTable}},this.push=function(e){var t={},o=4;if(t.payloadUnitStartIndicator=!!(64&e[1]),t.pid=31&e[1],t.pid<<=8,t.pid|=e[2],1<(48&e[3])>>>4&&(o+=e[o]+1),0===t.pid)t.type="pat",n(e.subarray(o),t),this.trigger("data",t);else if(t.pid===this.pmtPid)for(t.type="pmt",n(e.subarray(o),t),this.trigger("data",t);this.packetsWaitingForPmt.length;)this.processPes_.apply(this,this.packetsWaitingForPmt.shift());else void 0===this.programMapTable?this.packetsWaitingForPmt.push([e,o,t]):this.processPes_(e,o,t)},this.processPes_=function(e,t,o){o.pid===this.programMapTable.video?o.streamType=Le.H264_STREAM_TYPE:o.pid===this.programMapTable.audio?o.streamType=Le.ADTS_STREAM_TYPE:o.streamType=this.programMapTable["timed-metadata"][o.pid],o.type="pes",o.data=e.subarray(t),this.trigger("data",o)}}).prototype=new j,We.STREAM_TYPES={h264:27,adts:15},(ze=function(){var t,c=this,n={data:[],size:0},r={data:[],size:0},i={data:[],size:0},a=function(e,t,o){var n,r,i=new Uint8Array(e.size),a={type:t},s=0,l=0;if(e.data.length&&!(e.size<9)){for(a.trackId=e.data[0].pid,s=0;s<e.data.length;s++)r=e.data[s],i.set(r.data,l),l+=r.data.byteLength;!function(e,t){var o;t.packetLength=6+(e[4]<<8|e[5]),t.dataAlignmentIndicator=0!=(4&e[6]),192&(o=e[7])&&(t.pts=(14&e[9])<<27|(255&e[10])<<20|(254&e[11])<<12|(255&e[12])<<5|(254&e[13])>>>3,t.pts*=4,t.pts+=(6&e[13])>>>1,t.dts=t.pts,64&o&&(t.dts=(14&e[14])<<27|(255&e[15])<<20|(254&e[16])<<12|(255&e[17])<<5|(254&e[18])>>>3,t.dts*=4,t.dts+=(6&e[18])>>>1)),t.data=e.subarray(9+e[8])}(i,a),n="video"===t||a.packetLength<=e.size,(o||n)&&(e.size=0,e.data.length=0),n&&c.trigger("data",a)}};ze.prototype.init.call(this),this.push=function(o){({pat:function(){},pes:function(){var e,t;switch(o.streamType){case Le.H264_STREAM_TYPE:case Le.H264_STREAM_TYPE:e=n,t="video";break;case Le.ADTS_STREAM_TYPE:e=r,t="audio";break;case Le.METADATA_STREAM_TYPE:e=i,t="timed-metadata";break;default:return}o.payloadUnitStartIndicator&&a(e,t,!0),e.data.push(o),e.size+=o.data.byteLength},pmt:function(){var e={type:"metadata",tracks:[]};null!==(t=o.programMapTable).video&&e.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+t.video,codec:"avc",type:"video"}),null!==t.audio&&e.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+t.audio,codec:"adts",type:"audio"}),c.trigger("data",e)}})[o.type]()},this.reset=function(){n.size=0,n.data.length=0,r.size=0,r.data.length=0,this.trigger("reset")},this.flushStreams_=function(){a(n,"video"),a(r,"audio"),a(i,"timed-metadata")},this.flush=function(){this.flushStreams_(),this.trigger("done")}}).prototype=new j;var Ye={PAT_PID:0,MP2T_PACKET_LENGTH:188,TransportPacketStream:Ve,TransportParseStream:We,ElementaryStream:ze,TimestampRolloverStream:Ke,CaptionStream:Pe.CaptionStream,Cea608Stream:Pe.Cea608Stream,MetadataStream:qe};for(var Xe in Le)Le.hasOwnProperty(Xe)&&(Ye[Xe]=Le[Xe]);var Je,Qe=Ye,$e=de,Ze=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];(Je=function(l){var c,u=0;Je.prototype.init.call(this),this.push=function(e){var t,o,n,r,i,a,s=0;if(l||(u=0),"audio"===e.type)for(c?(r=c,(c=new Uint8Array(r.byteLength+e.data.byteLength)).set(r),c.set(e.data,r.byteLength)):c=e.data;s+5<c.length;)if(255===c[s]&&240==(246&c[s+1])){if(o=2*(1&~c[s+1]),t=(3&c[s+3])<<11|c[s+4]<<3|(224&c[s+5])>>5,a=(i=1024*(1+(3&c[s+6])))*$e/Ze[(60&c[s+2])>>>2],n=s+t,c.byteLength<n)return;if(this.trigger("data",{pts:e.pts+u*a,dts:e.dts+u*a,sampleCount:i,audioobjecttype:1+(c[s+2]>>>6&3),channelcount:(1&c[s+2])<<2|(192&c[s+3])>>>6,samplerate:Ze[(60&c[s+2])>>>2],samplingfrequencyindex:(60&c[s+2])>>>2,samplesize:16,data:c.subarray(s+7+o,n)}),u++,c.byteLength===n)return void(c=void 0);c=c.subarray(n)}else s++},this.flush=function(){u=0,this.trigger("done")},this.reset=function(){c=void 0,this.trigger("reset")},this.endTimeline=function(){c=void 0,this.trigger("endedtimeline")}}).prototype=new j;var et,tt,ot,nt=Je,rt=function(n){var r=n.byteLength,i=0,a=0;this.length=function(){return 8*r},this.bitsAvailable=function(){return 8*r+a},this.loadWord=function(){var e=n.byteLength-r,t=new Uint8Array(4),o=Math.min(4,r);if(0===o)throw new Error("no bytes available");t.set(n.subarray(e,e+o)),i=new DataView(t.buffer).getUint32(0),a=8*o,r-=o},this.skipBits=function(e){var t;e<a||(e-=a,e-=8*(t=Math.floor(e/8)),r-=t,this.loadWord()),i<<=e,a-=e},this.readBits=function(e){var t=Math.min(a,e),o=i>>>32-t;return 0<(a-=t)?i<<=t:0<r&&this.loadWord(),0<(t=e-t)?o<<t|this.readBits(t):o},this.skipLeadingZeros=function(){var e;for(e=0;e<a;++e)if(0!=(i&2147483648>>>e))return i<<=e,a-=e,e;return this.loadWord(),e+this.skipLeadingZeros()},this.skipUnsignedExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.skipExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.readUnsignedExpGolomb=function(){var e=this.skipLeadingZeros();return this.readBits(e+1)-1},this.readExpGolomb=function(){var e=this.readUnsignedExpGolomb();return 1&e?1+e>>>1:-1*(e>>>1)},this.readBoolean=function(){return 1===this.readBits(1)},this.readUnsignedByte=function(){return this.readBits(8)},this.loadWord()};(tt=function(){var n,r,i=0;tt.prototype.init.call(this),this.push=function(e){for(var t,o=(r=r?((t=new Uint8Array(r.byteLength+e.data.byteLength)).set(r),t.set(e.data,r.byteLength),t):e.data).byteLength;i<o-3;i++)if(1===r[i+2]){n=i+5;break}for(;n<o;)switch(r[n]){case 0:if(0!==r[n-1]){n+=2;break}if(0!==r[n-2]){n++;break}for(i+3!==n-2&&this.trigger("data",r.subarray(i+3,n-2));1!==r[++n]&&n<o;);i=n-2,n+=3;break;case 1:if(0!==r[n-1]||0!==r[n-2]){n+=3;break}this.trigger("data",r.subarray(i+3,n-2)),i=n-2,n+=3;break;default:n+=3}r=r.subarray(i),n-=i,i=0},this.reset=function(){r=null,i=0,this.trigger("reset")},this.flush=function(){r&&3<r.byteLength&&this.trigger("data",r.subarray(i+3)),r=null,i=0,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")}}).prototype=new j,ot={100:!0,110:!0,122:!0,244:!0,44:!0,83:!0,86:!0,118:!0,128:!0,138:!0,139:!0,134:!0},(et=function(){var o,n,r,i,a,s,v,t=new tt;et.prototype.init.call(this),(o=this).push=function(e){"video"===e.type&&(n=e.trackId,r=e.pts,i=e.dts,t.push(e))},t.on("data",function(e){var t={trackId:n,pts:r,dts:i,data:e};switch(31&e[0]){case 5:t.nalUnitType="slice_layer_without_partitioning_rbsp_idr";break;case 6:t.nalUnitType="sei_rbsp",t.escapedRBSP=a(e.subarray(1));break;case 7:t.nalUnitType="seq_parameter_set_rbsp",t.escapedRBSP=a(e.subarray(1)),t.config=s(t.escapedRBSP);break;case 8:t.nalUnitType="pic_parameter_set_rbsp";break;case 9:t.nalUnitType="access_unit_delimiter_rbsp"}o.trigger("data",t)}),t.on("done",function(){o.trigger("done")}),t.on("partialdone",function(){o.trigger("partialdone")}),t.on("reset",function(){o.trigger("reset")}),t.on("endedtimeline",function(){o.trigger("endedtimeline")}),this.flush=function(){t.flush()},this.partialFlush=function(){t.partialFlush()},this.reset=function(){t.reset()},this.endTimeline=function(){t.endTimeline()},v=function(e,t){var o,n=8,r=8;for(o=0;o<e;o++)0!==r&&(r=(n+t.readExpGolomb()+256)%256),n=0===r?n:r},a=function(e){for(var t,o,n=e.byteLength,r=[],i=1;i<n-2;)0===e[i]&&0===e[i+1]&&3===e[i+2]?(r.push(i+2),i+=2):i++;if(0===r.length)return e;t=n-r.length,o=new Uint8Array(t);var a=0;for(i=0;i<t;a++,i++)a===r[0]&&(a++,r.shift()),o[i]=e[a];return o},s=function(e){var t,o,n,r,i,a,s,l,c,u,d,p,h,g=0,f=0,m=0,y=0,_=1;if(o=(t=new rt(e)).readUnsignedByte(),r=t.readUnsignedByte(),n=t.readUnsignedByte(),t.skipUnsignedExpGolomb(),ot[o]&&(3===(i=t.readUnsignedExpGolomb())&&t.skipBits(1),t.skipUnsignedExpGolomb(),t.skipUnsignedExpGolomb(),t.skipBits(1),t.readBoolean()))for(d=3!==i?8:12,h=0;h<d;h++)t.readBoolean()&&v(h<6?16:64,t);if(t.skipUnsignedExpGolomb(),0===(a=t.readUnsignedExpGolomb()))t.readUnsignedExpGolomb();else if(1===a)for(t.skipBits(1),t.skipExpGolomb(),t.skipExpGolomb(),s=t.readUnsignedExpGolomb(),h=0;h<s;h++)t.skipExpGolomb();if(t.skipUnsignedExpGolomb(),t.skipBits(1),l=t.readUnsignedExpGolomb(),c=t.readUnsignedExpGolomb(),0===(u=t.readBits(1))&&t.skipBits(1),t.skipBits(1),t.readBoolean()&&(g=t.readUnsignedExpGolomb(),f=t.readUnsignedExpGolomb(),m=t.readUnsignedExpGolomb(),y=t.readUnsignedExpGolomb()),t.readBoolean()&&t.readBoolean()){switch(t.readUnsignedByte()){case 1:p=[1,1];break;case 2:p=[12,11];break;case 3:p=[10,11];break;case 4:p=[16,11];break;case 5:p=[40,33];break;case 6:p=[24,11];break;case 7:p=[20,11];break;case 8:p=[32,11];break;case 9:p=[80,33];break;case 10:p=[18,11];break;case 11:p=[15,11];break;case 12:p=[64,33];break;case 13:p=[160,99];break;case 14:p=[4,3];break;case 15:p=[3,2];break;case 16:p=[2,1];break;case 255:p=[t.readUnsignedByte()<<8|t.readUnsignedByte(),t.readUnsignedByte()<<8|t.readUnsignedByte()]}p&&(_=p[0]/p[1])}return{profileIdc:o,levelIdc:n,profileCompatibility:r,width:Math.ceil((16*(l+1)-2*g-2*f)*_),height:(2-u)*(c+1)*16-2*m-2*y,sarRatio:p}}}).prototype=new j;var it,at={H264Stream:et,NalByteStream:tt},st=function(e){return e[0]==="I".charCodeAt(0)&&e[1]==="D".charCodeAt(0)&&e[2]==="3".charCodeAt(0)},lt=function(e,t){var o=e[t+6]<<21|e[t+7]<<14|e[t+8]<<7|e[t+9];return(16&e[t+5])>>4?20+o:10+o},ct=function(e,t){var o=(224&e[t+5])>>5,n=e[t+4]<<3;return 6144&e[t+3]|n|o};(it=function(){var s=new Uint8Array,l=0;it.prototype.init.call(this),this.setTimestamp=function(e){l=e},this.push=function(e){var t,o,n,r,i=0,a=0;for(s.length?(r=s.length,(s=new Uint8Array(e.byteLength+r)).set(s.subarray(0,r)),s.set(e,r)):s=e;3<=s.length-a;)if(s[a]!=="I".charCodeAt(0)||s[a+1]!=="D".charCodeAt(0)||s[a+2]!=="3".charCodeAt(0))if(255!=(255&s[a])||240!=(240&s[a+1]))a++;else{if(s.length-a<7)break;if(a+(i=ct(s,a))>s.length)break;n={type:"audio",data:s.subarray(a,a+i),pts:l,dts:l},this.trigger("data",n),a+=i}else{if(s.length-a<10)break;if(a+(i=lt(s,a))>s.length)break;o={type:"timed-metadata",data:s.subarray(a,a+i)},this.trigger("data",o),a+=i}t=s.length-a,s=0<t?s.subarray(a):new Uint8Array},this.reset=function(){s=new Uint8Array,this.trigger("reset")},this.endTimeline=function(){s=new Uint8Array,this.trigger("endedtimeline")}}).prototype=new j;var ut,dt,pt,ht,gt=it,ft=at.H264Stream,mt=st,yt=de,_t=["audioobjecttype","channelcount","samplerate","samplingfrequencyindex","samplesize"],vt=["width","height","profileIdc","levelIdc","profileCompatibility","sarRatio"],bt=function(e,t){var o;if(e.length!==t.length)return!1;for(o=0;o<e.length;o++)if(e[o]!==t[o])return!1;return!0},Et=function(e,t,o,n,r,i){return{start:{dts:e,pts:e+(o-t)},end:{dts:e+(n-t),pts:e+(r-o)},prependedContentDuration:i,baseMediaDecodeTime:e}};(dt=function(i,a){var s=[],l=0,c=0,u=0,d=1/0;a=a||{},dt.prototype.init.call(this),this.push=function(t){Te(i,t),i&&_t.forEach(function(e){i[e]=t[e]}),s.push(t)},this.setEarliestDts=function(e){c=e-i.timelineStartInfo.baseMediaDecodeTime},this.setVideoBaseMediaDecodeTime=function(e){d=e},this.setAudioAppendStart=function(e){u=e},this.flush=function(){var e,t,o,n,r;0!==s.length&&(e=me(s,i,c),i.baseMediaDecodeTime=Ee(i,a.keepOriginalTimestamps),fe(i,e,u,d),i.samples=ye(e),o=Q(_e(e)),s=[],t=$(l,[i]),n=new Uint8Array(t.byteLength+o.byteLength),l++,n.set(t),n.set(o,t.byteLength),be(i),r=Math.ceil(1024*yt/i.samplerate),e.length&&this.trigger("timingInfo",{start:e[0].dts,end:e[0].dts+e.length*r}),this.trigger("data",{track:i,boxes:n})),this.trigger("done","AudioSegmentStream")},this.reset=function(){be(i),s=[],this.trigger("reset")}}).prototype=new j,(ut=function(u,d){var t,o,p=0,h=[],g=[];d=d||{},ut.prototype.init.call(this),delete u.minPTS,this.gopCache_=[],this.push=function(e){Te(u,e),"seq_parameter_set_rbsp"!==e.nalUnitType||t||(t=e.config,u.sps=[e.data],vt.forEach(function(e){u[e]=t[e]},this)),"pic_parameter_set_rbsp"!==e.nalUnitType||o||(o=e.data,u.pps=[e.data]),h.push(e)},this.flush=function(){for(var e,t,o,n,r,i,a,s,l=0;h.length&&"access_unit_delimiter_rbsp"!==h[0].nalUnitType;)h.shift();if(0===h.length)return this.resetStream_(),void this.trigger("done","VideoSegmentStream");if(e=te(h),(o=oe(e))[0][0].keyFrame||((t=this.getGopForFusion_(h[0],u))?(l=t.duration,o.unshift(t),o.byteLength+=t.byteLength,o.nalCount+=t.nalCount,o.pts=t.pts,o.dts=t.dts,o.duration+=t.duration):o=ne(o)),g.length){var c;if(!(c=d.alignGopsAtEnd?this.alignGopsAtEnd_(o):this.alignGopsAtStart_(o)))return this.gopCache_.unshift({gop:o.pop(),pps:u.pps,sps:u.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),h=[],this.resetStream_(),void this.trigger("done","VideoSegmentStream");be(u),o=c}Te(u,o),u.samples=re(o),r=Q(ie(o)),u.baseMediaDecodeTime=Ee(u,d.keepOriginalTimestamps),this.trigger("processedGopsInfo",o.map(function(e){return{pts:e.pts,dts:e.dts,byteLength:e.byteLength}})),a=o[0],s=o[o.length-1],this.trigger("segmentTimingInfo",Et(u.baseMediaDecodeTime,a.dts,a.pts,s.dts+s.duration,s.pts+s.duration,l)),this.trigger("timingInfo",{start:o[0].dts,end:o[o.length-1].dts+o[o.length-1].duration}),this.gopCache_.unshift({gop:o.pop(),pps:u.pps,sps:u.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),h=[],this.trigger("baseMediaDecodeTime",u.baseMediaDecodeTime),this.trigger("timelineStartInfo",u.timelineStartInfo),n=$(p,[u]),i=new Uint8Array(n.byteLength+r.byteLength),p++,i.set(n),i.set(r,n.byteLength),this.trigger("data",{track:u,boxes:i}),this.resetStream_(),this.trigger("done","VideoSegmentStream")},this.reset=function(){this.resetStream_(),h=[],this.gopCache_.length=0,g.length=0,this.trigger("reset")},this.resetStream_=function(){be(u),o=t=void 0},this.getGopForFusion_=function(e){var t,o,n,r,i,a=1/0;for(i=0;i<this.gopCache_.length;i++)n=(r=this.gopCache_[i]).gop,u.pps&&bt(u.pps[0],r.pps[0])&&u.sps&&bt(u.sps[0],r.sps[0])&&(n.dts<u.timelineStartInfo.dts||-1e4<=(t=e.dts-n.dts-n.duration)&&t<=45e3&&(!o||t<a)&&(o=r,a=t));return o?o.gop:null},this.alignGopsAtStart_=function(e){var t,o,n,r,i,a,s,l;for(i=e.byteLength,a=e.nalCount,s=e.duration,t=o=0;t<g.length&&o<e.length&&(n=g[t],r=e[o],n.pts!==r.pts);)r.pts>n.pts?t++:(o++,i-=r.byteLength,a-=r.nalCount,s-=r.duration);return 0===o?e:o===e.length?null:((l=e.slice(o)).byteLength=i,l.duration=s,l.nalCount=a,l.pts=l[0].pts,l.dts=l[0].dts,l)},this.alignGopsAtEnd_=function(e){var t,o,n,r,i,a,s;for(t=g.length-1,o=e.length-1,i=null,a=!1;0<=t&&0<=o;){if(n=g[t],r=e[o],n.pts===r.pts){a=!0;break}n.pts>r.pts?t--:(t===g.length-1&&(i=o),o--)}if(!a&&null===i)return null;if(0===(s=a?o:i))return e;var l=e.slice(s),c=l.reduce(function(e,t){return e.byteLength+=t.byteLength,e.duration+=t.duration,e.nalCount+=t.nalCount,e},{byteLength:0,duration:0,nalCount:0});return l.byteLength=c.byteLength,l.duration=c.duration,l.nalCount=c.nalCount,l.pts=l[0].pts,l.dts=l[0].dts,l},this.alignGopsWith=function(e){g=e}}).prototype=new j,(ht=function(e,t){this.numberOfTracks=0,this.metadataStream=t,void 0!==(e=e||{}).remux?this.remuxTracks=!!e.remux:this.remuxTracks=!0,"boolean"==typeof e.keepOriginalTimestamps?this.keepOriginalTimestamps=e.keepOriginalTimestamps:this.keepOriginalTimestamps=!1,this.pendingTracks=[],this.videoTrack=null,this.pendingBoxes=[],this.pendingCaptions=[],this.pendingMetadata=[],this.pendingBytes=0,this.emittedTracks=0,ht.prototype.init.call(this),this.push=function(e){return e.text?this.pendingCaptions.push(e):e.frames?this.pendingMetadata.push(e):(this.pendingTracks.push(e.track),this.pendingBytes+=e.boxes.byteLength,"video"===e.track.type&&(this.videoTrack=e.track,this.pendingBoxes.push(e.boxes)),void("audio"===e.track.type&&(this.audioTrack=e.track,this.pendingBoxes.unshift(e.boxes))))}}).prototype=new j,ht.prototype.flush=function(e){var t,o,n,r,i=0,a={captions:[],captionStreams:{},metadata:[],info:{}},s=0;if(this.pendingTracks.length<this.numberOfTracks){if("VideoSegmentStream"!==e&&"AudioSegmentStream"!==e)return;if(this.remuxTracks)return;if(0===this.pendingTracks.length)return this.emittedTracks++,void(this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0))}if(this.videoTrack?(s=this.videoTrack.timelineStartInfo.pts,vt.forEach(function(e){a.info[e]=this.videoTrack[e]},this)):this.audioTrack&&(s=this.audioTrack.timelineStartInfo.pts,_t.forEach(function(e){a.info[e]=this.audioTrack[e]},this)),this.videoTrack||this.audioTrack){for(1===this.pendingTracks.length?a.type=this.pendingTracks[0].type:a.type="combined",this.emittedTracks+=this.pendingTracks.length,n=Z(this.pendingTracks),a.initSegment=new Uint8Array(n.byteLength),a.initSegment.set(n),a.data=new Uint8Array(this.pendingBytes),r=0;r<this.pendingBoxes.length;r++)a.data.set(this.pendingBoxes[r],i),i+=this.pendingBoxes[r].byteLength;for(r=0;r<this.pendingCaptions.length;r++)(t=this.pendingCaptions[r]).startTime=ge(t.startPts,s,this.keepOriginalTimestamps),t.endTime=ge(t.endPts,s,this.keepOriginalTimestamps),a.captionStreams[t.stream]=!0,a.captions.push(t);for(r=0;r<this.pendingMetadata.length;r++)(o=this.pendingMetadata[r]).cueTime=ge(o.pts,s,this.keepOriginalTimestamps),a.metadata.push(o);for(a.metadata.dispatchType=this.metadataStream.dispatchType,this.pendingTracks.length=0,this.videoTrack=null,this.pendingBoxes.length=0,this.pendingCaptions.length=0,this.pendingBytes=0,this.pendingMetadata.length=0,this.trigger("data",a),r=0;r<a.captions.length;r++)t=a.captions[r],this.trigger("caption",t);for(r=0;r<a.metadata.length;r++)o=a.metadata[r],this.trigger("id3Frame",o)}this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0)},ht.prototype.setRemux=function(e){this.remuxTracks=e},(pt=function(n){var r,i,a=this,o=!0;pt.prototype.init.call(this),n=n||{},this.baseMediaDecodeTime=n.baseMediaDecodeTime||0,this.transmuxPipeline_={},this.setupAacPipeline=function(){var t={};(this.transmuxPipeline_=t).type="aac",t.metadataStream=new Qe.MetadataStream,t.aacStream=new gt,t.audioTimestampRolloverStream=new Qe.TimestampRolloverStream("audio"),t.timedMetadataTimestampRolloverStream=new Qe.TimestampRolloverStream("timed-metadata"),t.adtsStream=new nt,t.coalesceStream=new ht(n,t.metadataStream),t.headOfPipeline=t.aacStream,t.aacStream.pipe(t.audioTimestampRolloverStream).pipe(t.adtsStream),t.aacStream.pipe(t.timedMetadataTimestampRolloverStream).pipe(t.metadataStream).pipe(t.coalesceStream),t.metadataStream.on("timestamp",function(e){t.aacStream.setTimestamp(e.timeStamp)}),t.aacStream.on("data",function(e){"timed-metadata"!==e.type||t.audioSegmentStream||(i=i||{timelineStartInfo:{baseMediaDecodeTime:a.baseMediaDecodeTime},codec:"adts",type:"audio"},t.coalesceStream.numberOfTracks++,t.audioSegmentStream=new dt(i,n),t.audioSegmentStream.on("timingInfo",a.trigger.bind(a,"audioTimingInfo")),t.adtsStream.pipe(t.audioSegmentStream).pipe(t.coalesceStream)),a.trigger("trackinfo",{hasAudio:!!i,hasVideo:!!r})}),t.coalesceStream.on("data",this.trigger.bind(this,"data")),t.coalesceStream.on("done",this.trigger.bind(this,"done"))},this.setupTsPipeline=function(){var o={};(this.transmuxPipeline_=o).type="ts",o.metadataStream=new Qe.MetadataStream,o.packetStream=new Qe.TransportPacketStream,o.parseStream=new Qe.TransportParseStream,o.elementaryStream=new Qe.ElementaryStream,o.timestampRolloverStream=new Qe.TimestampRolloverStream,o.adtsStream=new nt,o.h264Stream=new ft,o.captionStream=new Qe.CaptionStream,o.coalesceStream=new ht(n,o.metadataStream),o.headOfPipeline=o.packetStream,o.packetStream.pipe(o.parseStream).pipe(o.elementaryStream).pipe(o.timestampRolloverStream),o.timestampRolloverStream.pipe(o.h264Stream),o.timestampRolloverStream.pipe(o.adtsStream),o.timestampRolloverStream.pipe(o.metadataStream).pipe(o.coalesceStream),o.h264Stream.pipe(o.captionStream).pipe(o.coalesceStream),o.elementaryStream.on("data",function(e){var t;if("metadata"===e.type){for(t=e.tracks.length;t--;)r||"video"!==e.tracks[t].type?i||"audio"!==e.tracks[t].type||((i=e.tracks[t]).timelineStartInfo.baseMediaDecodeTime=a.baseMediaDecodeTime):(r=e.tracks[t]).timelineStartInfo.baseMediaDecodeTime=a.baseMediaDecodeTime;r&&!o.videoSegmentStream&&(o.coalesceStream.numberOfTracks++,o.videoSegmentStream=new ut(r,n),o.videoSegmentStream.on("timelineStartInfo",function(e){i&&(i.timelineStartInfo=e,o.audioSegmentStream.setEarliestDts(e.dts))}),o.videoSegmentStream.on("processedGopsInfo",a.trigger.bind(a,"gopInfo")),o.videoSegmentStream.on("segmentTimingInfo",a.trigger.bind(a,"videoSegmentTimingInfo")),o.videoSegmentStream.on("baseMediaDecodeTime",function(e){i&&o.audioSegmentStream.setVideoBaseMediaDecodeTime(e)}),o.videoSegmentStream.on("timingInfo",a.trigger.bind(a,"videoTimingInfo")),o.h264Stream.pipe(o.videoSegmentStream).pipe(o.coalesceStream)),i&&!o.audioSegmentStream&&(o.coalesceStream.numberOfTracks++,o.audioSegmentStream=new dt(i,n),o.audioSegmentStream.on("timingInfo",a.trigger.bind(a,"audioTimingInfo")),o.adtsStream.pipe(o.audioSegmentStream).pipe(o.coalesceStream)),a.trigger("trackinfo",{hasAudio:!!i,hasVideo:!!r})}}),o.coalesceStream.on("data",this.trigger.bind(this,"data")),o.coalesceStream.on("id3Frame",function(e){e.dispatchType=o.metadataStream.dispatchType,a.trigger("id3Frame",e)}),o.coalesceStream.on("caption",this.trigger.bind(this,"caption")),o.coalesceStream.on("done",this.trigger.bind(this,"done"))},this.setBaseMediaDecodeTime=function(e){var t=this.transmuxPipeline_;n.keepOriginalTimestamps||(this.baseMediaDecodeTime=e),i&&(i.timelineStartInfo.dts=void 0,i.timelineStartInfo.pts=void 0,be(i),n.keepOriginalTimestamps||(i.timelineStartInfo.baseMediaDecodeTime=e),t.audioTimestampRolloverStream&&t.audioTimestampRolloverStream.discontinuity()),r&&(t.videoSegmentStream&&(t.videoSegmentStream.gopCache_=[]),r.timelineStartInfo.dts=void 0,r.timelineStartInfo.pts=void 0,be(r),t.captionStream.reset(),n.keepOriginalTimestamps||(r.timelineStartInfo.baseMediaDecodeTime=e)),t.timestampRolloverStream&&t.timestampRolloverStream.discontinuity()},this.setAudioAppendStart=function(e){i&&this.transmuxPipeline_.audioSegmentStream.setAudioAppendStart(e)},this.setRemux=function(e){var t=this.transmuxPipeline_;n.remux=e,t&&t.coalesceStream&&t.coalesceStream.setRemux(e)},this.alignGopsWith=function(e){r&&this.transmuxPipeline_.videoSegmentStream&&this.transmuxPipeline_.videoSegmentStream.alignGopsWith(e)},this.push=function(e){if(o){var t=mt(e);t&&"aac"!==this.transmuxPipeline_.type?this.setupAacPipeline():t||"ts"===this.transmuxPipeline_.type||this.setupTsPipeline(),o=!1}this.transmuxPipeline_.headOfPipeline.push(e)},this.flush=function(){o=!0,this.transmuxPipeline_.headOfPipeline.flush()},this.endTimeline=function(){this.transmuxPipeline_.headOfPipeline.endTimeline()},this.reset=function(){this.transmuxPipeline_.headOfPipeline&&this.transmuxPipeline_.headOfPipeline.reset()},this.resetCaptions=function(){this.transmuxPipeline_.captionStream&&this.transmuxPipeline_.captionStream.reset()}}).prototype=new j;var Tt={Transmuxer:pt,VideoSegmentStream:ut,AudioSegmentStream:dt,AUDIO_PROPERTIES:_t,VIDEO_PROPERTIES:vt,generateVideoSegmentTimingInfo:Et},St=function(){function n(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,o){return t&&n(e.prototype,t),o&&n(e,o),e}}(),kt=function(){function o(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),this.options=t||{},this.self=e,this.init()}return St(o,[{key:"init",value:function(){this.transmuxer&&this.transmuxer.dispose(),this.transmuxer=new Tt.Transmuxer(this.options),function(n,e){e.on("data",function(e){var t=e.initSegment;e.initSegment={data:t.buffer,byteOffset:t.byteOffset,byteLength:t.byteLength};var o=e.data;e.data=o.buffer,n.postMessage({action:"data",segment:e,byteOffset:o.byteOffset,byteLength:o.byteLength},[e.data])}),e.captionStream&&e.captionStream.on("data",function(e){n.postMessage({action:"caption",data:e})}),e.on("done",function(e){n.postMessage({action:"done"})}),e.on("gopInfo",function(e){n.postMessage({action:"gopInfo",gopInfo:e})}),e.on("videoSegmentTimingInfo",function(e){n.postMessage({action:"videoSegmentTimingInfo",videoSegmentTimingInfo:e})})}(this.self,this.transmuxer)}},{key:"push",value:function(e){var t=new Uint8Array(e.data,e.byteOffset,e.byteLength);this.transmuxer.push(t)}},{key:"reset",value:function(){this.init()}},{key:"setTimestampOffset",value:function(e){var t=e.timestampOffset||0;this.transmuxer.setBaseMediaDecodeTime(Math.round(9e4*t))}},{key:"setAudioAppendStart",value:function(e){this.transmuxer.setAudioAppendStart(Math.ceil(9e4*e.appendStart))}},{key:"flush",value:function(e){this.transmuxer.flush()}},{key:"resetCaptions",value:function(){this.transmuxer.resetCaptions()}},{key:"alignGopsWith",value:function(e){this.transmuxer.alignGopsWith(e.gopsToAlignWith.slice())}}]),o}();new function(t){t.onmessage=function(e){"init"===e.data.action&&e.data.options?this.messageHandlers=new kt(t,e.data.options):(this.messageHandlers||(this.messageHandlers=new kt(t)),e.data&&e.data.action&&"init"!==e.data.action&&this.messageHandlers[e.data.action]&&this.messageHandlers[e.data.action](e.data))}}(Ct)}()}),da={videoCodec:"avc1",videoObjectTypeIndicator:".4d400d",audioProfile:"2"},pa=function(e){return e.map(function(e){return e.replace(/avc1\.(\d+)\.(\d+)/i,function(e,t,o){return"avc1."+("00"+Number(t).toString(16)).slice(-2)+"00"+("00"+Number(o).toString(16)).slice(-2)})})},ha=function(){var e,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",o={codecCount:0};return o.codecCount=t.split(",").length,o.codecCount=o.codecCount||2,(e=/(^|\s|,)+(avc[13])([^ ,]*)/i.exec(t))&&(o.videoCodec=e[2],o.videoObjectTypeIndicator=e[3]),o.audioProfile=/(^|\s|,)+mp4a.[0-9A-Fa-f]+\.([0-9A-Fa-f]+)/i.exec(t),o.audioProfile=o.audioProfile&&o.audioProfile[2],o},ga=function(e,t,o){return e+"/"+t+'; codecs="'+o.filter(function(e){return!!e}).join(", ")+'"'},fa=function(e,t){var o=function(e){return e.segments&&e.segments.length&&e.segments[0].map?"mp4":"mp2t"}(t),n=function(e){var t=e.attributes||{};return t.CODECS?ha(t.CODECS):da}(t),r=t.attributes||{},i=!0,a=!1;if(!t)return[];if(e.mediaGroups.AUDIO&&r.AUDIO){var s=e.mediaGroups.AUDIO[r.AUDIO];if(s)for(var l in i=!(a=!0),s)if(!s[l].uri&&!s[l].playlists){i=!0;break}}a&&!n.audioProfile&&(i||(n.audioProfile=function(e,t){if(!e.mediaGroups.AUDIO||!t)return null;var o=e.mediaGroups.AUDIO[t];if(!o)return null;for(var n in o){var r=o[n];if(r.default&&r.playlists)return ha(r.playlists[0].attributes.CODECS).audioProfile}return null}(e,r.AUDIO)),n.audioProfile||(Qr.log.warn("Multiple audio tracks present but no audio codec string is specified. Attempting to use the default audio codec (mp4a.40.2)"),n.audioProfile=da.audioProfile));var c={};n.videoCodec&&(c.video=""+n.videoCodec+n.videoObjectTypeIndicator),n.audioProfile&&(c.audio="mp4a.40."+n.audioProfile);var u=ga("audio",o,[c.audio]),d=ga("video",o,[c.video]),p=ga("video",o,[c.video,c.audio]);return a?!i&&c.video?[d,u]:i||c.video?[p,u]:[u,u]:c.video?[p]:[u]},ma=function(e){return/mp4a\.\d+.\d+/i.test(e)},ya=function(e){return/avc1\.[\da-f]+/i.test(e)},_a=function(e){function r(e,t){oi(this,r);var o=ii(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,Qr.EventTarget));o.timestampOffset_=0,o.pendingBuffers_=[],o.bufferUpdating_=!1,o.mediaSource_=e,o.codecs_=t,o.audioCodec_=null,o.videoCodec_=null,o.audioDisabled_=!1,o.appendAudioInitSegment_=!0,o.gopBuffer_=[],o.timeMapping_=0,o.safeAppend_=11<=Qr.browser.IE_VERSION;var n={remux:!1,alignGopsAtEnd:o.safeAppend_};return o.codecs_.forEach(function(e){ma(e)?o.audioCodec_=e:ya(e)&&(o.videoCodec_=e)}),o.transmuxer_=new ua,o.transmuxer_.postMessage({action:"init",options:n}),o.transmuxer_.onmessage=function(e){return"data"===e.data.action?o.data_(e):"done"===e.data.action?o.done_(e):"gopInfo"===e.data.action?o.appendGopInfo_(e):"videoSegmentTimingInfo"===e.data.action?o.videoSegmentTimingInfo_(e.data.videoSegmentTimingInfo):void 0},Object.defineProperty(o,"timestampOffset",{get:function(){return this.timestampOffset_},set:function(e){"number"==typeof e&&0<=e&&(this.timestampOffset_=e,this.appendAudioInitSegment_=!0,this.gopBuffer_.length=0,this.timeMapping_=0,this.transmuxer_.postMessage({action:"setTimestampOffset",timestampOffset:e}))}}),Object.defineProperty(o,"appendWindowStart",{get:function(){return(this.videoBuffer_||this.audioBuffer_).appendWindowStart},set:function(e){this.videoBuffer_&&(this.videoBuffer_.appendWindowStart=e),this.audioBuffer_&&(this.audioBuffer_.appendWindowStart=e)}}),Object.defineProperty(o,"updating",{get:function(){return!!(this.bufferUpdating_||!this.audioDisabled_&&this.audioBuffer_&&this.audioBuffer_.updating||this.videoBuffer_&&this.videoBuffer_.updating)}}),Object.defineProperty(o,"buffered",{get:function(){return function(e,t,o){var n=null,r=null,i=0,a=[],s=[];if(!e&&!t)return Qr.createTimeRange();if(!e)return t.buffered;if(!t)return e.buffered;if(o)return e.buffered;if(0===e.buffered.length&&0===t.buffered.length)return Qr.createTimeRange();for(var l=e.buffered,c=t.buffered,u=l.length;u--;)a.push({time:l.start(u),type:"start"}),a.push({time:l.end(u),type:"end"});for(u=c.length;u--;)a.push({time:c.start(u),type:"start"}),a.push({time:c.end(u),type:"end"});for(a.sort(function(e,t){return e.time-t.time}),u=0;u<a.length;u++)"start"===a[u].type?2==++i&&(n=a[u].time):"end"===a[u].type&&1==--i&&(r=a[u].time),null!==n&&null!==r&&(s.push([n,r]),r=n=null);return Qr.createTimeRanges(s)}(this.videoBuffer_,this.audioBuffer_,this.audioDisabled_)}}),o}return ri(r,Qr.EventTarget),ni(r,[{key:"data_",value:function(e){var t=e.data.segment;t.data=new Uint8Array(t.data,e.data.byteOffset,e.data.byteLength),t.initSegment=new Uint8Array(t.initSegment.data,t.initSegment.byteOffset,t.initSegment.byteLength),function(e,t,o){var n=t.player_;if(o.captions&&o.captions.length)for(var r in e.inbandTextTracks_||(e.inbandTextTracks_={}),o.captionStreams)if(!e.inbandTextTracks_[r]){n.tech_.trigger({type:"usage",name:"hls-608"});var i=n.textTracks().getTrackById(r);e.inbandTextTracks_[r]=i||n.addRemoteTextTrack({kind:"captions",id:r,label:r},!1).track}o.metadata&&o.metadata.length&&!e.metadataTrack_&&(e.metadataTrack_=n.addRemoteTextTrack({kind:"metadata",label:"Timed Metadata"},!1).track,e.metadataTrack_.inBandMetadataTrackDispatchType=o.metadata.dispatchType)}(this,this.mediaSource_,t),this.pendingBuffers_.push(t)}},{key:"done_",value:function(e){"closed"!==this.mediaSource_.readyState?this.processPendingSegments_():this.pendingBuffers_.length=0}},{key:"videoSegmentTimingInfo_",value:function(e){var t={start:{decode:e.start.dts/9e4,presentation:e.start.pts/9e4},end:{decode:e.end.dts/9e4,presentation:e.end.pts/9e4},baseMediaDecodeTime:e.baseMediaDecodeTime/9e4};e.prependedContentDuration&&(t.prependedContentDuration=e.prependedContentDuration/9e4),this.trigger({type:"videoSegmentTimingInfo",videoSegmentTimingInfo:t})}},{key:"createRealSourceBuffers_",value:function(){var n=this,r=["audio","video"];r.forEach(function(t){if(n[t+"Codec_"]&&!n[t+"Buffer_"]){var o=null;if(n.mediaSource_[t+"Buffer_"])(o=n.mediaSource_[t+"Buffer_"]).updating=!1;else{var e=t+'/mp4;codecs="'+n[t+"Codec_"]+'"';o=function(e,t){var o=e.addSourceBuffer(t),n=Object.create(null);n.updating=!1,n.realBuffer_=o;var r=function(t){"function"==typeof o[t]?n[t]=function(){return o[t].apply(o,arguments)}:void 0===n[t]&&Object.defineProperty(n,t,{get:function(){return o[t]},set:function(e){return o[t]=e}})};for(var i in o)r(i);return n}(n.mediaSource_.nativeMediaSource_,e),n.mediaSource_[t+"Buffer_"]=o}n[t+"Buffer_"]=o,["update","updatestart","updateend"].forEach(function(e){o.addEventListener(e,function(){if("audio"!==t||!n.audioDisabled_)return"updateend"===e&&(n[t+"Buffer_"].updating=!1),r.every(function(e){return!("audio"!==e||!n.audioDisabled_)||(t===e||!n[e+"Buffer_"]||!n[e+"Buffer_"].updating)})?n.trigger(e):void 0})})}})}},{key:"appendBuffer",value:function(e){if(this.bufferUpdating_=!0,this.audioBuffer_&&this.audioBuffer_.buffered.length){var t=this.audioBuffer_.buffered;this.transmuxer_.postMessage({action:"setAudioAppendStart",appendStart:t.end(t.length-1)})}this.videoBuffer_&&this.transmuxer_.postMessage({action:"alignGopsWith",gopsToAlignWith:function(e,t,o){if(null==t||!e.length)return[];var n=Math.ceil(9e4*(t-o+3)),r=void 0;for(r=0;r<e.length&&!(e[r].pts>n);r++);return e.slice(r)}(this.gopBuffer_,this.mediaSource_.player_?this.mediaSource_.player_.currentTime():null,this.timeMapping_)}),this.transmuxer_.postMessage({action:"push",data:e.buffer,byteOffset:e.byteOffset,byteLength:e.byteLength},[e.buffer]),this.transmuxer_.postMessage({action:"flush"})}},{key:"appendGopInfo_",value:function(e){this.gopBuffer_=function(e,t,o){if(!t.length)return e;if(o)return t.slice();for(var n=t[0].pts,r=0;r<e.length&&!(e[r].pts>=n);r++);return e.slice(0,r).concat(t)}(this.gopBuffer_,e.data.gopInfo,this.safeAppend_)}},{key:"remove",value:function(e,t){if(this.videoBuffer_&&(this.videoBuffer_.updating=!0,this.videoBuffer_.remove(e,t),this.gopBuffer_=function(e,t,o,n){for(var r=Math.ceil(9e4*(t-n)),i=Math.ceil(9e4*(o-n)),a=e.slice(),s=e.length;s--&&!(e[s].pts<=i););if(-1===s)return a;for(var l=s+1;l--&&!(e[l].pts<=r););return l=Math.max(l,0),a.splice(l,s-l+1),a}(this.gopBuffer_,e,t,this.timeMapping_)),!this.audioDisabled_&&this.audioBuffer_&&(this.audioBuffer_.updating=!0,this.audioBuffer_.remove(e,t)),Ji(e,t,this.metadataTrack_),this.inbandTextTracks_)for(var o in this.inbandTextTracks_)Ji(e,t,this.inbandTextTracks_[o])}},{key:"processPendingSegments_",value:function(){var e={video:{segments:[],bytes:0},audio:{segments:[],bytes:0},captions:[],metadata:[]};if(!this.pendingBuffers_.length)return this.trigger("updateend"),void(this.bufferUpdating_=!1);e=this.pendingBuffers_.reduce(function(e,t){var o=t.type,n=t.data,r=t.initSegment;return e[o].segments.push(n),e[o].bytes+=n.byteLength,e[o].initSegment=r,t.captions&&(e.captions=e.captions.concat(t.captions)),t.info&&(e[o].info=t.info),t.metadata&&(e.metadata=e.metadata.concat(t.metadata)),e},e),this.videoBuffer_||this.audioBuffer_||(0===e.video.bytes&&(this.videoCodec_=null),0===e.audio.bytes&&(this.audioCodec_=null),this.createRealSourceBuffers_()),e.audio.info&&this.mediaSource_.trigger({type:"audioinfo",info:e.audio.info}),e.video.info&&this.mediaSource_.trigger({type:"videoinfo",info:e.video.info}),this.appendAudioInitSegment_&&(!this.audioDisabled_&&this.audioBuffer_&&(e.audio.segments.unshift(e.audio.initSegment),e.audio.bytes+=e.audio.initSegment.byteLength),this.appendAudioInitSegment_=!1);var t=!1;this.videoBuffer_&&e.video.bytes?(e.video.segments.unshift(e.video.initSegment),e.video.bytes+=e.video.initSegment.byteLength,this.concatAndAppendSegments_(e.video,this.videoBuffer_)):!this.videoBuffer_||!this.audioDisabled_&&this.audioBuffer_||(t=!0),$i(this,e.captions,e.metadata),!this.audioDisabled_&&this.audioBuffer_&&this.concatAndAppendSegments_(e.audio,this.audioBuffer_),this.pendingBuffers_.length=0,t&&this.trigger("updateend"),this.bufferUpdating_=!1}},{key:"concatAndAppendSegments_",value:function(e,t){var o=0,n=void 0;if(e.bytes){n=new Uint8Array(e.bytes),e.segments.forEach(function(e){n.set(e,o),o+=e.byteLength});try{t.updating=!0,t.appendBuffer(n)}catch(e){this.mediaSource_.player_&&this.mediaSource_.player_.error({code:-3,type:"APPEND_BUFFER_ERR",message:e.message,originalError:e})}}}},{key:"abort",value:function(){this.videoBuffer_&&this.videoBuffer_.abort(),!this.audioDisabled_&&this.audioBuffer_&&this.audioBuffer_.abort(),this.transmuxer_&&this.transmuxer_.postMessage({action:"reset"}),this.pendingBuffers_.length=0,this.bufferUpdating_=!1}}]),r}(),va=function(e){function t(){oi(this,t);var i=ii(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),e=void 0;for(e in i.nativeMediaSource_=new _.a.MediaSource,i.nativeMediaSource_)e in t.prototype||"function"!=typeof i.nativeMediaSource_[e]||(i[e]=i.nativeMediaSource_[e].bind(i.nativeMediaSource_));return i.duration_=NaN,Object.defineProperty(i,"duration",{get:function(){return this.duration_===1/0?this.duration_:this.nativeMediaSource_.duration},set:function(e){(this.duration_=e)===1/0||(this.nativeMediaSource_.duration=e)}}),Object.defineProperty(i,"seekable",{get:function(){return this.duration_===1/0?Qr.createTimeRanges([[0,this.nativeMediaSource_.duration]]):this.nativeMediaSource_.seekable}}),Object.defineProperty(i,"readyState",{get:function(){return this.nativeMediaSource_.readyState}}),Object.defineProperty(i,"activeSourceBuffers",{get:function(){return this.activeSourceBuffers_}}),i.sourceBuffers=[],i.activeSourceBuffers_=[],i.updateActiveSourceBuffers_=function(){if(i.activeSourceBuffers_.length=0,1===i.sourceBuffers.length){var e=i.sourceBuffers[0];return e.appendAudioInitSegment_=!0,e.audioDisabled_=!e.audioCodec_,void i.activeSourceBuffers_.push(e)}for(var o=!1,n=!0,t=0;t<i.player_.audioTracks().length;t++){var r=i.player_.audioTracks()[t];if(r.enabled&&"main"!==r.kind){n=!(o=!0);break}}i.sourceBuffers.forEach(function(e,t){if(e.appendAudioInitSegment_=!0,e.videoCodec_&&e.audioCodec_)e.audioDisabled_=o;else if(e.videoCodec_&&!e.audioCodec_)e.audioDisabled_=!0,n=!1;else if(!e.videoCodec_&&e.audioCodec_&&(e.audioDisabled_=t?n:!n,e.audioDisabled_))return;i.activeSourceBuffers_.push(e)})},i.onPlayerMediachange_=function(){i.sourceBuffers.forEach(function(e){e.appendAudioInitSegment_=!0})},i.onHlsReset_=function(){i.sourceBuffers.forEach(function(e){e.transmuxer_&&e.transmuxer_.postMessage({action:"resetCaptions"})})},i.onHlsSegmentTimeMapping_=function(t){i.sourceBuffers.forEach(function(e){return e.timeMapping_=t.mapping})},["sourceopen","sourceclose","sourceended"].forEach(function(e){this.nativeMediaSource_.addEventListener(e,this.trigger.bind(this))},i),i.on("sourceopen",function(e){var t=d.a.querySelector('[src="'+i.url_+'"]');t&&(i.player_=Qr(t.parentNode),i.player_&&(i.player_.tech_.on("hls-reset",i.onHlsReset_),i.player_.tech_.on("hls-segment-time-mapping",i.onHlsSegmentTimeMapping_),i.player_.audioTracks&&i.player_.audioTracks()&&(i.player_.audioTracks().on("change",i.updateActiveSourceBuffers_),i.player_.audioTracks().on("addtrack",i.updateActiveSourceBuffers_),i.player_.audioTracks().on("removetrack",i.updateActiveSourceBuffers_)),i.player_.on("mediachange",i.onPlayerMediachange_)))}),i.on("sourceended",function(e){for(var t=Qi(i.duration),o=0;o<i.sourceBuffers.length;o++){var n=i.sourceBuffers[o],r=n.metadataTrack_&&n.metadataTrack_.cues;r&&r.length&&(r[r.length-1].endTime=t)}}),i.on("sourceclose",function(e){this.sourceBuffers.forEach(function(e){e.transmuxer_&&e.transmuxer_.terminate()}),this.sourceBuffers.length=0,this.player_&&(this.player_.audioTracks&&this.player_.audioTracks()&&(this.player_.audioTracks().off("change",this.updateActiveSourceBuffers_),this.player_.audioTracks().off("addtrack",this.updateActiveSourceBuffers_),this.player_.audioTracks().off("removetrack",this.updateActiveSourceBuffers_)),this.player_.el_&&this.player_.off("mediachange",this.onPlayerMediachange_),this.player_.tech_&&this.player_.tech_.el_&&(this.player_.tech_.off("hls-reset",this.onHlsReset_),this.player_.tech_.off("hls-segment-time-mapping",this.onHlsSegmentTimeMapping_)))}),i}return ri(t,Qr.EventTarget),ni(t,[{key:"addSeekableRange_",value:function(e,t){var o=void 0;if(this.duration!==1/0)throw(o=new Error("MediaSource.addSeekableRange() can only be invoked when the duration is Infinity")).name="InvalidStateError",o.code=11,o;(t>this.nativeMediaSource_.duration||isNaN(this.nativeMediaSource_.duration))&&(this.nativeMediaSource_.duration=t)}},{key:"addSourceBuffer",value:function(e){var t=void 0,o=function(e){var r={type:"",parameters:{}},t=e.trim().split(";");return r.type=t.shift().trim(),t.forEach(function(e){var t=e.trim().split("=");if(1<t.length){var o=t[0].replace(/"/g,"").trim(),n=t[1].replace(/"/g,"").trim();r.parameters[o]=n}}),r}(e);if(/^(video|audio)\/mp2t$/i.test(o.type)){var n=[];o.parameters&&o.parameters.codecs&&(n=o.parameters.codecs.split(","),n=(n=pa(n)).filter(function(e){return ma(e)||ya(e)})),0===n.length&&(n=["avc1.4d400d","mp4a.40.2"]),t=new _a(this,n),0!==this.sourceBuffers.length&&(this.sourceBuffers[0].createRealSourceBuffers_(),t.createRealSourceBuffers_(),this.sourceBuffers[0].audioDisabled_=!0)}else t=this.nativeMediaSource_.addSourceBuffer(e);return this.sourceBuffers.push(t),t}}]),t}(),ba=0;Qr.mediaSources={};var Ea=function(e,t){var o=Qr.mediaSources[e];if(!o)throw new Error("Media Source not found (Video.js)");o.trigger({type:"sourceopen",swfId:t})},Ta=function(){return!!_.a.MediaSource&&!!_.a.MediaSource.isTypeSupported&&_.a.MediaSource.isTypeSupported('video/mp4;codecs="avc1.4d400d,mp4a.40.2"')},Sa=function(){if(this.MediaSource={open:Ea,supportsNativeMediaSources:Ta},Ta())return new va;throw new Error("Cannot use create a virtual MediaSource for this video")};Sa.open=Ea,Sa.supportsNativeMediaSources=Ta;var ka={createObjectURL:function(e){var t=void 0;return e instanceof va?(t=_.a.URL.createObjectURL(e.nativeMediaSource_),e.url_=t):e instanceof va?(t="blob:vjs-media-source/"+ba,ba++,Qr.mediaSources[t]=e,t):(t=_.a.URL.createObjectURL(e),e.url_=t)}};Qr.MediaSource=Sa,Qr.URL=ka;var Ca=Qr.EventTarget,Aa=Qr.mergeOptions,Oa=function(e,t){for(var a=void 0,s=Aa(e,{duration:t.duration,minimumUpdatePeriod:t.minimumUpdatePeriod}),o=0;o<t.playlists.length;o++){var n=di(s,t.playlists[o]);n?s=n:a=!0}return ui(t,function(e,t,o,n){if(e.playlists&&e.playlists.length){var r=e.playlists[0].uri,i=di(s,e.playlists[0]);i&&((s=i).mediaGroups[t][o][n].playlists[0]=s.playlists[r],a=!1)}}),a?null:s},wa=function(e){var t=e.byterange.offset+e.byterange.length-1;return e.uri+"-"+e.byterange.offset+"-"+t},Ba=function(e,t){var o,n,r={};for(var i in e){var a=e[i].sidx;if(a){var s=wa(a);if(!t[s])break;var l=t[s].sidxInfo;o=l,n=a,(Boolean(!o.map&&!n.map)||Boolean(o.map&&n.map&&o.map.byterange.offset===n.map.byterange.offset&&o.map.byterange.length===n.map.byterange.length))&&o.uri===n.uri&&o.byterange.offset===n.byterange.offset&&o.byterange.length===n.byterange.length&&(r[s]=t[s])}}return r},Ia=function(e,t,o,n,r){var i={uri:ti(n.handleManifestRedirects,e.resolvedUri),byterange:e.byterange,playlist:t};return o(Qr.mergeOptions(i,{responseType:"arraybuffer",headers:xi(i)}),r)},Ra=function(e){function c(e,t){var o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},n=arguments[3];oi(this,c);var r=ii(this,(c.__proto__||Object.getPrototypeOf(c)).call(this)),i=o.withCredentials,a=void 0!==i&&i,s=o.handleManifestRedirects,l=void 0!==s&&s;if(r.hls_=t,r.withCredentials=a,r.handleManifestRedirects=l,!e)throw new Error("A non-empty playlist URL or playlist is required");return r.on("minimumUpdatePeriod",function(){r.refreshXml_()}),r.on("mediaupdatetimeout",function(){r.refreshMedia_(r.media().uri)}),r.state="HAVE_NOTHING",r.loadedPlaylists_={},"string"==typeof e?(r.srcUrl=e,r.sidxMapping_={},ii(r)):(r.setupChildLoader(n,e),r)}return ri(c,Ca),ni(c,[{key:"setupChildLoader",value:function(e,t){this.masterPlaylistLoader_=e,this.childPlaylist_=t}},{key:"dispose",value:function(){this.stopRequest(),this.loadedPlaylists_={},_.a.clearTimeout(this.minimumUpdatePeriodTimeout_),_.a.clearTimeout(this.mediaRequest_),_.a.clearTimeout(this.mediaUpdateTimeout)}},{key:"hasPendingRequest",value:function(){return this.request||this.mediaRequest_}},{key:"stopRequest",value:function(){if(this.request){var e=this.request;this.request=null,e.onreadystatechange=null,e.abort()}}},{key:"sidxRequestFinished_",value:function(r,i,a,s){var l=this;return function(e,t){if(l.request){if(l.request=null,e)return l.error={status:t.status,message:"DASH playlist request error at URL: "+r.uri,response:t.response,code:2},a&&(l.state=a),l.trigger("error"),s(i,null);var o=new Uint8Array(t.response),n=A.a.parseSidx(o.subarray(8));return s(i,n)}}}},{key:"media",value:function(o){var n=this;if(!o)return this.media_;if("HAVE_NOTHING"===this.state)throw new Error("Cannot switch media playlist from "+this.state);var r=this.state;if("string"==typeof o){if(!this.master.playlists[o])throw new Error("Unknown playlist URI: "+o);o=this.master.playlists[o]}var e=!this.media_||o.uri!==this.media_.uri;if(e&&this.loadedPlaylists_[o.uri]&&this.loadedPlaylists_[o.uri].endList)return this.state="HAVE_METADATA",this.media_=o,void(e&&(this.trigger("mediachanging"),this.trigger("mediachange")));if(e)if(this.media_&&this.trigger("mediachanging"),o.sidx){var t=void 0,i=void 0;i=this.masterPlaylistLoader_?(t=this.masterPlaylistLoader_.master,this.masterPlaylistLoader_.sidxMapping_):(t=this.master,this.sidxMapping_);var a=wa(o.sidx);i[a]={sidxInfo:o.sidx},this.request=Ia(o.sidx,o,this.hls_.xhr,{handleManifestRedirects:this.handleManifestRedirects},this.sidxRequestFinished_(o,t,r,function(e,t){if(!e||!t)throw new Error("failed to request sidx");i[a].sidx=t,n.haveMetadata({startingState:r,playlist:e.playlists[o.uri]})}))}else this.mediaRequest_=_.a.setTimeout(this.haveMetadata.bind(this,{startingState:r,playlist:o}),0)}},{key:"haveMetadata",value:function(e){var t=e.startingState,o=e.playlist;this.state="HAVE_METADATA",this.loadedPlaylists_[o.uri]=o,this.mediaRequest_=null,this.refreshMedia_(o.uri),"HAVE_MASTER"===t?this.trigger("loadedmetadata"):this.trigger("mediachange")}},{key:"pause",value:function(){this.stopRequest(),_.a.clearTimeout(this.mediaUpdateTimeout),_.a.clearTimeout(this.minimumUpdatePeriodTimeout_),"HAVE_NOTHING"===this.state&&(this.started=!1)}},{key:"load",value:function(e){var t=this;_.a.clearTimeout(this.mediaUpdateTimeout),_.a.clearTimeout(this.minimumUpdatePeriodTimeout_);var o=this.media();if(e){var n=o?o.targetDuration/2*1e3:5e3;this.mediaUpdateTimeout=_.a.setTimeout(function(){return t.load()},n)}else this.started?this.trigger("loadedplaylist"):this.start()}},{key:"parseMasterXml",value:function(){var i=Object(k.a)(this.masterXml_,{manifestUri:this.srcUrl,clientOffset:this.clientOffset_,sidxMapping:this.sidxMapping_});i.uri=this.srcUrl;for(var e=0;e<i.playlists.length;e++){var t="placeholder-uri-"+e;i.playlists[e].uri=t,i.playlists[t]=i.playlists[e]}return ui(i,function(e,t,o,n){if(e.playlists&&e.playlists.length){var r="placeholder-uri-"+t+"-"+o+"-"+n;e.playlists[0].uri=r,i.playlists[r]=e.playlists[0]}}),pi(i),hi(i),i}},{key:"start",value:function(){var o=this;this.started=!0,this.masterPlaylistLoader_?this.mediaRequest_=_.a.setTimeout(this.haveMaster_.bind(this),0):this.request=this.hls_.xhr({uri:this.srcUrl,withCredentials:this.withCredentials},function(e,t){if(o.request){if(o.request=null,e)return o.error={status:t.status,message:"DASH playlist request error at URL: "+o.srcUrl,responseText:t.responseText,code:2},"HAVE_NOTHING"===o.state&&(o.started=!1),o.trigger("error");o.masterXml_=t.responseText,t.responseHeaders&&t.responseHeaders.date?o.masterLoaded_=Date.parse(t.responseHeaders.date):o.masterLoaded_=Date.now(),o.srcUrl=ti(o.handleManifestRedirects,o.srcUrl,t),o.syncClientServerClock_(o.onClientServerClockSync_.bind(o))}})}},{key:"syncClientServerClock_",value:function(n){var r=this,i=Object(k.b)(this.masterXml_);return null===i?(this.clientOffset_=this.masterLoaded_-Date.now(),n()):"DIRECT"===i.method?(this.clientOffset_=i.value-Date.now(),n()):void(this.request=this.hls_.xhr({uri:ei(this.srcUrl,i.value),method:i.method,withCredentials:this.withCredentials},function(e,t){if(r.request){if(e)return r.clientOffset_=r.masterLoaded_-Date.now(),n();var o=void 0;o="HEAD"===i.method?t.responseHeaders&&t.responseHeaders.date?Date.parse(t.responseHeaders.date):r.masterLoaded_:Date.parse(t.responseText),r.clientOffset_=o-Date.now(),n()}}))}},{key:"haveMaster_",value:function(){this.state="HAVE_MASTER",this.mediaRequest_=null,this.masterPlaylistLoader_?this.media_||this.media(this.childPlaylist_):(this.master=this.parseMasterXml(),this.trigger("loadedplaylist"))}},{key:"onClientServerClockSync_",value:function(){var e=this;this.haveMaster_(),this.hasPendingRequest()||this.media_||this.media(this.master.playlists[0]),this.master&&this.master.minimumUpdatePeriod&&(this.minimumUpdatePeriodTimeout_=_.a.setTimeout(function(){e.trigger("minimumUpdatePeriod")},this.master.minimumUpdatePeriod))}},{key:"refreshXml_",value:function(){var s=this;this.request=this.hls_.xhr({uri:this.srcUrl,withCredentials:this.withCredentials},function(e,t){if(s.request){if(s.request=null,e)return s.error={status:t.status,message:"DASH playlist request error at URL: "+s.srcUrl,responseText:t.responseText,code:2},"HAVE_NOTHING"===s.state&&(s.started=!1),s.trigger("error");s.masterXml_=t.responseText,s.sidxMapping_=function(e,t,o,i){var n=Object(k.a)(e,{manifestUri:t,clientOffset:o}),a=Ba(n.playlists,i);return ui(n,function(e,t,o,n){if(e.playlists&&e.playlists.length){var r=e.playlists;a=Aa(a,Ba(r,i))}}),a}(s.masterXml_,s.srcUrl,s.clientOffset_,s.sidxMapping_);var o=s.parseMasterXml(),n=Oa(s.master,o),r=s.media().sidx;if(n)if(r){var i=wa(r);if(!s.sidxMapping_[i]){var a=s.media();s.request=Ia(a.sidx,a,s.hls_.xhr,{handleManifestRedirects:s.handleManifestRedirects},s.sidxRequestFinished_(a,o,s.state,function(e,t){if(!e||!t)throw new Error("failed to request sidx on minimumUpdatePeriod");s.sidxMapping_[i].sidx=t,s.minimumUpdatePeriodTimeout_=_.a.setTimeout(function(){s.trigger("minimumUpdatePeriod")},s.master.minimumUpdatePeriod),s.refreshMedia_(s.media().uri)}))}}else s.master=n;s.minimumUpdatePeriodTimeout_=_.a.setTimeout(function(){s.trigger("minimumUpdatePeriod")},s.master.minimumUpdatePeriod)}})}},{key:"refreshMedia_",value:function(e){var t=this;if(!e)throw new Error("refreshMedia_ must take a media uri");var o=void 0,n=void 0;n=this.masterPlaylistLoader_?(o=this.masterPlaylistLoader_.master,this.masterPlaylistLoader_.parseMasterXml()):(o=this.master,this.parseMasterXml());var r=Oa(o,n);r?(this.masterPlaylistLoader_?this.masterPlaylistLoader_.master=r:this.master=r,this.media_=r.playlists[e]):(this.media_=n.playlists[e],this.trigger("playlistunchanged")),this.media().endList||(this.mediaUpdateTimeout=_.a.setTimeout(function(){t.trigger("mediaupdatetimeout")},gi(this.media(),!!r))),this.trigger("loadedplaylist")}}]),c}(),Na=function(e){return Qr.log.debug?Qr.log.debug.bind(Qr,"VHS:",e+" >"):function(){}};function Pa(){}var La=function(){function r(e,t,o,n){oi(this,r),this.callbacks_=[],this.pendingCallback_=null,this.timestampOffset_=0,this.mediaSource=e,this.processedAppend_=!1,this.type_=o,this.mimeType_=t,this.logger_=Na("SourceUpdater["+o+"]["+t+"]"),"closed"===e.readyState?e.addEventListener("sourceopen",this.createSourceBuffer_.bind(this,t,n)):this.createSourceBuffer_(t,n)}return ni(r,[{key:"createSourceBuffer_",value:function(e,t){var o=this;this.sourceBuffer_=this.mediaSource.addSourceBuffer(e),this.logger_("created SourceBuffer"),t&&(t.trigger("sourcebufferadded"),this.mediaSource.sourceBuffers.length<2)?t.on("sourcebufferadded",function(){o.start_()}):this.start_()}},{key:"start_",value:function(){var t=this;this.started_=!0,this.onUpdateendCallback_=function(){var e=t.pendingCallback_;t.pendingCallback_=null,t.sourceBuffer_.removing=!1,t.logger_("buffered ["+Yi(t.buffered())+"]"),e&&e(),t.runCallback_()},this.sourceBuffer_.addEventListener("updateend",this.onUpdateendCallback_),this.runCallback_()}},{key:"abort",value:function(e){var t=this;this.processedAppend_&&this.queueCallback_(function(){t.sourceBuffer_.abort()},e)}},{key:"appendBuffer",value:function(e,t){var o=this;this.processedAppend_=!0,this.queueCallback_(function(){e.videoSegmentTimingInfoCallback&&o.sourceBuffer_.addEventListener("videoSegmentTimingInfo",e.videoSegmentTimingInfoCallback),o.sourceBuffer_.appendBuffer(e.bytes)},function(){e.videoSegmentTimingInfoCallback&&o.sourceBuffer_.removeEventListener("videoSegmentTimingInfo",e.videoSegmentTimingInfoCallback),t()})}},{key:"buffered",value:function(){return this.sourceBuffer_?this.sourceBuffer_.buffered:Qr.createTimeRanges()}},{key:"remove",value:function(e,t){var o=this,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:Pa;this.processedAppend_&&this.queueCallback_(function(){o.logger_("remove ["+e+" => "+t+"]"),o.sourceBuffer_.removing=!0,o.sourceBuffer_.remove(e,t)},n)}},{key:"updating",value:function(){return!this.sourceBuffer_||this.sourceBuffer_.updating||!!this.pendingCallback_&&this.pendingCallback_!==Pa}},{key:"timestampOffset",value:function(e){var t=this;return void 0!==e&&(this.queueCallback_(function(){t.sourceBuffer_.timestampOffset=e,t.runCallback_()}),this.timestampOffset_=e),this.timestampOffset_}},{key:"queueCallback_",value:function(e,t){this.callbacks_.push([e.bind(this),t]),this.runCallback_()}},{key:"runCallback_",value:function(){var e=void 0;!this.updating()&&this.callbacks_.length&&this.started_&&(e=this.callbacks_.shift(),this.pendingCallback_=e[1],e[0]())}},{key:"dispose",value:function(){var t=this,e=function e(){t.sourceBuffer_&&"open"===t.mediaSource.readyState&&t.sourceBuffer_.abort(),t.sourceBuffer_.removeEventListener("updateend",e)};this.sourceBuffer_.removeEventListener("updateend",this.onUpdateendCallback_),this.sourceBuffer_.removing?this.sourceBuffer_.addEventListener("updateend",e):e()}}]),r}(),xa={GOAL_BUFFER_LENGTH:30,MAX_GOAL_BUFFER_LENGTH:60,GOAL_BUFFER_LENGTH_RATE:1,INITIAL_BANDWIDTH:4194304,BANDWIDTH_VARIANCE:1.2,BUFFER_LOW_WATER_LINE:0,MAX_BUFFER_LOW_WATER_LINE:30,BUFFER_LOW_WATER_LINE_RATE:1},Da=2,Ma=-101,Ua=-102,Fa=function(e){e.forEach(function(e){e.abort()})},Ha=function(e,t){return t.timedout?{status:t.status,message:"HLS request timed-out at URL: "+t.uri,code:Ma,xhr:t}:t.aborted?{status:t.status,message:"HLS request aborted at URL: "+t.uri,code:Ua,xhr:t}:e?{status:t.status,message:"HLS request errored at URL: "+t.uri,code:Da,xhr:t}:null},ja=function(o,n,r){var i=0,a=!1;return function(e,t){if(!a)return e?(a=!0,Fa(o),r(e,t)):(i+=1)===o.length?(t.endOfAllRequests=Date.now(),t.encryptedBytes?function(n,r,i){n.addEventListener("message",function e(t){if(t.data.source===r.requestId){n.removeEventListener("message",e);var o=t.data.decrypted;return r.bytes=new Uint8Array(o.bytes,o.byteOffset,o.byteLength),i(null,r)}});var e=void 0;e=r.key.bytes.slice?r.key.bytes.slice():new Uint32Array(Array.prototype.slice.call(r.key.bytes)),n.postMessage(Ui({source:r.requestId,encrypted:r.encryptedBytes,key:e,iv:r.key.iv}),[r.encryptedBytes.buffer,e.buffer])}(n,t,r):r(null,t)):void 0}},Ga=function(t,o){return function(e){return t.stats=Qr.mergeOptions(t.stats,function(e){var t=e.target,o={bandwidth:1/0,bytesReceived:0,roundTripTime:Date.now()-t.requestTime||0};return o.bytesReceived=e.loaded,o.bandwidth=Math.floor(o.bytesReceived/o.roundTripTime*8*1e3),o}(e)),!t.stats.firstBytesReceivedAt&&t.stats.bytesReceived&&(t.stats.firstBytesReceivedAt=Date.now()),o(e,t)}},Va=function(e,t,o,n,r,i,a){var s=[],l=ja(s,o,a);if(r.key&&!r.key.bytes){var c=e(Qr.mergeOptions(t,{uri:r.key.resolvedUri,responseType:"arraybuffer"}),function(i,a){return function(e,t){var o=t.response,n=Ha(e,t);if(n)return a(n,i);if(16!==o.byteLength)return a({status:t.status,message:"Invalid HLS key at URL: "+t.uri,code:Da,xhr:t},i);var r=new DataView(o);return i.key.bytes=new Uint32Array([r.getUint32(0),r.getUint32(4),r.getUint32(8),r.getUint32(12)]),a(null,i)}}(r,l));s.push(c)}if(r.map&&!r.map.bytes){var u=e(Qr.mergeOptions(t,{uri:r.map.resolvedUri,responseType:"arraybuffer",headers:xi(r.map)}),function(r,i,a){return function(e,t){var o=t.response,n=Ha(e,t);return n?a(n,r):0===o.byteLength?a({status:t.status,message:"Empty HLS segment content at URL: "+t.uri,code:Da,xhr:t},r):(r.map.bytes=new Uint8Array(t.response),i&&!i.isInitialized()&&i.init(),r.map.timescales=w.a.timescale(r.map.bytes),r.map.videoTrackIds=w.a.videoTrackIds(r.map.bytes),a(null,r))}}(r,n,l));s.push(u)}var d=e(Qr.mergeOptions(t,{uri:r.resolvedUri,responseType:"arraybuffer",headers:xi(r)}),function(i,a,s){return function(e,t){var o=t.response,n=Ha(e,t),r=void 0;return n?s(n,i):0===o.byteLength?s({status:t.status,message:"Empty HLS segment content at URL: "+t.uri,code:Da,xhr:t},i):(i.stats=function(e){return{bandwidth:e.bandwidth,bytesReceived:e.bytesReceived||0,roundTripTime:e.roundTripTime||0}}(t),i.key?i.encryptedBytes=new Uint8Array(t.response):i.bytes=new Uint8Array(t.response),a&&i.map&&i.map.bytes&&(a.isInitialized()||a.init(),(r=a.parse(i.bytes,i.map.videoTrackIds,i.map.timescales))&&r.captions&&(i.captionStreams=r.captionStreams,i.fmp4Captions=r.captions)),s(null,i))}}(r,n,l));return d.addEventListener("progress",Ga(r,i)),s.push(d),function(){return Fa(s)}},Wa=function(e,t){var o;return e&&(o=_.a.getComputedStyle(e))?o[t]:""},za=function(e,n){var r=e.slice();e.sort(function(e,t){var o=n(e,t);return 0===o?r.indexOf(e)-r.indexOf(t):o})},qa=function(e,t){var o=void 0,n=void 0;return e.attributes.BANDWIDTH&&(o=e.attributes.BANDWIDTH),o=o||_.a.Number.MAX_VALUE,t.attributes.BANDWIDTH&&(n=t.attributes.BANDWIDTH),o-(n=n||_.a.Number.MAX_VALUE)},Ka=function(e){return"number"==typeof e&&isFinite(e)},Ya=function(e){function o(e){oi(this,o);var t=ii(this,(o.__proto__||Object.getPrototypeOf(o)).call(this));if(!e)throw new TypeError("Initialization settings are required");if("function"!=typeof e.currentTime)throw new TypeError("No currentTime getter specified");if(!e.mediaSource)throw new TypeError("No MediaSource specified");return t.bandwidth=e.bandwidth,t.throughput={rate:0,count:0},t.roundTrip=NaN,t.resetStats_(),t.mediaIndex=null,t.hasPlayed_=e.hasPlayed,t.currentTime_=e.currentTime,t.seekable_=e.seekable,t.seeking_=e.seeking,t.duration_=e.duration,t.mediaSource_=e.mediaSource,t.hls_=e.hls,t.loaderType_=e.loaderType,t.startingMedia_=void 0,t.segmentMetadataTrack_=e.segmentMetadataTrack,t.goalBufferLength_=e.goalBufferLength,t.sourceType_=e.sourceType,t.inbandTextTracks_=e.inbandTextTracks,t.state_="INIT",t.checkBufferTimeout_=null,t.error_=void 0,t.currentTimeline_=-1,t.pendingSegment_=null,t.mimeType_=null,t.sourceUpdater_=null,t.xhrOptions_=null,t.activeInitSegmentId_=null,t.initSegments_={},t.cacheEncryptionKeys_=e.cacheEncryptionKeys,t.keyCache_={},"main"===t.loaderType_?t.captionParser_=new I.a:t.captionParser_=null,t.decrypter_=e.decrypter,t.syncController_=e.syncController,t.syncPoint_={segmentIndex:0,time:0},t.syncController_.on("syncinfoupdate",function(){return t.trigger("syncinfoupdate")}),t.mediaSource_.addEventListener("sourceopen",function(){return t.ended_=!1}),t.fetchAtBuffer_=!1,t.logger_=Na("SegmentLoader["+t.loaderType_+"]"),Object.defineProperty(t,"state",{get:function(){return this.state_},set:function(e){e!==this.state_&&(this.logger_(this.state_+" -> "+e),this.state_=e)}}),t}return ri(o,Qr.EventTarget),ni(o,[{key:"resetStats_",value:function(){this.mediaBytesTransferred=0,this.mediaRequests=0,this.mediaRequestsAborted=0,this.mediaRequestsTimedout=0,this.mediaRequestsErrored=0,this.mediaTransferDuration=0,this.mediaSecondsLoaded=0}},{key:"dispose",value:function(){this.state="DISPOSED",this.pause(),this.abort_(),this.sourceUpdater_&&this.sourceUpdater_.dispose(),this.resetStats_(),this.captionParser_&&this.captionParser_.reset()}},{key:"abort",value:function(){"WAITING"===this.state?(this.abort_(),this.state="READY",this.paused()||this.monitorBuffer_()):this.pendingSegment_&&(this.pendingSegment_=null)}},{key:"abort_",value:function(){this.pendingSegment_&&this.pendingSegment_.abortRequests(),this.pendingSegment_=null}},{key:"error",value:function(e){return void 0!==e&&(this.error_=e),this.pendingSegment_=null,this.error_}},{key:"endOfStream",value:function(){this.ended_=!0,this.pause(),this.trigger("ended")}},{key:"buffered_",value:function(){return this.sourceUpdater_?this.sourceUpdater_.buffered():Qr.createTimeRanges()}},{key:"initSegment",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1];if(!e)return null;var o=Fi(e),n=this.initSegments_[o];return t&&!n&&e.bytes&&(this.initSegments_[o]=n={resolvedUri:e.resolvedUri,byterange:e.byterange,bytes:e.bytes,timescales:e.timescales,videoTrackIds:e.videoTrackIds}),n||e}},{key:"segmentKey",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1];if(!e)return null;var o=Hi(e),n=this.keyCache_[o];this.cacheEncryptionKeys_&&t&&!n&&e.bytes&&(this.keyCache_[o]=n={resolvedUri:e.resolvedUri,bytes:e.bytes});var r={resolvedUri:(n||e).resolvedUri};return n&&(r.bytes=n.bytes),r}},{key:"couldBeginLoading_",value:function(){return this.playlist_&&(this.sourceUpdater_||this.mimeType_&&"INIT"===this.state)&&!this.paused()}},{key:"load",value:function(){if(this.monitorBuffer_(),this.playlist_){if(this.syncController_.setDateTimeMapping(this.playlist_),"INIT"===this.state&&this.couldBeginLoading_())return this.init_();!this.couldBeginLoading_()||"READY"!==this.state&&"INIT"!==this.state||(this.state="READY")}}},{key:"init_",value:function(){return this.state="READY",this.sourceUpdater_=new La(this.mediaSource_,this.mimeType_,this.loaderType_,this.sourceBufferEmitter_),this.resetEverything(),this.monitorBuffer_()}},{key:"playlist",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(e){var o=this.playlist_,n=this.pendingSegment_;this.playlist_=e,this.xhrOptions_=t,this.hasPlayed_()||(e.syncInfo={mediaSequence:e.mediaSequence,time:0});var r=null;if(o&&(o.id?r=o.id:o.uri&&(r=o.uri)),this.logger_("playlist update ["+r+" => "+(e.id||e.uri)+"]"),this.trigger("syncinfoupdate"),"INIT"===this.state&&this.couldBeginLoading_())return this.init_();if(o&&o.uri===e.uri){var i=e.mediaSequence-o.mediaSequence;this.logger_("live window shift ["+i+"]"),null!==this.mediaIndex&&(this.mediaIndex-=i),n&&(n.mediaIndex-=i,0<=n.mediaIndex&&(n.segment=e.segments[n.mediaIndex])),this.syncController_.saveExpiredSegmentInfo(o,e)}else null!==this.mediaIndex&&this.resyncLoader()}}},{key:"pause",value:function(){this.checkBufferTimeout_&&(_.a.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=null)}},{key:"paused",value:function(){return null===this.checkBufferTimeout_}},{key:"mimeType",value:function(e,t){this.mimeType_||(this.mimeType_=e,this.sourceBufferEmitter_=t,"INIT"===this.state&&this.couldBeginLoading_()&&this.init_())}},{key:"resetEverything",value:function(e){this.ended_=!1,this.resetLoader(),this.remove(0,this.duration_(),e),this.captionParser_&&this.captionParser_.clearAllCaptions(),this.trigger("reseteverything")}},{key:"resetLoader",value:function(){this.fetchAtBuffer_=!1,this.resyncLoader()}},{key:"resyncLoader",value:function(){this.mediaIndex=null,this.syncPoint_=null,this.abort()}},{key:"remove",value:function(e,t,o){if(this.sourceUpdater_&&this.sourceUpdater_.remove(e,t,o),Ji(e,t,this.segmentMetadataTrack_),this.inbandTextTracks_)for(var n in this.inbandTextTracks_)Ji(e,t,this.inbandTextTracks_[n])}},{key:"monitorBuffer_",value:function(){this.checkBufferTimeout_&&_.a.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=_.a.setTimeout(this.monitorBufferTick_.bind(this),1)}},{key:"monitorBufferTick_",value:function(){"READY"===this.state&&this.fillBuffer_(),this.checkBufferTimeout_&&_.a.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=_.a.setTimeout(this.monitorBufferTick_.bind(this),500)}},{key:"fillBuffer_",value:function(){if(!this.sourceUpdater_.updating()){this.syncPoint_||(this.syncPoint_=this.syncController_.getSyncPoint(this.playlist_,this.duration_(),this.currentTimeline_,this.currentTime_()));var e=this.checkBuffer_(this.buffered_(),this.playlist_,this.mediaIndex,this.hasPlayed_(),this.currentTime_(),this.syncPoint_);e&&(this.isEndOfStream_(e.mediaIndex)?this.endOfStream():(e.mediaIndex!==this.playlist_.segments.length-1||"ended"!==this.mediaSource_.readyState||this.seeking_())&&(e.timeline!==this.currentTimeline_&&(this.syncController_.reset(),e.timestampOffset=e.startOfSegment,this.captionParser_&&this.captionParser_.clearAllCaptions()),this.loadSegment_(e)))}}},{key:"isEndOfStream_",value:function(e){return function(e,t,o){if(!e||!t)return!1;var n=o===e.segments.length;return e.endList&&"open"===t.readyState&&n}(1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.playlist_,this.mediaSource_,e)&&!this.sourceUpdater_.updating()}},{key:"checkBuffer_",value:function(e,t,o,n,r,i){var a=0,s=void 0;e.length&&(a=e.end(e.length-1));var l=Math.max(0,a-r);if(!t.segments.length)return null;if(l>=this.goalBufferLength_())return null;if(!n&&1<=l)return null;if(null===i)return o=this.getSyncSegmentCandidate_(t),this.generateSegmentInfo_(t,o,null,!0);if(null!==o){t.segments[o];return s=a,this.generateSegmentInfo_(t,o+1,s,!1)}if(this.fetchAtBuffer_){var c=Ri.getMediaInfoForTime(t,a,i.segmentIndex,i.time);o=c.mediaIndex,s=c.startTime}else{var u=Ri.getMediaInfoForTime(t,r,i.segmentIndex,i.time);o=u.mediaIndex,s=u.startTime}return this.generateSegmentInfo_(t,o,s,!1)}},{key:"getSyncSegmentCandidate_",value:function(e){var t=this;if(-1===this.currentTimeline_)return 0;var o=e.segments.map(function(e,t){return{timeline:e.timeline,segmentIndex:t}}).filter(function(e){return e.timeline===t.currentTimeline_});return o.length?o[Math.min(o.length-1,1)].segmentIndex:Math.max(e.segments.length-1,0)}},{key:"generateSegmentInfo_",value:function(e,t,o,n){if(t<0||t>=e.segments.length)return null;var r=e.segments[t];return{requestId:"segment-loader-"+Math.random(),uri:r.resolvedUri,mediaIndex:t,isSyncRequest:n,startOfSegment:o,playlist:e,bytes:null,encryptedBytes:null,timestampOffset:null,timeline:r.timeline,duration:r.duration,segment:r}}},{key:"abortRequestEarly_",value:function(e){if(this.hls_.tech_.paused()||!this.xhrOptions_.timeout||!this.playlist_.attributes.BANDWIDTH)return!1;if(Date.now()-(e.firstBytesReceivedAt||Date.now())<1e3)return!1;var t=this.currentTime_(),o=e.bandwidth,n=this.pendingSegment_.duration,r=Ri.estimateSegmentRequestTime(n,o,this.playlist_,e.bytesReceived),i=function(e,t){var o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1;return((e.length?e.end(e.length-1):0)-t)/o}(this.buffered_(),t,this.hls_.tech_.playbackRate())-1;if(r<=i)return!1;var a=function(e){var t=e.master,o=e.currentTime,n=e.bandwidth,r=e.duration,i=e.segmentDuration,a=e.timeUntilRebuffer,s=e.currentTimeline,l=e.syncController,c=t.playlists.filter(function(e){return!Ri.isIncompatible(e)}),u=c.filter(Ri.isEnabled);u.length||(u=c.filter(function(e){return!Ri.isDisabled(e)}));var d=u.filter(Ri.hasAttribute.bind(null,"BANDWIDTH")).map(function(e){var t=l.getSyncPoint(e,r,s,o)?1:2;return{playlist:e,rebufferingImpact:Ri.estimateSegmentRequestTime(i,n,e)*t-a}}),p=d.filter(function(e){return e.rebufferingImpact<=0});return za(p,function(e,t){return qa(t.playlist,e.playlist)}),p.length?p[0]:(za(d,function(e,t){return e.rebufferingImpact-t.rebufferingImpact}),d[0]||null)}({master:this.hls_.playlists.master,currentTime:t,bandwidth:o,duration:this.duration_(),segmentDuration:n,timeUntilRebuffer:i,currentTimeline:this.currentTimeline_,syncController:this.syncController_});if(a){var s=r-i-a.rebufferingImpact,l=.5;return i<=1/30&&(l=1),!a.playlist||a.playlist.uri===this.playlist_.uri||s<l?!1:(this.bandwidth=a.playlist.attributes.BANDWIDTH*xa.BANDWIDTH_VARIANCE+1,this.abort(),this.trigger("earlyabort"),!0)}}},{key:"handleProgress_",value:function(e,t){this.pendingSegment_&&t.requestId===this.pendingSegment_.requestId&&!this.abortRequestEarly_(t.stats)&&this.trigger("progress")}},{key:"loadSegment_",value:function(e){this.state="WAITING",this.pendingSegment_=e,this.trimBackBuffer_(e),e.abortRequests=Va(this.hls_.xhr,this.xhrOptions_,this.decrypter_,this.captionParser_,this.createSimplifiedSegmentObj_(e),this.handleProgress_.bind(this),this.segmentRequestFinished_.bind(this))}},{key:"trimBackBuffer_",value:function(e){var t=function(e,t,o){var n=void 0;return n=e.length&&0<e.start(0)&&e.start(0)<t?e.start(0):t-30,Math.min(n,t-o)}(this.seekable_(),this.currentTime_(),this.playlist_.targetDuration||10);0<t&&this.remove(0,t)}},{key:"createSimplifiedSegmentObj_",value:function(e){var t=e.segment,o={resolvedUri:t.resolvedUri,byterange:t.byterange,requestId:e.requestId};if(t.key){var n=t.key.iv||new Uint32Array([0,0,0,e.mediaIndex+e.playlist.mediaSequence]);o.key=this.segmentKey(t.key),o.key.iv=n}return t.map&&(o.map=this.initSegment(t.map)),o}},{key:"segmentRequestFinished_",value:function(e,t){if(this.mediaRequests+=1,t.stats&&(this.mediaBytesTransferred+=t.stats.bytesReceived,this.mediaTransferDuration+=t.stats.roundTripTime),this.pendingSegment_){if(t.requestId===this.pendingSegment_.requestId){if(e)return this.pendingSegment_=null,this.state="READY",e.code===Ua?void(this.mediaRequestsAborted+=1):(this.pause(),e.code===Ma?(this.mediaRequestsTimedout+=1,this.bandwidth=1,this.roundTrip=NaN,void this.trigger("bandwidthupdate")):(this.mediaRequestsErrored+=1,this.error(e),void this.trigger("error")));this.bandwidth=t.stats.bandwidth,this.roundTrip=t.stats.roundTripTime,t.map&&(t.map=this.initSegment(t.map,!0)),t.key&&this.segmentKey(t.key,!0),this.processSegmentResponse_(t)}}else this.mediaRequestsAborted+=1}},{key:"processSegmentResponse_",value:function(e){var t=this.pendingSegment_;t.bytes=e.bytes,e.map&&(t.segment.map.bytes=e.map.bytes),t.endOfAllRequests=e.endOfAllRequests,e.fmp4Captions&&(function(e,t,o){for(var n in o)if(!e[n]){t.trigger({type:"usage",name:"hls-608"});var r=t.textTracks().getTrackById(n);e[n]=r||t.addRemoteTextTrack({kind:"captions",id:n,label:n},!1).track}}(this.inbandTextTracks_,this.hls_.tech_,e.captionStreams),function(e){var r=e.inbandTextTracks,t=e.captionArray,i=e.timestampOffset;if(t){var a=window.WebKitDataCue||window.VTTCue;t.forEach(function(e){var t=e.stream,o=e.startTime,n=e.endTime;r[t]&&(o+=i,n+=i,r[t].addCue(new a(o,n,e.text)))})}}({inbandTextTracks:this.inbandTextTracks_,captionArray:e.fmp4Captions,timestampOffset:0}),this.captionParser_&&this.captionParser_.clearParsedCaptions()),this.handleSegment_()}},{key:"handleSegment_",value:function(){var e=this;if(this.pendingSegment_){var t=this.pendingSegment_,o=t.segment,n=this.syncController_.probeSegmentInfo(t);void 0===this.startingMedia_&&n&&(n.containsAudio||n.containsVideo)&&(this.startingMedia_={containsAudio:n.containsAudio,containsVideo:n.containsVideo});var r=function(e,t,o){return"main"===e&&t&&o?o.containsAudio||o.containsVideo?t.containsVideo&&!o.containsVideo?"Only audio found in segment when we expected video. We can't switch to audio only from a stream that had video. To get rid of this message, please add codec information to the manifest.":!t.containsVideo&&o.containsVideo?"Video found in segment when we expected only audio. We can't switch to a stream with video from an audio only stream. To get rid of this message, please add codec information to the manifest.":null:"Neither audio nor video found in segment.":null}(this.loaderType_,this.startingMedia_,n);if(r)return this.error({message:r,blacklistDuration:1/0}),void this.trigger("error");if(t.isSyncRequest)return this.trigger("syncinfoupdate"),this.pendingSegment_=null,void(this.state="READY");if(null!==t.timestampOffset&&t.timestampOffset!==this.sourceUpdater_.timestampOffset()){if(n&&n.segmentTimestampInfo){var i=n.segmentTimestampInfo[0].ptsTime,a=n.segmentTimestampInfo[0].dtsTime;t.timestampOffset-=i-a}this.sourceUpdater_.timestampOffset(t.timestampOffset),this.trigger("timestampoffset")}var s=this.syncController_.mappingForTimeline(t.timeline);if(null!==s&&this.trigger({type:"segmenttimemapping",mapping:s}),this.state="APPENDING",o.map){var l=Fi(o.map);if(!this.activeInitSegmentId_||this.activeInitSegmentId_!==l){var c=this.initSegment(o.map);this.sourceUpdater_.appendBuffer({bytes:c.bytes},function(){e.activeInitSegmentId_=l})}}t.byteLength=t.bytes.byteLength,"number"==typeof o.start&&"number"==typeof o.end?this.mediaSecondsLoaded+=o.end-o.start:this.mediaSecondsLoaded+=o.duration,this.logger_(function(e){var t=e.segment,o=t.start,n=t.end,r=e.playlist,i=r.mediaSequence,a=r.id,s=r.segments,l=void 0===s?[]:s,c=e.mediaIndex,u=e.timeline;return["appending ["+c+"] of ["+i+", "+(i+l.length)+"] from playlist ["+a+"]","["+o+" => "+n+"] in timeline ["+u+"]"].join(" ")}(t)),this.sourceUpdater_.appendBuffer({bytes:t.bytes,videoSegmentTimingInfoCallback:this.handleVideoSegmentTimingInfo_.bind(this,t.requestId)},this.handleUpdateEnd_.bind(this))}else this.state="READY"}},{key:"handleVideoSegmentTimingInfo_",value:function(e,t){if(this.pendingSegment_&&e===this.pendingSegment_.requestId){var o=this.pendingSegment_.segment;o.videoTimingInfo||(o.videoTimingInfo={}),o.videoTimingInfo.transmuxerPrependedSeconds=t.videoSegmentTimingInfo.prependedContentDuration||0,o.videoTimingInfo.transmuxedPresentationStart=t.videoSegmentTimingInfo.start.presentation,o.videoTimingInfo.transmuxedPresentationEnd=t.videoSegmentTimingInfo.end.presentation,o.videoTimingInfo.baseMediaDecodeTime=t.videoSegmentTimingInfo.baseMediaDecodeTime}}},{key:"handleUpdateEnd_",value:function(){if(!this.pendingSegment_)return this.state="READY",void(this.paused()||this.monitorBuffer_());var e=this.pendingSegment_,t=e.segment,o=null!==this.mediaIndex;this.pendingSegment_=null,this.recordThroughput_(e),this.addSegmentMetadataCue_(e),this.state="READY",this.mediaIndex=e.mediaIndex,this.fetchAtBuffer_=!0,this.currentTimeline_=e.timeline,this.trigger("syncinfoupdate"),t.end&&this.currentTime_()-t.end>3*e.playlist.targetDuration?this.resetEverything():(o&&this.trigger("bandwidthupdate"),this.trigger("progress"),this.isEndOfStream_(e.mediaIndex+1,e.playlist)&&this.endOfStream(),this.paused()||this.monitorBuffer_())}},{key:"recordThroughput_",value:function(e){var t=this.throughput.rate,o=Date.now()-e.endOfAllRequests+1,n=Math.floor(e.byteLength/o*8*1e3);this.throughput.rate+=(n-t)/++this.throughput.count}},{key:"addSegmentMetadataCue_",value:function(e){if(this.segmentMetadataTrack_){var t=e.segment,o=t.start,n=t.end;if(Ka(o)&&Ka(n)){Ji(o,n,this.segmentMetadataTrack_);var r=_.a.WebKitDataCue||_.a.VTTCue,i={custom:t.custom,dateTimeObject:t.dateTimeObject,dateTimeString:t.dateTimeString,bandwidth:e.playlist.attributes.BANDWIDTH,resolution:e.playlist.attributes.RESOLUTION,codecs:e.playlist.attributes.CODECS,byteLength:e.byteLength,uri:e.uri,timeline:e.timeline,playlist:e.playlist.uri,start:o,end:n},a=new r(o,n,JSON.stringify(i));a.value=i,this.segmentMetadataTrack_.addCue(a)}}}}]),o}(),Xa=function(e){return decodeURIComponent(escape(String.fromCharCode.apply(null,e)))},Ja=new Uint8Array("\n\n".split("").map(function(e){return e.charCodeAt(0)})),Qa=function(e){function n(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};oi(this,n);var o=ii(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e,t));return o.mediaSource_=null,o.subtitlesTrack_=null,o}return ri(n,Ya),ni(n,[{key:"buffered_",value:function(){if(!this.subtitlesTrack_||!this.subtitlesTrack_.cues.length)return Qr.createTimeRanges();var e=this.subtitlesTrack_.cues,t=e[0].startTime,o=e[e.length-1].startTime;return Qr.createTimeRanges([[t,o]])}},{key:"initSegment",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1];if(!e)return null;var o=Fi(e),n=this.initSegments_[o];if(t&&!n&&e.bytes){var r=Ja.byteLength+e.bytes.byteLength,i=new Uint8Array(r);i.set(e.bytes),i.set(Ja,e.bytes.byteLength),this.initSegments_[o]=n={resolvedUri:e.resolvedUri,byterange:e.byterange,bytes:i}}return n||e}},{key:"couldBeginLoading_",value:function(){return this.playlist_&&this.subtitlesTrack_&&!this.paused()}},{key:"init_",value:function(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()}},{key:"track",value:function(e){return void 0===e||(this.subtitlesTrack_=e,"INIT"===this.state&&this.couldBeginLoading_()&&this.init_()),this.subtitlesTrack_}},{key:"remove",value:function(e,t){Ji(e,t,this.subtitlesTrack_)}},{key:"fillBuffer_",value:function(){var e=this;this.syncPoint_||(this.syncPoint_=this.syncController_.getSyncPoint(this.playlist_,this.duration_(),this.currentTimeline_,this.currentTime_()));var t=this.checkBuffer_(this.buffered_(),this.playlist_,this.mediaIndex,this.hasPlayed_(),this.currentTime_(),this.syncPoint_);if(t=this.skipEmptySegments_(t)){if(null===this.syncController_.timestampOffsetForTimeline(t.timeline)){return this.syncController_.one("timestampoffset",function(){e.state="READY",e.paused()||e.monitorBuffer_()}),void(this.state="WAITING_ON_TIMELINE")}this.loadSegment_(t)}}},{key:"skipEmptySegments_",value:function(e){for(;e&&e.segment.empty;)e=this.generateSegmentInfo_(e.playlist,e.mediaIndex+1,e.startOfSegment+e.duration,e.isSyncRequest);return e}},{key:"handleSegment_",value:function(){var t=this;if(this.pendingSegment_&&this.subtitlesTrack_){this.state="APPENDING";var e=this.pendingSegment_,o=e.segment;if("function"!=typeof _.a.WebVTT&&this.subtitlesTrack_&&this.subtitlesTrack_.tech_){var n=void 0,r=function(){t.subtitlesTrack_.tech_.off("vttjsloaded",n),t.error({message:"Error loading vtt.js"}),t.state="READY",t.pause(),t.trigger("error")};return n=function(){t.subtitlesTrack_.tech_.off("vttjserror",r),t.handleSegment_()},this.state="WAITING_ON_VTTJS",this.subtitlesTrack_.tech_.one("vttjsloaded",n),void this.subtitlesTrack_.tech_.one("vttjserror",r)}o.requested=!0;try{this.parseVTTCues_(e)}catch(e){return this.error({message:e.message}),this.state="READY",this.pause(),this.trigger("error")}if(this.updateTimeMapping_(e,this.syncController_.timelines[e.timeline],this.playlist_),e.isSyncRequest)return this.trigger("syncinfoupdate"),this.pendingSegment_=null,void(this.state="READY");e.byteLength=e.bytes.byteLength,this.mediaSecondsLoaded+=o.duration,e.cues.length&&this.remove(e.cues[0].endTime,e.cues[e.cues.length-1].endTime),e.cues.forEach(function(e){t.subtitlesTrack_.addCue(e)}),this.handleUpdateEnd_()}else this.state="READY"}},{key:"parseVTTCues_",value:function(t){var e=void 0,o=!1;"function"==typeof _.a.TextDecoder?e=new _.a.TextDecoder("utf8"):(e=_.a.WebVTT.StringDecoder(),o=!0);var n=new _.a.WebVTT.Parser(_.a,_.a.vttjs,e);if(t.cues=[],t.timestampmap={MPEGTS:0,LOCAL:0},n.oncue=t.cues.push.bind(t.cues),n.ontimestampmap=function(e){return t.timestampmap=e},n.onparsingerror=function(e){Qr.log.warn("Error encountered when parsing cues: "+e.message)},t.segment.map){var r=t.segment.map.bytes;o&&(r=Xa(r)),n.parse(r)}var i=t.bytes;o&&(i=Xa(i)),n.parse(i),n.flush()}},{key:"updateTimeMapping_",value:function(e,t,o){var n=e.segment;if(t)if(e.cues.length){var r=e.timestampmap,i=r.MPEGTS/9e4-r.LOCAL+t.mapping;if(e.cues.forEach(function(e){e.startTime+=i,e.endTime+=i}),!o.syncInfo){var a=e.cues[0].startTime,s=e.cues[e.cues.length-1].startTime;o.syncInfo={mediaSequence:o.mediaSequence+e.mediaIndex,time:Math.min(a,s-n.duration)}}}else n.empty=!0}}]),n}(),$a=function(e,t){for(var o=e.cues,n=0;n<o.length;n++){var r=o[n];if(t>=r.adStartTime&&t<=r.adEndTime)return r}return null},Za=N.a.inspect,es=[{name:"VOD",run:function(e,t,o,n,r){if(o===1/0)return null;return{time:0,segmentIndex:0}}},{name:"ProgramDateTime",run:function(e,t,o,n,r){if(!e.datetimeToDisplayTime)return null;var i=t.segments||[],a=null,s=null;r=r||0;for(var l=0;l<i.length;l++){var c=i[l];if(c.dateTimeObject){var u=c.dateTimeObject.getTime()/1e3+e.datetimeToDisplayTime,d=Math.abs(r-u);if(null!==s&&(0===d||s<d))break;s=d,a={time:u,segmentIndex:l}}}return a}},{name:"Segment",run:function(e,t,o,n,r){var i=t.segments||[],a=null,s=null;r=r||0;for(var l=0;l<i.length;l++){var c=i[l];if(c.timeline===n&&void 0!==c.start){var u=Math.abs(r-c.start);if(null!==s&&s<u)break;(!a||null===s||u<=s)&&(s=u,a={time:c.start,segmentIndex:l})}}return a}},{name:"Discontinuity",run:function(e,t,o,n,r){var i=null;if(r=r||0,t.discontinuityStarts&&t.discontinuityStarts.length)for(var a=null,s=0;s<t.discontinuityStarts.length;s++){var l=t.discontinuityStarts[s],c=t.discontinuitySequence+s+1,u=e.discontinuities[c];if(u){var d=Math.abs(r-u.time);if(null!==a&&a<d)break;(!i||null===a||d<=a)&&(a=d,i={time:u.time,segmentIndex:l})}}return i}},{name:"Playlist",run:function(e,t,o,n,r){return t.syncInfo?{time:t.syncInfo.time,segmentIndex:t.syncInfo.mediaSequence-t.mediaSequence}:null}}],ts=function(e){function t(){oi(this,t);var e=ii(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.inspectCache_=void 0,e.timelines=[],e.discontinuities=[],e.datetimeToDisplayTime=null,e.logger_=Na("SyncController"),e}return ri(t,Qr.EventTarget),ni(t,[{key:"getSyncPoint",value:function(e,t,o,n){var r=this.runStrategies_(e,t,o,n);return r.length?this.selectSyncPoint_(r,{key:"time",value:n}):null}},{key:"getExpiredTime",value:function(e,t){if(!e||!e.segments)return null;var o=this.runStrategies_(e,t,e.discontinuitySequence,0);if(!o.length)return null;var n=this.selectSyncPoint_(o,{key:"segmentIndex",value:0});return 0<n.segmentIndex&&(n.time*=-1),Math.abs(n.time+vi(e,n.segmentIndex,0))}},{key:"runStrategies_",value:function(e,t,o,n){for(var r=[],i=0;i<es.length;i++){var a=es[i],s=a.run(this,e,t,o,n);s&&(s.strategy=a.name,r.push({strategy:a.name,syncPoint:s}))}return r}},{key:"selectSyncPoint_",value:function(e,t){for(var o=e[0].syncPoint,n=Math.abs(e[0].syncPoint[t.key]-t.value),r=e[0].strategy,i=1;i<e.length;i++){var a=Math.abs(e[i].syncPoint[t.key]-t.value);a<n&&(n=a,o=e[i].syncPoint,r=e[i].strategy)}return this.logger_("syncPoint for ["+t.key+": "+t.value+"] chosen with strategy ["+r+"]: [time:"+o.time+", segmentIndex:"+o.segmentIndex+"]"),o}},{key:"saveExpiredSegmentInfo",value:function(e,t){for(var o=t.mediaSequence-e.mediaSequence-1;0<=o;o--){var n=e.segments[o];if(n&&void 0!==n.start){t.syncInfo={mediaSequence:e.mediaSequence+o,time:n.start},this.logger_("playlist refresh sync: [time:"+t.syncInfo.time+", mediaSequence: "+t.syncInfo.mediaSequence+"]"),this.trigger("syncinfoupdate");break}}}},{key:"setDateTimeMapping",value:function(e){if(!this.datetimeToDisplayTime&&e.segments&&e.segments.length&&e.segments[0].dateTimeObject){var t=e.segments[0].dateTimeObject.getTime()/1e3;this.datetimeToDisplayTime=-t}}},{key:"reset",value:function(){this.inspectCache_=void 0}},{key:"probeSegmentInfo",value:function(e){var t=e.segment,o=e.playlist,n=void 0;return(n=t.map?this.probeMp4Segment_(e):this.probeTsSegment_(e))&&this.calculateSegmentTimeMapping_(e,n)&&(this.saveDiscontinuitySyncInfo_(e),o.syncInfo||(o.syncInfo={mediaSequence:o.mediaSequence+e.mediaIndex,time:t.start})),n}},{key:"probeMp4Segment_",value:function(e){var t=e.segment,o=w.a.timescale(t.map.bytes),n=w.a.startTime(o,e.bytes);return null!==e.timestampOffset&&(e.timestampOffset-=n),{start:n,end:n+t.duration}}},{key:"probeTsSegment_",value:function(e){var t=Za(e.bytes,this.inspectCache_),o=void 0,n=void 0,r=void 0;return t?(t.video&&2===t.video.length?(this.inspectCache_=t.video[1].dts,o=t.video[0].dtsTime,n=t.video[1].dtsTime,r=t.video):t.audio&&2===t.audio.length&&(this.inspectCache_=t.audio[1].dts,o=t.audio[0].dtsTime,n=t.audio[1].dtsTime,r=t.audio),{segmentTimestampInfo:r,start:o,end:n,containsVideo:t.video&&2===t.video.length,containsAudio:t.audio&&2===t.audio.length}):null}},{key:"timestampOffsetForTimeline",value:function(e){return void 0===this.timelines[e]?null:this.timelines[e].time}},{key:"mappingForTimeline",value:function(e){return void 0===this.timelines[e]?null:this.timelines[e].mapping}},{key:"calculateSegmentTimeMapping_",value:function(e,t){var o=e.segment,n=this.timelines[e.timeline];if(null!==e.timestampOffset)n={time:e.startOfSegment,mapping:e.startOfSegment-t.start},this.timelines[e.timeline]=n,this.trigger("timestampoffset"),this.logger_("time mapping for timeline "+e.timeline+": [time: "+n.time+"] [mapping: "+n.mapping+"]"),o.start=e.startOfSegment,o.end=t.end+n.mapping;else{if(!n)return!1;o.start=t.start+n.mapping,o.end=t.end+n.mapping}return!0}},{key:"saveDiscontinuitySyncInfo_",value:function(e){var t=e.playlist,o=e.segment;if(o.discontinuity)this.discontinuities[o.timeline]={time:o.start,accuracy:0};else if(t.discontinuityStarts&&t.discontinuityStarts.length)for(var n=0;n<t.discontinuityStarts.length;n++){var r=t.discontinuityStarts[n],i=t.discontinuitySequence+n+1,a=r-e.mediaIndex,s=Math.abs(a);if(!this.discontinuities[i]||this.discontinuities[i].accuracy>s){var l=void 0;l=a<0?o.start-vi(t,e.mediaIndex,r):o.end+vi(t,e.mediaIndex+1,r),this.discontinuities[i]={time:l,accuracy:s}}}}}]),t}(),os=new ia("./decrypter-worker.worker.js",function(e,t){var d,o,p,m,n,c,y,a,r=this;d=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},o=function(){function n(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,o){return t&&n(e.prototype,t),o&&n(e,o),e}}(),p=null,m=function(){function u(e){d(this,u),p||(p=function(){var e=[[[],[],[],[],[]],[[],[],[],[],[]]],t=e[0],o=e[1],n=t[4],r=o[4],i=void 0,a=void 0,s=void 0,l=[],c=[],u=void 0,d=void 0,p=void 0,h=void 0,g=void 0;for(i=0;i<256;i++)c[(l[i]=i<<1^283*(i>>7))^i]=i;for(a=s=0;!n[a];a^=u||1,s=c[s]||1)for(p=(p=s^s<<1^s<<2^s<<3^s<<4)>>8^255&p^99,g=16843009*l[d=l[u=l[r[n[a]=p]=a]]]^65537*d^257*u^16843008*a,h=257*l[p]^16843008*p,i=0;i<4;i++)t[i][a]=h=h<<24^h>>>8,o[i][p]=g=g<<24^g>>>8;for(i=0;i<5;i++)t[i]=t[i].slice(0),o[i]=o[i].slice(0);return e}()),this._tables=[[p[0][0].slice(),p[0][1].slice(),p[0][2].slice(),p[0][3].slice(),p[0][4].slice()],[p[1][0].slice(),p[1][1].slice(),p[1][2].slice(),p[1][3].slice(),p[1][4].slice()]];var t=void 0,o=void 0,n=void 0,r=void 0,i=void 0,a=this._tables[0][4],s=this._tables[1],l=e.length,c=1;if(4!==l&&6!==l&&8!==l)throw new Error("Invalid aes key size");for(r=e.slice(0),i=[],this._key=[r,i],t=l;t<4*l+28;t++)n=r[t-1],(t%l==0||8===l&&t%l==4)&&(n=a[n>>>24]<<24^a[n>>16&255]<<16^a[n>>8&255]<<8^a[255&n],t%l==0&&(n=n<<8^n>>>24^c<<24,c=c<<1^283*(c>>7))),r[t]=r[t-l]^n;for(o=0;t;o++,t--)n=r[3&o?t:t-4],i[o]=t<=4||o<4?n:s[0][a[n>>>24]]^s[1][a[n>>16&255]]^s[2][a[n>>8&255]]^s[3][a[255&n]]}return u.prototype.decrypt=function(e,t,o,n,r,i){var a=this._key[1],s=e^a[0],l=n^a[1],c=o^a[2],u=t^a[3],d=void 0,p=void 0,h=void 0,g=a.length/4-2,f=void 0,m=4,y=this._tables[1],_=y[0],v=y[1],b=y[2],E=y[3],T=y[4];for(f=0;f<g;f++)d=_[s>>>24]^v[l>>16&255]^b[c>>8&255]^E[255&u]^a[m],p=_[l>>>24]^v[c>>16&255]^b[u>>8&255]^E[255&s]^a[m+1],h=_[c>>>24]^v[u>>16&255]^b[s>>8&255]^E[255&l]^a[m+2],u=_[u>>>24]^v[s>>16&255]^b[l>>8&255]^E[255&c]^a[m+3],m+=4,s=d,l=p,c=h;for(f=0;f<4;f++)r[(3&-f)+i]=T[s>>>24]<<24^T[l>>16&255]<<16^T[c>>8&255]<<8^T[255&u]^a[m++],d=s,s=l,l=c,c=u,u=d},u}(),n=function(){function e(){d(this,e),this.listeners={}}return e.prototype.on=function(e,t){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t)},e.prototype.off=function(e,t){if(!this.listeners[e])return!1;var o=this.listeners[e].indexOf(t);return this.listeners[e].splice(o,1),-1<o},e.prototype.trigger=function(e){var t=this.listeners[e];if(t)if(2===arguments.length)for(var o=t.length,n=0;n<o;++n)t[n].call(this,arguments[1]);else for(var r=Array.prototype.slice.call(arguments,1),i=t.length,a=0;a<i;++a)t[a].apply(this,r)},e.prototype.dispose=function(){this.listeners={}},e.prototype.pipe=function(t){this.on("data",function(e){t.push(e)})},e}(),c=function(t){function o(){d(this,o);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,t.call(this,n));return e.jobs=[],e.delay=1,e.timeout_=null,e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(o,t),o.prototype.processJob_=function(){this.jobs.shift()(),this.jobs.length?this.timeout_=setTimeout(this.processJob_.bind(this),this.delay):this.timeout_=null},o.prototype.push=function(e){this.jobs.push(e),this.timeout_||(this.timeout_=setTimeout(this.processJob_.bind(this),this.delay))},o}(n),y=function(e){return e<<24|(65280&e)<<8|(16711680&e)>>8|e>>>24},a=function(){function l(e,t,o,n){d(this,l);var r=l.STEP,i=new Int32Array(e.buffer),a=new Uint8Array(e.byteLength),s=0;for(this.asyncStream_=new c,this.asyncStream_.push(this.decryptChunk_(i.subarray(s,s+r),t,o,a)),s=r;s<i.length;s+=r)o=new Uint32Array([y(i[s-4]),y(i[s-3]),y(i[s-2]),y(i[s-1])]),this.asyncStream_.push(this.decryptChunk_(i.subarray(s,s+r),t,o,a));this.asyncStream_.push(function(){n(null,function(e){return e.subarray(0,e.byteLength-e[e.byteLength-1])}(a))})}return l.prototype.decryptChunk_=function(t,o,n,r){return function(){var e=function(e,t,o){var n=new Int32Array(e.buffer,e.byteOffset,e.byteLength>>2),r=new m(Array.prototype.slice.call(t)),i=new Uint8Array(e.byteLength),a=new Int32Array(i.buffer),s=void 0,l=void 0,c=void 0,u=void 0,d=void 0,p=void 0,h=void 0,g=void 0,f=void 0;for(s=o[0],l=o[1],c=o[2],u=o[3],f=0;f<n.length;f+=4)d=y(n[f]),p=y(n[f+1]),h=y(n[f+2]),g=y(n[f+3]),r.decrypt(d,p,h,g,a,f),a[f]=y(a[f]^s),a[f+1]=y(a[f+1]^l),a[f+2]=y(a[f+2]^c),a[f+3]=y(a[f+3]^u),s=d,l=p,c=h,u=g;return i}(t,o,n);r.set(e,t.byteOffset)}},o(l,null,[{key:"STEP",get:function(){return 32e3}}]),l}(),new function(i){i.onmessage=function(e){var o=e.data,t=new Uint8Array(o.encrypted.bytes,o.encrypted.byteOffset,o.encrypted.byteLength),n=new Uint32Array(o.key.bytes,o.key.byteOffset,o.key.byteLength/4),r=new Uint32Array(o.iv.bytes,o.iv.byteOffset,o.iv.byteLength/4);new a(t,n,r,function(e,t){i.postMessage(function(o){var n={};return Object.keys(o).forEach(function(e){var t=o[e];ArrayBuffer.isView(t)?n[e]={bytes:t.buffer,byteOffset:t.byteOffset,byteLength:t.byteLength}:n[e]=t}),n}({source:o.source,decrypted:t}),[t.buffer])})}}(r)}),ns=function(e,t){e.abort(),e.pause(),t&&t.activePlaylistLoader&&(t.activePlaylistLoader.pause(),t.activePlaylistLoader=null)},rs=function(e,t){(t.activePlaylistLoader=e).load()},is={AUDIO:function(l,c){return function(){var e=c.segmentLoaders[l],t=c.mediaTypes[l],o=c.blacklistCurrentPlaylist;ns(e,t);var n=t.activeTrack(),r=t.activeGroup(),i=(r.filter(function(e){return e.default})[0]||r[0]).id,a=t.tracks[i];if(n!==a){for(var s in Qr.log.warn("Problem encountered loading the alternate audio track.Switching back to default."),t.tracks)t.tracks[s].enabled=t.tracks[s]===a;t.onTrackChanged()}else o({message:"Problem encountered loading the default audio track."})}},SUBTITLES:function(n,r){return function(){var e=r.segmentLoaders[n],t=r.mediaTypes[n];Qr.log.warn("Problem encountered loading the subtitle track.Disabling subtitle track."),ns(e,t);var o=t.activeTrack();o&&(o.mode="disabled"),t.onTrackChanged()}}},as={AUDIO:function(e,t,o){if(t){var n=o.tech,r=o.requestOptions,i=o.segmentLoaders[e];t.on("loadedmetadata",function(){var e=t.media();i.playlist(e,r),(!n.paused()||e.endList&&"none"!==n.preload())&&i.load()}),t.on("loadedplaylist",function(){i.playlist(t.media(),r),n.paused()||i.load()}),t.on("error",is[e](e,o))}},SUBTITLES:function(e,t,o){var n=o.tech,r=o.requestOptions,i=o.segmentLoaders[e],a=o.mediaTypes[e];t.on("loadedmetadata",function(){var e=t.media();i.playlist(e,r),i.track(a.activeTrack()),(!n.paused()||e.endList&&"none"!==n.preload())&&i.load()}),t.on("loadedplaylist",function(){i.playlist(t.media(),r),n.paused()||i.load()}),t.on("error",is[e](e,o))}},ss={AUDIO:function(e,t){var o,n,r=t.hls,i=t.sourceType,a=t.segmentLoaders[e],s=t.requestOptions,l=t.master.mediaGroups,c=t.mediaTypes[e],u=c.groups,d=c.tracks,p=t.masterPlaylistLoader;for(var h in l[e]&&0!==Object.keys(l[e]).length||(l[e]={main:{default:{default:!0}}}),l[e])for(var g in u[h]||(u[h]=[]),l[e][h]){var f=l[e][h][g],m=void 0;if(m=f.resolvedUri?new fi(f.resolvedUri,r,s):f.playlists&&"dash"===i?new Ra(f.playlists[0],r,s,p):null,f=Qr.mergeOptions({id:g,playlistLoader:m},f),as[e](e,f.playlistLoader,t),u[h].push(f),void 0===d[g]){var y=new Qr.AudioTrack({id:g,kind:(o=f,n=void 0,n=o.default?"main":"alternative",o.characteristics&&0<=o.characteristics.indexOf("public.accessibility.describes-video")&&(n="main-desc"),n),enabled:!1,language:f.language,default:f.default,label:g});d[g]=y}}a.on("error",is[e](e,t))},SUBTITLES:function(e,t){var o=t.tech,n=t.hls,r=t.sourceType,i=t.segmentLoaders[e],a=t.requestOptions,s=t.master.mediaGroups,l=t.mediaTypes[e],c=l.groups,u=l.tracks,d=t.masterPlaylistLoader;for(var p in s[e])for(var h in c[p]||(c[p]=[]),s[e][p])if(!s[e][p][h].forced){var g=s[e][p][h],f=void 0;if("hls"===r?f=new fi(g.resolvedUri,n,a):"dash"===r&&(f=new Ra(g.playlists[0],n,a,d)),g=Qr.mergeOptions({id:h,playlistLoader:f},g),as[e](e,g.playlistLoader,t),c[p].push(g),void 0===u[h]){var m=o.addRemoteTextTrack({id:h,kind:"subtitles",default:g.default&&g.autoselect,language:g.language,label:h},!1).track;u[h]=m}}i.on("error",is[e](e,t))},"CLOSED-CAPTIONS":function(e,t){var o=t.tech,n=t.master.mediaGroups,r=t.mediaTypes[e],i=r.groups,a=r.tracks;for(var s in n[e])for(var l in i[s]||(i[s]=[]),n[e][s]){var c=n[e][s][l];if(c.instreamId.match(/CC\d/)&&(i[s].push(Qr.mergeOptions({id:l},c)),void 0===a[l])){var u=o.addRemoteTextTrack({id:c.instreamId,kind:"captions",default:c.default&&c.autoselect,language:c.language,label:l},!1).track;a[l]=u}}}},ls={AUDIO:function(o,n){return function(){var e=n.mediaTypes[o].tracks;for(var t in e)if(e[t].enabled)return e[t];return null}},SUBTITLES:function(o,n){return function(){var e=n.mediaTypes[o].tracks;for(var t in e)if("showing"===e[t].mode)return e[t];return null}}},cs=function(t){["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(function(e){ss[e](e,t)});var o=t.mediaTypes,e=t.masterPlaylistLoader,n=t.tech,r=t.hls;["AUDIO","SUBTITLES"].forEach(function(e){o[e].activeGroup=function(i,a){return function(t){var e=a.masterPlaylistLoader,o=a.mediaTypes[i].groups,n=e.media();if(!n)return null;var r=null;return n.attributes[i]&&(r=o[n.attributes[i]]),r=r||o.main,void 0===t?r:null===t?null:r.filter(function(e){return e.id===t.id})[0]||null}}(e,t),o[e].activeTrack=ls[e](e,t),o[e].onGroupChanged=function(s,l){return function(){var e=l.segmentLoaders,t=e[s],o=e.main,n=l.mediaTypes[s],r=n.activeTrack(),i=n.activeGroup(r),a=n.activePlaylistLoader;ns(t,n),i&&(i.playlistLoader?(t.resyncLoader(),rs(i.playlistLoader,n)):a&&o.resetEverything())}}(e,t),o[e].onTrackChanged=function(s,l){return function(){var e=l.segmentLoaders,t=e[s],o=e.main,n=l.mediaTypes[s],r=n.activeTrack(),i=n.activeGroup(r),a=n.activePlaylistLoader;ns(t,n),i&&(i.playlistLoader?(a!==i.playlistLoader&&(t.track&&t.track(r),t.resetEverything()),rs(i.playlistLoader,n)):o.resetEverything())}}(e,t)});var i=o.AUDIO.activeGroup(),a=(i.filter(function(e){return e.default})[0]||i[0]).id;o.AUDIO.tracks[a].enabled=!0,o.AUDIO.onTrackChanged(),e.on("mediachange",function(){["AUDIO","SUBTITLES"].forEach(function(e){return o[e].onGroupChanged()})});var s=function(){o.AUDIO.onTrackChanged(),n.trigger({type:"usage",name:"hls-audio-change"})};for(var l in n.audioTracks().addEventListener("change",s),n.remoteTextTracks().addEventListener("change",o.SUBTITLES.onTrackChanged),r.on("dispose",function(){n.audioTracks().removeEventListener("change",s),n.remoteTextTracks().removeEventListener("change",o.SUBTITLES.onTrackChanged)}),n.clearTracks("audio"),o.AUDIO.tracks)n.audioTracks().addTrack(o.AUDIO.tracks[l])},us=void 0,ds=["mediaRequests","mediaRequestsAborted","mediaRequestsTimedout","mediaRequestsErrored","mediaTransferDuration","mediaBytesTransferred"],ps=function(e){function f(e){oi(this,f);var t=ii(this,(f.__proto__||Object.getPrototypeOf(f)).call(this)),o=e.url,n=e.handleManifestRedirects,r=e.withCredentials,i=e.tech,a=e.bandwidth,s=e.externHls,l=e.useCueTags,c=e.blacklistDuration,u=e.enableLowInitialPlaylist,d=e.sourceType,p=e.seekTo,h=e.cacheEncryptionKeys;if(!o)throw new Error("A non-empty playlist URL is required");us=s,t.withCredentials=r,t.tech_=i,t.hls_=i.hls,t.seekTo_=p,t.sourceType_=d,t.useCueTags_=l,t.blacklistDuration=c,t.enableLowInitialPlaylist=u,t.useCueTags_&&(t.cueTagsTrack_=t.tech_.addTextTrack("metadata","ad-cues"),t.cueTagsTrack_.inBandMetadataTrackDispatchType=""),t.requestOptions_={withCredentials:r,handleManifestRedirects:n,timeout:null},t.mediaTypes_=function(){var t={};return["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(function(e){t[e]={groups:{},tracks:{},activePlaylistLoader:null,activeGroup:Pa,activeTrack:Pa,onGroupChanged:Pa,onTrackChanged:Pa}}),t}(),t.mediaSource=new Qr.MediaSource,t.mediaSource.addEventListener("sourceopen",t.handleSourceOpen_.bind(t)),t.seekable_=Qr.createTimeRanges(),t.hasPlayed_=function(){return!1},t.syncController_=new ts(e),t.segmentMetadataTrack_=i.addRemoteTextTrack({kind:"metadata",label:"segment-metadata"},!1).track,t.decrypter_=new os,t.inbandTextTracks_={};var g={hls:t.hls_,mediaSource:t.mediaSource,currentTime:t.tech_.currentTime.bind(t.tech_),seekable:function(){return t.seekable()},seeking:function(){return t.tech_.seeking()},duration:function(){return t.mediaSource.duration},hasPlayed:function(){return t.hasPlayed_()},goalBufferLength:function(){return t.goalBufferLength()},bandwidth:a,syncController:t.syncController_,decrypter:t.decrypter_,sourceType:t.sourceType_,inbandTextTracks:t.inbandTextTracks_,cacheEncryptionKeys:h};return t.masterPlaylistLoader_="dash"===t.sourceType_?new Ra(o,t.hls_,t.requestOptions_):new fi(o,t.hls_,t.requestOptions_),t.setupMasterPlaylistLoaderListeners_(),t.mainSegmentLoader_=new Ya(Qr.mergeOptions(g,{segmentMetadataTrack:t.segmentMetadataTrack_,loaderType:"main"}),e),t.audioSegmentLoader_=new Ya(Qr.mergeOptions(g,{loaderType:"audio"}),e),t.subtitleSegmentLoader_=new Qa(Qr.mergeOptions(g,{loaderType:"vtt"}),e),t.setupSegmentLoaderListeners_(),ds.forEach(function(e){t[e+"_"]=function(e){return this.audioSegmentLoader_[e]+this.mainSegmentLoader_[e]}.bind(t,e)}),t.logger_=Na("MPC"),t.masterPlaylistLoader_.load(),t}return ri(f,Qr.EventTarget),ni(f,[{key:"setupMasterPlaylistLoaderListeners_",value:function(){var n=this;this.masterPlaylistLoader_.on("loadedmetadata",function(){var e=n.masterPlaylistLoader_.media(),t=1.5*e.targetDuration*1e3;Ii(n.masterPlaylistLoader_.master,n.masterPlaylistLoader_.media())?n.requestOptions_.timeout=0:n.requestOptions_.timeout=t,e.endList&&"none"!==n.tech_.preload()&&(n.mainSegmentLoader_.playlist(e,n.requestOptions_),n.mainSegmentLoader_.load()),cs({sourceType:n.sourceType_,segmentLoaders:{AUDIO:n.audioSegmentLoader_,SUBTITLES:n.subtitleSegmentLoader_,main:n.mainSegmentLoader_},tech:n.tech_,requestOptions:n.requestOptions_,masterPlaylistLoader:n.masterPlaylistLoader_,hls:n.hls_,master:n.master(),mediaTypes:n.mediaTypes_,blacklistCurrentPlaylist:n.blacklistCurrentPlaylist.bind(n)}),n.triggerPresenceUsage_(n.master(),e);try{n.setupSourceBuffers_()}catch(e){return Qr.log.warn("Failed to create SourceBuffers",e),n.mediaSource.endOfStream("decode")}n.setupFirstPlay(),!n.mediaTypes_.AUDIO.activePlaylistLoader||n.mediaTypes_.AUDIO.activePlaylistLoader.media()?n.trigger("selectedinitialmedia"):n.mediaTypes_.AUDIO.activePlaylistLoader.one("loadedmetadata",function(){n.trigger("selectedinitialmedia")})}),this.masterPlaylistLoader_.on("loadedplaylist",function(){var e=n.masterPlaylistLoader_.media();if(!e){n.excludeUnsupportedVariants_();var t=void 0;return n.enableLowInitialPlaylist&&(t=n.selectInitialPlaylist()),t||(t=n.selectPlaylist()),n.initialMedia_=t,void n.masterPlaylistLoader_.media(n.initialMedia_)}if(n.useCueTags_&&n.updateAdCues_(e),n.mainSegmentLoader_.playlist(e,n.requestOptions_),n.updateDuration(),n.tech_.paused()||(n.mainSegmentLoader_.load(),n.audioSegmentLoader_&&n.audioSegmentLoader_.load()),!e.endList){var o=function(){var e=n.seekable();0!==e.length&&n.mediaSource.addSeekableRange_(e.start(0),e.end(0))};if(n.duration()!==1/0){n.tech_.one("durationchange",function e(){n.duration()===1/0?o():n.tech_.one("durationchange",e)})}else o()}}),this.masterPlaylistLoader_.on("error",function(){n.blacklistCurrentPlaylist(n.masterPlaylistLoader_.error)}),this.masterPlaylistLoader_.on("mediachanging",function(){n.mainSegmentLoader_.abort(),n.mainSegmentLoader_.pause()}),this.masterPlaylistLoader_.on("mediachange",function(){var e=n.masterPlaylistLoader_.media(),t=1.5*e.targetDuration*1e3;Ii(n.masterPlaylistLoader_.master,n.masterPlaylistLoader_.media())?n.requestOptions_.timeout=0:n.requestOptions_.timeout=t,n.mainSegmentLoader_.playlist(e,n.requestOptions_),n.mainSegmentLoader_.load(),n.tech_.trigger({type:"mediachange",bubbles:!0})}),this.masterPlaylistLoader_.on("playlistunchanged",function(){var e=n.masterPlaylistLoader_.media();n.stuckAtPlaylistEnd_(e)&&(n.blacklistCurrentPlaylist({message:"Playlist no longer updating."}),n.tech_.trigger("playliststuck"))}),this.masterPlaylistLoader_.on("renditiondisabled",function(){n.tech_.trigger({type:"usage",name:"hls-rendition-disabled"})}),this.masterPlaylistLoader_.on("renditionenabled",function(){n.tech_.trigger({type:"usage",name:"hls-rendition-enabled"})})}},{key:"triggerPresenceUsage_",value:function(e,t){var o=e.mediaGroups||{},n=!0,r=Object.keys(o.AUDIO);for(var i in o.AUDIO)for(var a in o.AUDIO[i]){o.AUDIO[i][a].uri||(n=!1)}n&&this.tech_.trigger({type:"usage",name:"hls-demuxed"}),Object.keys(o.SUBTITLES).length&&this.tech_.trigger({type:"usage",name:"hls-webvtt"}),us.Playlist.isAes(t)&&this.tech_.trigger({type:"usage",name:"hls-aes"}),us.Playlist.isFmp4(t)&&this.tech_.trigger({type:"usage",name:"hls-fmp4"}),r.length&&1<Object.keys(o.AUDIO[r[0]]).length&&this.tech_.trigger({type:"usage",name:"hls-alternate-audio"}),this.useCueTags_&&this.tech_.trigger({type:"usage",name:"hls-playlist-cue-tags"})}},{key:"setupSegmentLoaderListeners_",value:function(){var i=this;this.mainSegmentLoader_.on("bandwidthupdate",function(){var e=i.selectPlaylist(),t=i.masterPlaylistLoader_.media(),o=i.tech_.buffered(),n=o.length?o.end(o.length-1)-i.tech_.currentTime():0,r=i.bufferLowWaterLine();(!t.endList||i.duration()<xa.MAX_BUFFER_LOW_WATER_LINE||e.attributes.BANDWIDTH<t.attributes.BANDWIDTH||r<=n)&&i.masterPlaylistLoader_.media(e),i.tech_.trigger("bandwidthupdate")}),this.mainSegmentLoader_.on("progress",function(){i.trigger("progress")}),this.mainSegmentLoader_.on("error",function(){i.blacklistCurrentPlaylist(i.mainSegmentLoader_.error())}),this.mainSegmentLoader_.on("syncinfoupdate",function(){i.onSyncInfoUpdate_()}),this.mainSegmentLoader_.on("timestampoffset",function(){i.tech_.trigger({type:"usage",name:"hls-timestamp-offset"})}),this.audioSegmentLoader_.on("syncinfoupdate",function(){i.onSyncInfoUpdate_()}),this.mainSegmentLoader_.on("ended",function(){i.onEndOfStream()}),this.mainSegmentLoader_.on("earlyabort",function(){i.blacklistCurrentPlaylist({message:"Aborted early because there isn't enough bandwidth to complete the request without rebuffering."},120)}),this.mainSegmentLoader_.on("reseteverything",function(){i.tech_.trigger("hls-reset")}),this.mainSegmentLoader_.on("segmenttimemapping",function(e){i.tech_.trigger({type:"hls-segment-time-mapping",mapping:e.mapping})}),this.audioSegmentLoader_.on("ended",function(){i.onEndOfStream()})}},{key:"mediaSecondsLoaded_",value:function(){return Math.max(this.audioSegmentLoader_.mediaSecondsLoaded+this.mainSegmentLoader_.mediaSecondsLoaded)}},{key:"load",value:function(){this.mainSegmentLoader_.load(),this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.load(),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.load()}},{key:"smoothQualityChange_",value:function(){var e=this.selectPlaylist();e!==this.masterPlaylistLoader_.media()&&(this.masterPlaylistLoader_.media(e),this.mainSegmentLoader_.resetLoader())}},{key:"fastQualityChange_",value:function(){var e=this,t=this.selectPlaylist();t!==this.masterPlaylistLoader_.media()&&(this.masterPlaylistLoader_.media(t),this.mainSegmentLoader_.resetEverything(function(){Qr.browser.IE_VERSION||Qr.browser.IS_EDGE?e.tech_.setCurrentTime(e.tech_.currentTime()+.04):e.tech_.setCurrentTime(e.tech_.currentTime())}))}},{key:"play",value:function(){if(!this.setupFirstPlay()){this.tech_.ended()&&this.seekTo_(0),this.hasPlayed_()&&this.load();var e=this.tech_.seekable();return this.tech_.duration()===1/0&&this.tech_.currentTime()<e.start(0)?this.seekTo_(e.end(e.length-1)):void 0}}},{key:"setupFirstPlay",value:function(){var e=this,t=this.masterPlaylistLoader_.media();if(!t||this.tech_.paused()||this.hasPlayed_())return!1;if(!t.endList){var o=this.seekable();if(!o.length)return!1;if(Qr.browser.IE_VERSION&&0===this.tech_.readyState())return this.tech_.one("loadedmetadata",function(){e.trigger("firstplay"),e.seekTo_(o.end(0)),e.hasPlayed_=function(){return!0}}),!1;this.trigger("firstplay"),this.seekTo_(o.end(0))}return this.hasPlayed_=function(){return!0},this.load(),!0}},{key:"handleSourceOpen_",value:function(){try{this.setupSourceBuffers_()}catch(e){return Qr.log.warn("Failed to create Source Buffers",e),this.mediaSource.endOfStream("decode")}if(this.tech_.autoplay()){var e=this.tech_.play();void 0!==e&&"function"==typeof e.then&&e.then(null,function(e){})}this.trigger("sourceopen")}},{key:"onEndOfStream",value:function(){var e=this.mainSegmentLoader_.ended_;if(this.mediaTypes_.AUDIO.activePlaylistLoader&&(e=!this.mainSegmentLoader_.startingMedia_||this.mainSegmentLoader_.startingMedia_.containsVideo?e&&this.audioSegmentLoader_.ended_:this.audioSegmentLoader_.ended_),e){this.logger_("calling mediaSource.endOfStream()");try{this.mediaSource.endOfStream()}catch(e){Qr.log.warn("Failed to call media source endOfStream",e)}}}},{key:"stuckAtPlaylistEnd_",value:function(e){if(!this.seekable().length)return!1;var t=this.syncController_.getExpiredTime(e,this.mediaSource.duration);if(null===t)return!1;var o=us.Playlist.playlistEnd(e,t),n=this.tech_.currentTime(),r=this.tech_.buffered();if(!r.length)return o-n<=.1;var i=r.end(r.length-1);return i-n<=.1&&o-i<=.1}},{key:"blacklistCurrentPlaylist",value:function(){var e,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},o=arguments[1],n=void 0;if(n=t.playlist||this.masterPlaylistLoader_.media(),o=o||t.blacklistDuration||this.blacklistDuration,!n){this.error=t;try{return this.mediaSource.endOfStream("network")}catch(e){return this.trigger("error")}}var r=1===this.masterPlaylistLoader_.master.playlists.filter(wi).length,i=this.masterPlaylistLoader_.master.playlists;return 1===i.length?(Qr.log.warn("Problem encountered with the current HLS playlist. Trying again since it is the only playlist."),this.tech_.trigger("retryplaylist"),this.masterPlaylistLoader_.load(r)):(r&&(Qr.log.warn("Removing all playlists from the blacklist because the last rendition is about to be blacklisted."),i.forEach(function(e){e.excludeUntil!==1/0&&delete e.excludeUntil}),this.tech_.trigger("retryplaylist")),n.excludeUntil=Date.now()+1e3*o,this.tech_.trigger("blacklistplaylist"),this.tech_.trigger({type:"usage",name:"hls-rendition-blacklisted"}),e=this.selectPlaylist(),Qr.log.warn("Problem encountered with the current HLS playlist."+(t.message?" "+t.message:"")+" Switching to another playlist."),this.masterPlaylistLoader_.media(e,r))}},{key:"pauseLoading",value:function(){this.mainSegmentLoader_.pause(),this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.pause(),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.pause()}},{key:"setCurrentTime",value:function(e){var t=qi(this.tech_.buffered(),e);return this.masterPlaylistLoader_&&this.masterPlaylistLoader_.media()&&this.masterPlaylistLoader_.media().segments?t&&t.length?e:(this.mainSegmentLoader_.resetEverything(),this.mainSegmentLoader_.abort(),this.mediaTypes_.AUDIO.activePlaylistLoader&&(this.audioSegmentLoader_.resetEverything(),this.audioSegmentLoader_.abort()),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&(this.subtitleSegmentLoader_.resetEverything(),this.subtitleSegmentLoader_.abort()),void this.load()):0}},{key:"duration",value:function(){return this.masterPlaylistLoader_?this.mediaSource?this.mediaSource.duration:us.Playlist.duration(this.masterPlaylistLoader_.media()):0}},{key:"seekable",value:function(){return this.seekable_}},{key:"onSyncInfoUpdate_",value:function(){var e=void 0,t=void 0;if(this.masterPlaylistLoader_){var o=this.masterPlaylistLoader_.media();if(o){var n=this.syncController_.getExpiredTime(o,this.mediaSource.duration);if(null!==n&&0!==(e=us.Playlist.seekable(o,n)).length){if(this.mediaTypes_.AUDIO.activePlaylistLoader){if(o=this.mediaTypes_.AUDIO.activePlaylistLoader.media(),null===(n=this.syncController_.getExpiredTime(o,this.mediaSource.duration)))return;if(0===(t=us.Playlist.seekable(o,n)).length)return}var r=void 0,i=void 0;this.seekable_&&this.seekable_.length&&(r=this.seekable_.end(0),i=this.seekable_.start(0)),t?t.start(0)>e.end(0)||e.start(0)>t.end(0)?this.seekable_=e:this.seekable_=Qr.createTimeRanges([[t.start(0)>e.start(0)?t.start(0):e.start(0),t.end(0)<e.end(0)?t.end(0):e.end(0)]]):this.seekable_=e,this.seekable_&&this.seekable_.length&&this.seekable_.end(0)===r&&this.seekable_.start(0)===i||(this.logger_("seekable updated ["+Yi(this.seekable_)+"]"),this.tech_.trigger("seekablechanged"))}}}}},{key:"updateDuration",value:function(){var t=this,e=this.mediaSource.duration,o=us.Playlist.duration(this.masterPlaylistLoader_.media()),n=this.tech_.buffered(),r=function e(){t.logger_("Setting duration from "+t.mediaSource.duration+" => "+o);try{t.mediaSource.duration=o}catch(e){Qr.log.warn("Failed to set media source duration",e)}t.tech_.trigger("durationchange"),t.mediaSource.removeEventListener("sourceopen",e)};0<n.length&&(o=Math.max(o,n.end(n.length-1))),e!==o&&("open"!==this.mediaSource.readyState?this.mediaSource.addEventListener("sourceopen",r):r())}},{key:"dispose",value:function(){var n=this;this.decrypter_.terminate(),this.masterPlaylistLoader_.dispose(),this.mainSegmentLoader_.dispose(),["AUDIO","SUBTITLES"].forEach(function(e){var t=n.mediaTypes_[e].groups;for(var o in t)t[o].forEach(function(e){e.playlistLoader&&e.playlistLoader.dispose()})}),this.audioSegmentLoader_.dispose(),this.subtitleSegmentLoader_.dispose()}},{key:"master",value:function(){return this.masterPlaylistLoader_.master}},{key:"media",value:function(){return this.masterPlaylistLoader_.media()||this.initialMedia_}},{key:"setupSourceBuffers_",value:function(){var e,t=this.masterPlaylistLoader_.media();if(t&&"open"===this.mediaSource.readyState){if((e=fa(this.masterPlaylistLoader_.master,t)).length<1)return this.error="No compatible SourceBuffer configuration for the variant stream:"+t.resolvedUri,this.mediaSource.endOfStream("decode");this.configureLoaderMimeTypes_(e),this.excludeIncompatibleVariants_(t)}}},{key:"configureLoaderMimeTypes_",value:function(e){var t=1<e.length&&-1===e[0].indexOf(",")&&e[0]!==e[1]?new Qr.EventTarget:null;this.mainSegmentLoader_.mimeType(e[0],t),e[1]&&this.audioSegmentLoader_.mimeType(e[1],t)}},{key:"excludeUnsupportedVariants_",value:function(){this.master().playlists.forEach(function(e){e.attributes.CODECS&&_.a.MediaSource&&_.a.MediaSource.isTypeSupported&&!_.a.MediaSource.isTypeSupported('video/mp4; codecs="'+function(e){return e.replace(/avc1\.(\d+)\.(\d+)/i,function(e){return pa([e])[0]})}(e.attributes.CODECS)+'"')&&(e.excludeUntil=1/0)})}},{key:"excludeIncompatibleVariants_",value:function(e){var o=2,n=null,t=void 0;e.attributes.CODECS&&(t=ha(e.attributes.CODECS),n=t.videoCodec,o=t.codecCount),this.master().playlists.forEach(function(e){var t={codecCount:2,videoCodec:null};e.attributes.CODECS&&(t=ha(e.attributes.CODECS)),t.codecCount!==o&&(e.excludeUntil=1/0),t.videoCodec!==n&&(e.excludeUntil=1/0)})}},{key:"updateAdCues_",value:function(e){var t=0,o=this.seekable();o.length&&(t=o.start(0)),function(e,t){var o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0;if(e.segments)for(var n=o,r=void 0,i=0;i<e.segments.length;i++){var a=e.segments[i];if(r||(r=$a(t,n+a.duration/2)),r){if("cueIn"in a){r.endTime=n,r.adEndTime=n,n+=a.duration,r=null;continue}if(n<r.endTime){n+=a.duration;continue}r.endTime+=a.duration}else if("cueOut"in a&&((r=new _.a.VTTCue(n,n+a.duration,a.cueOut)).adStartTime=n,r.adEndTime=n+parseFloat(a.cueOut),t.addCue(r)),"cueOutCont"in a){var s,l,c=a.cueOutCont.split("/").map(parseFloat),u=ai(c,2);s=u[0],l=u[1],(r=new _.a.VTTCue(n,n+a.duration,"")).adStartTime=n-s,r.adEndTime=r.adStartTime+l,t.addCue(r)}n+=a.duration}}(e,this.cueTagsTrack_,t)}},{key:"goalBufferLength",value:function(){var e=this.tech_.currentTime(),t=xa.GOAL_BUFFER_LENGTH,o=xa.GOAL_BUFFER_LENGTH_RATE,n=Math.max(t,xa.MAX_GOAL_BUFFER_LENGTH);return Math.min(t+e*o,n)}},{key:"bufferLowWaterLine",value:function(){var e=this.tech_.currentTime(),t=xa.BUFFER_LOW_WATER_LINE,o=xa.BUFFER_LOW_WATER_LINE_RATE,n=Math.max(t,xa.MAX_BUFFER_LOW_WATER_LINE);return Math.min(t+e*o,n)}}]),f}(),hs=function e(t,o,n){oi(this,e);var r=t.masterPlaylistController_,i=r[(t.options_.smoothQualityChange?"smooth":"fast")+"QualityChange_"].bind(r);if(o.attributes.RESOLUTION){var a=o.attributes.RESOLUTION;this.width=a.width,this.height=a.height}this.bandwidth=o.attributes.BANDWIDTH,this.id=n,this.enabled=function(r,i,a){return function(e){var t=r.master.playlists[i],o=Oi(t),n=wi(t);return void 0===e?n:(e?delete t.disabled:t.disabled=!0,e===n||o||(a(),e?r.trigger("renditionenabled"):r.trigger("renditiondisabled")),e)}}(t.playlists,o.uri,i)},gs=["seeking","seeked","pause","playing","error"],fs=function(){function a(e){var t=this;oi(this,a),this.tech_=e.tech,this.seekable=e.seekable,this.seekTo=e.seekTo,this.allowSeeksWithinUnsafeLiveWindow=e.allowSeeksWithinUnsafeLiveWindow,this.media=e.media,this.consecutiveUpdates=0,this.lastRecordedTime=null,this.timer_=null,this.checkCurrentTimeTimeout_=null,this.logger_=Na("PlaybackWatcher"),this.logger_("initialize");var o=function(){return t.monitorCurrentTime_()},n=function(){return t.techWaiting_()},r=function(){return t.cancelTimer_()},i=function(){return t.fixesBadSeeks_()};this.tech_.on("seekablechanged",i),this.tech_.on("waiting",n),this.tech_.on(gs,r),this.tech_.on("canplay",o),this.dispose=function(){t.logger_("dispose"),t.tech_.off("seekablechanged",i),t.tech_.off("waiting",n),t.tech_.off(gs,r),t.tech_.off("canplay",o),t.checkCurrentTimeTimeout_&&_.a.clearTimeout(t.checkCurrentTimeTimeout_),t.cancelTimer_()}}return ni(a,[{key:"monitorCurrentTime_",value:function(){this.checkCurrentTime_(),this.checkCurrentTimeTimeout_&&_.a.clearTimeout(this.checkCurrentTimeTimeout_),this.checkCurrentTimeTimeout_=_.a.setTimeout(this.monitorCurrentTime_.bind(this),250)}},{key:"checkCurrentTime_",value:function(){if(this.tech_.seeking()&&this.fixesBadSeeks_())return this.consecutiveUpdates=0,void(this.lastRecordedTime=this.tech_.currentTime());if(!this.tech_.paused()&&!this.tech_.seeking()){var e=this.tech_.currentTime(),t=this.tech_.buffered();if(this.lastRecordedTime===e&&(!t.length||e+.1>=t.end(t.length-1)))return this.techWaiting_();5<=this.consecutiveUpdates&&e===this.lastRecordedTime?(this.consecutiveUpdates++,this.waiting_()):e===this.lastRecordedTime?this.consecutiveUpdates++:(this.consecutiveUpdates=0,this.lastRecordedTime=e)}}},{key:"cancelTimer_",value:function(){this.consecutiveUpdates=0,this.timer_&&(this.logger_("cancelTimer_"),clearTimeout(this.timer_)),this.timer_=null}},{key:"fixesBadSeeks_",value:function(){if(!this.tech_.seeking())return!1;var e=this.seekable(),t=this.tech_.currentTime(),o=void 0;this.afterSeekableWindow_(e,t,this.media(),this.allowSeeksWithinUnsafeLiveWindow)&&(o=e.end(e.length-1));this.beforeSeekableWindow_(e,t)&&(o=e.start(0)+.1);return void 0!==o&&(this.logger_("Trying to seek outside of seekable at time "+t+" with seekable range "+Yi(e)+". Seeking to "+o+"."),this.seekTo(o),!0)}},{key:"waiting_",value:function(){if(!this.techWaiting_()){var e=this.tech_.currentTime(),t=this.tech_.buffered(),o=qi(t,e);return o.length&&e+3<=o.end(0)?(this.cancelTimer_(),this.seekTo(e),this.logger_("Stopped at "+e+" while inside a buffered region ["+o.start(0)+" -> "+o.end(0)+"]. Attempting to resume playback by seeking to the current time."),void this.tech_.trigger({type:"usage",name:"hls-unknown-waiting"})):void 0}}},{key:"techWaiting_",value:function(){var e=this.seekable(),t=this.tech_.currentTime();if(this.tech_.seeking()&&this.fixesBadSeeks_())return!0;if(this.tech_.seeking()||null!==this.timer_)return!0;if(this.beforeSeekableWindow_(e,t)){var o=e.end(e.length-1);return this.logger_("Fell out of live window at time "+t+". Seeking to live point (seekable end) "+o),this.cancelTimer_(),this.seekTo(o),this.tech_.trigger({type:"usage",name:"hls-live-resync"}),!0}var n=this.tech_.buffered(),r=Ki(n,t);if(this.videoUnderflow_(r,n,t))return this.cancelTimer_(),this.seekTo(t),this.tech_.trigger({type:"usage",name:"hls-video-underflow"}),!0;if(0<r.length){var i=r.start(0)-t;return this.logger_("Stopped at "+t+", setting timer for "+i+", seeking to "+r.start(0)),this.timer_=setTimeout(this.skipTheGap_.bind(this),1e3*i,t),!0}return!1}},{key:"afterSeekableWindow_",value:function(e,t,o){var n=3<arguments.length&&void 0!==arguments[3]&&arguments[3];if(!e.length)return!1;var r=e.end(e.length-1)+.1;return!o.endList&&n&&(r=e.end(e.length-1)+3*o.targetDuration),r<t}},{key:"beforeSeekableWindow_",value:function(e,t){return!!(e.length&&0<e.start(0)&&t<e.start(0)-.1)}},{key:"videoUnderflow_",value:function(e,t,o){if(0===e.length){var n=this.gapFromVideoUnderflow_(t,o);if(n)return this.logger_("Encountered a gap in video from "+n.start+" to "+n.end+". Seeking to current time "+o),!0}return!1}},{key:"skipTheGap_",value:function(e){var t=this.tech_.buffered(),o=this.tech_.currentTime(),n=Ki(t,o);this.cancelTimer_(),0!==n.length&&o===e&&(this.logger_("skipTheGap_:","currentTime:",o,"scheduled currentTime:",e,"nextRange start:",n.start(0)),this.seekTo(n.start(0)+1/30),this.tech_.trigger({type:"usage",name:"hls-gap-skip"}))}},{key:"gapFromVideoUnderflow_",value:function(e,t){for(var o=function(e){if(e.length<2)return Qr.createTimeRanges();for(var t=[],o=1;o<e.length;o++){var n=e.end(o-1),r=e.start(o);t.push([n,r])}return Qr.createTimeRanges(t)}(e),n=0;n<o.length;n++){var r=o.start(n),i=o.end(n);if(t-r<4&&2<t-r)return{start:r,end:i}}return null}}]),a}(),ms={errorInterval:30,getSource:function(e){return e(this.tech({IWillNotUseThisInPlugins:!0}).currentSource_)}},ys=function(e){!function t(o,e){var n=0,r=0,i=Qr.mergeOptions(ms,e);o.ready(function(){o.trigger({type:"usage",name:"hls-error-reload-initialized"})});var a=function(){r&&o.currentTime(r)},s=function(e){null!=e&&(r=o.duration()!==1/0&&o.currentTime()||0,o.one("loadedmetadata",a),o.src(e),o.trigger({type:"usage",name:"hls-error-reload"}),o.play())},l=function(){if(Date.now()-n<1e3*i.errorInterval)o.trigger({type:"usage",name:"hls-error-reload-canceled"});else{if(i.getSource&&"function"==typeof i.getSource)return n=Date.now(),i.getSource.call(o,s);Qr.log.error("ERROR: reloadSourceOnError - The option getSource must be a function!")}},c=function e(){o.off("loadedmetadata",a),o.off("error",l),o.off("dispose",e)};o.on("error",l),o.on("dispose",c),o.reloadSourceOnError=function(e){c(),t(o,e)}}(this,e)};Qr.use("*",function(t){return{setSource:function(e,t){t(null,e)},setCurrentTime:function(e){return t.vhs&&t.currentSource().src===t.vhs.source_.src&&t.vhs.setCurrentTime(e),e},play:function(){t.vhs&&t.currentSource().src===t.vhs.source_.src&&t.vhs.setCurrentTime(t.tech_.currentTime())}}});var _s={PlaylistLoader:fi,Playlist:Ri,Decrypter:j,AsyncStream:U,decrypt:H,utils:Gi,STANDARD_PLAYLIST_SELECTOR:function(){return function(e,t,o,n,r){var i=e.playlists.map(function(e){var t,o;return t=e.attributes.RESOLUTION&&e.attributes.RESOLUTION.width,o=e.attributes.RESOLUTION&&e.attributes.RESOLUTION.height,{bandwidth:e.attributes.BANDWIDTH||_.a.Number.MAX_VALUE,width:t,height:o,playlist:e}});za(i,function(e,t){return e.bandwidth-t.bandwidth});var a=(i=i.filter(function(e){return!Ri.isIncompatible(e.playlist)})).filter(function(e){return Ri.isEnabled(e.playlist)});a.length||(a=i.filter(function(e){return!Ri.isDisabled(e.playlist)}));var s=a.filter(function(e){return e.bandwidth*xa.BANDWIDTH_VARIANCE<t}),l=s[s.length-1],c=s.filter(function(e){return e.bandwidth===l.bandwidth})[0];if(!1===r){var u=c||a[0]||i[0];return u?u.playlist:null}var d=s.filter(function(e){return e.width&&e.height});za(d,function(e,t){return e.width-t.width});var p=d.filter(function(e){return e.width===o&&e.height===n});l=p[p.length-1];var h=p.filter(function(e){return e.bandwidth===l.bandwidth})[0],g=void 0,f=void 0,m=void 0;h||(f=(g=d.filter(function(e){return e.width>o||e.height>n})).filter(function(e){return e.width===g[0].width&&e.height===g[0].height}),l=f[f.length-1],m=f.filter(function(e){return e.bandwidth===l.bandwidth})[0]);var y=m||h||c||a[0]||i[0];return y?y.playlist:null}(this.playlists.master,this.systemBandwidth,parseInt(Wa(this.tech_.el(),"width"),10),parseInt(Wa(this.tech_.el(),"height"),10),this.limitRenditionByPlayerDimensions)},INITIAL_PLAYLIST_SELECTOR:function(){var e=this.playlists.master.playlists.filter(Ri.isEnabled);return za(e,function(e,t){return qa(e,t)}),e.filter(function(e){return ha(e.attributes.CODECS).videoCodec})[0]||null},comparePlaylistBandwidth:qa,comparePlaylistResolution:function(e,t){var o=void 0,n=void 0;return e.attributes.RESOLUTION&&e.attributes.RESOLUTION.width&&(o=e.attributes.RESOLUTION.width),o=o||_.a.Number.MAX_VALUE,t.attributes.RESOLUTION&&t.attributes.RESOLUTION.width&&(n=t.attributes.RESOLUTION.width),o===(n=n||_.a.Number.MAX_VALUE)&&e.attributes.BANDWIDTH&&t.attributes.BANDWIDTH?e.attributes.BANDWIDTH-t.attributes.BANDWIDTH:o-n},xhr:Li()};["GOAL_BUFFER_LENGTH","MAX_GOAL_BUFFER_LENGTH","GOAL_BUFFER_LENGTH_RATE","BUFFER_LOW_WATER_LINE","MAX_BUFFER_LOW_WATER_LINE","BUFFER_LOW_WATER_LINE_RATE","BANDWIDTH_VARIANCE"].forEach(function(t){Object.defineProperty(_s,t,{get:function(){return Qr.log.warn("using Hls."+t+" is UNSAFE be sure you know what you are doing"),xa[t]},set:function(e){Qr.log.warn("using Hls."+t+" is UNSAFE be sure you know what you are doing"),"number"!=typeof e||e<0?Qr.log.warn("value of Hls."+t+" must be greater than or equal to 0"):xa[t]=e}})});var vs="videojs-vhs",bs=function(e){if(/^(audio|video|application)\/(x-|vnd\.apple\.)?mpegurl/i.test(e))return"hls";return/^application\/dash\+xml/i.test(e)?"dash":null},Es=function(e,t){for(var o=t.media(),n=-1,r=0;r<e.length;r++)if(e[r].id===o.uri){n=r;break}e.selectedIndex_=n,e.trigger({selectedIndex:n,type:"change"})};_s.canPlaySource=function(){return Qr.log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")};var Ts=function(e){if("dash"===e.options_.sourceType){var t=Qr.players[e.tech_.options_.playerId];if(t.eme){var o=function(e,t,o){if(!e)return e;var n={};for(var r in e)n[r]={audioContentType:'audio/mp4; codecs="'+o.attributes.CODECS+'"',videoContentType:'video/mp4; codecs="'+t.attributes.CODECS+'"'},t.contentProtection&&t.contentProtection[r]&&t.contentProtection[r].pssh&&(n[r].pssh=t.contentProtection[r].pssh),"string"==typeof e[r]&&(n[r].url=e[r]);return Qr.mergeOptions(e,n)}(e.source_.keySystems,e.playlists.media(),e.masterPlaylistController_.mediaTypes_.AUDIO.activePlaylistLoader.media());o&&(t.currentSource().keySystems=o,t.eme.initializeMediaKeys&&t.eme.initializeMediaKeys())}}},Ss=function(){if(!window.localStorage)return null;var e=window.localStorage.getItem(vs);if(!e)return null;try{return JSON.parse(e)}catch(e){return null}};_s.supportsNativeHls=function(){var t=d.a.createElement("video");if(!Qr.getTech("Html5").isSupported())return!1;return["application/vnd.apple.mpegurl","audio/mpegurl","audio/x-mpegurl","application/x-mpegurl","video/x-mpegurl","video/mpegurl","application/mpegurl"].some(function(e){return/maybe|probably/i.test(t.canPlayType(e))})}(),_s.supportsNativeDash=!!Qr.getTech("Html5").isSupported()&&/maybe|probably/i.test(d.a.createElement("video").canPlayType("application/dash+xml")),_s.supportsTypeNatively=function(e){return"hls"===e?_s.supportsNativeHls:"dash"===e&&_s.supportsNativeDash},_s.isSupported=function(){return Qr.log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")};var ks=Qr.getComponent("Component"),Cs=function(e){function i(e,t,o){oi(this,i);var n=ii(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,t,o.hls));if(t.options_&&t.options_.playerId){var r=Qr(t.options_.playerId);r.hasOwnProperty("hls")||Object.defineProperty(r,"hls",{get:function(){return Qr.log.warn("player.hls is deprecated. Use player.tech().hls instead."),t.trigger({type:"usage",name:"hls-player-access"}),n},configurable:!0}),r.vhs=n,(r.dash=n).player_=r}if(n.tech_=t,n.source_=e,n.stats={},n.setOptions_(),n.options_.overrideNative&&t.overrideNativeAudioTracks&&t.overrideNativeVideoTracks)t.overrideNativeAudioTracks(!0),t.overrideNativeVideoTracks(!0);else if(n.options_.overrideNative&&(t.featuresNativeVideoTracks||t.featuresNativeAudioTracks))throw new Error("Overriding native HLS requires emulated tracks. See https://git.io/vMpjB");return n.on(d.a,["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"],function(e){var t=d.a.fullscreenElement||d.a.webkitFullscreenElement||d.a.mozFullScreenElement||d.a.msFullscreenElement;t&&t.contains(n.tech_.el())&&n.masterPlaylistController_.smoothQualityChange_()}),n.on(n.tech_,"seeking",function(){0===this.tech_.currentTime()&&this.tech_.player_.loop()&&this.setCurrentTime(0)}),n.on(n.tech_,"error",function(){this.masterPlaylistController_&&this.masterPlaylistController_.pauseLoading()}),n.on(n.tech_,"play",n.play),n}return ri(i,ks),ni(i,[{key:"setOptions_",value:function(){var t=this;if(this.options_.withCredentials=this.options_.withCredentials||!1,this.options_.handleManifestRedirects=this.options_.handleManifestRedirects||!1,this.options_.limitRenditionByPlayerDimensions=!1!==this.options_.limitRenditionByPlayerDimensions,this.options_.smoothQualityChange=this.options_.smoothQualityChange||!1,this.options_.useBandwidthFromLocalStorage=void 0!==this.source_.useBandwidthFromLocalStorage?this.source_.useBandwidthFromLocalStorage:this.options_.useBandwidthFromLocalStorage||!1,this.options_.customTagParsers=this.options_.customTagParsers||[],this.options_.customTagMappers=this.options_.customTagMappers||[],this.options_.cacheEncryptionKeys=this.options_.cacheEncryptionKeys||!1,"number"!=typeof this.options_.blacklistDuration&&(this.options_.blacklistDuration=300),"number"!=typeof this.options_.bandwidth&&this.options_.useBandwidthFromLocalStorage){var e=Ss();e&&e.bandwidth&&(this.options_.bandwidth=e.bandwidth,this.tech_.trigger({type:"usage",name:"hls-bandwidth-from-local-storage"})),e&&e.throughput&&(this.options_.throughput=e.throughput,this.tech_.trigger({type:"usage",name:"hls-throughput-from-local-storage"}))}"number"!=typeof this.options_.bandwidth&&(this.options_.bandwidth=xa.INITIAL_BANDWIDTH),this.options_.enableLowInitialPlaylist=this.options_.enableLowInitialPlaylist&&this.options_.bandwidth===xa.INITIAL_BANDWIDTH,["withCredentials","limitRenditionByPlayerDimensions","bandwidth","smoothQualityChange","customTagParsers","customTagMappers","handleManifestRedirects","cacheEncryptionKeys"].forEach(function(e){void 0!==t.source_[e]&&(t.options_[e]=t.source_[e])}),this.limitRenditionByPlayerDimensions=this.options_.limitRenditionByPlayerDimensions}},{key:"src",value:function(e,t){var o=this;e&&(this.setOptions_(),this.options_.url=this.source_.src,this.options_.tech=this.tech_,this.options_.externHls=_s,this.options_.sourceType=bs(t),this.options_.seekTo=function(e){o.tech_.setCurrentTime(e),o.setCurrentTime(e)},this.masterPlaylistController_=new ps(this.options_),this.playbackWatcher_=new fs(Qr.mergeOptions(this.options_,{seekable:function(){return o.seekable()},media:function(){return o.masterPlaylistController_.media()}})),this.masterPlaylistController_.on("error",function(){Qr.players[o.tech_.options_.playerId].error(o.masterPlaylistController_.error)}),this.masterPlaylistController_.selectPlaylist=this.selectPlaylist?this.selectPlaylist.bind(this):_s.STANDARD_PLAYLIST_SELECTOR.bind(this),this.masterPlaylistController_.selectInitialPlaylist=_s.INITIAL_PLAYLIST_SELECTOR.bind(this),this.playlists=this.masterPlaylistController_.masterPlaylistLoader_,this.mediaSource=this.masterPlaylistController_.mediaSource,Object.defineProperties(this,{selectPlaylist:{get:function(){return this.masterPlaylistController_.selectPlaylist},set:function(e){this.masterPlaylistController_.selectPlaylist=e.bind(this)}},throughput:{get:function(){return this.masterPlaylistController_.mainSegmentLoader_.throughput.rate},set:function(e){this.masterPlaylistController_.mainSegmentLoader_.throughput.rate=e,this.masterPlaylistController_.mainSegmentLoader_.throughput.count=1}},bandwidth:{get:function(){return this.masterPlaylistController_.mainSegmentLoader_.bandwidth},set:function(e){this.masterPlaylistController_.mainSegmentLoader_.bandwidth=e,this.masterPlaylistController_.mainSegmentLoader_.throughput={rate:0,count:0}}},systemBandwidth:{get:function(){var e=1/(this.bandwidth||1),t=void 0;return t=0<this.throughput?1/this.throughput:0,Math.floor(1/(e+t))},set:function(){Qr.log.error('The "systemBandwidth" property is read-only')}}}),this.options_.bandwidth&&(this.bandwidth=this.options_.bandwidth),this.options_.throughput&&(this.throughput=this.options_.throughput),Object.defineProperties(this.stats,{bandwidth:{get:function(){return o.bandwidth||0},enumerable:!0},mediaRequests:{get:function(){return o.masterPlaylistController_.mediaRequests_()||0},enumerable:!0},mediaRequestsAborted:{get:function(){return o.masterPlaylistController_.mediaRequestsAborted_()||0},enumerable:!0},mediaRequestsTimedout:{get:function(){return o.masterPlaylistController_.mediaRequestsTimedout_()||0},enumerable:!0},mediaRequestsErrored:{get:function(){return o.masterPlaylistController_.mediaRequestsErrored_()||0},enumerable:!0},mediaTransferDuration:{get:function(){return o.masterPlaylistController_.mediaTransferDuration_()||0},enumerable:!0},mediaBytesTransferred:{get:function(){return o.masterPlaylistController_.mediaBytesTransferred_()||0},enumerable:!0},mediaSecondsLoaded:{get:function(){return o.masterPlaylistController_.mediaSecondsLoaded_()||0},enumerable:!0},buffered:{get:function(){return Xi(o.tech_.buffered())},enumerable:!0},currentTime:{get:function(){return o.tech_.currentTime()},enumerable:!0},currentSource:{get:function(){return o.tech_.currentSource_},enumerable:!0},currentTech:{get:function(){return o.tech_.name_},enumerable:!0},duration:{get:function(){return o.tech_.duration()},enumerable:!0},master:{get:function(){return o.playlists.master},enumerable:!0},playerDimensions:{get:function(){return o.tech_.currentDimensions()},enumerable:!0},seekable:{get:function(){return Xi(o.tech_.seekable())},enumerable:!0},timestamp:{get:function(){return Date.now()},enumerable:!0},videoPlaybackQuality:{get:function(){return o.tech_.getVideoPlaybackQuality()},enumerable:!0}}),this.tech_.one("canplay",this.masterPlaylistController_.setupFirstPlay.bind(this.masterPlaylistController_)),this.tech_.on("bandwidthupdate",function(){o.options_.useBandwidthFromLocalStorage&&function(e){if(!window.localStorage)return;var t=Ss();t=t?Qr.mergeOptions(t,e):e;try{window.localStorage.setItem(vs,JSON.stringify(t))}catch(e){return}}({bandwidth:o.bandwidth,throughput:Math.round(o.throughput)})}),this.masterPlaylistController_.on("selectedinitialmedia",function(){!function(o){var e=o.playlists;o.representations=function(){return e.master.playlists.filter(function(e){return!Oi(e)}).map(function(e,t){return new hs(o,e,e.uri)})}}(o),Ts(o)}),this.on(this.masterPlaylistController_,"progress",function(){this.tech_.trigger("progress")}),this.tech_.ready(function(){return o.setupQualityLevels_()}),this.tech_.el()&&this.tech_.src(Qr.URL.createObjectURL(this.masterPlaylistController_.mediaSource)))}},{key:"setupQualityLevels_",value:function(){var e=this,t=Qr.players[this.tech_.options_.playerId];t&&t.qualityLevels&&(this.qualityLevels_=t.qualityLevels(),this.masterPlaylistController_.on("selectedinitialmedia",function(){!function(t,e){e.representations().forEach(function(e){t.addQualityLevel(e)}),Es(t,e.playlists)}(e.qualityLevels_,e)}),this.playlists.on("mediachange",function(){Es(e.qualityLevels_,e.playlists)}))}},{key:"play",value:function(){this.masterPlaylistController_.play()}},{key:"setCurrentTime",value:function(e){this.masterPlaylistController_.setCurrentTime(e)}},{key:"duration",value:function(){return this.masterPlaylistController_.duration()}},{key:"seekable",value:function(){return this.masterPlaylistController_.seekable()}},{key:"dispose",value:function(){this.playbackWatcher_&&this.playbackWatcher_.dispose(),this.masterPlaylistController_&&this.masterPlaylistController_.dispose(),this.qualityLevels_&&this.qualityLevels_.dispose(),this.player_&&(delete this.player_.vhs,delete this.player_.dash,delete this.player_.hls),this.tech_&&this.tech_.hls&&delete this.tech_.hls,function e(t,o,n){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,o);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,o,n)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(n):void 0}(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"dispose",this).call(this)}},{key:"convertToProgramTime",value:function(e,t){return Vi({playlist:this.masterPlaylistController_.media(),time:e,callback:t})}},{key:"seekToProgramTime",value:function(e,t){var o=!(2<arguments.length&&void 0!==arguments[2])||arguments[2],n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:2;return Wi({programTime:e,playlist:this.masterPlaylistController_.media(),retryCount:n,pauseAfterSeek:o,seekTo:this.options_.seekTo,tech:this.options_.tech,callback:t})}}]),i}(),As={name:"videojs-http-streaming",VERSION:"1.10.6",canHandleSource:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},o=Qr.mergeOptions(Qr.options,t);return As.canPlayType(e.type,o)},handleSource:function(e,t){var o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},n=Qr.mergeOptions(Qr.options,o);return t.hls=new Cs(e,t,n),t.hls.xhr=Li(),t.hls.src(e.src,e.type),t.hls},canPlayType:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},o=Qr.mergeOptions(Qr.options,t).hls.overrideNative,n=bs(e);return n&&(!_s.supportsTypeNatively(n)||o)?"maybe":""}};void 0!==Qr.MediaSource&&void 0!==Qr.URL||(Qr.MediaSource=Sa,Qr.URL=ka),Sa.supportsNativeMediaSources()&&Qr.getTech("Html5").registerSourceHandler(As,0),Qr.HlsHandler=Cs,Qr.HlsSourceHandler=As,Qr.Hls=_s,Qr.use||Qr.registerComponent("Hls",_s),Qr.options.hls=Qr.options.hls||{},Qr.registerPlugin?Qr.registerPlugin("reloadSourceOnError",ys):Qr.plugin("reloadSourceOnError",ys);t.default=Qr},1847:function(e,t,o){var r=o(1),i=o(8),a=o(11),s=o(1884);function l(e,t){t.isSignedIn||a.trySetLocalStorage("is13Plus","true"),e&&function(e){var t=localStorage.getItem("dataAlerts");t||(t="[]");var o=JSON.parse(t);o.push(e),localStorage.setItem("dataAlerts",JSON.stringify(o))}(t.channelId),t.onWarningsComplete&&t.onWarningsComplete()}t.checkSharedAppWarnings=function(e){var t=e.hasDataAPIs&&e.hasDataAPIs();t&&e.isTooYoung&&(e.onTooYoung?e.onTooYoung():a.navigateToHref("/too_young"));var o=t&&!e.isSignedIn&&"true"!==localStorage.getItem("is13Plus"),n=t&&!0!==e.isOwner&&!function(e){var t=localStorage.getItem("dataAlerts");return!!t&&-1!==JSON.parse(t).indexOf(e)}(e.channelId);return i.render(r.createElement(s,{showStoreDataAlert:!!n,promptForAge:!!o,handleClose:function(){return l(n,e)},handleTooYoung:function(){a.trySetLocalStorage("is13Plus","false"),e.onTooYoung?e.onTooYoung():a.navigateToHref("/too_young")}}),document.body.appendChild(document.createElement("div")))}},1848:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.shareProject=function(s){dashboard.project.saveIfSourcesChanged().then(function(){var e=document.getElementById("project-share-dialog");e||((e=document.createElement("div")).setAttribute("id","project-share-dialog"),document.body.appendChild(e));var t,o=dashboard.project.getStandaloneApp(),n=dashboard.project.getSelectedSong(),r=(0,h.getStore)().getState().pageConstants;if("dance"===o){var i="true"===sessionStorage.getItem("ad_anon_over13");t=r.is13Plus||!r.isSignedIn&&i}else t=r.is13Plus||!r.isSignedIn;var a=!!appOptions.isSignedIn&&f.AllPublishableProjectTypes.includes(o);c.default.render(l.default.createElement(p.Provider,{store:(0,h.getStore)()},l.default.createElement(d.default,{isProjectLevel:!!dashboard.project.isProjectLevel(),allowSignedOutShare:"dance"===o,shareUrl:s,selectedSong:n,thumbnailUrl:dashboard.project.getThumbnailUrl(),isAbusive:dashboard.project.exceedsAbuseThreshold(),canPrint:"artist"===o,canPublish:a,isPublished:dashboard.project.isPublished(),channelId:dashboard.project.getCurrentId(),appType:o,onClickPopup:u.default,canShareSocial:t,userSharingDisabled:appOptions.userSharingDisabled})),e),(0,h.getStore)().dispatch((0,g.showShareDialog)())})};var l=n(o(1)),c=n(o(8)),u=n(o(1764)),d=n(o(1911)),p=o(9),h=o(46),g=o(328),f=o(61);function n(e){return e&&e.__esModule?e:{default:e}}},1849:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SongTitlesToArtistTwitterHandle=void 0;t.SongTitlesToArtistTwitterHandle={backtoyou_selenagomez:"SelenaGomez",bornthisway_ladygaga:"LadyGaga",callmemaybe_carlyraejepsen:"CarlyRaeJepsen",cantfeelmyface_theweeknd:"TheWeeknd",cantholdus_macklemore:"Macklemore",cheapthrills_sia:"Sia",countrygirl_lukebryan:"LukeBryanOnline",dancinginthedark_brucespringsteen:"Springsteen",heyya_outkast:"Outkast",iliketomoveit_william:"iamwill",getintothegroove_madonna:"Madonna",levelup_ciara:"Ciara",macarena_losdelrio:"LosDelRioMusic",migente_jbalvin:"JBalvin",needyounow_ladyantebellum:"LadyAntebellum",notearslefttocry_arianagrande:"ArianaGrande",shapeofyou_edsheeran:"EdSheeran",somebodylikeyou_keithurban:"KeithUrban",sorry_justinbieber:"JustinBieber",summer_calvinharris:"CalvinHarris",takeonme_aha:"Aha_Com",isawthesign_aceofbase:"AceofBase",thunder_imaginedragons:"ImagineDragons",canttouchthis_mchammer:"MCHammer",uptownfunk_brunomars:"BrunoMars",vivalavida_coldplay:"Coldplay",wakemeup_aviciialoeblacc:"AloeBlacc",wecantstop_mileycyrus:"MileyCyrus",wenospeakamericano_yolandabecool:"YolandaBeCool",ymca_villagepeople:"VillagePeople",firework_katyperry:"KatyPerry",calma_pedrocapo:"PedroCapo",highhopes_panicatthedisco:"PanicAtTheDisco",ificanthaveyou_shawnmendes:"ShawnMendes",introtoshamstep_47SOUL:"47soulofficial",kidzbop_ificanthaveyou_shawnmendes:"KIDZBOP",neverreallyover_katyperry:"KatyPerry",occidentalview_francescogabbani:"FrankGabbani",oldtownroadremix_lilnasx:"LilNasX",oldtownroadremix_lilnasx_long:"LilNasX",starships_nickiminaj:"NICKIMINAJ",sucker_jonasbrothers:"JonasBrothers",jazzy_beats:"codeorg",synthesize:"codeorg",onedance_drake:"Drake",elprestamo_maluma:"Maluma",despacito_luisfonsi:"LuisFonsi",tunaktunaktun_dalermehndi:"DalerMehndi",sapescommejamias_maitregims:"MaitreGIMS",lesercitodelselfie_takagi:"TakagiBeatz",gangnamstyle_psy:"Psy_Oppa",sophia_alvarosoler:"AsolerMusic",danzakuduro_donomar:"DONOMAR",cestlavie_khaled:"Khaled_Officiel",occidentaliskarma_francescogabbani:"FrankGabbani",isthatforme_anitta:"Anitta",showdaspoderosas_anitta:"Anitta",janti_muratboz:"MuratBoz",gee_girlsgen:"GirlsGeneration",growingpains_alessiacara:"AlessiaCara"}},1850:function(e,t,o){"use strict";function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var p=c(o(1)),n=c(o(0)),h=l(o(608)),g=o(613),r=c(o(6)),f=o(743),i=c(o(4)),m=o(15),y=l(o(538)),_=c(o(706));function s(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function l(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var o={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(o,r,i):o[r]=e[r]}return o.default=e,t&&t.set(e,o),o}function c(e){return e&&e.__esModule?e:{default:e}}function u(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{},n=Object.keys(Object(o));"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(o).filter(function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable}))),n.forEach(function(e){v(t,e,o[e])})}return t}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var b={checkboxCell:{width:50,textAlign:"center"},checkbox:{margin:0},container:{display:"flex"},table:{width:300,margin:2},leftColumn:{width:300},rightColumn:{flex:1,paddingLeft:20},infoText:{paddingTop:5,paddingBottom:10},label:{paddingTop:10},italics:{color:r.default.purple}},E={1:{direction:"asc",position:0}},T=function(n){function e(){for(var r,e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];return v(d(r=n.call.apply(n,[this].concat(t))||this),"state",{sortingColumns:E,selectedOption:void 0}),v(d(r),"areAllSelected",function(){return!r.props.rowData.find(function(e){return!e.isChecked})}),v(d(r),"toggleSelectAll",function(){r.props.onSelectAll(!r.areAllSelected())}),v(d(r),"selectedRowHeaderFormatter",function(){return p.default.createElement("input",{style:b.checkbox,type:"checkbox",checked:r.areAllSelected(),onChange:r.toggleSelectAll})}),v(d(r),"selectedRowFormatter",function(e,t){var o=t.rowData,n=r.props.onRowChecked;return p.default.createElement("input",{style:b.checkbox,type:"checkbox",checked:o.isChecked,onChange:function(){return n(o.id)}})}),v(d(r),"getColumns",function(e){return[{property:"selected",header:{label:"",formatters:[r.selectedRowHeaderFormatter],props:{style:u({},f.tableLayoutStyles.headerCell,b.checkboxCell)}},cell:{formatters:[r.selectedRowFormatter],props:{style:u({},f.tableLayoutStyles.cell,b.checkboxCell)}}},{property:"name",header:{label:i.default.name(),props:{style:u({},f.tableLayoutStyles.headerCell)},transforms:[e]},cell:{props:{style:u({},f.tableLayoutStyles.cell)}}}]}),v(d(r),"renderOptions",function(){var e=r.props.options.map(function(e){return p.default.createElement("option",{key:e.id,value:e.id},e.name)});return e.unshift(p.default.createElement("option",{key:"empty",value:""})),e}),v(d(r),"getSortingColumns",function(){return r.state.sortingColumns||{}}),v(d(r),"onSort",function(e){r.setState({sortingColumns:y.byColumn({sortingColumns:r.state.sortingColumns,sortingOrder:{FIRST:"asc",asc:"desc",desc:"asc"},selectedColumn:e})})}),r}return function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(e,n),e.prototype.render=function(){var e=this.props,t=e.rowData,o=e.onChooseOption,n=e.descriptionText,r=e.optionsDescriptionText,i=e.titleText,a=e.children,s=e.tableDescriptionText,l=this.getSortingColumns(),c=(0,_.default)(this.getSortingColumns,this.onSort,f.sortableOptions),u=this.getColumns(c),d=y.sorter({columns:u,sortingColumns:l,sort:m.orderBy})(t);return p.default.createElement("div",null,i&&p.default.createElement(g.Heading1,null,i),p.default.createElement("div",{style:b.container},p.default.createElement("div",{style:b.leftColumn},p.default.createElement(h.Provider,{columns:u,style:b.table},p.default.createElement(h.Header,null),p.default.createElement(h.Body,{rows:d,rowKey:"id"})),s&&p.default.createElement("i",{style:b.italics},s)),p.default.createElement("div",{style:b.rightColumn},n&&p.default.createElement("div",{style:b.infoText},n),r&&p.default.createElement("label",{htmlFor:"selectOption",style:b.label},r),p.default.createElement("select",{name:"selectOption",onChange:o},this.renderOptions()),a)))},e}(p.default.Component);v(t.default=T,"propTypes",{rowData:n.default.arrayOf(n.default.shape({id:n.default.number.isRequired,name:n.default.string.isRequired})).isRequired,onRowChecked:n.default.func.isRequired,options:n.default.array.isRequired,onChooseOption:n.default.func.isRequired,descriptionText:n.default.string,optionsDescriptionText:n.default.string,titleText:n.default.string,children:n.default.node,onSelectAll:n.default.func,tableDescriptionText:n.default.string}),e.exports=t.default},1869:function(e,t,o){"use strict";function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var p=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var t=d();if(t&&t.has(e))return t.get(e);var o={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(o,r,i):o[r]=e[r]}o.default=e,t&&t.set(e,o);return o}(o(1)),n=o(9),r=u(o(196)),s=u(o(18)),i=u(o(6)),l=u(o(0)),c=u(o(14));function u(e){return e&&e.__esModule?e:{default:e}}function d(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return d=function(){return e},e}function h(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}function g(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var f={box:{width:r.default["content-width"]},boxResponsive:{width:"100%"},bottomMargin:{marginBottom:60},headingBox:{paddingRight:10,paddingTop:10,paddingBottom:20,overflow:"hidden",zIndex:2,position:"relative"},headingText:{fontFamily:"Gotham 3r",fontSize:24,lineHeight:"26px",color:i.default.charcoal,float:"left",paddingRight:20},headingTextRtl:{fontFamily:"Gotham 3r",fontSize:24,lineHeight:"26px",color:i.default.charcoal,float:"right",paddingLeft:20},standaloneLinkBox:{paddingTop:10,position:"relative",clear:"both"},linkBox:{display:"inline",position:"absolute",bottom:20,right:0},linkBoxRtl:{display:"inline",float:"left",paddingLeft:10,position:"absolute",bottom:20,left:0},linkBoxBottom:{display:"inline",left:0},linkBoxRtlBottom:{display:"inline",right:0},description:{fontSize:14,lineHeight:"22px",fontFamily:"Gotham 3r",zIndex:2,color:i.default.charcoal,width:"100%",marginTop:-10,marginBottom:10,clear:"both"},linkToViewAll:{color:i.default.teal,fontSize:14,fontFamily:"Gotham 4r",marginTop:-2,display:"inline"},chevron:{display:"inline",color:i.default.teal,fontSize:10,fontWeight:"bold",marginLeft:15},chevronRtl:{display:"inline",color:i.default.teal,fontSize:10,fontWeight:"bold",marginRight:15},children:{justifyContent:"space-between",flexWrap:"wrap"},clear:{clear:"both"}},m=function(e){function t(){return e.apply(this,arguments)||this}return h(t,e),t.prototype.render=function(){var e=this.props,t=e.heading,o=e.link,n=e.linkText,r=e.description,i=e.isRtl,a=e.responsiveSize,s=e.hideBottomMargin,l="lg"===a&&o&&n,c="lg"!==a&&o&&n,u=f.boxResponsive,d=s?"":f.bottomMargin;return p.default.createElement("div",{style:[u,d]},(t||o&&n)&&p.default.createElement("div",{style:f.headingBox},p.default.createElement("div",{style:i?f.headingTextRtl:f.headingText},t),l&&p.default.createElement(y,{link:o,linkText:n,isRtl:i})),r&&p.default.createElement("div",{style:f.description},r),p.default.createElement("div",{style:f.children},p.default.Children.map(this.props.children,function(e,t){return p.default.createElement("div",{key:t},e)})),c&&p.default.createElement("div",{style:f.standaloneLinkBox},p.default.createElement(y,{link:o,linkText:n,isRtl:i,bottom:!0})),p.default.createElement("div",{style:f.clear}))},t}(p.Component);g(m,"propTypes",{children:l.default.oneOfType([l.default.node,l.default.arrayOf(l.default.node)]),heading:l.default.string,linkText:l.default.string,link:l.default.string,isRtl:l.default.bool.isRequired,description:l.default.string,responsiveSize:l.default.oneOf(["lg","md","sm","xs"]).isRequired,hideBottomMargin:l.default.bool});var y=function(e){function t(){return e.apply(this,arguments)||this}return h(t,e),t.prototype.render=function(){var e,t=this.props,o=t.link,n=t.linkText,r=t.isRtl,i=t.bottom;e=r?i?f.linkBoxRtlBottom:f.linkBoxRtl:i?f.linkBoxBottom:f.linkBox;var a=r?"chevron-left":"chevron-right";return p.default.createElement("div",{style:e},p.default.createElement("a",{href:o},r&&p.default.createElement(s.default,{icon:a,style:f.chevronRtl}),p.default.createElement("div",{style:f.linkToViewAll},n)),p.default.createElement("a",{href:o,style:{textDecoration:"none"}},!r&&p.default.createElement(s.default,{icon:a,style:f.chevron})))},t}(p.Component);g(y,"propTypes",{linkText:l.default.string.isRequired,link:l.default.string.isRequired,isRtl:l.default.bool.isRequired,bottom:l.default.bool});var _=(0,n.connect)(function(e){return{responsiveSize:e.responsive.responsiveSize,isRtl:e.isRtl}})((0,c.default)(m));t.default=_,e.exports=t.default},1874:function(e,R,N){(function(g,f){var m;/*! https://mths.be/punycode v1.3.2 by @mathias */!function(e){R&&R.nodeType,g&&g.nodeType;var t="object"==typeof f&&f;t.global!==t&&t.window!==t&&t.self;var o,y=2147483647,_=36,v=1,b=26,r=38,i=700,E=72,T=128,S="-",n=/^xn--/,a=/[^\x20-\x7E]/,s=/[\x2E\u3002\uFF0E\uFF61]/g,l={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},c=_-v,k=Math.floor,C=String.fromCharCode;function A(e){throw RangeError(l[e])}function u(e,t){for(var o=e.length,n=[];o--;)n[o]=t(e[o]);return n}function d(e,t){var o=e.split("@"),n="";return 1<o.length&&(n=o[0]+"@",e=o[1]),n+u((e=e.replace(s,".")).split("."),t).join(".")}function O(e){for(var t,o,n=[],r=0,i=e.length;r<i;)55296<=(t=e.charCodeAt(r++))&&t<=56319&&r<i?56320==(64512&(o=e.charCodeAt(r++)))?n.push(((1023&t)<<10)+(1023&o)+65536):(n.push(t),r--):n.push(t);return n}function w(e){return u(e,function(e){var t="";return 65535<e&&(t+=C((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+=C(e)}).join("")}function B(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function I(e,t,o){var n=0;for(e=o?k(e/i):e>>1,e+=k(e/t);c*b>>1<e;n+=_)e=k(e/c);return k(n+(c+1)*e/(e+r))}function p(e){var t,o,n,r,i,a,s,l,c,u,d,p=[],h=e.length,g=0,f=T,m=E;for((o=e.lastIndexOf(S))<0&&(o=0),n=0;n<o;++n)128<=e.charCodeAt(n)&&A("not-basic"),p.push(e.charCodeAt(n));for(r=0<o?o+1:0;r<h;){for(i=g,a=1,s=_;h<=r&&A("invalid-input"),d=e.charCodeAt(r++),(_<=(l=d-48<10?d-22:d-65<26?d-65:d-97<26?d-97:_)||l>k((y-g)/a))&&A("overflow"),g+=l*a,!(l<(c=s<=m?v:m+b<=s?b:s-m));s+=_)a>k(y/(u=_-c))&&A("overflow"),a*=u;m=I(g-i,t=p.length+1,0==i),k(g/t)>y-f&&A("overflow"),f+=k(g/t),g%=t,p.splice(g++,0,f)}return w(p)}function h(e){var t,o,n,r,i,a,s,l,c,u,d,p,h,g,f,m=[];for(p=(e=O(e)).length,t=T,i=E,a=o=0;a<p;++a)(d=e[a])<128&&m.push(C(d));for(n=r=m.length,r&&m.push(S);n<p;){for(s=y,a=0;a<p;++a)t<=(d=e[a])&&d<s&&(s=d);for(s-t>k((y-o)/(h=n+1))&&A("overflow"),o+=(s-t)*h,t=s,a=0;a<p;++a)if((d=e[a])<t&&++o>y&&A("overflow"),d==t){for(l=o,c=_;!(l<(u=c<=i?v:i+b<=c?b:c-i));c+=_)f=l-u,g=_-u,m.push(C(B(u+f%g,0))),l=k(f/g);m.push(C(B(l,0))),i=I(o,h,n==r),o=0,++n}++o,++t}return m.join("")}o={version:"1.3.2",ucs2:{decode:O,encode:w},decode:p,encode:h,toASCII:function(e){return d(e,function(e){return a.test(e)?"xn--"+h(e):e})},toUnicode:function(e){return d(e,function(e){return n.test(e)?p(e.slice(4).toLowerCase()):e})}},void 0===(m=function(){return o}.call(R,N,R,g))||(g.exports=m)}()}).call(this,N(87)(e),N(25))},1875:function(e,t,o){"use strict";e.exports={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},1876:function(e,t,o){"use strict";e.exports=function(e,t,o,n){t=t||"&",o=o||"=";var r={};if("string"!=typeof e||0===e.length)return r;var i=/\+/g;e=e.split(t);var a=1e3;n&&"number"==typeof n.maxKeys&&(a=n.maxKeys);var s,l,c=e.length;0<a&&a<c&&(c=a);for(var u=0;u<c;++u){var d,p,h,g,f=e[u].replace(i,"%20"),m=f.indexOf(o);p=0<=m?(d=f.substr(0,m),f.substr(m+1)):(d=f,""),h=decodeURIComponent(d),g=decodeURIComponent(p),s=r,l=h,Object.prototype.hasOwnProperty.call(s,l)?y(r[h])?r[h].push(g):r[h]=[r[h],g]:r[h]=g}return r};var y=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},1877:function(e,t,o){"use strict";var i=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(o,n,r,e){return n=n||"&",r=r||"=",null===o&&(o=void 0),"object"==typeof o?s(l(o),function(e){var t=encodeURIComponent(i(e))+r;return a(o[e])?s(o[e],function(e){return t+encodeURIComponent(i(e))}).join(n):t+encodeURIComponent(i(o[e]))}).join(n):e?encodeURIComponent(i(e))+r+encodeURIComponent(i(o)):""};var a=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function s(e,t){if(e.map)return e.map(t);for(var o=[],n=0;n<e.length;n++)o.push(t(e[n],n));return o}var l=Object.keys||function(e){var t=[];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.push(o);return t}},1881:function(e,t,o){"use strict";var m=o(391),y=o(714);t.defineForAce=function(p,h,g,f){ace.define("ace/mode/javascript_codeorg",["require","exports","module","ace/lib/oop","ace/mode/javascript","ace/mode/javascript_highlight_rules","ace/worker/worker_client","ace/mode/matching_brace_outdent","ace/mode/behaviour/cstyle","ace/mode/folding/cstyle","ace/config","ace/lib/net","ace/ext/searchbox"],function(e,t,o){var n=e("ace/lib/oop"),r=e("ace/mode/javascript").Mode,i=e("ace/mode/javascript_highlight_rules").JavaScriptHighlightRules,a=e("ace/worker/worker_client"),s=a.WorkerClient;window.Worker||(s=a.UIWorkerClient,window.Worker=s);var l=e("./matching_brace_outdent").MatchingBraceOutdent,c=e("./behaviour/cstyle").CstyleBehaviour,u=e("./folding/cstyle").FoldMode,d=function(){this.HighlightRules=i,this.$outdent=new l,this.$behaviour=new c,this.foldingRules=new u};n.inherits(d,r),function(){this.$highlightRules=new i,this.$highlightRules.$keywordList=[],this.createWorker=function(e){var t=new s(["ace"],"ace/mode/javascript_worker","JavaScriptWorker");t.attachToDocument(e.getDocument());var o={"-W041":!1,eqeqeq:!1,unused:!0,undef:!0,maxerr:1e3,predef:{},exported:{}};return(0,m.getAllAvailableDropletBlocks)(p).forEach(function(e){e.block||e.modeOptionName&&"*"===e.modeOptionName[0]||-1!==e.func.indexOf(".")||(o.predef[e.func]=!1)}),p.additionalPredefValues&&p.additionalPredefValues.forEach(function(e){o.predef[e]=!1}),h&&h.forEach(function(e){o.exported[e]=!1}),y.attachToSession(e,g),t.send("changeOptions",[o]),t.on("jslint",function(e){y.setJSLintAnnotations(e,f)}),t.on("terminate",function(){e.clearAnnotations()}),t},this.cleanup=function(){y.detachFromSession()}}.call(d.prototype),t.Mode=d})}},1882:function(e,t){var r=[{original:/Assignment in conditional expression/,replacement:"For conditionals, use the comparison operator (===) to check if two things are equal."},{original:/(.*)\sis defined but never used./,replacement:"$1 is defined, but it's not called in your program."},{original:/(.*)\sis not defined./,replacement:"$1 hasn't been declared yet."},{original:/Expected an identifier and instead saw (.*)\s\(a reserved word\)./,applab_replacement:"$1 is a reserved word in App Lab. Use a different variable name.",gamelab_replacement:"$1 is a reserved word in Game Lab. Use a different variable name."},{original:/'setup' is defined, but it's not called in your program./,replacement:"'setup' is a function that already exists in Game Lab. Consider giving this function a different name."}];e.exports.processResults=function(e,n){e.data.forEach(function(o){"info"===o.type&&(o.type="warning"),r.forEach(function(e){var t;e.original.test(o.text)&&(t=e.replacement?e.replacement:"Applab"===n?e.applab_replacement:e.gamelab_replacement,o.text=o.text.replace(e.original,t))})})}},1883:function(e,t,o){"use strict";var l=r(o(326)),c=r(o(1)),u=r(o(8)),n=r(o(1037)),d=r(o(622));function r(e){return e&&e.__esModule?e:{default:e}}var p,h=(0,n.default)(function(){return Promise.all([o.e(7),o.e(11)]).then(o.t.bind(null,2560,7))}),g=(0,n.default)(function(){return Promise.all([o.e(7),o.e(10)]).then(o.t.bind(null,2561,7))});e.exports={showAssetManager:function(o,e,t,n){n=n||{};var r=new l.default,i=document.createElement("div"),a=o&&"function"==typeof o;p=new d.default({body:i,id:"manageAssetsModal",onHidden:function(){r.stopAllAudio(),t&&t()}});var s="audio"===e?g:h;u.default.render(c.default.createElement(s,{typeFilter:e,uploadsEnabled:!dashboard.project.exceedsAbuseThreshold(),useFilesApi:!!n.useFilesApi,assetChosen:a?function(e,t){p.hide(),o(e,t)}:null,showUnderageWarning:!!n.showUnderageWarning,projectId:dashboard.project.getCurrentId(),soundPlayer:r,disableAudioRecording:n.disableAudioRecording,elementId:n.elementId,libraryOnly:n.libraryOnly}),i),p.show()},hideAssetManager:function(){p&&p.hide()}}},1884:function(e,t,o){"use strict";function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=c(o(0)),r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var t=l();if(t&&t.has(e))return t.get(e);var o={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(o,r,i):o[r]=e[r]}o.default=e,t&&t.set(e,o);return o}(o(1)),i=c(o(6)),s=c(o(1885));function l(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return l=function(){return e},e}function c(e){return e&&e.__esModule?e:{default:e}}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var p={main:{position:"absolute",top:50,left:"50%",transform:"translate(-50%, 0)",WebkitTransform:"translate(-50%, 0)",border:"1px solid #ccc",background:"#fff",overflow:"auto",WebkitOverflowScrolling:"touch",borderRadius:"4px",outline:"none",padding:"20px",zIndex:1050},overlay:{position:"fixed",opacity:.8,backgroundColor:i.default.black,top:0,left:0,bottom:0,right:0,zIndex:1040}},h=function(o){function e(e){var t;return d(u(t=o.call(this,e)||this),"handleTooYoung",function(){t.setState({modalIsOpen:!1}),t.props.handleTooYoung()}),d(u(t),"handleClose",function(){t.setState({modalIsOpen:!1}),t.props.handleClose()}),t.state={modalIsOpen:t.props.promptForAge||t.props.showStoreDataAlert},t}!function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(e,o);var t=e.prototype;return t.componentDidMount=function(){this.state.modalIsOpen||this.handleClose()},t.render=function(){if(!this.state.modalIsOpen)return r.default.createElement("div",null);var e=function(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{},n=Object.keys(Object(o));"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(o).filter(function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable}))),n.forEach(function(e){d(t,e,o[e])})}return t}({},p.main,{width:window.screen.width<500?"80%":void 0});return r.default.createElement("div",null,r.default.createElement("div",{style:p.overlay}),r.default.createElement("div",{style:e},r.default.createElement(s.default,{promptForAge:this.props.promptForAge,showStoreDataAlert:this.props.showStoreDataAlert,handleTooYoung:this.handleTooYoung,handleClose:this.handleClose})))},e}(r.Component);d(h,"propTypes",{promptForAge:n.default.bool.isRequired,showStoreDataAlert:n.default.bool.isRequired,handleClose:n.default.func.isRequired,handleTooYoung:n.default.func.isRequired});var g=h;t.default=g,e.exports=t.default},1885:function(e,t,o){"use strict";function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=d(o(0)),i=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var t=u();if(t&&t.has(e))return t.get(e);var o={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(o,r,i):o[r]=e[r]}o.default=e,t&&t.set(e,o);return o}(o(1)),s=d(o(8)),r=d(o(6)),l=d(o(1564)),c=d(o(4));function u(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return u=function(){return e},e}function d(e){return e&&e.__esModule?e:{default:e}}function p(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var h={ageDropdown:{fontSize:14,width:220,height:30,lineHeight:"30px",marginBottom:10},dataMessage:{fontSize:18,lineHeight:"21px",marginBottom:30},dataMessageHighlight:{backgroundColor:"yellow"},ageMessage:{fontSize:18,marginBottom:10},moreInfo:{marginLeft:0,fontSize:15},ok:{backgroundColor:r.default.orange,border:"1px solid "+r.default.orange,color:r.default.white,float:"right"}},g=function(r){function e(){for(var t,e=arguments.length,o=new Array(e),n=0;n<e;n++)o[n]=arguments[n];return p(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t=r.call.apply(r,[this].concat(o))||this),"handleOk",function(){if(t.props.promptForAge){var e=s.default.findDOMNode(t.refs.age);if(""!==e.value)13<=parseInt(e.value,10)?t.props.handleClose():t.props.handleTooYoung()}else t.props.handleClose()}),t}return function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(e,r),e.prototype.render=function(){return i.default.createElement("div",null,this.props.showStoreDataAlert&&i.default.createElement("div",{style:h.dataMessage},c.default.shareWarningsStoreDataBeforeHighlight(),i.default.createElement("span",{style:h.dataMessageHighlight},c.default.shareWarningsStoreDataHighlight()),c.default.shareWarningsStoreDataAfterHighlight()),this.props.promptForAge&&i.default.createElement("div",null,i.default.createElement("div",{style:h.ageMessage},c.default.shareWarningsAge()),i.default.createElement(l.default,{style:h.ageDropdown,ref:"age"})),i.default.createElement("div",null,i.default.createElement("a",{style:h.moreInfo,target:"_blank",href:"https://code.org/privacy"},c.default.shareWarningsMoreInfo()),i.default.createElement("button",{type:"button",style:h.ok,onClick:this.handleOk},c.default.dialogOK())))},e}(i.Component);p(g,"propTypes",{promptForAge:n.default.bool.isRequired,showStoreDataAlert:n.default.bool.isRequired,handleClose:n.default.func.isRequired,handleTooYoung:n.default.func.isRequired});var f=g;t.default=f,e.exports=t.default},1886:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=u(o(1241)),r=o(46),i=o(368),a=o(1757),s=o(37),l=o(11),c=u(o(4));function u(e){return e&&e.__esModule?e:{default:e}}var d="hint_prompt_seen_levels",p=function(){function e(e){this.studioApp_=e,this.scriptId_=void 0,this.levelId_=void 0}var t=e.prototype;return t.getUnseenHints=function(){return(0,r.getStore)().getState().authoredHints.unseenHints},t.getSeenHints=function(){return(0,r.getStore)().getState().authoredHints.seenHints},t.displayMissingBlockHints=function(e){var t=n.default.createContextualHintsFromBlocks(e);(0,r.getStore)().dispatch((0,a.displayMissingBlockHints)(t)),0<t.length&&0<this.getUnseenHints().length&&(0,r.getStore)().dispatch((0,i.setHasAuthoredHints)(!0))},t.finishHints=function(e){n.default.finishHints({time:(new Date).getTime()-this.studioApp_.initTime,attempt:this.studioApp_.attempts,testResult:this.studioApp_.lastTestResult,activityId:e&&e.activity_id,levelSourceId:e&&e.level_source_id})},t.submitHints=function(e){n.default.submitHints(e)},t.init=function(e,t,o,n){this.scriptId_=o,this.levelId_=n,e&&0<e.length&&((0,r.getStore)().dispatch((0,a.enqueueHints)(e,t)),(0,r.getStore)().dispatch((0,i.setHasAuthoredHints)(!0)))},t.showNextHint=function(){if(0!==this.getUnseenHints().length){var e=this.getUnseenHints()[0];if(this.recordUserViewedHint_(e),e.hintPath&&e.hintPath.length){var t=(0,l.createEvent)("displayHintPath");t.detail=e.hintPath,window.dispatchEvent(t)}return e}},t.recordUserViewedHint_=function(e){(0,r.getStore)().dispatch((0,a.showNextHint)(e)),n.default.recordUnfinishedHint({scriptId:this.scriptId_,levelId:this.levelId_,hintId:e.hintId,hintClass:e.hintClass,hintType:e.hintType})},t.getOnetimeHintPromptSeenLevelIds=function(){var e=(0,l.tryGetSessionStorage)(d,"[]");return JSON.parse(e||"[]")},t.onetimeHintPromptSeenThisLevel=function(){var e=this.levelId_;return this.getOnetimeHintPromptSeenLevelIds().includes(e)},t.shouldShowOnetimeHintPrompt=function(){var e=this.studioApp_.lastTestResult<s.TestResults.MINIMUM_PASS_RESULT,t=0<this.getUnseenHints().length,o=!this.onetimeHintPromptSeenThisLevel(),n=0===this.getSeenHints().length,r=this.studioApp_.attempts>=this.studioApp_.config.level.hintPromptAttemptsThreshold;return e&&t&&o&&n&&r},t.considerShowingOnetimeHintPrompt=function(){this.shouldShowOnetimeHintPrompt()&&this.showOnetimeHintPrompt()},t.showOnetimeHintPrompt=function(){var e=this.getOnetimeHintPromptSeenLevelIds();e.push(this.levelId_),(0,l.trySetSessionStorage)(d,JSON.stringify(e));var t=c.default.onetimeHintPromptTitle(),o=c.default.onetimeHintPromptMessage();(0,l.showGenericQtip)("#lightbulb",t,o,{my:"top left",at:"bottom right"})},e}();t.default=p,e.exports=t.default},1887:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.confetti=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},o=t.angle,n=void 0===o?90:o,r=t.decay,i=void 0===r?.9:r,a=t.spread,s=void 0===a?45:a,l=t.startVelocity,c=void 0===l?45:l,u=t.elementCount,d=void 0===u?50:u,p=t.colors,h=void 0===p?f:p,g=function(r,e,i){return Array.from({length:e}).map(function(e,t){var o=document.createElement("div"),n=i[t%i.length];return o.style["background-color"]=n,o.style.width="10px",o.style.height="10px",o.style.position="absolute",r.appendChild(o),o})}(e,d,h).map(function(e){return{element:e,physics:function(e,t,o){var n=e*(Math.PI/180),r=t*(Math.PI/180);return{x:0,y:0,wobble:10*Math.random(),velocity:.5*o+Math.random()*o,angle2D:-n+(.5*r-Math.random()*r),angle3D:-Math.PI/4+Math.random()*(Math.PI/2),tiltAngle:Math.random()*Math.PI}}(n,s,c)}});!function(t,o,n){var r=200,i=0;requestAnimationFrame(function e(){o.forEach(function(e){return m(e,i/r,n)});i+=1;i<r?requestAnimationFrame(e):o.forEach(function(e){return t.removeChild(e.element)})})}(e,g,i)};var f=["#a864fd","#29cdff","#78ff44","#ff718d","#fdff6a"];function m(e,t,o){e.physics.x+=Math.cos(e.physics.angle2D)*e.physics.velocity,e.physics.y+=Math.sin(e.physics.angle2D)*e.physics.velocity,e.physics.z+=Math.sin(e.physics.angle3D)*e.physics.velocity,e.physics.wobble+=.1,e.physics.velocity*=o,e.physics.y+=3,e.physics.tiltAngle+=.1;var n=e.physics,r=n.x,i=n.y,a=n.tiltAngle,s=n.wobble,l=r+10*Math.cos(s),c=i+10*Math.sin(s),u="translate3d("+l+"px, "+c+"px, 0) rotate3d(1, 1, 1, "+a+"rad)";e.element.style.transform=u,e.element.style.opacity=1-t}},1888:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.UnconnectedDialogInstructions=void 0;var n=l(o(0)),r=l(o(1)),i=o(9),a=l(o(1052)),s=l(o(4));function l(e){return e&&e.__esModule?e:{default:e}}var c,u,d,p=function(e){function t(){return e.apply(this,arguments)||this}return function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(t,e),t.prototype.render=function(){var e=!(this.props.imgOnly||this.props.hintsOnly),t=!this.props.hintsOnly;return r.default.createElement(a.default,{puzzleTitle:s.default.puzzleTitle({stage_total:this.props.stageTotal,puzzle_number:this.props.puzzleNumber}),shortInstructions:e?this.props.shortInstructions:void 0,instructions2:e?this.props.shortInstructions2:void 0,longInstructions:e?this.props.longInstructions:void 0,imgURL:t?this.props.imgURL:void 0})},t}(r.default.Component);c=p,u="propTypes",d={puzzleNumber:n.default.number.isRequired,stageTotal:n.default.number.isRequired,shortInstructions:n.default.string.isRequired,shortInstructions2:n.default.string,longInstructions:n.default.string,imgURL:n.default.string,imgOnly:n.default.bool,hintsOnly:n.default.bool},u in c?Object.defineProperty(c,u,{value:d,enumerable:!0,configurable:!0,writable:!0}):c[u]=d;var h=p;t.UnconnectedDialogInstructions=h;var g=(0,i.connect)(function(e){return{puzzleNumber:e.pageConstants.puzzleNumber,stageTotal:e.pageConstants.stageTotal,shortInstructions:e.instructions.shortInstructions,shortInstructions2:e.instructions.shortInstructions2,longInstructions:e.instructions.longInstructions,imgURL:e.instructionsDialog.imgUrl||e.pageConstants.aniGifURL,imgOnly:e.instructionsDialog.imgOnly,hintsOnly:e.instructionsDialog.hintsOnly}})(p);t.default=g},1889:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.StatelessMarkdownInstructions=void 0;var a=h(o(10)),s=h(o(1)),l=h(o(8)),n=h(o(0)),r=h(o(14)),c=o(1266),i=o(9),u=o(379),d=o(854),p=h(o(93));function h(e){return e&&e.__esModule?e:{default:e}}function g(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var f={standard:{marginBottom:35,paddingTop:19},inTopPane:{marginTop:10,marginBottom:10,paddingTop:0},inTopPaneCanCollapse:{marginTop:0,marginBottom:0}},m=function(e){function t(){return e.apply(this,arguments)||this}!function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(t,e);var o=t.prototype;return o.componentDidMount=function(){this.configureMarkdown_()},o.componentDidUpdate=function(e){e.markdown!==this.props.markdown&&this.configureMarkdown_()},o.componentWillUnmount=function(){var e=(0,a.default)(l.default.findDOMNode(this)).find("details");e.details&&e.off("toggle.details.TopInstructions")},o.configureMarkdown_=function(){var o=this;if(this.props.onResize){var e=l.default.findDOMNode(this),t=(0,a.default)(e).find("details");t.details&&(t.details(),t.on({"toggle.details.TopInstructions":function(){o.props.onResize()}})),this.props.isBlockly&&Blockly.BlockSpace.onMainBlockSpaceCreated(function(){(0,u.convertXmlToBlockly)(l.default.findDOMNode(o)),o.props.onResize()}),(0,a.default)(e).find("img").load(this.props.onResize);for(var n=e.querySelectorAll(".expandable-image"),r=function(e){var t=n[e];l.default.render(s.default.createElement(c.ImagePreview,{url:t.dataset.url,noVisualization:!1,showInstructionsDialog:function(){return o.props.showImageDialog(t.dataset.url)}}),t)},i=0;i<n.length;i++)r(i)}},o.render=function(){var e=this.props,t=e.inTopPane,o=e.markdown,n=!this.props.noInstructionsWhenCollapsed;return s.default.createElement("div",{className:"instructions-markdown",style:[f.standard,t&&f.inTopPane,t&&n&&f.inTopPaneCanCollapse]},s.default.createElement(p.default,{markdown:o}))},t}(s.default.Component);g(m,"propTypes",{markdown:n.default.string.isRequired,noInstructionsWhenCollapsed:n.default.bool,onResize:n.default.func,inTopPane:n.default.bool,isBlockly:n.default.bool,showImageDialog:n.default.func}),g(m,"defaultProps",{noInstructionsWhenCollapsed:!1});var y=(0,r.default)(m);t.StatelessMarkdownInstructions=y;var _=(0,i.connect)(function(e){return{isBlockly:e.pageConstants.isBlockly,noInstructionsWhenCollapsed:e.instructions.noInstructionsWhenCollapsed}},function(t){return{showImageDialog:function(e){t((0,d.openDialog)({autoClose:!1,imgOnly:!0,hintsOnly:!1,imgUrl:e}))}}})((0,r.default)(m));t.default=_},1890:function(e,t,o){"use strict";var n=a(o(0)),r=a(o(1)),i=a(o(93));function a(e){return e&&e.__esModule?e:{default:e}}var s={main:{marginBottom:35,marginLeft:80}},l=function(e){return r.default.createElement("div",{style:s.main},r.default.createElement("p",{className:"dialog-title"},e.puzzleTitle),e.shortInstructions&&r.default.createElement("div",{className:"instructions"},r.default.createElement(i.default,{markdown:e.shortInstructions})),e.instructions2&&r.default.createElement("div",{className:"instructions2"},r.default.createElement(i.default,{markdown:e.instructions2})))};l.propTypes={puzzleTitle:n.default.string.isRequired,shortInstructions:n.default.string,instructions2:n.default.string},e.exports=l},1891:function(e,t,o){"use strict";var n=i(o(0)),r=i(o(1));function i(e){return e&&e.__esModule?e:{default:e}}var a=function(e){return r.default.createElement("div",null,r.default.createElement("table",null,r.default.createElement("tbody",null,r.default.createElement("tr",null,r.default.createElement("th",null,"Input"),r.default.createElement("th",null,"Output")),e.data.map(function(e,t){return r.default.createElement("tr",{key:t},r.default.createElement("td",null,e[0]),r.default.createElement("td",null,e[1]))}))))};a.propTypes={data:n.default.arrayOf(n.default.arrayOf(n.default.number)).isRequired},e.exports=a},1892:function(e,t,o){"use strict";var n=a(o(10)),r=o(391),i=a(o(622));function a(e){return e&&e.__esModule?e:{default:e}}var s=o(1893),l=o(1894),c=o(1895),u=o(1896);function d(e,t,o,n,r){this.appType=r,this.appMsg=e||{},this.tooltipsEnabled=!0,this.dropletConfig=t||{},this.codeFunctions=o,this.autocompletePaletteApisOnly=n,this.blockTypeToTooltip_={},this.docFuncMapping_={},this.dropletBlockTooltipManager_=new l(this),this.dropletAutocompletePopupTooltipManager_=new c(this),this.dropletAutocompleteParameterTooltipManager_=new u(this)}d.prototype.registerDropletBlockModeHandlers=function(e){this.dropletBlockTooltipManager_.installTooltipsForEditor_(e)},d.prototype.registerDropletTextModeHandlers=function(e){this.dropletAutocompletePopupTooltipManager_.installTooltipsForEditor_(e),this.dropletAutocompleteParameterTooltipManager_.installTooltipsForEditor_(e)},d.prototype.registerBlocks=function(){(0,r.getAllAvailableDropletBlocks)(this.dropletConfig,this.codeFunctions,this.autocompletePaletteApisOnly).forEach(function(e){var t=e.modeOptionName||e.func;e.docFunc?this.docFuncMapping_[t]=e.docFunc:this.blockTypeToTooltip_[t]=new s(this.appMsg,e)},this)},d.prototype.getDocFor=function(e){var t=this.docFuncMapping_[e]||e;return this.blockTypeToTooltip_[t]},d.prototype.showDocFor=function(e){if(this.tooltipsEnabled){var t=this.getDropletTooltip(e);if(t.customDocURL)window.open(t.customDocURL,"_blank").focus();else(0,n.default)(".tooltipstered").tooltipster("hide"),new i.default({body:(0,n.default)("<iframe>").addClass("markdown-instructions-container").width("100%").attr("src",t.getFullDocumentationURL(this.appType)),autoResizeScrollableElement:".markdown-instructions-container",id:"block-documentation-lightbox"}).show()}},d.prototype.getDropletTooltip=function(e){var t=this.getDocFor(e);if(!t)throw"Function name "+e+" not registered in documentation manager.";return t},d.prototype.setTooltipsEnabled=function(e){this.tooltipsEnabled=!!e,this.dropletAutocompletePopupTooltipManager_.setTooltipsEnabled(e),this.dropletAutocompleteParameterTooltipManager_.setTooltipsEnabled(e),this.dropletBlockTooltipManager_.setTooltipsEnabled(e)},e.exports=d},1893:function(e,t,o){var n=o(4),r=function(e,t){this.appMsg=e,this.functionName=t.func,this.isProperty="property"===t.type||"readonlyproperty"===t.type,this.tipPrefix=t.tipPrefix,this.customDocURL=t.customDocURL;var o=this.getLocalization(this.descriptionKey());t.comment?(this.description=t.comment,this.customExamplesLink=!0):o&&(this.description=o());var n=this.getLocalization(this.signatureOverrideKey());n&&(this.signatureOverride=n()),this.parameterInfos=[];for(var r=0;;r++){var i={},a=this.getLocalization(this.parameterNameKey(r));if(i.name=a?a():t.paletteParams&&t.paletteParams[r],!i.name)break;var s=this.getLocalization(this.parameterDescriptionKey(r));s&&(i.description=s()),t.assetTooltip&&(i.assetTooltip=t.assetTooltip[r]),this.parameterInfos.push(i)}};r.prototype.getLocalization=function(e){return this.appMsg[e]||n[e]},r.prototype.descriptionKey=function(){return this.i18nPrefix()+"_description"},r.prototype.signatureOverrideKey=function(){return this.i18nPrefix()+"_signatureOverride"},r.prototype.parameterNameKey=function(e){return this.i18nPrefix()+"_param"+e},r.prototype.parameterDescriptionKey=function(e){return this.i18nPrefix()+"_param"+e+"_description"},r.prototype.i18nPrefix=function(){return"dropletBlock_"+this.functionName},r.prototype.getFullDocumentationURL=function(e){return this.customDocURL?this.customDocURL:"/docs/"+e+"/"+this.functionName+"/"},e.exports=r},1894:function(e,t,o){"use strict";var n,l=(n=o(10))&&n.__esModule?n:{default:n};var r=o(1267),c=o(127),i=function(e){this.dropletTooltipManager=e,this.showExamplesLink=e.dropletConfig.showExamplesLink,this.tooltipsEnabled=!0},u={interactive:!0,speed:150,maxWidth:450,position:"right",contentAsHTML:!0,theme:"droplet-block-tooltipster",offsetY:2,delay:400};function a(e){return function(){try{e()}catch(e){"undefined"!=typeof console&&console.error&&console.error(e)}}}i.prototype.installTooltipsForEditor_=function(e){this.installTooltipsForCurrentCategoryBlocks_(),this.hideTooltipsOnBlockPick_(e),e.on("changepalette",a(this.installTooltipsForCurrentCategoryBlocks_.bind(this))),e.on("toggledone",a(this.installTooltipsIfNotInstalled_.bind(this)))},i.prototype.installTooltipsIfNotInstalled_=function(){(0,l.default)(".droplet-hover-div").hasClass("tooltipstered")||this.installTooltipsForCurrentCategoryBlocks_()},i.prototype.installTooltipsForCurrentCategoryBlocks_=function(){this.tooltipsEnabled&&(0,l.default)(".droplet-hover-div").each(function(e,t){if(!(0,l.default)(t).hasClass("tooltipstered")){var n=(0,l.default)(t).attr("title"),o=t.getBoundingClientRect(),r=(0,l.default)(".droplet-palette-scroller").width(),i=Math.min(o.width,r);if(0!==i){var a=-o.height/2+2,s=Object.assign({},u,{content:this.getTooltipHTML(n),offsetX:i,offsetY:a,functionReady:function(e,t){if(this.showExamplesLink){var o=t.find(".tooltip-example-link > a")[0];c.addClickTouchEvent(o,function(e){this.dropletTooltipManager.showDocFor(n),e.stopPropagation()}.bind(this))}}.bind(this)});(0,l.default)(t).attr("data-block",n),(0,l.default)(t).attr("id","droplet_palette_block_"+n),(0,l.default)(t).tooltipster(s)}}}.bind(this))},i.prototype.hideTooltipsOnBlockPick_=function(e){e.on("pickblock",function(){(0,l.default)(".tooltipstered").tooltipster("hide")})},i.prototype.getTooltipHTML=function(e){var t=this.dropletTooltipManager.getDropletTooltip(e);return r({functionName:t.functionName,isProperty:t.isProperty,tipPrefix:t.tipPrefix,functionShortDescription:t.description,parameters:t.parameterInfos,signatureOverride:t.signatureOverride,showExamplesLink:this.showExamplesLink,customExamplesLink:t.customExamplesLink})},i.prototype.setTooltipsEnabled=function(e){this.tooltipsEnabled=!!e},e.exports=i},1895:function(e,t,o){"use strict";var n,r=(n=o(10))&&n.__esModule?n:{default:n};var i=o(1267),a=o(127),s=function(e){this.dropletTooltipManager=e,this.showExamplesLink=e.dropletConfig.showExamplesLink,this.tooltipsEnabled=!0},l={interactive:!0,autoClose:!1,trigger:"custom",speed:100,maxWidth:450,position:"left",contentAsHTML:!0,theme:"droplet-block-tooltipster",offsetY:2,restoration:"none",updateAnimation:!1};s.prototype.installTooltipsForEditor_=function(e){var t=e.aceEditor;this.editorChangedEventHandler_=this.setupOnPopupShown_.bind(this,t),t.commands.on("afterExec",this.editorChangedEventHandler_)},s.prototype.setupOnPopupShown_=function(e,t){"insertstring"===t.command.name&&(e.completer&&e.completer.popup&&(this.setupForEditorPopup_(e),e.commands.removeListener("afterExec",this.editorChangedEventHandler_),this.editorChangedEventHandler_=null))},s.prototype.setupForEditorPopup_=function(e){e.completer.popup.setSelectOnHover(!0),e.completer.popup.renderer.on("afterRender",function(){this.updateAutocompletePopupTooltip(e)}.bind(this)),e.completer.popup.on("hide",function(){this.destroyAutocompleteTooltips_()}.bind(this))},s.prototype.updateAutocompletePopupTooltip=function(e){if(this.tooltipsEnabled&&e.completer.completions){var t=e.completer.popup.getRow();if(!(t<0)){var o=e.completer.completions.filtered,n=o[t].docFunc||o[t].value;this.destroyAutocompleteTooltips_(),this.dropletTooltipManager.getDocFor(n)&&this.attachTooltipForFunction(n)}}},s.prototype.attachTooltipForFunction=function(n){var e=this.getTooltipHTML(n),t=Object.assign({},l,{content:e,functionReady:function(e,t){if(this.showExamplesLink){var o=t.find(".tooltip-example-link > a")[0];a.addMouseDownTouchEvent(o,function(e){this.dropletTooltipManager.showDocFor(n),e.stopPropagation()}.bind(this))}}.bind(this)}),o=(0,r.default)(".ace_selected");o.tooltipster(t),o.tooltipster("show")},s.prototype.destroyAutocompleteTooltips_=function(){(0,r.default)(".ace_autocomplete .tooltipstered").tooltipster("destroy")},s.prototype.getTooltipHTML=function(e){var t=this.dropletTooltipManager.getDropletTooltip(e);return i({functionName:t.functionName,isProperty:t.isProperty,tipPrefix:t.tipPrefix,functionShortDescription:t.description,parameters:t.parameterInfos,signatureOverride:t.signatureOverride,showExamplesLink:this.showExamplesLink})},s.prototype.setTooltipsEnabled=function(e){this.tooltipsEnabled=!!e},e.exports=s},1896:function(e,t,o){"use strict";var n,c=(n=o(10))&&n.__esModule?n:{default:n},r=o(391);var i=o(1897),a=o(1898),u=o(127),s=function(e){this.dropletTooltipManager=e,this.showExamplesLink=e.dropletConfig.showExamplesLink,this.showParamDropdowns=e.dropletConfig.showParamDropdowns,this.tooltipConfig={interactive:!0,autoClose:!1,trigger:"custom",speed:100,maxWidth:450,position:this.showParamDropdowns?"top":"bottom",contentAsHTML:!0,theme:"droplet-block-tooltipster",offsetY:2,restoration:"none",updateAnimation:!1,positionTracker:!0,tooltipsEnabled:!0}};s.prototype.installTooltipsForEditor_=function(e){var t=e.aceEditor,o=this.onCursorMovement_.bind(this,t);t.commands.on("afterExec",o),t.on("mousedown",function(e){this.hideTooltip_()}.bind(this))},s.prototype.onCursorMovement_=function(e,t){if(this.hideTooltip_(),e.selection.isEmpty()){var o=e.selection.getCursor(),n=a.findFunctionAndParamNumber(e,o);n&&(this.blockDropdownsAndTooltips||this.startingAutoComplete||(e.completer&&this.showParamDropdowns&&this.showParamDropdownIfNeeded_(e,n),this.updateParameterTooltip_(e,n)))}},s.prototype.showParamDropdownIfNeeded_=function(t,o){var n;if((0,r.getAllAvailableDropletBlocks)(this.dropletTooltipManager.dropletConfig,this.dropletTooltipManager.codeFunctions,this.autocompletePaletteApisOnly).forEach(function(e){!e.dropdown||e.func!==o.funcName&&e.modeOptionName!==o.funcName&&e.func!==o.fullFuncName||e.noAutocomplete||this.dropletTooltipManager.autocompletePaletteApisOnly&&this.dropletTooltipManager.codeFunctions&&void 0===this.dropletTooltipManager.codeFunctions[e.func]||(n="function"==typeof e.dropdown[o.currentParameterIndex]?e.dropdown[o.currentParameterIndex](t):e.dropdown[o.currentParameterIndex])},this),n){if(t.completer.activated){if(t.completer.lastGatheredWithOverride)return;t.completer.detach()}this.installAceCompleterHooks_(t);var i=[];n.forEach(function(e){var t,o;"string"==typeof e?t=e:(t=e.text,o=e.click),i.push({name:"dropdown",value:t,click:o})}),t.completer.overrideCompleter={getCompletions:function(e,t,o,n,r){r(null,i)}},this.startingAutoComplete=!0,t.execCommand("startAutocomplete"),this.startingAutoComplete=!1}},s.prototype.updateParameterTooltip_=function(t,e){if(this.tooltipConfig.tooltipsEnabled){var o;if(this.dropletTooltipManager.getDocFor(e.funcName))o=e.funcName;else{if(!this.dropletTooltipManager.getDocFor(e.fullFuncName))return;o=e.fullFuncName}var n=this.dropletTooltipManager.getDropletTooltip(o),r=0<n.parameterInfos.length;if(!(r&&e.currentParameterIndex>=n.parameterInfos.length)){var i=this.createOrUpdateCursorTooltip_();if(i.tooltipster("content",this.getTooltipHTML(n,e.currentParameterIndex)),i.tooltipster("show"),this.showExamplesLink){var a=(0,c.default)(i.tooltipster("elementTooltip")).find(".tooltip-example-link > a")[0];u.addClickTouchEvent(a,function(e){this.dropletTooltipManager.showDocFor(o),e.stopPropagation()}.bind(this))}if(r){var s=n.parameterInfos[e.currentParameterIndex].assetTooltip;if(s){var l=(0,c.default)(i.tooltipster("elementTooltip")).find(".tooltip-choose-link > a")[0];u.addClickTouchEvent(l,function(e){this.hideTooltip_(),s(function(e){t.onTextInput('"'+e+'"')}),e.stopPropagation()}.bind(this))}}}}},s.prototype.hideTooltip_=function(){this.cursorTooltip_&&this.cursorTooltip_.tooltipster("hide")};s.prototype.getDesiredTooltipPosition_=function(){var e=(0,c.default)(".ace_editor")[0].getBoundingClientRect(),t=this.cursorTooltip_[0].getBoundingClientRect(),o=this.showParamDropdowns&&(t.top-e.top<150||e.bottom-t.bottom<150),n=0,r=this.tooltipConfig.position;return o&&(r="left",n=Math.max(0,t.left-(window.innerWidth-100-280))),{position:r,offsetX:n}},s.prototype.createOrUpdateCursorTooltip_=function(){this.cursorTooltip_||(this.cursorTooltip_=(0,c.default)(".droplet-ace .ace_cursor"));var e,t,o=this.getDesiredTooltipPosition_(),n=o.position,r=o.offsetX;try{e=this.cursorTooltip_.tooltipster("option","position"),t=this.cursorTooltip_.tooltipster("option","offsetX")}catch(e){}if(n!==e||r!==t){try{this.cursorTooltip_.tooltipster("destroy")}catch(e){}this.cursorTooltip_.tooltipster(function(r){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{},t=Object.keys(Object(i));"function"==typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(i).filter(function(e){return Object.getOwnPropertyDescriptor(i,e).enumerable}))),t.forEach(function(e){var t,o,n;t=r,n=i[o=e],o in t?Object.defineProperty(t,o,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[o]=n})}return r}({},this.tooltipConfig,{position:n,offsetX:r}))}return this.cursorTooltip_},s.prototype.getTooltipHTML=function(e,t){return i({funcName:e.functionName,functionName:e.functionName,isProperty:e.isProperty,tipPrefix:e.tipPrefix,functionShortDescription:e.description,parameters:e.parameterInfos,signatureOverride:e.signatureOverride,showExamplesLink:this.showExamplesLink,currentParameterIndex:t})},s.prototype.installAceCompleterHooks_=function(e){e.completer.showPopup!==s.showPopup&&(s.originalShowPopup=e.completer.showPopup,e.completer.showPopup=s.showPopup),e.completer.gatherCompletions!==s.gatherCompletions&&(s.originalGatherCompletions=e.completer.gatherCompletions,e.completer.gatherCompletions=s.gatherCompletions),e.completer.insertMatchOverride||(e.completer.insertMatchOverride=s.insertMatch.bind(e.completer,this)),e.completer.insertMatch!==e.completer.insertMatchOverride&&(s.originalInsertMatch=e.completer.insertMatch,e.completer.insertMatch=e.completer.insertMatchOverride)},s.gatherCompletions=function(e,t){if(this.overrideCompleter){var o=e.completers;e.completers=[this.overrideCompleter],e.completer.autoInsert=!1,e.completer.lastGatheredWithOverride=!0,s.originalGatherCompletions.call(this,e,t),e.completers=o}else e.completer.lastGatheredWithOverride=!1,s.originalGatherCompletions.call(this,e,t)},s.showPopup=function(e){s.originalShowPopup.call(this,e),this.overrideCompleter=null},s.insertMatch=function(t,e){var n=this;if(e||(e=this.popup.getData(this.popup.getRow())),!e)return!1;var o=function(e,t){var o=n.editor.completer.completions;t&&(n.editor.completer.completions=t),n.editor.completer.lastGatheredWithOverride?s.customInsertMatch(e,n.editor):s.originalInsertMatch.call(n,e),t&&(n.editor.completer.completions=o)};if(e.click){var r=this.editor.completer.completions;this.detach(),t.hideTooltip_(),t.blockDropdownsAndTooltips=!0,ace.require("./lib/lang").delayedCall(function(){e.click(function(e){o(e,r),t.blockDropdownsAndTooltips=!1})}).schedule()}else o(e)},s.retrieveToEndOfQuotedText=function(e,t,o){var n=e.substring(t);if(n){var r=n.indexOf(o);return-1===r?n:n.substring(0,r+1)}return n},s.customInsertMatch=function(e,t){var o=ace.require("ace/autocomplete/util"),n=t.completer.completions.filterText;if(n)for(var r,i=t.selection.getAllRanges(),a=0;r=i[a];a++){r.start.column-=t.completer.completions.filterText.length;var s=t.session.getLine(r.end.row),l=n[0];if('"'===l||"'"===l){var c=this.retrieveToEndOfQuotedText(s,r.end.column,l).length;r.end.column+=c}else{var u=o.retrieveFollowingIdentifier(s,r.end.column).length;r.end.column+=u}t.session.remove(r)}t.execCommand("insertstring",e.value||e)},s.prototype.setTooltipsEnabled=function(e){this.tooltipConfig.tooltipsEnabled=!!e},e.exports=s},1897:function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){rethrow=rethrow||function(e,t,o,n,r){var i=t.split("\n"),a=Math.max(n-3,0),s=Math.min(i.length,n+3),l=r(o),c=i.slice(a,s).map(function(e,t){var o=t+a+1;return(o==n?" >> ":"    ")+o+"| "+e}).join("\n");throw e.path=l,e.message=(l||"ejs")+":"+n+"\n"+c+"\n\n"+e.message,e},escapeFn=escapeFn||function(e){return null==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __line=1,__lines='<div class="function-name">\n  <% if (signatureOverride) { -%>\n    <%= signatureOverride %>\n  <% } else {\n    /**\n     * TODO(bjordan): would be nice to split the following line up, can\'t figure\n     * out how to do so without inserting extraneous spaces between parameters.\n     */\n    -%>\n    <%= functionName %>(<% for (var i = 0; i < parameters.length; i++) { -%><span class="tooltip-parameter-name <% if (i === currentParameterIndex) { %> current-tooltip-parameter-name<% } %>"><%- parameters[i].name -%></span><% if (i < parameters.length - 1) { -%>, <% } -%><% } -%>)\n  <% } %>\n</div>\n<% if (parameters[currentParameterIndex] && parameters[currentParameterIndex].description) { %><div><%= parameters[currentParameterIndex].description %></div><% } %>\n<% if (parameters[currentParameterIndex] && parameters[currentParameterIndex].assetTooltip) { %>\n  <div class="tooltip-choose-link">\n    <a href="javascript:void(0);">Choose...</a>\n  </div>\n<% } %>\n<% if (showExamplesLink) { %>\n  <div class="tooltip-example-link">\n    <a href="javascript:void(0);">See examples</a>\n  </div>\n<% } %>\n',__filename="src/blockTooltips/DropletParameterTooltip.html.ejs";try{var __output=[],__append=__output.push.bind(__output);with(locals||{}){if(__append('<div class="function-name">\n  '),__line=2,signatureOverride)__append("    "),__line=3,__append(escapeFn(signatureOverride)),__append("\n  "),__line=4;else{__line=9,__append("    "),__line=10,__append(escapeFn(functionName)),__append("(");for(var i=0;i<parameters.length;i++)__append('<span class="tooltip-parameter-name '),i===currentParameterIndex&&__append(" current-tooltip-parameter-name"),__append('">'),__append(parameters[i].name),__append("</span>"),i<parameters.length-1&&__append(", ");__append(")\n  "),__line=11}__append("\n</div>\n"),__line=13,parameters[currentParameterIndex]&&parameters[currentParameterIndex].description&&(__append("<div>"),__append(escapeFn(parameters[currentParameterIndex].description)),__append("</div>")),__append("\n"),__line=14,parameters[currentParameterIndex]&&parameters[currentParameterIndex].assetTooltip&&(__append('\n  <div class="tooltip-choose-link">\n    <a href="javascript:void(0);">Choose...</a>\n  </div>\n'),__line=18),__append("\n"),__line=19,showExamplesLink&&(__append('\n  <div class="tooltip-example-link">\n    <a href="javascript:void(0);">See examples</a>\n  </div>\n'),__line=23),__append("\n"),__line=24}return __output.join("")}catch(e){rethrow(e,__lines,__filename,__line,escapeFn)}}},1898:function(e,t,o){var b=o(15),E=/^\s*$/,T=/\*\/$/,S=/^\/\*/;t.findFunctionAndParamNumber=function(e,t){var o,n,r=[],i=0,a=new(ace.require("./token_iterator").TokenIterator)(e.session,t.row,t.column),s=a.getCurrentToken();if(0===t.column)s=a.stepBackward();else if(s&&s.type.match(/^comment/)){if(!("comment.doc"===s.type||s.value.match(S)))return null;var l=s.value.match(T),c=s.start+s.value.length===t.column;if(!(l&&c))return null}for(;s;){switch(s.type){case"paren.rparen":for(var u=s.value.split(),d=u.length-1;0<=d;d--){var p=u[d];r.push(p)}break;case"paren.lparen":for(var h=s.value.split(),g=h.length-1;0<=g;g--){var f=h[g];if(0===r.length&&"("===f){var m,y=a.stepBackward().value,_=a.stepBackward();return _&&"."===_.value&&(m=a.stepBackward().value+"."+y,y="*."+y),{funcName:y,fullFuncName:m,currentParameterIndex:i}}var v=r.pop();if(!v||{"}":"{",")":"(","]":"["}[v]!==f)return null}break;case"punctuation.operator":if(0===r.length){if(b.includes(s.value,";"))return null;b.includes(s.value,",")&&(i+=(o=s.value,n=",",o.split(n).length-1))}break;case"comment":case"comment.doc":break;case"text":if(0!==r.length||s.value.match(E))break;return null;case"string":case"storage.type":case"identifier":default:if(0===r.length&&0===i)return null}s=a.stepBackward()}return null}},1899:function(e,t,c){"use strict";var q=n(c(10)),K=c(46),Y=n(c(1)),X=c(9),J=n(c(8)),a=n(c(622)),Q=n(c(116)),o=c(199),u=n(c(114)),$=c(829),Z=n(c(1251)),d=n(c(1268)),ee=c(322),te=c(11),p=n(c(1150)),h=c(37),g=n(c(1087)),oe=n(c(1262));function n(e){return e&&e.__esModule?e:{default:e}}var r=["draw_colour","alpha","comment"],ne=function(e){this.studioApp_=e};e.exports=ne;var i=c(657),re=c(4),ie=c(127),ae=c(1261),se=c(1273),s=c(895),l=c(1906),f=c(1274);ne.prototype.displayFeedback=function(o,e,t,n,r){o.level=o.level||{};var i,a=o.onContinue,s=o.shareLink,l=o.response&&o.response.share_failure,c=o.showingSharing&&!l&&s,u=this.canContinueToNextLevel(o.feedbackType),d=this.studioApp_.enableShowCode&&this.studioApp_.enableShowLinesCount&&u&&!c,p=document.createElement("div"),h=u&&c?this.createSharingDiv(o):null,g=d?this.getShowCodeElement_(o):null,f=l?this.getShareFailure_(o):null;this.studioApp_.isUsingBlockly()&&(i=new ae(o,this.getMissingBlocks_(e,t),this.getMissingBlocks_(n,r)));var m=this.getFeedbackMessageElement_(o);if(m&&p.appendChild(m),i&&i.div&&p.appendChild(i.div),h&&p.appendChild(h),c){var y=document.createElement("div");y.className="share-code-spacer",p.appendChild(y)}f&&p.appendChild(f),g&&p.appendChild(g),o.level.isK1&&(p.className+=" k1"),o.appDiv&&p.appendChild(o.appDiv),p.className+=u?" win-feedback":" failure-feedback";var _=o.response&&"no more levels"===o.response.message;p.appendChild(this.getFeedbackButtons_({feedbackType:o.feedbackType,tryAgainText:o.tryAgainText,hideTryAgain:o.hideTryAgain,keepPlayingText:o.keepPlayingText,continueText:o.continueText,isK1:o.level.isK1,freePlay:o.level.freePlay,finalLevel:_}));var v=p.querySelector("#again-button"),b=p.querySelector("#hint-request-button"),E=p.querySelector("#continue-button");this.studioApp_.share&&(E.style.display="none");var T=E&&!v,S=T||o.defaultToContinue,k=this.getMissingBlockHints(n,o.level.isK1),C=function(){k.filter(function(e){return i&&i.xml&&-1<i.xml.indexOf(e.blockDisplayXML)}).forEach(function(e){e.alreadySeen=!0})};c&&Q.default.saveIfSourcesChanged();var A,O=T?a:function(){!E||x.hideButDontContinue?this.studioApp_.displayMissingBlockHints(k):a()}.bind(this);o.hideIcon||(A=!u||this.studioApp_.hasContainedLevels&&!(0,$.getValidatedResult)()?this.studioApp_.failureIcon:this.studioApp_.winIcon);var w=S?"#continue-button":"#again-button",B=this.getNumCountableBlocks(),I=this.studioApp_.IDEAL_BLOCK_NUM,R=B<=I,N=o.response&&o.response.puzzle_ratings_enabled;if((0,K.getStore)().getState().pageConstants.isChallengeLevel){var P=document.createElement("div");document.body.appendChild(P);var L=a;return N&&(L=function(){se.cachePuzzleRating(P,{script_id:o.response.script_id,level_id:o.response.level_id}),a()}),void(R?J.default.render(Y.default.createElement(oe.default,{title:re.challengeLevelPerfectTitle(),avatar:A,complete:!0,handlePrimary:L,primaryButtonLabel:re.continue(),cancelButtonLabel:re.tryAgain(),showPuzzleRatingButtons:N},d&&this.getShowCodeComponent_(o,!0)),P):J.default.render(Y.default.createElement(oe.default,{title:re.challengeLevelPassTitle(),avatar:A,handlePrimary:L,primaryButtonLabel:re.continue(),cancelButtonLabel:re.tryAgain(),showPuzzleRatingButtons:N,text:re.challengeLevelPassText({idealBlocks:I})},d&&this.getShowCodeComponent_(o,!0)),P))}(0,q.default)("#feedback-dialog").remove();var x=this.createModalDialog({contentDiv:p,icon:A,defaultBtnSelector:w,onHidden:O,id:"feedback-dialog",showXButton:!o.hideXButton});if(v&&ie.addClickTouchEvent(v,function(){x.hideButDontContinue=!0,x.hide(),x.hideButDontContinue=!1}),b)if(o.response&&o.response.hint_view_requests&&o.response.hint_view_requests.some(function(e){var t=e.feedback_type===o.feedbackType;return i&&i.xml&&(t=t&&e.feedback_xml===i.xml),t}))b.parentNode.removeChild(b),C();else{var D=this.getFeedbackMessageElement_({message:re.tryBlocksBelowFeedback()});i&&i.div&&i.hide(),ie.addClickTouchEvent(b,function(){C(),m.parentNode.replaceChild(D,m),b.parentNode.removeChild(b),i&&i.div&&i.show(),o.response.hint_view_request_url&&q.default.ajax({url:o.response.hint_view_request_url,type:"POST",data:{script_id:o.response.script_id,level_id:o.response.level_id,feedback_type:o.feedbackType,feedback_xml:i?i.xml:void 0}})})}E&&(o.response&&o.response.puzzle_ratings_enabled&&p.appendChild(se.buildPuzzleRatingButtons()),ie.addClickTouchEvent(E,function(){x.hide(),o.response&&o.response.puzzle_ratings_enabled&&se.cachePuzzleRating(p,{script_id:o.response.script_id,level_id:o.response.level_id})}));var M=null,U=null,F="#save-to-project-gallery-button",H=p.querySelector(F);H&&ie.addClickTouchEvent(H,function(){(0,q.default)(F).prop("disabled",!0).text(re.addingToProjects()),Q.default.copy(Q.default.getNewProjectName()).then(function(){return ne.saveThumbnail(o.feedbackImage)}).then(function(){M=Q.default.getCurrentId(),U=Q.default.getStandaloneApp(),(0,q.default)(F).prop("disabled",!0).text(re.addedToProjects())}).catch(function(e){return console.log(e)})});var j="#publish-to-project-gallery-button",G=p.querySelector(j);G&&ie.addClickTouchEvent(G,function(){x.hideButDontContinue=!0,x.hide(),x.hideButDontContinue=!1;var t=(0,K.getStore)();if(M&&U){t.dispatch((0,ee.showPublishDialog)(M,U));var e=ne.getPublishDialogElement();J.default.render(Y.default.createElement(X.Provider,{store:t},Y.default.createElement(Z.default,{afterPublish:function(){return z(!0)}})),e)}else ne.showConfirmPublishDialog(function(){t.dispatch({type:ee.PUBLISH_REQUEST});var e=!1;Q.default.copy(Q.default.getNewProjectName(),{shouldPublish:!0}).then(function(){return ne.saveThumbnail(o.feedbackImage)}).then(function(){t.dispatch({type:ee.PUBLISH_SUCCESS}),e=!0}).catch(function(e){console.log(e),t.dispatch({type:ee.PUBLISH_FAILURE})}).then(function(){e&&z(!0)})})});var V=p.querySelector("#save-to-legacy-gallery-button");V&&o.saveToLegacyGalleryUrl&&ie.addClickTouchEvent(V,function(){q.default.post(o.saveToLegacyGalleryUrl,function(){return(0,q.default)("#save-to-legacy-gallery-button").prop("disabled",!0).text("Saved!")})});var W=p.querySelector("#print-button");function z(e){x.show({backdrop:"flappy"!==(0,K.getStore)().getState().pageConstants.appType||"static"}),e&&((0,q.default)(j).prop("disabled",!0).text(re.published()),(0,q.default)(F).prop("disabled",!0).text(re.savedToGallery()))}W&&ie.addClickTouchEvent(W,function(){(0,te.createHiddenPrintWindow)(o.feedbackImage)}),z(),i&&i.div&&i.render()},ne.showConfirmPublishDialog=function(e){var t=(0,K.getStore)();t.dispatch((0,ee.showPublishDialog)());var o=ne.getPublishDialogElement();J.default.render(Y.default.createElement(X.Provider,{store:t},Y.default.createElement(Z.default,{onConfirmPublishOverride:e})),o)},ne.getPublishDialogElement=function(){var e=document.getElementById("legacy-share-publish-dialog");return e||((e=document.createElement("div")).id="legacy-share-publish-dialog",document.body.appendChild(e)),e},ne.saveThumbnail=function(e){return e?(0,o.dataURIToBlob)(e).then(Q.default.saveThumbnail).then(function(){return Q.default.saveIfSourcesChanged()}):Promise.resolve()},ne.isLastLevel=function(){var e=(0,K.getStore)().getState().progress.stages[0];return-1!==e.levels[e.levels.length-1].ids.indexOf(window.appOptions.serverLevelId)},ne.prototype.getNumBlocksUsed=function(){if(this.studioApp_.editCode){for(var e=0,t=this.getGeneratedCodeString_().split("\n"),o=0;o<t.length;o++)1<t[o].length&&("/"!==t[o][0]||"/"!==t[o][1])&&e++;return e}return this.studioApp_.isUsingBlockly()?this.getUserBlocks_().length:0},ne.prototype.getNumCountableBlocks=function(){var e;if(this.studioApp_.editCode){var t=0,o=this.getGeneratedCodeString_().split("\n");for(e=0;e<o.length;e++)1<o[e].length&&("/"!==o[e][0]||"/"!==o[e][1])&&t++;return t}return this.getCountableBlocks_().length},ne.prototype.getFeedbackButtons_=function(e){var t=document.createElement("div");t.id="feedbackButtons";var o=void 0;return e.hideTryAgain||(o=e.tryAgainText?e.tryAgainText:this.studioApp_.hasContainedLevels?re.reviewCode():e.feedbackType===h.TestResults.FREE_PLAY?re.keepPlaying():e.feedbackType<h.TestResults.MINIMUM_OPTIMAL_RESULT?re.tryAgain():re.replayButton()),J.default.render(Y.default.createElement(s,{tryAgain:o,continueText:e.continueText||(e.finalLevel?re.finish():re.continue()),nextLevel:this.canContinueToNextLevel(e.feedbackType),shouldPromptForHint:this.shouldPromptForHint(e.feedbackType),userId:e.userId,isK1:e.isK1,assetUrl:this.studioApp_.assetUrl,freePlay:e.freePlay}),t),t},ne.prototype.getShareFailure_=function(e){var t=e.response.share_failure,o=document.createElement("div");return o.innerHTML=c(1907)({shareFailure:t}),o},ne.prototype.getFeedbackMessage=function(e){var t;if(e.feedbackType<h.TestResults.ALL_PASS&&e.level&&e.level.failureMessageOverride)t=e.level.failureMessageOverride;else if(e.message)t=e.message;else if(e.response&&e.response.share_failure)t=re.shareFailure();else switch(e.feedbackType){case h.TestResults.RUNTIME_ERROR_FAIL:t=re.runtimeErrorMsg({lineNumber:e.executionError.lineNumber});break;case h.TestResults.SYNTAX_ERROR_FAIL:t=re.syntaxErrorMsg({lineNumber:e.executionError.lineNumber});break;case h.TestResults.EMPTY_BLOCK_FAIL:t=e.level.emptyBlocksErrorMsg||re.emptyBlocksErrorMsg();break;case h.TestResults.EMPTY_FUNCTION_BLOCK_FAIL:t=e.level.emptyFunctionBlocksErrorMsg?e.level.emptyFunctionBlocksErrorMsg:Blockly.useContractEditor||Blockly.useModalFunctionEditor?re.errorEmptyFunctionBlockModal():re.emptyFunctionBlocksErrorMsg();break;case h.TestResults.TOO_FEW_BLOCKS_FAIL:t=e.level.tooFewBlocksMsg||e.level.levelIncompleteError||re.levelIncompleteError();break;case h.TestResults.LEVEL_INCOMPLETE_FAIL:case h.TestResults.LOG_CONDITION_FAIL:t=e.level.levelIncompleteError||re.levelIncompleteError();break;case h.TestResults.EXTRA_TOP_BLOCKS_FAIL:var o=Blockly.mainBlockSpace.getTopBlocks().some(function(e){return"when_run"===e.type&&e.isUserVisible()})?re.extraTopBlocksWhenRun():re.extraTopBlocks();t=e.level.extraTopBlocks||o;break;case h.TestResults.APP_SPECIFIC_FAIL:t=e.level.appSpecificFailError;break;case h.TestResults.GENERIC_LINT_FAIL:t=re.errorGenericLintError();break;case h.TestResults.UNUSED_PARAM:t=re.errorUnusedParam();break;case h.TestResults.UNUSED_FUNCTION:t=re.errorUnusedFunction();break;case h.TestResults.PARAM_INPUT_UNATTACHED:t=re.errorParamInputUnattached();break;case h.TestResults.INCOMPLETE_BLOCK_IN_FUNCTION:t=re.errorIncompleteBlockInFunction();break;case h.TestResults.QUESTION_MARKS_IN_NUMBER_FIELD:t=re.errorQuestionMarksInNumberField();break;case h.TestResults.BLOCK_LIMIT_FAIL:var n=this.hasExceededLimitedBlocks_(),r=Blockly.mainBlockSpace.blockSpaceEditor.blockLimits.getLimit(n),i="<xml><block type='".concat(n,"'></block></xml>");t=re.errorExceededLimitedBlocks({limit:r})+i;break;case h.TestResults.TOO_MANY_BLOCKS_FAIL:t=(e.appStrings&&e.appStrings.tooManyBlocksFailMsgFunction||re.numBlocksNeeded)({numBlocks:this.studioApp_.IDEAL_BLOCK_NUM,puzzleNumber:e.level.puzzle_number||0});break;case h.TestResults.APP_SPECIFIC_ACCEPTABLE_FAIL:t=e.level.appSpecificAcceptableFailError;break;case h.TestResults.EDIT_BLOCKS:t=e.level.edit_blocks_success;break;case h.TestResults.MISSING_BLOCK_UNFINISHED:case h.TestResults.MISSING_BLOCK_FINISHED:t=e.level.missingRequiredBlocksErrorMsg||re.missingRequiredBlocksErrorMsg();break;case h.TestResults.MISSING_RECOMMENDED_BLOCK_UNFINISHED:t=re.missingRecommendedBlocksErrorMsg();break;case h.TestResults.MISSING_RECOMMENDED_BLOCK_FINISHED:var a=this.getNumCountableBlocks();t=this.studioApp_.IDEAL_BLOCK_NUM&&a>this.studioApp_.IDEAL_BLOCK_NUM?re.numBlocksNeeded({numBlocks:this.studioApp_.IDEAL_BLOCK_NUM,puzzleNumber:e.level.puzzle_number||0}):re.completedWithoutRecommendedBlock({puzzleNumber:e.level.puzzle_number||0});break;case h.TestResults.NESTED_FOR_SAME_VARIABLE:t=re.nestedForSameVariable();break;case h.TestResults.ALL_PASS:case h.TestResults.FREE_PLAY:case h.TestResults.BETTER_THAN_IDEAL:case h.TestResults.PASS_WITH_EXTRA_TOP_BLOCKS:var s=e.response&&"no more levels"===e.response.message,l=null;e.response&&e.response.stage_changing&&(l=e.response.stage_changing.previous.name);var c={stageNumber:0,stageName:l,puzzleNumber:e.level.puzzle_number||0};if(e.feedbackType!==h.TestResults.FREE_PLAY||e.level.disableSharing){var u=e.appStrings&&e.appStrings.nextLevelMsg||re.nextLevel(c);t=s?re.finalStage(c):l?re.nextStage(c):u}else{var d=e.appStrings&&e.appStrings.reinfFeedbackMsg||"";e.level.disableFinalStageMessage?t=d:(t=s?re.finalStage(c)+" ":"",t+=d)}}return t},ne.prototype.getFeedbackMessageElement_=function(e){var t=document.createElement("p");t.className="congrats";var o=this.getFeedbackMessage(e);return(0,q.default)(t).text(o),t},ne.prototype.createSharingDiv=function(a){if(this.studioApp_.disableSocialShare||window.appOptions.disableSocialShare||a.disableSocialShare)a.twitterUrl=void 0,a.facebookUrl=void 0;else{var e="https://twitter.com/intent/tweet?url="+a.shareLink;a.twitter&&void 0!==a.twitter.text?e+="&text="+encodeURI(a.twitter.text):e+="&text="+encodeURI(re.defaultTwitterText()+" @codeorg"),a.twitter&&void 0!==a.twitter.hashtag?e+="&hashtags="+a.twitter.hashtag:e+="&hashtags=HourOfCode",a.twitter&&void 0!==a.twitter.related?e+="&related="+a.twitter.related:e+="&related=codeorg",a.twitterUrl=e;var t="https://www.facebook.com/sharer/sharer.php?u="+a.shareLink;a.facebookUrl=t}a.assetUrl=this.studioApp_.assetUrl,a.downloadReplayVideo="dance"===(0,K.getStore)().getState().pageConstants.appType&&window.appOptions.signedReplayLogUrl;var s=document.createElement("div");s.setAttribute("id","sharing"),s.innerHTML=c(1908)({options:a}),window.dashboard&&window.dashboard.popupWindow&&(0,q.default)(s).find("a.popup-window").click(window.dashboard.popupWindow);var o=s.querySelector("#sharing-input");o&&ie.addClickTouchEvent(o,function(){o.focus(),o.select(),o.setSelectionRange(0,9999)});var n=s.querySelector("#sharing-facebook");n&&(0,p.default)("https://facebook.com/favicon.ico?"+Math.random(),function(){return(0,q.default)(n).show()});var r=s.querySelector("#sharing-twitter");r&&(0,p.default)("https://twitter.com/favicon.ico?"+Math.random(),function(){return(0,q.default)(r).show()});var l=s.querySelector("#sharing-phone");ie.addClickTouchEvent(l,function(){var e=s.querySelector("#send-to-phone");if((0,q.default)(e).is(":hidden")){(0,q.default)(e).show();var t=s.querySelector("#send-to-phone-qr-code"),o=a.shareLink+"?qr=true";if(J.default.render(Y.default.createElement(g.default,{value:o,size:90}),t),l&&a.isUS){var n=(0,q.default)(s.querySelector("#phone")),r=!1,i=s.querySelector("#phone-submit");i.disabled=!0,n.mask("(000) 000-0000",{onComplete:function(){r||(i.disabled=!1)},onChange:function(){i.disabled=!0}}),n.focus(),ie.addClickTouchEvent(i,function(){var e=(0,q.default)(s.querySelector("#phone")),t=q.default.param({level_source:a.response.level_source_id,channel_id:a.channelId,type:Q.default.getStandaloneApp(),phone:e.val()});(0,q.default)(i).val("Sending.."),e.prop("readonly",!0),i.disabled=!0,r=!0,q.default.post(a.response.phone_share_url,t).done(function(e){(0,q.default)(i).text("Sent!"),(0,u.default)("SendToPhone","success")}).fail(function(e){(0,q.default)(i).text("Error!"),(0,u.default)("SendToPhone","error")})})}}else(0,q.default)(e).hide()});var i=s.querySelector("#download-replay-video-container");if(i){J.default.render(Y.default.createElement(X.Provider,{store:(0,K.getStore)()},Y.default.createElement(d.default,{onError:function(){return(0,q.default)("#download-replay-video-error").show()}})),i)}return s},ne.prototype.getShowCodeElement_=function(e){var t=document.createElement("div");return t.setAttribute("id","show-code"),J.default.render(this.getShowCodeComponent_(e),t),q.default.fn.details&&(0,q.default)(t).find("details").details(),t},ne.prototype.getShowCodeComponent_=function(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1],o=this.getNumBlocksUsed(),n=e.response&&e.response.total_lines&&e.response.total_lines!==o?e.response.total_lines:0,r=this.getGeneratedCodeProperties({generatedCodeDescription:e.appStrings&&e.appStrings.generatedCodeDescription});return Y.default.createElement(l,{numLinesWritten:o,totalNumLinesWritten:n,useChallengeStyles:t},Y.default.createElement(f,{message:r.message,code:r.code}))},ne.prototype.canContinueToNextLevel=function(e){return e>=h.TestResults.MINIMUM_PASS_RESULT},ne.prototype.shouldPromptForHint=function(e){return e===h.TestResults.MISSING_BLOCK_UNFINISHED||e===h.TestResults.MISSING_BLOCK_FINISHED||e===h.TestResults.MISSING_RECOMMENDED_BLOCK_FINISHED||e===h.TestResults.MISSING_RECOMMENDED_BLOCK_UNFINISHED},ne.prototype.getGeneratedCodeString_=function(){return this.studioApp_.editCode?this.studioApp_.editor?this.studioApp_.editor.getValue():"":i.workspaceCode(Blockly)},ne.prototype.getGeneratedCodeProperties=function(e){e=e||{};var t=this.getGeneratedCodeDescriptions_({berkeleyLink:"<a href='http://bjc.berkeley.edu/' target='_blank'>Berkeley</a>",harvardLink:"<a href='https://cs50.harvard.edu/' target='_blank'>Harvard</a>"},e.generatedCodeDescription);return{message:t.message,shortMessage:t.shortMessage,code:this.studioApp_.polishGeneratedCodeString(this.getGeneratedCodeString_())}},ne.prototype.getGeneratedCodeDescriptions_=function(e,t){return this.studioApp_.editCode?{message:"",shortMessage:""}:t?{message:t,shortMessage:t}:{message:re.generatedCodeInfo(e),shortMessage:re.shortGeneratedCodeInfo(e)}},ne.prototype.showGeneratedCode=function(e){var t=document.createElement("div"),o=this.getGeneratedCodeProperties({generatedCodeDescription:e&&e.generatedCodeDescription});J.default.render(Y.default.createElement("div",null,Y.default.createElement(f,{message:o.message,code:o.code}),Y.default.createElement(s,{ok:!0})),t);var n=this.createModalDialog({contentDiv:t,icon:this.studioApp_.icon,defaultBtnSelector:"#ok-button"}),r=t.querySelector("#ok-button");r&&ie.addClickTouchEvent(r,function(){n.hide()}),n.show()},ne.prototype.showClearPuzzleConfirmation=function(e,t){this.showSimpleDialog({headerText:re.clearPuzzleConfirmHeader(),bodyText:re.clearPuzzleConfirm(),confirmText:re.clearPuzzle(),cancelText:re.dialogCancel(),onConfirm:t,onCancel:null,hideIcon:e})},ne.prototype.showSimpleDialog=function(e){var t=J.default.render(Y.default.createElement("div",null,e.headerText&&Y.default.createElement("p",{className:"dialog-title"},e.headerText),e.bodyText&&Y.default.createElement("p",null,e.bodyText),e.prompt&&Y.default.createElement("input",{style:{marginBottom:10},defaultValue:e.promptPrefill}),Y.default.createElement(s,{confirmText:e.confirmText,cancelText:e.cancelText,cancelButtonClass:e.cancelButtonClass})),document.createElement("div")),o=this.createModalDialog({contentDiv:t,icon:e.hideIcon?null:this.studioApp_.icon,defaultBtnSelector:"#again-button"}),n=t.querySelector("#again-button"),r=t.querySelector("input");n&&ie.addClickTouchEvent(n,function(){e.onCancel&&(r?e.onCancel(r.value):e.onCancel()),o.hide()});var i=t.querySelector("#confirm-button");i&&ie.addClickTouchEvent(i,function(){e.onConfirm&&e.onConfirm(),o.hide()}),o.show(),r&&(r.focus(),r.select())},ne.prototype.showToggleBlocksError=function(){var e=document.createElement("div");e.innerHTML=re.toggleBlocksErrorMsg();var t=document.createElement("div");J.default.render(Y.default.createElement(s,{ok:!0}),t),e.appendChild(t);var o=this.createModalDialog({contentDiv:e,icon:this.studioApp_.icon,defaultBtnSelector:"#ok-button"}),n=t.querySelector("#ok-button");n&&ie.addClickTouchEvent(n,function(){o.hide()}),o.show()},ne.prototype.getEmptyContainerBlock_=function(){var e=Blockly.mainBlockSpace.getAllUsedBlocks();return Blockly.findEmptyContainerBlock(e)},ne.prototype.checkForEmptyContainerBlockFailure_=function(){var e=this.getEmptyContainerBlock_();if(!e)return h.TestResults.ALL_PASS;var t=e.type;if("procedures_defnoreturn"!==t&&"procedures_defreturn"!==t)return h.TestResults.EMPTY_BLOCK_FAIL;var o=e.getProcedureInfo();return Blockly.mainBlockSpace.getAllUsedBlocks().filter(function(e){return e.type===o.callType&&e.getTitleValue("NAME")===o.name}).length?h.TestResults.EMPTY_FUNCTION_BLOCK_FAIL:h.TestResults.ALL_PASS},ne.prototype.throwOnInvalidExampleBlocks=function(e,t){if(!e)throw new Error("Invalid Call Block");if(!t)throw new Error("Invalid Result Block");if(t.hasUnfilledFunctionalInput())throw new Error("Result has unfilled inputs");if(e.hasUnfilledFunctionalInput())throw new Error("Call has unfilled inputs")},ne.prototype.hasAllBlocks_=function(e){return 0===this.getMissingBlocks_(e,1).blocksToDisplay.length},ne.prototype.getUserBlocks_=function(){return Blockly.mainBlockSpace.getAllUsedBlocks().filter(function(e){var t=!e.disabled&&"when_run"!==e.type;return Blockly.mainBlockSpace.isReadOnly()||(t=t&&e.isEditable()),t})},ne.blockShouldBeCounted_=function(e){if(e.disabled)return!1;for(;null!==e;){if(-1<r.indexOf(e.type))return!1;e=e.getSurroundParent()}return!0},ne.prototype.getCountableBlocks_=function(){return Blockly.mainBlockSpace.getAllUsedBlocks().filter(ne.blockShouldBeCounted_)},ne.prototype.getMissingBlockHints=function(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1];return this.getMissingBlocks_(e,1).blocksToDisplay.map(function(e){return e.alreadySeen=t,e})},ne.prototype.getMissingBlocks_=function(e,t){var o=[],n=null,r=null;if(e&&e.length)for(var i=this.getUserBlocks_(),a=0,s=0;s<e.length&&a<t;s++){for(var l=e[s],c=!1,u=0;u<l.length;u++){var d=l[u].test;if("string"==typeof d){if(-1!==(r=r||Blockly.Generator.blockSpaceToCode("JavaScript")).indexOf(d)){c=!0;break}}else{if("function"!=typeof d)throw new Error("Bad test: "+d);if(i.some(d)){c=!0;break}n=l[u].message||n}}c||(a++,o=o.concat(e[s][0]))}return{blocksToDisplay:o,message:n}},ne.prototype.hasExtraTopBlocks=function(){if(this.studioApp_.editCode)return!1;for(var e=Blockly.mainBlockSpace.getTopBlocks(),t=0;t<e.length;t++)if(!e[t].disabled&&"functional_definition"!==e[t].type&&(e[t].previousConnection||e[t].outputConnection))return!0;return!1},ne.prototype.getTestResults=function(e,t,o,n,r){if(r=r||{},this.studioApp_.editCode)return e?h.TestResults.ALL_PASS:r.executionError&&r.executionError.err instanceof SyntaxError?h.TestResults.SYNTAX_ERROR_FAIL:r.executionError?h.TestResults.RUNTIME_ERROR_FAIL:h.TestResults.TOO_FEW_BLOCKS_FAIL;if(n){var i=this.checkForEmptyContainerBlockFailure_();if(i!==h.TestResults.ALL_PASS)return i}if(!Blockly.showUnusedBlocks&&!r.allowTopBlocks&&this.hasExtraTopBlocks())return h.TestResults.EXTRA_TOP_BLOCKS_FAIL;if(this.studioApp_.hasDuplicateVariablesInForLoops())return h.TestResults.NESTED_FOR_SAME_VARIABLE;if(Blockly.useContractEditor||Blockly.useModalFunctionEditor){if(this.hasUnusedParam_())return h.TestResults.UNUSED_PARAM;if(this.hasUnusedFunction_())return h.TestResults.UNUSED_FUNCTION;if(this.hasParamInputUnattached_())return h.TestResults.PARAM_INPUT_UNATTACHED;if(this.hasIncompleteBlockInFunction_())return h.TestResults.INCOMPLETE_BLOCK_IN_FUNCTION}if(this.hasQuestionMarksInNumberField())return h.TestResults.QUESTION_MARKS_IN_NUMBER_FIELD;if(!this.hasAllBlocks_(t))return e?h.TestResults.MISSING_BLOCK_FINISHED:h.TestResults.MISSING_BLOCK_UNFINISHED;if(!this.hasAllBlocks_(o))return e?h.TestResults.MISSING_RECOMMENDED_BLOCK_FINISHED:h.TestResults.MISSING_RECOMMENDED_BLOCK_UNFINISHED;var a=this.getNumCountableBlocks();return e?this.hasExceededLimitedBlocks_()?h.TestResults.BLOCK_LIMIT_FAIL:this.studioApp_.IDEAL_BLOCK_NUM&&a>this.studioApp_.IDEAL_BLOCK_NUM?h.TestResults.TOO_MANY_BLOCKS_FAIL:this.hasExtraTopBlocks()&&Blockly.showUnusedBlocks?h.TestResults.PASS_WITH_EXTRA_TOP_BLOCKS:isFinite(this.studioApp_.IDEAL_BLOCK_NUM)&&a<this.studioApp_.IDEAL_BLOCK_NUM?h.TestResults.BETTER_THAN_IDEAL:h.TestResults.ALL_PASS:this.studioApp_.IDEAL_BLOCK_NUM&&this.studioApp_.IDEAL_BLOCK_NUM!==1/0&&a<this.studioApp_.IDEAL_BLOCK_NUM?h.TestResults.TOO_FEW_BLOCKS_FAIL:h.TestResults.LEVEL_INCOMPLETE_FAIL},ne.prototype.createModalDialog=function(e){var t,o=document.createElement("div");e.icon?((t=document.createElement("img")).className="modal-image",t.src=e.icon,o.appendChild(t)):e.contentDiv.className+=" no-modal-icon";e.markdownMode&&(o.className+=" markdown"),e.contentDiv.className+=" modal-content",o.appendChild(e.contentDiv);var n=e.contentDiv.querySelector(e.defaultBtnSelector),r=e.scrollableSelector||".modal-content",i=e.scrollContent?r:null;return new a.default({body:o,onHidden:e.onHidden,onKeydown:n?function(e){e.keyCode!==h.KeyCodes.ENTER&&e.keyCode!==h.KeyCodes.SPACE||(function(e){if(document.createEvent){var t=document.createEvent("UIEvents");t.initEvent("click",!0,!0),e.dispatchEvent(t)}else{if(!document.createEventObject)throw"FireEvent: No event creation mechanism.";e.fireEvent("onClick",document.createEventObject())}}(n),e.stopPropagation(),e.preventDefault())}:void 0,autoResizeScrollableElement:i,id:e.id,header:e.header,close:e.showXButton})},ne.prototype.hasQuestionMarksInNumberField=function(){return Blockly.mainBlockSpace.getAllUsedBlocks().some(function(e){return e.getTitles().some(function(e){return"???"===e.value_||"???"===e.text_})})},ne.prototype.hasUnusedParam_=function(){var o=this;return Blockly.mainBlockSpace.getAllUsedBlocks().some(function(e){var t=e.parameterNames_;return t&&t.some(function(t){return!o.hasMatchingDescendant_(e,function(e){return("parameters_get"===e.type||"functional_parameters_get"===e.type||"variables_get"===e.type)&&e.getTitleValue("VAR")===t})})})},ne.prototype.hasParamInputUnattached_=function(){return Blockly.mainBlockSpace.getAllUsedBlocks().some(function(e){return!!/^procedures_call/.test(e.type)&&e.inputList.filter(function(e){return/^ARG/.test(e.name)}).some(function(e){return!e.connection.targetConnection})})},ne.prototype.hasUnusedFunction_=function(){var o=[],n={};return Blockly.mainBlockSpace.getAllUsedBlocks().forEach(function(e){var t=e.getTitleValue("NAME");/^procedures_def/.test(e.type)&&e.userCreated?o.push(t):/^procedures_call/.test(e.type)&&(n[t]=!0)}),o.some(function(e){return!n[e]})},ne.prototype.hasIncompleteBlockInFunction_=function(){var t=this;return Blockly.mainBlockSpace.getAllUsedBlocks().some(function(e){return!!e.parameterNames_&&t.hasMatchingDescendant_(e,function(e){return e.inputList.some(function(e){return e.type===Blockly.INPUT_VALUE&&!e.connection.targetConnection})})})},ne.prototype.hasMatchingDescendant_=function(e,t){if(t(e))return!0;var o=this;return e.childBlocks_.some(function(e){return o.hasMatchingDescendant_(e,t)})},ne.prototype.hasExceededLimitedBlocks_=function(){var e=Blockly.mainBlockSpace.blockSpaceEditor.blockLimits;return e.blockLimitExceeded&&e.blockLimitExceeded()}},1900:function(e,t,o){var n=o(1901),l=o(1902),c=o(1903),y=o(1904),_=o(1271);function u(e,t){this.typeNumber=e,this.errorCorrectLevel=t,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}var r=u.prototype;r.addData=function(e){var t=new n(e);this.dataList.push(t),this.dataCache=null},r.isDark=function(e,t){if(e<0||this.moduleCount<=e||t<0||this.moduleCount<=t)throw new Error(e+","+t);return this.modules[e][t]},r.getModuleCount=function(){return this.moduleCount},r.make=function(){if(this.typeNumber<1){var e=1;for(e=1;e<40;e++){for(var t=l.getRSBlocks(e,this.errorCorrectLevel),o=new c,n=0,r=0;r<t.length;r++)n+=t[r].dataCount;for(r=0;r<this.dataList.length;r++){var i=this.dataList[r];o.put(i.mode,4),o.put(i.getLength(),y.getLengthInBits(i.mode,e)),i.write(o)}if(o.getLengthInBits()<=8*n)break}this.typeNumber=e}this.makeImpl(!1,this.getBestMaskPattern())},r.makeImpl=function(e,t){this.moduleCount=4*this.typeNumber+17,this.modules=new Array(this.moduleCount);for(var o=0;o<this.moduleCount;o++){this.modules[o]=new Array(this.moduleCount);for(var n=0;n<this.moduleCount;n++)this.modules[o][n]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(e,t),7<=this.typeNumber&&this.setupTypeNumber(e),null==this.dataCache&&(this.dataCache=u.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,t)},r.setupPositionProbePattern=function(e,t){for(var o=-1;o<=7;o++)if(!(e+o<=-1||this.moduleCount<=e+o))for(var n=-1;n<=7;n++)t+n<=-1||this.moduleCount<=t+n||(this.modules[e+o][t+n]=0<=o&&o<=6&&(0==n||6==n)||0<=n&&n<=6&&(0==o||6==o)||2<=o&&o<=4&&2<=n&&n<=4)},r.getBestMaskPattern=function(){for(var e=0,t=0,o=0;o<8;o++){this.makeImpl(!0,o);var n=y.getLostPoint(this);(0==o||n<e)&&(e=n,t=o)}return t},r.createMovieClip=function(e,t,o){var n=e.createEmptyMovieClip(t,o);this.make();for(var r=0;r<this.modules.length;r++)for(var i=1*r,a=0;a<this.modules[r].length;a++){var s=1*a;this.modules[r][a]&&(n.beginFill(0,100),n.moveTo(s,i),n.lineTo(1+s,i),n.lineTo(1+s,1+i),n.lineTo(s,1+i),n.endFill())}return n},r.setupTimingPattern=function(){for(var e=8;e<this.moduleCount-8;e++)null==this.modules[e][6]&&(this.modules[e][6]=e%2==0);for(var t=8;t<this.moduleCount-8;t++)null==this.modules[6][t]&&(this.modules[6][t]=t%2==0)},r.setupPositionAdjustPattern=function(){for(var e=y.getPatternPosition(this.typeNumber),t=0;t<e.length;t++)for(var o=0;o<e.length;o++){var n=e[t],r=e[o];if(null==this.modules[n][r])for(var i=-2;i<=2;i++)for(var a=-2;a<=2;a++)this.modules[n+i][r+a]=-2==i||2==i||-2==a||2==a||0==i&&0==a}},r.setupTypeNumber=function(e){for(var t=y.getBCHTypeNumber(this.typeNumber),o=0;o<18;o++){var n=!e&&1==(t>>o&1);this.modules[Math.floor(o/3)][o%3+this.moduleCount-8-3]=n}for(o=0;o<18;o++){n=!e&&1==(t>>o&1);this.modules[o%3+this.moduleCount-8-3][Math.floor(o/3)]=n}},r.setupTypeInfo=function(e,t){for(var o=this.errorCorrectLevel<<3|t,n=y.getBCHTypeInfo(o),r=0;r<15;r++){var i=!e&&1==(n>>r&1);r<6?this.modules[r][8]=i:r<8?this.modules[r+1][8]=i:this.modules[this.moduleCount-15+r][8]=i}for(r=0;r<15;r++){i=!e&&1==(n>>r&1);r<8?this.modules[8][this.moduleCount-r-1]=i:r<9?this.modules[8][15-r-1+1]=i:this.modules[8][15-r-1]=i}this.modules[this.moduleCount-8][8]=!e},r.mapData=function(e,t){for(var o=-1,n=this.moduleCount-1,r=7,i=0,a=this.moduleCount-1;0<a;a-=2)for(6==a&&a--;;){for(var s=0;s<2;s++)if(null==this.modules[n][a-s]){var l=!1;i<e.length&&(l=1==(e[i]>>>r&1)),y.getMask(t,n,a-s)&&(l=!l),this.modules[n][a-s]=l,-1==--r&&(i++,r=7)}if((n+=o)<0||this.moduleCount<=n){n-=o,o=-o;break}}},u.PAD0=236,u.PAD1=17,u.createData=function(e,t,o){for(var n=l.getRSBlocks(e,t),r=new c,i=0;i<o.length;i++){var a=o[i];r.put(a.mode,4),r.put(a.getLength(),y.getLengthInBits(a.mode,e)),a.write(r)}var s=0;for(i=0;i<n.length;i++)s+=n[i].dataCount;if(r.getLengthInBits()>8*s)throw new Error("code length overflow. ("+r.getLengthInBits()+">"+8*s+")");for(r.getLengthInBits()+4<=8*s&&r.put(0,4);r.getLengthInBits()%8!=0;)r.putBit(!1);for(;!(r.getLengthInBits()>=8*s||(r.put(u.PAD0,8),r.getLengthInBits()>=8*s));)r.put(u.PAD1,8);return u.createBytes(r,n)},u.createBytes=function(e,t){for(var o=0,n=0,r=0,i=new Array(t.length),a=new Array(t.length),s=0;s<t.length;s++){var l=t[s].dataCount,c=t[s].totalCount-l;n=Math.max(n,l),r=Math.max(r,c),i[s]=new Array(l);for(var u=0;u<i[s].length;u++)i[s][u]=255&e.buffer[u+o];o+=l;var d=y.getErrorCorrectPolynomial(c),p=new _(i[s],d.getLength()-1).mod(d);a[s]=new Array(d.getLength()-1);for(u=0;u<a[s].length;u++){var h=u+p.getLength()-a[s].length;a[s][u]=0<=h?p.get(h):0}}var g=0;for(u=0;u<t.length;u++)g+=t[u].totalCount;var f=new Array(g),m=0;for(u=0;u<n;u++)for(s=0;s<t.length;s++)u<i[s].length&&(f[m++]=i[s][u]);for(u=0;u<r;u++)for(s=0;s<t.length;s++)u<a[s].length&&(f[m++]=a[s][u]);return f},e.exports=u},1901:function(e,t,o){var n=o(1269);function r(e){this.mode=n.MODE_8BIT_BYTE,this.data=e}r.prototype={getLength:function(e){return this.data.length},write:function(e){for(var t=0;t<this.data.length;t++)e.put(this.data.charCodeAt(t),8)}},e.exports=r},1902:function(e,t,o){var n=o(1270);function u(e,t){this.totalCount=e,this.dataCount=t}u.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],u.getRSBlocks=function(e,t){var o=u.getRsBlockTable(e,t);if(null==o)throw new Error("bad rs block @ typeNumber:"+e+"/errorCorrectLevel:"+t);for(var n=o.length/3,r=new Array,i=0;i<n;i++)for(var a=o[3*i+0],s=o[3*i+1],l=o[3*i+2],c=0;c<a;c++)r.push(new u(s,l));return r},u.getRsBlockTable=function(e,t){switch(t){case n.L:return u.RS_BLOCK_TABLE[4*(e-1)+0];case n.M:return u.RS_BLOCK_TABLE[4*(e-1)+1];case n.Q:return u.RS_BLOCK_TABLE[4*(e-1)+2];case n.H:return u.RS_BLOCK_TABLE[4*(e-1)+3];default:return}},e.exports=u},1903:function(e,t){function o(){this.buffer=new Array,this.length=0}o.prototype={get:function(e){var t=Math.floor(e/8);return 1==(this.buffer[t]>>>7-e%8&1)},put:function(e,t){for(var o=0;o<t;o++)this.putBit(1==(e>>>t-o-1&1))},getLengthInBits:function(){return this.length},putBit:function(e){var t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}},e.exports=o},1904:function(e,t,o){var n=o(1269),r=o(1271),i=o(1272),a=0,s=1,l=2,c=3,u=4,d=5,p=6,h=7,g={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(e){for(var t=e<<10;0<=g.getBCHDigit(t)-g.getBCHDigit(g.G15);)t^=g.G15<<g.getBCHDigit(t)-g.getBCHDigit(g.G15);return(e<<10|t)^g.G15_MASK},getBCHTypeNumber:function(e){for(var t=e<<12;0<=g.getBCHDigit(t)-g.getBCHDigit(g.G18);)t^=g.G18<<g.getBCHDigit(t)-g.getBCHDigit(g.G18);return e<<12|t},getBCHDigit:function(e){for(var t=0;0!=e;)t++,e>>>=1;return t},getPatternPosition:function(e){return g.PATTERN_POSITION_TABLE[e-1]},getMask:function(e,t,o){switch(e){case a:return(t+o)%2==0;case s:return t%2==0;case l:return o%3==0;case c:return(t+o)%3==0;case u:return(Math.floor(t/2)+Math.floor(o/3))%2==0;case d:return t*o%2+t*o%3==0;case p:return(t*o%2+t*o%3)%2==0;case h:return(t*o%3+(t+o)%2)%2==0;default:throw new Error("bad maskPattern:"+e)}},getErrorCorrectPolynomial:function(e){for(var t=new r([1],0),o=0;o<e;o++)t=t.multiply(new r([1,i.gexp(o)],0));return t},getLengthInBits:function(e,t){if(1<=t&&t<10)switch(e){case n.MODE_NUMBER:return 10;case n.MODE_ALPHA_NUM:return 9;case n.MODE_8BIT_BYTE:case n.MODE_KANJI:return 8;default:throw new Error("mode:"+e)}else if(t<27)switch(e){case n.MODE_NUMBER:return 12;case n.MODE_ALPHA_NUM:return 11;case n.MODE_8BIT_BYTE:return 16;case n.MODE_KANJI:return 10;default:throw new Error("mode:"+e)}else{if(!(t<41))throw new Error("type:"+t);switch(e){case n.MODE_NUMBER:return 14;case n.MODE_ALPHA_NUM:return 13;case n.MODE_8BIT_BYTE:return 16;case n.MODE_KANJI:return 12;default:throw new Error("mode:"+e)}}},getLostPoint:function(e){for(var t=e.getModuleCount(),o=0,n=0;n<t;n++)for(var r=0;r<t;r++){for(var i=0,a=e.isDark(n,r),s=-1;s<=1;s++)if(!(n+s<0||t<=n+s))for(var l=-1;l<=1;l++)r+l<0||t<=r+l||0==s&&0==l||a==e.isDark(n+s,r+l)&&i++;5<i&&(o+=3+i-5)}for(n=0;n<t-1;n++)for(r=0;r<t-1;r++){var c=0;e.isDark(n,r)&&c++,e.isDark(n+1,r)&&c++,e.isDark(n,r+1)&&c++,e.isDark(n+1,r+1)&&c++,0!=c&&4!=c||(o+=3)}for(n=0;n<t;n++)for(r=0;r<t-6;r++)e.isDark(n,r)&&!e.isDark(n,r+1)&&e.isDark(n,r+2)&&e.isDark(n,r+3)&&e.isDark(n,r+4)&&!e.isDark(n,r+5)&&e.isDark(n,r+6)&&(o+=40);for(r=0;r<t;r++)for(n=0;n<t-6;n++)e.isDark(n,r)&&!e.isDark(n+1,r)&&e.isDark(n+2,r)&&e.isDark(n+3,r)&&e.isDark(n+4,r)&&!e.isDark(n+5,r)&&e.isDark(n+6,r)&&(o+=40);var u=0;for(r=0;r<t;r++)for(n=0;n<t;n++)e.isDark(n,r)&&u++;return o+=10*(Math.abs(100*u/t/t-50)/5)}};e.exports=g},1905:function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){rethrow=rethrow||function(e,t,o,n,r){var i=t.split("\n"),a=Math.max(n-3,0),s=Math.min(i.length,n+3),l=r(o),c=i.slice(a,s).map(function(e,t){var o=t+a+1;return(o==n?" >> ":"    ")+o+"| "+e}).join("\n");throw e.path=l,e.message=(l||"ejs")+":"+n+"\n"+c+"\n\n"+e.message,e},escapeFn=escapeFn||function(e){return null==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __line=1,__lines='<hr>\n<p><%= label %></p>\n\n<a class="puzzle-rating-btn" id="like" data-value="1">\n  <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n      width="27px" height="27px" viewBox="0 0 26.055 21.058" enable-background="new 0 0 26.055 21.058" xml:space="preserve" value="1">\n    <path d="M14.426,2.5c0.986-1.348,2.83-2.5,5.092-2.5c3.613,0,6.537,3.044,6.537,6.537\n        c0,2.357-1.076,3.709-1.894,4.525c-0.941,0.941-8.082,8.082-9.113,9.113c-1.244,1.243-3.019,1.137-4.246-0.09\n        c-1.314-1.314-7.158-7.158-9.131-9.131C0.408,9.693,0,8.113,0,6.537C0,2.926,3.197,0,6.537,0c2.451,0,4.438,1.508,5.188,2.535\n        C12.4,3.459,13.643,3.564,14.426,2.5z"/>\n  </svg>\n</a>\n\n<a class="puzzle-rating-btn" id="dislike" data-value="0">\n  <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n      width="27px" height="27px" viewBox="382.321 292.82 26.37 26.371" enable-background="new 382.321 292.82 26.37 26.371"\n      xml:space="preserve">\n    <path d="M395.506,292.82c-7.282,0.002-13.184,5.904-13.185,13.185c0.001,7.283,5.902,13.184,13.185,13.186\n        c7.281-0.002,13.183-5.902,13.185-13.186C408.689,298.725,402.787,292.822,395.506,292.82z M402.5,313\n        c-1.795,1.793-4.257,2.896-6.994,2.898c-2.737-0.002-5.199-1.105-6.994-2.898c-1.794-1.795-2.897-4.258-2.897-6.994\n        s1.103-5.199,2.897-6.994c1.795-1.793,4.257-2.897,6.994-2.897s5.199,1.104,6.994,2.897c1.792,1.795,2.896,4.258,2.896,6.994\n        S404.292,311.205,402.5,313z M391.317,304.951c1.054,0,1.907-0.854,1.907-1.906c0-1.053-0.854-1.906-1.907-1.906\n        c-1.054,0-1.907,0.854-1.907,1.906C389.41,304.098,390.264,304.951,391.317,304.951z M399.691,304.951\n        c1.053,0,1.906-0.854,1.906-1.906c0-1.053-0.853-1.906-1.906-1.906s-1.907,0.854-1.907,1.906\n        C397.784,304.098,398.639,304.951,399.691,304.951z M391.773,311.928c1.037-1.035,2.379-1.543,3.739-1.545\n        c1.352,0.002,2.689,0.512,3.724,1.545c0.642,0.643,1.685,0.643,2.328,0c0.645-0.643,0.645-1.686,0-2.33\n        c-1.665-1.666-3.864-2.51-6.052-2.508h-0.008c-2.185,0-4.39,0.838-6.06,2.51c-0.642,0.643-0.643,1.686,0,2.328\n        C390.088,312.571,391.131,312.571,391.773,311.928z"/>\n  </svg>\n</a>\n',__filename="src/templates/puzzleRating.html.ejs";try{var __output=[],__append=__output.push.bind(__output);with(locals||{})__append("<hr>\n<p>"),__line=2,__append(escapeFn(label)),__append('</p>\n\n<a class="puzzle-rating-btn" id="like" data-value="1">\n  <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n      width="27px" height="27px" viewBox="0 0 26.055 21.058" enable-background="new 0 0 26.055 21.058" xml:space="preserve" value="1">\n    <path d="M14.426,2.5c0.986-1.348,2.83-2.5,5.092-2.5c3.613,0,6.537,3.044,6.537,6.537\n        c0,2.357-1.076,3.709-1.894,4.525c-0.941,0.941-8.082,8.082-9.113,9.113c-1.244,1.243-3.019,1.137-4.246-0.09\n        c-1.314-1.314-7.158-7.158-9.131-9.131C0.408,9.693,0,8.113,0,6.537C0,2.926,3.197,0,6.537,0c2.451,0,4.438,1.508,5.188,2.535\n        C12.4,3.459,13.643,3.564,14.426,2.5z"/>\n  </svg>\n</a>\n\n<a class="puzzle-rating-btn" id="dislike" data-value="0">\n  <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n      width="27px" height="27px" viewBox="382.321 292.82 26.37 26.371" enable-background="new 382.321 292.82 26.37 26.371"\n      xml:space="preserve">\n    <path d="M395.506,292.82c-7.282,0.002-13.184,5.904-13.185,13.185c0.001,7.283,5.902,13.184,13.185,13.186\n        c7.281-0.002,13.183-5.902,13.185-13.186C408.689,298.725,402.787,292.822,395.506,292.82z M402.5,313\n        c-1.795,1.793-4.257,2.896-6.994,2.898c-2.737-0.002-5.199-1.105-6.994-2.898c-1.794-1.795-2.897-4.258-2.897-6.994\n        s1.103-5.199,2.897-6.994c1.795-1.793,4.257-2.897,6.994-2.897s5.199,1.104,6.994,2.897c1.792,1.795,2.896,4.258,2.896,6.994\n        S404.292,311.205,402.5,313z M391.317,304.951c1.054,0,1.907-0.854,1.907-1.906c0-1.053-0.854-1.906-1.907-1.906\n        c-1.054,0-1.907,0.854-1.907,1.906C389.41,304.098,390.264,304.951,391.317,304.951z M399.691,304.951\n        c1.053,0,1.906-0.854,1.906-1.906c0-1.053-0.853-1.906-1.906-1.906s-1.907,0.854-1.907,1.906\n        C397.784,304.098,398.639,304.951,399.691,304.951z M391.773,311.928c1.037-1.035,2.379-1.543,3.739-1.545\n        c1.352,0.002,2.689,0.512,3.724,1.545c0.642,0.643,1.685,0.643,2.328,0c0.645-0.643,0.645-1.686,0-2.33\n        c-1.665-1.666-3.864-2.51-6.052-2.508h-0.008c-2.185,0-4.39,0.838-6.06,2.51c-0.642,0.643-0.643,1.686,0,2.328\n        C390.088,312.571,391.131,312.571,391.773,311.928z"/>\n  </svg>\n</a>\n'),__line=31;return __output.join("")}catch(e){rethrow(e,__lines,__filename,__line,escapeFn)}}},1906:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(o(0)),r=l(o(14)),i=l(o(1)),a=l(o(4)),s=l(o(114));function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var u={summary:{fontSize:18,lineHeight:"20px",fontWeight:"normal",outline:"none",padding:5,display:"list-item"},challengeLineCounts:{fontSize:16},challengeSummary:{fontColor:"black",fontSize:14,marginLeft:40},details:{textAlign:"left"}},d=function(e){function t(){return e.apply(this,arguments)||this}return function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(t,e),t.prototype.render=function(){var e,t=i.default.createElement("p",{id:"num-lines-of-code",className:"lines-of-code-message",style:this.props.useChallengeStyles?u.challengeLineCounts:null},a.default.numLinesOfCodeWritten({numLines:this.props.numLinesWritten}));0!==this.props.totalNumLinesWritten&&(e=i.default.createElement("p",{id:"total-num-lines-of-code",className:"lines-of-code-message",style:this.props.useChallengeStyles?u.challengeLineCounts:null},a.default.totalNumLinesOfCodeWritten({numLines:this.props.totalNumLinesWritten})));var o=i.default.createElement("details",{className:"show-code",style:this.props.useChallengeStyles?u.details:null},i.default.createElement("summary",{role:"button",style:function(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{},n=Object.keys(Object(o));"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(o).filter(function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable}))),n.forEach(function(e){c(t,e,o[e])})}return t}({},u.summary,this.props.useChallengeStyles?u.challengeSummary:{}),onClick:function(){return(0,s.default)("showCode","click","dialog")}},i.default.createElement("b",null,a.default.showGeneratedCode())),this.props.children);return i.default.createElement("div",null,t,e,o)},t}(i.default.Component);c(d,"propTypes",{numLinesWritten:n.default.number.isRequired,totalNumLinesWritten:n.default.number.isRequired,children:n.default.node,useChallengeStyles:n.default.bool});var p=(0,r.default)(d);t.default=p,e.exports=t.default},1907:function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){rethrow=rethrow||function(e,t,o,n,r){var i=t.split("\n"),a=Math.max(n-3,0),s=Math.min(i.length,n+3),l=r(o),c=i.slice(a,s).map(function(e,t){var o=t+a+1;return(o==n?" >> ":"    ")+o+"| "+e}).join("\n");throw e.path=l,e.message=(l||"ejs")+":"+n+"\n"+c+"\n\n"+e.message,e},escapeFn=escapeFn||function(e){return null==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __line=1,__lines='<p id="share-fail-explanation"><%= shareFailure.message %></p>\n\n<% if (shareFailure.contents) { %>\n  <div class="share-fail-excerpt">\n    <pre class="generatedCode"><%= shareFailure.contents %></pre>\n  </div>\n<% } %>\n',__filename="src/templates/shareFailure.html.ejs";try{var __output=[],__append=__output.push.bind(__output);with(locals||{})__append('<p id="share-fail-explanation">'),__append(escapeFn(shareFailure.message)),__append("</p>\n\n"),__line=3,shareFailure.contents&&(__append('\n  <div class="share-fail-excerpt">\n    <pre class="generatedCode">'),__line=5,__append(escapeFn(shareFailure.contents)),__append("</pre>\n  </div>\n"),__line=7),__append("\n"),__line=8;return __output.join("")}catch(e){rethrow(e,__lines,__filename,__line,escapeFn)}}},1908:function(module,exports,__webpack_require__){module.exports=function anonymous(locals,escapeFn,include,rethrow){rethrow=rethrow||function(e,t,o,n,r){var i=t.split("\n"),a=Math.max(n-3,0),s=Math.min(i.length,n+3),l=r(o),c=i.slice(a,s).map(function(e,t){var o=t+a+1;return(o==n?" >> ":"    ")+o+"| "+e}).join("\n");throw e.path=l,e.message=(l||"ejs")+":"+n+"\n"+c+"\n\n"+e.message,e},escapeFn=escapeFn||function(e){return null==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __line=1,__lines='<% var msg = require(\'@cdo/locale\'); %>\n<% if (options.feedbackImage) { %>\n  <img class="feedback-image" src="<%= options.feedbackImage %>"/>\n  <div class="sharing-content">\n<% } else { %>\n  <div class="sharing-content no-image">\n<% } %>\n\n\n<% if (options.shareLink) { %>\n  <% if (options.appStrings && options.appStrings.sharingText) { %>\n    <div><%= options.appStrings.sharingText %></div>\n  <% } %>\n\n  <div>\n    <input type="text" id="sharing-input" value=<%= options.shareLink %> readonly>\n  </div>\n  <div class=\'social-buttons\'>\n    <% if (options.facebookUrl) { -%>\n      <a id=\'sharing-facebook\' href=\'<%= options.facebookUrl %>\' target="_blank" class="popup-window" style="display: none">\n        <button>\n          <i class="fa fa-facebook fa-lg"></i>\n        </button>\n      </a>\n    <% } -%>\n    <% if (options.twitterUrl) { -%>\n      <a id=\'sharing-twitter\' href=\'<%= options.twitterUrl %>\' target="_blank" class="popup-window" style="display: none">\n        <button>\n          <i class="fa fa-twitter fa-lg"></i>\n        </button>\n      </a>\n    <% } -%>\n    <% if (!options.onMainPage && !options.disablePrinting) { %>\n      <button id="print-button">\n        <i class="fa fa-print fa-lg"></i>\n      </button>\n    <% } %>\n    <% if (options.alreadySaved) { %>\n      <button class="saved-to-gallery" disabled>\n        <%= msg.savedToGallery() %>\n      </button>\n    <% } else if (options.saveToProjectGallery && !options.disableSaveToGallery) { %>\n      <button id="save-to-project-gallery-button">\n        <%= msg.addToProjects() %>\n      </button>\n      <button id="publish-to-project-gallery-button">\n          <%= msg.publish() %>\n      </button>\n    <% } else if (options.saveToLegacyGalleryUrl && !options.disableSaveToGallery) { %>\n      <button id="save-to-legacy-gallery-button">\n        <%= msg.saveAndPublish() %>\n      </button>\n    <% } %>\n    <% if (options.downloadReplayVideo) { %>\n      \x3c!-- Mount point for DownloadReplayVideoButton component. --\x3e\n      <span id="download-replay-video-container"></span>\n    <% } %>\n    <button id="sharing-phone">\n      <i class="fa fa-mobile fa-lg"></i>\n      &nbsp;\n      <%= msg.sendToPhone() %>\n    </button>\n    <div id="download-replay-video-error" style="font-size: 12px; display: none;">\n      <%= msg.downloadReplayVideoButtonError() %>\n    </div>\n  </div>\n\n<% } %>\n\n</div>\n\n<% /* Always show the "Send to phone" button, and when it\'s clicked to toggle\n    * the section below into view, the QR Code, but only show the phone number\n    * in that section below when options.isUS is true, which is done\n    * for US users. */ %>\n<div id="send-to-phone" style="display: none">\n  <% if (options.isUS) { %>\n    <div id="send-to-phone-left">\n      <label for="phone">Enter a US phone number:</label>\n      <input type="tel" id="phone" name="phone" />\n      <button id="phone-submit" onClick="return false;">Send</button>\n      <div id="phone-charges">A text message will be sent via <a href="http://twilio.com" target="_blank">Twilio</a>. Charges may apply to the recipient.</div>\n    </div>\n  <% } %>\n  <div id="send-to-phone-right">\n    <label><%= msg.scanQRCode() %></label>\n    <div id="send-to-phone-qr-code"></div>\n  </div>\n</div>',__filename="src/templates/sharing.html.ejs";try{var __output=[],__append=__output.push.bind(__output);with(locals||{}){var msg=__webpack_require__(4);__append("\n"),__line=2,__line=options.feedbackImage?(__append('\n  <img class="feedback-image" src="'),__line=3,__append(escapeFn(options.feedbackImage)),__append('"/>\n  <div class="sharing-content">\n'),5):(__append('\n  <div class="sharing-content no-image">\n'),7),__append("\n\n\n"),__line=10,options.shareLink&&(__append("\n  "),__line=11,options.appStrings&&options.appStrings.sharingText&&(__append("\n    <div>"),__line=12,__append(escapeFn(options.appStrings.sharingText)),__append("</div>\n  "),__line=13),__append('\n\n  <div>\n    <input type="text" id="sharing-input" value='),__line=16,__append(escapeFn(options.shareLink)),__append(" readonly>\n  </div>\n  <div class='social-buttons'>\n    "),__line=19,options.facebookUrl&&(__append("      <a id='sharing-facebook' href='"),__line=20,__append(escapeFn(options.facebookUrl)),__append('\' target="_blank" class="popup-window" style="display: none">\n        <button>\n          <i class="fa fa-facebook fa-lg"></i>\n        </button>\n      </a>\n    '),__line=25),__append("    "),__line=26,options.twitterUrl&&(__append("      <a id='sharing-twitter' href='"),__line=27,__append(escapeFn(options.twitterUrl)),__append('\' target="_blank" class="popup-window" style="display: none">\n        <button>\n          <i class="fa fa-twitter fa-lg"></i>\n        </button>\n      </a>\n    '),__line=32),__append("    "),__line=33,options.onMainPage||options.disablePrinting||(__append('\n      <button id="print-button">\n        <i class="fa fa-print fa-lg"></i>\n      </button>\n    '),__line=37),__append("\n    "),__line=38,options.alreadySaved?(__append('\n      <button class="saved-to-gallery" disabled>\n        '),__line=40,__append(escapeFn(msg.savedToGallery())),__append("\n      </button>\n    "),__line=42):options.saveToProjectGallery&&!options.disableSaveToGallery?(__append('\n      <button id="save-to-project-gallery-button">\n        '),__line=44,__append(escapeFn(msg.addToProjects())),__append('\n      </button>\n      <button id="publish-to-project-gallery-button">\n          '),__line=47,__append(escapeFn(msg.publish())),__append("\n      </button>\n    "),__line=49):options.saveToLegacyGalleryUrl&&!options.disableSaveToGallery&&(__append('\n      <button id="save-to-legacy-gallery-button">\n        '),__line=51,__append(escapeFn(msg.saveAndPublish())),__append("\n      </button>\n    "),__line=53),__append("\n    "),__line=54,options.downloadReplayVideo&&(__append('\n      \x3c!-- Mount point for DownloadReplayVideoButton component. --\x3e\n      <span id="download-replay-video-container"></span>\n    '),__line=57),__append('\n    <button id="sharing-phone">\n      <i class="fa fa-mobile fa-lg"></i>\n      &nbsp;\n      '),__line=61,__append(escapeFn(msg.sendToPhone())),__append('\n    </button>\n    <div id="download-replay-video-error" style="font-size: 12px; display: none;">\n      '),__line=64,__append(escapeFn(msg.downloadReplayVideoButtonError())),__append("\n    </div>\n  </div>\n\n"),__line=68),__append("\n\n</div>\n\n"),__line=72,__line=75,__append('\n<div id="send-to-phone" style="display: none">\n  '),__line=77,options.isUS&&(__append('\n    <div id="send-to-phone-left">\n      <label for="phone">Enter a US phone number:</label>\n      <input type="tel" id="phone" name="phone" />\n      <button id="phone-submit" onClick="return false;">Send</button>\n      <div id="phone-charges">A text message will be sent via <a href="http://twilio.com" target="_blank">Twilio</a>. Charges may apply to the recipient.</div>\n    </div>\n  '),__line=84),__append('\n  <div id="send-to-phone-right">\n    <label>'),__line=86,__append(escapeFn(msg.scanQRCode())),__append('</label>\n    <div id="send-to-phone-qr-code"></div>\n  </div>\n</div>'),__line=89}return __output.join("")}catch(e){rethrow(e,__lines,__filename,__line,escapeFn)}}},1909:function(e,t,o){"use strict";function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.UnconnectedFinishDialog=void 0;var i=o(1243),n=o(9),r=o(1244),s=o(11),l=E(o(66)),c=E(o(1274)),u=E(o(1910)),d=E(o(1264)),p=E(o(1263)),h=E(o(748)),g=E(o(18)),f=E(o(0)),m=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var t=b();if(t&&t.has(e))return t.get(e);var o={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(o,r,i):o[r]=e[r]}o.default=e,t&&t.set(e,o);return o}(o(1)),y=E(o(6)),_=E(o(4)),v=o(1848);function b(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return b=function(){return e},e}function E(e){return e&&e.__esModule?e:{default:e}}function T(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{},n=Object.keys(Object(o));"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(o).filter(function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable}))),n.forEach(function(e){S(t,e,o[e])})}return t}function S(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var k={pageWrapper:{position:"fixed",display:"flex",justifyContent:"center",alignItems:"center",top:0,bottom:0,left:0,right:0,margin:"auto",zIndex:1040},modal:{position:"relative",width:450,backgroundColor:y.default.white,borderRadius:10},header:{backgroundColor:y.default.light_teal,height:50,width:"100%",borderRadius:"10px 10px 0px 0px"},content:{padding:"8px 0 5px",textAlign:"center"},confetti:{position:"relative",left:"50%",top:150},bubbleContainer:{width:74,height:74,borderRadius:50,borderWidth:5,borderStyle:"solid",borderColor:y.default.light_teal,backgroundColor:y.default.white,position:"absolute",top:-25,left:-20,padding:8},bubble:{borderWidth:7,borderStyle:"solid",width:60,height:60,borderRadius:"50%",transition:"background-color 250ms linear, border-color 250ms linear"},buttonContainer:{height:38,marginTop:13,display:"flex",justifyContent:"center"},blockCountWrapper:{color:y.default.white,textAlign:"right",marginRight:10},blockCountLabel:{fontSize:20,fontFamily:'"Gotham 5r", sans-serif',verticalAlign:"middle"},blockCount:{fontSize:30,fontFamily:'"Gotham 5r", sans-serif',margin:7,verticalAlign:"middle"},blockCountPerfect:{color:y.default.level_perfect},blockCountPass:{color:y.default.light_teal},blockCountDescriptor:{borderRadius:5,display:"inline-block",fontFamily:'"Gotham 5r", sans-serif',padding:5,verticalAlign:"middle",background:y.default.white},mastery:{display:"inline-block"},share:{float:"left",width:180,height:200,paddingTop:20},thumbnail:{width:150,height:150,backgroundSize:"cover",marginLeft:15,border:"1px solid"},shareButton:{background:y.default.cyan,color:y.default.white},achievementWrapper:{marginLeft:20,marginRight:20},achievementsHeading:{margin:"20px auto 0",color:y.default.light_gray,fontFamily:'"Gotham 5r", sans-serif',fontSize:16},achievements:{display:"block",margin:"4px auto 4px",borderColor:y.default.lighter_gray,borderWidth:"1px 0",borderStyle:"solid",fontFamily:'"Gotham 4r", sans-serif',fontSize:14,color:y.default.dark_charcoal,overflow:"hidden"},achievementIcon:{color:y.default.teal,marginRight:6,fontSize:32,verticalAlign:"middle"},achievementText:{verticalAlign:"middle"},achievementRow:{padding:10,boxSizing:"border-box",textAlign:"left"},achievementRowNonShare:{width:"50%",float:"left"},generatedCodeWrapper:{padding:"30px 25px 15px 25px"},generatedCode:{},funometer:{marginTop:5,marginLeft:20,display:"flex",minHeight:32},button:{borderWidth:0,height:40,color:y.default.white,margin:"0px 5px"},replayButton:{backgroundColor:y.default.green},showCodeButton:{backgroundColor:y.default.teal},continueButton:{backgroundColor:y.default.orange}},C={blocksCounted:!1,blockCountDescriptionShown:!1,achievementsHighlighted:!1,showingCode:!1},A={blocksCounted:!0,blockCountDescriptionShown:!0,achievementsHighlighted:!0,showingCode:!1},O=function(t){function e(){var e;return(e=t.call(this)||this).state=C,e}!function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(e,t);var o=e.prototype;return o.componentWillReceiveProps=function(e){this.props.isOpen&&!e.isOpen&&this.setState(C),void 0!==this.props.blockLimit&&this.props.blockLimit!==1/0||this.state.blocksCounted&&this.state.blockCountDescriptionShown||this.setState({blocksCounted:!0,blockCountDescriptionShown:!0})},o.getBubble=function(){var e=y.default.white,t=y.default.light_gray;return this.state.blocksCounted&&(t=y.default.level_perfect,e=this.props.isPerfect?y.default.level_perfect:y.default.level_passed),m.default.createElement("div",{style:k.bubbleContainer},m.default.createElement("div",{className:"uitest-bubble",style:T({},k.bubble,{backgroundColor:e,borderColor:t})}))},o.getBlockCountDescription=function(){var n,e=this;return n=this.props.blocksUsed<this.props.blockLimit?_.default.betterThanPerfectDescription():this.props.blocksUsed===this.props.blockLimit?_.default.perfectDescription():_.default.tooManyBlocksDescription(),m.default.createElement(i.Motion,{defaultStyle:{scale:this.state.blockCountDescriptionShown?1:0},style:{scale:(0,i.spring)(this.state.blocksCounted?1:0,{stiffness:250,damping:18})},onRest:function(){return e.setState({blockCountDescriptionShown:!0})}},function(e){var t=e.scale,o="translateY(".concat(50*(1-t),"%) scaleY(").concat(t,")");return m.default.createElement("span",{style:T({},k.blockCountDescriptor,{transform:o})},n)})},o.getBlockCounter=function(){var e=this;if(void 0===this.props.blockLimit||this.props.blockLimit===1/0)return null;var t=this.props.blocksUsed>this.props.blockLimit;return m.default.createElement("div",{style:k.blockCountWrapper},m.default.createElement("span",{style:k.blockCountLabel},_.default.numBlocksUsedLabel(),":"),m.default.createElement("span",{style:k.blockCount},m.default.createElement(u.default,{defaultValue:this.state.blocksCounted?this.props.blocksUsed:0,value:this.props.blocksUsed,onRest:function(){return e.setState({blocksCounted:!0})}}),this.props.blockLimit&&"/"+this.props.blockLimit.toString()),m.default.createElement("span",{style:t?k.blockCountPass:k.blockCountPerfect},this.getBlockCountDescription()))},o.getAchievements=function(){var r=this,e=this.props.achievements.map(function(){return{color:r.state.achievementsHightlighted?1:0}});return m.default.createElement(i.StaggeredMotion,{defaultStyles:e,styles:function(n){return n.map(function(e,t){var o;return o=r.props.achievements[t].isAchieved&&r.state.blockCountDescriptionShown?0===t?1:n[t-1].color:0,{color:r.state.achievementsHighlighted?o:(0,i.spring)(o)}})}},function(e){return m.default.createElement("div",{style:k.achievements},e.map(function(e,t){var o=r.props.achievements[t];return m.default.createElement("div",{style:T({},k.achievementRow,!r.props.feedbackImage&&k.achievementRowNonShare,{color:(0,s.interpolateColors)(y.default.lighter_gray,y.default.dark_charcoal,e.color)}),key:t},m.default.createElement(g.default,{icon:"check-circle-o",style:k.achievementIcon}),m.default.createElement("span",{style:k.achievementText},o.message))}))})},o.getFunometer=function(){return m.default.createElement("div",{style:k.funometer},this.props.showFunometer&&m.default.createElement(d.default,{useLegacyStyles:!0,label:_.default.rateButtonsLabel()}))},o.getButtons=function(){var e=this,t=this.state.showingCode?m.default.createElement("button",{type:"button",key:"hidecode",style:T({},k.button,k.showCodeButton),onClick:function(){return e.setState(T({},A,{showingCode:!1}))}},_.default.hideGeneratedCode()):m.default.createElement("button",{type:"button",key:"showcode",style:T({},k.button,k.showCodeButton),onClick:function(){return e.setState(T({},A,{showingCode:!0}))}},_.default.showGeneratedCode());return[m.default.createElement("button",{type:"button",key:"replay",style:T({},k.button,k.replayButton),onClick:this.props.onReplay},"Replay"),t,m.default.createElement("button",{type:"button",key:"continue",style:T({},k.button,k.continueButton),onClick:this.props.onContinue},"Continue")]},o.render=function(){var e=this;if(!this.props.isOpen&&!this.props.hideBackdrop)return null;var t=this.props.isChallenge&&this.props.isPerfect&&this.state.blocksCounted,o=this.props.achievements&&0!==this.props.achievements.length;return m.default.createElement(l.default,{isOpen:this.props.isOpen,hideBackdrop:this.props.hideBackdrop,handleClose:this.props.onContinue,hideCloseButton:!0,noModalStyles:!0},m.default.createElement("div",{style:this.props.hideBackdrop?{}:k.pageWrapper},m.default.createElement("div",{style:k.modalWrapper},m.default.createElement("div",{style:k.modal},m.default.createElement("div",{style:k.confetti},m.default.createElement(p.default,{active:t})),m.default.createElement("div",{style:k.header},this.getBubble(),this.getBlockCounter()),this.state.showingCode?m.default.createElement("div",{style:k.generatedCodeWrapper},m.default.createElement(c.default,{message:this.props.studentCode.message,code:this.props.studentCode.code,style:k.generatedCode})):m.default.createElement("div",{style:T({},k.content,this.props.feedbackImage&&{minHeight:277})},m.default.createElement("div",{style:k.mastery},m.default.createElement(h.default,{stageTrophyEnabled:!0})),this.props.feedbackImage&&m.default.createElement("div",{style:k.share},m.default.createElement("div",{style:T({},k.thumbnail,{backgroundImage:"url(".concat(this.props.feedbackImage,")")})}),m.default.createElement("button",{type:"button",style:k.shareButton,onClick:function(){return(0,v.shareProject)(e.props.getShareUrl())}},_.default.share())),o&&m.default.createElement("div",{style:T({},k.achievementWrapper,this.props.feedbackImage&&{marginLeft:180})},m.default.createElement("div",{style:k.achievementsHeading},_.default.achievements()),this.getAchievements()),this.getFunometer())),m.default.createElement("div",{style:k.buttonContainer},this.getButtons()))))},e}(m.Component);S(t.UnconnectedFinishDialog=O,"propTypes",{isOpen:f.default.bool,hideBackdrop:f.default.bool,onContinue:f.default.func,onReplay:f.default.func,isChallenge:f.default.bool,isPerfect:f.default.bool,blocksUsed:f.default.number,blockLimit:f.default.number,achievements:f.default.arrayOf(f.default.shape({isAchieved:f.default.bool,successIconUrl:f.default.string,failureIconUrl:f.default.string,message:f.default.string})),showFunometer:f.default.bool,getShareUrl:f.default.func,studentCode:f.default.shape({message:f.default.string,code:f.default.string}),feedbackImage:f.default.string});var w=(0,n.connect)(function(e){return{isOpen:e.feedback.displayingFeedback,isChallenge:e.feedback.isChallenge,isPerfect:e.feedback.isPerfect,blocksUsed:e.feedback.blocksUsed,blockLimit:e.feedback.blockLimit,achievements:e.feedback.achievements,showFunometer:e.feedback.displayFunometer,studentCode:e.feedback.studentCode,feedbackImage:e.feedback.feedbackImage}},function(e){return{onReplay:function(){return e((0,r.hideFeedback)())}}})(O);t.default=w},191:function(e,t,o){e.exports=o(530)},1910:function(e,t,o){"use strict";function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,r=o(1243),i=(n=o(0))&&n.__esModule?n:{default:n},s=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var t=l();if(t&&t.has(e))return t.get(e);var o={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(o,r,i):o[r]=e[r]}o.default=e,t&&t.set(e,o);return o}(o(1));function l(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return l=function(){return e},e}function c(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{},n=Object.keys(Object(o));"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(o).filter(function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable}))),n.forEach(function(e){d(t,e,o[e])})}return t}function u(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}function d(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var p={slot:{height:36,display:"inline-block",overflowY:"hidden"},digit:{paddingTop:15,height:36,width:21,overflowX:"hidden"}},h=function(e){function t(){return e.apply(this,arguments)||this}return u(t,e),t.prototype.render=function(){for(var e=[],t=1;1===t||t<=this.props.value;t*=10){var o=Math.floor(this.props.value/t),n=Math.floor(this.props.defaultValue/t);e.push(s.default.createElement(r.Motion,{defaultStyle:{value:n||0},style:{value:(0,r.spring)(o,{stiffness:150,damping:25})},onRest:1===t?this.props.onRest:void 0,key:t},function(e){return s.default.createElement(g,{value:e.value})}))}return e.reverse(),s.default.createElement("span",null,e)},t}(s.Component);d(t.default=h,"propTypes",{defaultValue:i.default.number,value:i.default.number.isRequired,onRest:i.default.func});var g=function(e){function t(){return e.apply(this,arguments)||this}return u(t,e),t.prototype.render=function(){var e=Math.floor(this.props.value%10),t=this.props.value%10-e;return s.default.createElement("span",{style:p.slot},s.default.createElement("div",{style:c({},p.digit,{transform:"translateY(-".concat(100*(1-t),"%)")})},(e+1)%10),s.default.createElement("div",{style:c({},p.digit,{transform:"translateY(-".concat(100*(1-t),"%)")})},e))},t}(s.Component);d(g,"propTypes",{value:i.default.number.isRequired}),e.exports=t.default},1911:function(e,t,o){"use strict";function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.UnconnectedShareDialog=void 0;var n=d(o(0)),i=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var t=u();if(t&&t.has(e))return t.get(e);var o={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(o,r,i):o[r]=e[r]}o.default=e,t&&t.set(e,o);return o}(o(1)),r=o(9),s=o(309),l=d(o(1912)),c=d(o(1922));function u(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return u=function(){return e},e}function d(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(null==e)return{};var o,n,r=function(e,t){if(null==e)return{};var o,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)o=i[n],0<=t.indexOf(o)||(r[o]=e[o]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)o=i[n],0<=t.indexOf(o)||Object.prototype.propertyIsEnumerable.call(e,o)&&(r[o]=e[o])}return r}var h,g,f,m=function(e){function t(){return e.apply(this,arguments)||this}return function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(t,e),t.prototype.render=function(){var e=this.props,t=e.signInState,o=e.isProjectLevel,n=e.allowSignedOutShare,r=p(e,["signInState","isProjectLevel","allowSignedOutShare"]);return t===s.SignInState.SignedIn||o||n?i.default.createElement(l.default,r):i.default.createElement(c.default,null)},t}(i.Component);h=m,g="propTypes",f={signInState:n.default.oneOf(Object.values(s.SignInState)),isProjectLevel:n.default.bool.isRequired,allowSignedOutShare:n.default.bool,selectedSong:n.default.string},g in h?Object.defineProperty(h,g,{value:f,enumerable:!0,configurable:!0,writable:!0}):h[g]=f;var y=m;t.UnconnectedShareDialog=y;var _=(0,r.connect)(function(e){return{signInState:e.currentUser.signInState}})(m);t.default=_},1912:function(e,t,o){"use strict";function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.UnconnectedShareAllowedDialog=void 0;var n=h(o(0)),m=h(o(1)),r=o(9),y=h(o(66)),_=h(o(906)),v=h(o(1913)),b=h(o(1157)),E=h(o(1204)),i=h(o(6)),T=p(o(283)),S=p(o(215)),k=o(1849),s=o(328),C=h(o(1268)),l=o(322),A=h(o(1251)),c=o(11),O=h(o(4)),u=h(o(62)),w=h(o(1914)),B=h(o(1087));function d(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return d=function(){return e},e}function p(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var t=d();if(t&&t.has(e))return t.get(e);var o={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(o,r,i):o[r]=e[r]}return o.default=e,t&&t.set(e,o),o}function h(e){return e&&e.__esModule?e:{default:e}}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function I(e){window.dashboard&&u.default.putRecord({study:"finish-dialog-share",study_group:"v1",event:"project-share",project_id:dashboard.project&&dashboard.project.getCurrentId(),data_string:e},{includeUserId:!0})}function R(e,t){return function(){try{I(t)}finally{e.apply(this,arguments)}}}function N(e){e.target.select()}var P={modal:{width:720,marginLeft:-360},abuseStyle:{border:"1px solid",borderRadius:10,padding:10,marginBottom:20},abuseTextStyle:{color:"#b94a48",fontSize:14},shareWarning:{color:i.default.red,fontSize:13,fontWeight:"bold"},button:{backgroundColor:i.default.purple,borderWidth:0,color:i.default.white,fontSize:"larger",paddingTop:12.5,paddingBottom:12.5,paddingLeft:10,paddingRight:10,marginTop:0,marginBottom:0,marginLeft:0,marginRight:8,verticalAlign:"top"},buttonDisabled:{backgroundColor:i.default.gray,borderWidth:0,color:i.default.white,fontSize:"larger",paddingTop:12.5,paddingBottom:12.5,paddingLeft:10,paddingRight:10,marginTop:0,marginBottom:0,marginLeft:0,marginRight:8,verticalAlign:"top"},thumbnail:{float:"left",marginRight:10,width:125,height:125,overflow:"hidden",borderRadius:2,border:"1px solid rgb(187,187,187)",backgroundColor:i.default.white,position:"relative"},thumbnailImg:{position:"absolute",left:"50%",top:"50%",width:"100%",height:"auto",transform:"translate(-50%,-50%)",msTransform:"translate(-50%,-50%)",WebkitTransform:"translate(-50%,-50%)"},sendToPhoneContainer:{width:"100%",marginTop:15},sendToPhoneLeft:{float:"left",width:"70%",paddingRight:20,boxSizing:"border-box"},sendToPhoneRight:{float:"right",width:"30%"}};function L(e,t){var o=new Image;o.onabort=function(){return t(!1)},o.onload=function(){return t(!0)},o.onerror=function(){return t(!1)},o.src=e+(e.indexOf("?")<0?"?":"&")+"__cacheBust="+Math.random()}var x=function(r){function e(){for(var t,e=arguments.length,o=new Array(e),n=0;n<e;n++)o[n]=arguments[n];return f(g(t=r.call.apply(r,[this].concat(o))||this),"state",{showSendToPhone:!1,showAdvancedOptions:!1,exporting:!1,exportError:null,isTwitterAvailable:!1,isFacebookAvailable:!1,replayVideoUnavailable:!1}),f(g(t),"replayVideoNotFound",function(){t.setState({replayVideoUnavailable:!0})}),f(g(t),"sharingDisabled",function(){return t.props.userSharingDisabled&&["applab","gamelab","weblab"].includes(t.props.appType)}),f(g(t),"close",function(){I("close"),t.props.onClose(),t.setState({replayVideoUnavailable:!1})}),f(g(t),"showSendToPhone",function(e){t.setState({showSendToPhone:!0,showAdvancedOptions:!1}),e.preventDefault()}),f(g(t),"print",function(e){e.preventDefault(),(0,c.createHiddenPrintWindow)(t.props.thumbnailUrl)}),f(g(t),"showAdvancedOptions",function(){t.setState({showSendToPhone:!1,showAdvancedOptions:!0})}),f(g(t),"publish",function(){t.props.onShowPublishDialog(t.props.channelId,t.props.appType)}),f(g(t),"unpublish",function(){t.props.onUnpublish(t.props.channelId)}),t}!function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(e,r);var t=e.prototype;return t.componentDidMount=function(){var t=this;this.props.canShareSocial&&(L("https://facebook.com/favicon.ico",function(e){return t.setState({isFacebookAvailable:e})}),L("https://twitter.com/favicon.ico",function(e){return t.setState({isTwitterAvailable:e})}))},t.componentDidUpdate=function(e,t,o){this.props.isOpen&&!e.isOpen&&I("open")},t.render=function(){var e,t="modal-content";this.props.icon?e=m.default.createElement("img",{className:"modal-image",src:this.props.icon}):t+=" no-modal-icon";var o,n="applab"===this.props.appType||"gamelab"===this.props.appType,r=k.SongTitlesToArtistTwitterHandle[this.props.selectedSong],i=!!this.props.thumbnailUrl,a=i?this.props.thumbnailUrl:"/blockly/media/projects/project_default.png",s="https://www.facebook.com/sharer/sharer.php?u="+encodeURIComponent(this.props.shareUrl),l="https://twitter.com/intent/tweet?url="+encodeURIComponent(this.props.shareUrl)+"&amp;text=Check%20out%20what%20I%20made%20@codeorg&amp;hashtags=HourOfCode&amp;related=codeorg",c="https://twitter.com/intent/tweet?url=&amp;text=Check%20out%20the%20dance%20I%20made%20featuring%20@"+r+"%20on%20@codeorg!%20"+encodeURIComponent(this.props.shareUrl)+"&amp;hashtags=HourOfCode&amp;related=codeorg",u=r?c:l,d=!this.props.canShareSocial&&n;"applab"===this.props.appType?o={iframeHeight:T.APP_HEIGHT+140,iframeWidth:T.APP_WIDTH+32}:"gamelab"===this.props.appType&&(o={iframeHeight:S.APP_HEIGHT+357,iframeWidth:S.APP_WIDTH+32});var p=this.props,h=p.canPrint,g=p.canPublish,f=p.isPublished;return m.default.createElement("div",null,m.default.createElement(y.default,{style:P.modal,isOpen:this.props.isOpen,handleClose:this.close,hideBackdrop:this.props.hideBackdrop},this.sharingDisabled()&&m.default.createElement("div",{style:{position:"relative"}},m.default.createElement("div",{style:{paddingRight:10}},m.default.createElement("p",null,O.default.sharingBlockedByTeacher())),m.default.createElement("div",{style:{clear:"both",height:40}},m.default.createElement("button",{type:"button",id:"continue-button",style:{position:"absolute",right:0,bottom:0,margin:0},onClick:this.close},O.default.dialogOK()))),!this.sharingDisabled()&&m.default.createElement("div",null,e,m.default.createElement("div",{id:"project-share",className:t,style:{position:"relative"}},m.default.createElement("p",{className:"dialog-title"},O.default.shareTitle()),this.props.isAbusive&&m.default.createElement(b.default,{i18n:{tos:O.default.tosLong({url:"http://code.org/tos"}),contact_us:O.default.contactUs({url:"https://code.org/contact"})},className:"alert-error",style:P.abuseStyle,textStyle:P.abuseTextStyle}),d&&m.default.createElement("p",{style:P.shareWarning},O.default.shareU13Warning()),m.default.createElement("div",{style:{clear:"both"}},m.default.createElement("div",{style:P.thumbnail},m.default.createElement("img",{style:P.thumbnailImg,src:a})),m.default.createElement("div",null,m.default.createElement("p",{style:{fontSize:20}},O.default.shareCopyLink()),m.default.createElement("input",{type:"text",id:"sharing-input",onClick:N,readOnly:"true",value:this.props.shareUrl,style:{cursor:"copy",width:500}}))),m.default.createElement("div",{className:"social-buttons"},m.default.createElement("a",{id:"sharing-phone",href:"",onClick:R(this.showSendToPhone.bind(this),"send-to-phone")},m.default.createElement("i",{className:"fa fa-mobile-phone",style:{fontSize:36}}),m.default.createElement("span",null,O.default.sendToPhone())),g&&!f&&m.default.createElement("button",{type:"button",id:"share-dialog-publish-button",style:i?P.button:P.buttonDisabled,onClick:R(this.publish.bind(this),"publish"),disabled:!i,className:"no-mc"},O.default.publish()),g&&f&&m.default.createElement(_.default,{id:"share-dialog-unpublish-button",isPending:this.props.isUnpublishPending,onClick:this.unpublish,pendingText:O.default.unpublishPending(),style:P.button,text:O.default.unpublish(),className:"no-mc"}),m.default.createElement(C.default,{style:P.button,onError:this.replayVideoNotFound}),h&&i&&m.default.createElement("a",{href:"#",onClick:R(this.print.bind(this),"print")},m.default.createElement("i",{className:"fa fa-print",style:{fontSize:26}}),m.default.createElement("span",null,O.default.print())),this.props.canShareSocial&&!this.props.isUnpublishPending&&m.default.createElement("span",null,this.state.isFacebookAvailable&&m.default.createElement("a",{href:s,target:"_blank",onClick:R(this.props.onClickPopup.bind(this),"facebook")},m.default.createElement("i",{className:"fa fa-facebook"})),this.state.isTwitterAvailable&&m.default.createElement("a",{href:u,target:"_blank",onClick:R(this.props.onClickPopup.bind(this),"twitter")},m.default.createElement("i",{className:"fa fa-twitter"})))),this.state.showSendToPhone&&m.default.createElement("div",null,m.default.createElement("div",{style:P.sendToPhoneContainer},m.default.createElement("div",{style:P.sendToPhoneLeft},m.default.createElement(E.default,{channelId:this.props.channelId,appType:this.props.appType,isLegacyShare:!1})),m.default.createElement("div",{style:P.sendToPhoneRight},m.default.createElement("label",null,O.default.scanQRCode()),m.default.createElement(B.default,{value:this.props.shareUrl+"?qr=true",size:90}))),m.default.createElement("div",{style:{clear:"both"}})),g&&!f&&!i&&m.default.createElement("div",{style:{clear:"both",marginTop:10}},m.default.createElement("span",{style:{fontSize:12},className:"thumbnail-warning"},O.default.thumbnailWarning())),this.state.replayVideoUnavailable&&m.default.createElement("div",{style:{clear:"both",marginTop:10}},m.default.createElement("span",{style:{fontSize:12},className:"thumbnail-warning"},O.default.downloadReplayVideoButtonError())),m.default.createElement("div",{style:{clear:"both",marginTop:40}},n&&m.default.createElement(v.default,{allowExportExpo:this.props.allowExportExpo,shareUrl:this.props.shareUrl,exportApp:this.props.exportApp,expanded:this.state.showAdvancedOptions,onExpand:this.showAdvancedOptions,channelId:this.props.channelId,embedOptions:o}))))),m.default.createElement(A.default,null),m.default.createElement(w.default,{channelId:this.props.channelId}))},e}(m.default.Component);f(x,"propTypes",{allowExportExpo:n.default.bool.isRequired,exportApp:n.default.func,icon:n.default.string,shareUrl:n.default.string.isRequired,selectedSong:n.default.string,thumbnailUrl:n.default.string,isAbusive:n.default.bool.isRequired,isOpen:n.default.bool.isRequired,canPrint:n.default.bool,canPublish:n.default.bool.isRequired,isPublished:n.default.bool.isRequired,isUnpublishPending:n.default.bool.isRequired,channelId:n.default.string.isRequired,appType:n.default.string.isRequired,onClickPopup:n.default.func.isRequired,onClose:n.default.func.isRequired,onShowPublishDialog:n.default.func.isRequired,onUnpublish:n.default.func.isRequired,hideBackdrop:y.default.propTypes.hideBackdrop,canShareSocial:n.default.bool.isRequired,userSharingDisabled:n.default.bool});var D=x;t.UnconnectedShareAllowedDialog=D;var M=(0,r.connect)(function(e){return{allowExportExpo:e.pageConstants.allowExportExpo||!1,exportApp:e.pageConstants.exportApp,isOpen:e.shareDialog.isOpen,isUnpublishPending:e.shareDialog.isUnpublishPending}},function(o){return{onClose:function(){return o((0,s.hideShareDialog)())},onShowPublishDialog:function(e,t){o((0,s.hideShareDialog)()),o((0,l.showPublishDialog)(e,t))},onUnpublish:function(e){o((0,s.unpublishProject)(e))}}})(x);t.default=M},1913:function(e,t,o){"use strict";function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var g=p(o(1)),n=p(o(14)),r=p(o(0)),s=p(o(1087)),i=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var t=d();if(t&&t.has(e))return t.get(e);var o={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(o,r,i):o[r]=e[r]}o.default=e,t&&t.set(e,o);return o}(o(6)),l=o(37),c=o(9),f=p(o(80)),m=p(o(4)),u=o(328);function d(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return d=function(){return e},e}function p(e){return e&&e.__esModule?e:{default:e}}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var _="https://codeorg.zendesk.com/knowledge/articles/360004789872",v={nav:{ul:{borderBottom:"1px solid",borderColor:i.purple,marginTop:0,marginLeft:0,marginRight:0,marginBottom:10},li:{display:"inline-block",color:i.light_gray,fontSize:"larger",fontWeight:"bold",marginRight:10,cursor:"pointer"},selectedLi:{color:i.purple}},ol:{marginLeft:15},p:{fontSize:"inherit",lineHeight:"inherit",color:"inherit"},bold:{fontFamily:"'Gotham 7r', sans-serif"},root:{marginTop:20},expand:{color:i.purple,cursor:"pointer",fontWeight:"bold"},embedInput:{cursor:"copy",width:465,height:80,margin:0},expoButton:{flex:1,fontSize:15,marginLeft:0,marginRight:20},expoButtonLast:{marginRight:0},expoContainer:{display:"flex",flexDirection:"column"},expoExportButtonRow:{justifyContent:"space-evenly",marginBottom:15},expoExportColumn:{flex:1},expoExportQRCodeRow:{marginBottom:20},expoExportRow:{display:"flex",flexGrow:1},expoInput:{cursor:"copy",width:"unset"},qrCode:{marginRight:20}},b="export",E="exportExpo",T="embed",S="library",k=function(t){function e(e){var a;return y(h(a=t.call(this,e)||this),"downloadExport",function(){a.setState({exporting:!0}),a.props.exportApp().then(a.setState.bind(h(a),{exporting:!1}),function(){a.setState({exporting:!1,exportError:"Failed to export project. Please try again later."})})}),y(h(a),"downloadExpoExport",function(){return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return a.setState({exportedExpoZip:!0,exportingExpo:"zip"}),e.prev=1,e.next=4,regeneratorRuntime.awrap(a.props.exportApp({mode:"expoZip"}));case 4:a.setState({exportingExpo:null,exportExpoError:null}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),a.setState({exportingExpo:null,exportExpoError:"Failed to export project. Please try again later."});case 10:case"end":return e.stop()}},null,null,[[1,7]])}),y(h(a),"publishExpoExport",function(){var t,o,n,r,i;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return a.setState({exportingExpo:"publish"}),e.prev=1,e.next=4,regeneratorRuntime.awrap(a.props.exportApp({mode:"expoPublish"}));case 4:t=e.sent,o=t.expoUri,n=t.expoSnackId,r=t.iconUri,i=t.splashImageUri,a.setState({exportingExpo:null,exportExpoError:null,expoUri:o,expoSnackId:n,iconUri:r,splashImageUri:i}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),a.setState({exportingExpo:null,expoUri:null,expoSnackId:null,exportExpoError:"Failed to publish project to Expo. Please try again later."});case 15:case"end":return e.stop()}},null,null,[[1,12]])}),y(h(a),"onInputSelect",function(e){e.target.select()}),y(h(a),"renderLibraryTab",function(){return g.default.createElement("div",null,g.default.createElement("p",{style:v.p},m.default.shareLibraryWithClassmate()),g.default.createElement("button",{type:"button",onClick:a.props.openLibraryCreationDialog,style:{marginLeft:0}},m.default.shareLibrary()))}),y(h(a),"renderAdvancedListItem",function(e,t){return g.default.createElement("li",{style:[v.nav.li,a.state.selectedOption===e&&v.nav.selectedLi],onClick:function(){return a.setState({selectedOption:e})}},t)}),a.state={selectedOption:e.exportApp?e.allowExportExpo?E:b:T,exportedExpoZip:!1,exporting:!1,exportingExpo:null,exportError:null,exportExpoError:null,embedWithoutCode:!1},a}!function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(e,t);var o=e.prototype;return o.renderEmbedTab=function(){var e=this,t="".concat(this.props.shareUrl,"/embed");this.state.embedWithoutCode&&(t=t.replace(this.props.channelId,this.props.channelId.split("").map(function(e){return l.CIPHER[l.ALPHABET.indexOf(e)]||e}).join(""))+"?nosource");var o=this.props.embedOptions,n=o.iframeWidth,r=o.iframeHeight,i='<iframe width="'.concat(n,'" height="').concat(r,'" style="border: 0px;" src="').concat(t,'"></iframe>');return g.default.createElement("div",null,g.default.createElement("p",{style:v.p},m.default.shareEmbedDescription()),g.default.createElement("textarea",{type:"text",onClick:function(e){return e.target.select()},readOnly:"true",value:i,style:v.embedInput}),g.default.createElement("label",{style:{display:"flex"}},g.default.createElement("input",{type:"checkbox",checked:this.state.embedWithoutCode,onChange:function(){return e.setState({embedWithoutCode:!e.state.embedWithoutCode})}}),g.default.createElement("span",{style:{marginLeft:5}},"Hide ability to view code")))},o.renderExportTab=function(){var e=this.state.exporting?g.default.createElement("i",{className:"fa fa-spinner fa-spin"}):null,t=this.state.exportError?g.default.createElement("div",{className:"alert fade in"},this.state.exportError):null;return g.default.createElement("div",null,g.default.createElement("p",{style:v.p},"Export your project as a zipped file, which will contain the HTML/CSS/JS files, as well as any assets, for your project."),g.default.createElement("button",{type:"button",onClick:this.downloadExport,style:{marginLeft:0}},e,"Export"),t)},o.renderExportExpoTab=function(){var e=this.state,t=e.expoUri,o=e.exportedExpoZip,n="zip"===this.state.exportingExpo?g.default.createElement("i",{className:"fa fa-spinner fa-spin"}):null,r="publish"===this.state.exportingExpo?g.default.createElement("i",{className:"fa fa-spinner fa-spin"}):null,i=this.state.exportExpoError?g.default.createElement("div",{className:"alert fade in"},this.state.exportExpoError):null;return g.default.createElement("div",null,g.default.createElement("p",{style:v.p},"Try running your project in the Expo app on iOS or Android. You can also export the app and follow our",g.default.createElement("a",{href:_,style:v.bold}," ","step-by-step guide"," "),"to submit your app to the Google Play Store."),g.default.createElement("div",{style:v.expoContainer},g.default.createElement("div",{style:[v.expoExportRow,v.expoExportButtonRow]},g.default.createElement("button",{type:"button",onClick:this.publishExpoExport,style:v.expoButton},r,"Test in Expo App"),g.default.createElement("button",{type:"button",onClick:this.downloadExpoExport,style:[v.expoButton,v.expoButtonLast]},n,"Export to Create Native Android App")),!!t&&g.default.createElement("div",{style:[v.expoExportRow,v.expoExportQRCodeRow]},g.default.createElement(s.default,{style:v.qrCode,value:t}),g.default.createElement("div",{style:v.expoExportColumn},g.default.createElement("div",{style:v.expoContainer},g.default.createElement("div",null,g.default.createElement("p",{style:[v.p,v.bold]},"Expo App Instructions:"),g.default.createElement("ol",{style:[v.p,v.ol]},g.default.createElement("li",null,"Install the Expo app on your phone."),g.default.createElement("li",null,"Scan the QR code from within the Expo app on Android or from your camera app on iOS (click on the notification that pops up on iOS)."),g.default.createElement("li",null,"If #2 doesn't work, send the URL below to your phone and click the link."))),g.default.createElement("input",{type:"text",onClick:this.onInputSelect,readOnly:"true",value:t,style:v.expoInput})))),!t&&o&&g.default.createElement("div",{style:v.expoExportRow},g.default.createElement("div",{style:v.expoContainer},g.default.createElement("p",{style:v.p},"Once your app finishes downloading,",g.default.createElement("a",{href:_,style:v.bold}," ","follow these instructions"," "),"to create a native Android app and submit it to the Google Play Store."))),g.default.createElement("div",{style:v.expoExportRow},i)))},o.render=function(){var e,t,o,n=this.props,r=n.expanded,i=n.exportApp,a=n.allowExportExpo,s=n.onExpand,l=n.librariesEnabled,c=this.state.selectedOption;if(!c)return null;if(r){var u=null,d=null;i&&(a&&(d=this.renderAdvancedListItem(E,m.default.runNatively())),u=this.renderAdvancedListItem(b,m.default.exportForWeb()));var p=this.renderAdvancedListItem(T,m.default.embed());switch((f.default.isEnabled(f.default.STUDENT_LIBRARIES)||l)&&(o=this.renderAdvancedListItem(S,m.default.shareLibrary())),e=g.default.createElement("div",null,g.default.createElement("ul",{style:v.nav.ul},d,u,p,o)),c){case b:t=this.renderExportTab();break;case E:t=this.renderExportExpoTab();break;case T:t=this.renderEmbedTab();break;case S:t=this.renderLibraryTab()}}var h=r&&c?null:g.default.createElement("a",{onClick:s,style:v.expand},m.default.advancedShare());return g.default.createElement("div",{style:v.root},h,e,t)},e}(g.default.Component);y(k,"propTypes",{shareUrl:r.default.string.isRequired,allowExportExpo:r.default.bool.isRequired,exportApp:r.default.func,librariesEnabled:r.default.bool,openLibraryCreationDialog:r.default.func.isRequired,onExpand:r.default.func.isRequired,expanded:r.default.bool.isRequired,channelId:r.default.string.isRequired,embedOptions:r.default.shape({iframeHeight:r.default.number.isRequired,iframeWidth:r.default.number.isRequired}).isRequired});var C=(0,c.connect)(function(e){return{librariesEnabled:e.pageConstants.librariesEnabled}},function(e){return{openLibraryCreationDialog:function(){e((0,u.showLibraryCreationDialog)()),e((0,u.hideShareDialog)())}}})((0,n.default)(k));t.default=C,e.exports=t.default},1914:function(e,t,o){"use strict";function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.UnconnectedLibraryCreationDialog=t.UnpublishSuccessDisplay=t.LoadingDisplay=t.ErrorDisplay=t.DialogState=void 0;var d=b(o(1)),n=b(o(0)),p=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var t=v();if(t&&t.has(e))return t.get(e);var o={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(o,r,i):o[r]=e[r]}o.default=e,t&&t.set(e,o);return o}(o(329)),r=o(9),i=o(328),h=b(o(4)),g=b(o(1634)),f=o(613),s=b(o(501)),m=b(o(1915)),y=b(o(1916)),l=b(o(1920)),c=b(o(1921)),u=b(o(631)),_=o(46);function v(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return v=function(){return e},e}function b(e){return e&&e.__esModule?e:{default:e}}function E(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function T(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}function S(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var k={libraryBoundary:{padding:10,width:"90%"},centerContent:{display:"flex",justifyContent:"center"},info:{fontSize:12,fontStyle:"italic",lineHeight:1.2}},C={LOADING:"loading",DONE_LOADING:"done_loading",PUBLISHED:"published",UNPUBLISHED:"unpublished",SHARE_TEACHER_LIBRARIES:"share_teacher_libraries",ERROR:"error"};t.DialogState=C;var A=function(r){function e(){for(var n,e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];return S(E(n=r.call.apply(r,[this].concat(t))||this),"state",{dialogState:C.LOADING,libraryName:"",libraryDetails:{},libraryClientApi:new u.default(n.props.channelId),errorMessage:""}),S(E(n),"onOpen",function(){(0,c.default)(n.state.libraryClientApi,function(e){return n.setState({dialogState:C.ERROR,errorMessage:e})},function(e){return n.setState({dialogState:C.DONE_LOADING,libraryDetails:e})})}),S(E(n),"handleClose",function(){n.setState({dialogState:C.LOADING}),n.props.onClose()}),S(E(n),"displayPublisherContent",function(){var e=n.state,t=e.libraryDetails,o=e.libraryClientApi;return d.default.createElement(l.default,{onPublishSuccess:function(e){return n.setState({dialogState:C.PUBLISHED,libraryName:e})},onUnpublishSuccess:function(){return n.setState({dialogState:C.UNPUBLISHED})},onShareTeacherLibrary:n.onShareTeacherLibrary(),libraryDetails:t,libraryClientApi:o})}),S(E(n),"onShareTeacherLibrary",function(){return n.isTeacher()?function(){return n.setState({dialogState:C.SHARE_TEACHER_LIBRARIES})}:void 0}),n}T(e,r);var t=e.prototype;return t.componentDidUpdate=function(e){!1===e.dialogIsOpen&&!0===this.props.dialogIsOpen&&this.onOpen()},t.isTeacher=function(){return"teacher"===(0,_.getStore)().getState().currentUser.userType},t.render=function(){var e,t,o=this.state,n=o.dialogState,r=o.libraryName,i=o.errorMessage,a=this.props,s=a.dialogIsOpen,l=a.channelId,c=a.onClose;switch(n){case C.LOADING:t=d.default.createElement(w,null);break;case C.PUBLISHED:t=d.default.createElement(m.default,{libraryName:r,channelId:l});break;case C.UNPUBLISHED:t=d.default.createElement(B,null);break;case C.ERROR:t=d.default.createElement(O,{message:i});break;case C.DONE_LOADING:e=h.default.libraryExportSubtitle(),t=this.displayPublisherContent();break;case C.SHARE_TEACHER_LIBRARIES:t=d.default.createElement(y.default,{onCancel:c});break;default:t=d.default.createElement(O,{message:h.default.libraryCreatorError()})}var u=n===C.SHARE_TEACHER_LIBRARIES?h.default.manageYourLibraries():h.default.libraryExportTitle();return d.default.createElement(p.default,{isOpen:s,handleClose:this.handleClose,useUpdatedStyles:!0,style:{width:800}},d.default.createElement(p.Body,null,d.default.createElement(g.default,null,d.default.createElement("div",{style:k.libraryBoundary},d.default.createElement(f.Heading1,null,u),e&&d.default.createElement("div",{style:k.info},e),t))))},e}(d.default.Component);S(A,"propTypes",{channelId:n.default.string.isRequired,dialogIsOpen:n.default.bool.isRequired,onClose:n.default.func.isRequired});var O=function(e){function t(){return e.apply(this,arguments)||this}return T(t,e),t.prototype.render=function(){var e=this.props.message;return d.default.createElement("div",null,e)},t}(d.default.Component);S(t.ErrorDisplay=O,"propTypes",{message:n.default.string.isRequired});var w=function(e){function t(){return e.apply(this,arguments)||this}return T(t,e),t.prototype.render=function(){return d.default.createElement("div",{style:k.centerContent},d.default.createElement(s.default,null))},t}(d.default.Component);t.LoadingDisplay=w;var B=function(e){function t(){return e.apply(this,arguments)||this}return T(t,e),t.prototype.render=function(){return d.default.createElement("div",null,d.default.createElement(f.Heading2,null,d.default.createElement("b",null,h.default.libraryUnPublishTitle())),d.default.createElement("p",null,h.default.libraryUnPublishExplanation()))},t}(d.default.Component);t.UnpublishSuccessDisplay=B;var I=A;t.UnconnectedLibraryCreationDialog=I;var R=(0,r.connect)(function(e){return{dialogIsOpen:e.shareDialog.libraryDialogIsOpen}},function(e){return{onClose:function(){e((0,i.hideLibraryCreationDialog)())}}})(A);t.default=R},1915:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(o(1)),n=r(o(0)),a=r(o(4)),s=r(o(23)),l=o(613),c=r(o(1275));function r(e){return e&&e.__esModule?e:{default:e}}function u(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var d={centerContent:{display:"flex",justifyContent:"center"}},p=function(n){function e(){for(var r,e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];return u(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(r=n.call.apply(n,[this].concat(t))||this),"render",function(){var e=r.props,t=e.libraryName,o=e.channelId,n=e.onShareTeacherLibrary;return i.default.createElement("div",null,i.default.createElement(l.Heading2,null,i.default.createElement("b",null,a.default.libraryPublishTitle()),t),i.default.createElement("div",null,i.default.createElement("p",null,a.default.libraryPublishExplanation()),i.default.createElement("div",{style:d.centerContent},i.default.createElement(c.default,{channelId:o}),n&&i.default.createElement(s.default,{color:s.default.ButtonColor.gray,onClick:n,text:a.default.manageLibraries()}))))}),r}return function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(e,n),e}(i.default.Component);u(t.default=p,"propTypes",{libraryName:n.default.string.isRequired,channelId:n.default.string.isRequired,onShareTeacherLibrary:n.default.func}),e.exports=t.default},1916:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.ShareTeacherLibraries=void 0;var d=l(o(1)),n=l(o(0)),r=o(9),p=l(o(1850)),h=l(o(1275)),g=l(o(501)),f=l(o(23)),i=l(o(6)),m=l(o(4)),a=o(56),s=o(630);function l(e){return e&&e.__esModule?e:{default:e}}function c(e){return function(e){if(Array.isArray(e)){for(var t=0,o=new Array(e.length);t<e.length;t++)o[t]=e[t];return o}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var _={container:{fontSize:13,lineHeight:"18px",color:i.default.dark_charcoal},footer:{display:"flex",flexFlow:"row",justifyContent:"space-between",margin:2,paddingTop:10},libraryCopierLabel:{color:i.default.purple,marginBottom:10,fontStyle:"italic"}},v=function(n){function e(){for(var s,e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];return y(u(s=n.call.apply(n,[this].concat(t))||this),"state",{selectedSections:[],selectedLibraryId:null,sharedSections:[]}),y(u(s),"assignLibrary",function(){var e=s.state,t=e.selectedSections,o=e.selectedLibraryId;(0,s.props.updateProjectLibrary)(o,{sharedWith:t.map(function(e){return e.id})}),s.setState({sharedSections:c(t)})}),y(u(s),"onChooseOption",function(e){var t=s.props,o=t.personalProjectsList,n=t.sections,r=e.target.value,i=o.find(function(e){return e.channel===r}),a=i&&i.sharedWith?n.filter(function(e){return i.sharedWith.includes(e.id)}):[];s.setState({selectedLibraryId:r,sharedSections:a,selectedSections:c(a)})}),y(u(s),"displaySharedSections",function(){var e=s.state.sharedSections;return 0===e.length?d.default.createElement("p",null,m.default.libraryNotShared()):d.default.createElement("div",null,d.default.createElement("p",null,m.default.librarySharedSections()),d.default.createElement("ul",null,e.map(function(e){return d.default.createElement("li",{key:e.id},e.name)})))}),y(u(s),"onSelectAll",function(e){var t=s.props.sections;e?s.setState({selectedSections:t}):s.setState({selectedSections:[]})}),y(u(s),"onSectionSelected",function(t){var o=s.props.sections;s.setState(function(e){return e.selectedSections.find(function(e){return e.id===t})?e.selectedSections=e.selectedSections.filter(function(e){return e.id!==t}):e.selectedSections.push(o.find(function(e){return e.id===t})),e})}),s}!function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(e,n);var t=e.prototype;return t.componentDidMount=function(){var e=this.props,t=e.setPersonalProjects,o=e.asyncLoadSectionData;t(),o()},t.render=function(){var t=this,e=this.props,o=e.sections,n=e.personalProjectsList,r=e.onCancel,i=e.loadingFinished,a=this.state,s=a.selectedSections,l=a.selectedLibraryId,c=n.filter(function(e){return e.libraryName}).map(function(e){return{name:e.name,id:e.channel}}),u=o.map(function(t){return function(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{},n=Object.keys(Object(o));"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(o).filter(function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable}))),n.forEach(function(e){y(t,e,o[e])})}return t}({},t,{isChecked:!!s.find(function(e){return e.id===t.id})})});return d.default.createElement("div",{style:_.container},i?d.default.createElement("div",null,d.default.createElement("p",null,m.default.shareTeacherLibraryDescription()),d.default.createElement(p.default,{rowData:u,onRowChecked:function(e){return t.onSectionSelected(e)},options:c,onChooseOption:this.onChooseOption,onSelectAll:function(e){return t.onSelectAll(e)},optionsDescriptionText:m.default.libraryName()+":",tableDescriptionText:m.default.selectAssignedLibrarySections()},l?d.default.createElement("div",null,d.default.createElement(h.default,{channelId:l}),d.default.createElement("p",{style:_.libraryCopierLabel},m.default.shareLibraryAccess()),d.default.createElement("div",null,this.displaySharedSections())):d.default.createElement("p",null,m.default.selectLibraryForOptions())),d.default.createElement("div",{style:_.footer},d.default.createElement(f.default,{__useDeprecatedTag:!0,onClick:r,color:f.default.ButtonColor.gray,text:m.default.closeDialog()}),d.default.createElement(f.default,{__useDeprecatedTag:!0,disabled:!l,onClick:this.assignLibrary,text:m.default.shareLibraryButton()}))):d.default.createElement(g.default,null))},e}(d.default.Component);y(t.ShareTeacherLibraries=v,"propTypes",{onCancel:n.default.func.isRequired,sections:n.default.arrayOf(n.default.shape({name:n.default.string.isRequired,id:n.default.number.isRequired})).isRequired,personalProjectsList:n.default.array.isRequired,asyncLoadSectionData:n.default.func.isRequired,setPersonalProjects:n.default.func.isRequired,updateProjectLibrary:n.default.func.isRequired,loadingFinished:n.default.bool.isRequired});var b=(0,r.connect)(function(e){return{personalProjectsList:e.projects.personalProjectsList.projects||[],sections:(0,a.sectionsNameAndId)(e.teacherSections),loadingFinished:e.teacherSections.asyncLoadComplete}},{asyncLoadSectionData:a.asyncLoadSectionData,setPersonalProjects:s.setPersonalProjects,updateProjectLibrary:s.updateProjectLibrary})(v);t.default=b},1920:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.PublishState=void 0;var c=s(o(1)),n=s(o(0)),h=s(o(750)),u=s(o(4)),r=s(o(6)),i=o(613),a=s(o(23));function s(e){return e&&e.__esModule?e:{default:e}}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var g={alert:{color:r.default.red,width:"90%",paddingTop:8},largerCheckbox:{width:20,height:20,marginLeft:0,marginRight:10,marginTop:10,marginBottom:10},info:{fontSize:12,fontStyle:"italic",lineHeight:1.2},textInput:{fontSize:14,padding:6,color:r.default.dimgray},description:{width:"98%",resize:"vertical"},unpublishButton:{right:0,marginTop:20,position:"absolute"}},f={DEFAULT:"default",ERROR_PUBLISH:"error_publish",INVALID_INPUT:"invalid_input",ERROR_UNPUBLISH:"error_unpublish"};t.PublishState=f;var p=function(n){function e(){for(var p,e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];return d(l(p=n.call.apply(n,[this].concat(t))||this),"state",{publishState:f.DEFAULT,libraryName:h.default.suggestName(p.props.libraryDetails.libraryName),libraryDescription:p.props.libraryDetails.libraryDescription,selectedFunctions:p.props.libraryDetails.selectedFunctions}),d(l(p),"setLibraryName",function(e){var t=p.state.libraryName,o=h.default.sanitizeName(e.target.value);o!==t&&p.setState({libraryName:o})}),d(l(p),"publish",function(){var e=p.state,t=e.libraryDescription,o=e.libraryName,n=e.selectedFunctions,r=p.props.libraryDetails,i=r.librarySource,a=r.sourceFunctionList,s=p.props,l=s.libraryClientApi,c=s.onPublishSuccess,u=a.filter(function(e){return n[e.functionName]});if(t&&0<u.length){var d=h.default.createLibraryJson(i,u,o,t);l.publish(d,function(e){console.warn("Error publishing library: ".concat(e)),p.setState({publishState:f.ERROR_PUBLISH})},function(e){dashboard.project.setLibraryDetails({libraryName:o,libraryDescription:t,publishing:!0,latestLibraryVersion:e&&e.versionId}),c(o)})}else p.setState({publishState:f.INVALID_INPUT})}),d(l(p),"displayNameInput",function(){var e=p.state.libraryName;return c.default.createElement("div",null,c.default.createElement("input",{style:g.textInput,type:"text",value:e,onChange:p.setLibraryName,onBlur:function(e){return p.setState({libraryName:h.default.suggestName(e.target.value)})}}),c.default.createElement("div",{style:g.info},u.default.libraryNameRequirements()))}),d(l(p),"resetErrorMessage",function(){var e=p.state,t=e.libraryDescription,o=e.selectedFunctions,n=e.publishState;t&&Object.values(o).find(function(e){return e})&&n===f.INVALID_INPUT&&p.setState({publishState:f.DEFAULT})}),d(l(p),"displayDescription",function(){var e=p.state.libraryDescription;return c.default.createElement("textarea",{rows:"2",cols:"200",style:function(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{},n=Object.keys(Object(o));"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(o).filter(function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable}))),n.forEach(function(e){d(t,e,o[e])})}return t}({},g.textInput,g.description),placeholder:u.default.libraryDescriptionPlaceholder(),value:e,onChange:function(e){p.setState({libraryDescription:e.target.value},p.resetErrorMessage)}})}),d(l(p),"boxChecked",function(t){p.setState(function(e){return e.selectedFunctions[t]=!e.selectedFunctions[t],e},p.resetErrorMessage)}),d(l(p),"displayFunctions",function(){var s=p.state.selectedFunctions,l=p.props.libraryDetails.sourceFunctionList;return l.map(function(e){var t=e.functionName,o=e.comment,n=0===o.length,r=1<l.filter(function(e){return e.functionName===t}).length,i=n||r,a=s[t]||!1;return i&&a&&(a=!1,p.setState(function(e){return e.selectedFunctions[t]=!1,e})),c.default.createElement("div",{key:t},c.default.createElement("input",{style:g.largerCheckbox,type:"checkbox",disabled:i,name:t,checked:a,onChange:function(){return p.boxChecked(t)}}),c.default.createElement("span",null,t),c.default.createElement("br",null),n&&c.default.createElement("p",{style:g.alert},u.default.libraryExportNoCommentError()),r&&c.default.createElement("p",{style:g.alert},u.default.libraryExportDuplicationFunctionError()),c.default.createElement("pre",{style:g.textInput},o))})}),d(l(p),"displayError",function(){var e;switch(p.state.publishState){case f.INVALID_INPUT:e=u.default.libraryPublishInvalid();break;case f.ERROR_PUBLISH:e=u.default.libraryPublishFail();break;case f.ERROR_UNPUBLISH:e=u.default.libraryUnPublishFail();break;default:return}return c.default.createElement("div",null,c.default.createElement("p",{style:g.alert},e))}),d(l(p),"unpublish",function(){var e=p.props,t=e.libraryClientApi,o=e.onUnpublishSuccess;t.delete(function(){dashboard.project.setLibraryDetails({libraryName:void 0,libraryDescription:void 0,publishing:!1,latestLibraryVersion:-1}),o()},function(e){console.warn("Error unpublishing library: ".concat(e)),p.setState({publishState:f.ERROR_UNPUBLISH})})}),p}return function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(e,n),e.prototype.render=function(){var e=this.props.libraryDetails.alreadyPublished,t=this.props.onShareTeacherLibrary;return c.default.createElement("div",null,c.default.createElement(i.Heading2,null,u.default.libraryName()),this.displayNameInput(),c.default.createElement(i.Heading2,null,u.default.description()),this.displayDescription(),c.default.createElement(i.Heading2,null,u.default.catProcedures()),this.displayFunctions(),c.default.createElement("div",{style:g.info},u.default.libraryFunctionRequirements()),c.default.createElement("div",{style:{position:"relative"}},c.default.createElement(a.default,{__useDeprecatedTag:!0,style:{marginTop:20},onClick:this.publish,text:e?u.default.update():u.default.publish()}),t&&c.default.createElement(a.default,{__useDeprecatedTag:!0,style:{marginTop:20,marginLeft:10},onClick:t,text:u.default.manageLibraries(),color:a.default.ButtonColor.gray}),e&&c.default.createElement(a.default,{__useDeprecatedTag:!0,style:g.unpublishButton,onClick:this.unpublish,text:u.default.unpublish(),color:a.default.ButtonColor.red})),this.displayError())},e}(c.default.Component);d(t.default=p,"propTypes",{onPublishSuccess:n.default.func.isRequired,onUnpublishSuccess:n.default.func.isRequired,libraryDetails:n.default.object.isRequired,libraryClientApi:n.default.object.isRequired,onShareTeacherLibrary:n.default.func})},1921:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(t,i,a){var s,l,c,o,n;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(r.default.getJSLintAnnotations().find(function(e){return"error"===e.type}))return i(d.default.libraryCodeError()),e.abrupt("return");e.next=4;break;case 4:return s=dashboard.project.getLevelName(),o=new Promise(function(t,e){dashboard.project.getUpdatedSourceAndHtml_(function(e){l=e,t()})}),n=new Promise(function(o,n){t.fetchLatest(function(e){c=JSON.parse(e),o()},function(e,t){404===t?o():n()})}),e.next=9,regeneratorRuntime.awrap(Promise.all([o,n]).then(function(){var e=u.default.getFunctions(l.source);if(e&&0!==e.length){var t=l.source;l.libraries&&l.libraries.forEach(function(e){t=u.default.createLibraryClosure(e)+t});var o="",n={},r=!1;c&&(r=!0,o=c.description,s=c.name,c.functions.forEach(function(t){e.find(function(e){return e.functionName===t})&&(n[t]=!0)})),a({libraryName:s,libraryDescription:o,librarySource:t,sourceFunctionList:e,selectedFunctions:n,alreadyPublished:r})}else i(d.default.libraryNoFunctionsError())}).catch(function(){return i(d.default.libraryLoadError())}));case 9:case"end":return e.stop()}})};var u=n(o(750)),r=n(o(714)),d=n(o(4));function n(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},1922:function(e,t,o){"use strict";function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.UnconnectedShareDisallowedDialog=void 0;var n=h(o(0)),r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var t=p();if(t&&t.has(e))return t.get(e);var o={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(o,r,i):o[r]=e[r]}o.default=e,t&&t.set(e,o);return o}(o(1)),i=o(9),s=h(o(66)),l=h(o(6)),c=h(o(23)),u=h(o(4)),d=o(328);function p(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return p=function(){return e},e}function h(e){return e&&e.__esModule?e:{default:e}}var g,f,m,y={container:{margin:20,color:l.default.charcoal},heading:{fontSize:16,fontFamily:"'Gotham 5r', sans-serif"},middle:{marginTop:20,marginBottom:20,paddingBottom:20,paddingTop:20,borderTopWidth:1,borderBottomWidth:1,borderRightWidth:0,borderLeftWidth:0,borderStyle:"solid",borderColor:l.default.lighter_gray,display:"flex"},bottom:{display:"flex",justifyContent:"space-between"}},_=function(e){function t(){return e.apply(this,arguments)||this}return function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(t,e),t.prototype.render=function(){return r.default.createElement(s.default,{useUpdatedStyles:!0,isOpen:this.props.isOpen,handleClose:this.props.hideShareDialog},r.default.createElement("div",{style:y.container},r.default.createElement("div",{style:y.heading},u.default.createAccountToShare()),r.default.createElement("div",{style:y.middle},u.default.createAccountToShareDescription()),r.default.createElement("div",{style:y.bottom},r.default.createElement(c.default,{__useDeprecatedTag:!0,onClick:this.props.hideShareDialog,text:u.default.cancel(),color:c.default.ButtonColor.gray}),r.default.createElement(c.default,{__useDeprecatedTag:!0,href:"/users/sign_up?user_return_to=".concat(location.pathname),text:u.default.createAccount(),color:c.default.ButtonColor.orange}))))},t}(r.Component);g=_,f="propTypes",m={isOpen:n.default.bool.isRequired,hideShareDialog:n.default.func.isRequired},f in g?Object.defineProperty(g,f,{value:m,enumerable:!0,configurable:!0,writable:!0}):g[f]=m;var v=_;t.UnconnectedShareDisallowedDialog=v;var b=(0,i.connect)(function(e){return{isOpen:e.shareDialog.isOpen}},{hideShareDialog:d.hideShareDialog})(_);t.default=b},1923:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.UnwrappedInstructionsDialogWrapper=void 0;var n=a(o(0)),r=a(o(1)),i=o(9);function a(e){return e&&e.__esModule?e:{default:e}}var s,l,c,u=function(e){function t(){return e.apply(this,arguments)||this}!function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(t,e);var o=t.prototype;return o.componentWillReceiveProps=function(e){!this.props.isOpen&&e.isOpen&&this.props.showInstructionsDialog(e.autoClose)},o.render=function(){return null},t}(r.default.Component);t.UnwrappedInstructionsDialogWrapper=u,s=u,l="propTypes",c={isOpen:n.default.bool.isRequired,autoClose:n.default.bool,showInstructionsDialog:n.default.func.isRequired},l in s?Object.defineProperty(s,l,{value:c,enumerable:!0,configurable:!0,writable:!0}):s[l]=c;var d=(0,i.connect)(function(e){return{isOpen:e.instructionsDialog.open,autoClose:e.instructionsDialog.autoClose}})(u);t.default=d},1924:function(e,t,o){"use strict";function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(o(0)),i=r(o(1)),s=r(o(1925)),l=o(126),c=r(o(116)),u=r(o(62)),d=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var t=p();if(t&&t.has(e))return t.get(e);var o={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(o,r,i):o[r]=e[r]}o.default=e,t&&t.set(e,o);return o}(o(11));function p(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return p=function(){return e},e}function r(e){return e&&e.__esModule?e:{default:e}}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var f=function(r){function e(){for(var t,e=arguments.length,o=new Array(e),n=0;n<e;n++)o[n]=arguments[n];return g(h(t=r.call.apply(r,[this].concat(o))||this),"state",{versions:null,statusMessage:"",showSpinner:!0,confirmingClearPuzzle:!1}),g(h(t),"onVersionListReceived",function(e){t.setState({versions:JSON.parse(e.responseText),showSpinner:!1})}),g(h(t),"onAjaxFailure",function(){t.setState({statusMessage:"An error occurred."})}),g(h(t),"onRestoreSuccess",function(){d.reload()}),g(h(t),"onChooseVersion",function(e){t.props.useFilesApi?l.files.restorePreviousVersion(e,t.onRestoreSuccess,t.onAjaxFailure):l.sources.restorePreviousFileVersion("main.json",e,t.onRestoreSuccess,t.onAjaxFailure),t.setState({showSpinner:!0})}),g(h(t),"onConfirmClearPuzzle",function(){t.setState({confirmingClearPuzzle:!0})}),g(h(t),"onCancelClearPuzzle",function(){t.setState({confirmingClearPuzzle:!1})}),g(h(t),"onClearPuzzle",function(){t.setState({showSpinner:!0}),u.default.putRecord({study:"project-data-integrity",study_group:"v4",event:"clear-puzzle",project_id:c.default.getCurrentId(),data_json:JSON.stringify({isOwner:c.default.isOwner(),currentUrl:window.location.href,shareUrl:c.default.getShareUrl(),currentSourceVersionId:c.default.getCurrentSourceVersionId()})},{includeUserId:!0}),t.props.handleClearPuzzle().then(function(){return c.default.save(!0)}).then(function(){return d.reload()})}),t}!function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(e,r);var t=e.prototype;return t.componentWillMount=function(){this.props.useFilesApi?l.files.getVersionHistory(this.onVersionListReceived,this.onAjaxFailure):l.sources.ajax("GET","main.json/versions",this.onVersionListReceived,this.onAjaxFailure)},t.render=function(){var e;if(this.state.showSpinner)e=i.default.createElement("div",{style:{margin:"1em 0",textAlign:"center"}},i.default.createElement("i",{className:"fa fa-spinner fa-spin",style:{fontSize:"32px"}}));else if(this.state.confirmingClearPuzzle)e=i.default.createElement("div",null,i.default.createElement("p",null,"Are you sure you want to clear all progress for this level?"),i.default.createElement("button",{type:"button",id:"confirm-button",style:{float:"right"},onClick:this.onClearPuzzle},"Start Over"),i.default.createElement("button",{type:"button",id:"again-button",onClick:this.onCancelClearPuzzle},"Cancel"));else{var t=this.state.versions.map(function(e){return i.default.createElement(s.default,{key:e.versionId,versionId:e.versionId,lastModified:new Date(e.lastModified),isLatest:e.isLatest,onChoose:this.onChooseVersion.bind(this,e.versionId)})}.bind(this));e=i.default.createElement("div",null,i.default.createElement("div",{style:{maxHeight:"330px",overflowX:"scroll",margin:"1em 0"}},i.default.createElement("table",{style:{width:"100%"}},i.default.createElement("tbody",null,t,i.default.createElement("tr",null,i.default.createElement("td",null,i.default.createElement("p",{style:{margin:0}},"Initial version")),i.default.createElement("td",{width:"250",style:{textAlign:"right"}},i.default.createElement("button",{type:"button",className:"btn-danger",onClick:this.onConfirmClearPuzzle,style:{float:"right"}},"Start over")))))))}return i.default.createElement("div",{className:"modal-content",style:{margin:0}},i.default.createElement("p",{className:"dialog-title"},"Version History"),e,this.state.statusMessage)},e}(i.default.Component);g(t.default=f,"propTypes",{handleClearPuzzle:n.default.func.isRequired,useFilesApi:n.default.bool.isRequired}),e.exports=t.default},1925:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(o(0)),r=s(o(1)),i=s(o(4)),a=o(1578);function s(e){return e&&e.__esModule?e:{default:e}}var l,c,u,d=function(e){function t(){return e.apply(this,arguments)||this}!function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(t,e);var o=t.prototype;return o.getLastModifiedTimestamp=function(){var e=this.props.lastModified;return e.toLocaleString?e.toLocaleString():e.toString()},o.render=function(){var e;return e=this.props.isLatest?r.default.createElement("button",{type:"button",className:"btn-default",disabled:"disabled",style:{cursor:"default"}},i.default.currentVersion()):[r.default.createElement("a",{key:0,href:location.origin+location.pathname+"?version="+this.props.versionId,target:"_blank"},r.default.createElement("button",{type:"button",className:"version-preview"},r.default.createElement("i",{className:"fa fa-eye"}))),r.default.createElement("button",{type:"button",key:1,className:"btn-info",onClick:this.props.onChoose},i.default.restoreThisVersion())],r.default.createElement("tr",{className:"versionRow"},r.default.createElement("td",null,r.default.createElement("p",null,"Saved ",r.default.createElement(a.UnlocalizedTimeAgo,{dateString:this.props.lastModified})),this.getLastModifiedTimestamp()),r.default.createElement("td",{width:"275",style:{textAlign:"right"}},e))},t}(r.default.Component);t.default=d,l=d,c="propTypes",u={versionId:n.default.string.isRequired,lastModified:n.default.instanceOf(Date).isRequired,isLatest:n.default.bool,onChoose:n.default.func},c in l?Object.defineProperty(l,c,{value:u,enumerable:!0,configurable:!0,writable:!0}):l[c]=u,e.exports=t.default},1926:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=c(o(15)),r=c(o(0)),s=c(o(1)),i=c(o(4)),a=c(o(1204)),l=c(o(116));function c(e){return e&&e.__esModule?e:{default:e}}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var p=["applab","gamelab","makerlab"],h={applab:"https://code.org/educate/applab",applab_legacy:"https://code.org/educate/applab",artist:"/p/artist",artist_legacy:"/s/artist",gamelab:"https://code.org/educate/gamelab",gamelab_legacy:"https://code.org/educate/gamelab",playlab:"/p/playlab",playlab_legacy:"/s/playlab"},g=function(r){function e(){for(var e,t=arguments.length,o=new Array(t),n=0;n<t;n++)o[n]=arguments[n];return d(u(e=r.call.apply(r,[this].concat(o))||this),"state",{clickedSendToPhone:!1}),d(u(e),"handleClickSendToPhone",function(){return e.setState({clickedSendToPhone:!e.state.clickedSendToPhone}),!1}),e}return function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(e,r),e.prototype.render=function(){var e=this.props,t=e.appType,o=e.channelId,n=e.isLegacyShare,r=this.state.clickedSendToPhone,i=p.includes(t),a=h[t+(n?"_legacy":"")];return s.default.createElement("div",{style:v.main},i&&s.default.createElement(f,null),a&&s.default.createElement(m,{url:a}),s.default.createElement(y,{active:r,onClick:this.handleClickSendToPhone}),s.default.createElement("br",null),r&&s.default.createElement(_,{appType:t,channelId:o,isLegacyShare:n}))},e}(s.default.Component);d(t.default=g,"propTypes",{channelId:r.default.string,appType:r.default.string.isRequired,isLegacyShare:r.default.bool.isRequired});var f=function(){return s.default.createElement("span",{style:{display:"inline-block"}},s.default.createElement("a",{className:"WireframeButtons_button",href:l.default.getProjectUrl("/view")},s.default.createElement("i",{className:"fa fa-code"})," ",i.default.viewCode()))},m=function(e){var t=e.url;return s.default.createElement("span",{style:{display:"inline-block"}},s.default.createElement("a",{className:"WireframeButtons_button",href:t},s.default.createElement("i",{className:"fa fa-pencil-square-o"})," ",i.default.makeMyOwn()))};m.propTypes={url:r.default.string.isRequired};var y=function(e){var t=e.active,o=e.onClick;return s.default.createElement("span",{style:{display:"inline-block"}},s.default.createElement("a",{className:t?"WireframeButtons_active":"WireframeButtons_button",onClick:o},s.default.createElement("i",{className:"fa fa-mobile"})," ",i.default.sendToPhone()))};y.propTypes={active:r.default.bool,onClick:r.default.func.isRequired};var _=function(e){var t=e.appType,o=e.channelId,n=e.isLegacyShare;return s.default.createElement("div",{className:"WireframeButtons_active"},s.default.createElement(a.default,{styles:v.sendToPhone,channelId:o,appType:t,isLegacyShare:n}))};_.propTypes=n.default.pick(g.propTypes,["appType","channelId","isLegacyShare"]);var v={main:{font:'12pt "Gotham 5r", sans-serif'},sendToPhone:{label:{font:'12pt "Gotham 5r", sans-serif',lineHeight:"normal",cursor:"default"},div:{margin:0,lineHeight:"normal"}}};e.exports=t.default},1927:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(t){return a.map(function(e){return e(t)}).filter(function(e){return e.isAchieved}).sort(function(e,t){return e.isAchieved&&!t.isAchieved?-1:!e.isAchieved&&t.isAchieved?1:0})},t.puzzleComplete=s,t.usingHints=l;var n=i(o(4)),r=i(o(1241));function i(e){return e&&e.__esModule?e:{default:e}}var a=[s,l];function s(e){return{isAchieved:!0,message:n.default.puzzleCompleted(),successIconUrl:""}}function l(e){var t,o=r.default.currentOpenedHintCount(e.pageConstants.serverLevelId);return{isAchieved:0===o?(t=n.default.withoutHints(),!0):1===o?(t=n.default.usingOneHint(),!0):(t=n.default.usingHints(),!1),message:t,successIconUrl:"",failureIconUrl:""}}},1928:function(module,exports,__webpack_require__){module.exports=function anonymous(locals,escapeFn,include,rethrow){rethrow=rethrow||function(e,t,o,n,r){var i=t.split("\n"),a=Math.max(n-3,0),s=Math.min(i.length,n+3),l=r(o),c=i.slice(a,s).map(function(e,t){var o=t+a+1;return(o==n?" >> ":"    ")+o+"| "+e}).join("\n");throw e.path=l,e.message=(l||"ejs")+":"+n+"\n"+c+"\n\n"+e.message,e},escapeFn=escapeFn||function(e){return null==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __line=1,__lines="<% var msg = require('@cdo/locale') %>\n\n<div id=\"make-your-own\">\n\n  <h1><a href=<%= data.makeUrl %>><%= data.makeString %></a></h1>\n  <a href=<%= data.makeUrl %>><img src=<%= data.makeImage %>></a>\n\n</div>\n",__filename="src/templates/makeYourOwn.html.ejs";try{var __output=[],__append=__output.push.bind(__output);with(locals||{}){var msg=__webpack_require__(4);__append('\n\n<div id="make-your-own">\n\n  <h1><a href='),__line=5,__append(escapeFn(data.makeUrl)),__append(">"),__append(escapeFn(data.makeString)),__append("</a></h1>\n  <a href="),__line=6,__append(escapeFn(data.makeUrl)),__append("><img src="),__append(escapeFn(data.makeImage)),__append("></a>\n\n</div>\n"),__line=9}return __output.join("")}catch(e){rethrow(e,__lines,__filename,__line,escapeFn)}}},1929:function(module,exports,__webpack_require__){module.exports=function anonymous(locals,escapeFn,include,rethrow){rethrow=rethrow||function(e,t,o,n,r){var i=t.split("\n"),a=Math.max(n-3,0),s=Math.min(i.length,n+3),l=r(o),c=i.slice(a,s).map(function(e,t){var o=t+a+1;return(o==n?" >> ":"    ")+o+"| "+e}).join("\n");throw e.path=l,e.message=(l||"ejs")+":"+n+"\n"+c+"\n\n"+e.message,e},escapeFn=escapeFn||function(e){return null==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __line=1,__lines="<% var msg = require('@cdo/locale') %>\n\n<% var root = location.protocol + '//' + location.host.replace('learn\\.', '').replace('studio\\.', ''); %>\n\n<div id=\"learn\">\n\n  <h1><a href=\"<%= root %>\"><%= msg.wantToLearn() %></a></h1>\n  <a href=\"<%= root %>\"><img id=\"learn-to-code\" src=\"<%= assetUrl('media/promo.png') %>\"></a>\n  <a href=\"<%= root %>\"><%= msg.watchVideo() %></a>\n  <a href=\"<%= root %>\"><%= msg.tryHOC() %></a>\n  <a href=\"<%= location.protocol + '//' + location.host %>\"><%= msg.signup() %></a>\n\n</div>\n",__filename="src/templates/learn.html.ejs";try{var __output=[],__append=__output.push.bind(__output);with(locals||{}){var msg=__webpack_require__(4);__append("\n\n"),__line=3;var root=location.protocol+"//"+location.host.replace("learn.","").replace("studio.","");__append('\n\n<div id="learn">\n\n  <h1><a href="'),__line=7,__append(escapeFn(root)),__append('">'),__append(escapeFn(msg.wantToLearn())),__append('</a></h1>\n  <a href="'),__line=8,__append(escapeFn(root)),__append('"><img id="learn-to-code" src="'),__append(escapeFn(assetUrl("media/promo.png"))),__append('"></a>\n  <a href="'),__line=9,__append(escapeFn(root)),__append('">'),__append(escapeFn(msg.watchVideo())),__append('</a>\n  <a href="'),__line=10,__append(escapeFn(root)),__append('">'),__append(escapeFn(msg.tryHOC())),__append('</a>\n  <a href="'),__line=11,__append(escapeFn(location.protocol+"//"+location.host)),__append('">'),__append(escapeFn(msg.signup())),__append("</a>\n\n</div>\n"),__line=14}return __output.join("")}catch(e){rethrow(e,__lines,__filename,__line,escapeFn)}}},1930:function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){rethrow=rethrow||function(e,t,o,n,r){var i=t.split("\n"),a=Math.max(n-3,0),s=Math.min(i.length,n+3),l=r(o),c=i.slice(a,s).map(function(e,t){var o=t+a+1;return(o==n?" >> ":"    ")+o+"| "+e}).join("\n");throw e.path=l,e.message=(l||"ejs")+":"+n+"\n"+c+"\n\n"+e.message,e},escapeFn=escapeFn||function(e){return null==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __line=1,__lines='<div><span>Instructions: </span><textarea type="text" name="instructions"></textarea></div>\n<div><span>Level Name: </span><textarea type="text" name="level_name"></textarea></div>\n<button id="create-level-button" class="launch">\n  Create Level\n</button>\n<div id="builder-error"></div>\n',__filename="src/templates/builder.html.ejs";try{var __output=[],__append=__output.push.bind(__output);with(locals||{})__append('<div><span>Instructions: </span><textarea type="text" name="instructions"></textarea></div>\n<div><span>Level Name: </span><textarea type="text" name="level_name"></textarea></div>\n<button id="create-level-button" class="launch">\n  Create Level\n</button>\n<div id="builder-error"></div>\n'),__line=7;return __output.join("")}catch(e){rethrow(e,__lines,__filename,__line,escapeFn)}}},196:function(e,t){e.exports={"workspace-headers-height":30,"resize-bar-width":13,"delete-opacity":"0.5","content-width":970}},198:function(e,t,o){"use strict";o.r(t);var n=o(297),r="object"==typeof self&&self&&self.Object===Object&&self,i=(n.a||r||Function("return this")()).Symbol,a=Object.prototype,s=a.hasOwnProperty,l=a.toString,c=i?i.toStringTag:void 0;var u=function(e){var t=s.call(e,c),o=e[c];try{var n=!(e[c]=void 0)}catch(e){}var r=l.call(e);return n&&(t?e[c]=o:delete e[c]),r},d=Object.prototype.toString;var p=function(e){return d.call(e)},h=i?i.toStringTag:void 0;var g=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":(e=Object(e),h&&h in e?u(e):p(e))};var f=function(t,o){return function(e){return t(o(e))}}(Object.getPrototypeOf,Object);var m=function(e){return null!=e&&"object"==typeof e},y=Function.prototype,_=Object.prototype,v=y.toString,b=_.hasOwnProperty,E=v.call(Object);var T=function(e){if(!m(e)||"[object Object]"!=g(e))return!1;var t=f(e);if(null===t)return!0;var o=b.call(t,"constructor")&&t.constructor;return"function"==typeof o&&o instanceof o&&v.call(o)==E},S=o(191),k=o.n(S),C={INIT:"@@redux/INIT"};function A(e,t,o){var n;if("function"==typeof t&&void 0===o&&(o=t,t=void 0),void 0!==o){if("function"!=typeof o)throw new Error("Expected the enhancer to be a function.");return o(A)(e,t)}if("function"!=typeof e)throw new Error("Expected the reducer to be a function.");var r=e,i=t,a=[],s=a,l=!1;function c(){s===a&&(s=a.slice())}function u(){return i}function d(t){if("function"!=typeof t)throw new Error("Expected listener to be a function.");var o=!0;return c(),s.push(t),function(){if(o){o=!1,c();var e=s.indexOf(t);s.splice(e,1)}}}function p(e){if(!T(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(l)throw new Error("Reducers may not dispatch actions.");try{l=!0,i=r(i,e)}finally{l=!1}for(var t=a=s,o=0;o<t.length;o++)t[o]();return e}return p({type:C.INIT}),(n={dispatch:p,subscribe:d,getState:u,replaceReducer:function(e){if("function"!=typeof e)throw new Error("Expected the nextReducer to be a function.");r=e,p({type:C.INIT})}})[k.a]=function(){var e,o=d;return(e={subscribe:function(e){if("object"!=typeof e)throw new TypeError("Expected the observer to be an object.");function t(){e.next&&e.next(u())}return t(),{unsubscribe:o(t)}}})[k.a]=function(){return this},e},n}function O(e){for(var t=Object.keys(e),h={},o=0;o<t.length;o++){var n=t[o];0,"function"==typeof e[n]&&(h[n]=e[n])}var g,f=Object.keys(h);try{!function(o){Object.keys(o).forEach(function(e){var t=o[e];if(void 0===t(void 0,{type:C.INIT}))throw new Error('Reducer "'+e+'" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined.');if(void 0===t(void 0,{type:"@@redux/PROBE_UNKNOWN_ACTION_"+Math.random().toString(36).substring(7).split("").join(".")}))throw new Error('Reducer "'+e+"\" returned undefined when probed with a random type. Don't try to handle "+C.INIT+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined.')})}(h)}catch(e){g=e}return function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=arguments[1];if(g)throw g;for(var o,n,r,i=!1,a={},s=0;s<f.length;s++){var l=f[s],c=h[l],u=e[l],d=c(u,t);if(void 0===d){var p=(o=l,r=void 0,"Given action "+((r=(n=t)&&n.type)&&'"'+r.toString()+'"'||"an action")+', reducer "'+o+'" returned undefined. To ignore an action, you must explicitly return the previous state.');throw new Error(p)}a[l]=d,i=i||d!==u}return i?a:e}}function w(e,t){return function(){return t(e.apply(void 0,arguments))}}function B(e,t){if("function"==typeof e)return w(e,t);if("object"!=typeof e||null===e)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===e?"null":typeof e)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');for(var o=Object.keys(e),n={},r=0;r<o.length;r++){var i=o[r],a=e[i];"function"==typeof a&&(n[i]=w(a,t))}return n}function I(){for(var e=arguments.length,t=Array(e),o=0;o<e;o++)t[o]=arguments[o];if(0===t.length)return function(e){return e};if(1===t.length)return t[0];var n=t[t.length-1],r=t.slice(0,-1);return function(){return r.reduceRight(function(e,t){return t(e)},n.apply(void 0,arguments))}}var R=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e};function N(){for(var e=arguments.length,l=Array(e),t=0;t<e;t++)l[t]=arguments[t];return function(s){return function(e,t,o){var n,r=s(e,t,o),i=r.dispatch,a={getState:r.getState,dispatch:function(e){return i(e)}};return n=l.map(function(e){return e(a)}),i=I.apply(void 0,n)(r.dispatch),R({},r,{dispatch:i})}}}o.d(t,"createStore",function(){return A}),o.d(t,"combineReducers",function(){return O}),o.d(t,"bindActionCreators",function(){return B}),o.d(t,"applyMiddleware",function(){return N}),o.d(t,"compose",function(){return I})},199:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fetchURLAsBlob=function(t,o){var e=new XMLHttpRequest;e.open("GET",t,!0),e.responseType="blob",e.onload=function(e){200===e.target.status?o(null,e.target.response):o(new Error("URL ".concat(t," responded with code ").concat(e.target.status)))},e.onerror=function(e){return o(new Error("Error ".concat(e.target.status," occurred while receiving the document.")))},e.send()},t.blobToDataURI=function(e,t){var o=new FileReader;o.onload=function(e){return t(e.target.result)},o.readAsDataURL(e)},t.dataURIToSourceSize=function(e){return s(e).then(function(e){return{x:e.width,y:e.height}})},t.imageDataFromURI=function(e){return s(e).then(function(e){var t=document.createElement("canvas");t.width=e.width,t.height=e.height;var o=t.getContext("2d");return o.drawImage(e,0,0),o.getImageData(0,0,t.width,t.height)})},t.canvasFromImage=n,t.dataURIFromURI=function(e){return s(e).then(function(e){var t=n(e);return t.toDataURL()})},t.URIFromImageData=function(e){var t=document.createElement("canvas");return t.width=e.width,t.height=e.height,t.getContext("2d").putImageData(e,0,0),t.toDataURL()},t.dataURIToFramedBlob=function(e,o){var n=new Image,r=new Image;r.src=e,n.onload=function(){var e=document.createElement("canvas");e.width=n.width,e.height=n.height;var t=e.getContext("2d");t.drawImage(n,0,0),t.drawImage(r,175,52,154,154),e.toBlob&&e.toBlob(o)},n.src=i.default},t.imageFromURI=s,t.svgToDataURI=function(t){var o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"image/png",n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};return new Promise(function(e){r.e(8).then(r.t.bind(null,713,7)).then(function(){t.toDataURL(o,function(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{},n=Object.keys(Object(o));"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(o).filter(function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable}))),n.forEach(function(e){a(t,e,o[e])})}return t}({},n,{callback:e}))})})},t.canvasToBlob=l,t.dataURIToBlob=function(e){return s(e).then(n).then(l)};var o,i=(o=r(321))&&o.__esModule?o:{default:o};function a(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function n(e){var t=document.createElement("canvas");return t.width=e.width,t.height=e.height,t.getContext("2d").drawImage(e,0,0,e.width,e.height),t}function s(n){return new Promise(function(e,t){var o=new Image;o.onload=function(){return e(o)},o.onerror=function(e){return t(e)},o.src=n})}function l(t){return new Promise(function(e){t.toBlob(e)})}},2:function(e,t,o){var n;
/*!
  Copyright (c) 2016 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/
/*!
  Copyright (c) 2016 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/
!function(){"use strict";var i={}.hasOwnProperty;function a(){for(var e=[],t=0;t<arguments.length;t++){var o=arguments[t];if(o){var n=typeof o;if("string"==n||"number"==n)e.push(o);else if(Array.isArray(o))e.push(a.apply(null,o));else if("object"==n)for(var r in o)i.call(o,r)&&o[r]&&e.push(r)}}return e.join(" ")}e.exports?e.exports=a:void 0===(n=function(){return a}.apply(t,[]))||(e.exports=n)}()},209:function(n,r,i){var a,s;
/*!
 * JavaScript Cookie v2.1.3
 * https://github.com/js-cookie/js-cookie
 *
 * Copyright 2006, 2015 Klaus Hartl & Fagner Brack
 * Released under the MIT license
 */!function(e){if(void 0===(s="function"==typeof(a=e)?a.call(r,i,r,n):a)||(n.exports=s),!0,n.exports=e(),!!0){var t=window.Cookies,o=window.Cookies=e();o.noConflict=function(){return window.Cookies=t,o}}}(function(){function h(){for(var e=0,t={};e<arguments.length;e++){var o=arguments[e];for(var n in o)t[n]=o[n]}return t}return function e(d){function p(e,t,o){var n;if("undefined"!=typeof document){if(1<arguments.length){if("number"==typeof(o=h({path:"/"},p.defaults,o)).expires){var r=new Date;r.setMilliseconds(r.getMilliseconds()+864e5*o.expires),o.expires=r}try{n=JSON.stringify(t),/^[\{\[]/.test(n)&&(t=n)}catch(e){}return t=d.write?d.write(t,e):encodeURIComponent(String(t)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),e=(e=(e=encodeURIComponent(String(e))).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent)).replace(/[\(\)]/g,escape),document.cookie=[e,"=",t,o.expires?"; expires="+o.expires.toUTCString():"",o.path?"; path="+o.path:"",o.domain?"; domain="+o.domain:"",o.secure?"; secure":""].join("")}e||(n={});for(var i=document.cookie?document.cookie.split("; "):[],a=/(%[0-9A-Z]{2})+/g,s=0;s<i.length;s++){var l=i[s].split("="),c=l.slice(1).join("=");'"'===c.charAt(0)&&(c=c.slice(1,-1));try{var u=l[0].replace(a,decodeURIComponent);if(c=d.read?d.read(c,u):d(c,u)||c.replace(a,decodeURIComponent),this.json)try{c=JSON.parse(c)}catch(e){}if(e===u){n=c;break}e||(n[u]=c)}catch(e){}}return n}}return(p.set=p).get=function(e){return p.call(p,e)},p.getJSON=function(){return p.apply({json:!0},[].slice.call(arguments))},p.defaults={},p.remove=function(e,t){p(e,"",h(t,{expires:-1}))},p.withConverter=e,p}(function(){})})},21:function(e,t,o){"use strict";e.exports=function(e,t){var o,n,r=t.children||[],i=r.length,a=[],s=-1;for(;++s<i;)(o=c(e,r[s],t))&&(s&&"break"===r[s-1].type&&(o.value&&(o.value=l.left(o.value)),(n=o.children&&o.children[0])&&n.value&&(n.value=l.left(n.value))),a=a.concat(o));return a};var l=o(130),c=o(232)},211:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.levelProgressStyle=t.hoverStyle=t.SMALL_DIAMOND_SIZE=t.SMALL_DOT_SIZE=t.DIAMOND_DOT_SIZE=t.DOT_SIZE=void 0;var n,r,i=(n=o(6))&&n.__esModule?n:{default:n},a=o(61);function s(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{},n=Object.keys(Object(o));"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(o).filter(function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable}))),n.forEach(function(e){l(t,e,o[e])})}return t}function l(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}t.DOT_SIZE=30;t.DIAMOND_DOT_SIZE=22;t.SMALL_DOT_SIZE=9;t.SMALL_DIAMOND_SIZE=6;var c={":hover":{textDecoration:"none",color:i.default.white,borderColor:i.default.level_current,backgroundColor:i.default.level_current}};t.hoverStyle=c;var u=(l(r={},a.LevelStatus.perfect,{backgroundColor:i.default.level_perfect,color:i.default.white}),l(r,a.LevelStatus.free_play_complete,{backgroundColor:i.default.level_perfect,color:i.default.white}),l(r,a.LevelStatus.passed,{backgroundColor:i.default.level_passed}),l(r,a.LevelStatus.submitted,{borderColor:i.default.level_submitted,backgroundColor:i.default.level_submitted,color:i.default.white}),l(r,a.LevelStatus.completed_assessment,{borderColor:i.default.level_submitted,backgroundColor:i.default.level_submitted,color:i.default.white}),l(r,a.LevelStatus.readonly,{borderColor:i.default.level_submitted,backgroundColor:i.default.level_submitted,color:i.default.white}),l(r,a.LevelStatus.review_rejected,{color:i.default.white,borderColor:i.default.level_review_rejected,backgroundColor:i.default.level_review_rejected}),l(r,a.LevelStatus.review_accepted,{color:i.default.white,backgroundColor:i.default.level_perfect}),l(r,a.LevelStatus.locked,{borderColor:i.default.lighter_gray}),r);t.levelProgressStyle=function(e,t){var o={borderWidth:2,color:i.default.charcoal,backgroundColor:i.default.level_not_tried};return o=t?s({},o,!t&&c):(e.status!==a.LevelStatus.not_tried&&(o.borderColor=i.default.level_perfect),s({},o,u[e.status]))}},213:function(e,t,i){"use strict";function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.makeFooterMenuItems=me,t.singleton=function(){_e||(_e=new ge);return _e};var m=pe(i(10)),h=pe(i(1)),g=pe(i(8)),o=i(47),f=pe(i(15)),s=pe(i(1588)),y=i(9),n=pe(i(114)),r=pe(i(209));i(284);var d,_=de(i(1881)),p=de(i(345)),v=de(i(1240)),l=de(i(360)),c=de(i(657)),b=de(i(127)),E=de(i(391)),u=de(i(1847)),T=de(i(11)),S=pe(i(1157)),k=pe(i(747)),C=pe(i(1886)),A=pe(i(1262)),O=pe(i(895)),w=pe(i(1888)),B=pe(i(1892)),I=pe(i(1899)),R=pe(i(1909)),N=pe(i(1923)),P=pe(i(1598)),L=pe(i(326)),x=pe(i(1924)),D=pe(i(1926)),M=pe(i(714)),U=pe(i(6)),F=pe(i(1927)),H=pe(i(539)),j=pe(i(4)),G=pe(i(116)),V=pe(i(1273)),W=pe(i(1635)),z=i(37),q=i(126),K=i(1767),Y=i(854),X=i(46),J=i(829),Q=i(474),$=i(612),Z=i(11),ee=i(597),te=i(1769),oe=i(1599),ne=i(95),re=i(750),ie=i(1244),ae=pe(i(80)),se=i(368),le=i(784),ce=i(1166);function ue(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return ue=function(){return e},e}function de(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var t=ue();if(t&&t.has(e))return t.get(e);var o={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(o,r,i):o[r]=e[r]}return o.default=e,t&&t.set(e,o),o}function pe(e){return e&&e.__esModule?e:{default:e}}function he(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var ge=function(t){function e(){var e;return(e=t.call(this)||this).feedback_=new I.default(he(e)),e.authoredHintsController_=new C.default(he(e)),e.BASE_URL=void 0,e.enableShowCode=!0,e.editCode=!1,e.usingBlockly_=!0,e.editor=null,e.dropletTooltipManager=null,e.icon=void 0,e.winIcon=void 0,e.failureIcon=void 0,e.checkForEmptyBlocks_=!1,e.IDEAL_BLOCK_NUM=void 0,e.requiredBlocks_=[],e.maxRequiredBlocksToFlag_=1,e.recommendedBlocks_=[],e.maxRecommendedBlocksToFlag_=1,e.attempts=0,e.initTime=void 0,e.hideSource=!1,e.share=!1,e.onAttempt=void 0,e.onContinue=void 0,e.onResetPressed=void 0,e.backToPreviousLevel=void 0,e.isUS=void 0,e.enableShowBlockCount=!0,e.disableSocialShare=!1,e.noPadding=!1,e.MIN_WORKSPACE_HEIGHT=void 0,e.libraries={},e}return function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(e,t),e}(o.EventEmitter);function fe(e){u.checkSharedAppWarnings({channelId:e.channel,isSignedIn:e.isSignedIn,isTooYoung:e.isTooYoung,isOwner:G.default.isOwner(),hasDataAPIs:e.shareWarningInfo.hasDataAPIs,onWarningsComplete:e.shareWarningInfo.onWarningsComplete,onTooYoung:e.shareWarningInfo.onTooYoung})}function me(){var e=[{key:"try-hoc",text:j.default.tryHourOfCode(),link:"https://code.org/learn",newWindow:!0},{key:"how-it-works",text:j.default.howItWorks(),link:G.default.getProjectUrl("/edit"),newWindow:!1},{key:"report-abuse",text:j.default.reportAbuse(),link:"/report_abuse",newWindow:!0},{text:j.default.copyright(),link:"#",copyright:!0},{text:j.default.tos(),link:"https://code.org/tos",newWindow:!0},{text:j.default.privacyPolicy(),link:"https://code.org/privacy",newWindow:!0}];return"gamelab"===G.default.getStandaloneApp()&&e.shift(),r.default.get("reported_abuse")&&f.default.includes(JSON.parse(r.default.get("reported_abuse")),G.default.getCurrentId())&&f.default.remove(e,function(e){return"report-abuse"===e.key}),e}function ye(){var e=document.querySelector("#visualizationColumn.pin_bottom #belowVisualization");if(e){var o=0;["playSpaceHeader","spelling-table-wrapper","gameButtons","gameButtonExtras","song-selector-wrapper"].forEach(function(e){var t=document.getElementById(e);t&&(o+=(0,m.default)(t).outerHeight(!0))});var t=document.getElementById("visualization");if(t){var n=(0,m.default)(t).parent();"phoneFrameWrapper"===n.attr("id")?n.children().each(function(){o+=(0,m.default)(this).outerHeight(!0)}):o+=(0,m.default)(t).outerHeight(!0)}var r=0,i=document.querySelector("#page-small-footer .small-footer-base");if(i){var a=(0,m.default)("#codeApp");r+=(0,m.default)(i).outerHeight(!0),r-=parseInt(a.css("bottom"),10)}e.style.top=o+"px",e.style.bottom=r+"px"}}ge.prototype.configure=function(e){this.BASE_URL=e.baseUrl,this.editCode=e.level&&e.level.editCode,this.scratch=e.level&&e.level.scratch,this.usingBlockly_=!this.editCode&&!this.scratch,e.isEditorless&&(this.editCode=!1,this.usingBlockly_=!1),this.assetUrl=f.default.bind(this.assetUrl_,this),this.maxVisualizationWidth=e.maxVisualizationWidth||400,this.minVisualizationWidth=e.minVisualizationWidth||200,e.level&&(0,X.getStore)().dispatch((0,ee.setStepSpeed)(e.level.sliderSpeed))},ge.prototype.hasInstructionsToShow=function(e){return!!(e.level.shortInstructions||e.level.longInstructions||e.level.aniGifURL)},ge.prototype.init=function(t){var o=this;t||(t={}),this.config=t,this.hasContainedLevels=t.hasContainedLevels,t.getCode=this.getCode.bind(this),d=t.copyrightStrings,t.legacyShareStyle&&t.hideSource&&((0,m.default)("body").addClass("legacy-share-view"),b.isMobile()&&((0,m.default)("body").addClass("legacy-share-view-mobile"),(0,m.default)("#main-logo").hide())),this.setConfigValues_(t),this.configureDom(t),g.default.render(h.default.createElement(y.Provider,{store:(0,X.getStore)()},h.default.createElement("div",null,h.default.createElement(N.default,{showInstructionsDialog:function(e){o.showInstructionsDialog_(t.level,e)}}),h.default.createElement(R.default,{onContinue:function(){return o.onContinue()},getShareUrl:function(){return o.lastShareUrl}}))),document.body.appendChild(document.createElement("div"))),t.usesAssets&&t.channel&&(p.init(t),q.assets.getFiles(function(e){v.listStore.reset(e.files)},function(e){})),t.hideSource&&this.handleHideSource_({containerId:t.containerId,embed:t.embed,level:t.level,noHowItWorks:t.noHowItWorks,isLegacyShare:t.isLegacyShare,legacyShareStyle:t.legacyShareStyle,wireframeShare:t.wireframeShare}),t.share&&this.handleSharing_({makeUrl:t.makeUrl,makeString:t.makeString,makeImage:t.makeImage,makeYourOwn:t.makeYourOwn});var e=T.valueOr(t.authoredHintsUsedIds,[]);this.authoredHintsController_.init(t.level.authoredHints,e,t.scriptId,t.serverLevelId),t.authoredHintViewRequestsUrl&&t.isSignedIn&&this.authoredHintsController_.submitHints(t.authoredHintViewRequestsUrl),t.puzzleRatingsUrl&&V.default.submitCachedPuzzleRatings(t.puzzleRatingsUrl),this.initTime=(new Date).getTime();var n=document.querySelector('meta[name="viewport"]');n&&this.fixViewportForSmallScreens_(n,t);var r=document.getElementById("blockCounter");r&&!this.enableShowBlockCount&&(r.style.display="none"),this.setIconsFromSkin(t.skin),t.level.instructionsIcon&&(this.icon=t.skin[t.level.instructionsIcon],this.winIcon=t.skin[t.level.instructionsIcon]),t.showInstructionsWrapper&&t.showInstructionsWrapper(function(){});var i=function(){window.scrollTo(0,0)};window.addEventListener("orientationchange",i),i(),t.loadAudio&&t.loadAudio(),this.editCode&&this.handleEditCode_(t),this.isUsingBlockly()?this.handleUsingBlockly_(t):T.fireResizeEvent(),this.alertIfAbusiveProject(),this.alertIfProfaneOrPrivacyViolatingProject(),this.startIFrameEmbeddedApp=this.startIFrameEmbeddedApp.bind(this,t),t.shareWarningInfo&&!t.level.iframeEmbed&&fe(t),this.initProjectTemplateWorkspaceIconCallout(),this.alertIfCompletedWhilePairing(t),"en_us"!==t.locale&&"letters"===t.skinId&&this.displayWorkspaceAlert("error",h.default.createElement("div",null,j.default.englishOnlyWarning({nextStage:t.stagePosition+1}))),window.addEventListener("resize",this.onResize.bind(this)),window.addEventListener(ce.RESIZE_VISUALIZATION_EVENT,function(e){o.resizeVisualization(e.detail)}),this.reset(!0),this.setIdealBlockNumber_(),this.isUsingBlockly()&&(Blockly.mainBlockSpaceEditor.addUnusedBlocksHelpListener(function(e){T.showUnusedBlockQtip(e.target)}),this.changeListener=Blockly.mainBlockSpaceEditor.addChangeListener(f.default.bind(function(){this.updateBlockCount()},this)),t.level.openFunctionDefinition&&this.openFunctionDefinition_(t));var a=T.valueOr(t.skin.hideIconInClearPuzzle,!1),s=document.getElementById("clear-puzzle-header");if(s&&b.addClickTouchEvent(s,function(){this.feedback_.showClearPuzzleConfirmation(a,function(){this.handleClearPuzzle(t)}.bind(this))}.bind(this)),this.initVersionHistoryUI(t),this.isUsingBlockly()&&Blockly.contractEditor&&Blockly.contractEditor.registerTestsFailedOnCloseHandler(function(){return this.feedback_.showSimpleDialog({headerText:void 0,bodyText:j.default.examplesFailedOnClose(),cancelText:j.default.ignore(),confirmText:j.default.tryAgain(),onConfirm:null,onCancel:function(){Blockly.contractEditor.hideIfOpen()}}),!0}.bind(this)),t.legacyShareStyle&&t.hideSource&&this.setupLegacyShareView(),(0,J.initializeContainedLevel)(),t.isChallengeLevel){var l=document.createElement("div");document.body.appendChild(l);var c=(0,X.getStore)().getState().progress,u=c.levelProgress[c.currentLevelId]>=z.TestResults.MINIMUM_OPTIMAL_RESULT;g.default.render(h.default.createElement(A.default,{isOpen:!0,avatar:this.icon,handleCancel:function(){o.skipLevel()},cancelButtonLabel:j.default.challengeLevelSkip(),complete:u,isIntro:!0,primaryButtonLabel:j.default.challengeLevelStart(),text:j.default.challengeLevelIntro(),title:j.default.challengeLevelTitle()}),l)}this.emit("afterInit")},ge.prototype.initProjectTemplateWorkspaceIconCallout=function(){(0,X.getStore)().getState().pageConstants.showProjectTemplateWorkspaceIcon&&setTimeout(function(){requestAnimationFrame(function(){(0,le.addCallouts)([{id:"projectTemplateWorkspaceIconCallout",element_id:".projectTemplateWorkspaceIcon:visible",localized_text:j.default.workspaceProjectTemplateLevel(),qtip_config:{position:{my:"top center",at:"bottom center"}}}])})},0)},ge.prototype.alertIfCompletedWhilePairing=function(e){e.level.pairingDriver&&this.displayWorkspaceAlert("warning",h.default.createElement("div",null,j.default.pairingNavigatorWarning({driver:e.level.pairingDriver})," ",e.level.pairingAttempt&&h.default.createElement("a",{href:e.level.pairingAttempt},j.default.pairingNavigatorLink()),e.level.pairingChannelId&&h.default.createElement("a",{href:G.default.getPathName("view",e.level.pairingChannelId)},j.default.pairingNavigatorLink())))},ge.prototype.getVersionHistoryHandler=function(o){var n=this;return function(){var e=document.createElement("div"),t=n.createModalDialog({contentDiv:e,defaultBtnSelector:"again-button",id:"showVersionsModal"});g.default.render(h.default.createElement(x.default,{handleClearPuzzle:n.handleClearPuzzle.bind(n,o),useFilesApi:!!o.useFilesApi}),e),t.show()}},ge.prototype.initVersionHistoryUI=function(e){var t=document.getElementById("versions-header");t&&b.addClickTouchEvent(t,this.getVersionHistoryHandler(e))},ge.prototype.startIFrameEmbeddedApp=function(e,t){this.share&&e.shareWarningInfo?(e.shareWarningInfo.onTooYoung=t,fe(e)):this.runButtonClick()},ge.prototype.setupLegacyShareView=function(){var e=document.createElement("div");e.id="visualizationContainer";var t=document.getElementById("visualizationColumn");b.isMobile()&&(0,m.default)(e).width((0,m.default)(t).width()),(0,m.default)(e).append(t.children);var o=document.createElement("div");o.id="phoneFrameScreen",(0,m.default)(o).append(e),(0,m.default)(t).append(o),this.renderShareFooter_(o),b.isMobile&&(0,m.default)(window).resize(this.scaleLegacyShare),this.scaleLegacyShare()},ge.prototype.scaleLegacyShare=function(){var e=document.getElementById("visualizationContainer"),t=document.getElementById("visualizationColumn"),o=document.getElementById("phoneFrameScreen"),n=(0,m.default)(e).width();if(b.isMobile()){var r=document.documentElement,i=r.clientHeight,a=r.clientWidth,s=Math.min(i,a),l=Math.max(a,i),c=Math.max(s,(0,m.default)(o).width()),u=Math.max(l,(0,m.default)(o).height());(0,m.default)(o).width(c),(0,m.default)(o).height(u),(0,m.default)(t).width(c)}var d=(0,m.default)(o).width()/n;1!=d&&(function(e,t){e.style.transformOrigin=t,e.style.msTransformOrigin=t,e.style.webkitTransformOrigin=t}(e,"left top"),Ee(e,"scale("+d+")"))},ge.prototype.getCode=function(){return this.editCode?this.hideSource?this.startBlocks_:this.editor.getValue():c.workspaceCode(Blockly)},ge.prototype.setIconsFromSkin=function(e){this.icon=e.staticAvatar,this.winIcon=e.winAvatar,this.failureIcon=e.failureAvatar},ge.prototype.handleClearPuzzle=function(e){var t;if(this.isUsingBlockly())Blockly.functionEditor&&Blockly.functionEditor.hideIfOpen(),Blockly.mainBlockSpace.clear(),this.setStartBlocks_(e,!1),e.level.openFunctionDefinition&&this.openFunctionDefinition_(e);else if(this.editCode){var o="";e.level.startBlocks&&(o=e.level.startBlocks.replace(/\r\n/g,"\n")),this.editor.getValue(),this.editor.setValue(o),M.default.clearRuntimeAnnotations()}else if(this.scratch){var n=Blockly.getMainWorkspace();n.clear();var r=Blockly.Xml.textToDom(e.level.startBlocks);Blockly.Xml.domToWorkspace(r,n)}return e.afterClearPuzzle&&(t=e.afterClearPuzzle(e)),t||(t=new Promise(function(e,t){e()})),t},ge.prototype.isUsingBlockly=function(){return this.usingBlockly_},ge.prototype.handleSharing_=function(e){var t=document.getElementById("belowVisualization");if(b.isMobile()){var o=document.getElementById("slider-cell");if(o&&(o.style.display="none"),t){var n=document.getElementById("visualization");t.style.display="none",n.style.marginBottom="0px"}}var r=document.createElement("div");e.makeYourOwn?(r.innerHTML=i(1928)({data:{makeUrl:e.makeUrl,makeString:e.makeString,makeImage:e.makeImage}}),this.noPadding&&(r.style.marginLeft="10px"),t.appendChild(r)):void 0===e.makeYourOwn&&(r.innerHTML=i(1929)({assetUrl:this.assetUrl}),t.appendChild(r))},ge.prototype.renderShareFooter_=function(e){var t=document.createElement("div");t.setAttribute("id","footerDiv"),e.appendChild(t);var o={i18nDropdown:"",privacyPolicyInBase:!1,copyrightInBase:!1,copyrightStrings:d,baseMoreMenuString:j.default.builtOnCodeStudio(),baseStyle:{paddingLeft:0,width:(0,m.default)("#visualization").width()},className:"dark",menuItems:me(),phoneFooter:!0};g.default.render(h.default.createElement(P.default,o),t)},ge.prototype.assetUrl_=function(e){if(void 0===this.BASE_URL)throw new Error("StudioApp BASE_URL has not been set. Call configure() first");return this.BASE_URL+e},ge.prototype.reset=function(e){},ge.prototype.runButtonClick=function(){},ge.prototype.addChangeHandler=function(e){this.changeHandlers||(this.changeHandlers=[]),this.changeHandlers.push(e)},ge.prototype.runChangeHandlers=function(){this.changeHandlers&&this.changeHandlers.forEach(function(e){return e()})},ge.prototype.setupChangeHandlers=function(){var e=this.runChangeHandlers.bind(this);this.isUsingBlockly()?Blockly.mainBlockSpace.getCanvas().addEventListener("blocklyBlockSpaceChange",e):(this.editor.on("change",e),this.editor.aceEditor.on("change",e))},ge.prototype.toggleRunReset=function(e){var t="run"===e;if("run"!==e&&"reset"!==e)throw"Unexpected input";(0,X.getStore)().dispatch((0,ee.setIsRunning)(!t)),this.hasContainedLevels&&(0,Q.lockContainedLevelAnswers)();var o=document.getElementById("runButton"),n=document.getElementById("resetButton");(o||n)&&(o.style.display=t?"inline-block":"none",o.disabled=!t,n.style.display=t?"none":"inline-block",n.disabled=t),(0,m.default)(".arrow").prop("disabled",t)},ge.prototype.isRunning=function(){return(0,X.getStore)().getState().runState.isRunning},ge.prototype.registerAudio=function(e){L.default.getSingleton().register(e)},ge.prototype.loadAudio=function(e,t){L.default.getSingleton().registerByFilenamesAndID(e,t)},ge.prototype.playAudio=function(e,t){if(!(t&&t.noOverlap&&L.default.getSingleton().isPlaying(e))){t=t||{};var o=T.extend({volume:.5},t);L.default.getSingleton().play(e,o)}},ge.prototype.playAudioOnWin=function(){this.hasContainedLevels?this.playAudio((0,J.getValidatedResult)()?"win":"failure"):this.playAudio("win")},ge.prototype.playAudioOnFailure=function(){this.hasContainedLevels?this.playAudio((0,J.getValidatedResult)()?"win":"failure"):this.playAudio("failure")},ge.prototype.stopLoopingAudio=function(e){L.default.getSingleton().stopLoopingAudio(e)},ge.prototype.inject=function(e,t){var o={assetUrl:this.assetUrl,rtl:(0,X.getStore)().getState().isRtl,toolbox:document.getElementById("toolbox"),trashcan:!0,customSimpleDialog:this.feedback_.showSimpleDialog.bind(this.feedback_)};Blockly.inject(e,T.extend(o,t),L.default.getSingleton())},ge.prototype.showNextHint=function(){return this.authoredHintsController_.showNextHint()},ge.prototype.initReadonly=function(e){Blockly.inject(document.getElementById("codeWorkspace"),{assetUrl:this.assetUrl,readOnly:!0,rtl:(0,X.getStore)().getState().isRtl,scrollbars:!1}),this.loadBlocks(e.blocks)},ge.prototype.loadBlocks=function(e){var t=(0,$.parseElement)(e);Blockly.Xml.domToBlockSpace(Blockly.mainBlockSpace,t)},ge.prototype.arrangeBlockPosition=function(e,t){var o,n,r=(0,$.parseElement)(e),i=r.childNodes||[];t=t||{};for(var a=0;a<i.length;a++)1===(n=i[a]).nodeType&&t[o=n.getAttribute("type")]&&(t[o].x&&!n.hasAttribute("x")&&n.setAttribute("x",t[o].x),t[o].y&&!n.hasAttribute("y")&&n.setAttribute("y",t[o].y));return Blockly.Xml.domToText(r)},ge.prototype.createModalDialog=function(e){return this.feedback_.createModalDialog(e)},ge.prototype.showToggleBlocksError=function(){this.feedback_.showToggleBlocksError(this.Dialog)},ge.prototype.showGeneratedCode=function(){this.feedback_.showGeneratedCode(this.Dialog,this.config.appStrings)},ge.prototype.displayMissingBlockHints=function(e){this.authoredHintsController_.displayMissingBlockHints(e)},ge.prototype.onReportComplete=function(e){this.authoredHintsController_.finishHints(e),e&&(this.lastShareUrl=e.level_source,e.new_level_completed&&(0,n.default)("Puzzle","Completed",e.level_path,e.level_attempts),e.share_failure&&(0,n.default)("Share","Failure",e.share_failure.type))},ge.prototype.showInstructionsDialog_=function(e,t){var o,n=this,r=(0,X.getStore)().getState(),i=!!r.instructions.longInstructions&&!r.instructionsDialog.imgOnly,a=document.createElement("div");a.className=i?"markdown-instructions-container":"instructions-container";var s=j.default.puzzleTitle({stage_total:e.stage_total,puzzle_number:e.puzzle_number});i&&((o=document.createElement("h1")).className="markdown-level-header-text dialog-title",o.innerHTML=s,this.icon||(o.className+=" no-modal-icon"));var l=document.createElement("div");l.className="instructions-content",a.appendChild(l);var c=document.createElement("div");a.appendChild(c),g.default.render(h.default.createElement(O.default,{ok:!0}),c);var u=null;(0,m.default)("#bubble").length&&(u={endTarget:"#bubble"});var d=f.default.bind(function(){this.editCode&&this.currentlyUsingBlocks()&&this.editor.aceEditor.focus(),(0,X.getStore)().dispatch((0,Y.closeDialog)())},this);this.instructionsDialog=this.createModalDialog({markdownMode:i,contentDiv:a,icon:this.icon,defaultBtnSelector:"#ok-button",onHidden:d,scrollContent:!0,scrollableSelector:".instructions-content",header:o}),(0,m.default)(this.instructionsDialog.div).on("show.bs.modal",function(){g.default.render(h.default.createElement(y.Provider,{store:(0,X.getStore)()},h.default.createElement(w.default,null)),l),(0,Z.resetAniGif)(n.instructionsDialog.div.find("img.aniGif").get(0))}),t&&setTimeout(f.default.bind(function(){this.instructionsDialog.hide()},this),32e3);var p=c.querySelector("#ok-button");p&&b.addClickTouchEvent(p,f.default.bind(function(){this.instructionsDialog&&this.instructionsDialog.hide()},this)),this.instructionsDialog.show({hideOptions:u})},ge.prototype.onResize=function(){var e=document.getElementById("codeWorkspace");if(e&&(0,m.default)(e).is(":visible")){var t=e.clientWidth;if(this.isUsingBlockly()&&Blockly.RTL&&this.lastWorkspaceWidth&&this.lastWorkspaceWidth!==t){var o=t-this.lastWorkspaceWidth;Blockly.mainBlockSpace.getTopBlocks().forEach(function(e){e.moveBy(o,0)})}this.lastWorkspaceWidth=t,this.resizeToolboxHeader(),ve()}};var _e,ve=f.default.debounce(function(){ye()},10);function be(e,t){for(var o=0;o<e.children.length;o++)(0,m.default)(e.children[o]).hasClass("ignore-transform")||Ee(e.children[o],t)}function Ee(e,t){e.style.transform=t,e.style.msTransform=t,e.style.webkitTransform=t}function Te(e){if(window.$&&((0,m.default)(window).trigger("run_button_pressed"),(0,m.default)(window).trigger("appModeChanged")),window.Blockly&&Blockly.mainBlockSpace){var t=T.createEvent(Blockly.BlockSpace.EVENTS.RUN_BUTTON_CLICKED);Blockly.mainBlockSpace.getCanvas().dispatchEvent(t)}e()}function Se(e){var t=e.getBBox(),o=document.createElementNS("http://www.w3.org/2000/svg","rect");return o.setAttribute("x",t.x),o.setAttribute("y",t.y),o.setAttribute("width",t.width),o.setAttribute("height",t.height),o}ge.prototype.resizePinnedBelowVisualizationArea=function(){ye()},ge.prototype.resizeVisualization=function(e){if(!(0,m.default)("#visualizationColumn").hasClass("wireframeShare")){var t=(0,m.default)(".editor-column"),o=document.getElementById("visualization"),n=document.getElementById("visualizationResizeBar"),r=document.getElementById("visualizationColumn");if(o&&n&&r){var i=(0,m.default)(r).width(),a=Math.max(this.minVisualizationWidth,Math.min(this.maxVisualizationWidth,e||i)),s=a+"px",l=a/this.vizAspectRatio+"px",c=o.offsetWidth-o.clientWidth;(0,X.getStore)().getState().isRtl?(n.style.right=s,t.css("right",s)):(n.style.left=s,t.css("left",s)),n.style.lineHeight=l,r.style.maxWidth=a+c+"px",o.style.maxWidth=s,o.style.maxHeight=l;var u=a/this.nativeVizWidth;(0,X.getStore)().dispatch((0,oe.setVisualizationScale)(u));var d="scale(".concat(u,")");be(o,d);var p=document.getElementById("studio-dpad-container");p&&be(p,d),i<230&&230<=a?(0,m.default)("#soft-buttons").removeClass("soft-buttons-compact"):230<i&&a<=230&&(0,m.default)("#soft-buttons").addClass("soft-buttons-compact");var h=document.querySelector("#page-small-footer .small-footer-base");if(h){h.style.maxWidth=s;var g=h.querySelector("form"),f=h.querySelector("small");g&&f.offsetTop===g.offsetTop?f.style.float="right":f.style.float="left"}T.fireResizeEvent()}}},ge.prototype.resizeToolboxHeader=function(){var e=0;this.editCode&&this.editor&&this.editor.session&&this.editor.session.paletteEnabled?e=document.querySelector(".droplet-palette-wrapper").getBoundingClientRect().width:this.isUsingBlockly()?e=Blockly.mainBlockSpaceEditor.getToolboxWidth():this.scratch&&(e=Blockly.getMainWorkspace().getMetrics().toolboxWidth);document.getElementById("toolbox-header").style.width=e+"px"},ge.prototype.highlight=function(e,t){if(this.isUsingBlockly()){if(e){var o=e.match(/^block_id_(\d+)$/);o&&(e=o[1])}Blockly.mainBlockSpace.highlightBlock(e,t)}},ge.prototype.clearHighlighting=function(){this.isUsingBlockly()?this.highlight(null):this.editCode&&this.editor&&c.clearDropletAceHighlighting(this.editor,!0)},ge.prototype.displayFeedback=function(e){e.level.edit_blocks&&(e.feedbackType=z.TestResults.EDIT_BLOCKS);var t=(0,X.getStore)();if(t.dispatch((0,ne.mergeProgress)(function(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}({},this.config.serverLevelId,e.feedbackType))),ae.default.isEnabled("bubbleDialog")){var o=e.response,n=e.preventDialog,r=e.feedbackType,i=e.feedbackImage;if({turtle:!0,karel:!0,maze:!0,studio:!0,flappy:!0,bounce:!0}[this.config.app]&&!this.hasContainedLevels){var a=this.feedback_.getGeneratedCodeProperties(this.config.appStrings),s={message:a.shortMessage,code:a.code},l=!this.disableSocialShare&&!e.disableSocialShare;if(t.dispatch((0,ie.setFeedbackData)({isChallenge:this.config.isChallengeLevel,isPerfect:r>=z.TestResults.MINIMUM_OPTIMAL_RESULT,blocksUsed:this.feedback_.getNumCountableBlocks(),displayFunometer:o&&o.puzzle_ratings_enabled,studentCode:s,feedbackImage:l&&i})),t.dispatch((0,ie.setAchievements)((0,F.default)(t.getState()))),this.shouldDisplayFeedbackDialog_(n,r))return t.dispatch((0,ie.showFeedback)()),void this.onFeedback(e)}}e.onContinue=this.onContinue,e.backToPreviousLevel=this.backToPreviousLevel,e.isUS=this.isUS,e.channelId=G.default.getCurrentId();try{e.shareLink=e.response&&e.response.level_source||G.default.getShareUrl()}catch(e){}if(this.shouldDisplayFeedbackDialog_(e.preventDialog,e.feedbackType))this.feedback_.displayFeedback(e,this.requiredBlocks_,this.maxRequiredBlocksToFlag_,this.recommendedBlocks_,this.maxRecommendedBlocksToFlag_);else{var c=this.feedback_.getMissingBlockHints(this.requiredBlocks_.concat(this.recommendedBlocks_),e.level.isK1);this.displayMissingBlockHints(c);var u=this.feedback_.getFeedbackMessage(e),d=e.feedbackType<z.TestResults.MINIMUM_PASS_RESULT;(0,X.getStore)().dispatch((0,se.setFeedback)({message:u,isFailure:d}))}this.config.level.hintPromptAttemptsThreshold&&this.authoredHintsController_.considerShowingOnetimeHintPrompt(),this.onFeedback(e)},ge.prototype.shouldDisplayFeedbackDialog_=function(e,t){return!e&&(!!(0,X.getStore)().getState().pageConstants.noInstructionsWhenCollapsed||this.feedback_.canContinueToNextLevel(t))},ge.prototype.getTestResults=function(e,t){return this.feedback_.getTestResults(e,this.requiredBlocks_,this.recommendedBlocks_,this.checkForEmptyBlocks_,t)},ge.prototype.builderForm_=function(n){var r=document.createElement("div");r.innerHTML=i(1930)();var e=this.createModalDialog({contentDiv:r,icon:this.icon}),t=document.getElementById("create-level-button");b.addClickTouchEvent(t,function(){var e=r.querySelector('[name="instructions"]').value,t=r.querySelector('[name="level_name"]').value,o=s.default.parse(window.location.href,!0).query;n(T.extend({instructions:e,name:t},o))}),e.show({backdrop:"static"})},ge.prototype.report=function(e){var o=Object.assign({},e,{pass:this.feedback_.canContinueToNextLevel(e.testResult),time:(new Date).getTime()-this.initTime,attempt:this.attempts,lines:this.feedback_.getNumBlocksUsed()});this.lastTestResult=e.testResult;var t=(0,X.getStore)().getState().pageConstants.isReadOnlyWorkspace,n=this;if(!(this.hideSource&&this.share||t)){var r=function(e){for(var t in e)o[t]=e[t];n.onAttempt(o)};e.builder?this.builderForm_(r):r()}},ge.prototype.clearAndAttachRuntimeAnnotations=function(){if(this.editCode&&!this.hideSource){var e=this.editor.aceEditor.getSession();M.default.attachToSession(e,this.editor),M.default.clearRuntimeAnnotations(),this.editor.aceEditor.session.on("change",function(){M.default.clearRuntimeAnnotations()})}},ge.prototype.resetButtonClick=function(){this.onResetPressed(),this.toggleRunReset("run"),this.clearHighlighting(),(0,X.getStore)().dispatch((0,se.setFeedback)(null)),this.isUsingBlockly()&&(Blockly.mainBlockSpaceEditor.setEnableToolbox(!0),Blockly.mainBlockSpace.traceOn(!1)),this.reset(!1)},ge.prototype.updateBlockCount=function(){var e=document.getElementById("blockUsed");e&&(this.IDEAL_BLOCK_NUM<this.feedback_.getNumCountableBlocks()?e.className="block-counter-overflow":e.className="block-counter-default",e.innerHTML="",e.appendChild(document.createTextNode(this.feedback_.getNumCountableBlocks())))},ge.prototype.setIdealBlockNumber_=function(){var e=document.getElementById("idealBlockNumber");if(e){var t=this.IDEAL_BLOCK_NUM===1/0?j.default.infinity():this.IDEAL_BLOCK_NUM;e.innerHTML="",e.appendChild(document.createTextNode(t))}},ge.prototype.fixViewportForSmallScreens_=function(e,t){var o,n,r;if(this.share&&b.isMobile()){var i=t.mobileNoPaddingShareWidth||400;o=n=Math.min(screen.width,screen.height),this.noPadding&&o<500&&(n=Math.min(n,i)),r=i}else o=n=Math.max(screen.width,screen.height),r=900;var a=Math.max(r,n),s=o/a,l=["width="+a,"minimal-ui","initial-scale="+s,"maximum-scale="+s,"minimum-scale="+s,"target-densityDpi=device-dpi","user-scalable=no"];e.setAttribute("content",l.join(", "))},ge.prototype.fixViewportForSpecificWidthForSmallScreens_=function(e,t){var o=Math.min(screen.width,screen.height)/t,n=["width="+t,"minimal-ui","initial-scale="+o,"maximum-scale="+o,"minimum-scale="+o,"target-densityDpi=device-dpi","user-scalable=no"];e.setAttribute("content",n.join(", "))},ge.prototype.setConfigValues_=function(e){if(this.share=e.share,e.wireframeShare=T.valueOr(e.wireframeShare,!1),this.disableSocialShare=e.disableSocialShare,this.isUS=e.isUS,this.noPadding=e.noPadding,e.level.useContractEditor&&(e.level.minWorkspaceHeight=e.level.minWorkspaceHeight||1250),this.appMsg=e.appMsg,this.IDEAL_BLOCK_NUM=e.level.ideal||1/0,(0,X.getStore)().dispatch((0,ie.setBlockLimit)(this.IDEAL_BLOCK_NUM)),this.MIN_WORKSPACE_HEIGHT=e.level.minWorkspaceHeight||800,this.requiredBlocks_=e.level.requiredBlocks||[],this.recommendedBlocks_=e.level.recommendedBlocks||[],(e.ignoreLastAttempt||e.hasContainedLevels)&&(e.level.lastAttempt=""),this.startBlocks_=e.level.lastAttempt||e.level.startBlocks||"",this.vizAspectRatio=e.vizAspectRatio||1,this.nativeVizWidth=e.nativeVizWidth||this.maxVisualizationWidth,e.level.initializationBlocks){var t=(0,$.parseElement)(e.level.initializationBlocks);this.initializationBlocks=Blockly.Generator.xmlToBlocks("JavaScript",t)}this.enableShowCode=!1!==e.enableShowCode,this.enableShowLinesCount=!1!==e.enableShowLinesCount&&!e.hasContainedLevels,!e.level||void 0!==e.level.ideal&&e.level.ideal!==1/0?this.enableShowBlockCount=!1!==e.enableShowBlockCount:this.enableShowBlockCount=!1,this.onAttempt=e.onAttempt||function(){},this.onContinue=e.onContinue||function(){},this.onFeedback=e.onFeedback||function(){},this.onInitialize=e.onInitialize?e.onInitialize.bind(e):function(){},this.onResetPressed=e.onResetPressed||function(){},this.backToPreviousLevel=e.backToPreviousLevel||function(){},this.skin=e.skin,this.polishCodeHook=e.polishCodeHook},ge.prototype.skipLevel=function(){this.report({app:this.config.app,level:this.config.level.id,result:!1,testResult:z.TestResults.SKIPPED,onComplete:function(){var e=(0,X.getStore)().getState().pageConstants.nextLevelUrl;if(!e)throw new Error("No next level url available to skip to");window.location.href=e}})},ge.prototype.configureDom=function(e){var t=document.getElementById(e.containerId),o=t.querySelector("#codeWorkspace"),n=t.querySelector("#runButton"),r=t.querySelector("#resetButton"),i=this.runButtonClick.bind(this),a=e.runButtonClickWrapper||Te,s=f.default.debounce(a.bind(null,i),250,{leading:!0,trailing:!1});n&&r&&(b.addClickTouchEvent(n,f.default.bind(s,this)),b.addClickTouchEvent(r,f.default.bind(this.resetButtonClick,this)));var l=t.querySelector("#skipButton");l&&b.addClickTouchEvent(l,this.skipLevel.bind(this));var c=document.getElementById("belowVisualization"),u=document.getElementById("reference_area");!e.noInstructionsWhenCollapsed&&u&&c.appendChild(u);var d=document.getElementById("visualizationColumn");if(!e.hideSource||e.embed||e.level.iframeEmbed){var p=this.MIN_WORKSPACE_HEIGHT;if(this.isUsingBlockly()&&e.level.edit_blocks&&((0,m.default)(o).addClass("edit"),p=3e3,e.level.edit_blocks===z.TOOLBOX_EDIT_MODE&&(this.blockYCoordinateInterval=80,e.blockArrangement={category:{x:20}}),e.level.disableIfElseEditing=!1,e.level.disableParamEditing=!1,e.level.disableVariableEditing=!1),e.level.iframeEmbed&&(document.body.className+=" embedded_iframe"),e.pinWorkspaceToBottom){var h=document.body;h.style.overflow="hidden",h.className=h.className+" pin_bottom",t.className=t.className+" pin_bottom"}else d.style.minHeight=p+"px",t.style.minHeight=p+"px"}e.readonlyWorkspace&&(0,m.default)(o).addClass("readonly");var g=document.querySelector("#page-small-footer .small-footer-base");g&&(e.noPadding&&(g.style.boxSizing="border-box"),(0,X.getStore)().getState().pageConstants.isResponsive&&(g.className+=" responsive"))},ge.prototype.handleHideSource_=function(e){var t=document.getElementById(e.containerId);this.hideSource=!0;var o=document.getElementById("codeWorkspace");if(e.embed&&!e.level.skipInstructionsPopup||(t.className="hide-source"),o.style.display="none",this.share&&(e.legacyShareStyle||e.wireframeShare)){document.body.style.backgroundColor="#202B34",e.level.iframeEmbed&&(document.body.style.backgroundColor="transparent"),(0,m.default)(".header-wrapper").hide();var n=document.getElementById("visualizationColumn");if(!b.isMobile()||!e.legacyShareStyle&&b.isIPad()){(0,m.default)(n).addClass("wireframeShare"),document.body.className+=" WireframeButtons_container";var r=document.createElement("div");r.className="WireframeButtons_containerLeft",document.body.insertBefore(r,document.body.firstChild),(r=document.getElementsByClassName("wrapper")[0])&&(r.className="wrapper withWireframeButtons"),(r=document.createElement("div")).className="WireframeButtons_containerRight",document.body.appendChild(r),e.level.iframeEmbed||g.default.render(h.default.createElement(D.default,{channelId:G.default.getCurrentId(),appType:G.default.getStandaloneApp(),isLegacyShare:!!e.isLegacyShare}),r)}else(0,m.default)(n).addClass("chromelessShare");if(!e.embed&&!e.noHowItWorks){var i=document.getElementById("gameButtons"),a=document.createElement("button");a.setAttribute("id","open-workspace"),a.appendChild(document.createTextNode(j.default.openWorkspace())),b.addClickTouchEvent(a,function(){/^\/c\//.test(location.pathname)?location.pathname+="/edit":location.pathname+="/view"}),i.appendChild(a)}}},ge.prototype.loadLibraryBlocks=function(t){!t.level.libraries&&t.level.startLibraries&&(t.level.libraries=JSON.parse(t.level.startLibraries)),t.level.libraries&&(t.level.projectLibraries=[],t.level.libraries.forEach(function(e){t.dropletConfig.additionalPredefValues.push(e.name),t.level.projectLibraries.push({name:e.name,code:(0,re.createLibraryClosure)(e)}),e.dropletConfig.forEach(function(e){t.dropletConfig.blocks.push(e),t.level.codeFunctions[e.func]=null})}))},ge.prototype.setDropletCursorToLine_=function(e){for(var t=this.editor.getCursor().getDocument().start,o=0;t&&o<e;)"newline"===(t=t.next).type&&o++;t&&this.editor.setCursor(t)},ge.prototype.currentlyUsingBlocks=function(){return this.editor&&this.editor.session&&this.editor.session.currentlyUsingBlocks},ge.prototype.handleEditCode_=function(t){var e=this;if(this.hideSource)t.afterInject&&t.afterInject();else{G.default.useMakerAPIs()||t.level.codeFunctions&&K.blocks.forEach(function(e){delete t.level.codeFunctions[e.func]});var o=E.generateDropletPalette(t.level.codeFunctions,t.dropletConfig),n=document.getElementById("codeTextbox"),r=document.createElement("div");r.setAttribute("id","dropletCodeTextbox"),n.appendChild(r),this.editor=new droplet.Editor(r,{mode:"javascript",modeOptions:E.generateDropletModeOptions(t),palette:o,showPaletteInTextMode:!0,showDropdownInPalette:t.showDropdownInPalette,allowFloatingBlocks:!1,dropIntoAceAtLineStart:t.dropIntoAceAtLineStart,enablePaletteAtStart:!t.readonlyWorkspace,textModeAtStart:"blocks"!==t.level.textModeAtStart&&(!1===t.level.textModeAtStart?t.usingTextModePref:!!t.level.textModeAtStart)}),this.setupChangeHandlers(),t.level.paletteCategoryAtStart&&this.editor.changePaletteGroup(t.level.paletteCategoryAtStart),this.editor.aceEditor.setShowPrintMargin(!1),_.defineForAce(t.dropletConfig,t.unusedConfig,this.editor,t.levelGameName);var i=this.editor.aceEditor;i.session.setMode("ace/mode/javascript_codeorg"),window.ace.require("ace/autocomplete").Autocomplete.prototype.commands["."]=function(e){e.insert("."),e.completer.updateCompletions(!0);for(var t=e.completer.completions&&e.completer.completions.filtered,o=0;o<(t&&t.length);o++)if(t[o].exactMatch)return;e.completer.detach()};var a=window.ace.require("ace/ext/language_tools");if(i.completers=[a.snippetCompleter,a.keyWordCompleter],a.setCompleters=function(){throw new Error("setCompleters disabled. set aceEditor.completers directly")},t.dropletConfig){var s=null;t.level.autocompletePaletteApisOnly&&(s=t.level.codeFunctions),i.completers.push(E.generateAceApiCompleter(s,t.dropletConfig))}this.editor.aceEditor.setOptions({enableBasicAutocompletion:!0,enableLiveAutocompletion:!0}),this.dropletTooltipManager=new B.default(this.appMsg,t.dropletConfig,t.level.codeFunctions,t.level.autocompletePaletteApisOnly,t.app),t.level.dropletTooltipsDisabled&&this.dropletTooltipManager.setTooltipsEnabled(!1),this.dropletTooltipManager.registerBlocks();var l=document.getElementById("hide-toolbox-icon"),c=document.getElementById("show-toolbox-header"),u=document.getElementById("show-toolbox-click-target");if(l&&c){l.style.display="inline-block";var d=function(){e.editor&&e.editor.session&&(e.editor.enablePalette(!e.editor.session.paletteEnabled),c.style.display=e.editor.session.paletteEnabled?"none":"inline-block",l.style.display=e.editor.session.paletteEnabled?"inline-block":"none",e.resizeToolboxHeader())};b.addClickTouchEvent(l,d),b.addClickTouchEvent(u,d)}this.resizeToolboxHeader();var p=t.level.lastAttempt||t.level.startBlocks;if(p){try{this.editor.setValue(p.replace(/\r\n/g,"\n")),this.editor.aceEditor.navigateFileStart()}catch(e){console.error(e.message)}this.editor.clearUndoStack();var h=window.ace.require("ace/undomanager").UndoManager;this.editor.aceEditor.getSession().setUndoManager(new h)}t.readonlyWorkspace&&(this.editor.setReadOnly(!0),c.style.display="none"),this.onDropletToggle(!this.instructionsDialog),this.dropletTooltipManager.registerDropletBlockModeHandlers(this.editor),this.editor.on("palettetoggledone",function(e){(0,m.default)(window).trigger("droplet_change",["togglepalette"])}),this.editor.on("selectpalette",function(e){(0,m.default)(window).trigger("droplet_change",["selectpalette"])}),(0,m.default)(".droplet-palette-scroller").on("scroll",function(e){(0,m.default)(window).trigger("droplet_change",["scrollpalette"])}),(0,m.default)(".droplet-main-scroller").on("scroll",function(e){(0,m.default)(window).trigger("droplet_change",["scrolleditor"])}),this.editor.aceEditor.getSession().on("changeScrollTop",function(){(0,m.default)(window).trigger("droplet_change",["scrollace"])}),m.default.expr[":"].textEquals=function(e,t,o){var n=o[3],r=(0,m.default)(e).text().trim().match("^"+n+"$");return r&&0<r.length},(0,m.default)(window).on("prepareforcallout",function(e,t){if(t.dropletPaletteCategory){this.editor.changePaletteGroup(t.dropletPaletteCategory);var o=(0,m.default)(".droplet-palette-scroller"),n=(0,m.default)(t.selector);0<n.length&&o.scrollTop(n.offset().top-o.offset().top+o.scrollTop())}else if(t.codeString){var r=this.editor.aceEditor.find(t.codeString,{caseSensitive:!0,range:null,preventScroll:!0});if(r){var i=r.start.row,a=i+1;this.currentlyUsingBlocks()?(t.selector='.droplet-gutter-line:textEquals("'+a+'")',this.setDropletCursorToLine_(i),this.editor.scrollCursorIntoPosition(),this.editor.redrawGutter()):(t.selector='.ace_gutter-cell:textEquals("'+a+'")',this.editor.aceEditor.scrollToLine(i),this.editor.aceEditor.renderer.updateFull(!0))}}}.bind(this)),(0,m.default)(document).on("keydown",function(e){if(e.keyCode===z.KeyCodes.BACKSPACE){var t=e.srcElement||e.target;("INPUT"===t.tagName.toUpperCase()&&("TEXT"===t.type.toUpperCase()||"PASSWORD"===t.type.toUpperCase()||"FILE"===t.type.toUpperCase()||"EMAIL"===t.type.toUpperCase()||"SEARCH"===t.type.toUpperCase()||"NUMBER"===t.type.toUpperCase()||"DATE"===t.type.toUpperCase())||"TEXTAREA"===t.tagName.toUpperCase()?t.readOnly||t.disabled:!t.isContentEditable)&&e.preventDefault()}}),this.instructionsDialog&&this.instructionsDialog.focus(),t.afterEditorReady&&t.afterEditorReady(),t.afterInject&&t.afterInject()}},ge.prototype.enableBreakpoints=function(){if(!this.editor)throw new Error("Droplet editor must be in use to enable breakpoints.");this.editor.on("guttermousedown",function(e){this.editor.getBreakpoints()[e.line]?this.editor.clearBreakpoint(e.line):this.editor.setBreakpoint(e.line)}.bind(this))},ge.prototype.setCheckForEmptyBlocks=function(e){this.checkForEmptyBlocks_=e},ge.prototype.setStartBlocks_=function(e,o){e.level.edit_blocks&&(o=!1);var t=e.level.startBlocks||"";o&&"Jigsaw"!==e.levelGameName&&(t=e.level.lastAttempt||t),e.forceInsertTopBlock&&(t=l.forceInsertTopBlock(t,e.forceInsertTopBlock)),e.level.sharedFunctions&&(t=l.appendNewFunctions(t,e.level.sharedFunctions)),t=this.arrangeBlockPosition(t,e.blockArrangement);try{this.loadBlocks(t)}catch(t){if(!o)throw t;try{Blockly.mainBlockSpace.clear(),this.setStartBlocks_(e,!1)}catch(e){throw t}}},ge.prototype.openFunctionDefinition_=function(e){Blockly.contractEditor?Blockly.contractEditor.autoOpenWithLevelConfiguration({autoOpenFunction:e.level.openFunctionDefinition,contractCollapse:e.level.contractCollapse,contractHighlight:e.level.contractHighlight,examplesCollapse:e.level.examplesCollapse,examplesHighlight:e.level.examplesHighlight,definitionCollapse:e.level.definitionCollapse,definitionHighlight:e.level.definitionHighlight}):Blockly.functionEditor.autoOpenFunction(e.level.openFunctionDefinition)},ge.prototype.handleUsingBlockly_=function(t){if(t.level.edit_blocks&&(this.checkForEmptyBlocks_=!1,"required_blocks"!==t.level.edit_blocks&&t.level.edit_blocks!==z.TOOLBOX_EDIT_MODE&&"recommended_blocks"!==t.level.edit_blocks||(t.forceInsertTopBlock=null)),t.level.toolbox){var e=t.level.toolbox.replace(/\s/g,"");"<xml></xml>"!==e&&"<xml/>"!==e||(t.level.toolbox=void 0)}var o=document.getElementById("codeWorkspace"),n={toolbox:t.level.toolbox,disableIfElseEditing:T.valueOr(t.level.disableIfElseEditing,!1),disableParamEditing:T.valueOr(t.level.disableParamEditing,!0),disableVariableEditing:T.valueOr(t.level.disableVariableEditing,!1),disableProcedureAutopopulate:T.valueOr(t.level.disableProcedureAutopopulate,!1),topLevelProcedureAutopopulate:T.valueOr(t.level.topLevelProcedureAutopopulate,!1),useModalFunctionEditor:t.level.edit_blocks!==z.TOOLBOX_EDIT_MODE&&!!t.level.useModalFunctionEditor,useContractEditor:T.valueOr(t.level.useContractEditor,!1),disableExamples:T.valueOr(t.level.disableExamples,!1),defaultNumExampleBlocks:T.valueOr(t.level.defaultNumExampleBlocks,2),scrollbars:t.level.scrollbars,hasVerticalScrollbars:t.hasVerticalScrollbars,hasHorizontalScrollbars:t.hasHorizontalScrollbars||ae.default.isEnabled("horizontalScroll"),editBlocks:T.valueOr(t.level.edit_blocks,!1),showUnusedBlocks:T.valueOr(t.showUnusedBlocks,!0),readOnly:T.valueOr(t.readonlyWorkspace,!1),showExampleTestButtons:T.valueOr(t.showExampleTestButtons,!1),valueTypeTabShapeMap:T.valueOr(t.valueTypeTabShapeMap,{}),typeHints:T.valueOr(t.level.showTypeHints,!1)};n.editBlocks&&(n.showUnusedBlocks=!1,n.disableProcedureAutopopulate=n.editBlocks===z.TOOLBOX_EDIT_MODE),["trashcan","varsInGlobals","grayOutUndeletableBlocks","disableParamEditing"].forEach(function(e){void 0!==t[e]&&(n[e]=t[e])}),this.inject(o,n),this.onResize(),this.setupChangeHandlers(),t.afterInject&&t.afterInject(),this.setStartBlocks_(t,!0),W.default.isMobile()&&W.default.isSafari()&&window.setTimeout(function(){return Blockly.fireUiEvent(window,"resize")},500)},ge.prototype.onDropletToggle=function(e){e=T.valueOr(e,!0),this.currentlyUsingBlocks()||(e&&this.editor.aceEditor.focus(),this.dropletTooltipManager.registerDropletTextModeHandlers(this.editor))},ge.prototype.hasExtraTopBlocks=function(){return this.feedback_.hasExtraTopBlocks()},ge.prototype.hasUnwantedExtraTopBlocks=function(){return this.hasExtraTopBlocks()&&!Blockly.showUnusedBlocks},ge.prototype.hasQuestionMarksInNumberField=function(){return this.feedback_.hasQuestionMarksInNumberField()},ge.prototype.hasUnfilledFunctionalBlock=function(){return!!this.getUnfilledFunctionalBlock()},ge.prototype.getUnfilledFunctionalBlock=function(){return this.getFilteredUnfilledFunctionalBlock_(function(e){return"functional_example"!==e.type})},ge.prototype.getUnfilledFunctionalExample=function(){return this.getFilteredUnfilledFunctionalBlock_(function(e){if("functional_example"!==e.type)return!1;var t=e.getInputTargetBlock("ACTUAL");return t&&t.getTitleValue("NAME")})},ge.prototype.getFilteredUnfilledFunctionalBlock_=function(o){var n;return Blockly.mainBlockSpace.getAllUsedBlocks().some(function(e){var t=e.getRootBlock();return!!o(t)&&(e.hasUnfilledFunctionalInput()?(n=e,!0):void 0)}),n},ge.prototype.getFunctionWithoutTwoExamples=function(){var e,t=Blockly.mainBlockSpace.getTopBlocks().filter(function(e){return"functional_definition"===e.type&&!e.isVariable()}).map(function(e){return e.getProcedureInfo().name}),o=Blockly.mainBlockSpace.getTopBlocks().filter(function(e){if("functional_example"!==e.type)return!1;var t=e.getInputTargetBlock("ACTUAL");return t&&t.getTitleValue("NAME")}).map(function(e){return e.getInputTargetBlock("ACTUAL").getTitleValue("NAME")});return t.forEach(function(t){o.filter(function(e){return t===e}).length<2&&(e=t)}),e},ge.prototype.getUnfilledFunctionalBlockError=function(e){var t=this.getUnfilledFunctionalBlock();if(!t)return null;for(var o=t;o.getParent();)o=o.getParent();if(t.type===e)return j.default.emptyTopLevelBlock({topLevelBlockName:t.getTitleValue()});if("functional_definition"!==o.type)return j.default.emptyFunctionalBlock();var n=o.getProcedureInfo();return o.isVariable()?j.default.emptyBlockInVariable({name:n.name}):j.default.emptyBlockInFunction({name:n.name})},ge.prototype.checkForFailingExamples=function(o){var n="";return Blockly.mainBlockSpace.findFunctionExamples().forEach(function(e){var t=o(e,!1);Blockly.contractEditor.updateExampleResult(e,t),t&&(n=e.getInputTargetBlock("ACTUAL").getTitleValue("NAME"))}),n},ge.prototype.hasEmptyFunctionOrVariableName=function(){return Blockly.mainBlockSpace.getTopBlocks().some(function(e){return"functional_definition"===e.type&&!e.getProcedureInfo().name})},ge.prototype.createCoordinateGridBackground=function(e){for(var t,o,n,r=e.svg,i=e.origin,a=e.firstLabel,s=e.lastLabel,l=e.increment,c=document.getElementById(r),u=a;u<=s;u+=l)(o=document.createElementNS("http://www.w3.org/2000/svg","text")).appendChild(document.createTextNode(u)),c.appendChild(o),t=o.getBBox(),o.setAttribute("x",u-i-t.width/2),o.setAttribute("y",400),o.setAttribute("font-weight","bold"),(n=Se(o)).setAttribute("fill",U.default.white),c.insertBefore(n,o),(o=document.createElementNS("http://www.w3.org/2000/svg","text")).appendChild(document.createTextNode(u)),c.appendChild(o),t=o.getBBox(),o.setAttribute("x",0),o.setAttribute("y",400-(u-i)),o.setAttribute("dominant-baseline","central"),o.setAttribute("font-weight","bold"),(n=Se(o)).setAttribute("fill",U.default.white),c.insertBefore(n,o)},ge.prototype.displayWorkspaceAlert=function(e,t){var o,n=this.displayAlert("#codeWorkspace",{type:e},t);o=this.usingBlockly_?(0,m.default)(".blocklyToolboxDiv").width():(0,m.default)(".droplet-palette-element").width()+(0,m.default)(".droplet-gutter").width(),(0,m.default)(n).css({left:o,top:(0,m.default)("#headers").height()})},ge.prototype.displayPlayspaceAlert=function(e,t){ge.prototype.displayAlert("#visualization",{type:e,sideMargin:20},t)},ge.prototype.displayPlayspaceNotification=function(e){ge.prototype.displayAlert("#visualization",{type:"notification",closeDelayMillis:5e3,childPadding:"8px 14px"},e)},ge.prototype.displayAlert=function(e,t,o){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:"absolute",r=(0,m.default)(e),i=r.children(".react-alert");0===i.length&&(i=(0,m.default)("<div class='react-alert ignore-transform'/>").css({position:n,left:0,right:0,top:0,zIndex:1e3,transform:"scale(1.0)"}),r.append(i));var a=i[0];return g.default.render(h.default.createElement(k.default,{onClose:function(){g.default.unmountComponentAtNode(a)},type:t.type,sideMargin:t.sideMargin,closeDelayMillis:t.closeDelayMillis,childPadding:t.childPadding},o),a),a},ge.prototype.alertIfAbusiveProject=function(){G.default.exceedsAbuseThreshold()&&this.displayWorkspaceAlert("error",h.default.createElement(S.default,{i18n:{tos:j.default.tosLong({url:"http://code.org/tos"}),contact_us:j.default.contactUs({url:"https://code.org/contact"})}}))},ge.prototype.alertIfProfaneOrPrivacyViolatingProject=function(){G.default.hasPrivacyProfanityViolation()&&this.displayWorkspaceAlert("error",h.default.createElement(S.default,{i18n:{tos:j.default.policyViolation(),contact_us:j.default.contactUs({url:"https://code.org/contact"})}}))},ge.prototype.hasDuplicateVariablesInForLoops=function(){return!this.editCode&&Blockly.mainBlockSpace.getAllUsedBlocks().some(this.forLoopHasDuplicatedNestedVariables_)},ge.prototype.forLoopHasDuplicatedNestedVariables_=function(e){if(e&&("controls_for"===e.type||"controls_for_counter"===e.type)){var o=e.getInput("DO").connection.targetBlock();return o&&Blockly.Variables.allVariablesFromBlock(e).some(function(t){return o.getDescendants().some(function(e){return("controls_for"===e.type||"controls_for_counter"===e.type)&&-1!==Blockly.Variables.allVariablesFromBlock(e).indexOf(t)})})}},ge.prototype.polishGeneratedCodeString=function(e){return this.polishCodeHook?this.polishCodeHook(e):e},ge.prototype.isResponsiveFromConfig=function(e){var t=!e.hideSource;return e.embed||t},ge.prototype.isNotStartedLevel=function(e){var t=(0,X.getStore)().getState().progress;return!e.hasContainedLevels&&!e.level.isProjectLevel&&(["Gamelab","Applab","Weblab","Spritelab","Dance"].includes(e.levelGameName)?e.readonlyWorkspace&&!e.channel:e.readonlyWorkspace&&void 0===t.levelProgress[t.currentLevelId])},ge.prototype.setPageConstants=function(e,t){var o=e.level,n=f.default.assign({ttsShortInstructionsUrl:o.ttsShortInstructionsUrl,ttsLongInstructionsUrl:o.ttsLongInstructionsUrl,skinId:e.skinId,showNextHint:this.showNextHint.bind(this),locale:e.locale,assetUrl:this.assetUrl,isReadOnlyWorkspace:!!e.readonlyWorkspace,isDroplet:!!o.editCode,isBlockly:this.isUsingBlockly(),hideSource:!!e.hideSource,isChallengeLevel:!!e.isChallengeLevel,isEmbedView:!!e.embed,isResponsive:this.isResponsiveFromConfig(e),isNotStartedLevel:this.isNotStartedLevel(e),isShareView:!!e.share,pinWorkspaceToBottom:!!e.pinWorkspaceToBottom,noInstructionsWhenCollapsed:!!e.noInstructionsWhenCollapsed,hasContainedLevels:e.hasContainedLevels,puzzleNumber:o.puzzle_number,stageTotal:o.stage_total,noVisualization:!1,visualizationInWorkspace:!1,smallStaticAvatar:e.skin.smallStaticAvatar,failureAvatar:e.skin.failureAvatar,aniGifURL:e.level.aniGifURL,inputOutputTable:e.level.inputOutputTable,is13Plus:e.is13Plus,isSignedIn:e.isSignedIn,userId:e.userId,verifiedTeacher:e.verifiedTeacher,textToSpeechEnabled:e.textToSpeechEnabled,isK1:e.level.isK1,appType:e.app,nextLevelUrl:e.nextLevelUrl,showProjectTemplateWorkspaceIcon:!!e.level.projectTemplateLevelName&&!e.level.isK1&&!e.readonlyWorkspace,serverLevelId:e.serverLevelId,serverScriptLevelId:e.serverScriptLevelId},t);(0,X.getStore)().dispatch((0,te.setPageConstants)(n));var r=(0,se.determineInstructionsConstants)(e);(0,X.getStore)().dispatch((0,se.setInstructionsConstants)(r))},ge.prototype.showRateLimitAlert=function(){if(this.hasSeenRateLimitAlert_)return!1;this.hasSeenRateLimitAlert_=!0;var e=h.default.createElement("div",null,j.default.dataLimitAlert());this.share?this.displayPlayspaceAlert("error",e):this.displayWorkspaceAlert("error",e),H.default.addPageAction(H.default.PageAction.FirebaseRateLimitExceeded,{isEditing:G.default.isEditing(),isOwner:G.default.isOwner(),share:!!this.share})},ge.prototype.loadLibraries=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];return this.libraryPreload_||(this.libraryPreload_=Promise.all(e.map(this.loadLibrary_.bind(this)))),this.libraryPreload_},ge.prototype.loadLibrary_=function(t){var o;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.libraries[t])return e.abrupt("return");e.next=2;break;case 2:return e.next=4,regeneratorRuntime.awrap(fetch("/libraries/"+t));case 4:return o=e.sent,e.next=7,regeneratorRuntime.awrap(o.text());case 7:this.libraries[t]=e.sent;case 8:case"end":return e.stop()}},null,this)}},215:function(e,t,o){var n=o(11);e.exports.P5LabInterfaceMode=n.makeEnum("CODE","ANIMATION"),e.exports.APP_WIDTH=400,e.exports.APP_HEIGHT=400,e.exports.EMPTY_IMAGE="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==",e.exports.PlayBehavior=n.makeEnum("ALWAYS_PLAY","NEVER_PLAY")},219:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.pegasus=function(e){if(window.dashboard&&window.dashboard.CODE_ORG_URL)return window.dashboard.CODE_ORG_URL+e;return e},t.studio=function(e){if(window.pegasus&&window.pegasus.STUDIO_URL)return window.pegasus.STUDIO_URL+e;return e},t.RELEASE_OR_DELETE_RECORDS_EXPLANATION=t.ADD_A_PERSONAL_LOGIN_HELP_URL=t.metaTagDescription=void 0;var i=n(o(10));function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var o=[],n=!0,r=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(o.push(a.value),!t||o.length!==t);n=!0);}catch(e){r=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(r)throw i}}return o}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var r=n(o(15)).default.memoize(function(r){return fetch(r).then(function(e){return Promise.all([e.status,e.text()])}).then(function(e){var t=a(e,2),o=t[0],n=t[1];return o<200||300<=o?r:(0,i.default)(n).filter("meta[name='description']").attr("content")||r}).catch(function(e){return r})});t.metaTagDescription=r;t.ADD_A_PERSONAL_LOGIN_HELP_URL="https://support.code.org/hc/en-us/articles/115001475131-Adding-a-personal-login-to-a-teacher-created-account";t.RELEASE_OR_DELETE_RECORDS_EXPLANATION="https://support.code.org/hc/en-us/articles/360015983631"},23:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,r,b=l(o(15)),E=l(o(1)),i=l(o(0)),a=l(o(14)),s=l(o(6)),T=l(o(18));function l(e){return e&&e.__esModule?e:{default:e}}function S(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{},n=Object.keys(Object(o));"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(o).filter(function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable}))),n.forEach(function(e){c(t,e,o[e])})}return t}function c(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var k={orange:"orange",gray:"gray",blue:"blue",white:"white",red:"red",green:"green"},C={default:"default",large:"large",narrow:"narrow"},A={main:{display:"inline-block",fontSize:12,fontFamily:'"Gotham 4r", sans-serif',borderWidth:"1px",borderStyle:"solid",borderColor:s.default.border_gray,borderBottomLeftRadius:3,borderBottomRightRadius:3,borderTopLeftRadius:3,borderTopRightRadius:3,textDecoration:"none",":hover":{backgroundColor:s.default.white,cursor:"pointer"},boxSizing:"border-box",overflow:"hidden",whiteSpace:"nowrap"},updated:{lineHeight:"12px"},icon:{marginRight:5},colors:(n={},c(n,k.orange,{color:"white",backgroundColor:s.default.orange,fontWeight:"bold",boxShadow:"inset 0 2px 0 0 rgba(255,255,255,0.63)",":hover":{color:s.default.orange,borderColor:s.default.orange},":disabled":{backgroundColor:"#FFD27F",boxShadow:"inset 0 2px 0 0 rgba(0,0,0,0.1)"}}),c(n,k.gray,{color:s.default.charcoal,backgroundColor:s.default.lightest_gray,boxShadow:"inset 0 2px 0 0 rgba(255,255,255,0.73)",":disabled":{backgroundColor:s.default.lighter_gray,boxShadow:"inset 0 2px 0 0 rgba(0,0,0,0.1)"}}),c(n,k.blue,{color:s.default.white,backgroundColor:s.default.cyan,fontWeight:"bold",boxShadow:"inset 0 2px 0 0 rgba(255,255,255,0.40)",":hover":{boxShadow:"none",color:s.default.cyan,borderColor:s.default.cyan,backgroundColor:s.default.lightest_cyan},":disabled":{color:s.default.lighter_cyan,backgroundColor:s.default.lightest_cyan,boxShadow:"inset 0 2px 0 0 rgba(0,0,0,0.1)"}}),c(n,k.white,{color:s.default.charcoal,backgroundColor:s.default.white,boxShadow:"inset 0 2px 0 0 rgba(0,0,0,0.06)",":hover":{boxShadow:"none",backgroundColor:s.default.lightest_gray},":disabled":{backgroundColor:s.default.lightest_gray,boxShadow:"inset 0 2px 0 0 rgba(0,0,0,0.1)"}}),c(n,k.red,{color:s.default.white,backgroundColor:s.default.red,fontWeight:"bold",boxShadow:"inset 0 2px 0 0 rgba(255,255,255,0.40)",":hover":{boxShadow:"none",color:s.default.red,borderColor:s.default.red},":disabled":{backgroundColor:s.default.lightest_red,boxShadow:"inset 0 2px 0 0 rgba(0,0,0,0.1)"}}),c(n,k.green,{color:s.default.white,backgroundColor:s.default.level_perfect,fontWeight:"bold",boxShadow:"inset 0 2px 0 0 rgba(255,255,255,0.40)",":hover":{boxShadow:"none",color:s.default.charcoal,borderColor:s.default.lightest_gray,backgroundColor:s.default.lightest_gray},":disabled":{backgroundColor:s.default.lightest_gray,boxShadow:"inset 0 2px 0 0 rgba(0,0,0,0.1)"}}),n),sizes:(r={},c(r,C.default,{height:34,paddingLeft:24,paddingRight:24,lineHeight:"34px"}),c(r,C.large,{height:40,paddingLeft:30,paddingRight:30,lineHeight:"40px"}),c(r,C.narrow,{height:40,paddingLeft:10,paddingRight:10,lineHeight:"40px"}),r)},u=function(n){function e(){for(var i,e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];return c(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(i=n.call.apply(n,[this].concat(t))||this),"onKeyDown",function(e){var t=i.props,o=t.href,n=t.disabled,r=t.onClick;"Enter"!==e.key||n||o||(e.preventDefault(),e.stopPropagation(),r())}),i}return function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(e,n),e.prototype.render=function(){var e=this.props,t=e.className,o=e.href,n=e.text,r=e.icon,i=e.iconClassName,a=e.iconStyle,s=e.target,l=e.style,c=e.onClick,u=e.disabled,d=e.id,p=e.tabIndex,h=e.isPending,g=e.pendingText,f=e.__useDeprecatedTag,m=this.props.color||k.orange,y=this.props.size||C.default;if(!o&&!c)throw new Error("Expect at least one of href/onClick");var _="button";f&&(_=o?"a":"div");var v=f?A.sizes[y]:S({},A.sizes[y],A.updated);return E.default.createElement(_,{className:t,style:[A.main,A.colors[m],v,l],href:u?"javascript:void(0);":o,target:s,disabled:u,onClick:u?null:c,onKeyDown:this.onKeyDown,tabIndex:p,id:d},E.default.createElement("div",{style:b.default.pick(l,["textAlign"])},r&&E.default.createElement(T.default,{icon:r,className:i,style:S({},A.icon,a)}),h&&g&&E.default.createElement("span",null,g," ",E.default.createElement(T.default,{icon:"spinner",className:"fa-spin"})),!h&&n))},e}(E.default.Component);c(u,"propTypes",{className:i.default.string,href:i.default.string,text:i.default.string.isRequired,size:i.default.oneOf(Object.keys(C)),color:i.default.oneOf(Object.keys(k)),icon:i.default.string,iconClassName:i.default.string,iconStyle:i.default.object,target:i.default.string,style:i.default.object,disabled:i.default.bool,onClick:i.default.func,id:i.default.string,tabIndex:i.default.oneOfType([i.default.number,i.default.string]),isPending:i.default.bool,pendingText:i.default.string,__useDeprecatedTag:i.default.bool}),u.ButtonColor=k,u.ButtonSize=C;var d=(0,a.default)(u);t.default=d,e.exports=t.default},232:function(e,t,o){"use strict";e.exports=function(e,t,o){var n=t&&t.type,r=s.call(e.handlers,n)?e.handlers[n]:null;if(n)return("function"==typeof r?r:function(e,t){return function(e){var t=e.data||{};return!(s.call(t,"hName")||s.call(t,"hProperties")||s.call(t,"hChildren"))&&"value"in e}(t)?e.augment(t,i("text",t.value)):e(t,"div",a(e,t))})(e,t,o);throw new Error("Expected node, got `"+t+"`")};var i=o(26),a=o(21),s={}.hasOwnProperty},2324:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,r=(n=o(0))&&n.__esModule?n:{default:n};var i={courses:r.default.arrayOf(r.default.shape({title:r.default.string.isRequired,description:r.default.string.isRequired,link:r.default.string.isRequired})),topCourse:r.default.shape({assignableName:r.default.string.isRequired,linkToOverview:r.default.string.isRequired,linkToLesson:r.default.string.isRequired,lessonName:r.default.string.isRequired}),sections:r.default.arrayOf(r.default.shape({name:r.default.string.isRequired,teacherName:r.default.string.isRequired,linkToProgress:r.default.string.isRequired,assignedTitle:r.default.string.isRequired,linkToAssigned:r.default.string.isRequired,numberOfStudents:r.default.number.isRequired,linkToStudents:r.default.string.isRequired,login_type:r.default.string,code:r.default.string.isRequired})),teacherAnnouncement:r.default.shape({heading:r.default.string.isRequired,buttonText:r.default.string.isRequired,description:r.default.string.isRequired,link:r.default.string.isRequired,image:r.default.string.isRequired,type:r.default.string,id:r.default.string.isRequired}),specialAnnouncement:r.default.shape({image:r.default.string.isRequired,title:r.default.string.isRequired,body:r.default.string.isRequired,buttonId:r.default.string,buttonUrl:r.default.string.isRequired,buttonText:r.default.string.isRequired,buttonId2:r.default.string,buttonUrl2:r.default.string,buttonText2:r.default.string,backgroundColor:r.default.string})};t.default=i,e.exports=t.default},233:function(e,t,o){"use strict";e.exports=function(e,t){return e(t,"hr")}},234:function(e,t,o){"use strict";e.exports=function(e,t){var o={},n=t.ordered?"ol":"ul";"number"==typeof t.start&&1!==t.start&&(o.start=t.start);return e(t,n,o,r(i(e,t),!0))};var r=o(72),i=o(21)},2341:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SuccessDialog=t.InstructionsDialog=t.StartOverDialog=t.ErrorDialog=t.MatchErrorDialog=t.ContractMatchErrorDialog=t.TooFewDialog=t.MatchAngiGifDialog=t.UnsubmitDialog=t.SingleLevelGroupDialog=void 0;var n=l(o(0)),r=l(o(1)),i=l(o(4)),a=l(o(168)),s=l(o(93));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e){var t=e.id,o=e.title,n=e.body;return r.default.createElement(a.default,{id:t},r.default.createElement("div",{className:"modal-content no-modal-icon"},r.default.createElement("p",{className:"dialog-title"},o),r.default.createElement("p",{className:"dialog-body"},n),r.default.createElement("button",{type:"button",id:"cancel-button",style:{float:"left"}},i.default.cancel()),r.default.createElement("button",{type:"button",id:"ok-button",style:{float:"right"}},i.default.okay())))};(t.SingleLevelGroupDialog=c).propTypes={id:n.default.string.isRequired,title:n.default.string.isRequired,body:n.default.string.isRequired};var u=r.default.createElement(c,{id:"unsubmit-dialogcontent",title:i.default.unsubmitAssessment(),body:i.default.submittableUnsubmit()});t.UnsubmitDialog=u;t.MatchAngiGifDialog=function(){return r.default.createElement(a.default,null,r.default.createElement("div",{className:"modal-content no-modal-icon scrollable-element"},r.default.createElement("p",{className:"dialog-title"},i.default.instructions()),r.default.createElement("p",null,i.default.dragBlocksToMatch()),r.default.createElement("div",{className:"aniGif example-image",style:{overflow:"hidden"}},r.default.createElement("img",{src:"/script_assets/images/matching_ani.gif"})),r.default.createElement("div",{className:"farSide"},r.default.createElement("button",{type:"button",id:"ok-button"},i.default.ok()))))};t.TooFewDialog=function(){return r.default.createElement(a.default,null,r.default.createElement("div",{className:"modal-content no-modal-icon scrollable-element"},r.default.createElement("p",{className:"dialog-title"},i.default.tooFewTitle()),r.default.createElement("p",null,i.default.tooFewBody()),r.default.createElement("div",{className:"farSide"},r.default.createElement("button",{type:"button",id:"ok-button"},i.default.ok()))))};var d=function(e){var t=e.text;return r.default.createElement(a.default,null,r.default.createElement("div",{className:"modal-content no-modal-icon"},r.default.createElement("p",{className:"dialog-title"},i.default.incorrectAnswer()),r.default.createElement("p",null,t),r.default.createElement("div",{className:"farSide"},r.default.createElement("button",{type:"button",id:"ok-button"},i.default.ok()))))};(t.ContractMatchErrorDialog=d).propTypes={text:n.default.string};t.MatchErrorDialog=function(){return r.default.createElement(a.default,null,r.default.createElement("div",{className:"modal-content no-modal-icon scrollable-element"},r.default.createElement("p",{className:"dialog-title"},i.default.incorrectSolution()),r.default.createElement("p",null,i.default.incorrectSolutionBody()),r.default.createElement("div",{className:"farSide"},r.default.createElement("button",{type:"button",id:"ok-button"},i.default.ok()))))};t.ErrorDialog=function(){return r.default.createElement(a.default,null,r.default.createElement("div",{className:"modal-content no-modal-icon scrollable-element"},r.default.createElement("p",{className:"dialog-title"},i.default.incorrectAnswer()),r.default.createElement("p",null,i.default.incorrectAnswerBody()),r.default.createElement("div",{className:"farSide"},r.default.createElement("button",{type:"button",id:"ok-button"},i.default.ok()))))};t.StartOverDialog=function(){return r.default.createElement(a.default,null,r.default.createElement("div",{className:"modal-content no-modal-icon scrollable-element"},r.default.createElement("p",{className:"dialog-title"},i.default.startOverTitle()),r.default.createElement("p",null,i.default.startOverBody()),r.default.createElement("div",{id:"buttons"},r.default.createElement("button",{type:"button",id:"cancel-button"},i.default.cancel()),r.default.createElement("button",{type:"button",id:"ok-button",className:"btn-danger",style:{float:"right"}},i.default.startOver()))))};var p=function(e){var t=e.title,o=e.markdown;return r.default.createElement(a.default,null,r.default.createElement("div",{className:"modal-content no-modal-icon markdown-instructions-container"},r.default.createElement("p",{className:"dialog-title"},t),r.default.createElement("p",null),r.default.createElement("div",{className:"instructions-markdown scrollable-element"},r.default.createElement(s.default,{markdown:o})),r.default.createElement("div",{id:"buttons"},r.default.createElement("button",{type:"button",id:"ok-button",style:{float:"right"}},i.default.ok()))))};(t.InstructionsDialog=p).propTypes={title:n.default.string.isRequired,markdown:n.default.string.isRequired};var h=function(e){var t=e.title,o=e.body;return r.default.createElement(a.default,null,r.default.createElement("div",{className:"modal-content no-modal-icon scrollable-element"},r.default.createElement("p",{className:"dialog-title"},t),r.default.createElement("p",null,o),r.default.createElement("div",{className:"farSide"},r.default.createElement("button",{type:"button",id:"ok-button"},i.default.ok()))))};(t.SuccessDialog=h).propTypes={title:n.default.string.isRequired,body:n.default.string.isRequired}},2342:function(e,t,o){"use strict";function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=d(o(0)),r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var t=u();if(t&&t.has(e))return t.get(e);var o={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(o,r,i):o[r]=e[r]}o.default=e,t&&t.set(e,o);return o}(o(1)),i=d(o(1037)),s=d(o(15)),l=d(o(4)),c=d(o(80));function u(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return u=function(){return e},e}function d(e){return e&&e.__esModule?e:{default:e}}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var g=(0,i.default)(function(){return o.e(5).then(o.t.bind(null,2453,7))}),f=function(n){function e(){for(var r,e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];return h(p(r=n.call.apply(n,[this].concat(t))||this),"state",{knownValue:null,knownLabel:null}),h(p(r),"constructSchoolOption",function(e){return{value:e.nces_id.toString(),label:"".concat(e.name," - ").concat(e.city,", ").concat(e.state," ").concat(e.zip),school:e}}),h(p(r),"constructSchoolNotFoundOption",function(){return{value:"-1",label:l.default.schoolNotFound()}}),h(p(r),"debouncedSearch",s.default.debounce(function(e,t){var o="/dashboardapi/v1/schoolsearch/".concat(encodeURIComponent(e),"/40")+(c.default.isEnabled(c.default.SCHOOL_AUTOCOMPLETE_DROPDOWN_NEW_SEARCH)?"/useNewSearch":"");fetch(o,{headers:{"X-Requested-With":"XMLHttpRequest"}}).then(function(e){return e.ok?e.json():[]}).then(function(e){var t=e.filter(r.props.schoolFilter).map(function(e){return r.constructSchoolOption(e)});return t.unshift(r.constructSchoolNotFoundOption()),{options:t}}).then(function(e){return t(null,e)}).catch(function(e){return t(e,null)})},200)),h(p(r),"getOptions",function(e){if(0===e.length&&r.props.value){if("-1"===r.props.value)return Promise.resolve({options:[r.constructSchoolNotFoundOption()]});var t="/dashboardapi/v1/schools/".concat(r.props.value);return fetch(t).then(function(e){return e.ok?e.json():[]}).then(function(e){return{options:[r.constructSchoolOption(e)]}})}return e.length<4?Promise.resolve():new Promise(function(o,n){r.debouncedSearch(e,function(e,t){e?n(e):o(t)})})}),h(p(r),"onChange",function(e){e&&r.setState({knownValue:e.value,knownLabel:e.label}),r.props.onChange(e)}),r}return function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(e,n),e.prototype.render=function(){var e;return e=this.props.schoolDropdownOption?this.props.schoolDropdownOption:this.props.value===this.state.knownValue?{value:this.props.value,label:this.state.knownLabel}:this.props.value,r.default.createElement(g,{id:"nces_school",name:this.props.fieldName,async:!0,loadOptions:this.getOptions,cache:!1,filterOption:function(){return!0},value:e,onChange:this.onChange,placeholder:l.default.searchForSchool(),searchPromptText:l.default.searchForSchoolPrompt()})},e}(r.Component);h(t.default=f,"propTypes",{onChange:n.default.func.isRequired,value:n.default.string,fieldName:n.default.string,schoolDropdownOption:n.default.object,schoolFilter:n.default.func}),h(f,"defaultProps",{fieldName:"nces_school_s",schoolFilter:function(){return!0}}),e.exports=t.default},235:function(e,t,o){"use strict";e.exports=function(e,t){var o=t.identifier;return e(t.position,"sup",{id:"fnref-"+o},[e(t,"a",{href:"#fn-"+o,className:["footnote-ref"]},[n("text",o)])])};var n=o(26)},236:function(e,t,o){"use strict";e.exports=function(e,t){var o,n,r,i=t.referenceType,a="]";"collapsed"===i?a+="[]":"full"===i&&(a+="["+(t.label||t.identifier)+"]");if("imageReference"===t.type)return s("text","!["+t.alt+a);o=l(e,t),(n=o[0])&&"text"===n.type?n.value="["+n.value:o.unshift(s("text","["));(r=o[o.length-1])&&"text"===r.type?r.value+=a:o.push(s("text",a));return o};var s=o(26),l=o(21)},237:function(e,t,o){"use strict";var n=o(42),i=o(107),r=o(238),a=function(o){function e(e){var t;return(t=o.call(this,e)||this).tokenizer=e,t.posTracker=n.install(e.preprocessor,r),t.currentAttrLocation=null,t.ctLoc=null,t}!function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(e,o);var t=e.prototype;return t._getCurrentLocation=function(){return{startLine:this.posTracker.line,startCol:this.posTracker.col,startOffset:this.posTracker.offset,endLine:-1,endCol:-1,endOffset:-1}},t._attachCurrentAttrLocationInfo=function(){this.currentAttrLocation.endLine=this.posTracker.line,this.currentAttrLocation.endCol=this.posTracker.col,this.currentAttrLocation.endOffset=this.posTracker.offset;var e=this.tokenizer.currentToken,t=this.tokenizer.currentAttr;e.location.attrs||(e.location.attrs=Object.create(null)),e.location.attrs[t.name]=this.currentAttrLocation},t._getOverriddenMethods=function(o,n){var r={_createStartTagToken:function(){n._createStartTagToken.call(this),this.currentToken.location=o.ctLoc},_createEndTagToken:function(){n._createEndTagToken.call(this),this.currentToken.location=o.ctLoc},_createCommentToken:function(){n._createCommentToken.call(this),this.currentToken.location=o.ctLoc},_createDoctypeToken:function(e){n._createDoctypeToken.call(this,e),this.currentToken.location=o.ctLoc},_createCharacterToken:function(e,t){n._createCharacterToken.call(this,e,t),this.currentCharacterToken.location=o.ctLoc},_createEOFToken:function(){n._createEOFToken.call(this),this.currentToken.location=o._getCurrentLocation()},_createAttr:function(e){n._createAttr.call(this,e),o.currentAttrLocation=o._getCurrentLocation()},_leaveAttrName:function(e){n._leaveAttrName.call(this,e),o._attachCurrentAttrLocationInfo()},_leaveAttrValue:function(e){n._leaveAttrValue.call(this,e),o._attachCurrentAttrLocationInfo()},_emitCurrentToken:function(){var e=this.currentToken.location;this.currentCharacterToken&&(this.currentCharacterToken.location.endLine=e.startLine,this.currentCharacterToken.location.endCol=e.startCol,this.currentCharacterToken.location.endOffset=e.startOffset),this.currentToken.type===i.EOF_TOKEN?(e.endLine=e.startLine,e.endCol=e.startCol,e.endOffset=e.startOffset):(e.endLine=o.posTracker.line,e.endCol=o.posTracker.col+1,e.endOffset=o.posTracker.offset+1),n._emitCurrentToken.call(this)},_emitCurrentCharacterToken:function(){var e=this.currentCharacterToken&&this.currentCharacterToken.location;e&&-1===e.endOffset&&(e.endLine=o.posTracker.line,e.endCol=o.posTracker.col,e.endOffset=o.posTracker.offset),n._emitCurrentCharacterToken.call(this)}};return Object.keys(i.MODE).forEach(function(e){var t=i.MODE[e];r[t]=function(e){o.ctLoc=o._getCurrentLocation(),n[t].call(this,e)}}),r},e}(n);e.exports=a},238:function(e,t,o){"use strict";var n=function(o){function e(e){var t;return(t=o.call(this,e)||this).preprocessor=e,t.isEol=!1,t.lineStartPos=0,t.droppedBufferSize=0,t.offset=0,t.col=0,t.line=1,t}return function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(e,o),e.prototype._getOverriddenMethods=function(o,n){return{advance:function(){var e=this.pos+1,t=this.html[e];return o.isEol&&(o.isEol=!1,o.line++,o.lineStartPos=e),("\n"===t||"\r"===t&&"\n"!==this.html[e+1])&&(o.isEol=!0),o.col=e-o.lineStartPos+1,o.offset=o.droppedBufferSize+e,n.advance.call(this)},retreat:function(){n.retreat.call(this),o.isEol=!1,o.col=this.pos-o.lineStartPos+1},dropParsedChunk:function(){var e=this.pos;n.dropParsedChunk.call(this);var t=e-this.pos;o.lineStartPos-=t,o.droppedBufferSize+=t,o.offset=o.droppedBufferSize+this.pos}}},e}(o(42));e.exports=n},239:function(e,t,o){"use strict";var s=o(41),l=o(240);e.exports=function(e){var t,o,n=e.length,r=[],i=[],a=-1;for(;++a<n;)t=e[a],r.push(t.property),i.push(t.normal),o=t.space;return new l(s.apply(null,r),s.apply(null,i),o)}},240:function(e,t,o){"use strict";var n=(e.exports=r).prototype;function r(e,t,o){this.property=e,this.normal=t,o&&(this.space=o)}n.space=null,n.normal={},n.property={}},2407:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.styles=void 0;var n,r=(n=o(6))&&n.__esModule?n:{default:n};var i={formHeading:{marginTop:20},checkboxLine:{marginTop:20,marginLeft:38},clickable:{cursor:"pointer"},question:{fontSize:16,fontFamily:'"Gotham 3r", sans-serif',color:r.default.charcoal,paddingTop:10,paddingBottom:5},pledgeBox:{marginBottom:20,marginTop:20},pledge:{fontSize:18,fontFamily:'"Gotham 7r", sans-serif',color:r.default.charcoal,paddingBottom:10,paddingTop:10,marginLeft:18},share:{fontFamily:'"Gotham 4r", sans-serif',color:r.default.charcoal},otherCS:{fontFamily:'"Gotham 4r", sans-serif',color:r.default.charcoal,marginRight:20,marginLeft:20},existingInaccuracy:{fontFamily:'"Gotham 4r", sans-serif',color:r.default.charcoal,marginRight:20,marginLeft:20},existingInaccuracyTooltip:{width:270},option:{fontFamily:'"Gotham 4r", sans-serif',color:r.default.charcoal,float:"left",width:"80%",marginRight:20,marginLeft:20},dropdown:{fontFamily:'"Gotham 4r", sans-serif',color:r.default.charcoal,height:30,width:120,marginLeft:18,marginTop:5},shareDropdown:{fontFamily:'"Gotham 4r", sans-serif',color:r.default.charcoal,height:30,width:50,marginLeft:5,marginTop:5},schoolNotFoundDropdown:{fontFamily:'"Gotham 4r", sans-serif',color:r.default.charcoal,height:30,marginTop:5,width:250},wideDropdown:{fontFamily:'"Gotham 4r", sans-serif',color:r.default.charcoal,height:30},dropdownBox:{width:"100%"},options:{marginLeft:18},checkboxOption:{fontFamily:'"Gotham 4r", sans-serif',color:r.default.charcoal,marginLeft:20},input:{height:40,width:250,fontFamily:'"Gotham 3r", sans-serif',padding:5},inputInline:{height:25,width:390,fontFamily:'"Gotham 3r", sans-serif',padding:5,maxWidth:"80%"},textArea:{height:100,width:"100%",fontFamily:'"Gotham 3r", sans-serif',padding:5},firstQuestion:{paddingLeft:15,paddingRight:15,paddingTop:10,paddingBottom:10,marginTop:10},grayQuestion:{background:r.default.background_gray,padding:15,borderTop:"1px solid gray",borderBottom:"1px solid gray"},errors:{fontSize:14,fontFamily:'"Gotham 3r", sans-serif',color:r.default.red,paddingTop:5,paddingBottom:5},asterisk:{fontSize:20,fontFamily:'"Gotham 5r", sans-serif',color:r.default.red},leftMargin:{leftMargin:20},field:{float:"left",height:"80px",width:"450px"},clear:{width:"100%",clear:"both"}};t.styles=i},241:function(e,t,o){"use strict";var n=o(74);e.exports=n({space:"xlink",transform:function(e,t){return"xlink:"+t.slice(5).toLowerCase()},properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}})},242:function(e,t,o){"use strict";var r=o(243),i=o(109);function n(e,t,o,n){a(this,"space",n),r.call(this,e,t),a(this,"boolean",s(o,i.boolean)),a(this,"booleanish",s(o,i.booleanish)),a(this,"overloadedBoolean",s(o,i.overloadedBoolean)),a(this,"number",s(o,i.number)),a(this,"commaSeparated",s(o,i.commaSeparated)),a(this,"spaceSeparated",s(o,i.spaceSeparated)),a(this,"commaOrSpaceSeparated",s(o,i.commaOrSpaceSeparated))}function a(e,t,o){o&&(e[t]=o)}function s(e,t){return(e&t)===t}((e.exports=n).prototype=new r).defined=!0},2422:function(e,t,o){"use strict";function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var y=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var t=c();if(t&&t.has(e))return t.get(e);var o={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(o,r,i):o[r]=e[r]}o.default=e,t&&t.set(e,o);return o}(o(1)),n=l(o(0)),r=l(o(14)),_=l(o(23)),i=l(o(6)),s=o(9),v=l(o(93));function l(e){return e&&e.__esModule?e:{default:e}}function c(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return c=function(){return e},e}var u,d,p,b={card:{height:250,width:310,background:i.default.teal},cardSmall:{width:"100%"},cardAllowWrap:{position:"relative"},text:{paddingLeft:20,paddingRight:20,color:i.default.white},title:{fontFamily:'"Gotham 7r", sans-serif',paddingTop:20,paddingBottom:15,fontSize:27,width:"100%",display:"inline",boxSizing:"border-box"},titleSmall:{width:"100%",boxSizing:"border-box"},titleNoWrap:{whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden"},titleAllowWrap:{lineHeight:"1.1"},description:{fontFamily:'"Gotham 4r", sans-serif',fontSize:14,lineHeight:"21px",height:140,marginBottom:5,overflowY:"auto"},descriptionSmall:{width:"100%",boxSizing:"border-box"},button:{marginLeft:20,marginRight:20},buttonAllowWrap:{position:"absolute",bottom:20,left:0},ltr:{float:"left"},rtl:{float:"right"}},h=function(e){function t(){return e.apply(this,arguments)||this}return function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(t,e),t.prototype.render=function(){var e=this.props,t=e.title,o=e.description,n=e.buttonText,r=e.link,i=e.isRtl,a=e.allowWrap,s=e.allowMarkdown,l=e.linkId,c=e.linkClass,u=e.responsiveSize,d=i?b.rtl:b.ltr,p=[b.button],h=[b.card,d],g=[b.title,b.text,d],f=[b.text,b.description,d];["sm","xs"].includes(u)&&(h.push(b.cardSmall),g.push(b.titleSmall),f.push(b.descriptionSmall)),a?(p.push(b.buttonAllowWrap),h.push(b.cardAllowWrap),g.push(b.titleAllowWrap)):g.push(b.titleNoWrap);var m=o;return s&&(m=y.default.createElement(v.default,{markdown:o})),y.default.createElement("div",{style:h},y.default.createElement("div",{style:g},t),y.default.createElement("div",{style:f},m),y.default.createElement("br",null),y.default.createElement(_.default,{__useDeprecatedTag:!0,id:l,className:c,href:r,color:_.default.ButtonColor.gray,text:n,style:p}))},t}(y.Component);u=h,d="propTypes",p={title:n.default.string.isRequired,description:n.default.string,buttonText:n.default.string.isRequired,link:n.default.string.isRequired,isRtl:n.default.bool.isRequired,responsiveSize:n.default.string.isRequired,allowWrap:n.default.bool,allowMarkdown:n.default.bool,linkId:n.default.string,linkClass:n.default.string},d in u?Object.defineProperty(u,d,{value:p,enumerable:!0,configurable:!0,writable:!0}):u[d]=p;var g=(0,s.connect)(function(e){return{isRtl:e.isRtl,responsiveSize:e.responsive.responsiveSize}})((0,r.default)(h));t.default=g,e.exports=t.default},2423:function(e,t,o){"use strict";function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.SpecialAnnouncementActionBlock=t.AdministratorResourcesActionBlock=t.LocalClassActionBlock=t.TwoColumnActionBlock=t.UnconnectedTwoColumnActionBlock=void 0;var n=d(o(0)),f=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var t=u();if(t&&t.has(e))return t.get(e);var o={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(o,r,i):o[r]=e[r]}o.default=e,t&&t.set(e,o);return o}(o(1)),r=o(9),i=d(o(6)),m=d(o(23)),s=d(o(4)),l=o(219),c=d(o(2324));function u(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return u=function(){return e},e}function d(e){return e&&e.__esModule?e:{default:e}}function p(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}function y(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var _={heading:{paddingRight:5,paddingTop:10,paddingBottom:20,fontSize:24,lineHeight:"26px",fontFamily:"Gotham 3r",color:i.default.charcoal},textItem:{backgroundColor:i.default.teal,padding:25,minHeight:281,boxSizing:"border-box"},subHeading:{paddingRight:0,paddingBottom:20,fontSize:27,lineHeight:1.2,fontFamily:'"Gotham 7r", sans-serif',color:i.default.white},subHeadingSmallFont:{paddingRight:0,paddingBottom:20,fontSize:25,lineHeight:1.2,fontFamily:'"Gotham 7r", sans-serif',color:i.default.white},image:{width:485,minHeight:260,height:281},description:{paddingRight:10,paddingBottom:20,fontSize:14,fontFamily:"Gotham 4r",lineHeight:"22px",color:i.default.white},clear:{clear:"both",marginBottom:60},container:{width:"100%",position:"relative"}},h=function(e){function t(){return e.apply(this,arguments)||this}return p(t,e),t.prototype.render=function(){var e=this.props,t=e.id,o=e.isRtl,n=e.responsiveSize,r=e.imageUrl,i=e.imageExtra,a=e.heading,s=e.subHeading,l=e.subHeadingSmallFont,c=e.description,u=e.buttons,d=e.backgroundColor,p=o?"right":"left",h="lg"===n?"50%":"100%",g=function(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{},n=Object.keys(Object(o));"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(o).filter(function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable}))),n.forEach(function(e){y(t,e,o[e])})}return t}({},_.textItem,{backgroundColor:d||_.textItem.backgroundColor});return f.default.createElement("div",{id:t,style:_.container},a&&f.default.createElement("div",{style:_.heading},a),f.default.createElement("div",{style:_.container},"lg"===n&&f.default.createElement("div",{style:{float:p,width:h}},f.default.createElement("img",{src:r,style:_.image}),i),f.default.createElement("div",{style:{float:p,width:h}},f.default.createElement("div",{style:g},s&&f.default.createElement("div",{style:l?_.subHeadingSmallFont:_.subHeading},s),f.default.createElement("div",{style:_.description},c),u.map(function(e,t){return f.default.createElement("span",{key:t},f.default.createElement(m.default,{__useDeprecatedTag:!0,href:e.url,color:m.default.ButtonColor.gray,text:e.text,target:e.target,id:e.id}),"     ")})))),f.default.createElement("div",{style:_.clear}))},t}(f.Component);y(t.UnconnectedTwoColumnActionBlock=h,"propTypes",{id:n.default.string,isRtl:n.default.bool.isRequired,responsiveSize:n.default.oneOf(["lg","md","sm","xs"]).isRequired,imageUrl:n.default.string.isRequired,imageExtra:n.default.node,heading:n.default.string,subHeading:n.default.string,subHeadingSmallFont:n.default.bool,description:n.default.string.isRequired,buttons:n.default.arrayOf(n.default.shape({url:n.default.string.isRequired,text:n.default.string.isRequired,target:n.default.string,id:n.default.string})),backgroundColor:n.default.string});var g=(0,r.connect)(function(e){return{responsiveSize:e.responsive.responsiveSize,isRtl:e.isRtl}})(h);t.TwoColumnActionBlock=g;var v=function(e){function t(){return e.apply(this,arguments)||this}return p(t,e),t.prototype.render=function(){var e=this.props.showHeading?s.default.findLocalClassHeading():"";return f.default.createElement(g,{imageUrl:(0,l.pegasus)("/shared/images/fill-540x300/misc/beyond-local-map.png"),heading:e,subHeading:s.default.findLocalClassSubheading(),description:s.default.findLocalClassDescription(),buttons:[{url:(0,l.pegasus)("/learn/local"),text:s.default.findLocalClassButton()}]})},t}(f.Component);y(t.LocalClassActionBlock=v,"propTypes",{showHeading:n.default.bool.isRequired});var b=function(e){function t(){return e.apply(this,arguments)||this}return p(t,e),t.prototype.render=function(){return f.default.createElement(g,{imageUrl:(0,l.pegasus)("/images/fill-540x300/2015AR/newcsteacherstrained.png"),heading:s.default.administratorResourcesHeading(),description:s.default.administratorResourcesDescription(),buttons:[{id:"your_school_professional_learning",url:(0,l.pegasus)("/educate/professional-learning"),text:s.default.yourSchoolProfessionalLearningProgramsButton()},{id:"your_school_administrators",url:(0,l.pegasus)("/administrators"),text:s.default.yourSchoolAdminButton()}]})},t}(f.Component);t.AdministratorResourcesActionBlock=b;var E=function(r){function e(){for(var e,t=arguments.length,o=new Array(t),n=0;n<t;n++)o[n]=arguments[n];return y(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e=r.call.apply(r,[this].concat(o))||this),"state",{buttonList:e.createButtonList()}),e}p(e,r);var t=e.prototype;return t.createButtonList=function(){var e=[],t=this.props.announcement;return e.push({id:t.buttonId?t.buttonId:"special-announcement-btn-1",url:t.buttonUrl,text:t.buttonText}),t.buttonUrl2&&t.buttonText2&&e.push({id:t.buttonId2?t.buttonId2:"special-announcement-btn-2",url:t.buttonUrl2,text:t.buttonText2}),e},t.render=function(){var e=this.props.announcement;return f.default.createElement(g,{imageUrl:(0,l.pegasus)(e.image),subHeading:e.title,description:e.body,buttons:this.state.buttonList,backgroundColor:e.backgroundColor})},e}(f.Component);y(t.SpecialAnnouncementActionBlock=E,"propTypes",{announcement:c.default.specialAnnouncement})},243:function(e,t,o){"use strict";var n=(e.exports=r).prototype;function r(e,t){this.property=e,this.attribute=t}n.space=null,n.attribute=null,n.property=null,n.boolean=!1,n.booleanish=!1,n.overloadedBoolean=!1,n.number=!1,n.commaSeparated=!1,n.spaceSeparated=!1,n.commaOrSpaceSeparated=!1,n.mustUseProperty=!1,n.defined=!1},244:function(e,t,o){"use strict";var n=o(74);e.exports=n({space:"xml",transform:function(e,t){return"xml:"+t.slice(3).toLowerCase()},properties:{xmlLang:null,xmlBase:null,xmlSpace:null}})},245:function(e,t,o){"use strict";var n=o(74),r=o(246);e.exports=n({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:r,properties:{xmlns:null,xmlnsXLink:null}})},246:function(e,t,o){"use strict";var n=o(247);e.exports=function(e,t){return n(e,t.toLowerCase())}},247:function(e,t,o){"use strict";e.exports=function(e,t){return t in e?e[t]:t}},248:function(e,t,o){"use strict";var n=o(109),r=o(74),i=n.booleanish,a=n.number,s=n.spaceSeparated;e.exports=r({transform:function(e,t){return"role"===t?t:"aria-"+t.slice(4).toLowerCase()},properties:{ariaActiveDescendant:null,ariaAtomic:i,ariaAutoComplete:null,ariaBusy:i,ariaChecked:i,ariaColCount:a,ariaColIndex:a,ariaColSpan:a,ariaControls:s,ariaCurrent:null,ariaDescribedBy:s,ariaDetails:null,ariaDisabled:i,ariaDropEffect:s,ariaErrorMessage:null,ariaExpanded:i,ariaFlowTo:s,ariaGrabbed:i,ariaHasPopup:null,ariaHidden:i,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:s,ariaLevel:a,ariaLive:null,ariaModal:i,ariaMultiLine:i,ariaMultiSelectable:i,ariaOrientation:null,ariaOwns:s,ariaPlaceholder:null,ariaPosInSet:a,ariaPressed:i,ariaReadOnly:i,ariaRelevant:null,ariaRequired:i,ariaRoleDescription:s,ariaRowCount:a,ariaRowIndex:a,ariaRowSpan:a,ariaSelected:i,ariaSetSize:a,ariaSort:null,ariaValueMax:a,ariaValueMin:a,ariaValueNow:a,ariaValueText:null,role:null}})},2485:function(e,t,o){"use strict";function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var t=c();if(t&&t.has(e))return t.get(e);var o={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(o,r,i):o[r]=e[r]}o.default=e,t&&t.set(e,o);return o}(o(1)),r=o(9),i=l(o(0)),s=l(o(14));function l(e){return e&&e.__esModule?e:{default:e}}function c(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return c=function(){return e},e}var u,d,p,h={container:{width:"100%",display:"flex",justifyContent:"space-between"},regularRow:{marginBottom:20},cardContainer:{float:"left"},inRow:{paddingLeft:20,paddingTop:20},startRow:{clear:"both",paddingTop:20}},g=function(e){function t(){return e.apply(this,arguments)||this}return function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(t,e),t.prototype.render=function(){var o={lg:3,md:2,sm:1,xs:1}[this.props.responsiveSize];return n.default.createElement("div",null,this.props.children.map(function(e,t){return n.default.createElement("div",{key:t,style:[h.cardContainer,t%o==0?h.startRow:h.inRow]},e)}))},t}(n.Component);u=g,d="propTypes",p={children:i.default.any,responsiveSize:i.default.string.isRequired},d in u?Object.defineProperty(u,d,{value:p,enumerable:!0,configurable:!0,writable:!0}):u[d]=p;var f=(0,r.connect)(function(e){return{responsiveSize:e.responsive.responsiveSize}})((0,s.default)(g));t.default=f,e.exports=t.default},2486:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"Header",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(t,"Field",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(t,"ConfirmCancelFooter",{enumerable:!0,get:function(){return i.default}});var n=a(o(3868)),r=a(o(3869)),i=a(o(3870));function a(e){return e&&e.__esModule?e:{default:e}}},249:function(e,t,o){"use strict";var l=o(111),r=o(162),c=o(448),u=o(163).parse,d=o(164).parse;function p(e,t,o){var n=o;return e.number||e.positiveNumber?isNaN(n)||""===n||(n=Number(n)):(e.boolean||e.overloadedBoolean)&&("string"!=typeof n||""!==n&&r(o)!==r(t)||(n=!0)),n}e.exports=function(a,i){return function(e,t){var o,n=c(e,i),r=Array.prototype.slice.call(arguments,2);t&&function(e,t){return"string"==typeof e||"length"in e||function(e,t){var o=t.type;if("input"===e||!o||"string"!=typeof o)return!1;if("object"==typeof t.children&&"length"in t.children)return!0;return o=o.toLowerCase(),"button"!==e?"value"in t:"menu"!==o&&"submit"!==o&&"reset"!==o&&"button"!==o}(t.tagName,e)}(t,n)&&(r.unshift(t),t=null);if(t)for(o in t)s(n.properties,o,t[o]);(function e(t,o){var n,r;if("string"!=typeof o&&"number"!=typeof o)if("object"==typeof o&&"length"in o)for(n=-1,r=o.length;++n<r;)e(t,o[n]);else{if("object"!=typeof o||!("type"in o))throw new Error("Expected node, nodes, or string, got `"+o+"`");t.push(o)}else t.push({type:"text",value:String(o)})})(n.children,r),"template"===n.tagName&&(n.content={type:"root",children:n.children},n.children=[]);return n};function s(e,t,o){var n,r,i;null!=o&&o==o&&(n=l(a,t),r=n.property,"string"==typeof(i=o)&&(n.spaceSeparated?i=u(i):n.commaSeparated?i=d(i):n.commaOrSpaceSeparated&&(i=u(d(i).join(" ")))),"style"===r&&"string"!=typeof o&&(i=function(e){var t,o=[];for(t in e)o.push([t,e[t]].join(": "));return o.join("; ")}(i)),"className"===r&&e.className&&(i=e.className.concat(i)),e[r]=function(e,t,o){var n,r,i;if("object"!=typeof o||!("length"in o))return p(e,t,o);r=o.length,n=-1,i=[];for(;++n<r;)i[n]=p(e,t,o[n]);return i}(n,r,i))}}},25:function(e,t){var o;o=function(){return this}();try{o=o||new Function("return this")()}catch(e){"object"==typeof window&&(o=window)}e.exports=o},250:function(e,t,o){var u=o(454);e.exports=function(e,t){if(!e||"string"!=typeof e)return null;for(var o,n,r,i=u("p{"+e+"}").stylesheet.rules[0].declarations,a=null,s="function"==typeof t,l=0,c=i.length;l<c;l++)n=(o=i[l]).property,r=o.value,s?t(n,r,o):r&&(a||(a={}),a[n]=r);return a}},251:function(e,t,o){"use strict";e.exports=function(n,e){var t=e||{};function r(e){var t=r.invalid,o=r.handlers;return e&&a.call(e,n)&&(t=a.call(o,e[n])?o[e[n]]:r.unknown),(t||i).apply(this,arguments)}return r.handlers=t.handlers||{},r.invalid=t.invalid,r.unknown=t.unknown,r};var i=Function.prototype,a={}.hasOwnProperty},252:function(e){e.exports={strip:["script"],clobberPrefix:"user-content-",clobber:["name","id"],ancestors:{li:["ol","ul"],tbody:["table"],tfoot:["table"],thead:["table"],td:["table"],th:["table"],tr:["table"]},protocols:{href:["http","https","mailto"],cite:["http","https"],src:["http","https"],longDesc:["http","https"]},tagNames:["h1","h2","h3","h4","h5","h6","h7","h8","br","b","i","strong","em","a","pre","code","img","tt","div","ins","del","sup","sub","p","ol","ul","table","thead","tbody","tfoot","blockquote","dl","dt","dd","kbd","q","samp","var","hr","ruby","rt","rp","li","tr","td","th","s","strike","summary","details","input"],attributes:{a:["href"],img:["src","longDesc"],input:[["type","checkbox"],["disabled",!0]],li:[["className","task-list-item"]],div:["itemScope","itemType"],blockquote:["cite"],del:["cite"],ins:["cite"],q:["cite"],"*":["abbr","accept","acceptCharset","accessKey","action","align","alt","axis","border","cellPadding","cellSpacing","char","charoff","charSet","checked","clear","cols","colSpan","color","compact","coords","dateTime","dir","disabled","encType","htmlFor","frame","headers","height","hrefLang","hspace","isMap","id","label","lang","maxLength","media","method","multiple","name","nohref","noshade","nowrap","open","prompt","readOnly","rel","rev","rows","rowSpan","rules","scope","selected","shape","size","span","start","summary","tabIndex","target","title","type","useMap","valign","value","vspace","width","itemProp"]},required:{input:{type:"checkbox",disabled:!0}}}},253:function(e,t,o){"use strict";var s=o(41),l=o(254);e.exports=function(e){var t,o,n=e.length,r=[],i=[],a=-1;for(;++a<n;)t=e[a],r.push(t.property),i.push(t.normal),o=t.space;return new l(s.apply(null,r),s.apply(null,i),o)}},2539:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.COUNTRIES=t.STATES=void 0;t.STATES=["","Alabama","Alaska","Arizona","Arkansas","California","Colorado","Connecticut","Washington DC","Delaware","Florida","Georgia","Hawaii","Idaho","Illinois","Indiana","Iowa","Kansas","Kentucky","Louisiana","Maine","Maryland","Massachusetts","Michigan","Minnesota","Mississippi","Missouri","Montana","Nebraska","Nevada","New Hampshire","New Jersey","New Mexico","New York","North Carolina","North Dakota","Ohio","Oklahoma","Oregon","Pennsylvania","Rhode Island","South Carolina","South Dakota","Tennessee","Texas","Utah","Vermont","Virginia","Washington","West Virginia","Wisconsin","Wyoming"];var n=[{label:"AD",value:"Andorra"},{label:"AE",value:"United Arab Emirates"},{label:"AF",value:"Afghanistan"},{label:"AG",value:"Antigua and Barbuda"},{label:"AI",value:"Anguilla"},{label:"AL",value:"Albania"},{label:"AM",value:"Armenia"},{label:"AO",value:"Angola"},{label:"AQ",value:"Antarctica"},{label:"AR",value:"Argentina"},{label:"AS",value:"American Samoa"},{label:"AT",value:"Austria"},{label:"AU",value:"Australia"},{label:"AW",value:"Aruba"},{label:"AX",value:"Åland Islands"},{label:"AZ",value:"Azerbaijan"},{label:"BA",value:"Bosnia and Herzegovina"},{label:"BB",value:"Barbados"},{label:"BD",value:"Bangladesh"},{label:"BE",value:"Belgium"},{label:"BF",value:"Burkina Faso"},{label:"BG",value:"Bulgaria"},{label:"BH",value:"Bahrain"},{label:"BI",value:"Burundi"},{label:"BJ",value:"Benin"},{label:"BL",value:"Saint Barthélemy"},{label:"BM",value:"Bermuda"},{label:"BN",value:"Brunei"},{label:"BO",value:"Plurinational State of Bolivia"},{label:"BQ",value:"Bonaire"},{label:"BR",value:"Brazil"},{label:"BS",value:"Bahamas"},{label:"BT",value:"Bhutan"},{label:"BV",value:"Bouvet Island"},{label:"BW",value:"Botswana"},{label:"BY",value:"Belarus"},{label:"BZ",value:"Belize"},{label:"CA",value:"Canada"},{label:"CC",value:"Cocos (Keeling) Islands"},{label:"CD",value:"Democratic Republic of Congo"},{label:"CF",value:"Central African Republic"},{label:"CG",value:"Congo"},{label:"CH",value:"Switzerland"},{label:"CI",value:"Côte d'Ivoire"},{label:"CK",value:"Cook Islands"},{label:"CL",value:"Chile"},{label:"CM",value:"Cameroon"},{label:"CN",value:"China"},{label:"CO",value:"Colombia"},{label:"CR",value:"Costa Rica"},{label:"CU",value:"Cuba"},{label:"CV",value:"Cape Verde"},{label:"CW",value:"Curaçao"},{label:"CX",value:"Christmas Island"},{label:"CY",value:"Cyprus"},{label:"CZ",value:"Czech Republic"},{label:"DE",value:"Germany"},{label:"DJ",value:"Djibouti"},{label:"DK",value:"Denmark"},{label:"DM",value:"Dominica"},{label:"DO",value:"Dominican Republic"},{label:"DZ",value:"Algeria"},{label:"EC",value:"Ecuador"},{label:"EE",value:"Estonia"},{label:"EG",value:"Egypt"},{label:"EH",value:"Western Sahara"},{label:"ER",value:"Eritrea"},{label:"ES",value:"Spain"},{label:"ET",value:"Ethiopia"},{label:"FI",value:"Finland"},{label:"FJ",value:"Fiji"},{label:"FK",value:"Falkland Islands (Malvinas)"},{label:"FM",value:"Micronesia"},{label:"FO",value:"Faroe Islands"},{label:"FR",value:"France"},{label:"GA",value:"Gabon"},{label:"GB",value:"United Kingdom"},{label:"GD",value:"Grenada"},{label:"GE",value:"Georgia"},{label:"GF",value:"French Guiana"},{label:"GG",value:"Guernsey"},{label:"GH",value:"Ghana"},{label:"GI",value:"Gibraltar"},{label:"GL",value:"Greenland"},{label:"GM",value:"Gambia"},{label:"GN",value:"Guinea"},{label:"GP",value:"Guadeloupe"},{label:"GQ",value:"Equatorial Guinea"},{label:"GR",value:"Greece"},{label:"GS",value:"South Georgia and the South Sandwich Islands"},{label:"GT",value:"Guatemala"},{label:"GU",value:"Guam"},{label:"GW",value:"Guinea-Bissau"},{label:"GY",value:"Guyana"},{label:"HK",value:"Hong Kong"},{label:"HM",value:"Heard Island and McDonald Islands"},{label:"HN",value:"Honduras"},{label:"HR",value:"Croatia"},{label:"HT",value:"Haiti"},{label:"HU",value:"Hungary"},{label:"ID",value:"Indonesia"},{label:"IE",value:"Ireland"},{label:"IL",value:"Israel"},{label:"IM",value:"Isle of Man"},{label:"IN",value:"India"},{label:"IO",value:"British Indian Ocean Territory"},{label:"IQ",value:"Iraq"},{label:"IR",value:"Islamic Republic of Iran"},{label:"IS",value:"Iceland"},{label:"IT",value:"Italy"},{label:"JE",value:"Jersey"},{label:"JM",value:"Jamaica"},{label:"JO",value:"Jordan"},{label:"JP",value:"Japan"},{label:"KE",value:"Kenya"},{label:"KG",value:"Kyrgyzstan"},{label:"KH",value:"Cambodia"},{label:"KI",value:"Kiribati"},{label:"KM",value:"Comoros"},{label:"KN",value:"Saint Kitts and Nevis"},{label:"KP",value:"Democratic People's Republic of Korea"},{label:"KR",value:"Republic of Korea"},{label:"KW",value:"Kuwait"},{label:"KY",value:"Cayman Islands"},{label:"KZ",value:"Kazakhstan"},{label:"LA",value:"Lao People's Democratic Republic"},{label:"LB",value:"Lebanon"},{label:"LC",value:"Saint Lucia"},{label:"LI",value:"Liechtenstein"},{label:"LK",value:"Sri Lanka"},{label:"LR",value:"Liberia"},{label:"LS",value:"Lesotho"},{label:"LT",value:"Lithuania"},{label:"LU",value:"Luxembourg"},{label:"LV",value:"Latvia"},{label:"LY",value:"Libya"},{label:"MA",value:"Morocco"},{label:"MC",value:"Monaco"},{label:"MD",value:"Moldova"},{label:"ME",value:"Montenegro"},{label:"MG",value:"Madagascar"},{label:"MH",value:"Marshall Islands"},{label:"MK",value:"Republic of Macedonia"},{label:"ML",value:"Mali"},{label:"MM",value:"Myanmar"},{label:"MN",value:"Mongolia"},{label:"MO",value:"Macao"},{label:"MP",value:"Northern Mariana Islands"},{label:"MQ",value:"Martinique"},{label:"MR",value:"Mauritania"},{label:"MS",value:"Montserrat"},{label:"MT",value:"Malta"},{label:"MU",value:"Mauritius"},{label:"MV",value:"Maldives"},{label:"MW",value:"Malawi"},{label:"MX",value:"Mexico"},{label:"MY",value:"Malaysia"},{label:"MZ",value:"Mozambique"},{label:"NA",value:"Namibia"},{label:"NC",value:"New Caledonia"},{label:"NE",value:"Niger"},{label:"NF",value:"Norfolk Island"},{label:"NG",value:"Nigeria"},{label:"NI",value:"Nicaragua"},{label:"NL",value:"Netherlands"},{label:"NO",value:"Norway"},{label:"NP",value:"Nepal"},{label:"NR",value:"Nauru"},{label:"NU",value:"Niue"},{label:"NZ",value:"New Zealand"},{label:"OM",value:"Oman"},{label:"PA",value:"Panama"},{label:"PE",value:"Peru"},{label:"PF",value:"French Polynesia"},{label:"PG",value:"Papua New Guinea"},{label:"PH",value:"Philippines"},{label:"PK",value:"Pakistan"},{label:"PL",value:"Poland"},{label:"PM",value:"Saint Pierre and Miquelon"},{label:"PN",value:"Pitcairn"},{label:"PR",value:"Puerto Rico"},{label:"PS",value:"Palestine"},{label:"PT",value:"Portugal"},{label:"PW",value:"Palau"},{label:"PY",value:"Paraguay"},{label:"QA",value:"Qatar"},{label:"RE",value:"Réunion"},{label:"RO",value:"Romania"},{label:"RS",value:"Serbia"},{label:"RU",value:"Russian Federation"},{label:"RW",value:"Rwanda"},{label:"SA",value:"Saudi Arabia"},{label:"SB",value:"Solomon Islands"},{label:"SC",value:"Seychelles"},{label:"SD",value:"Sudan"},{label:"SE",value:"Sweden"},{label:"SG",value:"Singapore"},{label:"SI",value:"Slovenia"},{label:"SJ",value:"Svalbard and Jan Mayen"},{label:"SK",value:"Slovakia"},{label:"SL",value:"Sierra Leone"},{label:"SM",value:"San Marino"},{label:"SN",value:"Senegal"},{label:"SO",value:"Somalia"},{label:"SR",value:"Suriname"},{label:"SS",value:"South Sudan"},{label:"ST",value:"Sao Tome and Principe"},{label:"SV",value:"El Salvador"},{label:"SX",value:"Sint Maarten (Dutch part)"},{label:"SY",value:"Syrian Arab Republic"},{label:"SZ",value:"Swaziland"},{label:"TC",value:"Turks and Caicos Islands"},{label:"TD",value:"Chad"},{label:"TG",value:"Togo"},{label:"TH",value:"Thailand"},{label:"TJ",value:"Tajikistan"},{label:"TK",value:"Tokelau"},{label:"TL",value:"Timor-Leste"},{label:"TM",value:"Turkmenistan"},{label:"TN",value:"Tunisia"},{label:"TO",value:"Tonga"},{label:"TR",value:"Turkey"},{label:"TT",value:"Trinidad and Tobago"},{label:"TV",value:"Tuvalu"},{label:"TW",value:"Taiwan"},{label:"TZ",value:"Tanzania"},{label:"UA",value:"Ukraine"},{label:"UG",value:"Uganda"},{label:"US",value:"United States"},{label:"UY",value:"Uruguay"},{label:"UZ",value:"Uzbekistan"},{label:"VA",value:"Holy See (Vatican City State)"},{label:"VC",value:"Saint Vincent and the Grenadines"},{label:"VE",value:"Bolivarian Republic of Venezuela"},{label:"VG",value:"Virgin Islands, British"},{label:"VI",value:"Virgin Islands, U.S."},{label:"VN",value:"Viet Nam"},{label:"VU",value:"Vanuatu"},{label:"WF",value:"Wallis and Futuna"},{label:"WS",value:"Samoa"},{label:"XK",value:"Kosovo"},{label:"YE",value:"Yemen"},{label:"YT",value:"Mayotte"},{label:"ZA",value:"South Africa"},{label:"ZM",value:"Zambia"},{label:"ZW",value:"Zimbabwe"}].sort(function(e,t){return e.value.localeCompare(t.value)});t.COUNTRIES=n},254:function(e,t,o){"use strict";var n=(e.exports=r).prototype;function r(e,t,o){this.property=e,this.normal=t,o&&(this.space=o)}n.space=null,n.normal={},n.property={}},255:function(e,t,o){"use strict";var n=o(75);e.exports=n({space:"xlink",transform:function(e,t){return"xlink:"+t.slice(5).toLowerCase()},properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}})},256:function(e,t,o){"use strict";e.exports=function(e){return e.toLowerCase().replace(/\b[:-]\b/g,"")}},2566:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(o(0)),r=l(o(1)),i=l(o(6)),a=l(o(4)),s=l(o(2722));function l(e){return e&&e.__esModule?e:{default:e}}var c={container:{margin:20},primaryHeader:{fontSize:"200%"},secondaryHeader:{color:i.default.charcoal},courseblockContainer:{width:720,paddingTop:20},continueButton:{marginTop:20,marginRight:0}},u=function(t){function e(e){return t.call(this,e)||this}return function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(e,t),e.prototype.render=function(){return r.default.createElement("div",{style:c.container},r.default.createElement("h1",{style:c.primaryHeader},a.default.playzonePrimaryHeader({stageName:this.props.stageName})),r.default.createElement("h4",{style:c.secondaryHeader},a.default.playzoneSecondaryHeader()),r.default.createElement(s.default,null),r.default.createElement("div",{className:"farSide"},r.default.createElement("button",{type:"button",id:"ok-button",onClick:this.props.onContinue,style:c.continueButton},a.default.playzoneContinueButton())))},e}(r.default.Component);(t.default=u).propTypes={stageName:n.default.string.isRequired,onContinue:n.default.func.isRequired},e.exports=t.default},257:function(e,t,o){"use strict";var r=o(258),i=o(112);function n(e,t,o,n){a(this,"space",n),r.call(this,e,t),a(this,"boolean",s(o,i.boolean)),a(this,"booleanish",s(o,i.booleanish)),a(this,"overloadedBoolean",s(o,i.overloadedBoolean)),a(this,"number",s(o,i.number)),a(this,"commaSeparated",s(o,i.commaSeparated)),a(this,"spaceSeparated",s(o,i.spaceSeparated)),a(this,"commaOrSpaceSeparated",s(o,i.commaOrSpaceSeparated))}function a(e,t,o){o&&(e[t]=o)}function s(e,t){return(e&t)===t}((e.exports=n).prototype=new r).defined=!0},258:function(e,t,o){"use strict";var n=(e.exports=r).prototype;function r(e,t){this.property=e,this.attribute=t}n.space=null,n.attribute=null,n.property=null,n.boolean=!1,n.booleanish=!1,n.overloadedBoolean=!1,n.number=!1,n.commaSeparated=!1,n.spaceSeparated=!1,n.commaOrSpaceSeparated=!1,n.mustUseProperty=!1,n.defined=!1},2580:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var u=l(o(10)),a=l(o(1)),n=o(474),r=o(347),i=l(o(326)),s=o(2341);function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e,t,o,n,r,i,a,s,l){var c=this;this.levelId=e,this.id=t,this.app=o,this.standalone=n,this.lastSelectionIndex=-1,this.numAnswers=r,this.answers=i,this.answersFeedback=a,this.lastAttemptString=s,this.containedMode=l,this.selectedAnswers=[],this.crossedAnswers=[],this.submitAllowed=!0,(0,u.default)(document).ready(function(){return c.ready()})};c.prototype.enableButton=function(e){(0,u.default)("#"+this.id+" .submitButton").attr("disabled",!e)},c.prototype.choiceClicked=function(e){if(this.submitAllowed){var t=parseInt((0,u.default)(e).attr("index"));i.default.getSingleton().play("click"),this.clickItem(t),(0,n.onAnswerChanged)(this.levelId,!0)}},c.prototype.clickItem=function(e){if(-1===this.crossedAnswers.indexOf(e)&&(1!==this.numAnswers||-1===u.default.inArray(e,this.selectedAnswers))){if(!(1<this.numAnswers&&-1!==u.default.inArray(e,this.selectedAnswers))){if(this.enableButton(!0),this.lastSelectionIndex=e,(0,u.default)("#"+this.id+" #unchecked_"+e).hide(),(0,u.default)("#"+this.id+" #checked_"+e).show(),this.selectedAnswers.unshift(e),this.selectedAnswers.length>this.numAnswers){var t=this.selectedAnswers.pop();-1===this.crossedAnswers.indexOf(t)&&((0,u.default)("#"+this.id+" #unchecked_"+t).show(),(0,u.default)("#"+this.id+" #checked_"+t).hide())}return!0}this.unclickItem(e)}},c.prototype.unclickItem=function(e){var t=this.selectedAnswers.indexOf(e);this.selectedAnswers.splice(t,1),(0,u.default)("#"+this.id+" #unchecked_"+e).show(),(0,u.default)("#"+this.id+" #checked_"+e).hide()},c.prototype.ready=function(){window.appOptions.readonlyWorkspace&&!this.containedMode&&((0,u.default)(".submitButton").hide(),(0,u.default)("#"+this.id+".item-mark").css("opacity",.5),this.submitAllowed=!1,window.appOptions.submitted&&(0,u.default)("#"+this.id+" .unsubmitButton").show()),(0,u.default)("#"+this.id+" .answerbutton").click(u.default.proxy(function(e){this.choiceClicked((0,u.default)(e.currentTarget))},this)),(0,u.default)("#"+this.id+" #voteform img").on("dragstart",u.default.proxy(function(e){var t=(0,u.default)(e.currentTarget).parent().parent().parent();this.choiceClicked(t),e.preventDefault(),e.stopPropagation()},this)),this.enableButton(!1),this.standalone&&(0,n.registerGetResult)(this.getResult.bind(this));var e=this.lastAttemptString||(0,r.sourceForLevel)(window.appOptions.scriptName,this.levelId);if(e)for(var t=e.split(","),o=0;o<t.length;o++)this.clickItem(parseInt(t[o]));this.standalone&&(0,u.default)(".submitButton").click(u.default.proxy(this.submitButtonClick,this))},c.prototype.lockAnswers=function(){(0,u.default)("#"+this.id+" .answerbutton").addClass("lock-answers")},c.prototype.getAppName=function(){return this.app},c.prototype.getResult=function(e){var t,o,n,r,i;return 1<this.numAnswers&&this.selectedAnswers.length!==this.numAnswers&&(o=a.default.createElement(s.TooFewDialog,null)),n=1===this.numAnswers?-1!==(t=this.lastSelectionIndex):(t=this.selectedAnswers,this.selectedAnswers.length===this.numAnswers),i=e||!window.appOptions.level.submittable&&!this.forceSubmittable?(r=this.validateAnswers(),!1):r=!0,{response:t,result:r,errorDialog:o,submitted:i,valid:n}},c.prototype.getCurrentAnswerFeedback=function(){if(this.answersFeedback&&0!==this.selectedAnswers.length){for(var e=[],t=0;t<this.selectedAnswers.length;t++)e.push(this.answersFeedback[this.selectedAnswers[t]]);return e.join("\n")}},c.prototype.submitButtonClick=function(){window.appOptions.level.submittable||this.forceSubmittable||1!==this.numAnswers||-1!==this.crossedAnswers.indexOf(this.lastSelectionIndex)||this.validateAnswers()||((0,u.default)("#"+this.id+" #checked_"+this.lastSelectionIndex).hide(),(0,u.default)("#"+this.id+" #cross_"+this.lastSelectionIndex).show(),this.crossedAnswers.unshift(this.lastSelectionIndex))},c.prototype.validateAnswers=function(){if(!this.answers)return!1;if(this.selectedAnswers.length!==this.numAnswers)return!1;for(var e=0;e<this.numAnswers;e++)if(!this.answers[this.selectedAnswers[e]])return!1;return!0};var d=c;t.default=d,e.exports=t.default},2581:function(e,t,o){"use strict";function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(o(0)),l=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var o={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(o,r,i):o[r]=e[r]}o.default=e,t&&t.set(e,o);return o}(o(1)),c=r(o(2342)),u=r(o(4)),d=o(2407);function s(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function r(e){return e&&e.__esModule?e:{default:e}}function p(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{},n=Object.keys(Object(o));"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(o).filter(function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable}))),n.forEach(function(e){h(t,e,o[e])})}return t}function i(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var g={display:"table-cell",width:210,verticalAlign:"middle",minHeight:42,fontSize:13,fontFamily:'"Gotham 4r", sans-serif',color:"#333",padding:0},f={display:"table",width:"100%"},m={display:"flex"},y=function(r){function e(){for(var t,e=arguments.length,o=new Array(e),n=0;n<e;n++)o[n]=arguments[n];return h(i(t=r.call.apply(r,[this].concat(o))||this),"schoolDropdown",void 0),h(i(t),"sendToParent",function(e){t.props.setField("nces",e)}),h(i(t),"bindDropdown",function(e){t.schoolDropdown=e}),t}!function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(e,r);var t=e.prototype;return t.handleSchoolNotFoundCheckbox=function(e){e.target.checked?this.props.setField("nces",this.schoolDropdown.constructSchoolNotFoundOption()):this.props.setField("nces",this.props.schoolDropdownOption)},t.render=function(){var e=this.props,t=e.showRequiredIndicator,o=e.singleLineLayout,n=p({},d.styles.question,o&&g),r=p({},o&&f),i=this.props.showErrorMsg&&!this.props.value&&!this.props.schoolDropdownOption,a=!!("-1"===this.props.value||this.props.schoolDropdownOption&&"-1"===this.props.schoolDropdownOption.value),s=l.default.createElement("div",{style:d.styles.errors},u.default.censusRequiredSelect());return l.default.createElement("div",null,l.default.createElement("div",{style:r},l.default.createElement("div",{style:n},o?u.default.school():u.default.schoolName(),t&&l.default.createElement("span",{style:d.styles.asterisk}," *"),!o&&i&&s),l.default.createElement(c.default,{ref:this.bindDropdown,value:this.props.value,fieldName:this.props.fieldName,onChange:this.sendToParent,schoolDropdownOption:this.props.schoolDropdownOption,schoolFilter:this.props.schoolFilter}),l.default.createElement("label",{style:m},l.default.createElement("input",{id:"schoolNotFoundCheckbox",type:"checkbox",onChange:this.handleSchoolNotFoundCheckbox.bind(this),checked:a}),l.default.createElement("span",{style:d.styles.checkboxOption},u.default.schoolNotFoundCheckboxLabel()))),o&&i&&s)},e}(l.Component);h(t.default=y,"propTypes",{setField:n.default.func,showErrorMsg:n.default.bool,value:n.default.string,fieldName:n.default.string,singleLineLayout:n.default.bool,showRequiredIndicator:n.default.bool,schoolDropdownOption:n.default.object,schoolFilter:n.default.func}),h(y,"defaultProps",{showRequiredIndicator:!0}),e.exports=t.default},2582:function(e,t,o){"use strict";function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.QuickActionsCellType=void 0;var n,r=g(o(0)),s=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var t=h();if(t&&t.has(e))return t.get(e);var o={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(o,r,i):o[r]=e[r]}o.default=e,t&&t.set(e,o);return o}(o(1)),i=g(o(6)),l=g(o(176)),c=g(o(196)),u=g(o(656)),d=g(o(18)),p=g(o(62));function h(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return h=function(){return e},e}function g(e){return e&&e.__esModule?e:{default:e}}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var y={header:"header",body:"body"},_={icon:{paddingLeft:5,paddingRight:5,paddingTop:4,paddingBottom:4,cursor:"pointer"},actionButton:(n={},m(n,(t.QuickActionsCellType=y).body,{border:"1px solid "+i.default.white,borderRadius:5,color:i.default.darker_gray,margin:3}),m(n,y.header,{fontSize:20,lineHeight:"15px",color:i.default.charcoal}),n),hoverFocus:m({},y.body,{backgroundColor:i.default.lighter_gray,border:"1px solid "+i.default.light_gray,borderRadius:5,color:i.default.white})},v=function(r){function e(){for(var o,e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return m(f(o=r.call.apply(r,[this].concat(t))||this),"state",{open:!1,canOpen:!0,menuTop:0,menuLeft:0,currWindowWidth:window.innerWidth}),m(f(o),"open",function(){o.updateMenuLocation(),window.addEventListener("resize",(0,u.default)(o.updateMenuLocation,50)),o.setState({open:!0,canOpen:!1}),o.props.experimentDetails&&p.default.putRecord(o.props.experimentDetails)}),m(f(o),"close",function(){window.removeEventListener("resize",(0,u.default)(o.updateMenuLocation,50)),o.setState({open:!1})}),m(f(o),"beforeClose",function(e,t){t(),o.setState({open:!1,canOpen:!0})}),m(f(o),"updateMenuLocation",function(){var e=o.icon.getBoundingClientRect(),t=window.innerWidth;t>c.default["content-width"]?o.setState({menuTop:e.bottom+window.pageYOffset,menuLeft:e.left-e.width-(t-o.state.currWindowWidth)/2,currWindowWidth:window.innerWidth}):o.setState({menuTop:e.bottom+window.pageYOffset,menuLeft:e.left-e.width+window.pageXOffset})}),o}return function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(e,r),e.prototype.render=function(){var t=this,e=this.props.type,o={top:this.state.menuTop,left:this.state.menuLeft},n=e===y.header?_.actionButton.header:_.actionButton.body,r=this.state.open?_.hoverFocus.body:null,i=function(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{},n=Object.keys(Object(o));"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(o).filter(function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable}))),n.forEach(function(e){m(t,e,o[e])})}return t}({},_.icon,n,r);return s.default.createElement("span",{ref:function(e){return t.icon=e}},s.default.createElement(d.default,{icon:{header:"cog",body:"chevron-down"}[e],style:i,onClick:this.state.canOpen?this.open:void 0,className:"ui-test-section-dropdown ui-projects-table-dropdown"}),s.default.createElement(l.default,{targetPoint:o,isOpen:this.state.open,beforeClose:this.beforeClose,showTail:!1},this.props.children))},e}(s.Component);m(t.default=v,"propTypes",{children:r.default.oneOfType([r.default.node,r.default.array]).isRequired,type:r.default.oneOf(Object.keys(y)),experimentDetails:r.default.shape({study:r.default.string,study_group:r.default.string,event:r.default.string,user_id:r.default.number,data_json:r.default.string})}),m(v,"defaultProps",{type:y.body})},2583:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.showDialog=f,t.processResults=function(a,e){e?e(t):t();function t(){var e=(0,u.getResult)(),t=e.response,o=e.result,n=e.errorDialog,r=e.testResult?e.testResult:o?100:0,i=e.submitted||!1;o?appOptions.dialog.skipSound||p.default.getSingleton().play("success"):(n?f(n):f(s.default.createElement(h.ErrorDialog,null),null,m),appOptions.dialog.skipSound||p.default.getSingleton().play("failure")),window.dashboard.reporting.sendReport({program:t,fallbackResponse:appOptions.dialog.fallbackResponse,callback:appOptions.dialog.callback,app:appOptions.dialog.app,level:appOptions.dialog.level,result:o,pass:o,testResult:r,submitted:i,onComplete:function(){var e=window.dashboard.reporting.getLastServerResponse(),t=!!e.nextRedirect;if(a&&a(t),e.videoInfo)window.dashboard.videos.showVideoDialog(e.videoInfo);else if(e.endOfStageExperience){var o=document.createElement("div"),n=e.previousStageInfo,r="".concat(g.default.stage()," ").concat(n.position,": ").concat(n.name);c.default.render(s.default.createElement(l.default,{stageName:r,onContinue:function(){i.hide()}}),o);var i=new d.default({body:o,width:800,redirect:e.nextRedirect});i.show()}else e.nextRedirect&&(appOptions.dialog.shouldShowDialog?f(y(appOptions),null,function(){var e=window.dashboard.reporting.getLastServerResponse();e.nextRedirect&&(window.location.href=e.nextRedirect)}):window.location.href=e.nextRedirect)}})}},t.getSuccessDialog=y;var a=n(o(10)),s=n(o(1)),l=n(o(2566)),c=n(o(8)),u=o(474),d=n(o(622)),p=n(o(326)),h=o(2341),g=n(o(4));function n(e){return e&&e.__esModule?e:{default:e}}var r=!1;function f(e,t,o){var n=document.createElement("div");c.default.render(e,n);var r=n.childNodes[0],i=new d.default({body:r,onHidden:o,autoResizeScrollableElement:".scrollable-element"});return(0,a.default)(r).find("#ok-button").click(function(){i.hide(),t&&t()}),(0,a.default)(r).find("#cancel-button").click(function(){i.hide()}),i.show(),i}function m(){if(!r){var e=(0,a.default)(window),t=(0,a.default)(".mainblock");e.scrollTop()+e.height()<t.offset().top+t.height()-10&&(0,a.default)("html, body").animate({scrollTop:(0,a.default)(".submitButton:first").offset().top-10},1e3),r=!0}}function y(e){var t,o,n=e.level,r=n.options||{},i=e.dialog.app;return t=r.success_title?r.success_title:"text_match"===i&&!n.answers||n.submittable?g.default.thankyou():g.default.correct(),o=r.success_body?r.success_body:"text_match"!==i||n.answers?n.submittable&&"multi"===i?g.default.thankyouForAnswer():g.default.correctAnswer():g.default.thanksForYourResponse(),s.default.createElement(h.SuccessDialog,{title:t,body:o})}},259:function(e,t,o){"use strict";var n=o(75);e.exports=n({space:"xml",transform:function(e,t){return"xml:"+t.slice(3).toLowerCase()},properties:{xmlLang:null,xmlBase:null,xmlSpace:null}})},26:function(e,t,o){"use strict";var r=o(39);e.exports=function(e,t,o){var n;null!=o||"object"==typeof t&&!Array.isArray(t)||(o=t,t={});n=r({type:String(e)},t),Array.isArray(o)?n.children=o:null!=o&&(n.value=String(o));return n}},260:function(e,t,o){"use strict";var n=o(75),r=o(261);e.exports=n({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:r,properties:{xmlns:null,xmlnsXLink:null}})},261:function(e,t,o){"use strict";var n=o(262);e.exports=function(e,t){return n(e,t.toLowerCase())}},262:function(e,t,o){"use strict";e.exports=function(e,t){return t in e?e[t]:t}},263:function(e,t,o){"use strict";var n=o(112),r=o(75),i=n.booleanish,a=n.number,s=n.spaceSeparated;e.exports=r({transform:function(e,t){return"role"===t?t:"aria-"+t.slice(4).toLowerCase()},properties:{ariaActiveDescendant:null,ariaAtomic:i,ariaAutoComplete:null,ariaBusy:i,ariaChecked:i,ariaColCount:a,ariaColIndex:a,ariaColSpan:a,ariaControls:s,ariaCurrent:null,ariaDescribedBy:s,ariaDetails:null,ariaDisabled:i,ariaDropEffect:s,ariaErrorMessage:null,ariaExpanded:i,ariaFlowTo:s,ariaGrabbed:i,ariaHasPopup:null,ariaHidden:i,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:s,ariaLevel:a,ariaLive:null,ariaModal:i,ariaMultiLine:i,ariaMultiSelectable:i,ariaOrientation:null,ariaOwns:s,ariaPlaceholder:null,ariaPosInSet:a,ariaPressed:i,ariaReadOnly:i,ariaRelevant:null,ariaRequired:i,ariaRoleDescription:s,ariaRowCount:a,ariaRowIndex:a,ariaRowSpan:a,ariaSelected:i,ariaSetSize:a,ariaSort:null,ariaValueMax:a,ariaValueMin:a,ariaValueNow:a,ariaValueText:null,role:null}})},268:function(e,t,o){var n=e.exports,r=o(6),i=o(196);n.hidden={display:"none"},n.purpleHeader={height:i["workspace-headers-height"],backgroundColor:r.purple,color:r.white,overflowY:"hidden",WebkitUserSelect:"none",MozUserSelect:"none",msUserSelect:"none",userSelect:"none"},n.purpleHeaderUnfocused={backgroundColor:r.lighter_purple,color:r.dark_charcoal},n.teacherBlueHeader={backgroundColor:r.cyan,color:r.lightest_cyan},n.teacherHeaderUnfocused={color:r.dark_charcoal},n.minecraftHeader={backgroundColor:"#3b3b3b",color:r.white},n.button={paddingTop:5,paddingBottom:5,fontSize:14},n.bubble={color:r.black,marginBottom:10,position:"relative",cursor:"pointer"}},27:function(e,t){var o,n,r=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(t){if(o===setTimeout)return setTimeout(t,0);if((o===i||!o)&&setTimeout)return o=setTimeout,setTimeout(t,0);try{return o(t,0)}catch(e){try{return o.call(null,t,0)}catch(e){return o.call(this,t,0)}}}!function(){try{o="function"==typeof setTimeout?setTimeout:i}catch(e){o=i}try{n="function"==typeof clearTimeout?clearTimeout:a}catch(e){n=a}}();var l,c=[],u=!1,d=-1;function p(){u&&l&&(u=!1,l.length?c=l.concat(c):d=-1,c.length&&h())}function h(){if(!u){var e=s(p);u=!0;for(var t=c.length;t;){for(l=c,c=[];++d<t;)l&&l[d].run();d=-1,t=c.length}l=null,u=!1,function(t){if(n===clearTimeout)return clearTimeout(t);if((n===a||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(t);try{n(t)}catch(e){try{return n.call(null,t)}catch(e){return n.call(this,t)}}}(e)}}function g(e,t){this.fun=e,this.array=t}function f(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(1<arguments.length)for(var o=1;o<arguments.length;o++)t[o-1]=arguments[o];c.push(new g(e,t)),1!==c.length||u||s(h)},g.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=f,r.addListener=f,r.once=f,r.off=f,r.removeListener=f,r.removeAllListeners=f,r.emit=f,r.prependListener=f,r.prependOnceListener=f,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},270:function(e,t,o){"use strict";var i=Object.prototype.hasOwnProperty;function a(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}e.exports=function(e,t){if(a(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var o=Object.keys(e),n=Object.keys(t);if(o.length!==n.length)return!1;for(var r=0;r<o.length;r++)if(!i.call(t,o[r])||!a(e[o[r]],t[o[r]]))return!1;return!0}},2722:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=i(o(1)),r=i(o(4));function i(e){return e&&e.__esModule?e:{default:e}}var a={courseblockContainer:{width:720,paddingTop:20}},s=function(o){function e(e){var t;return(t=o.call(this,e)||this).links=[{href:"/projects/artist/new",img:"/shared/images/courses/logo_tall_artist.jpg",title:r.default.playzoneArtistTitle(),className:"artist",description:r.default.playzoneArtistDescription()},{href:"/projects/playlab/new",img:"/shared/images/courses/logo_tall_playlab.jpg",title:r.default.playzonePlaylabTitle(),className:"playlab",description:r.default.playzonePlaylabDescription()},{href:"/projects",img:"/shared/images/courses/logo_tall_applab.png",title:r.default.playzoneProjectsTitle(),className:"projects",description:r.default.playzoneProjectsDescription()}],t}return function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(e,o),e.prototype.render=function(){return n.default.createElement("div",{className:"center",style:a.courseblockContainer},this.links.map(function(e){return n.default.createElement("div",{key:e.className,className:"courseblock-noaction courseblock-span3 courseblock-tall"},n.default.createElement("a",{href:e.href},n.default.createElement("div",{className:"imgspan"},n.default.createElement("img",{height:"120px",src:e.img,alt:"Logo tall ".concat(e.className)})),n.default.createElement("div",{className:"heading"},n.default.createElement("h3",null,e.title)),n.default.createElement("div",{className:"smalltext"},e.description)))}))},e}(n.default.Component);t.default=s,e.exports=t.default},278:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,o,n,r){for(var i=0,a=e.length;i<a;++i){var s=e[i](t,o,n,r);if(s)return s}},e.exports=t.default},279:function(e,t,o){"use strict";function r(e,t){-1===e.indexOf(t)&&e.push(t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(Array.isArray(t))for(var o=0,n=t.length;o<n;++o)r(e,t[o]);else r(e,t)},e.exports=t.default},280:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e instanceof Object&&!Array.isArray(e)},e.exports=t.default},2800:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=l((0,n.default)(e.email_selector).val());if(""!==t&&a.test(t)){var o=s(t);(0,n.default)(e.hashed_email_selector).val(o),e.skip_clear_email||(!e.age_selector||(0,n.default)(e.age_selector).val()<13)&&(0,n.default)(e.email_selector).val("")}},t.hashEmail=s;var n=i(o(10)),r=i(o(705));function i(e){return e&&e.__esModule?e:{default:e}}var a=/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i;function s(e){return(0,r.default)(l(e)).toString()}function l(e){return e.toLowerCase().trim()}},2804:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,a=(n=o(10))&&n.__esModule?n:{default:n},r=o(474);var i=function(e,t,o,n,r,i){this.levelId=e,this.id=t,this.app=o,this.standalone=n,this.lastAttempt=i,this.answers=r,(0,a.default)(document).ready(a.default.proxy(function(){this.ready()},this))};i.prototype.ready=function(){var e=this;(0,a.default)("#"+this.id+" textarea.response").val(this.lastAttempt),this.standalone&&(0,r.registerGetResult)(this.getResult.bind(this));var t=(0,a.default)("#"+this.id+" textarea.response");t.blur(function(){(0,r.onAnswerChanged)(e.levelId,!0)}),t.on("input",null,null,function(){(0,r.onAnswerChanged)(e.levelId,!1)})},i.prototype.getAppName=function(){return this.app},i.prototype.getResult=function(){var t=(0,a.default)("#"+this.id+" textarea.response").val(),e=this.answers;if(e&&0<e.length){t=t.replace(/\s+/g,"");var o=e.some(function(e){return t===e.replace(/\s+/g,"")});return{response:this.standalone?encodeURIComponent(t):t,result:o,valid:0<t.length}}return{response:this.standalone?encodeURIComponent(t):t,result:0<t.length,valid:0<t.length}},i.prototype.lockAnswers=function(){},i.prototype.getCurrentAnswerFeedback=function(){};var s=i;t.default=s,e.exports=t.default},2806:function(e,t,o){"use strict";function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Status=void 0;var n=r(o(0)),s=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var t=u();if(t&&t.has(e))return t.get(e);var o={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(o,r,i):o[r]=e[r]}o.default=e,t&&t.set(e,o);return o}(o(1)),l=r(o(6)),c=r(o(18));function u(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return u=function(){return e},e}function r(e){return e&&e.__esModule?e:{default:e}}function d(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var p={WAITING:"WAITING",ATTEMPTING:"ATTEMPTING",SUCCEEDED:"SUCCEEDED",FAILED:"FAILED",CELEBRATING:"CELEBRATING",UNKNOWN:"UNKNOWN",ALERT:"ALERT"};t.Status=p;var h={root:{marginBottom:15,marginTop:15,marginLeft:0,marginRight:0},header:{fontSize:26,lineHeight:"normal"},body:{marginBottom:15,marginTop:15,marginLeft:40,marginRight:0,fontSize:14},icon:{float:"left"},headerText:{marginLeft:40}},i=function(e){function t(){return e.apply(this,arguments)||this}return function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(t,e),t.prototype.render=function(){var e=this.props,t=e.stepName,o=e.stepStatus,n=e.alwaysShowChildren,r=e.children,i=n||o===p.FAILED||o===p.ALERT;return s.default.createElement("div",{style:h.root},s.default.createElement("div",{style:function(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{},n=Object.keys(Object(o));"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(o).filter(function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable}))),n.forEach(function(e){d(t,e,o[e])})}return t}({},h.header,function(e){switch(e){case p.ATTEMPTING:case p.WAITING:return{color:l.default.light_gray};case p.SUCCEEDED:case p.CELEBRATING:return{color:l.default.realgreen};case p.UNKNOWN:return{color:l.default.light_gray};case p.ALERT:return{color:l.default.charcoal};default:return{color:l.default.red,fontWeight:"bold"}}}(o))},s.default.createElement("div",{style:h.icon},function(e){var t={marginRight:6};switch(e){case p.WAITING:return s.default.createElement(c.default,{icon:"clock-o",className:"fa-fw",style:t});case p.ATTEMPTING:return s.default.createElement(c.default,{icon:"spinner",className:"fa-fw fa-spin",style:t});case p.SUCCEEDED:return s.default.createElement(c.default,{icon:"check-circle",className:"fa-fw",style:t});case p.CELEBRATING:return s.default.createElement(c.default,{icon:"thumbs-o-up",className:"fa-fw",style:t});case p.FAILED:return s.default.createElement(c.default,{icon:"times-circle",className:"fa-fw",style:t});case p.UNKNOWN:return s.default.createElement(c.default,{icon:"question-circle",className:"fa-fw",style:t});case p.ALERT:return s.default.createElement(c.default,{icon:"exclamation-triangle",className:"fa-fw",style:t});default:throw new Error("Unknown step status ".concat(e,"."))}}(o)),s.default.createElement("div",{style:h.headerText},t)),i&&s.default.createElement("div",{style:h.body},r))},t}(s.Component);d(t.default=i,"propTypes",{children:n.default.node,stepName:n.default.string.isRequired,stepStatus:n.default.oneOf(Object.values(p)).isRequired,alwaysShowChildren:n.default.bool})},281:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,i.default)(e)};var n,r=o(518),i=(n=r)&&n.__esModule?n:{default:n};e.exports=t.default},283:function(e,t,o){"use strict";function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"ICON_PREFIX",{enumerable:!0,get:function(){return r.ICON_PREFIX}}),Object.defineProperty(t,"ICON_PREFIX_REGEX",{enumerable:!0,get:function(){return r.ICON_PREFIX_REGEX}}),Object.defineProperty(t,"DATA_URL_PREFIX_REGEX",{enumerable:!0,get:function(){return r.DATA_URL_PREFIX_REGEX}}),t.fontFamilyStyles=t.fontFamilyOptions=t.themeDisplayNames=t.themeOptions=t.CLASSIC_THEME_INDEX=t.DEFAULT_THEME_INDEX=t.defaultFontSizeStyle=t.CAPTURE_TICK_COUNT=t.IMPORT_SCREEN=t.ANIMATION_LENGTH_MS=t.ApplabInterfaceMode=t.NEW_SCREEN=t.DESIGN_ELEMENT_ID_PREFIX=t.APP_HEIGHT=t.WIDGET_WIDTH=t.APP_WIDTH=t.FOOTER_HEIGHT=void 0;var n=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var o={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(o,r,i):o[r]=e[r]}o.default=e,t&&t.set(e,o);return o}(o(11)),r=o(345);function s(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}t.FOOTER_HEIGHT=30;t.APP_WIDTH=320;t.WIDGET_WIDTH=600;t.APP_HEIGHT=480;t.DESIGN_ELEMENT_ID_PREFIX="design_";t.NEW_SCREEN="New screen...";var i=n.makeEnum("CODE","DESIGN","DATA");t.ApplabInterfaceMode=i;t.ANIMATION_LENGTH_MS=200;t.IMPORT_SCREEN="Import screen...";t.CAPTURE_TICK_COUNT=300;t.defaultFontSizeStyle="14px";t.DEFAULT_THEME_INDEX=0;t.CLASSIC_THEME_INDEX=1;var l=["default","classic","orange","citrus","ketchupAndMustard","lemonade","forest","watermelon","area51","polar","glowInTheDark","bubblegum","millennial","robot"];t.themeOptions=l;var c=["Default","Classic","Orange","Citrus","Ketchup and Mustard","Lemonade","Forest","Watermelon","Area 51","Polar","Glow in the Dark","Bubblegum","Millennial","Robot"];if(t.themeDisplayNames=c,l.length!==c.length)throw new Error("themeOptions length must equal themeDisplayNames length");var u=["Arial","Georgia","Palatino","Times","Courier","Lucida Console","Arial Black","Comic","Impact","Lucida Sans","Tahoma","Trebuchet","Verdana"];t.fontFamilyOptions=u;var d=["Arial, Helvetica, sans-serif","Georgia, serif",'"Palatino Linotype", "Book Antiqua", Palatino, serif','"Times New Roman", Times, serif','"Courier New", Courier, monospace','"Lucida Console", Monaco, monospace','"Arial Black", Gadget, sans-serif','"Comic Sans MS", cursive, sans-serif',"Impact, Charcoal, sans-serif",'"Lucida Sans Unicode", "Lucida Grande", sans-serif',"Tahoma, Geneva, sans-serif",'"Trebuchet MS", Helvetica, sans-serif',"Verdana, Geneva, sans-serif"];if(t.fontFamilyStyles=d,u.length!==d.length)throw new Error("fontFamilyOptions length must equal fontFamilyStyles length")},284:function(e,t,o){"use strict";o(687);var n,r=(n=o(688))&&n.__esModule?n:{default:n};HTMLCanvasElement.prototype.toBlob||Object.defineProperty(HTMLCanvasElement.prototype,"toBlob",{value:function(e,t,o){for(var n=atob(this.toDataURL(t,o).split(",")[1]),r=new Uint8Array(n.length),i=0;i<n.length;i++)r[i]=n.charCodeAt(i);e(new Blob([r],{type:t||"image/png"}))}}),void 0===SVGElement.prototype.getElementsByClassName&&(SVGElement.prototype.getElementsByClassName=function(e){return this.querySelectorAll("."+e)}),document.evaluate||r.default.install(window)},285:function(e,t,o){"use strict";
/*!
 * repeat-string <https://github.com/jonschlinkert/repeat-string>
 *
 * Copyright (c) 2014-2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */var n,r="";e.exports=function(e,t){if("string"!=typeof e)throw new TypeError("expected a string");if(1===t)return e;if(2===t)return e+e;var o=e.length*t;if(n!==e||void 0===n)n=e,r="";else if(r.length>=o)return r.substr(0,o);for(;o>r.length&&1<t;)1&t&&(r+=e),t>>=1,e+=e;return r=(r+=e).substr(0,o)}},2856:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getUserSignedInFromCookieAndDom=h,t.default=function(o){(0,n.default)(document).ready(function(){var e=(0,c.getStore)();e.dispatch((0,u.setUserSignedIn)(h())),o&&e.dispatch((0,u.setUserType)(o));var t=document.createElement("div");i.default.render(r.default.createElement(a.Provider,{store:e},r.default.createElement(l.default,null)),t),document.body.appendChild(t)})};var n=p(o(10)),r=p(o(1)),i=p(o(8)),a=o(9),s=p(o(209)),l=p(o(3214)),c=o(596),u=o(309),d=o(96);function p(e){return e&&e.__esModule?e:{default:e}}function h(){if(s.default.get((0,d.environmentSpecificCookieName)("_shortName")))return!0;var e=document.querySelector(".header_button.header_user.user_menu .display_name");return!(!e||!e.dataset.id)}},2857:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(o(0)),c=a(o(1)),r=a(o(6)),i=o(9);function a(e){return e&&e.__esModule?e:{default:e}}var s,l,u,d={headerBanner:{height:260,maxWidth:"60%",marginTop:25},headerBannerResponsive:{marginBottom:61,maxWidth:"60%",marginTop:25},headerBannerShort:{height:140,maxWidth:"60%",marginTop:25},headerBannerShortResponsive:{marginBottom:61,maxWidth:"60%",marginTop:25},bannerHeading:{fontFamily:'"Gotham 7r", sans-serif',color:r.default.white,fontSize:32,marginBottom:10,lineHeight:"40px"},bannerHeadingResponsive:{fontFamily:'"Gotham 7r", sans-serif',color:r.default.white,fontSize:32,marginBottom:10,lineHeight:"40px",height:240},bannerHeadingShort:{fontFamily:'"Gotham 7r", sans-serif',color:r.default.white,fontSize:32,marginBottom:10,lineHeight:"40px",marginTop:-20},bannerHeadingShortResponsive:{fontFamily:'"Gotham 7r", sans-serif',color:r.default.white,fontSize:32,marginBottom:10,lineHeight:"40px",marginTop:-20,height:120},bannerSubHeading:{fontFamily:'"Gotham 4r", sans-serif',color:r.default.white,fontSize:16,lineHeight:"21px",marginBottom:10},bannerSubHeadingResponsive:{fontFamily:'"Gotham 4r", sans-serif',color:r.default.dark_charcoal,fontSize:16,lineHeight:"21px",marginBottom:10},bannerDescription:{fontFamily:'"Gotham 4r", sans-serif',color:r.default.white,fontSize:16,lineHeight:"21px",marginBottom:20},bannerDescriptionResponsive:{fontFamily:'"Gotham 4r", sans-serif',color:r.default.dark_charcoal,fontSize:16,lineHeight:"21px",marginBottom:20}},p=function(e){function t(){return e.apply(this,arguments)||this}return function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(t,e),t.prototype.render=function(){var e,t,o,n,r=this.props,i=r.short,a=r.headingText,s=r.subHeadingText,l=r.description;return n="xs"===r.responsiveSize?(e=i?d.headerBannerShortResponsive:d.headerBannerResponsive,t=i?d.bannerHeadingShortResponsive:d.bannerHeadingResponsive,o=d.bannerSubHeadingResponsive,d.bannerDescriptionResponsive):(e=i?d.headerBannerShort:d.headerBanner,t=i?d.bannerHeadingShort:d.bannerHeading,o=d.bannerSubHeading,d.bannerDescription),c.default.createElement("div",{style:e},c.default.createElement("div",{style:t},a||c.default.createElement("span",null," ")),c.default.createElement("div",{style:o},s||c.default.createElement("span",null," ")),l&&c.default.createElement("div",{style:n},l),this.props.children)},t}(c.default.Component);s=p,l="propTypes",u={headingText:n.default.string,subHeadingText:n.default.string,description:n.default.string,children:n.default.node,short:n.default.bool,responsiveSize:n.default.oneOf(["lg","md","sm","xs"]).isRequired},l in s?Object.defineProperty(s,l,{value:u,enumerable:!0,configurable:!0,writable:!0}):s[l]=u;var h=(0,i.connect)(function(e){return{responsiveSize:e.responsive.responsiveSize}})(p);t.default=h,e.exports=t.default},2858:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=i(o(0)),h=i(o(1)),r=i(o(6)),g=i(o(4)),f=o(219),m=o(1578);function i(e){return e&&e.__esModule?e:{default:e}}var a,s,l,y={card:{border:"1px solid #bbbbbb",borderRadius:2,width:214,backgroundColor:r.default.white},title:{paddingLeft:15,paddingRight:10,paddingTop:18,paddingBottom:5,fontSize:16,fontFamily:'"Gotham 5r", sans-serif',color:r.default.charcoal,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",height:18,boxSizing:"content-box"},titleLink:{color:r.default.charcoal},lastEdit:{paddingLeft:15,paddingRight:10,paddingBottom:10,fontSize:11,fontFamily:'"Gotham", sans-serif',color:r.default.charcoal},ageRange:{paddingLeft:10,paddingTop:5,fontSize:11,fontFamily:'"Gotham", sans-serif',color:r.default.charcoal},firstInitial:{paddingTop:5,fontSize:11,paddingLeft:15,fontFamily:'"Gotham", sans-serif',color:r.default.charcoal},thumbnail:{width:214,height:150,display:"flex",justifyContent:"center",alignItems:"center",overflow:"hidden"},fullThumbnail:{height:214},image:{flexShrink:0,width:"100%",weight:"100%"},bold:{fontFamily:'"Gotham 5r", sans-serif'},noTime:{paddingBottom:10}},c=function(e){function t(){return e.apply(this,arguments)||this}return function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(t,e),t.prototype.render=function(){var e=this.props,t=e.projectData,o=e.currentGallery,n=e.isDetailView,r=this.props.projectData,i=r.type,a=r.channel,s="personal"===o,l="public"===o,c=s?"/projects/".concat(i,"/").concat(a,"/edit"):"/projects/".concat(i,"/").concat(a),u=y.thumbnail;this.props.showFullThumbnail&&Object.assign(u,y.fullThumbnail);var d=l&&n&&t.publishedAt,p=d?{}:y.noTime;return h.default.createElement("div",{className:"project_card"},h.default.createElement("div",{style:y.card},h.default.createElement("div",{style:u},h.default.createElement("a",{href:(0,f.studio)(c),style:{width:"100%"},target:l?"_blank":void 0},h.default.createElement("img",{src:t.thumbnailUrl||"/blockly/media/projects/project_default.png",style:y.image}))),h.default.createElement("a",{style:y.titleLink,href:(0,f.studio)(c),target:l?"_blank":void 0},h.default.createElement("div",{style:y.title,className:"ui-project-name-".concat(t.type)},t.name)),h.default.createElement("div",{style:p},l&&t.studentName&&h.default.createElement("span",{style:y.firstInitial},g.default.by(),": ",h.default.createElement("span",{style:y.bold},t.studentName)),l&&t.studentAgeRange&&h.default.createElement("span",{style:y.ageRange},g.default.age(),": ",h.default.createElement("span",{style:y.bold},t.studentAgeRange))),d&&h.default.createElement("div",{style:y.lastEdit},g.default.published(),": ",h.default.createElement(m.UnlocalizedTimeAgo,{style:y.bold,dateString:t.publishedAt})),s&&t.updatedAt&&h.default.createElement("div",{style:y.lastEdit},g.default.projectLastUpdated(),": ",h.default.createElement(m.UnlocalizedTimeAgo,{style:y.bold,dateString:t.updatedAt}))))},t}(h.default.Component);t.default=c,a=c,s="propTypes",l={projectData:n.default.object.isRequired,currentGallery:n.default.oneOf(["personal","public"]).isRequired,showFullThumbnail:n.default.bool,isDetailView:n.default.bool},s in a?Object.defineProperty(a,s,{value:l,enumerable:!0,configurable:!0,writable:!0}):a[s]=l,e.exports=t.default},287:function(e,t,o){"use strict";function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,r=(n=o(0))&&n.__esModule?n:{default:n},i=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var o={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(o,r,i):o[r]=e[r]}o.default=e,t&&t.set(e,o);return o}(o(1));function s(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function l(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var c={aboveFooter:{height:"90px"},footer:{position:"absolute",height:"100px",padding:"0 20px",left:"0",right:"0",bottom:"0",background:"white",zIndex:"50"},buttonRow:{display:"flex",flexFlow:"row",justifyContent:"space-between"},rightAlign:{justifyContent:"flex-end"}},u=function(e){function t(){return e.apply(this,arguments)||this}return function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(t,e),t.prototype.render=function(){var e=this.props.rightAlign?function(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{},n=Object.keys(Object(o));"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(o).filter(function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable}))),n.forEach(function(e){l(t,e,o[e])})}return t}({},c.buttonRow,c.rightAlign):c.buttonRow;return i.default.createElement("div",null,i.default.createElement("div",{style:c.aboveFooter}),i.default.createElement("div",{style:c.footer},i.default.createElement("hr",null),i.default.createElement("div",{style:e},this.props.children)))},t}(i.Component);l(t.default=u,"propTypes",{rightAlign:r.default.bool,children:r.default.any}),e.exports=t.default},2870:function(e,t,o){var p=o(3904);e.exports=a,e.exports.parse=n,e.exports.compile=function(e,t){return r(n(e,t))},e.exports.tokensToFunction=r,e.exports.tokensToRegExp=i;var k=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function n(e,t){for(var o,n,r=[],i=0,a=0,s="",l=t&&t.delimiter||"/";null!=(o=k.exec(e));){var c=o[0],u=o[1],d=o.index;if(s+=e.slice(a,d),a=d+c.length,u)s+=u[1];else{var p=e[a],h=o[2],g=o[3],f=o[4],m=o[5],y=o[6],_=o[7];s&&(r.push(s),s="");var v=null!=h&&null!=p&&p!==h,b="+"===y||"*"===y,E="?"===y||"*"===y,T=o[2]||l,S=f||m;r.push({name:g||i++,prefix:h||"",delimiter:T,optional:E,repeat:b,partial:v,asterisk:!!_,pattern:S?(n=S,n.replace(/([=!:$\/()])/g,"\\$1")):_?".*":"[^"+C(T)+"]+?"})}}return a<e.length&&(s+=e.substr(a)),s&&r.push(s),r}function h(e){return encodeURI(e).replace(/[\/?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function r(u){for(var d=new Array(u.length),e=0;e<u.length;e++)"object"==typeof u[e]&&(d[e]=new RegExp("^(?:"+u[e].pattern+")$"));return function(e,t){for(var o="",n=e||{},r=(t||{}).pretty?h:encodeURIComponent,i=0;i<u.length;i++){var a=u[i];if("string"!=typeof a){var s,l=n[a.name];if(null==l){if(a.optional){a.partial&&(o+=a.prefix);continue}throw new TypeError('Expected "'+a.name+'" to be defined')}if(p(l)){if(!a.repeat)throw new TypeError('Expected "'+a.name+'" to not repeat, but received `'+JSON.stringify(l)+"`");if(0===l.length){if(a.optional)continue;throw new TypeError('Expected "'+a.name+'" to not be empty')}for(var c=0;c<l.length;c++){if(s=r(l[c]),!d[i].test(s))throw new TypeError('Expected all "'+a.name+'" to match "'+a.pattern+'", but received `'+JSON.stringify(s)+"`");o+=(0===c?a.prefix:a.delimiter)+s}}else{if(s=a.asterisk?encodeURI(l).replace(/[?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}):r(l),!d[i].test(s))throw new TypeError('Expected "'+a.name+'" to match "'+a.pattern+'", but received "'+s+'"');o+=a.prefix+s}}else o+=a}return o}}function C(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function g(e,t){return e.keys=t,e}function f(e){return e.sensitive?"":"i"}function i(e,t,o){p(t)||(o=t||o,t=[]);for(var n=(o=o||{}).strict,r=!1!==o.end,i="",a=0;a<e.length;a++){var s=e[a];if("string"==typeof s)i+=C(s);else{var l=C(s.prefix),c="(?:"+s.pattern+")";t.push(s),s.repeat&&(c+="(?:"+l+c+")*"),i+=c=s.optional?s.partial?l+"("+c+")?":"(?:"+l+"("+c+"))?":l+"("+c+")"}}var u=C(o.delimiter||"/"),d=i.slice(-u.length)===u;return n||(i=(d?i.slice(0,-u.length):i)+"(?:"+u+"(?=$))?"),i+=r?"$":n&&d?"":"(?="+u+"|$)",g(new RegExp("^"+i,f(o)),t)}function a(e,t,o){return p(t)||(o=t||o,t=[]),o=o||{},e instanceof RegExp?function(e,t){var o=e.source.match(/\((?!\?)/g);if(o)for(var n=0;n<o.length;n++)t.push({name:n,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return g(e,t)}(e,t):p(e)?function(e,t,o){for(var n=[],r=0;r<e.length;r++)n.push(a(e[r],t,o).source);return g(new RegExp("(?:"+n.join("|")+")",f(o)),t)}(e,t,o):function(e,t,o){return i(n(e,o),t,o)}(e,t,o)}},288:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(t){t=t.toLowerCase();var e=document.querySelector("script[data-".concat(t,"]"));try{return JSON.parse(e.dataset[t])}catch(e){throw console.error("Failed to parse script data for script",t),e}},e.exports=t.default},297:function(e,o,t){"use strict";(function(e){var t="object"==typeof e&&e&&e.Object===Object&&e;o.a=t}).call(this,t(25))},3:function(o,e,t){(function(e){var t;t="undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{},o.exports=t}).call(this,t(25))},302:function(e,t){e.exports=function(e){this.ok=!1,this.alpha=1,"#"==e.charAt(0)&&(e=e.substr(1,6)),e=(e=e.replace(/ /g,"")).toLowerCase();var u={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"};e=u[e]||e;for(var d=[{re:/^rgba\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3}),\s*((?:\d?\.)?\d)\)$/,example:["rgba(123, 234, 45, 0.8)","rgba(255,234,245,1.0)"],process:function(e){return[parseInt(e[1]),parseInt(e[2]),parseInt(e[3]),parseFloat(e[4])]}},{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(e){return[parseInt(e[1]),parseInt(e[2]),parseInt(e[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}}],t=0;t<d.length;t++){var o=d[t].re,n=d[t].process,r=o.exec(e);if(r){var i=n(r);this.r=i[0],this.g=i[1],this.b=i[2],3<i.length&&(this.alpha=i[3]),this.ok=!0}}this.r=this.r<0||isNaN(this.r)?0:255<this.r?255:this.r,this.g=this.g<0||isNaN(this.g)?0:255<this.g?255:this.g,this.b=this.b<0||isNaN(this.b)?0:255<this.b?255:this.b,this.alpha=this.alpha<0?0:1<this.alpha||isNaN(this.alpha)?1:this.alpha,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toRGBA=function(){return"rgba("+this.r+", "+this.g+", "+this.b+", "+this.alpha+")"},this.toHex=function(){var e=this.r.toString(16),t=this.g.toString(16),o=this.b.toString(16);return 1==e.length&&(e="0"+e),1==t.length&&(t="0"+t),1==o.length&&(o="0"+o),"#"+e+t+o},this.getHelpXML=function(){for(var e=new Array,t=0;t<d.length;t++)for(var o=d[t].example,n=0;n<o.length;n++)e[e.length]=o[n];for(var r in u)e[e.length]=r;var i=document.createElement("ul");i.setAttribute("id","rgbcolor-examples");for(t=0;t<e.length;t++)try{var a=document.createElement("li"),s=new RGBColor(e[t]),l=document.createElement("div");l.style.cssText="margin: 3px; border: 1px solid black; background:"+s.toHex()+"; color:"+s.toHex(),l.appendChild(document.createTextNode("test"));var c=document.createTextNode(" "+e[t]+" -> "+s.toRGB()+" -> "+s.toHex());a.appendChild(l),a.appendChild(c),i.appendChild(a)}catch(e){}return i}}},309:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:p,t=1<arguments.length?arguments[1]:void 0;return t.type!==a?t.type!==s?t.type!==u?t.type!==l?t.type!==c?e:r({},e,{userType:t.userType}):r({},e,{signInState:t.isSignedIn?d.SignedIn:d.SignedOut}):r({},e,{hasSeenStandardsReportInfo:t.hasSeenStandardsReport}):r({},e,{userName:t.userName}):r({},e,{userId:t.userId})},t.setUserType=t.setUserSignedIn=t.setCurrentUserHasSeenStandardsReportInfo=t.setCurrentUserName=t.setCurrentUserId=t.SignInState=void 0;var n=o(11);function r(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{},n=Object.keys(Object(o));"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(o).filter(function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable}))),n.forEach(function(e){i(t,e,o[e])})}return t}function i(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var a="currentUser/SET_CURRENT_USER_ID",s="currentUser/SET_CURRENT_USER_NAME",l="currentUser/SET_USER_SIGNED_IN",c="currentUser/SET_USER_TYPE",u="currentUser/SET_HAS_SEEN_STANDARDS_REPORT",d=(0,n.makeEnum)("Unknown","SignedIn","SignedOut");t.SignInState=d;t.setCurrentUserId=function(e){return{type:a,userId:e}};t.setCurrentUserName=function(e){return{type:s,userName:e}};t.setCurrentUserHasSeenStandardsReportInfo=function(e){return{type:u,hasSeenStandardsReport:e}};t.setUserSignedIn=function(e){return{type:l,isSignedIn:e}};t.setUserType=function(e){return{type:c,userType:e}};var p={userId:null,userName:null,userType:"unknown",signInState:d.Unknown,hasSeenStandardsReportInfo:!1}},3163:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(o(1)),r=l(o(8)),i=l(o(3164)),a=l(o(897)),s=l(o(4));function l(e){return e&&e.__esModule?e:{default:e}}t.default=function(e,t){r.default.render(n.default.createElement(i.default,{i18n:{tos:t,contact_us:s.default.contactUs({url:"http://code.org/contact"}),edit_project:s.default.editProject(),go_to_code_studio:s.default.goToCodeStudio()},isOwner:e.isOwner()}),document.getElementById("codeApp")),(0,a.default)(e)},e.exports=t.default},3164:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(o(0)),r=a(o(1)),i=a(o(1157));function a(e){return e&&e.__esModule?e:{default:e}}var s,l,c,u=function(e){function t(){return e.apply(this,arguments)||this}return function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(t,e),t.prototype.render=function(){var e,t,o={backgroundColor:"#0094ca",color:"white",maxWidth:600,margin:"0 auto",marginTop:20,borderRadius:15},n={fontSize:18,lineHeight:"24px",padding:5};return t=this.props.isOwner?(e="edit",this.props.i18n.edit_project):(e="https://studio.code.org",this.props.i18n.go_to_code_studio),r.default.createElement("table",{style:o},r.default.createElement("tbody",null,r.default.createElement("tr",null,r.default.createElement("td",null,r.default.createElement("div",{style:{width:100,height:100,background:"gold",borderRadius:50,MozBorderRadius:50,WebkitBorderRadius:50,margin:20,position:"relative"}},r.default.createElement("div",{style:{fontSize:80,position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"}},"!"))),r.default.createElement("td",{style:{paddingLeft:0,paddingTop:10,paddingBottom:10,paddingRight:20}},r.default.createElement(i.default,{i18n:this.props.i18n,className:"exclamation-abuse",textStyle:n}),r.default.createElement("p",{className:"exclamation-abuse",style:n},r.default.createElement("a",{href:e},t))))))},t}(r.default.Component);t.default=u,s=u,l="propTypes",c={i18n:n.default.shape({tos:n.default.string.isRequired,contact_us:n.default.string.isRequired,edit_project:n.default.string.isRequired,go_to_code_studio:n.default.string.isRequired}).isRequired,isOwner:n.default.bool.isRequired},l in s?Object.defineProperty(s,l,{value:c,enumerable:!0,configurable:!0,writable:!0}):s[l]=c,e.exports=t.default},3165:function(e,t){var a={};e.exports={startTiming:function(e,t,o){a[e+t+o]=(new Date).getTime()},stopTiming:function(e,t,o){var n=e+t+o,r=(new Date).getTime(),i=a[n];ga("send","timing",e,t,r-i,o)}}},3166:function(e,t,o){"use strict";var n,a=(n=o(10))&&n.__esModule?n:{default:n};var r="pegman-location";function s(e){var t=(0,a.default)(e).attr("clip-path");return t?t.match(/\(\#(.*)\)/)[1]:void 0}function l(e,t){var o=(0,a.default)('<svg xmlns="http://www.w3.org/2000/svg" version="1.1" />');t&&o.attr("class",t);var n=s(e);(0,a.default)("#"+n).insertAfter(e).add(e).wrapAll(o)}e.exports={fixup:function(){(0,a.default)("[clip-path]").each(function(e,t){(0,a.default)(t).attr("class")===r?((0,a.default)(t).attr("class",""),l(t,r)):l(t)}),function(){var n,e=(0,a.default)("#visualization>svg")[0];if(!e)return;var r={},i={};new WebKitMutationObserver(function(e){e.forEach(function(e){for(n=0;n<e.addedNodes.length;n++){var t=e.addedNodes[n];"image"===t.nodeName&&(r[(0,a.default)(t).attr("id")]=t),"clipPath"===t.nodeName&&(i[(0,a.default)(t).attr("id")]=t)}for(n=0;n<e.removedNodes.length;n++){var o=e.removedNodes[n];"image"!==o.nodeName&&"clipPath"!==o.nodeName||(0,a.default)("svg > svg:empty").remove()}}),a.default.each(r,function(e,t){var o=s(t);i.hasOwnProperty(o)&&(l(t),delete r[e],delete i[o])})}).observe(e,{childList:!0})}()}}},317:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},318:function(e,t,o){"use strict";e.exports=function(e){try{e.focus()}catch(e){}}},319:function(e,t,o){"use strict";var n=o(50),r={listen:function(e,t,o){return e.addEventListener?(e.addEventListener(t,o,!1),{remove:function(){e.removeEventListener(t,o,!1)}}):e.attachEvent?(e.attachEvent("on"+t,o),{remove:function(){e.detachEvent("on"+t,o)}}):void 0},capture:function(e,t,o){return e.addEventListener?(e.addEventListener(t,o,!0),{remove:function(){e.removeEventListener(t,o,!0)}}):{remove:n}},registerDefault:function(){}};e.exports=r},320:function(e,t,o){"use strict";e.exports=function(t){if(void 0===(t=t||("undefined"!=typeof document?document:void 0)))return null;try{return t.activeElement||t.body}catch(e){return t.body}}},321:function(e,t,o){e.exports=o.p+"blank_sharing_drawingwpae53b62a1609cbbb425574e45b37b837.png"},3214:function(e,t,o){"use strict";function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.UnconnectedSignInOrAgeDialog=void 0;var n=_(o(0)),i=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var t=y();if(t&&t.has(e))return t.get(e);var o={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(o,r,i):o[r]=e[r]}o.default=e,t&&t.set(e,o);return o}(o(1)),r=o(9),s=_(o(209)),l=_(o(66)),c=_(o(6)),u=_(o(23)),d=_(o(1564)),p=o(309),h=_(o(4)),g=o(11),f=o(96),m=o(219);function y(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return y=function(){return e},e}function _(e){return e&&e.__esModule?e:{default:e}}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var E={container:{margin:20,color:c.default.charcoal},heading:{fontSize:16,fontFamily:"'Gotham 5r', sans-serif"},middle:{marginTop:20,marginBottom:20,paddingBottom:20,paddingTop:20,borderTopWidth:1,borderBottomWidth:1,borderRightWidth:0,borderLeftWidth:0,borderStyle:"solid",borderColor:c.default.lighter_gray,display:"flex"},middleCell:{display:"inline-block",verticalAlign:"top",maxWidth:"50%"},center:{paddingLeft:20,paddingRight:20,flexDirection:"column",display:"flex"},centerLine:{borderLeft:"1px solid ".concat(c.default.lighter_gray),marginLeft:"50%",height:"100%"},centerText:{padding:3},button:{paddingTop:15},age:{paddingTop:15},dropdown:{verticalAlign:"top",marginRight:10,marginTop:2,width:160},tooYoungButton:{textAlign:"right"}},T="anon_over13",S=function(r){function e(){for(var o,e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return b(v(o=r.call.apply(r,[this].concat(t))||this),"state",{open:!0,tooYoung:!1}),b(v(o),"onClickAgeOk",function(){var e=o.ageDropdown.getValue();if(e)if(parseInt(e,10)<13)o.setState({tooYoung:!0});else{sessionStorage.setItem(T,13<=parseInt(e,10));var t=(0,f.environmentSpecificCookieName)("storage_id");s.default.get(t)?(s.default.remove(t,{path:"/",domain:".code.org"}),(0,g.reload)()):o.setState({open:!1})}}),o}return function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(e,r),e.prototype.render=function(){var t=this,e=this.props,o=e.signedIn;if(!e.age13Required||o||sessionStorage.getItem(T))return null;var n=i.default.createElement("div",{style:E.middleCell},h.default.provideAge(),i.default.createElement("div",{style:E.age},i.default.createElement(d.default,{style:E.dropdown,ref:function(e){return t.ageDropdown=e}}),i.default.createElement(u.default,{__useDeprecatedTag:!0,id:"uitest-submit-age",onClick:this.onClickAgeOk,text:h.default.ok(),color:u.default.ButtonColor.gray})));return this.state.tooYoung?i.default.createElement(l.default,{useUpdatedStyles:!0,isOpen:!0,uncloseable:!0},i.default.createElement("div",{style:E.container},i.default.createElement("div",{style:E.heading},h.default.tutorialUnavailable()),i.default.createElement("div",{style:E.middle},h.default.tutorialUnavailableExplanation()),i.default.createElement("div",{style:E.tooYoungButton},i.default.createElement(u.default,{__useDeprecatedTag:!0,href:(0,m.pegasus)("/hourofcode/overview"),text:"See all tutorials",color:u.default.ButtonColor.orange})))):i.default.createElement(l.default,{useUpdatedStyles:!0,isOpen:this.state.open,uncloseable:!0},i.default.createElement("div",{style:E.container,className:"signInOrAgeDialog"},i.default.createElement("div",{style:E.heading},h.default.signinOrAge()),i.default.createElement("div",{style:E.middle},i.default.createElement("div",{style:E.middleCell},h.default.signinForProgress(),i.default.createElement("div",{style:E.button},i.default.createElement(u.default,{__useDeprecatedTag:!0,href:"/users/sign_in?user_return_to=".concat(location.pathname),text:h.default.signinCodeOrg(),color:u.default.ButtonColor.gray}))),i.default.createElement("div",{style:E.center},i.default.createElement("div",{style:E.centerLine}),i.default.createElement("div",{style:E.centerText},h.default.or()),i.default.createElement("div",{style:E.centerLine})),n),i.default.createElement("div",null,i.default.createElement("a",{href:"https://code.org/privacy"},h.default.privacyPolicy()))))},e}(i.Component);b(S,"propTypes",{signedIn:n.default.bool.isRequired,age13Required:n.default.bool.isRequired});var k=S;t.UnconnectedSignInOrAgeDialog=k;var C=(0,r.connect)(function(e){return{age13Required:e.progress.isAge13Required,signedIn:e.currentUser.signInState===p.SignInState.SignedIn}})(S);t.default=C},322:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:p,t=1<arguments.length?arguments[1]:void 0;switch(t.type){case s:return n({},e,{isOpen:!0,projectId:t.projectId,projectType:t.projectType});case l:return n({},e,{isOpen:!1});case c:return n({},e,{isPublishPending:!0});case u:return n({},e,{isOpen:!1,isPublishPending:!1,lastPublishedAt:t.lastPublishedAt,lastPublishedProjectData:t.lastPublishedProjectData});case d:return n({},e,{isPublishPending:!1});default:return e}},t.showPublishDialog=function(e,t){return{type:s,projectId:e,projectType:t}},t.hidePublishDialog=function(){return{type:l}},t.publishProject=function(e,r){return function(n){return a.AllPublishableProjectTypes.includes(r)?(n({type:c}),new Promise(function(o,t){i.channels.withProjectId(e).ajax("POST","publish/".concat(r),function(e){var t=JSON.parse(e.response);n({type:u,lastPublishedAt:t.publishedAt,lastPublishedProjectData:t}),o()},function(e){n({type:d}),t(e)},null)})):Promise.reject("Cannot publish project of type ".concat(r,"."))}},t.PUBLISH_FAILURE=t.PUBLISH_SUCCESS=t.PUBLISH_REQUEST=void 0;var i=o(126),a=o(61);function n(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{},n=Object.keys(Object(o));"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(o).filter(function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable}))),n.forEach(function(e){r(t,e,o[e])})}return t}function r(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var s="publishDialog/SHOW_PUBLISH_DIALOG",l="publishDialog/HIDE_PUBLISH_DIALOG",c="publishDialog/PUBLISH_REQUEST";t.PUBLISH_REQUEST=c;var u="publishDialog/PUBLISH_SUCCESS";t.PUBLISH_SUCCESS=u;var d="publishDialog/PUBLISH_FAILURE";t.PUBLISH_FAILURE=d;var p={isOpen:!1,projectId:null,projectType:null,isPublishPending:!1,lastPublishedAt:null,lastPublishedProjectData:null}},3227:function(e,t,o){"use strict";function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=d(o(0)),r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var t=u();if(t&&t.has(e))return t.get(e);var o={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(o,r,i):o[r]=e[r]}o.default=e,t&&t.set(e,o);return o}(o(1)),i=d(o(2422)),s=d(o(2485)),l=d(o(4)),c=o(219);function u(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return u=function(){return e},e}function d(e){return e&&e.__esModule?e:{default:e}}var p,h,g,f=function(e){function t(){return e.apply(this,arguments)||this}return function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(t,e),t.prototype.render=function(){return r.default.createElement(s.default,null,this.props.cards.map(function(e,t){return r.default.createElement(i.default,{linkId:e.linkId,linkClass:e.linkClass,key:t,title:e.heading,description:e.description,buttonText:l.default.learnMore(),link:(0,c.pegasus)(e.path)})}))},t}(r.Component);p=f,h="propTypes",g={cards:n.default.arrayOf(n.default.shape({linkId:n.default.string,linkClass:n.default.string,heading:n.default.string.isRequired,description:n.default.string.isRequired,path:n.default.string.isRequired})).isRequired},h in p?Object.defineProperty(p,h,{value:g,enumerable:!0,configurable:!0,writable:!0}):p[h]=g;var m=f;t.default=m,e.exports=t.default},3229:function(e,t,o){"use strict";function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=u(o(0)),r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var t=c();if(t&&t.has(e))return t.get(e);var o={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(o,r,i):o[r]=e[r]}o.default=e,t&&t.set(e,o);return o}(o(1)),i=o(2423),s=o(219),l=u(o(4));function c(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return c=function(){return e},e}function u(e){return e&&e.__esModule?e:{default:e}}var d,p,h,g=function(e){function t(){return e.apply(this,arguments)||this}return function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(t,e),t.prototype.render=function(){var e=this.props.isTeacher,t=e?l.default.teacherAnnouncementSpecial2020Heading():l.default.studentAnnouncementSpecial2020Heading(),o=e?l.default.teacherAnnouncementSpecial2020Body():l.default.studentAnnouncementSpecial2020Body(),n=e?"teacher_homepage_announcement_special2020":"student_homepage_announcement_special2020";return r.default.createElement(i.TwoColumnActionBlock,{imageUrl:(0,s.pegasus)("/shared/images/fill-540x300/announcement/announcement_special2020.jpg"),subHeading:t,description:o,buttons:[{id:n,url:(0,s.pegasus)("/athome"),text:l.default.studentAnnouncementSpecial2020Button()}]})},t}(r.Component);t.default=g,d=g,p="propTypes",h={isTeacher:n.default.bool},p in d?Object.defineProperty(d,p,{value:h,enumerable:!0,configurable:!0,writable:!0}):d[p]=h,e.exports=t.default},3231:function(e,t,o){"use strict";function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.SCHOOL_TYPES_HAVING_NAMES=t.SCHOOL_TYPES_HAVING_NCES_SEARCH=void 0;var n=r(o(0)),s=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var t=h();if(t&&t.has(e))return t.get(e);var o={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(o,r,i):o[r]=e[r]}o.default=e,t&&t.set(e,o);return o}(o(1)),l=r(o(3232)),c=r(o(3862)),u=r(o(2581)),d=r(o(3233)),p=r(o(4));function h(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return h=function(){return e},e}function r(e){return e&&e.__esModule?e:{default:e}}function g(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var f=["charter","private","public"];t.SCHOOL_TYPES_HAVING_NCES_SEARCH=f;var m=["charter","private","public","afterschool","organization"];t.SCHOOL_TYPES_HAVING_NAMES=m;var i=function(t){function e(){var e;return(e=t.call(this)||this).bindSchoolNotFound=e.bindSchoolNotFound.bind(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)),e}!function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(e,t);var o=e.prototype;return o.isSchoolNotFoundValid=function(){return this.schoolNotFound.isValid()},o.isSchoolAutocompleteDropdownValid=function(){return!!this.props.ncesSchoolId&&("-1"!==this.props.ncesSchoolId||this.isSchoolNotFoundValid())},o.isValid=function(){return!(!this.props.country||!this.props.schoolType)&&("United States"===this.props.country&&f.includes(this.props.schoolType)?this.isSchoolAutocompleteDropdownValid():this.isSchoolNotFoundValid())},o.bindSchoolNotFound=function(e){this.schoolNotFound=e},o.render=function(){var e="United States"===this.props.country,t=!e,o="-1"===this.props.ncesSchoolId,n=!f.includes(this.props.schoolType)&&""!==this.props.schoolType,r=m.includes(this.props.schoolType),i=!1;["public","private","charter"].includes(this.props.schoolType)&&(i=!0);var a=["afterschool","organization"].includes(this.props.schoolType)?p.default.signupFormSchoolOrOrganization():p.default.schoolName();return s.default.createElement("div",{style:function(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{},n=Object.keys(Object(o));"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(o).filter(function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable}))),n.forEach(function(e){g(t,e,o[e])})}return t}({width:600},this.props.styles)},s.default.createElement(l.default,{onChange:this.props.onCountryChange,value:this.props.country,fieldName:this.props.fieldNames.country,showErrorMsg:this.props.showErrors,showRequiredIndicator:this.props.showRequiredIndicator,singleLineLayout:!0,maxHeight:160}),s.default.createElement(c.default,{value:this.props.schoolType,fieldName:this.props.fieldNames.schoolType,country:this.props.country,onChange:this.props.onSchoolTypeChange,showErrorMsg:this.props.showErrors,showRequiredIndicator:this.props.showRequiredIndicator}),e&&f.includes(this.props.schoolType)&&s.default.createElement(u.default,{setField:this.props.onSchoolChange,value:this.props.ncesSchoolId,fieldName:this.props.fieldNames.ncesSchoolId,showErrorMsg:this.props.showErrors,singleLineLayout:!0,showRequiredIndicator:this.props.showRequiredIndicator}),(t||o||n)&&s.default.createElement(d.default,{ref:this.bindSchoolNotFound,onChange:this.props.onSchoolNotFoundChange,isNcesSchool:i,schoolName:r?this.props.schoolName:d.default.OMIT_FIELD,schoolType:d.default.OMIT_FIELD,schoolCity:d.default.OMIT_FIELD,schoolState:e?this.props.schoolState:d.default.OMIT_FIELD,schoolZip:e?this.props.schoolZip:d.default.OMIT_FIELD,schoolLocation:this.props.schoolLocation,country:this.props.country,controlSchoolLocation:!0,fieldNames:this.props.fieldNames,showErrorMsg:this.props.showErrors,singleLineLayout:!0,showRequiredIndicators:this.props.showRequiredIndicator,schoolNameLabel:a,useGoogleLocationSearch:this.props.useGoogleLocationSearch}))},e}(s.Component);g(t.default=i,"propTypes",{onCountryChange:n.default.func.isRequired,onSchoolTypeChange:n.default.func.isRequired,onSchoolChange:n.default.func.isRequired,onSchoolNotFoundChange:n.default.func.isRequired,country:n.default.string,schoolType:n.default.string,ncesSchoolId:n.default.string,schoolName:n.default.string,schoolCity:n.default.string,schoolState:n.default.string,schoolZip:n.default.string,schoolLocation:n.default.string,useGoogleLocationSearch:n.default.bool,fieldNames:n.default.object,showErrors:n.default.bool,showRequiredIndicator:n.default.bool,styles:n.default.object}),g(i,"defaultProps",{schoolType:"",country:"",ncesSchoolId:"",schoolName:"",schoolCity:"",schoolState:"",schoolZip:"",schoolLocation:"",useGoogleLocationSearch:!1,fieldNames:{schoolType:"user[school_info_attributes][school_type]",country:"user[school_info_attributes][country]",ncesSchoolId:"user[school_info_attributes][school_id]",schoolName:"user[school_info_attributes][school_name]",schoolState:"user[school_info_attributes][school_state]",schoolZip:"user[school_info_attributes][school_zip]",googleLocation:"user[school_info_attributes][full_address]"}})},3232:function(e,t,o){"use strict";function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=i(o(0)),u=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var o={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(o,r,i):o[r]=e[r]}o.default=e,t&&t.set(e,o);return o}(o(1)),r=i(o(1037)),d=i(o(4)),p=o(2407),h=o(2539);function s(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function i(e){return e&&e.__esModule?e:{default:e}}function g(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{},n=Object.keys(Object(o));"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(o).filter(function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable}))),n.forEach(function(e){l(t,e,o[e])})}return t}function l(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var f=(0,r.default)(function(){return o.e(5).then(o.t.bind(null,2453,7))}),m={display:"table-cell",width:210,verticalAlign:"middle",minHeight:42,fontSize:13,fontFamily:'"Gotham 4r", sans-serif',color:"#333",padding:0},y={display:"table",width:"100%"},c=function(r){function e(){for(var t,e=arguments.length,o=new Array(e),n=0;n<e;n++)o[n]=arguments[n];return l(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t=r.call.apply(r,[this].concat(o))||this),"handleChange",function(e){t.props.onChange("country",e)}),t}return function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(e,r),e.prototype.render=function(){var e=this.props,t=e.showRequiredIndicator,o=e.showErrorMsg,n=e.value,r=e.singleLineLayout,i=e.maxHeight,a=g({},p.styles.question,r&&m),s=g({},r&&y),l=o&&!n,c=u.default.createElement("div",{style:p.styles.errors},d.default.censusRequiredSelect());return u.default.createElement("div",null,u.default.createElement("div",{style:s},u.default.createElement("div",{style:a},r?d.default.country():d.default.schoolCountry(),t&&u.default.createElement("span",{style:p.styles.asterisk}," *"),l&&!r&&c),u.default.createElement(f,{name:this.props.fieldName,options:h.COUNTRIES,value:n,onChange:this.handleChange,placeholder:d.default.searchForCountry(),labelKey:"value",matchPos:"start",maxHeight:i})),l&&r&&c)},e}(u.Component);l(t.default=c,"propTypes",{onChange:n.default.func,showErrorMsg:n.default.bool,showRequiredIndicator:n.default.bool,value:n.default.string,fieldName:n.default.string,singleLineLayout:n.default.bool,maxHeight:n.default.number}),l(c,"defaultProps",{fieldName:"country_s"}),e.exports=t.default},3233:function(e,t,o){"use strict";function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(o(0)),u=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var o={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(o,r,i):o[r]=e[r]}o.default=e,t&&t.set(e,o);return o}(o(1)),d=r(o(4)),p=o(2539),h=o(2407),g=r(o(3234));function s(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function r(e){return e&&e.__esModule?e:{default:e}}function f(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{},n=Object.keys(Object(o));"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(o).filter(function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable}))),n.forEach(function(e){i(t,e,o[e])})}return t}function i(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var m=["",d.default.schoolTypeCharter(),d.default.schoolTypePrivate(),d.default.schoolTypePublic(),d.default.other()],l={display:"table-cell",width:210,verticalAlign:"top",minHeight:42,fontSize:13,fontFamily:'"Gotham 4r", sans-serif',color:"#333",padding:0},y={display:"table",width:"100%",height:42,marginBottom:0},_={width:"100%",height:"auto"},v={height:"auto",width:"100%",marginBottom:0,boxSizing:"border-box"},b={marginTop:0,marginBottom:0,width:"100%"},E="__omit_field__",c=function(r){function e(){for(var o,e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return i(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(o=r.call.apply(r,[this].concat(t))||this),"handleChange",function(e,t){o.props.onChange(e,t)}),o}!function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(e,r);var t=e.prototype;return t.isNotBlank=function(e){return e&&""!==e},t.isFieldValid=function(e){return!(E!==e&&!this.isNotBlank(e))},t.isValid=function(){return!(!this.isFieldValid(this.props.schoolName)||!this.isFieldValid(this.props.schoolType))&&(this.props.useGoogleLocationSearch&&this.locationSearchRef?this.isFieldValid(this.locationSearchRef.value()):this.isFieldValid(this.props.schoolCity)&&this.isFieldValid(this.props.schoolState)&&this.isFieldValid(this.props.schoolZip))},t.renderLabel=function(e){var t=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],o=this.props,n=o.singleLineLayout,r=o.showRequiredIndicators,i=f({},h.styles.question,n&&l);return u.default.createElement("div",{style:i},e,r&&t&&u.default.createElement("span",{style:h.styles.asterisk}," *"))},t.render=function(){var t=this,e=this.props.singleLineLayout,o=f({},e&&y),n=f({},h.styles.field,e&&_),r=f({},h.styles.input,e&&v),i=f({},h.styles.schoolNotFoundDropdown,e&&b),a=this.props.showErrorMsg&&!this.isValid(),s=u.default.createElement("div",{style:h.styles.errors},d.default.schoolInfoRequired()),l=!1;this.props.country&&"United States"===this.props.country&&(l=!0);var c=l;return this.props.isNcesSchool||(c=!1),u.default.createElement("div",null,!e&&u.default.createElement("div",{style:h.styles.question},d.default.schoolNotFoundDescription(),a&&s),u.default.createElement("div",null,this.props.schoolName!==E&&u.default.createElement("div",{style:n},u.default.createElement("label",{style:o},this.renderLabel(this.props.schoolNameLabel,c),u.default.createElement("input",{id:"school_name",type:"text",name:this.props.fieldNames.schoolName,value:this.props.schoolName,onChange:this.handleChange.bind(this,"schoolName"),style:r}))),this.props.schoolType!==E&&u.default.createElement("div",{style:n},u.default.createElement("label",{style:o},this.renderLabel(d.default.schoolType(),l),u.default.createElement("select",{id:"school_type",name:this.props.fieldNames.schoolType,value:this.props.schoolType,onChange:this.handleChange.bind(this,"schoolType"),style:i},m.map(function(e,t){return u.default.createElement("option",{value:e,key:t},e)}))))),u.default.createElement("div",null,this.props.schoolCity!==E&&!this.props.useGoogleLocationSearch&&u.default.createElement("div",{style:n},u.default.createElement("label",{style:o},this.renderLabel(d.default.schoolCity()),u.default.createElement("input",{id:"school_city",type:"text",name:this.props.fieldNames.schoolCity,value:this.props.schoolCity,onChange:this.handleChange.bind(this,"schoolCity"),style:r}))),this.props.schoolState!==E&&!this.props.useGoogleLocationSearch&&u.default.createElement("div",{style:n},u.default.createElement("label",{style:o},this.renderLabel(d.default.schoolState()),u.default.createElement("select",{id:"school_state",name:this.props.fieldNames.schoolState,value:this.props.schoolState,onChange:this.handleChange.bind(this,"schoolState"),style:i},p.STATES.map(function(e,t){return u.default.createElement("option",{value:e,key:t},e)}))))),this.props.schoolZip!==E&&!this.props.useGoogleLocationSearch&&u.default.createElement("div",{style:n},u.default.createElement("label",{style:o},this.renderLabel(d.default.schoolZip()),u.default.createElement("input",{id:"school_zipcode",type:"text",name:this.props.fieldNames.schoolZip,value:this.props.schoolZip,onChange:this.handleChange.bind(this,"schoolZip"),style:r}))),this.props.useGoogleLocationSearch&&u.default.createElement("div",{style:n},u.default.createElement("label",{style:o},this.renderLabel(d.default.schoolCityTown(),!1),u.default.createElement(g.default,{ref:function(e){return t.locationSearchRef=e},name:this.props.fieldNames.googleLocation,isControlledInput:this.props.controlSchoolLocation,value:this.props.schoolLocation,onChange:this.handleChange.bind(this,"schoolLocation"),style:r}))),u.default.createElement("div",{style:h.styles.clear}),e&&a&&s)},e}(u.Component);i(t.default=c,"propTypes",{onChange:n.default.func,schoolName:n.default.string,schoolCity:n.default.string,schoolState:n.default.string,schoolZip:n.default.string,schoolType:n.default.string,schoolLocation:n.default.string,country:n.default.string,controlSchoolLocation:n.default.bool,fieldNames:n.default.object,showErrorMsg:n.default.bool,isNcesSchool:n.default.bool,singleLineLayout:n.default.bool,showRequiredIndicators:n.default.bool,schoolNameLabel:n.default.string,useGoogleLocationSearch:n.default.bool}),i(c,"defaultProps",{showRequiredIndicators:!0,controlSchoolLocation:!1,schoolNameLabel:d.default.schoolName(),fieldNames:{schoolName:"school_name_s",schoolType:"school_type_s",schoolCity:"school_city_s",schoolState:"school_state_s",schoolZip:"school_zip_s",googleLocation:"registration_location"}}),i(c,"OMIT_FIELD",E),e.exports=t.default},3234:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(o(0)),r=a(o(1)),i=a(o(4));function a(e){return e&&e.__esModule?e:{default:e}}function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e}).apply(this,arguments)}function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var c,u,d,p=function(e){function t(){return e.apply(this,arguments)||this}!function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(t,e);var o=t.prototype;return o.value=function(){return this.props.isControlledInput?this.props.value:this.searchBoxRef.value},o.componentDidMount=function(){var e=this;if("object"===("undefined"==typeof google?"undefined":l(google))){var t=new google.maps.places.SearchBox(this.searchBoxRef);this.props.isControlledInput&&t.addListener("places_changed",function(){e.props.onChange({target:e.searchBoxRef})})}},o.render=function(){var t=this,e=this.props.isControlledInput?{value:this.props.value,onChange:this.props.onChange}:{};return r.default.createElement("input",s({ref:function(e){return t.searchBoxRef=e},type:"text",name:this.props.name,placeholder:i.default.schoolLocationSearchPlaceholder(),style:this.props.style},e))},t}(r.default.Component);t.default=p,c=p,u="propTypes",d={name:n.default.string.isRequired,isControlledInput:n.default.bool,value:n.default.string,onChange:n.default.func,style:n.default.object},u in c?Object.defineProperty(c,u,{value:d,enumerable:!0,configurable:!0,writable:!0}):c[u]=d,e.exports=t.default},3237:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(o(0)),i=r(o(1)),a=r(o(3920)),s=r(o(10));function r(e){return e&&e.__esModule?e:{default:e}}function l(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var c=function(r){function e(){for(var e,t=arguments.length,o=new Array(t),n=0;n<t;n++)o[n]=arguments[n];return l(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e=r.call.apply(r,[this].concat(o))||this),"state",{isLoading:!0,projectList:e.props.projectList||[]}),e}!function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(e,r);var t=e.prototype;return t.componentWillMount=function(){var t=this;0===this.state.projectList.length?s.default.ajax({method:"GET",url:"/v3/channels",dataType:"json"}).done(function(e){t.setState({isLoading:!1,projectList:e})}):this.setState({isLoading:!1})},t.render=function(){var e=this.props,t=e.canViewAdvancedTools,o=e.canViewFullList;return i.default.createElement(a.default,{projectList:this.state.projectList,projectTypes:this.props.projectTypes,isLoading:this.state.isLoading,canViewFullList:o,canViewAdvancedTools:t})},e}(i.default.Component);l(c,"propTypes",{projectTypes:n.default.arrayOf(n.default.string),projectList:n.default.array,canViewFullList:n.default.bool,canViewAdvancedTools:n.default.bool});var u=c;t.default=u,e.exports=t.default},3239:function(e,t,o){"use strict";function n(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{},n=Object.keys(Object(o));"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(o).filter(function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable}))),n.forEach(function(e){r(t,e,o[e])})}return t}function r(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:s,t=1<arguments.length?arguments[1]:void 0;return t.type!==i?t.type!==a?e:n({},e,{localeEnglishName:t.localeEnglishName}):n({},e,{localeCode:t.localeCode})},t.setLocaleEnglishName=t.setLocaleCode=void 0;var i="locale/SET_LOCALE_CODE",a="locale/SET_LOCALE_ENGLISH_NAME";t.setLocaleCode=function(e){return{type:i,localeCode:e}};t.setLocaleEnglishName=function(e){return{type:a,localeEnglishName:e}};var s={localeCode:null,localeEnglishName:null}},3240:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=u(o(0)),r=u(o(1)),i=o(9),a=u(o(4)),s=u(o(1578)),l=o(536),c=u(o(3930));function u(e){return e&&e.__esModule?e:{default:e}}var d,p,h,g={container:{display:"block",textAlign:"left"}},f=function(e){function t(){return e.apply(this,arguments)||this}!function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(t,e);var o=t.prototype;return o.renderText=function(){return this.props.status===l.projectUpdatedStatuses.error?r.default.createElement("span",{className:"project-save-error",title:a.default.projectSaveErrorTooltip()},r.default.createElement("i",{className:"fa fa-exclamation-triangle"}),a.default.projectSaveError()):this.props.status===l.projectUpdatedStatuses.saving?a.default.saving():this.props.status===l.projectUpdatedStatuses.saved?r.default.createElement("div",null,a.default.savedToGallery()," ",this.props.updatedAt&&r.default.createElement(s.default,{dateString:this.props.updatedAt})):a.default.notSaved()},o.render=function(){return r.default.createElement("div",{className:"project_updated_at header_text",style:g.container},this.renderText(),r.default.createElement(c.default,null))},t}(r.default.Component);d=f,p="propTypes",h={status:n.default.oneOf(Object.values(l.projectUpdatedStatuses)),updatedAt:n.default.string},p in d?Object.defineProperty(d,p,{value:h,enumerable:!0,configurable:!0,writable:!0}):d[p]=h;var m=(0,i.connect)(function(e){return{status:e.header.projectUpdatedStatus,updatedAt:e.header.projectUpdatedAt}})(f);t.default=m,e.exports=t.default},3242:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.postMilestoneForPageLoad=function(){var e=(0,n.getResult)(),t=appOptions.dialog.callback;if(!t)return;(0,r.sendReport)({program:e.response,fallbackResponse:appOptions.dialog.fallbackResponse,callback:t,app:appOptions.dialog.app,level:appOptions.dialog.level,result:e.result,pass:!0,testResult:i.TestResults.ALL_PASS})},t.onContinue=function(){var e=(0,r.getLastServerResponse)(),t=e&&e.nextRedirect;if(!t){var o=JSON.parse(appOptions.dialog.fallbackResponse);t=o.success.redirect}window.location.href=t};var n=o(474),r=o(1580),i=o(37)},3245:function(e,t,o){"use strict";function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.ImageWithStatus=t.STATUS=void 0;var n,r=(n=o(0))&&n.__esModule?n:{default:n},i=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var o={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(o,r,i):o[r]=e[r]}o.default=e,t&&t.set(e,o);return o}(o(1));function s(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var c={LOADING:"loading",LOADED:"loaded",ERROR:"error"};t.STATUS=c;var u,d,p,h=function(o){function e(e){var t;return(t=o.call(this,e)||this).handleImageLoad=t.handleImageLoad.bind(l(t)),t.handleImageError=t.handleImageError.bind(l(t)),t.state={imageStatus:c.LOADING},t}!function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(e,o);var t=e.prototype;return t.componentWillReceiveProps=function(e){this.props.src!==e.src&&this.setState({imageStatus:c.LOADING})},t.handleImageLoad=function(){this.setState({imageStatus:c.LOADED})},t.handleImageError=function(){this.setState({imageStatus:c.ERROR})},t.render=function(){return i.default.createElement("div",{style:this.props.wrapperStyle},i.default.createElement("img",{src:this.props.src,width:this.props.width,height:this.props.height,onLoad:this.handleImageLoad,onError:this.handleImageError}),i.default.createElement("div",{"data-image-status":this.state.imageStatus}))},e}(i.Component);t.ImageWithStatus=h,u=h,d="propTypes",p={src:r.default.string.isRequired,width:r.default.number.isRequired,height:r.default.number,wrapperStyle:r.default.object},d in u?Object.defineProperty(u,d,{value:p,enumerable:!0,configurable:!0,writable:!0}):u[d]=p},3246:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FEATURED_PROJECT_TYPE_MAP=t.PROJECT_TYPE_MAP=void 0;var n,r=(n=o(4))&&n.__esModule?n:{default:n};var i={algebra_game:r.default.projectTypeAlgebra(),applab:r.default.projectTypeApplab(),artist:r.default.projectTypeArtist(),frozen:r.default.projectTypeFrozen(),gumball:r.default.projectTypeGumball(),infinity:r.default.projectTypeInfinity(),iceage:r.default.projectTypeIceage(),minecraft_adventurer:r.default.projectTypeMinecraft(),minecraft_designer:r.default.projectTypeMinecraft(),minecraft_hero:r.default.projectTypeMinecraft(),minecraft_aquatic:r.default.projectTypeMinecraft(),gamelab:r.default.projectTypeGamelab(),playlab:r.default.projectTypePlaylab(),weblab:r.default.projectTypeWeblab(),bounce:r.default.projectTypeBounce(),flappy:r.default.projectTypeFlappy(),starwars:r.default.projectTypeStarwars(),starwarsblocks:r.default.projectTypeStarwarsBlocks(),sports:r.default.projectTypeSports(),basketball:r.default.projectTypeBasketball(),artist_k1:r.default.projectTypeArtistPreReader(),playlab_k1:r.default.projectTypePlaylabPreReader(),eval:r.default.projectTypeEval(),calc:r.default.projectTypeCalc(),dance:r.default.projectTypeDance(),spritelab:r.default.projectTypeSpriteLab()};t.PROJECT_TYPE_MAP=i;var a={applab:r.default.projectTypeApplab(),artist:r.default.projectTypeDrawing(),frozen:r.default.projectTypeDrawing(),gamelab:r.default.projectTypeGamelab(),playlab:r.default.projectTypePlaylab(),gumball:r.default.projectTypePlaylab(),infinity:r.default.projectTypePlaylab(),iceage:r.default.projectTypePlaylab(),minecraft_adventurer:r.default.projectTypeMinecraft(),minecraft_designer:r.default.projectTypeMinecraft(),minecraft_hero:r.default.projectTypeMinecraft(),minecraft_aquatic:r.default.projectTypeMinecraft(),bounce:r.default.projectTypeEvents(),flappy:r.default.projectTypeEvents(),starwars:r.default.projectTypeEvents(),starwarsblocks:r.default.projectTypeEvents(),sports:r.default.projectTypeEvents(),basketball:r.default.projectTypeEvents(),artist_k1:r.default.projectTypeK1(),playlab_k1:r.default.projectTypeK1(),dance:r.default.projectTypeDance(),spritelab:r.default.projectTypeSpriteLab()};t.FEATURED_PROJECT_TYPE_MAP=a},326:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var n,r,i=(n=o(1589))&&n.__esModule?n:{default:n};function a(){if(window.AudioContext=window.AudioContext||window.webkitAudioContext,this.audioContext=null,this.isMuted=!1,this.audioUnlocked_=!1,window.AudioContext)try{this.audioContext=new AudioContext,this.initializeAudioUnlockState_()}catch(e){}this.soundsById={},this.whenAudioUnlockedCallbacks_=[]}a.getSingleton=function(){return r||(r=new a),r},a.prototype.initializeAudioUnlockState_=function(){this.unlockAudio(function(){if(!this.isAudioUnlocked()){var e=function(){this.unlockAudio(function(){this.isAudioUnlocked()&&(document.removeEventListener("mousedown",e,!0),document.removeEventListener("touchend",e,!0),document.removeEventListener("keydown",e,!0))}.bind(this))}.bind(this);document.addEventListener("mousedown",e,!0),document.addEventListener("touchend",e,!0),document.addEventListener("keydown",e,!0)}}.bind(this))},a.prototype.isAudioUnlocked=function(){return this.audioUnlocked_||!this.audioContext},a.prototype.whenAudioUnlocked=function(e){this.isAudioUnlocked()?e():this.whenAudioUnlockedCallbacks_.push(e)},a.prototype.unlockAudio=function(t){if(!this.isAudioUnlocked()){var e=this.audioContext.createBuffer(1,1,22050),o=this.audioContext.createBufferSource();o.buffer=e,o.connect(this.audioContext.destination),o.start?o.start(0):o.noteOn(0),this.checkDidSourcePlay_(o,this.audioContext,function(e){e&&(this.audioUnlocked_=!0,this.whenAudioUnlockedCallbacks_.forEach(function(e){e()}),this.whenAudioUnlockedCallbacks_.length=0),t&&t()}.bind(this))}},a.prototype.checkDidSourcePlay_=function(e,t,o){void 0===e.PLAYING_STATE||void 0===e.FINISHED_STATE?setTimeout(function(){o("number"==typeof t.currentTime&&0<t.currentTime)}.bind(this),50):setTimeout(function(){o(e.playbackState===e.PLAYING_STATE||e.playbackState===e.FINISHED_STATE)}.bind(this),0)},a.prototype.registerByFilenamesAndID=function(e,t){for(var o={id:t},n=0;n<e.length;n++){var r=e[n],i=r.match(/\.(\w+)(\?.*)?$/);if(i)o[i[1]]=r}return this.register(o)},a.prototype.register=function(e){var t=new i.default(e,this.audioContext);return(this.soundsById[e.id]=t).preload(),t},a.prototype.play=function(e,t){var o=this.soundsById[e];o&&o.play(t)},a.prototype.unload=function(e){delete this.soundsById[e]},a.prototype.playURL=function(e,t){if(!this.isMuted){var o=this.soundsById[e];if(o&&!o.didLoadFail())o.isLoaded()?o.play(t):o.playAfterLoad(t);else{var n={id:e};n[a.getExtensionFromUrl(e)]=e,n.forceHTML5=t&&t.forceHTML5,n.allowHTML5Mobile=t&&t.allowHTML5Mobile,n.playAfterLoad=!0,n.playAfterLoadOptions=t,this.register(n)}}},a.prototype.isPlaying=function(e){var t=this.soundsById[e];return!!t&&t.isPlaying()},a.prototype.stopPlayingURL=function(e){var t=this.soundsById[e];t&&t.stop()},a.prototype.muteURLs=function(){this.isMuted=!0},a.prototype.unmuteURLs=function(){this.isMuted=!1},a.prototype.stopAllAudio=function(){for(var e in this.soundsById)this.soundsById[e].isPlaying()&&this.soundsById[e].stop()},a.prototype.stopLoopingAudio=function(e){this.soundsById[e].stop()},a.prototype.get=function(e){return this.soundsById[e]},a.getExtensionFromUrl=function(e){return e.substr(e.lastIndexOf(".")+1)},e.exports=t.default},328:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:g,t=1<arguments.length?arguments[1]:void 0;switch(t.type){case a:return n({},e,g,{isOpen:!0});case s:return n({},e,{isUnpublishPending:!1,didUnpublish:!1,isOpen:!1});case l:return n({},e,{isUnpublishPending:!0});case c:return n({},e,{isOpen:!1,isUnpublishPending:!1,didUnpublish:!0});case u:return n({},e,{isUnpublishPending:!1});case d:return n({},e,{replayLog:t.replayLog});case p:return n({},e,{libraryDialogIsOpen:!0});case h:return n({},e,{libraryDialogIsOpen:!1});default:return e}},t.showShareDialog=function(){return{type:a}},t.hideShareDialog=function(){return{type:s}},t.unpublishProject=function(n){return function(o){return o({type:l}),new Promise(function(e,t){r.channels.withProjectId(n).ajax("POST","unpublish",function(){o({type:c}),e()},function(e){o({type:u}),t(e)},null)})}},t.saveReplayLog=function(e){return{type:d,replayLog:e}},t.showLibraryCreationDialog=function(){return{type:p}},t.hideLibraryCreationDialog=function(){return{type:h}};var r=o(126);function n(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{},n=Object.keys(Object(o));"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(o).filter(function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable}))),n.forEach(function(e){i(t,e,o[e])})}return t}function i(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var a="shareDialog/SHOW_SHARE_DIALOG",s="shareDialog/HIDE_SHARE_DIALOG",l="shareDialog/UNPUBLISH_REQUEST",c="shareDialog/UNPUBLISH_SUCCESS",u="shareDialog/UNPUBLISH_FAILURE",d="shareDialog/SAVE_REPLAY_LOG",p="shareDialog/SHOW_LIBRARY_CREATION_DIALOG",h="shareDialog/HIDE_LIBRARY_CREATION_DIALOG",g={isOpen:!1,isUnpublishPending:!1,didUnpublish:!1,libraryDialogIsOpen:!1}},329:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Title=m,t.Body=y,t.Confirm=_,t.Cancel=v,t.Buttons=b,t.Footer=E,t.default=t.Icon=t.styles=void 0;var i=d(o(1)),n=d(o(0)),r=d(o(14)),a=d(o(658)),s=d(o(66)),l=d(o(6)),c=o(1565),u=d(o(4));function d(e){return e&&e.__esModule?e:{default:e}}function p(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e}).apply(this,arguments)}function g(e,t){if(null==e)return{};var o,n,r=function(e,t){if(null==e)return{};var o,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)o=i[n],0<=t.indexOf(o)||(r[o]=e[o]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)o=i[n],0<=t.indexOf(o)||Object.prototype.propertyIsEnumerable.call(e,o)&&(r[o]=e[o])}return r}var f={icon:{backgroundSize:100,backgroundPosition:"bottom",backgroundRepeat:"no-repeat",marginTop:-165,width:120,height:200,float:"left"},title:{fontSize:27,lineHeight:"30px",marginBottom:15,color:l.default.purple},body:{fontSize:24,lineHeight:"27px",color:l.default.purple,whiteSpace:"normal"},buttons:{marginTop:10},rightButton:{float:"right"},buttonClear:{clear:"both"},footer:{borderColor:l.default.light_gray,borderStyle:"solid",borderWidth:0,borderTopWidth:2,marginTop:15,paddingTop:15}};function m(e){var t=e.children;return i.default.createElement("h1",{style:f.title},t)}function y(e){var t=e.children;return i.default.createElement("div",{style:f.body},t)}function _(e){var t=e.type,o=g(e,["type"]);return t=t||"primary",i.default.createElement(a.default,h({type:t},o),e.children||u.default.dialogOK())}function v(e){return i.default.createElement(a.default,h({type:"cancel"},e),e.children||u.default.dialogCancel())}function b(e){var t=e.children,o=(t=i.default.Children.toArray(t)).slice(0,t.length-1),n=t[t.length-1];return i.default.createElement("div",{style:f.buttons},o,i.default.createElement("div",{style:f.rightButton},n),i.default.createElement("div",{style:f.buttonClear}))}function E(e){var t=e.children;return i.default.createElement("div",{style:f.footer},t)}t.styles=f,m.propTypes={children:n.default.node},y.propTypes={children:n.default.node},_.propTypes={children:n.default.node,type:n.default.string},v.propTypes={children:n.default.node},b.propTypes={children:(0,c.childrenOfType)(v,_)},E.propTypes={children:n.default.node};var T=(0,r.default)(function(e){var t=e.src;return i.default.createElement("span",{style:[f.icon,{backgroundImage:"url(".concat(t,")")}]})});(t.Icon=T).propTypes={src:n.default.string.isRequired};var S=function(r){function e(){for(var n,e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];return p(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n=r.call.apply(r,[this].concat(t))||this),"handleKeyDown",function(e){if("Tab"===e.key){var t=n.baseDialog.getTabbableElements();if(t.length){var o=t.findIndex(function(e){return e===document.activeElement});t[(o+1)%t.length].focus()}e.preventDefault()}}),n}return function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(e,r),e.prototype.render=function(){var t=this,e=[];if(this.props.icon&&e.push(i.default.createElement(T,{key:"icon",src:this.props.icon})),this.props.title&&e.push(i.default.createElement(m,{key:"title"},this.props.title)),this.props.body&&e.push(i.default.createElement(y,{key:"body"},this.props.body)),e=e.concat(this.props.children),this.props.cancelText||this.props.onCancel||this.props.confirmText||this.props.onConfirm||this.props.confirmType){var o=i.default.createElement(b,{key:"buttons"},this.props.onCancel&&i.default.createElement(v,{onClick:this.props.onCancel},this.props.cancelText),this.props.onConfirm&&i.default.createElement(_,{onClick:this.props.onConfirm,type:this.props.confirmType},this.props.confirmText)),n=e[e.length-1];n&&n.type===E?e.splice(e.length-1,0,o):e.push(o)}return this.props.footer&&e.push(i.default.createElement(E,{key:"footer"},this.props.footer)),i.default.createElement(s.default,h({},this.props,{ref:function(e){return t.baseDialog=e},handleKeyDown:this.handleKeyDown}),e)},e}(i.default.Component);p(t.default=S,"propTypes",function(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{},n=Object.keys(Object(o));"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(o).filter(function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable}))),n.forEach(function(e){p(t,e,o[e])})}return t}({},s.default.propTypes,{children:(0,c.childrenOfType)(T,m,y,b,E),icon:(0,c.whenNoChildOfTypes)(T),title:(0,c.whenNoChildOfTypes)(m),body:(0,c.whenNoChildOfTypes)(y),footer:(0,c.whenNoChildOfTypes)(E),cancelText:(0,c.whenNoChildOfTypes)(b),onCancel:(0,c.whenNoChildOfTypes)(b),confirmText:(0,c.whenNoChildOfTypes)(b),onConfirm:(0,c.whenNoChildOfTypes)(b),confirmType:(0,c.whenNoChildOfTypes)(b)}))},3290:function(e,t,o){"use strict";o.r(t);var n=o(1259),r=o.n(n),i=o(1),g=o.n(i),a=o(0),s=o.n(a),l=o(1587),w=o.n(l),c=o(43),B=o.n(c);function h(e){return"/"===e.charAt(0)}function f(e,t){for(var o=t,n=o+1,r=e.length;n<r;o+=1,n+=1)e[o]=e[n];e.pop()}var u=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",o=e&&e.split("/")||[],n=t&&t.split("/")||[],r=e&&h(e),i=t&&h(t),a=r||i;if(e&&h(e)?n=o:o.length&&(n.pop(),n=n.concat(o)),!n.length)return"/";var s=void 0;if(n.length){var l=n[n.length-1];s="."===l||".."===l||""===l}else s=!1;for(var c=0,u=n.length;0<=u;u--){var d=n[u];"."===d?f(n,u):".."===d?(f(n,u),c++):c&&(f(n,u),c--)}if(!a)for(;c--;c)n.unshift("..");!a||""===n[0]||n[0]&&h(n[0])||n.unshift("");var p=n.join("/");return s&&"/"!==p.substr(-1)&&(p+="/"),p},d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};var p=function o(t,n){if(t===n)return!0;if(null==t||null==n)return!1;if(Array.isArray(t))return Array.isArray(n)&&t.length===n.length&&t.every(function(e,t){return o(e,n[t])});var e=void 0===t?"undefined":d(t);if(e!==(void 0===n?"undefined":d(n)))return!1;if("object"!==e)return!1;var r=t.valueOf(),i=n.valueOf();if(r!==t||i!==n)return o(r,i);var a=Object.keys(t),s=Object.keys(n);return a.length===s.length&&a.every(function(e){return o(t[e],n[e])})},I=function(e){return"/"===e.charAt(0)?e:"/"+e},m=function(e){return"/"===e.charAt(0)?e.substr(1):e},R=function(e,t){return new RegExp("^"+t+"(\\/|\\?|#|$)","i").test(e)},N=function(e,t){return R(e,t)?e.substr(t.length):e},P=function(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e},L=function(e){var t=e.pathname,o=e.search,n=e.hash,r=t||"/";return o&&"?"!==o&&(r+="?"===o.charAt(0)?o:"?"+o),n&&"#"!==n&&(r+="#"===n.charAt(0)?n:"#"+n),r},y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e},x=function(e,t,o,n){var r=void 0;"string"==typeof e?(r=function(e){var t=e||"/",o="",n="",r=t.indexOf("#");-1!==r&&(n=t.substr(r),t=t.substr(0,r));var i=t.indexOf("?");return-1!==i&&(o=t.substr(i),t=t.substr(0,i)),{pathname:t,search:"?"===o?"":o,hash:"#"===n?"":n}}(e)).state=t:(void 0===(r=y({},e)).pathname&&(r.pathname=""),r.search?"?"!==r.search.charAt(0)&&(r.search="?"+r.search):r.search="",r.hash?"#"!==r.hash.charAt(0)&&(r.hash="#"+r.hash):r.hash="",void 0!==t&&void 0===r.state&&(r.state=t));try{r.pathname=decodeURI(r.pathname)}catch(e){throw e instanceof URIError?new URIError('Pathname "'+r.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):e}return o&&(r.key=o),n?r.pathname?"/"!==r.pathname.charAt(0)&&(r.pathname=u(r.pathname,n.pathname)):r.pathname=n.pathname:r.pathname||(r.pathname="/"),r},D=function(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash&&e.key===t.key&&p(e.state,t.state)},M=function(){var i=null,n=[];return{setPrompt:function(e){return w()(null==i,"A history supports only one prompt at a time"),i=e,function(){i===e&&(i=null)}},confirmTransitionTo:function(e,t,o,n){if(null!=i){var r="function"==typeof i?i(e,t):i;"string"==typeof r?"function"==typeof o?o(r,n):(w()(!1,"A history needs a getUserConfirmation function in order to use a prompt message"),n(!0)):n(!1!==r)}else n(!0)},appendListener:function(e){var t=!0,o=function(){t&&e.apply(void 0,arguments)};return n.push(o),function(){t=!1,n=n.filter(function(e){return e!==o})}},notifyListeners:function(){for(var e=arguments.length,t=Array(e),o=0;o<e;o++)t[o]=arguments[o];n.forEach(function(e){return e.apply(void 0,t)})}}},U=!("undefined"==typeof window||!window.document||!window.document.createElement),F=function(e,t,o){return e.addEventListener?e.addEventListener(t,o,!1):e.attachEvent("on"+t,o)},H=function(e,t,o){return e.removeEventListener?e.removeEventListener(t,o,!1):e.detachEvent("on"+t,o)},j=function(e,t){return t(window.confirm(e))},G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},V=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e},W="hashchange",z=function(){try{return window.history.state||{}}catch(e){return{}}},_=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};B()(U,"Browser history needs a DOM");var s=window.history,l=function(){var e=window.navigator.userAgent;return(-1===e.indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history}(),t=!(-1===window.navigator.userAgent.indexOf("Trident")),o=e.forceRefresh,c=void 0!==o&&o,n=e.getUserConfirmation,r=void 0===n?j:n,i=e.keyLength,a=void 0===i?6:i,u=e.basename?P(I(e.basename)):"",d=function(e){var t=e||{},o=t.key,n=t.state,r=window.location,i=r.pathname+r.search+r.hash;return w()(!u||R(i,u),'You are attempting to use a basename on a page whose URL path does not begin with the basename. Expected path "'+i+'" to begin with "'+u+'".'),u&&(i=N(i,u)),x(i,n,o)},p=function(){return Math.random().toString(36).substr(2,a)},h=M(),g=function(e){V(O,e),O.length=s.length,h.notifyListeners(O.location,O.action)},f=function(e){(function(e){return void 0===e.state&&-1===navigator.userAgent.indexOf("CriOS")})(e)||_(d(e.state))},m=function(){_(d(z()))},y=!1,_=function(t){y?(y=!1,g()):h.confirmTransitionTo(t,"POP",r,function(e){e?g({action:"POP",location:t}):v(t)})},v=function(e){var t=O.location,o=E.indexOf(t.key);-1===o&&(o=0);var n=E.indexOf(e.key);-1===n&&(n=0);var r=o-n;r&&(y=!0,S(r))},b=d(z()),E=[b.key],T=function(e){return u+L(e)},S=function(e){s.go(e)},k=0,C=function(e){1===(k+=e)?(F(window,"popstate",f),t&&F(window,W,m)):0===k&&(H(window,"popstate",f),t&&H(window,W,m))},A=!1,O={length:s.length,action:"POP",location:b,createHref:T,push:function(e,t){w()(!("object"===(void 0===e?"undefined":G(e))&&void 0!==e.state&&void 0!==t),"You should avoid providing a 2nd state argument to push when the 1st argument is a location-like object that already has state; it is ignored");var a=x(e,t,p(),O.location);h.confirmTransitionTo(a,"PUSH",r,function(e){if(e){var t=T(a),o=a.key,n=a.state;if(l)if(s.pushState({key:o,state:n},null,t),c)window.location.href=t;else{var r=E.indexOf(O.location.key),i=E.slice(0,-1===r?0:r+1);i.push(a.key),E=i,g({action:"PUSH",location:a})}else w()(void 0===n,"Browser history cannot push state in browsers that do not support HTML5 history"),window.location.href=t}})},replace:function(e,t){w()(!("object"===(void 0===e?"undefined":G(e))&&void 0!==e.state&&void 0!==t),"You should avoid providing a 2nd state argument to replace when the 1st argument is a location-like object that already has state; it is ignored");var i=x(e,t,p(),O.location);h.confirmTransitionTo(i,"REPLACE",r,function(e){if(e){var t=T(i),o=i.key,n=i.state;if(l)if(s.replaceState({key:o,state:n},null,t),c)window.location.replace(t);else{var r=E.indexOf(O.location.key);-1!==r&&(E[r]=i.key),g({action:"REPLACE",location:i})}else w()(void 0===n,"Browser history cannot replace state in browsers that do not support HTML5 history"),window.location.replace(t)}})},go:S,goBack:function(){return S(-1)},goForward:function(){return S(1)},block:function(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0],t=h.setPrompt(e);return A||(C(1),A=!0),function(){return A&&(A=!1,C(-1)),t()}},listen:function(e){var t=h.appendListener(e);return C(1),function(){C(-1),t()}}};return O},q=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e},K="hashchange",Y={hashbang:{encodePath:function(e){return"!"===e.charAt(0)?e:"!/"+m(e)},decodePath:function(e){return"!"===e.charAt(0)?e.substr(1):e}},noslash:{encodePath:m,decodePath:I},slash:{encodePath:I,decodePath:I}},X=function(){var e=window.location.href,t=e.indexOf("#");return-1===t?"":e.substring(t+1)},J=function(e){var t=window.location.href.indexOf("#");window.location.replace(window.location.href.slice(0,0<=t?t:0)+"#"+e)},v=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};B()(U,"Hash history needs a DOM");var t=window.history,o=-1===window.navigator.userAgent.indexOf("Firefox"),n=e.getUserConfirmation,a=void 0===n?j:n,r=e.hashType,i=void 0===r?"slash":r,s=e.basename?P(I(e.basename)):"",l=Y[i],c=l.encodePath,u=l.decodePath,d=function(){var e=u(X());return w()(!s||R(e,s),'You are attempting to use a basename on a page whose URL path does not begin with the basename. Expected path "'+e+'" to begin with "'+s+'".'),s&&(e=N(e,s)),x(e)},p=M(),h=function(e){q(O,e),O.length=t.length,p.notifyListeners(O.location,O.action)},g=!1,f=null,m=function(){var e=X(),t=c(e);if(e!==t)J(t);else{var o=d(),n=O.location;if(!g&&D(n,o))return;if(f===L(o))return;f=null,y(o)}},y=function(t){g?(g=!1,h()):p.confirmTransitionTo(t,"POP",a,function(e){e?h({action:"POP",location:t}):_(t)})},_=function(e){var t=O.location,o=T.lastIndexOf(L(t));-1===o&&(o=0);var n=T.lastIndexOf(L(e));-1===n&&(n=0);var r=o-n;r&&(g=!0,S(r))},v=X(),b=c(v);v!==b&&J(b);var E=d(),T=[L(E)],S=function(e){w()(o,"Hash history go(n) causes a full page reload in this browser"),t.go(e)},k=0,C=function(e){1===(k+=e)?F(window,K,m):0===k&&H(window,K,m)},A=!1,O={length:t.length,action:"POP",location:E,createHref:function(e){return"#"+c(s+L(e))},push:function(e,t){w()(void 0===t,"Hash history cannot push state; it is ignored");var i=x(e,void 0,void 0,O.location);p.confirmTransitionTo(i,"PUSH",a,function(e){if(e){var t=L(i),o=c(s+t);if(X()!==o){f=t,function(e){window.location.hash=e}(o);var n=T.lastIndexOf(L(O.location)),r=T.slice(0,-1===n?0:n+1);r.push(t),T=r,h({action:"PUSH",location:i})}else w()(!1,"Hash history cannot PUSH the same path; a new entry will not be added to the history stack"),h()}})},replace:function(e,t){w()(void 0===t,"Hash history cannot replace state; it is ignored");var r=x(e,void 0,void 0,O.location);p.confirmTransitionTo(r,"REPLACE",a,function(e){if(e){var t=L(r),o=c(s+t);X()!==o&&(f=t,J(o));var n=T.indexOf(L(O.location));-1!==n&&(T[n]=t),h({action:"REPLACE",location:r})}})},go:S,goBack:function(){return S(-1)},goForward:function(){return S(1)},block:function(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0],t=p.setPrompt(e);return A||(C(1),A=!0),function(){return A&&(A=!1,C(-1)),t()}},listen:function(e){var t=p.appendListener(e);return C(1),function(){C(-1),t()}}};return O},b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e},T=function(e,t,o){return Math.min(Math.max(e,t),o)},S=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},r=e.getUserConfirmation,t=e.initialEntries,o=void 0===t?["/"]:t,n=e.initialIndex,i=void 0===n?0:n,a=e.keyLength,s=void 0===a?6:a,l=M(),c=function(e){E(f,e),f.length=f.entries.length,l.notifyListeners(f.location,f.action)},u=function(){return Math.random().toString(36).substr(2,s)},d=T(i,0,o.length-1),p=o.map(function(e){return x(e,void 0,"string"==typeof e?u():e.key||u())}),h=L,g=function(e){var t=T(f.index+e,0,f.entries.length-1),o=f.entries[t];l.confirmTransitionTo(o,"POP",r,function(e){e?c({action:"POP",location:o,index:t}):c()})},f={length:p.length,action:"POP",location:p[d],index:d,entries:p,createHref:h,push:function(e,t){w()(!("object"===(void 0===e?"undefined":b(e))&&void 0!==e.state&&void 0!==t),"You should avoid providing a 2nd state argument to push when the 1st argument is a location-like object that already has state; it is ignored");var n=x(e,t,u(),f.location);l.confirmTransitionTo(n,"PUSH",r,function(e){if(e){var t=f.index+1,o=f.entries.slice(0);o.length>t?o.splice(t,o.length-t,n):o.push(n),c({action:"PUSH",location:n,index:t,entries:o})}})},replace:function(e,t){w()(!("object"===(void 0===e?"undefined":b(e))&&void 0!==e.state&&void 0!==t),"You should avoid providing a 2nd state argument to replace when the 1st argument is a location-like object that already has state; it is ignored");var o=x(e,t,u(),f.location);l.confirmTransitionTo(o,"REPLACE",r,function(e){e&&(f.entries[f.index]=o,c({action:"REPLACE",location:o}))})},go:g,goBack:function(){return g(-1)},goForward:function(){return g(1)},canGo:function(e){var t=f.index+e;return 0<=t&&t<f.entries.length},block:function(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0];return l.setPrompt(e)},listen:function(e){return l.appendListener(e)}};return f},k=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e};function C(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var A=function(i){function a(){var e,t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a);for(var o=arguments.length,n=Array(o),r=0;r<o;r++)n[r]=arguments[r];return(e=t=C(this,i.call.apply(i,[this].concat(n)))).state={match:t.computeMatch(t.props.history.location.pathname)},C(t,e)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(a,i),a.prototype.getChildContext=function(){return{router:k({},this.context.router,{history:this.props.history,route:{location:this.props.history.location,match:this.state.match}})}},a.prototype.computeMatch=function(e){return{path:"/",url:"/",params:{},isExact:"/"===e}},a.prototype.componentWillMount=function(){var e=this,t=this.props,o=t.children,n=t.history;B()(null==o||1===g.a.Children.count(o),"A <Router> may have only one child element"),this.unlisten=n.listen(function(){e.setState({match:e.computeMatch(n.location.pathname)})})},a.prototype.componentWillReceiveProps=function(e){r()(this.props.history===e.history,"You cannot change <Router history>")},a.prototype.componentWillUnmount=function(){this.unlisten()},a.prototype.render=function(){var e=this.props.children;return e?g.a.Children.only(e):null},a}(g.a.Component);A.propTypes={history:s.a.object.isRequired,children:s.a.node},A.contextTypes={router:s.a.object},A.childContextTypes={router:s.a.object.isRequired};var O=A,Q=O;function $(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var Z=function(i){function a(){var e,t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a);for(var o=arguments.length,n=Array(o),r=0;r<o;r++)n[r]=arguments[r];return(e=t=$(this,i.call.apply(i,[this].concat(n)))).history=_(t.props),$(t,e)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(a,i),a.prototype.componentWillMount=function(){r()(!this.props.history,"<BrowserRouter> ignores the history prop. To use a custom history, use `import { Router }` instead of `import { BrowserRouter as Router }`.")},a.prototype.render=function(){return g.a.createElement(Q,{history:this.history,children:this.props.children})},a}(g.a.Component);Z.propTypes={basename:s.a.string,forceRefresh:s.a.bool,getUserConfirmation:s.a.func,keyLength:s.a.number,children:s.a.node};var ee=Z;function te(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var oe=function(i){function a(){var e,t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a);for(var o=arguments.length,n=Array(o),r=0;r<o;r++)n[r]=arguments[r];return(e=t=te(this,i.call.apply(i,[this].concat(n)))).history=v(t.props),te(t,e)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(a,i),a.prototype.componentWillMount=function(){r()(!this.props.history,"<HashRouter> ignores the history prop. To use a custom history, use `import { Router }` instead of `import { HashRouter as Router }`.")},a.prototype.render=function(){return g.a.createElement(Q,{history:this.history,children:this.props.children})},a}(g.a.Component);oe.propTypes={basename:s.a.string,getUserConfirmation:s.a.func,hashType:s.a.oneOf(["hashbang","noslash","slash"]),children:s.a.node};var ne=oe,re=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e};function ie(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var ae=function(r){function a(){var e,i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a);for(var t=arguments.length,o=Array(t),n=0;n<t;n++)o[n]=arguments[n];return(e=i=ie(this,r.call.apply(r,[this].concat(o)))).handleClick=function(e){if(i.props.onClick&&i.props.onClick(e),!e.defaultPrevented&&0===e.button&&!i.props.target&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)){e.preventDefault();var t=i.context.router.history,o=i.props,n=o.replace,r=o.to;n?t.replace(r):t.push(r)}},ie(i,e)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(a,r),a.prototype.render=function(){var e=this.props,t=(e.replace,e.to),o=e.innerRef,n=function(e,t){var o={};for(var n in e)0<=t.indexOf(n)||Object.prototype.hasOwnProperty.call(e,n)&&(o[n]=e[n]);return o}(e,["replace","to","innerRef"]);B()(this.context.router,"You should not use <Link> outside a <Router>"),B()(void 0!==t,'You must specify the "to" property');var r=this.context.router.history,i="string"==typeof t?x(t,null,null,r.location):t,a=r.createHref(i);return g.a.createElement("a",re({},n,{onClick:this.handleClick,href:a,ref:o}))},a}(g.a.Component);ae.propTypes={onClick:s.a.func,target:s.a.string,replace:s.a.bool,to:s.a.oneOfType([s.a.string,s.a.object]).isRequired,innerRef:s.a.oneOfType([s.a.string,s.a.func])},ae.defaultProps={replace:!1},ae.contextTypes={router:s.a.shape({history:s.a.shape({push:s.a.func.isRequired,replace:s.a.func.isRequired,createHref:s.a.func.isRequired}).isRequired}).isRequired};var se=ae;function le(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var ce=function(i){function a(){var e,t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a);for(var o=arguments.length,n=Array(o),r=0;r<o;r++)n[r]=arguments[r];return(e=t=le(this,i.call.apply(i,[this].concat(n)))).history=S(t.props),le(t,e)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(a,i),a.prototype.componentWillMount=function(){r()(!this.props.history,"<MemoryRouter> ignores the history prop. To use a custom history, use `import { Router }` instead of `import { MemoryRouter as Router }`.")},a.prototype.render=function(){return g.a.createElement(O,{history:this.history,children:this.props.children})},a}(g.a.Component);ce.propTypes={initialEntries:s.a.array,initialIndex:s.a.number,getUserConfirmation:s.a.func,keyLength:s.a.number,children:s.a.node};var ue=ce,de=o(2870),pe=o.n(de),he={},ge=0,fe=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},o=arguments[2];"string"==typeof t&&(t={path:t});var n=t,r=n.path,i=n.exact,a=void 0!==i&&i,s=n.strict,l=void 0!==s&&s,c=n.sensitive;if(null==r)return o;var u=function(e,t){var o=""+t.end+t.strict+t.sensitive,n=he[o]||(he[o]={});if(n[e])return n[e];var r=[],i={re:pe()(e,r,t),keys:r};return ge<1e4&&(n[e]=i,ge++),i}(r,{end:a,strict:l,sensitive:void 0!==c&&c}),d=u.re,p=u.keys,h=d.exec(e);if(!h)return null;var g=h[0],f=h.slice(1),m=e===g;return a&&!m?null:{path:r,url:"/"===r&&""===g?"/":g,isExact:m,params:p.reduce(function(e,t,o){return e[t.name]=f[o],e},{})}},me=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e};function ye(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var _e=function(e){return 0===g.a.Children.count(e)},ve=function(i){function a(){var e,t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a);for(var o=arguments.length,n=Array(o),r=0;r<o;r++)n[r]=arguments[r];return(e=t=ye(this,i.call.apply(i,[this].concat(n)))).state={match:t.computeMatch(t.props,t.context.router)},ye(t,e)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(a,i),a.prototype.getChildContext=function(){return{router:me({},this.context.router,{route:{location:this.props.location||this.context.router.route.location,match:this.state.match}})}},a.prototype.computeMatch=function(e,t){var o=e.computedMatch,n=e.location,r=e.path,i=e.strict,a=e.exact,s=e.sensitive;if(o)return o;B()(t,"You should not use <Route> or withRouter() outside a <Router>");var l=t.route,c=(n||l.location).pathname;return fe(c,{path:r,strict:i,exact:a,sensitive:s},l.match)},a.prototype.componentWillMount=function(){r()(!(this.props.component&&this.props.render),"You should not use <Route component> and <Route render> in the same route; <Route render> will be ignored"),r()(!(this.props.component&&this.props.children&&!_e(this.props.children)),"You should not use <Route component> and <Route children> in the same route; <Route children> will be ignored"),r()(!(this.props.render&&this.props.children&&!_e(this.props.children)),"You should not use <Route render> and <Route children> in the same route; <Route children> will be ignored")},a.prototype.componentWillReceiveProps=function(e,t){r()(!(e.location&&!this.props.location),'<Route> elements should not change from uncontrolled to controlled (or vice versa). You initially used no "location" prop and then provided one on a subsequent render.'),r()(!(!e.location&&this.props.location),'<Route> elements should not change from controlled to uncontrolled (or vice versa). You provided a "location" prop initially but omitted it on a subsequent render.'),this.setState({match:this.computeMatch(e,t.router)})},a.prototype.render=function(){var e=this.state.match,t=this.props,o=t.children,n=t.component,r=t.render,i=this.context.router,a=i.history,s=i.route,l=i.staticContext,c={match:e,location:this.props.location||s.location,history:a,staticContext:l};return n?e?g.a.createElement(n,c):null:r?e?r(c):null:"function"==typeof o?o(c):o&&!_e(o)?g.a.Children.only(o):null},a}(g.a.Component);ve.propTypes={computedMatch:s.a.object,path:s.a.string,exact:s.a.bool,strict:s.a.bool,sensitive:s.a.bool,component:s.a.func,render:s.a.func,children:s.a.oneOfType([s.a.func,s.a.node]),location:s.a.object},ve.contextTypes={router:s.a.shape({history:s.a.object.isRequired,route:s.a.object.isRequired,staticContext:s.a.object})},ve.childContextTypes={router:s.a.object.isRequired};var be=ve,Ee=be,Te=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e},Se="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};var ke=function(e){var r=e.to,t=e.exact,o=e.strict,n=e.location,i=e.activeClassName,a=e.className,s=e.activeStyle,l=e.style,c=e.isActive,u=e["aria-current"],d=function(e,t){var o={};for(var n in e)0<=t.indexOf(n)||Object.prototype.hasOwnProperty.call(e,n)&&(o[n]=e[n]);return o}(e,["to","exact","strict","location","activeClassName","className","activeStyle","style","isActive","aria-current"]),p="object"===(void 0===r?"undefined":Se(r))?r.pathname:r,h=p&&p.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1");return g.a.createElement(Ee,{path:h,exact:t,strict:o,location:n,children:function(e){var t=e.location,o=e.match,n=!!(c?c(o,t):o);return g.a.createElement(se,Te({to:r,className:n?[a,i].filter(function(e){return e}).join(" "):a,style:n?Te({},l,s):l,"aria-current":n&&u||null},d))}})};ke.propTypes={to:se.propTypes.to,exact:s.a.bool,strict:s.a.bool,location:s.a.object,activeClassName:s.a.string,className:s.a.string,activeStyle:s.a.object,style:s.a.object,isActive:s.a.func,"aria-current":s.a.oneOf(["page","step","location","date","time","true"])},ke.defaultProps={activeClassName:"active","aria-current":"page"};var Ce=ke;var Ae=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.enable=function(e){this.unblock&&this.unblock(),this.unblock=this.context.router.history.block(e)},t.prototype.disable=function(){this.unblock&&(this.unblock(),this.unblock=null)},t.prototype.componentWillMount=function(){B()(this.context.router,"You should not use <Prompt> outside a <Router>"),this.props.when&&this.enable(this.props.message)},t.prototype.componentWillReceiveProps=function(e){e.when?this.props.when&&this.props.message===e.message||this.enable(e.message):this.disable()},t.prototype.componentWillUnmount=function(){this.disable()},t.prototype.render=function(){return null},t}(g.a.Component);Ae.propTypes={when:s.a.bool,message:s.a.oneOfType([s.a.func,s.a.string]).isRequired},Ae.defaultProps={when:!0},Ae.contextTypes={router:s.a.shape({history:s.a.shape({block:s.a.func.isRequired}).isRequired}).isRequired};var Oe=Ae,we={},Be=0,Ie=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"/",t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return"/"===e?e:function(e){var t=e,o=we[t]||(we[t]={});if(o[e])return o[e];var n=pe.a.compile(e);return Be<1e4&&(o[e]=n,Be++),n}(e)(t,{pretty:!0})},Re=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e};var Ne=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.isStatic=function(){return this.context.router&&this.context.router.staticContext},t.prototype.componentWillMount=function(){B()(this.context.router,"You should not use <Redirect> outside a <Router>"),this.isStatic()&&this.perform()},t.prototype.componentDidMount=function(){this.isStatic()||this.perform()},t.prototype.componentDidUpdate=function(e){var t=x(e.to),o=x(this.props.to);D(t,o)?r()(!1,"You tried to redirect to the same route you're currently on: \""+o.pathname+o.search+'"'):this.perform()},t.prototype.computeTo=function(e){var t=e.computedMatch,o=e.to;return t?"string"==typeof o?Ie(o,t.params):Re({},o,{pathname:Ie(o.pathname,t.params)}):o},t.prototype.perform=function(){var e=this.context.router.history,t=this.props.push,o=this.computeTo(this.props);t?e.push(o):e.replace(o)},t.prototype.render=function(){return null},t}(g.a.Component);Ne.propTypes={computedMatch:s.a.object,push:s.a.bool,from:s.a.string,to:s.a.oneOfType([s.a.string,s.a.object]).isRequired},Ne.defaultProps={push:!1},Ne.contextTypes={router:s.a.shape({history:s.a.shape({push:s.a.func.isRequired,replace:s.a.func.isRequired}).isRequired,staticContext:s.a.object}).isRequired};var Pe=Ne,Le=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e};function xe(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var De=function(e){return"/"===e.charAt(0)?e:"/"+e},Me=function(e,t){return e?Le({},t,{pathname:De(e)+t.pathname}):t},Ue=function(e){return"string"==typeof e?e:L(e)},Fe=function(e){return function(){B()(!1,"You cannot %s with <StaticRouter>",e)}},He=function(){},je=function(i){function a(){var e,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a);for(var t=arguments.length,o=Array(t),n=0;n<t;n++)o[n]=arguments[n];return(e=r=xe(this,i.call.apply(i,[this].concat(o)))).createHref=function(e){return De(r.props.basename+Ue(e))},r.handlePush=function(e){var t=r.props,o=t.basename,n=t.context;n.action="PUSH",n.location=Me(o,x(e)),n.url=Ue(n.location)},r.handleReplace=function(e){var t=r.props,o=t.basename,n=t.context;n.action="REPLACE",n.location=Me(o,x(e)),n.url=Ue(n.location)},r.handleListen=function(){return He},r.handleBlock=function(){return He},xe(r,e)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(a,i),a.prototype.getChildContext=function(){return{router:{staticContext:this.props.context}}},a.prototype.componentWillMount=function(){r()(!this.props.history,"<StaticRouter> ignores the history prop. To use a custom history, use `import { Router }` instead of `import { StaticRouter as Router }`.")},a.prototype.render=function(){var e=this.props,t=e.basename,o=(e.context,e.location),n=function(e,t){var o={};for(var n in e)0<=t.indexOf(n)||Object.prototype.hasOwnProperty.call(e,n)&&(o[n]=e[n]);return o}(e,["basename","context","location"]),r={createHref:this.createHref,action:"POP",location:function(e,t){if(!e)return t;var o=De(e);return 0!==t.pathname.indexOf(o)?t:Le({},t,{pathname:t.pathname.substr(o.length)})}(t,x(o)),push:this.handlePush,replace:this.handleReplace,go:Fe("go"),goBack:Fe("goBack"),goForward:Fe("goForward"),listen:this.handleListen,block:this.handleBlock};return g.a.createElement(O,Le({},n,{history:r}))},a}(g.a.Component);je.propTypes={basename:s.a.string,context:s.a.object.isRequired,location:s.a.oneOfType([s.a.string,s.a.object])},je.defaultProps={basename:"",location:"/"},je.childContextTypes={router:s.a.object.isRequired};var Ge=je;var Ve=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentWillMount=function(){B()(this.context.router,"You should not use <Switch> outside a <Router>")},t.prototype.componentWillReceiveProps=function(e){r()(!(e.location&&!this.props.location),'<Switch> elements should not change from uncontrolled to controlled (or vice versa). You initially used no "location" prop and then provided one on a subsequent render.'),r()(!(!e.location&&this.props.location),'<Switch> elements should not change from controlled to uncontrolled (or vice versa). You provided a "location" prop initially but omitted it on a subsequent render.')},t.prototype.render=function(){var l=this.context.router.route,e=this.props.children,c=this.props.location||l.location,u=void 0,d=void 0;return g.a.Children.forEach(e,function(e){if(null==u&&g.a.isValidElement(e)){var t=e.props,o=t.path,n=t.exact,r=t.strict,i=t.sensitive,a=t.from,s=o||a;d=e,u=fe(c.pathname,{path:s,exact:n,strict:r,sensitive:i},l.match)}}),u?g.a.cloneElement(d,{location:c,computedMatch:u}):null},t}(g.a.Component);Ve.contextTypes={router:s.a.shape({route:s.a.object.isRequired}).isRequired},Ve.propTypes={children:s.a.node,location:s.a.object};var We=Ve,ze=Ie,qe=fe,Ke=o(3425),Ye=o.n(Ke),Xe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e};var Je=function(n){var e=function(e){var t=e.wrappedComponentRef,o=function(e,t){var o={};for(var n in e)0<=t.indexOf(n)||Object.prototype.hasOwnProperty.call(e,n)&&(o[n]=e[n]);return o}(e,["wrappedComponentRef"]);return g.a.createElement(be,{children:function(e){return g.a.createElement(n,Xe({},o,e,{ref:t}))}})};return e.displayName="withRouter("+(n.displayName||n.name)+")",e.WrappedComponent=n,e.propTypes={wrappedComponentRef:s.a.func},Ye()(e,n)};o.d(t,"BrowserRouter",function(){return ee}),o.d(t,"HashRouter",function(){return ne}),o.d(t,"Link",function(){return se}),o.d(t,"MemoryRouter",function(){return ue}),o.d(t,"NavLink",function(){return Ce}),o.d(t,"Prompt",function(){return Oe}),o.d(t,"Redirect",function(){return Pe}),o.d(t,"Route",function(){return Ee}),o.d(t,"Router",function(){return Q}),o.d(t,"StaticRouter",function(){return Ge}),o.d(t,"Switch",function(){return We}),o.d(t,"generatePath",function(){return ze}),o.d(t,"matchPath",function(){return qe}),o.d(t,"withRouter",function(){return Je})},331:function(e,t,o){"use strict";e.exports=o(397)},332:function(e,t,o){"use strict";var g,f,n,r,i,a,m=o(1215).toUnsigned,y=o(1215).toHexString;g=function(e,t){var o,n,r,i,a,s=[];if(!t.length)return null;for(o=0;o<e.byteLength;)n=m(e[o]<<24|e[o+1]<<16|e[o+2]<<8|e[o+3]),r=f(e.subarray(o+4,o+8)),i=1<n?o+n:e.byteLength,r===t[0]&&(1===t.length?s.push(e.subarray(o+8,i)):(a=g(e.subarray(o+8,i),t.slice(1))).length&&(s=s.concat(a))),o=i;return s},f=function(e){var t="";return t+=String.fromCharCode(e[0]),t+=String.fromCharCode(e[1]),t+=String.fromCharCode(e[2]),t+=String.fromCharCode(e[3])},n=function(e){return g(e,["moov","trak"]).reduce(function(e,t){var o,n,r,i,a;return(o=g(t,["tkhd"])[0])?(n=o[0],i=m(o[r=0===n?12:20]<<24|o[r+1]<<16|o[r+2]<<8|o[r+3]),(a=g(t,["mdia","mdhd"])[0])?(r=0===(n=a[0])?12:20,e[i]=m(a[r]<<24|a[r+1]<<16|a[r+2]<<8|a[r+3]),e):null):null},{})},r=function(r,e){var t,o,n;return t=g(e,["moof","traf"]),o=[].concat.apply([],t.map(function(n){return g(n,["tfhd"]).map(function(e){var t,o;return t=m(e[4]<<24|e[5]<<16|e[6]<<8|e[7]),o=r[t]||9e4,(g(n,["tfdt"]).map(function(e){var t,o;return t=e[0],o=m(e[4]<<24|e[5]<<16|e[6]<<8|e[7]),1===t&&(o*=Math.pow(2,32),o+=m(e[8]<<24|e[9]<<16|e[10]<<8|e[11])),o})[0]||1/0)/o})})),n=Math.min.apply(null,o),isFinite(n)?n:0},i=function(e){var t=g(e,["moov","trak"]),s=[];return t.forEach(function(e){var t=g(e,["mdia","hdlr"]),a=g(e,["tkhd"]);t.forEach(function(e,t){var o,n,r=f(e.subarray(8,12)),i=a[t];"vide"===r&&(n=0===(o=new DataView(i.buffer,i.byteOffset,i.byteLength)).getUint8(0)?o.getUint32(12):o.getUint32(20),s.push(n))})}),s},a=function(e){var t=g(e,["moov","trak"]),h=[];return t.forEach(function(e){var t,o,n={},r=g(e,["tkhd"])[0];r&&(o=(t=new DataView(r.buffer,r.byteOffset,r.byteLength)).getUint8(0),n.id=0===o?t.getUint32(12):t.getUint32(20));var i=g(e,["mdia","hdlr"])[0];if(i){var a=f(i.subarray(8,12));n.type="vide"===a?"video":"soun"===a?"audio":a}var s=g(e,["mdia","minf","stbl","stsd"])[0];if(s){var l=s.subarray(8);n.codec=f(l.subarray(4,8));var c,u=g(l,[n.codec])[0];u&&(/^[a-z]vc[1-9]$/i.test(n.codec)?(c=u.subarray(78),"avcC"===f(c.subarray(4,8))&&11<c.length?(n.codec+=".",n.codec+=y(c[9]),n.codec+=y(c[10]),n.codec+=y(c[11])):n.codec="avc1.4d400d"):/^mp4[a,v]$/i.test(n.codec)&&(c=u.subarray(28),"esds"===f(c.subarray(4,8))&&20<c.length&&0!==c[19]?(n.codec+="."+y(c[19]),n.codec+="."+y(c[20]>>>2&63).replace(/^0/,"")):n.codec="mp4a.40.2"))}var d=g(e,["mdia","mdhd"])[0];if(d&&r){var p=0===o?12:20;n.timescale=m(d[p]<<24|d[1+p]<<16|d[2+p]<<8|d[3+p])}h.push(n)}),h},e.exports={findBox:g,parseType:f,timescale:n,startTime:r,videoTrackIds:i,tracks:a}},334:function(e,t,o){e.exports=o(615)()},335:function(e,t,o){"use strict";t.__esModule=!0;var n,r=o(334),i=(n=r)&&n.__esModule?n:{default:n};t.default=i.default.shape({subscribe:i.default.func.isRequired,dispatch:i.default.func.isRequired,getState:i.default.func.isRequired})},336:function(e,t,o){"use strict";t.__esModule=!0,t.default=function(e){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(e);try{throw new Error(e)}catch(e){}}},3367:function(e,t,o){"use strict";function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(o(0)),s=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var t=d();if(t&&t.has(e))return t.get(e);var o={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(o,r,i):o[r]=e[r]}o.default=e,t&&t.set(e,o);return o}(o(1)),l=r(o(3227)),c=r(o(1869)),u=r(o(4));function d(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return d=function(){return e},e}function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var p=function(r){function e(){for(var e,t=arguments.length,o=new Array(t),n=0;n<t;n++)o[n]=arguments[n];return i(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e=r.call.apply(r,[this].concat(o))||this),"cards",[{heading:u.default.courseBlocksGradeBandsK5(),description:u.default.courseBlocksGradeBandsK5Description(),path:"/student/elementary"},{heading:u.default.courseBlocksGradeBands612(),description:u.default.courseBlocksGradeBands612Description(),path:"/student/middle-high"},{heading:u.default.courseBlocksGradeBandsUniversity(),description:u.default.courseBlocksGradeBandsUniversityDescription(),path:"/student/university"}]),e}return function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(e,r),e.prototype.render=function(){var e=this.props,t=e.showContainer,o=e.hideBottomMargin,n=t?"/home/#recent-courses":"",r=t?u.default.viewMyRecentCourses():"",i=t?u.default.courseBlocksGradeBandsContainerHeading():"",a=t?u.default.courseBlocksGradeBandsContainerDescription():"";return s.default.createElement(c.default,{link:n,linkText:r,heading:i,description:a,hideBottomMargin:o},s.default.createElement(l.default,{cards:this.cards}))},e}(s.Component);i(p,"propTypes",{showContainer:n.default.bool.isRequired,hideBottomMargin:n.default.bool.isRequired});var h=p;t.default=h,e.exports=t.default},3368:function(e,t,o){"use strict";function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var t=u();if(t&&t.has(e))return t.get(e);var o={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(o,r,i):o[r]=e[r]}o.default=e,t&&t.set(e,o);return o}(o(1)),r=c(o(1869)),i=c(o(2485)),s=c(o(3369)),l=c(o(2324));function c(e){return e&&e.__esModule?e:{default:e}}function u(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return u=function(){return e},e}var d,p,h,g=function(e){function t(){return e.apply(this,arguments)||this}return function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(t,e),t.prototype.render=function(){var e=this.props.cards;return n.default.createElement(r.default,{heading:"",description:"",hideBottomMargin:!0},n.default.createElement(i.default,null,e.map(function(e,t){return n.default.createElement(s.default,{key:t,title:e.title,description:e.description,buttonText:e.buttonText,link:e.link,image:e.image,MCShareLink:e.MCShareLink})})))},t}(n.Component);t.default=g,d=g,p="propTypes",h={cards:l.default.courses},p in d?Object.defineProperty(d,p,{value:h,enumerable:!0,configurable:!0,writable:!0}):d[p]=h,e.exports=t.default},3369:function(e,t,h){"use strict";function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var g=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var t=l();if(t&&t.has(e))return t.get(e);var o={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(o,r,i):o[r]=e[r]}o.default=e,t&&t.set(e,o);return o}(h(1)),o=s(h(0)),n=s(h(14)),r=h(9),i=s(h(6)),f=s(h(23));function s(e){return e&&e.__esModule?e:{default:e}}function l(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return l=function(){return e},e}var c,u,d,m={card:{overflow:"hidden",borderWidth:1,borderStyle:"solid",borderColor:i.default.border_gray,height:440,width:308,backgroundColor:i.default.white},jumboCard:{overflow:"hidden",borderWidth:1,borderStyle:"solid",borderColor:i.default.border_gray,height:440,width:473,marginBottom:20,backgroundColor:i.default.white},image:{width:310,height:220},jumboImage:{width:473,height:220},text:{fontFamily:'"Gotham 4r", sans-serif',color:i.default.charcoal},title:{paddingTop:20,paddingLeft:20,paddingRight:20,paddingBottom:15,fontSize:20},button:{margin:20},description:{paddingLeft:20,paddingRight:20,fontSize:14,lineHeight:1.5,height:89},shareLink:{borderWidth:1,borderStyle:"solid",borderColor:i.default.border_gray,fontSize:14,marginTop:5,padding:5,width:258},ltr:{float:"left"},rtl:{float:"right",textAlign:"right"}},p=function(e){function t(){return e.apply(this,arguments)||this}return function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(t,e),t.prototype.render=function(){var e=this.props,t=e.title,o=e.description,n=e.link,r=e.buttonText,i=e.isRtl,a=e.jumbo,s=e.MCShareLink,l=e.image,c=a?m.jumboCard:m.card,u=a?m.jumboImage:m.image,d=i?m.rtl:m.ltr,p={"another-hoc":h(3826),"applab-marketing":h(3827),"applab-project":h(3828),"applab-tutorial":h(3829),"create-account":h(3830),"csf-express":h(3831),"course-catalog":h(3832),"hero-minecraft":h(3833),"old-minecraft":h(3834),"minecraft-marketing":h(3835),"aquatic-minecraft":h(3836),"codeorg-teacher":h(3837),"third-party-teacher":h(3838),"third-party-teacher-small":h(3839),maker:h(3840),"dance-party":h(3841),"dance-party-2":h(3842),"dance-party-2-2019":h(3843),"dance-party-sloth-2019":h(3844)}[l];return g.default.createElement("div",{style:[c,d]},g.default.createElement("div",{style:u},g.default.createElement("a",{href:n},g.default.createElement("img",{src:p}))),g.default.createElement("div",null,g.default.createElement("div",{style:[m.text,m.title,d]},t),g.default.createElement("div",{style:[m.text,m.description,d]},o,s&&g.default.createElement("input",{type:"text",style:[m.text,m.shareLink,d],value:s,onChange:function(){},onClick:function(e){return e.target.select()}})),g.default.createElement(f.default,{__useDeprecatedTag:!0,href:n,color:f.default.ButtonColor.gray,text:r,style:[m.button,d]})))},t}(g.Component);c=p,u="propTypes",d={title:o.default.string.isRequired,description:o.default.string.isRequired,buttonText:o.default.string.isRequired,link:o.default.string.isRequired,image:o.default.string.isRequired,isRtl:o.default.bool.isRequired,MCShareLink:o.default.string,jumbo:o.default.bool},u in c?Object.defineProperty(c,u,{value:d,enumerable:!0,configurable:!0,writable:!0}):c[u]=d;var y=(0,r.connect)(function(e){return{isRtl:e.isRtl}})((0,n.default)(p));t.default=y,e.exports=t.default},3374:function(e,t,a){"use strict";function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==s(e)&&"function"!=typeof e)return{default:e};var t=h();if(t&&t.has(e))return t.get(e);var o={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(o,r,i):o[r]=e[r]}o.default=e,t&&t.set(e,o);return o}(a(1)),o=p(a(0)),n=p(a(14)),r=a(9),c=p(a(4)),i=p(a(6)),u=p(a(196)),d=p(a(23));function p(e){return e&&e.__esModule?e:{default:e}}function h(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return h=function(){return e},e}var g,f,m,y={card:{overflow:"hidden",borderWidth:1,borderStyle:"solid",borderColor:i.default.border_gray,position:"relative",height:200,width:u.default["content-width"],marginBottom:20,background:i.default.white},image:{position:"absolute",width:u.default["content-width"],height:80},name:{paddingTop:10,paddingBottom:10,paddingLeft:25,paddingRight:25,marginTop:15,fontSize:30,fontFamily:'"Gotham 4r", sans-serif',color:i.default.white,width:u.default["content-width"]-35,zIndex:2,position:"absolute",display:"inline",whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden"},description:{paddingLeft:25,paddingRight:25,paddingTop:20,paddingBottom:5,marginTop:80,fontSize:14,lineHeight:1.5,fontFamily:'"Gotham 4r", sans-serif',color:i.default.charcoal,background:i.default.white,width:"65%",boxSizing:"border-box",position:"absolute",zIndex:2},buttonBox:{marginTop:120,zIndex:2},lessonButton:{marginLeft:20,marginRight:25},ltr:{float:"left"},rtl:{float:"right"}},_=function(e){function t(){return e.apply(this,arguments)||this}return function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(t,e),t.prototype.render=function(){var e=this.props,t=e.assignableName,o=e.lessonName,n=e.linkToOverview,r=e.linkToLesson,i=e.isRtl?y.ltr:y.rtl;return l.default.createElement("div",{style:y.card},l.default.createElement("img",{src:a(3891),style:y.image}),l.default.createElement("div",{style:y.name},t),l.default.createElement("div",{style:y.description},l.default.createElement("div",null,c.default.topCourseLessonIntro({lessonName:o})),l.default.createElement("div",{style:{marginTop:10}},c.default.topCourseExplanation())),l.default.createElement("div",{style:[y.buttonBox,i]},l.default.createElement(d.default,{__useDeprecatedTag:!0,href:n,color:d.default.ButtonColor.gray,text:c.default.viewCourse()}),l.default.createElement(d.default,{__useDeprecatedTag:!0,href:r,color:d.default.ButtonColor.orange,text:c.default.continueLesson(),style:y.lessonButton})))},t}(l.Component);g=_,f="propTypes",m={isRtl:o.default.bool.isRequired,assignableName:o.default.string.isRequired,lessonName:o.default.string.isRequired,linkToOverview:o.default.string.isRequired,linkToLesson:o.default.string.isRequired},f in g?Object.defineProperty(g,f,{value:m,enumerable:!0,configurable:!0,writable:!0}):g[f]=m;var v=(0,r.connect)(function(e){return{isRtl:e.isRtl}})((0,n.default)(_));t.default=v,e.exports=t.default},3375:function(e,t,o){"use strict";function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.UnconnectedLoginTypePicker=void 0;var n=l(o(0)),d=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var o={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(o,r,i):o[r]=e[r]}o.default=e,t&&t.set(e,o);return o}(o(1)),r=o(9),p=l(o(4)),h=o(613),g=l(o(3900)),f=l(o(287)),i=l(o(3901)),m=l(o(23)),y=o(82);function s(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var u=function(r){function e(){for(var t,e=arguments.length,o=new Array(e),n=0;n<e;n++)o[n]=arguments[n];return c(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t=r.call.apply(r,[this].concat(o))||this),"openImportDialog",function(e){t.props.setRosterProvider(e),t.props.handleCancel(),t.props.handleImportOpen()}),t}return function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(e,r),e.prototype.render=function(){var e=this.props,t=e.title,o=e.providers,n=e.setLoginType,r=e.handleImportOpen,i=e.handleCancel,a=e.disabled,s=o&&o.includes(y.OAuthSectionTypes.google_classroom),l=o&&o.includes(y.OAuthSectionTypes.microsoft_classroom),c=o&&o.includes(y.OAuthSectionTypes.clever),u=(s||l||c)&&"function"==typeof r;return d.default.createElement("div",null,d.default.createElement(h.Heading1,null,t),d.default.createElement(h.Heading2,null,p.default.addStudentsToSectionInstructions()),u&&d.default.createElement(h.Heading3,null,p.default.addStudentsManageMyOwn()),d.default.createElement(g.default,null,d.default.createElement(b,{onClick:n}),d.default.createElement(E,{onClick:n}),d.default.createElement(T,{onClick:n})),d.default.createElement("div",null,d.default.createElement("b",null,p.default.note())," "+p.default.emailAddressPolicy()+" ",d.default.createElement("a",{href:"http://blog.code.org/post/147756946588/codeorgs-new-login-approach-to-student-privacy"},p.default.moreInfo())),u&&d.default.createElement("div",null,d.default.createElement(h.Heading3,null,p.default.addStudentsSyncThirdParty()),d.default.createElement(g.default,null,s&&d.default.createElement(S,{onClick:this.openImportDialog}),l&&d.default.createElement(k,{onClick:this.openImportDialog}),c&&d.default.createElement(C,{onClick:this.openImportDialog}))),d.default.createElement(f.default,null,d.default.createElement(m.default,{__useDeprecatedTag:!0,onClick:i,text:p.default.dialogCancel(),size:m.default.ButtonSize.large,color:m.default.ButtonColor.gray,disabled:a})))},e}(d.Component);c(u,"propTypes",{title:n.default.string.isRequired,handleImportOpen:n.default.func,setRosterProvider:n.default.func,setLoginType:n.default.func.isRequired,handleCancel:n.default.func.isRequired,disabled:n.default.bool,providers:n.default.arrayOf(n.default.string)});var _=u;t.UnconnectedLoginTypePicker=_;var v=(0,r.connect)(function(e){return{providers:e.teacherSections.providers}})(u);t.default=v;var b=function(e){return d.default.createElement(i.default,{className:"uitest-pictureLogin",title:p.default.loginTypePicture(),subtitle:p.default.loginTypePictureAgeGroup(),description:p.default.loginTypePictureDescription(),onClick:function(){return e.onClick("picture")}})};b.propTypes={onClick:n.default.func.isRequired,disabled:n.default.bool};var E=function(e){return d.default.createElement(i.default,{className:"uitest-wordLogin",title:p.default.loginTypeWord(),subtitle:p.default.loginTypeWordAgeGroup(),description:p.default.loginTypeWordDescription(),onClick:function(){return e.onClick("word")}})};E.propTypes=b.propTypes;var T=function(e){return d.default.createElement(i.default,{className:"uitest-emailLogin",title:p.default.loginTypePersonal(),subtitle:p.default.loginTypeEmailAgeGroup(),description:p.default.loginTypeEmailDescription(),onClick:function(){return e.onClick("email")}})};T.propTypes=b.propTypes;var S=function(e){return d.default.createElement(i.default,{title:p.default.loginTypeGoogleClassroom(),description:p.default.loginTypeGoogleClassroomDescription(),onClick:function(){return e.onClick(y.OAuthSectionTypes.google_classroom)}})};S.propTypes=b.propTypes;var k=function(e){return d.default.createElement(i.default,{title:p.default.loginTypeMicrosoftClassroom(),description:p.default.loginTypeMicrosoftClassroomDescription(),onClick:function(){return e.onClick(y.OAuthSectionTypes.microsoft_classroom)}})};k.propTypes=b.propTypes;var C=function(e){return d.default.createElement(i.default,{title:p.default.loginTypeClever(),description:p.default.loginTypeCleverDescription(),onClick:function(){return e.onClick(y.OAuthSectionTypes.clever)}})};C.propTypes=b.propTypes},3376:function(e,t,o){"use strict";function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.ReloadAfterEditSectionForm=t.UnconnectedEditSectionForm=void 0;var n=v(o(0)),h=p(o(1)),r=o(9),g=o(613),i=p(o(196)),f=v(o(23)),l=v(o(3902)),s=o(82),m=v(o(287)),y=v(o(4)),c=o(56),u=o(147),_=v(o(1041));function d(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return d=function(){return e},e}function p(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var t=d();if(t&&t.has(e))return t.get(e);var o={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(o,r,i):o[r]=e[r]}return o.default=e,t&&t.set(e,o),o}function v(e){return e&&e.__esModule?e:{default:e}}function b(){return(b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e}).apply(this,arguments)}function E(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{},n=Object.keys(Object(o));"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(o).filter(function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable}))),n.forEach(function(e){S(t,e,o[e])})}return t}function T(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var k={root:{width:i["content-width"],height:"80vh",left:20,right:20},dropdown:{padding:"0.3em"},sectionNameInput:{display:"block",width:"100%",boxSizing:"border-box",fontSize:"large",padding:"0.5em"},scroll:{position:"absolute",top:80,overflowY:"scroll",height:"calc(80vh - 200px)"}},C=function(n){function e(){for(var i,e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];return S(T(i=n.call.apply(n,[this].concat(t))||this),"state",{showHiddenUnitWarning:!1}),S(T(i),"onSaveClick",function(){var e=i.props,t=e.section,o=e.hiddenStageState,n=t.id,r=t.scriptId;n&&r&&(0,u.isScriptHiddenForSection)(o,n,r)?i.setState({showHiddenUnitWarning:!0}):i.handleSave()}),S(T(i),"handleConfirmAssign",function(){var e=i.props,t=e.section;(0,e.updateHiddenScript)(t.id.toString(),t.scriptId,!1),i.setState({showHiddenUnitWarning:!1}),i.handleSave()}),S(T(i),"handleSave",function(){i.props.handleSave().catch(function(e){alert(y.default.unexpectedError()),console.error(e)})}),i}return function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(e,n),e.prototype.render=function(){var e=this.props,t=e.section,o=e.title,n=e.validGrades,r=e.validAssignments,i=e.assignmentFamilies,a=e.isSaveInProgress,s=e.editSectionProperties,l=e.handleClose,c=e.stageExtrasAvailable,u=e.assignedScriptName,d=e.localeEnglishName,p=e.isNewSection;return t?h.default.createElement("div",{style:k.root},h.default.createElement(g.Heading1,null,o),h.default.createElement("div",{style:k.scroll},h.default.createElement(O,{value:t.name,onChange:function(e){return s({name:e})},disabled:a}),h.default.createElement(w,{value:t.grade||"",onChange:function(e){return s({grade:e})},validGrades:n,disabled:a}),h.default.createElement(B,{section:t,onChange:function(e){return s(e)},validAssignments:r,assignmentFamilies:i,disabled:a,localeEnglishName:d,isNewSection:p}),c(t.scriptId)&&h.default.createElement(I,{value:t.stageExtras,onChange:function(e){return s({stageExtras:e})},disabled:a}),h.default.createElement(R,{value:t.pairingAllowed,onChange:function(e){return s({pairingAllowed:e})},disabled:a})),h.default.createElement(m.default,null,h.default.createElement(f.default,{__useDeprecatedTag:!0,onClick:l,text:y.default.dialogCancel(),size:f.default.ButtonSize.large,color:f.default.ButtonColor.gray,disabled:a}),h.default.createElement(f.default,{__useDeprecatedTag:!0,className:"uitest-saveButton",onClick:this.onSaveClick,text:y.default.save(),size:f.default.ButtonSize.large,color:f.default.ButtonColor.orange,disabled:a})),this.state.showHiddenUnitWarning&&h.default.createElement(_.default,{sectionName:t.name,assignmentName:u,onClose:l,onConfirm:this.handleConfirmAssign})):null},e}(h.Component);S(C,"propTypes",{title:n.default.string.isRequired,isNewSection:n.default.bool,initialScriptId:n.default.number,initialCourseId:n.default.number,validGrades:n.default.arrayOf(n.default.string).isRequired,validAssignments:n.default.objectOf(s.assignmentShape).isRequired,assignmentFamilies:n.default.arrayOf(s.assignmentFamilyShape).isRequired,sections:n.default.objectOf(s.sectionShape).isRequired,section:s.sectionShape.isRequired,editSectionProperties:n.default.func.isRequired,handleSave:n.default.func.isRequired,handleClose:n.default.func.isRequired,isSaveInProgress:n.default.bool.isRequired,stageExtrasAvailable:n.default.func.isRequired,hiddenStageState:n.default.object.isRequired,assignedScriptName:n.default.string.isRequired,updateHiddenScript:n.default.func.isRequired,localeEnglishName:n.default.string});var A={value:n.default.any,onChange:n.default.func.isRequired,disabled:n.default.bool},O=function(e){var t=e.value,o=e.onChange,n=e.disabled;return h.default.createElement("div",null,h.default.createElement(N,null,y.default.sectionName()),h.default.createElement(P,null,y.default.addSectionName()),h.default.createElement("input",{value:t,placeholder:y.default.addSectionNameHint(),onChange:function(e){return o(e.target.value)},style:k.sectionNameInput,disabled:n,id:"uitest-section-name"}))};O.propTypes=A;var w=function(e){var t=e.value,o=e.onChange,n=e.validGrades,r=e.disabled,i=[""].concat(n).map(function(e){return{value:e,text:"Other"===e?"Other/Mixed":e}});return h.default.createElement("div",null,h.default.createElement(N,null,y.default.grade()),h.default.createElement(L,{value:t,onChange:function(e){return o(e.target.value)},disabled:r},i.map(function(e,t){return h.default.createElement("option",{key:t,value:e.value},e.text)})))};w.propTypes=E({},A,{validGrades:n.default.arrayOf(n.default.string).isRequired});var B=function(e){var t=e.section,o=e.onChange,n=e.validAssignments,r=e.assignmentFamilies,i=e.disabled,a=e.localeEnglishName,s=e.isNewSection;return h.default.createElement("div",null,h.default.createElement(N,null,y.default.course()),h.default.createElement(P,null,y.default.whichCourse()),h.default.createElement(l.default,{section:t,onChange:function(e){return o(e)},assignments:n,assignmentFamilies:r,chooseLaterOption:!0,dropdownStyle:k.dropdown,disabled:i,localeEnglishName:a,isNewSection:s}))};B.propTypes={section:s.sectionShape,onChange:n.default.func.isRequired,validAssignments:n.default.objectOf(s.assignmentShape).isRequired,assignmentFamilies:n.default.arrayOf(s.assignmentFamilyShape).isRequired,disabled:n.default.bool,localeEnglishName:n.default.string,isNewSection:n.default.bool};var I=function(e){var t=e.value,o=e.onChange,n=e.disabled;return h.default.createElement("div",null,h.default.createElement(N,null,y.default.enableLessonExtras()),h.default.createElement(P,null,y.default.explainLessonExtras()," ",h.default.createElement("a",{href:"https://support.code.org/hc/en-us/articles/228116568-In-the-teacher-dashboard-what-are-stage-extras-",target:"_blank"},y.default.explainLessonExtrasLearnMore())),h.default.createElement(x,{value:t,onChange:function(e){return o(e)},disabled:n}))};I.propTypes=A;var R=function(e){var t=e.value,o=e.onChange,n=e.disabled;return h.default.createElement("div",null,h.default.createElement(N,null,y.default.enablePairProgramming()),h.default.createElement(P,null,y.default.explainPairProgramming()," ",h.default.createElement("a",{href:"https://support.code.org/hc/en-us/articles/115002122788-How-does-pair-programming-within-Code-Studio-work-",target:"_blank"},y.default.explainPairProgrammingLearnMore())),h.default.createElement(x,{value:t,onChange:function(e){return o(e)},disabled:n}))};R.propTypes=A;var N=function(e){return h.default.createElement("div",b({style:E({},g.h3Style,{marginTop:20,marginBottom:0})},e))},P=function(e){return h.default.createElement("div",b({style:{marginBottom:5}},e))},L=function(e){return h.default.createElement("select",b({style:k.dropdown},e))},x=function(e){var t=e.value,o=e.onChange,n=e.disabled;return h.default.createElement(L,{value:t?"yes":"no",onChange:function(e){return o("yes"===e.target.value)},disabled:n},h.default.createElement("option",{value:"yes"},y.default.yes()),h.default.createElement("option",{value:"no"},y.default.no()))};x.propTypes=A;var D=function(t){return{initialCourseId:t.teacherSections.initialCourseId,initialScriptId:t.teacherSections.initialScriptId,validGrades:t.teacherSections.validGrades,validAssignments:t.teacherSections.validAssignments,assignmentFamilies:t.teacherSections.assignmentFamilies,sections:t.teacherSections.sections,section:t.teacherSections.sectionBeingEdited,isSaveInProgress:t.teacherSections.saveInProgress,stageExtrasAvailable:function(e){return(0,c.stageExtrasAvailable)(t,e)},hiddenStageState:t.hiddenStage,assignedScriptName:(0,c.assignedScriptName)(t),localeEnglishName:t.locales.localeEnglishName}},M=C;t.UnconnectedEditSectionForm=M;var U=(0,r.connect)(D,{editSectionProperties:c.editSectionProperties,updateHiddenScript:u.updateHiddenScript,handleSave:c.reloadAfterEditingSection,handleClose:c.cancelEditingSection})(C);t.ReloadAfterEditSectionForm=U;var F=(0,r.connect)(D,{editSectionProperties:c.editSectionProperties,updateHiddenScript:u.updateHiddenScript,handleSave:c.finishEditingSection,handleClose:c.cancelEditingSection})(C);t.default=F},3377:function(e,t,o){"use strict";function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.ReloadAfterEditSectionDialog=t.default=void 0;var n=g(o(0)),r=h(o(1)),i=o(9),s=g(o(4)),l=g(o(66)),c=h(o(3376)),u=g(o(1634)),d=o(56);function p(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return p=function(){return e},e}function h(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var t=p();if(t&&t.has(e))return t.get(e);var o={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(o,r,i):o[r]=e[r]}return o.default=e,t&&t.set(e,o),o}function g(e){return e&&e.__esModule?e:{default:e}}function f(o){var e=function(e){function t(){return e.apply(this,arguments)||this}return function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(t,e),t.prototype.render=function(){return r.default.createElement(l.default,{useUpdatedStyles:!0,fixedWidth:1010,fullHeight:!0,isOpen:this.props.isOpen,uncloseable:!0},r.default.createElement(u.default,null,r.default.createElement(o,{title:s.default.editSectionDetails(),isNewSection:!1})))},t}(r.Component);return function(e,t,o){t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o}(e,"propTypes",{isOpen:n.default.bool.isRequired}),e}var m=(0,i.connect)(function(e){return{isOpen:(0,d.isEditingSection)(e.teacherSections)}})(f(c.default));t.default=m;var y=(0,i.connect)(function(e){return{isOpen:(0,d.isEditingSection)(e.teacherSections)}})(f(c.ReloadAfterEditSectionForm));t.ReloadAfterEditSectionDialog=y},3378:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.switchToSection=function(e,t){var o="/teacher_dashboard/sections/".concat(e,"/"),n=a.default.last(a.default.split(window.location.pathname,"/")),r=a.default.values(l.TeacherDashboardPath),i=a.default.includes(r,"/".concat(n))?o.concat(n):o;(0,s.navigateToHref)(i)},t.recordSwitchToSection=function(e,t,o){n.default.putRecord({study:"teacher_dashboard_actions",study_group:o,event:"change_section",data_json:JSON.stringify({section_id:t,old_section_id:t,new_section_id:e})},{includeUserId:!0})},t.recordOpenEditSectionDetails=function(e,t){n.default.putRecord({study:"teacher_dashboard_actions",study_group:t,event:"open_edit_section_dashboard_header",data_json:JSON.stringify({section_id:e})},{includeUserId:!0})};var a=r(o(15)),s=o(11),l=o(3379),n=r(o(62));function r(e){return e&&e.__esModule?e:{default:e}}},3379:function(e,t,o){"use strict";function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.TeacherDashboardPath=void 0;var s=p(o(10)),l=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var t=d();if(t&&t.has(e))return t.get(e);var o={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(o,r,i):o[r]=e[r]}o.default=e,t&&t.set(e,o);return o}(o(1)),n=p(o(0)),c=o(3290),r=p(o(4)),i=p(o(6)),u=p(o(18));function d(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return d=function(){return e},e}function p(e){return e&&e.__esModule?e:{default:e}}function h(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{},n=Object.keys(Object(o));"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(o).filter(function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable}))),n.forEach(function(e){f(t,e,o[e])})}return t}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var m=o(1635),y={progress:"/progress",textResponses:"/text_responses",assessments:"/assessments",projects:"/projects",stats:"/stats",manageStudents:"/manage_students",loginInfo:"/login_info",standardsReport:"/standards_report"};t.TeacherDashboardPath=y;var _=[{label:r.default.teacherTabProgress(),url:y.progress},{label:r.default.teacherTabStatsTextResponses(),url:y.textResponses},{label:r.default.teacherTabAssessments(),url:y.assessments},{label:r.default.teacherTabProjects(),url:y.projects},{label:r.default.teacherTabStats(),url:y.stats},{label:r.default.teacherTabManageStudents(),url:y.manageStudents}],v="start",b="middle",E="end",T=function(n){function e(){for(var i,e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];return f(g(i=n.call.apply(n,[this].concat(t))||this),"state",{listPosition:v,shouldScroll:!0}),f(g(i),"setShouldScroll",function(){for(var e=(0,s.default)(i.refs.navbar),t=e.children(),o=0,n=0;n<t.length;n++)o+=t[n].clientWidth;var r=e.width()<o+150;i.setState({shouldScroll:r})}),f(g(i),"scrollTo",function(e){var t=0;e===E&&(t=(0,s.default)(i.refs.navbar).width()),i.setState({listPosition:e}),(0,s.default)(i.refs.navbar).animate({scrollLeft:t},500)}),f(g(i),"handleScroll",function(){var e=i.state.listPosition,t=i.refs.navbar,o=(0,s.default)(t).scrollLeft(),n=(0,s.default)(t)[0].scrollWidth-(0,s.default)(t)[0].clientWidth;0<o&&o<n&&e!==b?i.setState({listPosition:b}):0===o&&e!==v?i.setState({listPosition:v}):o===n&&e!==E&&i.setState({listPosition:E})}),i}!function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(e,n);var t=e.prototype;return t.componentDidMount=function(){this.setShouldScroll()},t.render=function(){var e=this,t=this.state,o=t.listPosition,n=t.shouldScroll,r=this.props.links||_,i=this.state.shouldScroll?h({},S.container,S.scrollableContainer):h({},S.container,S.centerContainer),a=m.isSafari()?h({},S.chevron,S.safariSticky):S.chevron;return l.default.createElement("div",{ref:"navbar",id:"uitest-teacher-dashboard-nav",style:i,onScroll:this.handleScroll},o!==v&&n&&l.default.createElement(u.default,{icon:"chevron-left",style:h({},a,S.chevronLeft),onClick:function(){return e.scrollTo(v)}}),r.map(function(e){return l.default.createElement(c.NavLink,{key:e.url,to:e.url,style:S.linkContainer,activeStyle:S.activeLinkContainer},l.default.createElement("div",{style:S.link},e.label))}),o!==E&&n&&l.default.createElement(u.default,{icon:"chevron-right",style:h({},a,S.chevronRight),onClick:function(){return e.scrollTo(E)}}))},e}(l.Component);f(t.default=T,"propTypes",{links:n.default.arrayOf(n.default.shape({label:n.default.string.isRequired,url:n.default.string.isRequired}))});var S={container:{width:"100%",height:50,backgroundColor:i.default.purple,display:"flex",marginBottom:10,overflow:"hidden",position:"relative"},centerContainer:{justifyContent:"center"},scrollableContainer:{overflowX:"scroll"},linkContainer:{whiteSpace:"nowrap",textDecoration:"none",color:i.default.white,fontSize:14,paddingLeft:10,paddingRight:10,marginLeft:10,marginRight:10},activeLinkContainer:{borderBottom:"3px solid ".concat(i.default.orange)},link:{height:50,display:"flex",alignItems:"center",textAlign:"center"},chevron:{position:"sticky",height:50,top:0,fontSize:24,backgroundColor:i.default.purple,color:i.default.white,marginTop:13,paddingLeft:10,paddingRight:10,cursor:"pointer"},safariSticky:{position:"-webkit-sticky"},chevronLeft:{left:0},chevronRight:{right:0}}},3381:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(o(0)),i=r(o(1)),a=r(o(3922)),s=r(o(4)),l=r(o(23));function r(e){return e&&e.__esModule?e:{default:e}}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var d={button:{float:"right",marginRight:1},headingStartNew:{paddingRight:10,paddingBottom:10,fontSize:16,fontFamily:'"Gotham 4r"',color:r(o(6)).default.charcoal,marginBottom:-10},spacer:{paddingTop:10,clear:"both",width:"100%"}},p=function(r){function e(){for(var e,t=arguments.length,o=new Array(t),n=0;n<t;n++)o[n]=arguments[n];return u(c(e=r.call.apply(r,[this].concat(o))||this),"state",{showFullList:!1}),u(c(e),"toggleShowFullList",function(){e.setState({showFullList:!e.state.showFullList})}),e}return function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(e,r),e.prototype.render=function(){var e=this.props,t=e.canViewAdvancedTools,o=e.canViewFullList,n=this.state.showFullList,r=t?["spritelab","artist","applab","gamelab"]:["spritelab","artist","minecraft_designer","dance"];return i.default.createElement("div",null,i.default.createElement("div",{style:d.headingStartNew},s.default.projectStartNew()),i.default.createElement(a.default,{projectTypes:r}),o&&i.default.createElement(l.default,{__useDeprecatedTag:!0,id:"uitest-view-full-list",onClick:this.toggleShowFullList,color:l.default.ButtonColor.gray,icon:n?"caret-up":"caret-down",text:n?s.default.hideFullList():s.default.viewFullList(),style:d.button}),i.default.createElement("div",{style:{clear:"both"}}),n&&i.default.createElement("div",null,i.default.createElement(a.default,{description:s.default.projectGroupPlaylab(),projectTypes:["playlab","infinity","gumball","iceage"]}),i.default.createElement(a.default,{description:s.default.projectGroupEvents(),projectTypes:["spritelab","dance","flappy","starwarsblocks","starwars","bounce","sports","basketball"]}),i.default.createElement(a.default,{description:s.default.projectGroupArtist(),projectTypes:["artist","frozen"]}),i.default.createElement(a.default,{description:s.default.projectGroupMinecraft(),projectTypes:["minecraft_aquatic","minecraft_hero","minecraft_designer","minecraft_adventurer"]}),t&&i.default.createElement(a.default,{description:s.default.projectGroupAdvancedTools(),projectTypes:["applab","gamelab","weblab"]}),i.default.createElement(a.default,{description:s.default.projectGroupPreReader(),projectTypes:["playlab_k1","artist_k1"]}),i.default.createElement(a.default,{description:s.default.projectGroupMath(),projectTypes:["calc","eval"]})),i.default.createElement("div",{style:d.spacer}))},e}(i.default.Component);u(t.default=p,"propTypes",{projectTypes:n.default.arrayOf(n.default.string),canViewFullList:n.default.bool,canViewAdvancedTools:n.default.bool}),u(p,"defaultProps",{canViewAdvancedTools:!0}),e.exports=t.default},3382:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=c(o(0)),r=c(o(1)),i=c(o(66)),a=c(o(287)),s=c(o(23)),l=c(o(4));function c(e){return e&&e.__esModule?e:{default:e}}var u,d,p,h={title:{textAlign:"left",fontSize:"32px"},body:{textAlign:"left",color:c(o(6)).default.black}},g=function(e){function t(){return e.apply(this,arguments)||this}return function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(t,e),t.prototype.render=function(){return r.default.createElement(i.default,{title:"Unable to rename project",isOpen:this.props.isOpen,handleClose:this.props.handleClose},r.default.createElement("h1",{style:h.title},l.default.nameFailureDialogTitle()),r.default.createElement("div",{style:h.body},r.default.createElement("p",null,l.default.nameFailureDialogBody({text:this.props.flaggedText}))),r.default.createElement(a.default,{rightAlign:!0},r.default.createElement(s.default,{__useDeprecatedTag:!0,text:l.default.ok(),onClick:this.props.handleClose,color:s.default.ButtonColor.orange,className:"no-mc ui-confirm-project-delete-button"})))},t}(r.default.Component);t.default=g,u=g,d="propTypes",p={flaggedText:n.default.string,isOpen:n.default.bool.isRequired,handleClose:n.default.func.isRequired},d in u?Object.defineProperty(u,d,{value:p,enumerable:!0,configurable:!0,writable:!0}):u[d]=p,e.exports=t.default},3385:function(e,t,o){"use strict";function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=g(o(0)),i=g(o(1)),c=g(o(10)),s=g(o(4)),r=g(o(6)),l=g(o(66)),u=g(o(23)),d=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var t=h();if(t&&t.has(e))return t.get(e);var o={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(o,r,i):o[r]=e[r]}o.default=e,t&&t.set(e,o);return o}(o(3231)),p=g(o(62));function h(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return h=function(){return e},e}function g(e){return e&&e.__esModule?e:{default:e}}function f(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{},n=Object.keys(Object(o));"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(o).filter(function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable}))),n.forEach(function(e){y(t,e,o[e])})}return t}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var _={container:{margin:20,color:r.default.charcoal,fontSize:13},heading:{fontSize:16,fontFamily:"'Gotham 5r', sans-serif"},middle:{marginTop:20,marginBottom:20,paddingBottom:20,paddingTop:20,borderTopWidth:1,borderBottomWidth:1,borderRightWidth:0,borderLeftWidth:0,borderStyle:"solid",borderColor:r.default.lighter_gray},bottom:{display:"flex",justifyContent:"flex-end"},error:{color:r.default.red},button:{marginLeft:7,marginRight:7,marginTop:15,marginBottom:15}},v="show",b="submit",E="save_success",T="save_failure",S=function(r){function o(e){var l;y(m(l=r.call(this,e)||this),"validateSubmission",function(){var e=l.state,t=e.country,o=e.schoolType,n=e.schoolName,r=e.ncesSchoolId,i={},a=!0;if(l.isBlank(t))a=!(i.country=!0);else if("United States"===t)if(l.isBlank(o))a=!(i.schoolType=!0);else{["public","private","charter"].includes(o)&&(l.isBlank(r)&&(a=!(i.ncesSchoolId=!0)),"-1"===r&&l.isBlank(n)&&(a=!(i.schoolName=!0)))}return{errors:i,isValid:a}}),y(m(l),"handleSchoolInfoSubmit",function(){var e=l.validateSubmission(),t=e.errors,o=e.isValid;if(l.setState({errors:t}),o){l.logEvent(b,{attempt:l.state.showSchoolInfoUnknownError?2:1});var n=l.buildSchoolData(),r=l.props.scriptData,i=r.formUrl,a=r.authTokenName,s=r.authTokenValue;c.default.post({url:i+".json",dataType:"json",data:f(y({_method:"patch"},a,s),n)}).done(function(){l.logEvent(E,{attempt:l.state.showSchoolInfoUnknownError?2:1}),l.props.onClose()}).fail(function(){l.logEvent(T,{attempt:l.state.showSchoolInfoUnknownError?2:1}),l.state.showSchoolInfoUnknownError?l.props.onClose():l.setState({showSchoolInfoUnknownError:!0})})}}),y(m(l),"dismissSchoolInfoForm",function(){l.setState({isOpen:!1}),l.props.onClose()}),y(m(l),"onCountryChange",function(e,t){var o=t?t.value:"";l.setState({country:o,ncesSchoolId:"",errors:{}})}),y(m(l),"onSchoolTypeChange",function(e){var t=e?e.target.value:"";l.setState({schoolType:t,ncesSchoolId:"",errors:{}})}),y(m(l),"onSchoolChange",function(e,t){var o=t?t.value:"",n=l.state.errors;"-1"===o&&(n={}),l.setState({ncesSchoolId:o,errors:n})}),y(m(l),"onSchoolNotFoundChange",function(e,t){var o,n=t?t.target.value:"";l.setState((y(o={},e,n),y(o,"errors",{}),o))});var t=l.props.scriptData.existingSchoolInfo,o=t.country||"";"US"===o&&(o="United States");var n=t.school_id?t.school_id:"United States"===t.country&&d.SCHOOL_TYPES_HAVING_NCES_SEARCH.includes(t.school_type)&&(t.school_name||t.full_address)?"-1":"";return l.state={country:o,schoolType:t.school_type||"",schoolName:t.school_name||"",schoolLocation:t.full_address||"",ncesSchoolId:n,showSchoolInfoUnknownError:!1,errors:{},isOpen:!0},l}!function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(o,r);var e=o.prototype;return e.logEvent=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};p.default.putRecord({study:"school_info_interstitial",study_group:"control",event:e,data_int:this.state.ncesSchoolId&&"-1"!==this.state.ncesSchoolId?1:0,data_json:JSON.stringify(f({isComplete:o.isSchoolInfoComplete(this.state)},t))})},o.isSchoolInfoComplete=function(e){return!!e.country&&("United States"!==e.country||(!!["homeschool","after school","organization","other"].includes(e.schoolType)||(!(!e.ncesSchoolId||"-1"===e.ncesSchoolId)||!!(e.country&&e.schoolType&&e.schoolName))))},e.componentDidMount=function(){this.logEvent(v)},e.buildSchoolData=function(){var e=this.state,t=e.country,o=e.schoolType,n=e.ncesSchoolId;return n&&"-1"!==n?{"user[school_info_attributes][school_id]":n}:t&&o?"United States"===t&&d.SCHOOL_TYPES_HAVING_NCES_SEARCH.includes(o)&&""===n?{"user[school_info_attributes][country]":t,"user[school_info_attributes][school_type]":o,"user[school_info_attributes][school_id]":n}:d.SCHOOL_TYPES_HAVING_NAMES.includes(o)?{"user[school_info_attributes][country]":t,"user[school_info_attributes][school_type]":o,"user[school_info_attributes][school_name]":this.state.schoolName,"user[school_info_attributes][full_address]":this.state.schoolLocation}:{"user[school_info_attributes][country]":t,"user[school_info_attributes][school_type]":o,"user[school_info_attributes][full_address]":this.state.schoolLocation}:{"user[school_info_attributes][country]":t,"user[school_info_attributes][school_type]":o}},e.isBlank=function(e){return!(e&&""!==e.trim())},e.render=function(){var t=this,e=0<Object.keys(this.state.errors).length;return i.default.createElement(l.default,{useUpdatedStyles:!0,isOpen:this.state.isOpen,handleClose:this.props.onClose,uncloseable:!0},i.default.createElement("div",{style:_.container},i.default.createElement("div",{style:_.heading},s.default.schoolInfoInterstitialTitle()),this.state.showSchoolInfoUnknownError&&i.default.createElement("p",{style:_.error},s.default.schoolInfoInterstitialUnknownError()),i.default.createElement("div",{style:_.middle},i.default.createElement("p",null,s.default.schoolInfoInterstitialDescription()),i.default.createElement(d.default,{ref:function(e){return t.schoolInfoInputs=e},onCountryChange:this.onCountryChange,onSchoolTypeChange:this.onSchoolTypeChange,onSchoolChange:this.onSchoolChange,onSchoolNotFoundChange:this.onSchoolNotFoundChange,country:this.state.country,schoolType:this.state.schoolType,ncesSchoolId:this.state.ncesSchoolId,schoolName:this.state.schoolName,schoolLocation:this.state.schoolLocation,useGoogleLocationSearch:!0,showErrors:e,showRequiredIndicator:!0})),i.default.createElement("div",{style:_.bottom},i.default.createElement(u.default,{__useDeprecatedTag:!0,onClick:this.dismissSchoolInfoForm,style:_.button,color:"gray",size:"large",text:s.default.dismiss(),id:"dismiss-button"}),i.default.createElement(u.default,{__useDeprecatedTag:!0,onClick:this.handleSchoolInfoSubmit,style:_.button,size:"large",text:s.default.save(),color:u.default.ButtonColor.orange,id:"save-button"}))))},o}(i.default.Component);y(t.default=S,"propTypes",{scriptData:n.default.shape({formUrl:n.default.string.isRequired,authTokenName:n.default.string.isRequired,authTokenValue:n.default.string.isRequired,existingSchoolInfo:n.default.shape({school_id:n.default.string,country:n.default.string,school_type:n.default.string,school_name:n.default.string,full_address:n.default.string}).isRequired}).isRequired,onClose:n.default.func.isRequired}),e.exports=t.default},3386:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,s=(n=o(1))&&n.__esModule?n:{default:n},l=o(2341),r=o(474);jQuery.fn.swap=function(e){e=jQuery(e)[0];var t=this[0],o=t.parentNode.insertBefore(document.createTextNode(""),t);return e.parentNode.insertBefore(t,e),o.parentNode.insertBefore(e,o),o.parentNode.removeChild(o),this};var i=function(){function e(e,t,o,n){var r=this;this.levelId=e,this.container=document.getElementById(t),this.standalone=o,this.enableSounds=!1,this.lastAttempt=n?n.split(","):[],this.readonly=!!window.appOptions.readonlyWorkspace,$(document).ready(function(){return r.ready()})}var t=e.prototype;return t.ready=function(){this.standalone&&(0,r.registerGetResult)(this.getResult.bind(this)),this.initMatch()},t.getResult=function(){for(var e=!1,t=!0,o=$(this.container).find(".match_slots li"),n=[],r=0;r<o.length;r++){var i=$("#xmark_".concat(this.levelId,"_").concat(r)),a=o[r].getAttribute("originalIndex");n.push(a),null===a?(t=!(e=!0),i.hide()):a!==String(r)?(e=!0,this.standalone&&i.show()):i.hide()}return{response:n,result:!e,errorDialog:e?s.default.createElement(l.MatchErrorDialog,null):null,valid:t}},t.getAppName=function(){return"match"},t.lockAnswers=function(){$(this.container).find(".mainblock li.answer").draggable("destroy")},t.getCurrentAnswerFeedback=function(){throw"getCurrentAnswerFeedback not implemented"},t.initMatch=function(){$(this.container).find(".mainblock .match_answers li.answer").draggable({revert:"invalid",stack:".answer",containment:this.container}),this.makeInitialAnswersDroppable(this.container),this.makeInitialMoves(),this.readonly&&this.lockAnswers(),this.enableSounds=this.standalone},t.makeInitialAnswersDroppable=function(){var r=this;$(this.container).find(".mainblock .match_slots li").droppable({activeClass:"active",hoverClass:"hover",accept:function(e){return $(e).is(".answerlist,.answerslot")&&$(r.container).find(e[0]).length},drop:function(e,t){if(r.enableSounds&&CDOSounds.play("click"),t.draggable.hasClass("answerslot"))t.draggable.swap(e.target),t.draggable.css({top:"auto",left:"auto"});else{var o=t.draggable.detach(),n=$(e.target);r.moveAnswerToSlot(n,o)}}})},t.moveAnswerToSlot=function(e,t){e.replaceWith(t),t.droppable(),t.css({top:"auto",left:"auto"}),t.removeClass("answerlist"),t.addClass("answerslot"),this.makeItemDroppable(t),0===$(this.container).find(".match_answers .answer").length&&(0,r.onAnswerChanged)(this.levelId,!0)},t.makeItemDroppable=function(e){var r=this;e.droppable({accept:function(e){return $(e).is(".answerslot")&&$(r.container).find(e[0]).length},activeClass:"active",drop:function(e,t){r.enableSounds&&CDOSounds.play("whoosh"),t.draggable.css({top:"0px",left:"0px"});var o=$(e.target).offset().top,n=$(t.draggable).offset().top-o;t.draggable.swap(e.target),$(e.target).css({top:-n+"px"}),$(e.target).animate({top:"0px"})}})},t.makeInitialMoves=function(){for(var e=$(this.container).find(".match_slots .emptyslot").toArray(),t=0;t<this.lastAttempt.length;t++){var o=$(e[t]),n=parseInt(this.lastAttempt[t],10);if(!isNaN(n)){var r=$(this.container).find(".answer[originalIndex=".concat(n,"]"));this.moveAnswerToSlot(o,r)}}},e}();t.default=i,e.exports=t.default},3425:function(e,t,o){"use strict";var c={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},u={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},d=Object.defineProperty,p=Object.getOwnPropertyNames,h=Object.getOwnPropertySymbols,g=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,m=f&&f(Object);e.exports=function e(t,o,n){if("string"==typeof o)return t;if(m){var r=f(o);r&&r!==m&&e(t,r,n)}var i=p(o);h&&(i=i.concat(h(o)));for(var a=0;a<i.length;++a){var s=i[a];if(!(c[s]||u[s]||n&&n[s])){var l=g(o,s);try{d(t,s,l)}catch(e){}}}return t}},345:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.init=function(e){_=e.assetPathPrefix||f,v=e.soundPathPrefix||m,b=e.channel||y},t.fixPath=function(e){if(i.test(e)&&"file:"!==window.location.protocol)return s.test(e)?e:r+encodeURIComponent(e.replace(/ /g,"%20"));if(0===(e=e||"").length)return"/blockly/media/1x1.gif";if(p.test(e))return e.replace(d,v);if(g.test(e)){var t=(0,n.getStore)().getState();return e.replace(h,function(e){return"/level_starter_assets/".concat(e,"/")}(t.level.name))}return-1===e.indexOf("/")&&b?_+b+"/"+encodeURIComponent(e):e},t.renderIconToString=function(e,t){var o=document.createElement("canvas");o.width=o.height=400;var n=o.getContext("2d");n.font="300px FontAwesome, serif",n.textBaseline="middle",n.textAlign="center",n.fillStyle=t.getAttribute("data-icon-color")||"#000";var r=new RegExp("^"+c+"fa-"),i="0x"+a.unicode[e.replace(r,"")];return n.fillText(String.fromCharCode(i),200,200),o.toDataURL()},t.DEFAULT_SOUND_PATH_PREFIX=t.STARTER_ASSET_PREFIX_REGEX=t.STARTER_ASSET_PREFIX=t.SOUND_PREFIX_REGEX=t.SOUND_PREFIX=t.ICON_PREFIX_REGEX=t.ICON_PREFIX=t.DATA_URL_PREFIX_REGEX=void 0;var a=o(1646),n=o(46),r="//"+location.host+"/media?u=",i=new RegExp("^https?://","i"),s=new RegExp("^https://curriculum.code.org/","i"),l=new RegExp("^data:image");t.DATA_URL_PREFIX_REGEX=l;var c="icon://";t.ICON_PREFIX=c;var u=new RegExp("^icon://");t.ICON_PREFIX_REGEX=u;var d="sound://";t.SOUND_PREFIX=d;var p=new RegExp("^sound://");t.SOUND_PREFIX_REGEX=p;var h="image://";t.STARTER_ASSET_PREFIX=h;var g=new RegExp("^image://");t.STARTER_ASSET_PREFIX_REGEX=g;var f="/v3/assets/",m="/api/v1/sound-library/";t.DEFAULT_SOUND_PATH_PREFIX=m;var y=void 0,_=f,v=m,b=y},346:function(e,t,o){"use strict";e.exports=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}},347:function(e,t,o){"use strict";var n,s=o(11),a=(n=o(209))&&n.__esModule?n:{default:n},l=o(604);var i=window.sessionStorage,c=e.exports={};c.queryParams=o(96).queryParams,c.EXPIRY_DAYS=365;c.MAXIMUM_CACHABLE_RESULT=999;var u={expires:c.EXPIRY_DAYS,path:"/"};function r(t,o){var n,e=i.getItem(t)||"{}";try{(n=JSON.parse(e))[o]=!0,(0,s.trySetSessionStorage)(t,JSON.stringify(n))}catch(e){(n={})[o]=!0,(0,s.trySetSessionStorage)(t,JSON.stringify(n))}}function d(e,t){var o=i.getItem(e)||"{}";try{return!0===JSON.parse(o)[t]}catch(e){return!1}}function p(e,t,o){return(o?o+"_":"")+e+"_"+t}c.reset=function(){try{a.default.remove("lines",{path:"/"}),i.clear()}catch(e){}},c.sourceForLevel=function(e,t,o){var n=i.getItem(p(e,t,"source"));if(n){var r;try{r=JSON.parse(n)}catch(e){return}if(!o||r.timestamp>o)return r.source}},c.writeSourceForLevel=function(e,t,o,n){(0,s.trySetSessionStorage)(p(e,t,"source"),JSON.stringify({source:n,timestamp:o}))},c.levelProgress=function(e,t){return(c.allLevelsProgress()[e]||{})[t]||0},c.trackProgress=function(e,t,o,n,r){e&&isFinite(t)&&function(e){var t=Math.min(c.lines()+Math.max(e,0),1e3);a.default.set("lines",String(t),u)}(t);var i=c.levelProgress(n,r);o<=c.MAXIMUM_CACHABLE_RESULT&&i!==(0,l.mergeActivityResult)(i,o)&&function(e,t,o){var n=c.allLevelsProgress();n[e]||(n[e]={});n[e][t]=o,(0,s.trySetSessionStorage)("progress",JSON.stringify(n))}(n,r,o)},c.batchTrackProgress=function(e,t){for(var o={},n=Object.keys(t),r=0;r<n.length;r++){var i=n[r];t[i]&&t[i]<=c.MAXIMUM_CACHABLE_RESULT&&(o[i]=t[i])}var a=c.allLevelsProgress();a[e]=o,(0,s.trySetSessionStorage)("progress",JSON.stringify(a))},c.allLevelsProgress=function(){var e=i.getItem("progress");try{return e?JSON.parse(e):{}}catch(e){return{}}},c.bestProgress=function(e,t,o){return o||(o=c.allLevelsProgress()),Math.max.apply(Math,e.filter(function(e){return o[t][e]}).map(function(e){return o[t][e]}))||0},c.lines=function(){var e=a.default.get("lines");return isFinite(e)?Number(e):0},c.hasSeenVideo=function(e){return d("video",e)},c.recordVideoSeen=function(e){r("video",e)},c.hasSeenCallout=function(e){return d("callout",e)},c.recordCalloutSeen=function(e){r("callout",e)}},348:function(e,t,o){"use strict";function n(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{},n=Object.keys(Object(o));"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(o).filter(function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable}))),n.forEach(function(e){r(t,e,o[e])})}return t}function r(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:s,t=1<arguments.length?arguments[1]:void 0;return t.type!==i?t.type!==a?n({},e):n({},e,{hasVerifiedResources:!0}):n({},e,{isVerified:!0})},t.setVerifiedResources=t.setVerified=void 0;var i="verifiedTeacher/SET_VERIFIED",a="verifiedTeacher/SET_VERIFIED_RESOURCES";t.setVerified=function(){return{type:i}};var s={isVerified:!(t.setVerifiedResources=function(e){return{type:a}}),hasVerifiedResources:!1}},35:function(e,t,o){"use strict";var n=o(50);e.exports=n},354:function(e,t,o){"use strict";var n=o(44),l=o(149),c=o(150),u=o(17),d=n.canUseDOM?document.createElement("div"):null,p=/^\s*<(\w+)/;e.exports=function(e,t){var o=d;d||u(!1);var n=function(e){var t=e.match(p);return t&&t[1].toLowerCase()}(e),r=n&&c(n);if(r){o.innerHTML=r[1]+e+r[2];for(var i=r[0];i--;)o=o.lastChild}else o.innerHTML=e;var a=o.getElementsByTagName("script");a.length&&(t||u(!1),l(a).forEach(t));for(var s=Array.from(o.childNodes);o.lastChild;)o.removeChild(o.lastChild);return s}},355:function(e,t,o){"use strict";var n=o(151),r=/^-ms-/;e.exports=function(e){return n(e.replace(r,"ms-"))}},356:function(e,t,o){"use strict";var n=o(152),r=/^ms-/;e.exports=function(e){return n(e).replace(r,"-ms-")}},357:function(e,t,o){"use strict";e.exports=function(t){var o={};return function(e){return o.hasOwnProperty(e)||(o[e]=t.call(this,e)),o[e]}}},358:function(e,t,o){"use strict";e.exports=function(e){return e.Window&&e instanceof e.Window?{x:e.pageXOffset||e.document.documentElement.scrollLeft,y:e.pageYOffset||e.document.documentElement.scrollTop}:{x:e.scrollLeft,y:e.scrollTop}}},359:function(e,t,o){"use strict";var n=o(153);e.exports=function e(t,o){return!(!t||!o)&&(t===o||!n(t)&&(n(o)?e(t,o.parentNode):"contains"in t?t.contains(o):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(o))))}},36:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,o){if(o)return[e,t];return e},e.exports=t.default},360:function(e,i,t){"use strict";var o,a=n(t(15)),g=n(t(612));function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function x(e){return function(e){if(Array.isArray(e)){for(var t=0,o=new Array(e.length);t<e.length;t++)o[t]=e[t];return o}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var s=["uservisible","deletable","movable"],D=[184,1,.74],l=/^ClampedNumber\(\s*([\d.]*)\s*,\s*([\d.]*)\s*\)$/;i.createToolbox=function(e){return'<xml id="toolbox" style="display: none;">'+e+"</xml>"};var c=function(o,e){var n=o.firstChild;return e.forEach(function(e){var t=o.createElement("block");t.setAttribute("type",e),n.appendChild(t)}),g.default.serialize(o)};i.appendBlocks=c,i.appendBlocksByCategory=function(e,n){var r=(new DOMParser).parseFromString(e,"text/xml");if(r.querySelector("category"))return Object.keys(n).forEach(function(e){var o=r.querySelector('category[name="'.concat(e,'"]')),t=!0;o||(o=r.createElement("category"),t=!1),o.setAttribute("name",e),n[e].forEach(function(e){if(!o.querySelector('block[type="'.concat(e,'"]'))){var t=r.createElement("block");t.setAttribute("type",e),o.appendChild(t)}}),t||r.firstChild.appendChild(o)}),g.default.serialize(r);var t=a.default.flatten(Object.values(n));return c(r,t)},i.blockOfType=function(e,t,o){var n="";if(t)for(var r in t)n+='<title name="'.concat(r,'">').concat(t[r],"</title>");if(o)for(var i in o)n+='<value name="'.concat(i,'">\n        <block type="').concat(o[i].type,'">\n          <title name="').concat(o[i].titleName,'">').concat(o[i].titleValue,"</title>\n        </block>\n      </value>");return'<block type="'.concat(e,'">').concat(n,"</block>")},i.blockAsXmlNode=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return g.default.parseElement(i.blockOfType(e,t.titles,t.values)).firstChild},i.blockWithNext=function(e,t,o){var n="";if(t)for(var r in t)n+='<title name="'+r+'">'+t[r]+"</title>";return'<block type="'+e+'">'+n+"<next>"+o+"</next></block>"},i.blocksFromList=function(e){return 1===e.length?this.blockOfType(e[0]):this.blockWithNext(e[0],{},this.blocksFromList(e.slice(1)))},i.createCategory=function(e,t,o){return'<category name="'+e+'"'+(o?' custom="'+o+'"':"")+">"+t+"</category>"},i.generateSimpleBlock=function(t,e,o){["name","title","tooltip","functionName"].forEach(function(e){if(!o[e])throw new Error('generateSimpleBlock requires param "'+e+'"')});var n=o.name,r=o.helpUrl||"",i=o.title,a=o.titleImage,s=o.tooltip,l=o.functionName;t.Blocks[n]={helpUrl:r,init:function(){this.setHSV(184,1,.74);var e=this.appendDummyInput();i&&e.appendTitle(i),a&&e.appendTitle(new t.FieldImage(a)),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip(s)}},e[n]=function(){return l+"('block_id_"+this.id+"');\n"}},i.domToBlock=function(e){return Blockly.Xml.domToBlock(Blockly.mainBlockSpace,e)},i.domStringToBlock=function(e){return i.domToBlock(g.default.parseElement(e).firstChild)},i.forceInsertTopBlock=function(e,t){if(e=e||"",null===t||-1!==e.indexOf(t))return e;var o=g.default.parseElement(e),n=o.parentNode,r=n.createElement("block");r.setAttribute("type",t),r.setAttribute("movable","false"),r.setAttribute("deletable","false");for(var i,a=o.childNodes?o.childNodes.length:0,s=null,l=0;l<a&&null===s;){var c=o.childNodes[l];if(1===c.nodeType){var u=c.getAttribute("type");"procedures_defnoreturn"!==u&&"procedures_defreturn"!==u&&(s=o.removeChild(c),a--)}l++}null!==s&&(/^functional/.test(t)?(i=n.createElement("functional_input")).setAttribute("name","ARG1"):i=n.createElement("next"),i.appendChild(s),r.appendChild(i));return 0<a?o.insertBefore(r,o.childNodes[0]):o.appendChild(r),g.default.serialize(o)},i.calcBlockXml=function(e,t){for(var o='<block type="'+e+'" inline="false">',n=1;n<=t.length;n++){o+='<functional_input name="ARG'+n+'">';var r=t[n-1];"number"==typeof r?r='<block type="functional_math_number"><title name="NUM">'+r+"</title></block>":/^<block/.test(r)||(r=i.calcBlockGetVar(r)),o+=r,o+="</functional_input>"}return o+="</block>"},i.calcBlockGetVar=function(e){return'<block type="functional_parameters_get" uservisible="false">  <mutation>    <outputtype>Number</outputtype>  </mutation>  <title name="VAR">'+e+"</title></block>"},i.mathBlockXml=function(e,t,o){var n='<block type="'+e+'" inline="false">';for(var r in o)n+='<title name="'+r+'">'+o[r]+"</title>";for(var i in t)n+='<functional_input name="'+i+'">'+t[i]+"</functional_input>";return n+="</block>"},i.functionalDefinitionXml=function(e,t,o,n){var r="<mutation>";return o.forEach(function(e){r+='<arg name="'+e.name+'" type="'+e.type+'"></arg>'}),'<block type="functional_definition" inline="false">'+(r+="<outputtype>"+t+"</outputtype></mutation>")+'<title name="NAME">'+e+'</title><functional_input name="STACK">'+n+"</functional_input></block>"},i.functionalCallXml=function(e,t,o){if(t.length!==o.length)throw new Error("must define contents for each arg");var n='<mutation name="'+e+'">';t.forEach(function(e){n+='<arg name="'+e.name+'" type="'+e.type+'"></arg>'}),n+="</mutation>";var r="";return o.forEach(function(e,t){r+='<functional_input name="ARG'+t+'">'+e+"</functional_input>"}),'<block type="functional_call">'+n+r+"</block>"},i.cleanBlocks=function(e){g.default.visitAll(e,function(t){t.getAttribute&&s.forEach(function(e){return t.removeAttribute(e)})})},i.appendNewFunctions=function(e,t){var o=g.default.parseElement(e),n=x(g.default.parseElement(t).ownerDocument.firstChild.childNodes),r=!0,i=!1,a=void 0;try{for(var s,l=n[Symbol.iterator]();!(r=(s=l.next()).done);r=!0){var c=s.value,u=c.ownerDocument.evaluate?c.ownerDocument:document,d=o.ownerDocument.evaluate?o.ownerDocument:document,p=u.evaluate('title[@name="NAME"]/text()',c,null,XPathResult.STRING_TYPE,null).stringValue,h=u.evaluate("@type",c,null,XPathResult.STRING_TYPE,null).stringValue;0<d.evaluate('//block[@type="'.concat(h,'"]/title[@name="NAME"][text()="').concat(p,'"]'),o,null,XPathResult.UNORDERED_NODE_SNAPSHOT_TYPE,null).snapshotLength||o.ownerDocument.firstChild.appendChild(c)}}catch(e){i=!0,a=e}finally{try{r||null==l.return||l.return()}finally{if(i)throw a}}return g.default.serialize(o)};var u="dummy",d="statement",p=/.*?({[^}]*}|\n|$)/gm,h=/(.*?)({([^}]*)}|\n|$)/m,M=function(e,l){var c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:[],t=e.match(p);t.length&&""===t[t.length-1]&&t.pop();var o=t.map(function(e){var t=e.match(h),o=t[1],n=t[3];if(n){var r,i=function(e,t){var o=e.findIndex(function(e){return e.name===t});if(-1!==o)return e.splice(o,1)[0];throw new Error("".concat(t," not found in args"))}(l,n),a=i.strict||c.includes(i.type);r=i.options?"dropdown":i.field?"field":i.customInput?i.customInput:i.statement?d:i.empty?u:"value";var s={name:i.name,mode:r,label:o,strict:a,type:i.type,options:i.options,assignment:i.assignment,defer:i.defer};return Object.keys(s).forEach(function(e){void 0===s[e]&&delete s[e]}),s}return{mode:u,label:o}}),n=l.filter(function(e){return e.statement}).map(function(e){return{mode:d,name:e.name}});return o.push.apply(o,x(n)),0<(l=l.filter(function(e){return!e.statement})).length&&(console.warn("Unexpected args in block definition:"),console.warn(l)),o};i.determineInputs=M;var f=(r(o={},"value",{addInputRow:function(e,t,o){var n=t.appendValueInput(o.name).setAlign(e.ALIGN_RIGHT);return o.strict?n.setStrictCheck(o.type):n.setCheck(o.type),n},generateCode:function(e,t){return Blockly.JavaScript.valueToCode(e,t.name,Blockly.JavaScript.ORDER_COMMA)}}),r(o,d,{addInputRow:function(e,t,o){return t.appendStatementInput(o.name)},generateCode:function(e,t){var o=Blockly.JavaScript.statementToCode(e,t.name);return"function () {\n".concat(o,"}")}}),r(o,u,{addInputRow:function(e,t,o){return t.appendDummyInput()},generateCode:function(e,t){return null}}),r(o,"dropdown",{addInput:function(e,t,o,n){var r=new e.FieldDropdown(o.options);n.appendTitle(o.label).appendTitle(r,o.name)},generateCode:function(e,t){var o=e.getTitleValue(t.name);return t.type!==Blockly.BlockValueType.STRING||o.startsWith('"')||o.startsWith("'")||(o=JSON.stringify(o)),o}}),r(o,"field",{addInput:function(e,t,o,n){var r=new e.FieldTextInput("",function(e,t){var o=t.match(l);{if(o){var n=parseFloat(o[1]),r=parseFloat(o[2]);return Blockly.FieldTextInput.clampedNumberValidator(n,r)}return"Number"===t?e.FieldTextInput.numberValidator:void 0}}(e,o.type));n.appendTitle(o.label).appendTitle(r,o.name)},generateCode:function(e,t){var o=e.getTitleValue(t.name);return t.type===Blockly.BlockValueType.STRING&&(o=JSON.stringify(o)),o}}),o);var U=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:f,o=[],n=[];o.push(n),e.forEach(function(e){n.push(e),t[e.mode].addInputRow&&(n=[],o.push(n))});var r=o[o.length-1];return o[o.length-1].length?r.push({mode:u}):o.pop(),o};i.groupInputsByRow=U;var F=function(n,r,e){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:f;4<arguments.length&&arguments[4];e.forEach(function(e){var t=e[e.length-1],o=i[t.mode].addInputRow(n,r,t);e.slice(0,-1).forEach(function(e){i[e.mode].addInput(n,r,e,o)}),o.appendTitle(t.label)})};i.interpolateInputs=F,i.createJsWrapperBlockCreator=function(A,O,w,B){var e=Blockly.JavaScript,I=e.ORDER_FUNCTION_CALL,R=e.ORDER_MEMBER,N=e.ORDER_NONE,P=A.Generator.get("JavaScript"),L=function(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{},n=Object.keys(Object(o));"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(o).filter(function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable}))),n.forEach(function(e){r(t,e,o[e])})}return t}({},f,B);return function(e,t,o){var n=e.color,c=e.func,u=e.expression,d=e.orderPrecedence,r=e.name,i=e.blockText,p=e.args,h=e.returnType,a=e.strictOutput,g=e.methodCall,s=e.objectType,f=e.thisObject,m=e.eventBlock,l=e.eventLoopBlock,y=e.inline,_=e.simpleValue,v=e.extraArgs,b=e.callbackParams;if(o&&"GamelabJr"!==o||(o="gamelab"),!!c+!!u+!!_!==1)throw new Error("Provide exactly one of func, expression, or simpleValue");if(c&&t&&!new RegExp("function ".concat(c,"\\W")).test(t))throw new Error("func '".concat(c,"' not found in helper code"));if((u||_)&&!r)throw new Error("This block requires a name");if(void 0===i)throw new Error("blockText must be specified");if(_&&(!p||1!==p.filter(function(e){return!e.assignment}).length))throw new Error("simpleValue blocks must have exactly one non-assignment argument");if(_&&!h&&!p.some(function(e){return e.assignment}))throw new Error("simpleValue blocks must specify a return type or have an assignment input");void 0===y&&(y=!0),1<(p=p||[]).filter(function(e){return e.statement}).length&&y&&(console.warn("blocks with multiple statement inputs cannot be inlined"),y=!1),p.forEach(function(e){if(e.customInput&&void 0===L[e.customInput])throw new Error("".concat(e.customInput," is not a valid input type, ")+"choose one of [".concat(Object.keys(B).join(", "),"]"))});var E="".concat(o,"_").concat(r||c);l&&0===p.filter(function(e){return e.statement}).length&&p.push({name:"DO",statement:!0});var T=x(p);if(g&&!f){var S=s||w||Blockly.BlockValueType.NONE;T.push({name:"THIS",type:S,strict:O.includes(S)})}var k=M(i,T,O),C=U(k,L);return 1===C.length&&(y=!1),A.Blocks[E]={helpUrl:"",init:function(){n?this.setHSV.apply(this,x(n)):h||this.setHSV.apply(this,D),h?this.setOutput(!0,h,a||O.includes(h)):l||(m?(this.setNextStatement(!0),this.skipNextBlockGeneration=!0):(this.setNextStatement(!0),this.setPreviousStatement(!0))),"clicked {SPRITE}"===i&&(this.setParentForCopyOnDrag("gamelab_spriteClickedSet"),this.setBlockToShadow("gamelab_allSpritesWithAnimation")),"subject sprite"===i&&this.setParentForCopyOnDrag("gamelab_whenTouchingSet"),"object sprite"===i&&this.setParentForCopyOnDrag("gamelab_whenTouchingSet"),F(A,this,C,L,y),this.setInputsInline(y)}},P[E]=function(){var n=this,r="",e=p.map(function(t){var e=k.find(function(e){return e.name===t.name});if(e){var o=L[e.mode].generateCode(n,e);return e.assignment&&(r+="".concat(o," = ")),""===o&&(o="undefined"),e.defer&&(o="function () {\n  return ".concat(o,";\n}")),o}}).filter(function(e){return null!==e});if(v&&e.push.apply(e,x(v)),_){var t=r+e[p.findIndex(function(e){return!e.assignment})];return void 0!==h?[t,void 0===d?N:d]:t+";\n"}if(g){var o=f||Blockly.JavaScript.valueToCode(this,"THIS",R);r+="".concat(o,".")}if(m){var i=this.nextConnection&&this.nextConnection.targetBlock(),a=Blockly.JavaScript.blockToCode(i,!0);if(a=Blockly.Generator.prefixLines(a,"  "),b){var s=b.join(",");e.push("function (".concat(s,") {\n").concat(a,"}"))}else e.push("function () {\n".concat(a,"}"))}if(u){var l=u.replace("VALUE",e[0]);return void 0!==h?["".concat(r).concat(l),void 0===d?N:d]:"".concat(r).concat(l)}return void 0!==h?["".concat(r).concat(c,"(").concat(e.join(", "),")"),I]:"".concat(r).concat(c,"(").concat(e.join(", "),");\n")},E}},i.installCustomBlocks=function(e){var t=e.blockly,o=e.blockDefinitions,n=e.customInputTypes,s=i.createJsWrapperBlockCreator(t,[t.BlockValueType.SPRITE,t.BlockValueType.BEHAVIOR,t.BlockValueType.LOCATION],t.BlockValueType.SPRITE,n),l={};return o.forEach(function(e){var t=e.name,o=e.pool,n=e.category,r=e.config,i=e.helperCode,a=s(r,i,o);l[n]||(l[n]=[]),l[n].push(a),t&&a!==t&&console.error("Block config ".concat(t," generated a block named ").concat(a))}),t.Blocks.gamelab_location_variable_set&&t.Blocks.gamelab_location_variable_get&&(Blockly.Variables.registerGetter(Blockly.BlockValueType.LOCATION,"gamelab_location_variable_get"),Blockly.Variables.registerSetter(Blockly.BlockValueType.LOCATION,"gamelab_location_variable_set")),l}},361:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tableDefaults=t.tableHeaderRowDefaults=t.tableHeaderRowTypes=t.tableHeaderContextTypes=t.tableHeaderTypes=t.tableBodyRowDefaults=t.tableBodyRowTypes=t.tableBodyContextTypes=t.tableBodyDefaults=t.tableBodyTypes=t.tableContextTypes=t.tableTypes=void 0;var n,r=o(0),i=(n=r)&&n.__esModule?n:{default:n};var a=i.default.arrayOf(i.default.shape({header:i.default.shape({label:i.default.string,transforms:i.default.arrayOf(i.default.func),formatters:i.default.arrayOf(i.default.func),props:i.default.object}),cell:i.default.shape({property:i.default.oneOfType([i.default.number,i.default.string]),transforms:i.default.arrayOf(i.default.func),formatters:i.default.arrayOf(i.default.func),props:i.default.object})})),s=i.default.arrayOf(i.default.array),l=i.default.oneOfType([a,s]),c=i.default.oneOfType([i.default.func,i.default.string]),u=i.default.oneOfType([i.default.array,i.default.object]),d={columns:i.default.array.isRequired,renderers:i.default.object,components:i.default.object},p={columns:i.default.array.isRequired,renderers:i.default.object},h={onRow:i.default.func,rows:l.isRequired,rowKey:c},g={columns:i.default.array.isRequired,renderers:i.default.object},f={columns:i.default.array.isRequired,renderers:i.default.object,onRow:i.default.func,rowIndex:i.default.number.isRequired,rowData:u.isRequired,rowKey:i.default.string.isRequired},m={headerRows:i.default.arrayOf(a),children:i.default.any},y={columns:i.default.array.isRequired,renderers:i.default.object},_={renderers:i.default.object,onRow:i.default.func,rowIndex:i.default.number.isRequired,rowData:u.isRequired};t.tableTypes=d,t.tableContextTypes=p,t.tableBodyTypes=h,t.tableBodyDefaults={onRow:function(){}},t.tableBodyContextTypes=g,t.tableBodyRowTypes=f,t.tableBodyRowDefaults={onRow:function(){return{}}},t.tableHeaderTypes=m,t.tableHeaderContextTypes=y,t.tableHeaderRowTypes=_,t.tableHeaderRowDefaults={onRow:function(){return{}}},t.tableDefaults={renderers:{table:"table",header:{wrapper:"thead",row:"tr",cell:"th"},body:{wrapper:"tbody",row:"tr",cell:"td"}}}},363:function(e,t,o){"use strict";var i=o(399);e.exports=function(e,t){e&&!e.process&&(t=e,e=null);return e?function(n,r){return function(e,t,o){n.run(i(e,r),t,function(e){o(e)})}}(e,t):function(t){return function(e){return i(e,t)}}(t)}},364:function(e,t,o){"use strict";var a=o(459),n=o(462),s=o(468);e.exports=function(e){var t=e||{},r=t.createElement,i=t.components||{};function o(e,t,o){var n=a(i,e)?i[e]:e;return r(n,t,o)}this.Compiler=function(e){"root"===e.type&&(e=1===e.children.length&&"element"===e.children[0].type?e.children[0]:{type:"element",tagName:"div",properties:e.properties||{},children:e.children});return n(o,s(e),t.prefix)}}},365:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var C=l(o(1)),n=l(o(14)),A=l(o(15)),r=l(o(0)),O=l(o(86)),w=l(o(4)),i=l(o(6)),B=l(o(18)),I=o(128),a=o(57),R=o(211),N=l(o(606)),P=l(o(605)),L=o(599),s=l(o(62));function l(e){return e&&e.__esModule?e:{default:e}}function x(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{},n=Object.keys(Object(o));"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(o).filter(function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable}))),n.forEach(function(e){c(t,e,o[e])})}return t}function c(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var D={main:{boxSizing:"content-box",fontFamily:'"Gotham 5r", sans-serif',width:R.DOT_SIZE,height:R.DOT_SIZE,borderRadius:R.DOT_SIZE,borderStyle:"solid",borderColor:i.default.lighter_gray,fontSize:16,letterSpacing:-.11,display:"flex",alignItems:"center",justifyContent:"center",transition:"background-color .2s ease-out, border-color .2s ease-out, color .2s ease-out",marginTop:3,marginBottom:3,position:"relative"},largeDiamond:{width:R.DIAMOND_DOT_SIZE,height:R.DIAMOND_DOT_SIZE,borderRadius:4,transform:"rotate(45deg)",marginTop:6,marginBottom:6},small:{width:R.SMALL_DOT_SIZE,height:R.SMALL_DOT_SIZE,borderRadius:R.SMALL_DOT_SIZE,fontSize:0},smallDiamond:{width:R.SMALL_DIAMOND_SIZE,height:R.SMALL_DIAMOND_SIZE,borderRadius:2,fontSize:0,transform:"rotate(45deg)",marginLeft:1,marginRight:1},contents:{whiteSpace:"nowrap",lineHeight:"16px"},diamondContents:{transform:"rotate(-45deg)"},disabledStageExtras:{backgroundColor:i.default.lighter_gray,color:i.default.white}},u=function(r){function e(){for(var e,t=arguments.length,o=new Array(t),n=0;n<t;n++)o[n]=arguments[n];return c(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e=r.call.apply(r,[this].concat(o))||this),"recordProgressTabProgressBubbleClick",function(){s.default.putRecord({study:"teacher_dashboard_actions",study_group:"progress",event:"go_to_level",data_json:JSON.stringify({student_id:e.props.selectedStudentId,level_url:e.props.level.url,section_id:e.props.selectedSectionId})},{includeUserId:!0})}),e}return function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(e,r),e.prototype.render=function(){var e=this.props,t=e.level,o=e.smallBubble,n=e.selectedSectionId,r=e.selectedStudentId,i=e.currentLocation,a=e.stageTrophyEnabled,s=e.pairingIconEnabled,l=e.hideAssessmentIcon,c=(0,I.isLevelAssessment)(t),u=t.levelNumber,d=t.url,p=t.name||t.progression,h=(0,I.getIconForLevel)(t),g=this.props.disabled||"lock"===h,f=t.letter||"lock"===h||t.paired||t.bonus,m=x({},D.main,!g&&R.hoverStyle,o&&D.small,t.isConceptLevel&&(o?D.smallDiamond:D.largeDiamond),(0,R.levelProgressStyle)(t,g),g&&t.bonus&&D.disabledStageExtras),y="";if(!g&&d){var _=O.default.parse(i.search);n&&(_.section_id=n),r&&(_.user_id=r);var v=O.default.stringify(_);if(y=d,0<v.length)y+=(/\?/.test(y)?"&":"?")+v}var b=A.default.uniqueId(),E=p||t.isUnplugged&&w.default.unpluggedActivity()||"";u&&(E="".concat(u,". ").concat(E));var T=C.default.createElement(P.default,{tooltipId:b,icon:h,text:E,includeAssessmentIcon:c});if(t.isUnplugged&&!o)return C.default.createElement(N.default,{levels:[t],text:w.default.unpluggedActivity(),fontSize:16,tooltip:this.props.hideToolTips?null:T});var S=(o?R.SMALL_DOT_SIZE:R.DOT_SIZE)+8,k=C.default.createElement("div",{style:{width:a?S-3:S,display:"flex",justifyContent:"center"}},C.default.createElement("div",{"data-tip":!0,"data-for":b,"aria-describedby":b},C.default.createElement("div",{style:m,className:"uitest-bubble"},C.default.createElement("div",{style:x({fontSize:t.paired||t.bonus?14:16},D.contents,t.isConceptLevel&&D.diamondContents)},t.letter&&C.default.createElement("span",{id:"test-bubble-letter"}," ",t.letter," "),"lock"===h&&C.default.createElement(B.default,{icon:"lock"}),s&&t.paired&&C.default.createElement(B.default,{icon:"users"}),t.bonus&&C.default.createElement(B.default,{icon:"flag-checkered"}),!f&&C.default.createElement("span",null,o?"":u)),c&&!o&&!l&&C.default.createElement(L.SmallAssessmentIcon,{isDiamond:t.isConceptLevel})),!this.props.hideToolTips&&T));return y&&(k=C.default.createElement("a",{href:y,style:{textDecoration:"none"},className:"uitest-ProgressBubble",onClick:l?this.recordProgressTabProgressBubbleClick:null},k)),k},e}(C.default.Component);c(u,"propTypes",{level:a.levelType.isRequired,disabled:r.default.bool.isRequired,smallBubble:r.default.bool,selectedSectionId:r.default.oneOfType([r.default.string,r.default.number]),selectedStudentId:r.default.oneOfType([r.default.string,r.default.number]),currentLocation:r.default.object.isRequired,stageTrophyEnabled:r.default.bool,pairingIconEnabled:r.default.bool,hideToolTips:r.default.bool,stageExtrasEnabled:r.default.bool,hideAssessmentIcon:r.default.bool}),c(u,"defaultProps",{currentLocation:window.location});var d=(0,n.default)(u);t.default=d,e.exports=t.default},368:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:h({},C),t=1<arguments.length?arguments[1]:void 0;if(t.type===g){if(e.shortInstructions||e.longInstructions)throw new Error("instructions constants already set");var o=t.noInstructionsWhenCollapsed,n=t.shortInstructions,r=t.shortInstructions2,i=t.longInstructions,a=t.hasContainedLevels,s=t.overlayVisible,l=t.teacherMarkdown,c=t.levelVideos,u=t.mapReference,d=t.referenceLinks,p=e.collapsed;return i||a||(p=!0),Object.assign({},e,{noInstructionsWhenCollapsed:o,shortInstructions:n,shortInstructions2:r,longInstructions:i,teacherMarkdown:l,hasContainedLevels:a,overlayVisible:s,collapsed:p,levelVideos:c,mapReference:u,referenceLinks:d})}if(t.type===f)return Object.assign({},e,{collapsed:!e.collapsed});if(t.type===y&&e.allowResize&&1<Math.abs(t.height-e.renderedHeight))return Object.assign({},e,{renderedHeight:t.height,expandedHeight:e.collapsed?e.expandedHeight:t.height});if(t.type===_&&1<Math.abs(t.maxNeededHeight-e.maxNeededHeight)&&e.allowResize)return Object.assign({},e,{maxNeededHeight:t.maxNeededHeight});if(t.type===v&&t.maxAvailableHeight!==e.maxAvailableHeight&&e.allowResize)return Object.assign({},e,{maxAvailableHeight:t.maxAvailableHeight,renderedHeight:Math.min(t.maxAvailableHeight,e.renderedHeight),expandedHeight:Math.min(t.maxAvailableHeight,e.expandedHeight)});return t.type!==b?t.type!==E?t.type!==T?t.type!==S?e:Object.assign({},e,{overlayVisible:!1}):Object.assign({},e,{feedback:t.feedback}):Object.assign({},e,{hasAuthoredHints:t.hasAuthoredHints}):h({},e,{allowResize:t.allowResize})},t.determineInstructionsConstants=t.substituteInstructionImages=t.hideOverlay=t.setFeedback=t.setHasAuthoredHints=t.setAllowInstructionsResize=t.setInstructionsMaxHeightAvailable=t.setInstructionsMaxHeightNeeded=t.toggleInstructionsCollapsed=t.setInstructionsRenderedHeight=t.setInstructionsConstants=void 0;var m=o(11);function h(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{},n=Object.keys(Object(o));"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(o).filter(function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable}))),n.forEach(function(e){r(t,e,o[e])})}return t}function r(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var g="instructions/SET_CONSTANTS",f="instructions/TOGGLE_INSTRUCTIONS_COLLAPSED",y="instructions/SET_INSTRUCTIONS_RENDERED_HEIGHT",_="instructions/SET_INSTRUCTIONS_MAX_HEIGHT_NEEDED",v="instructions/SET_INSTRUCTIONS_MAX_HEIGHT_AVAILABLE",b="instructions/SET_ALLOW_INSTRUCTIONS_RESIZE",E="instructions/SET_HAS_AUTHORED_HINTS",T="instructions/SET_FEEDBACK",S="instructions/HIDE_OVERLAY",k="instructionsOverlaySeenOnce",C={noInstructionsWhenCollapsed:!1,shortInstructions:void 0,shortInstructions2:void 0,longInstructions:void 0,teacherMarkdown:void 0,hasContainedLevels:!1,collapsed:!1,renderedHeight:0,expandedHeight:0,maxNeededHeight:1/0,maxAvailableHeight:1/0,allowResize:!0,hasAuthoredHints:!1,overlayVisible:!1,levelVideos:[],mapReference:void 0,referenceLinks:[]};t.setInstructionsConstants=function(e){var t=e.noInstructionsWhenCollapsed,o=e.shortInstructions,n=e.shortInstructions2,r=e.longInstructions,i=e.hasContainedLevels,a=e.overlayVisible,s=e.teacherMarkdown,l=e.levelVideos,c=e.mapReference,u=e.referenceLinks;return{type:g,noInstructionsWhenCollapsed:t,shortInstructions:o,shortInstructions2:n,longInstructions:r,hasContainedLevels:i,overlayVisible:a,teacherMarkdown:s,levelVideos:l,mapReference:c,referenceLinks:u}};t.setInstructionsRenderedHeight=function(e){return{type:y,height:e}};t.toggleInstructionsCollapsed=function(){return{type:f}};t.setInstructionsMaxHeightNeeded=function(e){return{type:_,maxNeededHeight:e}};t.setInstructionsMaxHeightAvailable=function(e){return{type:v,maxAvailableHeight:e}};t.setAllowInstructionsResize=function(e){return{type:b,allowResize:e}};t.setHasAuthoredHints=function(e){return{type:E,hasAuthoredHints:e}};t.setFeedback=function(e){return{type:T,feedback:e}};t.hideOverlay=function(){return{type:S}};var A=function(e,t){if(!e)return e;for(var o in t){var n=t[o],r='<span class="instructionsImageContainer">'+'<img src="'.concat(n,'" class="instructionsImage"/>')+"</span>",i=new RegExp("\\["+o+"\\]","g");e=e.replace(i,r)}return e};t.substituteInstructionImages=A;t.determineInstructionsConstants=function(e){var t,o=e.level,n=e.noInstructionsWhenCollapsed,r=e.hasContainedLevels,i=e.teacherMarkdown,a=o.instructions2,s=o.inputOutputTable,l=o.levelVideos,c=o.mapReference,u=o.referenceLinks,d=o.longInstructions,p=o.shortInstructions;n?(p&&!d&&(d=p),p=void 0):(t=a,p===d&&(d=void 0),s&&(d=d||p),e.skin.instructions2ImageSubstitutions&&(d=A(d,e.skin.instructions2ImageSubstitutions),p=A(p,e.skin.instructions2ImageSubstitutions),t=A(t,e.skin.instructions2ImageSubstitutions)),e.skin.replaceInstructions&&(d=e.skin.replaceInstructions(d),p=e.skin.replaceInstructions(p)));var h=p||d,g=(0,m.tryGetLocalStorage)(k,!1),f=h&&!r&&(e.level.instructionsImportant||1===e.levelPosition||!g);return f&&(0,m.trySetLocalStorage)(k,!0),{noInstructionsWhenCollapsed:!!n,overlayVisible:!!f,shortInstructions:p,shortInstructions2:t,longInstructions:d,teacherMarkdown:i,hasContainedLevels:r,levelVideos:l,mapReference:c,referenceLinks:u}}},369:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=u(o(1)),n=u(o(0)),r=u(o(14)),l=u(o(365)),i=u(o(6)),a=o(57),c=o(211);function u(e){return e&&e.__esModule?e:{default:e}}function d(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var p={main:{position:"relative",display:"inline-block"},withBackground:{display:"inline-block",position:"relative"},background:{height:10,backgroundColor:i.default.lighter_gray,position:"absolute",left:0,right:0,top:(c.DOT_SIZE+4+6-10)/2},backgroundDiamond:{top:(c.DIAMOND_DOT_SIZE+4+12-10)/2},backgroundPill:{top:15},backgroundFirst:{left:15},backgroundLast:{right:15},container:{position:"relative"},diamondContainer:{height:36},pillContainer:{marginRight:2,height:37}},h=function(n){function e(){for(var r,e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];return d(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(r=n.call.apply(n,[this].concat(t))||this),"bubbleDisabled",function(e){var t=r.props,o=t.disabled,n=t.stageExtrasEnabled;return!!(o||!n&&e.bonus)}),r}return function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(e,n),e.prototype.render=function(){var o=this,e=this.props,n=e.levels,t=e.style,r=e.selectedSectionId,i=e.selectedStudentId,a=e.hideAssessmentIcon;return s.default.createElement("div",{style:function(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{},n=Object.keys(Object(o));"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(o).filter(function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable}))),n.forEach(function(e){d(t,e,o[e])})}return t}({},p.main,t)},n.map(function(e,t){return s.default.createElement("div",{style:p.withBackground,key:t},s.default.createElement("div",{style:[p.background,e.isConceptLevel&&p.backgroundDiamond,e.isUnplugged&&p.backgroundPill,0===t&&p.backgroundFirst,t===n.length-1&&p.backgroundLast]}),s.default.createElement("div",{style:[p.container,e.isUnplugged&&p.pillContainer,e.isConceptLevel&&p.diamondContainer]},s.default.createElement(l.default,{level:e,disabled:o.bubbleDisabled(e),smallBubble:!1,selectedSectionId:r,selectedStudentId:i,hideToolTips:o.props.hideToolTips,pairingIconEnabled:o.props.pairingIconEnabled,hideAssessmentIcon:a})))}))},e}(s.default.Component);d(h,"propTypes",{levels:n.default.arrayOf(a.levelType).isRequired,disabled:n.default.bool.isRequired,style:n.default.object,selectedSectionId:n.default.oneOfType([n.default.string,n.default.number]),selectedStudentId:n.default.oneOfType([n.default.string,n.default.number]),hideToolTips:n.default.bool,pairingIconEnabled:n.default.bool,stageExtrasEnabled:n.default.bool,hideAssessmentIcon:n.default.bool});var g=(0,r.default)(h);t.default=g,e.exports=t.default},37:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TOOLBOX_EDIT_MODE=t.BASE_DIALOG_WIDTH=t.EXPO_SESSION_SECRET=t.CIPHER=t.ALPHABET=t.SVG_NS=t.Position=t.KeyCodes=t.HarvesterTerminationValue=t.BeeTerminationValue=t.TestResults=t.ResultType=void 0;t.ResultType={UNSET:0,SUCCESS:1,FAILURE:-1,TIMEOUT:2,ERROR:-2};var n={FAILURE:!(t.TestResults={NO_TESTS_RUN:-1,GENERIC_FAIL:0,EMPTY_BLOCK_FAIL:1,TOO_FEW_BLOCKS_FAIL:2,LEVEL_INCOMPLETE_FAIL:3,MISSING_BLOCK_UNFINISHED:4,EXTRA_TOP_BLOCKS_FAIL:5,RUNTIME_ERROR_FAIL:6,SYNTAX_ERROR_FAIL:7,MISSING_BLOCK_FINISHED:10,APP_SPECIFIC_FAIL:11,EMPTY_FUNCTION_BLOCK_FAIL:12,UNUSED_PARAM:13,UNUSED_FUNCTION:14,PARAM_INPUT_UNATTACHED:15,INCOMPLETE_BLOCK_IN_FUNCTION:16,QUESTION_MARKS_IN_NUMBER_FIELD:17,EMPTY_FUNCTIONAL_BLOCK:18,EXAMPLE_FAILED:19,NESTED_FOR_SAME_VARIABLE:-2,EMPTY_FUNCTION_NAME:-3,MISSING_RECOMMENDED_BLOCK_UNFINISHED:-4,EXTRA_FUNCTION_FAIL:-5,LOCAL_FUNCTION_FAIL:-6,GENERIC_LINT_FAIL:-7,LOG_CONDITION_FAIL:-8,BLOCK_LIMIT_FAIL:-9,UNSUBMITTED_ATTEMPT:-50,SKIPPED:-100,MINIMUM_PASS_RESULT:20,TOO_MANY_BLOCKS_FAIL:20,APP_SPECIFIC_ACCEPTABLE_FAIL:21,MISSING_RECOMMENDED_BLOCK_FINISHED:22,MINIMUM_OPTIMAL_RESULT:30,FREE_PLAY:30,PASS_WITH_EXTRA_TOP_BLOCKS:31,APP_SPECIFIC_IMPERFECT_PASS:32,EDIT_BLOCKS:70,MANUAL_PASS:90,ALL_PASS:100,CONTAINED_LEVEL_RESULT:101,BETTER_THAN_IDEAL:102,SUBMITTED_RESULT:1e3,LOCKED_RESULT:1001,READONLY_SUBMISSION_RESULT:1002,REVIEW_REJECTED_RESULT:1500,REVIEW_ACCEPTED_RESULT:2e3}),SUCCESS:!0,INFINITE_LOOP:1/0,NOT_AT_FLOWER:1,FLOWER_EMPTY:2,NOT_AT_HONEYCOMB:3,HONEYCOMB_FULL:4,UNCHECKED_CLOUD:5,UNCHECKED_PURPLE:6,INSUFFICIENT_NECTAR:7,INSUFFICIENT_HONEY:8,DID_NOT_COLLECT_EVERYTHING:9};t.BeeTerminationValue=n;t.HarvesterTerminationValue={WRONG_CROP:1,EMPTY_CROP:2,DID_NOT_COLLECT_EVERYTHING:3};t.KeyCodes={BACKSPACE:8,ENTER:13,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,COPY:67,PASTE:86,DELETE:127};t.Position={OUTTOPOUTLEFT:1,OUTTOPLEFT:2,OUTTOPCENTER:3,OUTTOPRIGHT:4,OUTTOPOUTRIGHT:5,TOPOUTLEFT:6,TOPLEFT:7,TOPCENTER:8,TOPRIGHT:9,TOPOUTRIGHT:10,MIDDLEOUTLEFT:11,MIDDLELEFT:12,MIDDLECENTER:13,MIDDLERIGHT:14,MIDDLEOUTRIGHT:15,BOTTOMOUTLEFT:16,BOTTOMLEFT:17,BOTTOMCENTER:18,BOTTOMRIGHT:19,BOTTOMOUTRIGHT:20,OUTBOTTOMOUTLEFT:21,OUTBOTTOMLEFT:22,OUTBOTTOMCENTER:23,OUTBOTTOMRIGHT:24,OUTBOTTOMOUTRIGHT:25};t.SVG_NS="http://www.w3.org/2000/svg";t.ALPHABET="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";t.CIPHER="Iq61F8kiaUHPGcsY7DgX4yAu3LwtWhnCmeR5pVrJoKfQZMx0BSdlOjEv2TbN9z";t.EXPO_SESSION_SECRET='{"id":"fakefake-67ec-4314-a438-60589b9c0fa2","version":1,"expires_at":2000000000000}';t.BASE_DIALOG_WIDTH=700;t.TOOLBOX_EDIT_MODE="toolbox_blocks"},379:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getOuterHeight=function(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1];return(0,r.default)(n.default.findDOMNode(e)).outerHeight(t)},t.scrollBy=function(e,t){var o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:400,n=e.scrollTop+t;a(e,n,o)},t.scrollTo=a,t.shrinkBlockSpaceContainer=l,t.convertXmlToBlockly=function(e){var t=e.getElementsByTagName("xml");Array.prototype.forEach.call(t,function(e){if(!e.getElementsByTagName("svg").length){!function(e){var t=document.createTreeWalker(e,NodeFilter.SHOW_COMMENT,{acceptNode:function(e){return NodeFilter.FILTER_ACCEPT}},!1),o=t.nextNode();if(o){for(;t.nextNode();)o.remove(),o=t.currentNode;o.remove()}}(e);var t="P"===e.parentNode.tagName,o=document.createElement(t?"span":"div");t&&(o.style.display="inline-block"),e.appendChild(o);var r=s.default.BlockSpace.createReadOnlyBlockSpace(o,e,{noScrolling:!0,inline:t}),i=!t,a=r.getMetrics();r.getCanvas().addEventListener("blocklyBlockSpaceChange",function(){var e=a.contentHeight,t=a.contentWidth,o=r.getMetrics().contentHeight,n=r.getMetrics().contentWidth;o===e&&n===t||(l(r,i),a=r.getMetrics())}),l(r,i)}})},t.shouldDisplayChatTips=function(e){switch(e){case"calc":case"eval":case"jigsaw":case"infinity":case"anna":case"elsa":case"craft":case"hoc2015":case"hoc2015x":return!1;default:return!0}};var n=i(o(8)),s=i(o(1633)),r=i(o(10));function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:400;if(o){var n=(0,r.default)(e);n.is(":animated")||n.animate({scrollTop:t},o)}else e.scrollTop=t}function l(e,t){var o=e.blockSpaceEditor.getSVGElement().parentNode,n=e.getMetrics(),r=n.contentHeight,i=n.contentWidth;t&&(r+=2*n.contentTop,i+=n.contentLeft),o.style.height=r+"px",o.style.width=i+"px",e.blockSpaceEditor.svgResize()}},3826:function(e,t,o){e.exports=o.p+"anotherhocwp0ec97805a266f65de21a8de692085b49.png"},3827:function(e,t,o){e.exports=o.p+"applabmarketingwpe07e3fca1af07d8cf7abd93a06275615.png"},3828:function(e,t,o){e.exports=o.p+"applabcreateprojectwp72d92e13ef5367bd07d4908a61dcc65a.png"},3829:function(e,t,o){e.exports=o.p+"applabtutorialwpa1a7754684e9d1d695f1b025f35829bd.png"},3830:function(e,t,o){e.exports=o.p+"createaccountwpb575b7618d1e2f090f03330f93ec0526.png"},3831:function(e,t,o){e.exports=o.p+"csfexpresswpb240da93326484184d1e44e38408f6f0.png"},3832:function(e,t,o){e.exports=o.p+"coursecatalogwp00c1655a9beff6ac678e37602fbb2325.png"},3833:function(e,t,o){e.exports=o.p+"herominecraftwpfbcb44527edf7f32b97f498c75322ee5.png"},3834:function(e,t,o){e.exports=o.p+"oldminecraftwp8315b7a7bdcb84d948043fac19e8431e.png"},3835:function(e,t,o){e.exports=o.p+"minecraftmarketingwp81b569796462183233a59f3459229122.png"},3836:function(e,t,o){e.exports=o.p+"aquaticminecraftwpe870361428d32a5e980b208012acc94d.png"},3837:function(e,t,o){e.exports=o.p+"codeorgteacherwp2b27b0140b06bfb242cf8e3839ca16a9.png"},3838:function(e,t,o){e.exports=o.p+"thirdpartyteacherwp82e5ed122cfeabe0ff75ebbd66e4056d.png"},3839:function(e,t,o){e.exports=o.p+"thirdpartyteachersmallwp73ad54b59f75ec251b0602ed005b03f8.png"},3840:function(e,t,o){e.exports=o.p+"makerwpa7f0f4012ca76e40fa0362f8cbd4229f.png"},3841:function(e,t,o){e.exports=o.p+"dancepartywp1a556d2cc48e38605dca2c14e1297c00.png"},3842:function(e,t,o){e.exports=o.p+"danceparty2wp6ce70f152f88bf6673e077ff7a4897bd.png"},3843:function(e,t,o){e.exports=o.p+"danceparty2-2019wp2ab343e67d0db61254a581b8dc6e8fb9.png"},3844:function(e,t,o){e.exports=o.p+"danceparty-sloth-2019wpbf8bb8edf506282d96a198d1da5d6e8b.png"},3862:function(e,t,o){"use strict";function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=c(o(0)),r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var t=l();if(t&&t.has(e))return t.get(e);var o={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(o,r,i):o[r]=e[r]}o.default=e,t&&t.set(e,o);return o}(o(1)),i=c(o(4)),s=c(o(6));function l(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return l=function(){return e},e}function c(e){return e&&e.__esModule?e:{default:e}}function u(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var d={asterisk:{fontSize:20,fontFamily:'"Gotham 5r", sans-serif',color:s.default.red},errors:{fontSize:14,fontFamily:'"Gotham 3r", sans-serif',color:s.default.red,paddingTop:5,paddingBottom:5},singleLineLayoutStyles:{display:"table-cell",width:210,verticalAlign:"middle",minHeight:42,fontSize:13,fontFamily:'"Gotham 4r", sans-serif',color:"#333",padding:0},singleLineContainerStyles:{display:"table",width:"100%"},selectStyle:{width:390,verticalAlign:"top",marginBottom:"5px",marginTop:"5px"}},p=function(e){function t(){return e.apply(this,arguments)||this}return function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(t,e),t.prototype.render=function(){var e=this.props.showErrorMsg&&!this.props.value,t=r.default.createElement("div",{style:d.errors},i.default.censusRequiredSelect()),o=!1;return this.props.country&&"United States"===this.props.country&&(o=!0),r.default.createElement("div",null,r.default.createElement("div",{style:d.singleLineContainerStyles},r.default.createElement("div",{style:d.singleLineLayoutStyles},i.default.signupFormSchoolType(),this.props.showRequiredIndicator&&o&&r.default.createElement("span",{style:d.asterisk}," *")),r.default.createElement("select",{id:"school-type",name:this.props.fieldName,type:"select",onChange:this.props.onChange,value:this.props.value,style:d.selectStyle},r.default.createElement("option",{disabled:!0,value:""}),r.default.createElement("option",{value:"charter"},i.default.schoolTypeCharter()),r.default.createElement("option",{value:"private"},i.default.schoolTypePrivate()),r.default.createElement("option",{value:"public"},i.default.schoolTypePublic()),r.default.createElement("option",{value:"homeschool"},i.default.schoolTypeHomeschool()),r.default.createElement("option",{value:"afterschool"},i.default.schoolTypeAfter()),r.default.createElement("option",{value:"organization"},i.default.schoolTypeOrganization()),r.default.createElement("option",{value:"other"},i.default.schoolTypeOther()))),e&&t)},t}(r.Component);u(t.default=p,"propTypes",{onChange:n.default.func.isRequired,value:n.default.string,country:n.default.string,fieldName:n.default.string,showRequiredIndicator:n.default.bool,showErrorMsg:n.default.bool}),u(p,"defaultProps",{value:"",fieldName:"user[school_info_attributes][school_type]"}),e.exports=t.default},3868:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(o(0)),r=a(o(1)),i=a(o(6));function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var l=function(e){function t(){return e.apply(this,arguments)||this}return function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(t,e),t.prototype.render=function(){var e=function(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{},n=Object.keys(Object(o));"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(o).filter(function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable}))),n.forEach(function(e){s(t,e,o[e])})}return t}({},c,this.props.hideBorder&&{borderBottomWidth:0,paddingBottom:5});return r.default.createElement("h1",{style:e},this.props.text)},t}(r.default.Component);s(t.default=l,"propTypes",{text:n.default.string.isRequired,hideBorder:n.default.bool});var c={fontSize:16,lineHeight:"20px",color:i.default.charcoal,fontFamily:"'Gotham 5r', sans-serif",borderStyle:"solid",borderColor:i.default.lighter_gray,borderTopWidth:0,borderBottomWidth:1,borderRightWidth:0,borderLeftWidth:0,paddingBottom:10,paddingTop:0,paddingLeft:0,paddingRight:0,marginBottom:10,marginTop:10};e.exports=t.default},3869:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=i(o(0)),a=i(o(1)),s=i(o(6)),r=o(11);function i(e){return e&&e.__esModule?e:{default:e}}function l(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var c=function(o){function e(e){var t;return(t=o.call(this,e)||this).uniqueId=(0,r.createUuid)(),t}return function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(e,o),e.prototype.render=function(){var e=this.props,t=e.label,o=e.labelDetails,n=e.error,r=e.children,i=e.style;return a.default.createElement("div",{style:function(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{},n=Object.keys(Object(o));"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(o).filter(function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable}))),n.forEach(function(e){l(t,e,o[e])})}return t}({marginBottom:15},i)},(t||o)&&a.default.createElement("label",{htmlFor:this.uniqueId,style:{display:"block",color:s.default.charcoal}},t&&a.default.createElement("span",{style:{fontWeight:"bold",marginRight:"1em"}},t),o&&a.default.createElement("span",null,o)),a.default.cloneElement(r,{id:this.uniqueId}),n&&a.default.createElement(u,null,n))},e}(a.default.Component);l(t.default=c,"propTypes",{label:n.default.string,labelDetails:n.default.node,error:n.default.any,children:n.default.element.isRequired,style:n.default.object});var u=function(e){var t=e.children;return a.default.createElement("div",{style:{color:s.default.red,fontStyle:"italic"}},t)};u.propTypes={children:n.default.string},e.exports=t.default},3870:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(o(0)),d=a(o(1)),r=a(o(6)),i=a(o(4)),p=a(o(23));function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var l=function(e){function t(){return e.apply(this,arguments)||this}return function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(t,e),t.prototype.render=function(){var e=this.props,t=e.onConfirm,o=e.onCancel,n=e.confirmText,r=e.cancelText,i=e.confirmColor,a=e.cancelColor,s=e.disableConfirm,l=e.disableCancel,c=e.tabIndex,u=e.children;return d.default.createElement("div",{style:h},d.default.createElement(p.default,{__useDeprecatedTag:!0,onClick:t,text:n,color:i,disabled:s,tabIndex:c,style:f}),d.default.createElement("span",{style:g},u),d.default.createElement(p.default,{__useDeprecatedTag:!0,onClick:o,text:r,color:a,disabled:l,tabIndex:c,style:f}))},t}(d.default.Component);s(t.default=l,"propTypes",{onConfirm:n.default.func.isRequired,onCancel:n.default.func.isRequired,confirmText:p.default.propTypes.text,cancelText:p.default.propTypes.text,confirmColor:p.default.propTypes.color.isRequired,cancelColor:p.default.propTypes.color.isRequired,disableConfirm:n.default.bool,disableCancel:n.default.bool,tabIndex:n.default.oneOfType([n.default.string,n.default.number]),children:n.default.any}),s(l,"defaultProps",{confirmText:i.default.dialogOK(),cancelText:i.default.cancel(),confirmColor:p.default.ButtonColor.orange,cancelColor:p.default.ButtonColor.gray});var h={display:"flex",flexDirection:"row-reverse",alignItems:"flex-end",justifyContent:"space-between",borderStyle:"solid",borderColor:r.default.lighter_gray,borderTopWidth:1,borderBottomWidth:0,borderRightWidth:0,borderLeftWidth:0,paddingTop:10,marginTop:10},g={display:"inline-block",lineHeight:"34px",textAlign:"right",verticalAlign:"top",marginLeft:"1em",marginRight:"1em",flexGrow:1},f={flexShrink:0};e.exports=t.default},3891:function(e,t,o){e.exports=o.p+"small_purple_icons_fullwidthwp19d392d920d64b37ae20bf9aa6f2fdd0.png"},39:function(e,t,o){"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var l=Object.getOwnPropertySymbols,c=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},o=0;o<10;o++)t["_"+String.fromCharCode(o)]=o;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach(function(e){n[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var o,n,r=function(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),i=1;i<arguments.length;i++){for(var a in o=Object(arguments[i]))c.call(o,a)&&(r[a]=o[a]);if(l){n=l(o);for(var s=0;s<n.length;s++)u.call(o,n[s])&&(r[n[s]]=o[n[s]])}}return r}},3900:function(e,t,o){"use strict";function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=i(o(0)),r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var o={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(o,r,i):o[r]=e[r]}o.default=e,t&&t.set(e,o);return o}(o(1));function s(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function i(e){return e&&e.__esModule?e:{default:e}}var l,c,u,d={width:i(o(196)).default["content-width"],display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"space-between"},p=function(e){function t(){return e.apply(this,arguments)||this}return function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(t,e),t.prototype.render=function(){return r.default.createElement("div",{style:d},this.props.children)},t}(r.Component);t.default=p,l=p,c="propTypes",u={children:n.default.any},c in l?Object.defineProperty(l,c,{value:u,enumerable:!0,configurable:!0,writable:!0}):l[c]=u,e.exports=t.default},3901:function(e,t,o){"use strict";function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(o(0)),i=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var t=l();if(t&&t.has(e))return t.get(e);var o={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(o,r,i):o[r]=e[r]}o.default=e,t&&t.set(e,o);return o}(o(1)),s=r(o(6));function l(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return l=function(){return e},e}function r(e){return e&&e.__esModule?e:{default:e}}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var d={card:{overflow:"hidden",display:"flex",flexDirection:"column",justifyContent:"space-between",boxSizing:"border-box",width:312,height:150,padding:16,marginBottom:5,borderStyle:"solid",borderWidth:1,borderColor:s.default.border_gray,borderRadius:5,background:s.default.white},title:{paddingBottom:6,fontSize:24,lineHeight:"18px",fontFamily:'"Gotham 5r", sans-serif',zIndex:2,color:s.default.charcoal},subtitle:{paddingBottom:12,fontSize:14,lineHeight:"18px",fontFamily:'"Gotham 4r", sans-serif',zIndex:2,color:s.default.charcoal},description:{paddingTop:10,paddingBottom:5,fontSize:13,lineHeight:"18px",fontFamily:'"Gotham 4r", sans-serif',zIndex:2,color:s.default.charcoal}},p=function(r){function e(){for(var e,t=arguments.length,o=new Array(t),n=0;n<t;n++)o[n]=arguments[n];return u(c(e=r.call.apply(r,[this].concat(o))||this),"state",{hover:!1}),u(c(e),"toggleHover",function(){e.setState({hover:!e.state.hover})}),e}return function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(e,r),e.prototype.render=function(){var e=this.props,t=e.title,o=e.subtitle,n=e.description,r=e.onClick;return this.state.hover?(d.card.borderColor=s.default.dark_charcoal,d.title.color=s.default.dark_charcoal,d.subtitle.color=s.default.dark_charcoal,d.description.color=s.default.dark_charcoal):(d.card.borderColor=s.default.border_gray,d.title.color=s.default.charcoal,d.subtitle.color=s.default.charcoal,d.description.color=s.default.charcoal),i.default.createElement("div",{style:d.card,onClick:r,onMouseEnter:this.toggleHover,onMouseLeave:this.toggleHover,className:this.props.className},i.default.createElement("div",null,i.default.createElement("div",{style:d.title},t),o&&i.default.createElement("div",{style:d.subtitle},o),i.default.createElement("div",{style:d.description},n)))},e}(i.Component);u(p,"propTypes",{title:n.default.string.isRequired,subtitle:n.default.string,description:n.default.string.isRequired,onClick:n.default.func.isRequired,className:n.default.string});var h=p;t.default=h,e.exports=t.default},3902:function(e,t,o){"use strict";function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(o(0)),h=i(o(1)),g=l(o(15)),f=l(o(4)),r=o(82),m=o(56),y=i(o(904));function s(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function i(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var o={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(o,r,i):o[r]=e[r]}return o.default=e,t&&t.set(e,o),o}function l(e){return e&&e.__esModule?e:{default:e}}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var _={family:{display:"inline-block",marginTop:4,marginRight:6},secondary:{marginTop:6},dropdownLabel:{fontFamily:'"Gotham 5r", sans-serif'}},v=(0,m.assignmentId)(null,null),b="__decideLater__",E=function(e){return{year:e.version_year,title:e.version_title,isStable:e.is_stable,locales:e.supported_locales||[]}},c=function(u){function e(e){var l;p(d(l=u.call(this,e)||this),"getVersions",function(t,e){if(!t)return[];var o=(0,g.default)(l.props.assignments).values().filter(function(e){return e.assignment_family_name===t}).map(E).sortBy("year").reverse().value();return(0,y.setRecommendedAndSelectedVersions)(o,l.props.localeEnglishName,e)}),p(d(l),"onChangeAssignmentFamily",function(e){var t=e.target.value;l.setPrimary(t)}),p(d(l),"onChangeVersion",function(t){var e=l.state,o=e.selectedAssignmentFamily,n=e.versions.find(function(e){return e.year===t});l.setPrimary(o,n.year)}),p(d(l),"setPrimary",function(e,t){var o=l.getVersions(e,t),n=l.getSelectedVersionYear(o),r=l.getSelectedPrimaryId(e,n),i=l.props.assignments[r],a=l.props.isNewSection&&i&&i.scriptAssignIds?i.scriptAssignIds[0]:v,s=l.props.isNewSection?a:v;l.setState({selectedAssignmentFamily:e,versions:o,selectedPrimaryId:r,selectedSecondaryId:s},l.reportChange)}),p(d(l),"onChangeSecondary",function(e){l.setState({selectedSecondaryId:e.target.value},l.reportChange)}),p(d(l),"reportChange",function(){"function"==typeof l.props.onChange&&l.props.onChange(l.getSelectedAssignment())});var t,o,n,r,i=e.section,a=e.assignments;r=i?i.courseId?(n=(0,m.assignmentId)(i.courseId,null),(0,m.assignmentId)(null,i.scriptId)):(n=(0,m.assignmentId)(null,i.scriptId),v):n=v;var s=a[n];if(s){t=s.assignment_family_name;var c=s.version_year;o=l.getVersions(t,c)}return l.state={selectedAssignmentFamily:t,versions:o||[],selectedPrimaryId:n,selectedSecondaryId:r},l}!function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(e,u);var t=e.prototype;return t.getSelectedAssignment=function(){var e=this.state,t=e.selectedPrimaryId,o=e.selectedSecondaryId,n=this.props.assignments[t];if(function(e){return e!==v&&e!==b}(o)){var r=this.props.assignments[o];return{courseId:n.courseId,scriptId:r.scriptId}}return{courseId:n?n.courseId:null,scriptId:n?n.scriptId:null}},t.getSelectedPrimaryId=function(t,o){var e=g.default.values(this.props.assignments).find(function(e){return e.assignment_family_name===t&&e.version_year===o});return e?(0,m.assignmentId)(e.courseId,e.scriptId):v},t.getSelectedVersionYear=function(e){return 0<e.length?e.find(function(e){return e.isSelected}).year:void 0},t.render=function(){var e,t=this.props,o=t.assignments,n=t.dropdownStyle,r=t.disabled,i=this.props.assignmentFamilies,a=this.state,s=a.selectedPrimaryId,l=a.selectedSecondaryId,c=a.selectedAssignmentFamily,u=a.versions,d=o[s];d&&(e=d.scriptAssignIds,function(e,t){return t&&e.some(function(e){return e.assignment_family_name===t.assignment_family_name})}(i,d)||(i=[g.default.pick(d,m.assignmentFamilyFields)].concat(i)));var p=function(e){return(0,g.default)(e).values().orderBy(["category_priority","category","position","assignment_family_title"]).groupBy("category").value()}(i);return h.default.createElement("div",null,h.default.createElement("span",{style:_.family},h.default.createElement("div",{style:_.dropdownLabel},f.default.assignmentSelectorCourse()),h.default.createElement("select",{id:"uitest-assignment-family",value:c,onChange:this.onChangeAssignmentFamily,style:n,disabled:r},h.default.createElement("option",{key:"default"}),this.props.chooseLaterOption&&h.default.createElement("option",{key:"later",value:b},f.default.decideLater()),Object.keys(p).map(function(e,t){return h.default.createElement("optgroup",{key:t,label:e},p[e].map(function(e){return void 0!==e&&h.default.createElement("option",{key:e.assignment_family_name,value:e.assignment_family_name},e.assignment_family_title)}))}))),1<u.length&&h.default.createElement(y.default,{dropdownStyle:n,versions:u,onChangeVersion:this.onChangeVersion,disabled:r}),e&&h.default.createElement("div",{style:_.secondary},h.default.createElement("div",{style:_.dropdownLabel},f.default.assignmentSelectorUnit()),h.default.createElement("select",{id:"uitest-secondary-assignment",value:l,onChange:this.onChangeSecondary,style:n,disabled:r},e.map(function(e){return o[e]&&h.default.createElement("option",{key:e,value:e},o[e].name)}),h.default.createElement("option",{value:v}))))},e}(h.Component);p(t.default=c,"propTypes",{section:r.sectionShape,assignments:n.default.objectOf(r.assignmentShape).isRequired,assignmentFamilies:n.default.arrayOf(r.assignmentFamilyShape).isRequired,chooseLaterOption:n.default.bool,dropdownStyle:n.default.object,onChange:n.default.func,disabled:n.default.bool,localeEnglishName:n.default.string,isNewSection:n.default.bool}),e.exports=t.default},3904:function(e,t){e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},391:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.generateCodeAliases=function(e,t){for(var o="",n=e.blocks,r=0;r<n.length;r++){var i=n[r];o+="var "+i.func+" = function() { ",i.idArgNone?o+="return "+t+"."+i.func+".apply("+t+", arguments); };\n":o+="var newArgs = "+(i.idArgLast?"arguments.concat(['']);":"[''].concat(arguments);")+" return "+t+"."+i.func+".apply("+t+", newArgs); };\n"}return o},t.generateDropletPalette=function(e,t){for(var o=b(t),n=v(e,t,_,{paletteOnly:!0,ignoreDocFunc:!0}),r=0;r<n.length;r++){var i=n[r],a=i.block,s=i.expansion;if("Goals"===i.category&&i.goal)a="// "+i.goal;else if(!a){var l=i.func;if(i.blockPrefix&&(l=i.blockPrefix+l),"property"===i.type||"readonlyproperty"===i.type)a=l;else{var c=i.paletteParams||i.params;a=E(l,c),i.paletteParams&&(s=E(l,i.params))}}s||"property"!==i.type||(s=T(a));var u={block:a,expansion:s,title:i.modeOptionName||i.func};o[i.category].blocks.push(u)}var d=[];for(var p in o)0<o[p].blocks.length&&(o[p].name=p,d.push(o[p]));return d},t.generateAceApiCompleter=function(e,t){var l=[],c=[],o={};if(o.autocompleteFunctionsWithSemicolon=t.autocompleteFunctionsWithSemicolon,e){var n=v(e,t,null,{paletteOnly:!0});S(o,l,c,n)}else S(o,l,c,f),S(o,l,c,m),S(o,l,c,t.blocks),function(t,e){e&&e.forEach(function(e){t.push({name:"api",value:e,score:100,meta:"constants"})})}(l,t.additionalPredefValues);return{getCompletions:function(e,t,o,n,r){!function(e){e.completer.updateCompletions!==C&&(y=e.completer.updateCompletions,e.completer.updateCompletions=C)}(e);var i=e.session.getTokenAt(o.row,o.column);if(0===n.length||"comment"===i.type||n.length<3&&!isNaN(Number(n)))r(null,[]);else{var a=function(e,t){var o=window.ace.require("ace/autocomplete/util"),n=e.getLine(t.row),r=o.retrievePrecedingIdentifier(n,t.column);if(0<r.length&&r.length<t.column){var i=t.column-r.length-1;return"."===n[i]}return!1}(t,o)?c:l,s=k(n,a);r(null,s)}}}},t.generateDropletModeOptions=function(e){return{functions:s({},A({blocks:f},e.level.codeFunctions),A({blocks:m},e.level.codeFunctions),A(e.dropletConfig,e.level.codeFunctions)),categories:{arithmetic:{color:g},logic:{color:g},conditionals:{color:h},loops:{color:h,beginner:e.level.beginnerMode||!1},functions:{color:d},returns:{color:d},comments:{color:p},containers:{color:u},value:{color:u},command:{color:d},assignments:{color:u}},lockZeroParamFunctions:e.level.lockZeroParamFunctions,lockFunctionDropIntoKnownParams:e.lockFunctionDropIntoKnownParams,paramButtonsForUnknownFunctions:!0}},t.getAllAvailableDropletBlocks=function(e,t,o){var n=e&&e.blocks,r=n?e.blocks:[];t&&n&&(r=v(t,e,null,{paletteOnly:o}));return f.concat(m).concat(_.blocks).concat(r)},t.getFirstParam=function(e,t,o){return O(0,e,t,o)},t.getSecondParam=function(e,t,o){return O(1,e,t,o)},t.setParamAtIndex=function(e,t,o){var n=(0,l.singleton)().editor;if(!o||!n)return;var r=o.start,i=-1,a=0;do{if("socketStart"===r.type){if(0===a&&i++,a++,i!==e){r=r.next;continue}var s=r.container;n.undoCapture(),n.populateSocket(s,t),n.redrawPalette(),n.redrawMain();break}if("socketEnd"===r.type&&--a<0)break;r=r.next}while(r)},t.makeDisabledConfig=function(e){return s({},e,{categories:{},additionalPredefValues:[],blocks:e.blocks.map(function(e){return s({},e,{category:void 0,color:r.default.light_gray,noAutocomplete:!0})})})},t.__TestInterface=t.dropletBuiltinConfigBlocks=t.dropletGlobalConfigBlocks=void 0;var n=a(o(15)),r=a(o(6)),l=o(213),i=o(1756);function a(e){return e&&e.__esModule?e:{default:e}}function s(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{},n=Object.keys(Object(o));"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(o).filter(function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable}))),n.forEach(function(e){c(t,e,o[e])})}return t}function c(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var u="#BB77C7",d="#68D995",p="#FFFFFF",h="#64B5F6",g="#FFB74D",f=[{func:"getTime",parent:i.globalFunctions,category:"Control",type:"value"},{func:"randomNumber",parent:i.globalFunctions,category:"Math",type:"value",params:["1","10"]},{func:"prompt",parent:window,category:"Variables",type:"value",params:["__"]},{func:"promptNum",parent:i.globalFunctions,category:"Variables",type:"value",params:["__"]}];t.dropletGlobalConfigBlocks=f;var m=[{func:"Math.round",category:"Math",type:"value",params:["__"],docFunc:"mathRound"},{func:"Math.abs",category:"Math",type:"value",params:["__"],docFunc:"mathAbs"},{func:"Math.max",category:"Math",type:"value",params:["__"],docFunc:"mathMax"},{func:"Math.min",category:"Math",type:"value",params:["__"],docFunc:"mathMin"},{func:"Math.random",category:"Math",type:"value",docFunc:"mathRandom"},{func:"Math.pow",category:"Math",type:"value",params:["__"],docFunc:"mathPow"}];t.dropletBuiltinConfigBlocks=m;var y,_={};function v(o,e,t,n){if(!o||!e||!e.blocks)return[];n=n||{};var r=[];t&&(r=r.concat(t.blocks)),r=r.concat(e.blocks);var i={};return r.forEach(function(e){if(e.func in o&&!n.ignoreDocFunc){var t=e.docFunc;!t||t in o||(i[t]=null)}}),r.filter(function(e){return!n.paletteOnly||e.func in o||e.func in i}).map(function(e){return s({},e,o[e.func])})}function b(e){var t=e&&e.categories;return n.default.cloneDeep(s({},t,_.categories,t))}function E(e,t){var o=e+"(";if(t)for(var n=0;n<t.length;n++)0!==n&&(o+=", "),o+=t[n];return o+")"}function T(t){return function(e){return e&&"socket"!==e.type?t+" = __;":t}}function S(p,n,r,i){for(var h=window.ace.require("ace/autocomplete/util"),e=function(e){var d=i[e];if(!d.noAutocomplete){var t={name:"api",value:d.modeOptionName||d.func,score:100,meta:d.category},o=0===t.value.indexOf("*.")||0===t.value.indexOf("?.");o&&(t.docFunc=t.value,t.value=t.value.substring(2)),t.completer={insertMatch:function(e,t){var o=!1;if(t.completer.completions.filterText)for(var n,r=t.selection.getAllRanges(),i=0;n=r[i];i++){n.start.column-=t.completer.completions.filterText.length;var a=t.session.getLine(n.end.row),s=h.retrieveFollowingIdentifier(a,n.end.column).length;n.end.column+=s,o="("===a[n.end.column],t.session.remove(n)}if("property"===d.type||"readonlyproperty"===d.type)t.execCommand("insertstring",e);else{var l=o?"":p.autocompleteFunctionsWithSemicolon?"();":"()";if(t.execCommand("insertstring",e+l),this.params){var c,u=t.selection.getRange();c=o?1:-(l.length-1),u.start.column+=c,u.end.column+=c,t.selection.setSelectionRange(u)}}}.bind(d,t.value)},o?r.push(t):n.push(t)}},t=0;t<i.length;t++)e(t)}function k(e,t){var l=e.replace(/_|\./g,"").toLowerCase();return t.filter(function(e){var o=e.value.replace(".","_").replace(/([A-Z](?=[A-Z][a-z])|[^A-Z](?=[A-Z])|[a-zA-Z](?=[^a-zA-Z]))/g,"$1_").split("_"),t=o.map(function(e,t){return o.slice(t).join("")}),n=!0,r=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){if(0===a.value.toLowerCase().indexOf(l))return e}}catch(e){r=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(r)throw i}}})}function C(e){if(e&&this.base&&this.completions){var t=this.editor.getCursorPosition(),o=this.editor.session.getTextRange({start:this.base,end:t});this.completions.all=k(o,this.completions.all),this.completions.filtered=this.completions.all,this.completions.filterText=""}return y.call(this,e)}function A(e,t){for(var o=b(e),n=v(t,e,null,null),r={},i=0;i<n.length;i++){var a=n[i],s={};switch(a.type){case"value":s.value=!0;break;case"either":s.value=!0,s.command=!0;break;case"property":case"readonlyproperty":s.property=!0,s.value=!0}var l=o[a.category];"string"==typeof a.color&&0<a.color.length?s.color=a.color:l&&(s.color=l.rgb||l.color),s.dropdown=a.dropdown,s.objectDropdown=a.objectDropdown,s.allowFunctionDrop=a.allowFunctionDrop,a.paramButtons&&(s.minArgs=a.paramButtons.minArgs,s.maxArgs=a.paramButtons.maxArgs);var c=a.modeOptionName||a.func;r[s.title=c]=s}return r}function O(e,t,o,n){if(!o){var r=n.session.selection.getCursor();return w(e,t,n.session.getLine(r.row).substring(0,r.column))}var i=o.start,a=-1;do{if("socketStart"===i.type){if(++a!==e){i=i.next;continue}var s=i.next;if("text"===s.type)return s.value;if("blockStart"===s.type)return s.next.value;throw new Error("unexpected")}i=i.next}while(i);return null}function w(e,t,o){var n="".concat(t,"(");o=o.slice(o.lastIndexOf(n));var r="^".concat(t,"\\(((?:(?:\\([^\\)]*\\))|(?:\"[^\"]*\")|(?:'[^']*')|[^)]*)*)\\)?\\s*$"),i=new RegExp(r).exec(o);return i?function(e,t){return t=t.split(/("[^"]*"|'[^']*')/).reduce(function(e,t){var o=encodeURIComponent(t);return t.startsWith('"')||t.startsWith("'")?e+o:e+o.replace(/%2C/g,",")},"").split(","),decodeURIComponent(t[e]).split('"').join("").split("'").join("").trim()}(e,i[1]):null}_.blocks=[{func:"forLoop_i_0_4",block:"for (var i = 0; i < 4; i++) {\n  __;\n}",category:"Control"},{func:"whileBlock",block:"while (__) {\n  __;\n}",category:"Control"},{func:"ifBlock",block:"if (__) {\n  __;\n}",category:"Control"},{func:"ifElseBlock",block:"if (__) {\n  __;\n} else {\n  __;\n}",category:"Control"},{func:"getTime",block:"getTime()",category:"Control",type:"value"},{func:"addOperator",block:"__ + __",category:"Math"},{func:"subtractOperator",block:"__ - __",category:"Math"},{func:"multiplyOperator",block:"__ * __",category:"Math"},{func:"divideOperator",block:"__ / __",category:"Math"},{func:"equalityOperator",block:"__ == __",category:"Math"},{func:"inequalityOperator",block:"__ != __",category:"Math"},{func:"greaterThanOperator",block:"__ > __",category:"Math"},{func:"greaterThanOrEqualOperator",block:"__ >= __",category:"Math"},{func:"lessThanOperator",block:"__ < __",category:"Math"},{func:"lessThanOrEqualOperator",block:"__ <= __",category:"Math"},{func:"andOperator",block:"__ && __",category:"Math"},{func:"orOperator",block:"__ || __",category:"Math"},{func:"notOperator",block:"!__",category:"Math"},{func:"randomNumber_min_max",block:"randomNumber(1, 10)",category:"Math",docFunc:"randomNumber"},{func:"mathRound",block:"Math.round(__)",category:"Math"},{func:"mathAbs",block:"Math.abs(__)",category:"Math"},{func:"mathMax",block:"Math.max(__)",category:"Math"},{func:"mathMin",block:"Math.min(__)",category:"Math"},{func:"mathRandom",block:"Math.random()",category:"Math"},{func:"mathPow",block:"Math.pow(__, __)",category:"Math"},{func:"declareAssign_x",block:"var x = __;",category:"Variables"},{func:"declareNoAssign_x",block:"var x;",category:"Variables"},{func:"assign_x",block:"x = __;",category:"Variables"},{func:"declareAssign_x_array_1_4",block:"var x = [1, 2, 3, 4];",category:"Variables"},{func:"declareAssign_x_prompt",block:'var x = prompt("Enter a value");',category:"Variables"},{func:"declareAssign_x_promptNum",block:'var x = promptNum("Enter a value");',category:"Variables"},{func:"functionParams_none",block:"function myFunction() {\n  __;\n}",category:"Functions"},{func:"functionParams_n",block:"function myFunction(n) {\n  __;\n}",category:"Functions"},{func:"callMyFunction",block:"myFunction()",category:"Functions"},{func:"callMyFunction_n",block:"myFunction(n)",category:"Functions"},{func:"return",block:"return __;",category:"Functions"},{func:"comment",block:"// Comment",expansion:"// ",category:"Functions"}],_.categories={Control:{id:"control",color:"blue",rgb:h,blocks:[]},Math:{id:"math",color:"orange",rgb:g,blocks:[]},Variables:{id:"variables",color:"purple",rgb:u,blocks:[]},Functions:{id:"functions",color:"green",rgb:d,blocks:[]},"":{id:"default",blocks:[]}};var B={mergeCategoriesWithConfig:b,filteredBlocksFromConfig:v,getParamFromCodeAtIndex:w};t.__TestInterface=B},392:function(e,t,o){"use strict";function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(o(0)),i=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var t=l();if(t&&t.has(e))return t.get(e);var o={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(o,r,i):o[r]=e[r]}o.default=e,t&&t.set(e,o);return o}(o(1)),s=r(o(898));function l(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return l=function(){return e},e}function r(e){return e&&e.__esModule?e:{default:e}}var c,u,d,p=function(e){function t(){return e.apply(this,arguments)||this}!function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(t,e);var o=t.prototype;return o.setSelected=function(e){this.props.onChange(e)},o.render=function(){return i.default.createElement("span",null,this.renderChildren())},o.renderChildren=function(){var n=this,r=i.default.Children.toArray(this.props.children).filter(function(e){return!!e});return r.map(function(e,t){var o=e.props.value===n.props.selected;return i.default.createElement(s.default,{id:e.props.id,className:e.props.className,key:e.key,active:o,first:0===t,last:t===r.length-1,activeColor:n.props.activeColor,title:e.props.title,style:e.props.style,onClick:o?void 0:n.setSelected.bind(n,e.props.value)},e.props.children)})},t}(i.Component);t.default=p,c=p,u="propTypes",d={selected:n.default.string,activeColor:n.default.string,onChange:n.default.func.isRequired,children:function(e,t,o){var n,r=e[t];return i.default.Children.count(r)<1&&(n=new Error("".concat(o," must have at least one child button."))),i.default.Children.forEach(r,function(e){e&&"button"!==e.type&&(n=new Error("".concat(o," should only have buttons as ")+"child elements."))}),n}},u in c?Object.defineProperty(c,u,{value:d,enumerable:!0,configurable:!0,writable:!0}):c[u]=d,e.exports=t.default},3920:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=d(o(0)),i=d(o(1)),a=d(o(3921)),s=d(o(1869)),l=d(o(4)),r=d(o(15)),c=d(o(18)),u=d(o(3381));function d(e){return e&&e.__esModule?e:{default:e}}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var g=function(r){function e(){for(var e,t=arguments.length,o=new Array(t),n=0;n<t;n++)o[n]=arguments[n];return h(p(e=r.call.apply(r,[this].concat(o))||this),"state",{showFullList:!1}),h(p(e),"toggleShowFullList",function(){e.setState({showFullList:!e.state.showFullList})}),e}return function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(e,r),e.prototype.render=function(){var e=f(this.props.projectList),t=this.props,o=t.canViewAdvancedTools,n=t.canViewFullList;return i.default.createElement(s.default,{heading:l.default.projects(),linkText:l.default.projectsViewProjectGallery(),link:"/projects"},this.props.isLoading&&i.default.createElement("div",{style:{height:280,textAlign:"center"}},i.default.createElement(c.default,{icon:"spinner",className:"fa-pulse fa-3x"})),0<e.length&&i.default.createElement(a.default,{projectList:e}),i.default.createElement(u.default,{projectTypes:this.props.projectTypes,canViewFullList:n,canViewAdvancedTools:o}))},e}(i.default.Component);h(g,"propTypes",{projectList:n.default.array.isRequired,projectTypes:n.default.arrayOf(n.default.string),isLoading:n.default.bool,canViewFullList:n.default.bool,canViewAdvancedTools:n.default.bool});var f=function(e){var t=r.default.sortBy(e,"updatedAt").reverse();t=t.filter(function(e){return!e.hidden&&e.id&&e.projectType});var o=Math.min(4,t.length);return r.default.range(o).map(function(e){return{name:t[e].name,channel:t[e].id,thumbnailUrl:t[e].thumbnailUrl,type:t[e].projectType,updatedAt:t[e].updatedAt}})},m=g;t.default=m,e.exports=t.default},3921:function(e,t,o){"use strict";function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var t=h();if(t&&t.has(e))return t.get(e);var o={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(o,r,i):o[r]=e[r]}o.default=e,t&&t.set(e,o);return o}(o(1)),r=o(9),i=p(o(2858)),s=o(742),l=p(o(6)),c=p(o(4)),u=p(o(0)),d=p(o(14));function p(e){return e&&e.__esModule?e:{default:e}}function h(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return h=function(){return e},e}var g,f,m,y={grid:{width:"100%"},card:{display:"inline-block",paddingTop:10,paddingBottom:20,paddingRight:0,paddingLeft:0},cardPadding:{paddingRight:35},cardPaddingRtl:{paddingLeft:35},description:{paddingRight:10,paddingBottom:10,fontSize:16,fontFamily:"Gotham 3r",zIndex:2,color:l.default.charcoal,width:940,marginBottom:-10}},_=function(e){function t(){return e.apply(this,arguments)||this}return function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(t,e),t.prototype.render=function(){var o=this.props.isRtl?y.cardPaddingRtl:y.cardPadding;return n.default.createElement("div",{style:y.grid},n.default.createElement("div",{style:y.description},c.default.projectsContinueWorking()),n.default.createElement("div",null,this.props.projectList&&this.props.projectList.slice(0,4).map(function(e,t){return n.default.createElement("div",{key:t,style:[y.card,t<3&&o]},n.default.createElement(i.default,{projectData:e,currentGallery:"personal"}))})))},t}(n.Component);g=_,f="propTypes",m={projectList:u.default.arrayOf(s.personalProjectDataPropType).isRequired,isRtl:u.default.bool.isRequired},f in g?Object.defineProperty(g,f,{value:m,enumerable:!0,configurable:!0,writable:!0}):g[f]=m;var v=(0,r.connect)(function(e){return{isRtl:e.isRtl}})((0,d.default)(_));t.default=v,e.exports=t.default},3922:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=d(o(1)),n=o(9),r=d(o(4)),a=d(o(196)),s=d(o(6)),l=d(o(0)),c=d(o(14)),u=d(o(15));function d(e){return e&&e.__esModule?e:{default:e}}var p,h,g,f={playlab:{label:r.default.projectTypePlaylab(),thumbnail:"/shared/images/fill-70x70/courses/logo_playlab.png"},playlab_k1:{label:r.default.projectTypePlaylabPreReader(),thumbnail:"/shared/images/fill-70x70/courses/logo_playlab.png"},artist:{label:r.default.projectTypeArtist(),thumbnail:"/shared/images/fill-70x70/courses/logo_artist.png"},artist_k1:{label:r.default.projectTypeArtistPreReader(),thumbnail:"/shared/images/fill-70x70/courses/logo_artist.png"},applab:{label:r.default.projectTypeApplab(),thumbnail:"/shared/images/fill-70x70/courses/logo_applab_square.png"},gamelab:{label:r.default.projectTypeGamelab(),thumbnail:"/shared/images/fill-70x70/courses/logo_gamelab_square.png"},weblab:{label:r.default.projectTypeWeblab(),thumbnail:"/shared/images/fill-70x70/courses/logo_weblab.png"},calc:{label:r.default.projectTypeCalc(),thumbnail:"/shared/images/fill-70x70/courses/logo_calc.png"},eval:{label:r.default.projectTypeEval(),thumbnail:"/shared/images/fill-70x70/courses/logo_eval.png"},frozen:{label:r.default.projectTypeFrozen(),thumbnail:"/shared/images/fill-70x70/courses/logo_frozen.png"},minecraft_adventurer:{label:r.default.projectTypeMinecraftAdventurer(),thumbnail:"/shared/images/fill-70x70/courses/logo_mc.png"},minecraft_designer:{label:r.default.projectTypeMinecraftDesigner(),thumbnail:"/shared/images/fill-70x70/courses/logo_minecraft.png"},minecraft_hero:{label:r.default.projectTypeMinecraftHero(),thumbnail:"/shared/images/fill-70x70/courses/logo_minecraft_hero_square.jpg"},minecraft_aquatic:{label:r.default.projectTypeMinecraftAquatic(),thumbnail:"/shared/images/fill-70x70/courses/logo_minecraft_aquatic_square.jpg"},starwars:{label:r.default.projectTypeStarwars(),thumbnail:"/shared/images/fill-70x70/courses/logo_starwars.png"},starwarsblocks:{label:r.default.projectTypeStarwarsBlocks(),thumbnail:"/shared/images/fill-70x70/courses/logo_starwarsblocks.png"},flappy:{label:r.default.projectTypeFlappy(),thumbnail:"/shared/images/fill-70x70/courses/logo_flappy.png"},sports:{label:r.default.projectTypeSports(),thumbnail:"/shared/images/fill-70x70/courses/logo_sports.png"},basketball:{label:r.default.projectTypeBasketball(),thumbnail:"/shared/images/fill-70x70/courses/logo_basketball.png"},bounce:{label:r.default.projectTypeBounce(),thumbnail:"/shared/images/fill-70x70/courses/logo_bounce.png"},infinity:{label:r.default.projectTypeInfinity(),thumbnail:"/shared/images/fill-70x70/courses/logo_infinity.png"},iceage:{label:r.default.projectTypeIceage(),thumbnail:"/shared/images/fill-70x70/courses/logo_iceage.png"},gumball:{label:r.default.projectTypeGumball(),thumbnail:"/shared/images/fill-70x70/courses/logo_gumball.png"},spritelab:{label:r.default.projectTypeSpriteLab(),thumbnail:"/shared/images/fill-70x70/courses/logo_spritelab.png"},dance:{label:r.default.projectTypeDance(),thumbnail:"/shared/images/fill-70x70/courses/logo_dance.png"}},m={fullsize:{width:a.default["content-width"],marginTop:20,marginBottom:10},row:{marginBottom:10},tile:{width:214,height:70,border:"1px solid "+s.default.lighter_gray,borderRadius:2,float:"left",display:"flex",justifyContent:"flex-start",alignItems:"center"},tilePadding:{marginRight:35},thumbnail:{borderTopLeftRadius:2,borderBottomLeftRadius:2,marginRight:10},thumbnailRtl:{borderTopRightRadius:2,borderBottomRightRadius:2,marginLeft:10},label:{paddingRight:5,color:s.default.teal},description:{paddingRight:10,paddingBottom:10,fontSize:14,fontFamily:'"Gotham 5r"',color:s.default.charcoal}},y=function(e){function t(){return e.apply(this,arguments)||this}return function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(t,e),t.prototype.render=function(){var e=this.props,t=e.description,o=e.isRtl,n=e.projectTypes,r=o?m.thumbnailRtl:m.thumbnail;return i.default.createElement("div",{style:m.fullsize},t&&i.default.createElement("div",{style:m.description},t),u.default.chunk(n,4).map(function(e,t){return i.default.createElement("div",{style:m.row,key:t},e.map(function(e,t){return i.default.createElement("a",{key:t,href:"/projects/"+e+"/new"},i.default.createElement("div",{style:[m.tile,t<3&&m.tilePadding]},i.default.createElement("img",{style:r,src:f[e].thumbnail}),i.default.createElement("div",{style:m.label},f[e].label)))}),i.default.createElement("div",{style:{clear:"both"}}))}))},t}(i.default.Component);p=y,h="propTypes",g={projectTypes:l.default.arrayOf(l.default.string),isRtl:l.default.bool,description:l.default.string},h in p?Object.defineProperty(p,h,{value:g,enumerable:!0,configurable:!0,writable:!0}):p[h]=g;var _=(0,n.connect)(function(e){return{isRtl:e.isRtl}})((0,c.default)(y));t.default=_,e.exports=t.default},3930:function(e,t,o){"use strict";function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.UnconnectedRetryProjectSaveDialog=void 0;var n=g(o(6)),r=g(o(0)),i=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var t=h();if(t&&t.has(e))return t.get(e);var o={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(o,r,i):o[r]=e[r]}o.default=e,t&&t.set(e,o);return o}(o(1)),s=o(9),l=g(o(4)),c=o(536),u=g(o(66)),d=g(o(287)),p=g(o(23));function h(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return h=function(){return e},e}function g(e){return e&&e.__esModule?e:{default:e}}function f(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var m={dialog:{color:n.default.default_text,fontSize:15,paddingLeft:20,paddingRight:20,paddingBottom:20}},y=function(r){function e(){for(var e,t=arguments.length,o=new Array(t),n=0;n<t;n++)o[n]=arguments[n];return f(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e=r.call.apply(r,[this].concat(o))||this),"handleClick",function(){e.props.projectUpdatedStatus!==c.projectUpdatedStatuses.saving&&e.props.onTryAgain()}),e}return function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(e,r),e.prototype.render=function(){var e=this.props.projectUpdatedStatus===c.projectUpdatedStatuses.saving;return i.default.createElement(u.default,{isOpen:this.props.isOpen,uncloseable:!0,hideCloseButton:!0,style:m.dialog,useUpdatedStyles:!0},i.default.createElement("h2",{className:"retry-save-title"},l.default.retryProjectSaveDialogHeader()),i.default.createElement("div",{style:{marginBottom:10}},l.default.retryProjectSaveDialogBody()),i.default.createElement(d.default,{rightAlign:!0},i.default.createElement(p.default,{__useDeprecatedTag:!0,text:l.default.retryProjectSaveDialogButton(),onClick:this.handleClick,color:p.default.ButtonColor.orange,className:"no-mc",isPending:e,pendingText:l.default.retryProjectSavePending(),id:"try-again-save-button"})))},e}(i.Component);f(t.UnconnectedRetryProjectSaveDialog=y,"propTypes",{projectUpdatedStatus:r.default.oneOf(Object.values(c.projectUpdatedStatuses)),isOpen:r.default.bool,onTryAgain:r.default.func.isRequired});var _=(0,s.connect)(function(e){return{projectUpdatedStatus:e.header.projectUpdatedStatus,isOpen:e.header.showTryAgainDialog}},function(e){return{onTryAgain:function(){e((0,c.retryProjectSave)())}}})(y);t.default=_},394:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,r=o(1151),i=(n=r)&&n.__esModule?n:{default:n};t.default=i.default.byIndex},397:function(e,t,o){"use strict";
/** @license React v16.8.6
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,s=n?Symbol.for("react.strict_mode"):60108,l=n?Symbol.for("react.profiler"):60114,c=n?Symbol.for("react.provider"):60109,u=n?Symbol.for("react.context"):60110,d=n?Symbol.for("react.async_mode"):60111,p=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,g=n?Symbol.for("react.suspense"):60113,f=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116;function y(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case d:case p:case a:case l:case s:case g:return e;default:switch(e=e&&e.$$typeof){case u:case h:case c:return e;default:return t}}case m:case f:case i:return t}}}function _(e){return y(e)===p}t.typeOf=y,t.AsyncMode=d,t.ConcurrentMode=p,t.ContextConsumer=u,t.ContextProvider=c,t.Element=r,t.ForwardRef=h,t.Fragment=a,t.Lazy=m,t.Memo=f,t.Portal=i,t.Profiler=l,t.StrictMode=s,t.Suspense=g,t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===a||e===p||e===l||e===s||e===g||"object"==typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===f||e.$$typeof===c||e.$$typeof===u||e.$$typeof===h)},t.isAsyncMode=function(e){return _(e)||y(e)===d},t.isConcurrentMode=_,t.isContextConsumer=function(e){return y(e)===u},t.isContextProvider=function(e){return y(e)===c},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return y(e)===h},t.isFragment=function(e){return y(e)===a},t.isLazy=function(e){return y(e)===m},t.isMemo=function(e){return y(e)===f},t.isPortal=function(e){return y(e)===i},t.isProfiler=function(e){return y(e)===l},t.isStrictMode=function(e){return y(e)===s},t.isSuspense=function(e){return y(e)===g}},398:function(e,t,o){window,e.exports=function(o){var n={};function r(e){if(n[e])return n[e].exports;var t=n[e]={i:e,l:!1,exports:{}};return o[e].call(t.exports,t,t.exports,r),t.l=!0,t.exports}return r.m=o,r.c=n,r.d=function(e,t,o){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:o})},r.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=230)}([function(e,t){e.exports=function(){for(var e={},t=0;t<arguments.length;t++){var o=arguments[t];for(var n in o)r.call(o,n)&&(e[n]=o[n])}return e};var r=Object.prototype.hasOwnProperty},function(e,t,o){"use strict";e.exports=function(e,t){for(var o,n,r=t.children||[],i=r.length,a=[],s=-1;++s<i;)(o=c(e,r[s],t))&&(s&&"break"===r[s-1].type&&(o.value&&(o.value=l.left(o.value)),(n=o.children&&o.children[0])&&n.value&&(n.value=l.left(n.value))),a=a.concat(o));return a};var l=o(5),c=o(67)},function(e,t,o){"use strict";e.exports=function(e){return r.test("number"==typeof e?n(e):e.charAt(0))};var n=String.fromCharCode,r=/\s/},function(e,t,o){"use strict";
/*!
 * repeat-string <https://github.com/jonschlinkert/repeat-string>
 *
 * Copyright (c) 2014-2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */var n,r="";e.exports=function(e,t){if("string"!=typeof e)throw new TypeError("expected a string");if(1===t)return e;if(2===t)return e+e;var o=e.length*t;if(n!==e||void 0===n)n=e,r="";else if(r.length>=o)return r.substr(0,o);for(;o>r.length&&1<t;)1&t&&(r+=e),t>>=1,e+=e;return r=(r+=e).substr(0,o)}},function(e,t,o){"use strict";var r=o(226);e.exports=function(e,t,o){var n;return null!=o||"object"==typeof t&&!Array.isArray(t)||(o=t,t={}),n=r({type:String(e)},t),Array.isArray(o)?n.children=o:null!=o&&(n.value=String(o)),n}},function(e,t){(t=e.exports=function(e){return e.replace(/^\s*|\s*$/g,"")}).left=function(e){return e.replace(/^\s*/,"")},t.right=function(e){return e.replace(/\s*$/,"")}},function(e,t,o){"use strict";var u=o(58),d=o(60),p=o(57);e.exports=function(e){var t,o,n=e.space,r=e.mustUseProperty||[],i=e.attributes||{},a=e.properties,s=e.transform,l={},c={};for(t in a)o=new p(t,s(i,t),a[t],n),-1!==r.indexOf(t)&&(o.mustUseProperty=!0),l[t]=o,c[u(t)]=t,c[u(o.attribute)]=t;return new d(l,c,n)}},function(e,t,o){"use strict";e.exports=function(e,t){var o=[],n=-1,r=e.length;for(t&&o.push(i("text","\n"));++n<r;)n&&o.push(i("text","\n")),o.push(e[n]);return t&&0!==e.length&&o.push(i("text","\n")),o};var i=o(4)},function(e,t,o){"use strict";e.exports=function(e){var t="string"==typeof e?e.charCodeAt(0):e;return 48<=t&&t<=57}},function(e,t,o){"use strict";var V=o(41),W=o(170),n=o(8),r=o(40),z=o(39),q=o(169);e.exports=function(e,t){var o,n,r={};for(n in t||(t={}),i)o=t[n],r[n]=null==o?i[n]:o;return(r.position.indent||r.position.start)&&(r.indent=r.position.indent||[],r.position=r.position.start),function(t,e){var o,n,r,i,a,s,l,c,u,d,p,h,g,f,m,y,_,v,b,E,T,S=e.additional,k=e.nonTerminated,C=e.text,A=e.reference,O=e.warning,w=e.textContext,B=e.referenceContext,I=e.warningContext,R=e.position,N=e.indent||[],P=t.length,L=0,x=-1,D=R.column||1,M=R.line||1,U="",F=[];for(y=H(),c=O?function(e,t){var o=H();o.column+=t,o.offset+=t,O.call(I,le[e],o,e)}:X,L--,P++;++L<P;)if("\n"===a&&(D=N[x]||1),"&"!==(a=j(L)))"\n"===a&&(M++,x++,D=0),a?(U+=a,D++):G();else{if("\t"===(l=j(L+1))||"\n"===l||"\f"===l||" "===l||"<"===l||"&"===l||""===l||S&&l===S){U+=a,D++;continue}for(h=g=L+1,b=g,"#"!==l?f=J:(b=++h,"x"===(l=j(b))||"X"===l?(f=Q,b=++h):f=$),i=p=o="",m=ee[f],b--;++b<P&&(l=j(b),m(l));)i+=l,f===J&&K.call(V,i)&&(p=V[o=i]);(r=";"===j(b))&&(b++,(n=f===J&&q(i))&&(o=i,p=n)),v=1+b-g,(r||k)&&(i?s=f===J?(r&&!p?c(ie,1):(o!==i&&(b=h+o.length,v=1+b-h,r=!1),r||(u=o?te:ne,e.attribute?"="===(l=j(b))?(c(u,v),p=null):z(l)?p=null:c(u,v):c(u,v))),p):(r||c(oe,v),55296<=(T=s=parseInt(i,Z[f]))&&T<=57343||1114111<T?(c(se,v),"�"):s in W?(c(ae,v),W[s]):(d="",(1<=(E=s)&&E<=8||11===E||13<=E&&E<=31||127<=E&&E<=159||64976<=E&&E<=65007||65535==(65535&E)||65534==(65535&E))&&c(ae,v),65535<s&&(d+=Y((s-=65536)>>>10|55296),s=56320|1023&s),d+Y(s))):f!==J&&c(re,v)),s?(G(),y=H(),L=b-1,D+=b-g+1,F.push(s),(_=H()).offset++,A&&A.call(B,s,{start:y,end:_},t.slice(g-1,b)),y=_):(i=t.slice(g-1,b),U+=i,D+=i.length,L=b-1)}return F.join("");function H(){return{line:M,column:D,offset:L+(R.offset||0)}}function j(e){return t.charAt(e)}function G(){U&&(F.push(U),C&&C.call(w,U,{start:y,end:H()}),U="")}}(e,r)};var K={}.hasOwnProperty,Y=String.fromCharCode,X=Function.prototype,i={warning:null,reference:null,text:null,warningContext:null,referenceContext:null,textContext:null,position:{},additional:null,attribute:!1,nonTerminated:!0},J="named",Q="hexadecimal",$="decimal",Z={};Z[Q]=16,Z[$]=10;var ee={};ee[J]=z,ee[$]=n,ee[Q]=r;var te=1,oe=2,ne=3,re=4,ie=5,ae=6,se=7,le={};le[te]="Named character references must be terminated by a semicolon",le[oe]="Numeric character references must be terminated by a semicolon",le[ne]="Named character references cannot be empty",le[re]="Numeric character references cannot be empty",le[ie]="Named character references must be known",le[ae]="Numeric character references cannot be disallowed",le[se]="Numeric character references cannot be outside the permissible Unicode range"},function(e,t,o){"use strict";var n=0;function r(){return Math.pow(2,++n)}t.boolean=r(),t.booleanish=r(),t.overloadedBoolean=r(),t.number=r(),t.spaceSeparated=r(),t.commaSeparated=r(),t.commaOrSpaceSeparated=r()},function(e,t,o){"use strict";var c={};function u(e,t,o){var n,r,i,a,s,l="";for("string"!=typeof t&&(o=t,t=u.defaultChars),void 0===o&&(o=!0),s=function(e){var t,o,n=c[e];if(n)return n;for(n=c[e]=[],t=0;t<128;t++)o=String.fromCharCode(t),/^[0-9a-z]$/i.test(o)?n.push(o):n.push("%"+("0"+t.toString(16).toUpperCase()).slice(-2));for(t=0;t<e.length;t++)n[e.charCodeAt(t)]=e[t];return n}(t),n=0,r=e.length;n<r;n++)if(i=e.charCodeAt(n),o&&37===i&&n+2<r&&/^[0-9a-f]{2}$/i.test(e.slice(n+1,n+3)))l+=e.slice(n,n+3),n+=2;else if(i<128)l+=s[i];else if(55296<=i&&i<=57343){if(55296<=i&&i<=56319&&n+1<r&&56320<=(a=e.charCodeAt(n+1))&&a<=57343){l+=encodeURIComponent(e[n]+e[n+1]),n++;continue}l+="%EF%BF%BD"}else l+=encodeURIComponent(e[n]);return l}u.defaultChars=";/?:@&=+$,-_.!~*'()#",u.componentChars="-_.!~*'()",e.exports=u},function(e,t,o){"use strict";function c(){return!0}e.exports=function e(t,o,n,r,i){var a=null!=r,s=null!=n,l=function r(e){if("string"==typeof e)return function(t){return function(e){return Boolean(e&&e.type===t)}}(e);if(null==e)return c;if("object"==typeof e)return("length"in e?function(e){var t=function(e){for(var t=[],o=e.length,n=-1;++n<o;)t[n]=r(e[n]);return t}(e),o=t.length;return function(){for(var e=-1;++e<o;)if(t[e].apply(this,arguments))return!0;return!1}}:function(o){return function(e){var t;for(t in o)if(e[t]!==o[t])return!1;return!0}})(e);if("function"==typeof e)return e;throw new Error("Expected function, string, or object as test")}(t);if(s&&("number"!=typeof n||n<0||n===1/0))throw new Error("Expected positive finite index or child node");if(a&&(!e(null,r)||!r.children))throw new Error("Expected parent node");if(!o||!o.type||"string"!=typeof o.type)return!1;if(a!=s)throw new Error("Expected both parent and index");return Boolean(l.call(i,o,n,r))}},function(e,t,o){"use strict";e.exports=s;var n=o(225),r=n.CONTINUE,i=n.SKIP,a=n.EXIT;function s(e,t,r,o){"function"==typeof t&&"function"!=typeof r&&(o=r,r=t,t=null),n(e,t,function(e,t){var o=t[t.length-1],n=o?o.children.indexOf(e):null;return r(e,n,o)},o)}s.CONTINUE=r,s.SKIP=i,s.EXIT=a},function(e,t,o){"use strict";e.exports=function(e){var t=-1===e.indexOf(n)?n:r;return t+e+t};var n='"',r="'"},function(e,t,o){"use strict";var n=o(37);e.exports=function(e,t){return t||0===e.length||l.test(e)||n(e,r)!==n(e,i)?a+e+s:e};var r="(",i=")",a="<",s=">",l=/\s/},function(e,t,o){"use strict";var n=o(62);e.exports=function(e){return n(e).toLowerCase()}},function(e,t,o){"use strict";e.exports=function(e,t,o,n){for(var r,i,a=e.length,s=-1;++s<a;)if(r=e[s],(void 0===(i=r[1]||{}).pedantic||i.pedantic===o.options.pedantic)&&(void 0===i.commonmark||i.commonmark===o.options.commonmark)&&t[r[0]].apply(o,n))return!0;return!1}},function(e,t,o){"use strict";e.exports=function(e){for(var t=String(e),o=t.length;t.charAt(--o)===n;);return t.slice(0,o+1)};var n="\n"},function(e,t,o){"use strict";var n=o(189),s=o(41),r=o(40),l=o(39),c=o(188);(e.exports=i).escape=function(e){return i(e,{escapeOnly:!0,useNamedReferences:!0})};var u={}.hasOwnProperty,d=function(){var e,t={};for(e in n)t[n[e]]=e;return t}(),p=y(['"',"'","<",">","&","`"]),h=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,g=/[\x01-\t\x0B\f\x0E-\x1F\x7F\x81\x8D\x8F\x90\x9D\xA0-\uFFFF]/g;function i(e,t){var n=t||{},o=n.subset,r=o?y(o):p,i=n.escapeOnly,a=n.omitOptionalSemicolons;return e=e.replace(r,function(e,t,o){return f(e,o.charAt(t+1),n)}),o||i?e:e.replace(h,function(e,t,o){return m(1024*(e.charCodeAt(0)-55296)+e.charCodeAt(1)-56320+65536,o.charAt(t+2),a)}).replace(g,function(e,t,o){return f(e,o.charAt(t+1),n)})}function f(e,t,o){var n,r,i=o.useShortestReferences,a=o.omitOptionalSemicolons;return(i||o.useNamedReferences)&&u.call(d,e)&&(n=function(e,t,o,n){var r="&"+e;return o&&u.call(s,e)&&-1===c.indexOf(e)&&(!n||t&&"="!==t&&!l(t))?r:r+";"}(d[e],t,a,o.attribute)),!i&&n||(r=m(e.charCodeAt(0),t,a)),n&&(!i||n.length<r.length)?n:r}function m(e,t,o){var n="&#x"+e.toString(16).toUpperCase();return o&&t&&!r(t)?n:n+";"}function y(e){return new RegExp("["+e.join("")+"]","g")}},function(e,t,o){"use strict";var a=o(48);function n(i){return function(e,t,o){var n,r=e&&e.children;if(t+=i,n=r&&r[t],!o)for(;n&&a(n);)n=r[t+=i];return n}}t.before=n(-1),t.after=n(1)},function(e,c,t){(function(r){function i(e,t){for(var o=0,n=e.length-1;0<=n;n--){var r=e[n];"."===r?e.splice(n,1):".."===r?(e.splice(n,1),o++):o&&(e.splice(n,1),o--)}if(t)for(;o--;o)e.unshift("..");return e}var t=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,a=function(e){return t.exec(e).slice(1)};function s(e,t){if(e.filter)return e.filter(t);for(var o=[],n=0;n<e.length;n++)t(e[n],n,e)&&o.push(e[n]);return o}c.resolve=function(){for(var e="",t=!1,o=arguments.length-1;-1<=o&&!t;o--){var n=0<=o?arguments[o]:r.cwd();if("string"!=typeof n)throw new TypeError("Arguments to path.resolve must be strings");n&&(e=n+"/"+e,t="/"===n.charAt(0))}return e=i(s(e.split("/"),function(e){return!!e}),!t).join("/"),(t?"/":"")+e||"."},c.normalize=function(e){var t=c.isAbsolute(e),o="/"===n(e,-1);return(e=i(s(e.split("/"),function(e){return!!e}),!t).join("/"))||t||(e="."),e&&o&&(e+="/"),(t?"/":"")+e},c.isAbsolute=function(e){return"/"===e.charAt(0)},c.join=function(){var e=Array.prototype.slice.call(arguments,0);return c.normalize(s(e,function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e}).join("/"))},c.relative=function(e,t){function o(e){for(var t=0;t<e.length&&""===e[t];t++);for(var o=e.length-1;0<=o&&""===e[o];o--);return o<t?[]:e.slice(t,o-t+1)}e=c.resolve(e).substr(1),t=c.resolve(t).substr(1);for(var n=o(e.split("/")),r=o(t.split("/")),i=Math.min(n.length,r.length),a=i,s=0;s<i;s++)if(n[s]!==r[s]){a=s;break}var l=[];for(s=a;s<n.length;s++)l.push("..");return(l=l.concat(r.slice(a))).join("/")},c.sep="/",c.delimiter=":",c.dirname=function(e){var t=a(e),o=t[0],n=t[1];return o||n?(n&&(n=n.substr(0,n.length-1)),o+n):"."},c.basename=function(e,t){var o=a(e)[2];return t&&o.substr(-1*t.length)===t&&(o=o.substr(0,o.length-t.length)),o},c.extname=function(e){return a(e)[3]};var n="b"==="ab".substr(-1)?function(e,t,o){return e.substr(t,o)}:function(e,t,o){return t<0&&(t=e.length+t),e.substr(t,o)}}).call(this,t(22))},function(e,t){var o,n,r=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(t){if(o===setTimeout)return setTimeout(t,0);if((o===i||!o)&&setTimeout)return o=setTimeout,setTimeout(t,0);try{return o(t,0)}catch(e){try{return o.call(null,t,0)}catch(e){return o.call(this,t,0)}}}!function(){try{o="function"==typeof setTimeout?setTimeout:i}catch(e){o=i}try{n="function"==typeof clearTimeout?clearTimeout:a}catch(e){n=a}}();var l,c=[],u=!1,d=-1;function p(){u&&l&&(u=!1,l.length?c=l.concat(c):d=-1,c.length&&h())}function h(){if(!u){var e=s(p);u=!0;for(var t=c.length;t;){for(l=c,c=[];++d<t;)l&&l[d].run();d=-1,t=c.length}l=null,u=!1,function(t){if(n===clearTimeout)return clearTimeout(t);if((n===a||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(t);try{n(t)}catch(e){try{return n.call(null,t)}catch(e){return n.call(this,t)}}}(e)}}function g(e,t){this.fun=e,this.array=t}function f(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(1<arguments.length)for(var o=1;o<arguments.length;o++)t[o-1]=arguments[o];c.push(new g(e,t)),1!==c.length||u||s(h)},g.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=f,r.addListener=f,r.once=f,r.off=f,r.removeListener=f,r.removeAllListeners=f,r.emit=f,r.prependListener=f,r.prependOnceListener=f,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},function(e,t,o){"use strict";e.exports=function(e){var t=e.referenceType;return t===i?"":n+(t===a?"":e.label||e.identifier)+r};var n="[",r="]",i="shortcut",a="collapsed"},function(e,t,o){"use strict";e.exports=function(e,t){var o,n,r=0,i=0;if("string"!=typeof t||1!==t.length)throw new Error("Expected character");for(e=String(e),n=e.indexOf(t),o=n;-1!==n;)r++,n===o?i<r&&(i=r):r=1,o=n+1,n=e.indexOf(t,o);return i}},function(e,t,o){"use strict";var i=o(3);e.exports=function(e,t){for(var o=e.split(a),n=o.length,r=i(s,t*l);n--;)0!==o[n].length&&(o[n]=r+o[n]);return o.join(a)};var a="\n",s=" ",l=4},function(e,t,o){"use strict";var n=o(9);e.exports=function(e){var t;return e.charAt(0)!==r?0:(t=e.split(r,2).join(r)).length-n(t).length};var r="&"},function(e,t,o){"use strict";e.exports={gfm:!0,commonmark:!1,pedantic:!1,entities:"false",setext:!1,closeAtx:!1,looseTable:!1,spacedTable:!0,paddedTable:!0,stringLength:function(e){return e.length},incrementListMarker:!0,fences:!1,fence:"`",bullet:"-",listItemIndent:"tab",rule:"*",ruleSpaces:!0,ruleRepetition:3,strong:"*",emphasis:"_"}},function(e,t,o){"use strict";e.exports=function(e){return e}},function(e,t,o){"use strict";e.exports=function(e,t){var o=e.indexOf("[",t),n=e.indexOf("![",t);return-1===n?o:o<n?o:n}},function(e,t,o){"use strict";e.exports=function(e,t){return e.indexOf("<",t)}},function(e,t,o){"use strict";var n="<[A-Za-z][A-Za-z0-9\\-]*(?:\\s+[a-zA-Z_:][a-zA-Z0-9:._-]*(?:\\s*=\\s*(?:[^\"'=<>`\\u0000-\\u0020]+|'[^']*'|\"[^\"]*\"))?)*\\s*\\/?>",r="<\\/[A-Za-z][A-Za-z0-9\\-]*\\s*>";t.openCloseTag=new RegExp("^(?:"+n+"|"+r+")"),t.tag=new RegExp("^(?:"+n+"|"+r+"|\x3c!----\x3e|\x3c!--(?:-?[^>-])(?:-?[^-])*--\x3e|<[?].*?[?]>|<![A-Za-z]+\\s+[^>]*>|<!\\[CDATA\\[[\\s\\S]*?\\]\\]>)")},function(e,t,o){"use strict";e.exports=function(e){for(var t,o=0,n=0,r=e.charAt(o),i={};r===a||r===s;)n+=t=r===a?c:l,1<t&&(n=Math.floor(n/t)*t),i[n]=o,r=e.charAt(++o);return{indent:n,stops:i}};var a="\t",s=" ",l=1,c=4},function(e,t,o){"use strict";e.exports={position:!0,gfm:!0,commonmark:!1,footnotes:!1,pedantic:!1,blocks:o(166)}},function(e,t,o){"use strict";e.exports=a;var n=["\\","`","*","{","}","[","]","(",")","#","+","-",".","!","_",">"],r=n.concat(["~","|"]),i=r.concat(["\n",'"',"$","%","&","'",",","/",":",";","<","=","?","@","^"]);function a(e){var t=e||{};return t.commonmark?i:t.gfm?r:n}a.default=n,a.gfm=r,a.commonmark=i},function(e,t,o){"use strict";e.exports=function(o,n,r){return function(){var e=r||this,t=e[o];return e[o]=!n,function(){e[o]=t}}}},function(e,t,o){"use strict";var a=o(0),s=o(175);e.exports=function(t){var e,o,n;for(o in s(i,t),s(r,i),e=i.prototype)(n=e[o])&&"object"==typeof n&&(e[o]="concat"in n?n.concat():a(n));return i;function r(e){return t.apply(this,e)}function i(){return this instanceof i?t.apply(this,arguments):new r(arguments)}}},function(e,t,o){"use strict";e.exports=function(e,t){var o,n=0;if(e=String(e),"string"!=typeof t||1!==t.length)throw new Error("Expected character");for(o=e.indexOf(t);-1!==o;)n++,o=e.indexOf(t,o+1);return n}},function(e,t,o){"use strict";e.exports=function(e){var t="string"==typeof e?e.charCodeAt(0):e;return 97<=t&&t<=122||65<=t&&t<=90}},function(e,t,o){"use strict";var n=o(38),r=o(8);e.exports=function(e){return n(e)||r(e)}},function(e,t,o){"use strict";e.exports=function(e){var t="string"==typeof e?e.charCodeAt(0):e;return 97<=t&&t<=102||65<=t&&t<=70||48<=t&&t<=57}},function(e){e.exports={AElig:"Æ",AMP:"&",Aacute:"Á",Acirc:"Â",Agrave:"À",Aring:"Å",Atilde:"Ã",Auml:"Ä",COPY:"©",Ccedil:"Ç",ETH:"Ð",Eacute:"É",Ecirc:"Ê",Egrave:"È",Euml:"Ë",GT:">",Iacute:"Í",Icirc:"Î",Igrave:"Ì",Iuml:"Ï",LT:"<",Ntilde:"Ñ",Oacute:"Ó",Ocirc:"Ô",Ograve:"Ò",Oslash:"Ø",Otilde:"Õ",Ouml:"Ö",QUOT:'"',REG:"®",THORN:"Þ",Uacute:"Ú",Ucirc:"Û",Ugrave:"Ù",Uuml:"Ü",Yacute:"Ý",aacute:"á",acirc:"â",acute:"´",aelig:"æ",agrave:"à",amp:"&",aring:"å",atilde:"ã",auml:"ä",brvbar:"¦",ccedil:"ç",cedil:"¸",cent:"¢",copy:"©",curren:"¤",deg:"°",divide:"÷",eacute:"é",ecirc:"ê",egrave:"è",eth:"ð",euml:"ë",frac12:"½",frac14:"¼",frac34:"¾",gt:">",iacute:"í",icirc:"î",iexcl:"¡",igrave:"ì",iquest:"¿",iuml:"ï",laquo:"«",lt:"<",macr:"¯",micro:"µ",middot:"·",nbsp:" ",not:"¬",ntilde:"ñ",oacute:"ó",ocirc:"ô",ograve:"ò",ordf:"ª",ordm:"º",oslash:"ø",otilde:"õ",ouml:"ö",para:"¶",plusmn:"±",pound:"£",quot:'"',raquo:"»",reg:"®",sect:"§",shy:"­",sup1:"¹",sup2:"²",sup3:"³",szlig:"ß",thorn:"þ",times:"×",uacute:"ú",ucirc:"û",ugrave:"ù",uml:"¨",uuml:"ü",yacute:"ý",yen:"¥",yuml:"ÿ"}},function(e,t,o){"use strict";var i=o(0),a=o(19);e.exports=function(e,t,o,n){var r=t.value;return function(e){return e&&("script"===e.tagName||"style"===e.tagName)}(n)?r:a(r,i(e.entities,{subset:["<","&"]}))}},function(e,t,o){"use strict";var a=o(44);e.exports=function(e,t){for(var o=t&&t.children,n=o&&o.length,r=-1,i=[];++r<n;)i[r]=a(e,o[r],r,t);return i.join("")}},function(e,t,o){"use strict";e.exports=function(e,t,o,n){var r=t&&t.type;if(!r)throw new Error("Expected node, not `"+t+"`");if(!i.call(a,r))throw new Error("Cannot compile unknown node `"+r+"`");return a[r](e,t,o,n)};var i={}.hasOwnProperty,a={};a.root=o(43),a.text=o(42),a.element=o(187),a.doctype=o(182),a.comment=o(181),a.raw=o(180)},function(e,t,o){"use strict";e.exports=function(i){return function(e,t,o){var n=e.tagName,r=!!a.call(i,n)&&i[n];return!!r&&r(e,t,o)}};var a={}.hasOwnProperty},function(e,t,o){"use strict";var r=o(12),i=o(49),a=o(47),s=o(20).after,n=o(45),l=["option"].concat("optgroup"),c=["dt","dd"],u=["menuitem","hr","menu"],d=["rp","rt"],p=["tbody","tfoot"],h=["td","th"],g=["a","audio","del","ins","map","noscript","video"],f=["address","article","aside","blockquote","details","div","dl","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","main","menu","nav","ol","p","pre","section","table","ul"];function m(e,t,o){var n=s(o,t,!0);return!n||!r("comment",n)&&!a(n)}function y(e,t,o){var n=s(o,t);return!n||i(n,d)}function _(e,t,o){var n=s(o,t);return!n||i(n,h)}e.exports=n({html:function(e,t,o){var n=s(o,t);return!n||!r("comment",n)},head:m,body:function(e,t,o){var n=s(o,t);return!n||!r("comment",n)},p:function(e,t,o){var n=s(o,t);return n?i(n,f):!o||!i(o,g)},li:function(e,t,o){var n=s(o,t);return!n||i(n,"li")},dt:function(e,t,o){var n=s(o,t);return n&&i(n,c)},dd:function(e,t,o){var n=s(o,t);return!n||i(n,c)},rt:y,rp:y,optgroup:function(e,t,o){var n=s(o,t);return!n||i(n,"optgroup")},option:function(e,t,o){var n=s(o,t);return!n||i(n,l)},menuitem:function(e,t,o){var n=s(o,t);return!n||i(n,u)},colgroup:m,caption:m,thead:function(e,t,o){var n=s(o,t);return n&&i(n,p)},tbody:function(e,t,o){var n=s(o,t);return!n||i(n,p)},tfoot:function(e,t,o){return!s(o,t)},tr:function(e,t,o){var n=s(o,t);return!n||i(n,"tr")},td:_,th:_})},function(e,t,o){"use strict";var n=o(12),r=o(48);e.exports=function(e){return n("text",e)&&r(e.value.charAt(0))}},function(e,t,o){"use strict";e.exports=function(e){var t;if(e&&"object"==typeof e&&"text"===e.type)t=e.value||"";else{if("string"!=typeof e)return!1;t=e}return""===t.replace(n,"")};var n=/[ \t\n\f\r]/g},function(e,t,o){"use strict";e.exports=function(e,t){var o;if(null!=t&&"string"!=typeof t&&("object"!=typeof t||0===t.length))throw new Error("Expected `string` or `Array.<string>` for `tagNames`, not `"+t+"`");return!(!e||"object"!=typeof e||"element"!==e.type||"string"!=typeof e.tagName||null!=t&&(o=e.tagName,"string"==typeof t?o!==t:-1===t.indexOf(o)))}},function(e,t,o){"use strict";var n=o(61),r=o(59),i=o(55),a=o(54),s=o(51),l=o(195);e.exports=n([i,r,a,s,l])},function(e,t,o){"use strict";var n=o(10),r=o(6),i=n.booleanish,a=n.number,s=n.spaceSeparated;e.exports=r({transform:function(e,t){return"role"===t?t:"aria-"+t.slice(4).toLowerCase()},properties:{ariaActiveDescendant:null,ariaAtomic:i,ariaAutoComplete:null,ariaBusy:i,ariaChecked:i,ariaColCount:a,ariaColIndex:a,ariaColSpan:a,ariaControls:s,ariaCurrent:null,ariaDescribedBy:s,ariaDetails:null,ariaDisabled:i,ariaDropEffect:s,ariaErrorMessage:null,ariaExpanded:i,ariaFlowTo:s,ariaGrabbed:i,ariaHasPopup:null,ariaHidden:i,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:s,ariaLevel:a,ariaLive:null,ariaModal:i,ariaMultiLine:i,ariaMultiSelectable:i,ariaOrientation:null,ariaOwns:s,ariaPlaceholder:null,ariaPosInSet:a,ariaPressed:i,ariaReadOnly:i,ariaRelevant:null,ariaRequired:i,ariaRoleDescription:s,ariaRowCount:a,ariaRowIndex:a,ariaRowSpan:a,ariaSelected:i,ariaSetSize:a,ariaSort:null,ariaValueMax:a,ariaValueMin:a,ariaValueNow:a,ariaValueText:null,role:null}})},function(e,t,o){"use strict";e.exports=function(e,t){return t in e?e[t]:t}},function(e,t,o){"use strict";var n=o(52);e.exports=function(e,t){return n(e,t.toLowerCase())}},function(e,t,o){"use strict";var n=o(6),r=o(53);e.exports=n({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:r,properties:{xmlns:null,xmlnsXLink:null}})},function(e,t,o){"use strict";var n=o(6);e.exports=n({space:"xml",transform:function(e,t){return"xml:"+t.slice(3).toLowerCase()},properties:{xmlLang:null,xmlBase:null,xmlSpace:null}})},function(e,t,o){"use strict";var n=(e.exports=r).prototype;function r(e,t){this.property=e,this.attribute=t}n.space=null,n.attribute=null,n.property=null,n.boolean=!1,n.booleanish=!1,n.overloadedBoolean=!1,n.number=!1,n.commaSeparated=!1,n.spaceSeparated=!1,n.commaOrSpaceSeparated=!1,n.mustUseProperty=!1,n.defined=!1},function(e,t,o){"use strict";var r=o(56),i=o(10);function n(e,t,o,n){a(this,"space",n),r.call(this,e,t),a(this,"boolean",s(o,i.boolean)),a(this,"booleanish",s(o,i.booleanish)),a(this,"overloadedBoolean",s(o,i.overloadedBoolean)),a(this,"number",s(o,i.number)),a(this,"commaSeparated",s(o,i.commaSeparated)),a(this,"spaceSeparated",s(o,i.spaceSeparated)),a(this,"commaOrSpaceSeparated",s(o,i.commaOrSpaceSeparated))}function a(e,t,o){o&&(e[t]=o)}function s(e,t){return(e&t)===t}((e.exports=n).prototype=new r).defined=!0},function(e,t,o){"use strict";e.exports=function(e){return e.toLowerCase()}},function(e,t,o){"use strict";var n=o(6);e.exports=n({space:"xlink",transform:function(e,t){return"xlink:"+t.slice(5).toLowerCase()},properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}})},function(e,t,o){"use strict";var n=(e.exports=r).prototype;function r(e,t,o){this.property=e,this.normal=t,o&&(this.space=o)}n.space=null,n.normal={},n.property={}},function(e,t,o){"use strict";var s=o(0),l=o(60);e.exports=function(e){for(var t,o,n=e.length,r=[],i=[],a=-1;++a<n;)t=e[a],r.push(t.property),i.push(t.normal),o=t.space;return new l(s.apply(null,r),s.apply(null,i),o)}},function(e,t,o){"use strict";e.exports=function(e){return String(e).replace(/\s+/g," ")}},function(e,t,o){"use strict";e.exports=function(e,t){var o,n,r,i=t.referenceType,a="]";return"collapsed"===i?a+="[]":"full"===i&&(a+="["+(t.label||t.identifier)+"]"),"imageReference"===t.type?s("text","!["+t.alt+a):(o=l(e,t),(n=o[0])&&"text"===n.type?n.value="["+n.value:o.unshift(s("text","[")),(r=o[o.length-1])&&"text"===r.type?r.value+=a:o.push(s("text",a)),o)};var s=o(4),l=o(1)},function(e,t,o){"use strict";e.exports=function(e,t){var o=t.identifier;return e(t.position,"sup",{id:"fnref-"+o},[e(t,"a",{href:"#fn-"+o,className:["footnote-ref"]},[n("text",o)])])};var n=o(4)},function(e,t,o){"use strict";e.exports=function(e,t){var o={},n=t.ordered?"ol":"ul";return"number"==typeof t.start&&1!==t.start&&(o.start=t.start),e(t,n,o,r(i(e,t),!0))};var r=o(7),i=o(1)},function(e,t,o){"use strict";e.exports=function(e,t){return e(t,"hr")}},function(e,t,o){"use strict";e.exports=function(e,t,o){var n=t&&t.type,r=s.call(e.handlers,n)?e.handlers[n]:null;if(!n)throw new Error("Expected node, got `"+t+"`");return("function"==typeof r?r:function(e,t){return function(e){var t=e.data||{};return!(s.call(t,"hName")||s.call(t,"hProperties")||s.call(t,"hChildren"))&&"value"in e}(t)?e.augment(t,i("text",t.value)):e(t,"div",a(e,t))})(e,t,o)};var i=o(4),a=o(1),s={}.hasOwnProperty},function(e,t,o){"use strict";var n=t;function r(o){return e.displayName=o,e;function e(e){var t=e&&e.position&&e.position[o]||{};return{line:t.line||null,column:t.column||null,offset:isNaN(t.offset)?null:t.offset}}}n.start=r("start"),n.end=r("end")},function(e,t,o){"use strict";var r=void 0,i=void 0,a=void 0;function s(e,t,o){var n=i.call(this,e,t,o);return n&&("image"===n.type&&(n.children=[{type:"text",value:n.alt||""}]),n.redactionType="redacted"+n.type,n.type="redaction"),n}function l(e,t,o){var n=a.call(this,e,t,o);return n&&(n.redactionType="redactedlink",n.type="redaction"),n}e.exports=function(){var e=this.Parser,t=e.prototype.inlineTokenizers,o=e.prototype.inlineMethods,n=e.prototype.restorationMethods;n.redactedlink=function(e,t,o){return e(Object.assign({},t,{type:"link",children:[{type:"text",value:o}]}))},n.redactedimage=function(e,t,o){return e(Object.assign({},t,{type:"image",alt:o}))},r=e.prototype.options.redact,i=t.link,a=t.autoLink,s.locator=t.link.locator,t.redactedLink=s,l.locator=t.autoLink.locator,t.redactedAutoLink=l,r&&(o.splice(o.indexOf("link"),1,"redactedLink"),o.splice(o.indexOf("autoLink"),1,"redactedAutoLink"))}},function(e,t,o){"use strict";function _(e){if(Array.isArray(e)){for(var t=0,o=Array(e.length);t<e.length;t++)o[t]=e[t];return o}return Array.from(e)}var v=/^\[([\w-]+)\] *\n *\n/,b=void 0;function n(e,t,o){var n=v.exec(t);if(n){var r=n[0],i=n[0].length,a=n[1],s=new RegExp("\\["+a+"\\] *\\n *\\n","g"),l=new RegExp("\\n *\\n *\\[\\/"+a+"\\]","g");l.lastIndex=i;var c=void 0,u=void 0,d=void 0;do{if(c=l.exec(t),0===l.lastIndex)return;d=l.lastIndex-c[0].length,u=t.slice(i,d)}while(u.split(s).length!==u.split(l).length);if(o)return!0;var p=c[0],h=this.tokenizeBlock(u,e.now());if(b){var g=e(r)({type:"redaction",redactionType:"divclass",className:a,block:!0}),f=e(u),m=h.map(function(e){return f(e)}),y=e(p)({type:"redaction",block:!0,closing:!0});return[g].concat(_(m),[y])}return e(r+u+p)({type:"div",children:h,data:{hProperties:{className:a}}})}}e.exports=function(){var e=this.Parser,t=e.prototype.blockTokenizers,o=e.prototype.blockMethods;e.prototype.restorationMethods.divclass=function(t,e,o,n){var r=t({type:"paragraph",children:[{type:"rawtext",value:"["+e.open.className+"]"}]});n.length||(n=[{type:"text",value:""}]);var i=n.map(function(e){return t(e)}),a=t({type:"paragraph",children:[{type:"rawtext",value:"[/"+e.open.className+"]"}]});return[r].concat(_(i),[a])},b=e.prototype.options.redact,t.divclass=n,o.splice(o.indexOf("paragraph"),0,"divclass")},n.notInLink=!0},function(e,t,o){"use strict";e.exports=function(){this.Compiler&&(this.Compiler.prototype.visitors.rawtext=function(e){return this.encode(e.value,e)})}},function(e,t,o){"use strict";e.exports=function(){this.Compiler&&(this.Compiler.prototype.visitors.indent=function(e){return this.all(e).map(function(e){return"    "+e.split("\n").join("\n    ")}).join("\n\n")})}},function(e,t,o){"use strict";e.exports=function(){this.Compiler&&(this.Compiler.prototype.visitors.div=function(e){var t=e.data.hProperties.className;return["["+t+"]",this.block(e),"[/"+t+"]"].join("\n\n")})}},function(e,t,o){"use strict";e.exports=function(){var e=this.Parser;e.prototype.restorationMethods||(e.prototype.restorationMethods={})}},function(e,t,o){"use strict";e.exports=function(e){var f=[],o=[];return function e(t){"redaction"===t.type&&(t.block?t.closing?f[o.shift()].close=t:(o.unshift(f.length),f.push({block:!0,open:t})):f.push(t)),t.children&&t.children.length&&t.children.forEach(e)}(e),function(){if(this.Parser){var g=this.Parser,l=/^\[([^\]]*)\]\[(\d+)\]/,e=function(e,t,o){var n=l.exec(t);if(n){var r=n[1],i=parseInt(n[2],10),a=f[i];if(a){var s=g.prototype.restorationMethods[a.redactionType];if(s)return!!o||s(e(n[0]),a,r)}}};e.locator=function(e){return e.search(l)},g.prototype.inlineTokenizers.redaction=e;var t=g.prototype.inlineMethods;t.splice(t.indexOf("reference"),0,"redaction"),g.prototype.blockTokenizers.redaction=function(e,t,o){var n=/^\[([^\]]*)\]\[(\d+)\]\n\n/.exec(t);if(n){var r=n[0],i=n[0].length,a=n[1],s=parseInt(n[2],10),l=f[s];if(l&&l.block){var c="\n\n[/]["+s+"]",u=t.indexOf(c,i);if(-1!==u){var d=g.prototype.restorationMethods[l.open.redactionType];if(d){if(o)return!0;var p=t.slice(i,u),h=this.tokenizeBlock(p,e.now());return d(e(r+p+c),l,a,h)}}}}};var o=g.prototype.blockMethods;o.splice(o.indexOf("paragraph"),0,"redaction")}}}},function(e,t,o){"use strict";e.exports=function(){if(this.Compiler){var n=0,r=[];this.Compiler.prototype.visitors.redaction=function(e){var t="",o=this.enterLink();return e.children&&(t=this.all(e).join("")),o(),e.block?e.closing?"[/"+t+"]["+r.shift()+"]":(r.unshift(n++),"["+t+"]["+r[0]+"]"):"["+t+"]["+n+++"]"}}}},function(e,t,o){"use strict";var n=Object.prototype.toString;e.exports=function(e){var t;return"[object Object]"===n.call(e)&&(null===(t=Object.getPrototypeOf(e))||t===Object.getPrototypeOf({}))}},function(e,t){var o=Object.prototype.toString;e.exports=function(e){return"[object String]"===o.call(e)}},function(e,t,o){"use strict";var s=[].slice;e.exports=function(n,e){var r;return function(){var e,t=s.call(arguments,0),o=n.length>t.length;o&&t.push(i);try{e=n.apply(null,t)}catch(e){if(o&&r)throw e;return i(e)}o||(e&&"function"==typeof e.then?e.then(a,i):e instanceof Error?i(e):a(e))};function i(){r||(r=!0,e.apply(null,arguments))}function a(e){i(null,e)}}},function(e,t,o){"use strict";var d=o(79);(e.exports=n).wrap=d;var p=[].slice;function n(){var u=[],t={run:function(){var s=-1,l=p.call(arguments,0,-1),c=arguments[arguments.length-1];if("function"!=typeof c)throw new Error("Expected function as last argument, not "+c);(function e(t){var o=u[++s],n=p.call(arguments,0),r=n.slice(1),i=l.length,a=-1;if(t)c(t);else{for(;++a<i;)null!==r[a]&&void 0!==r[a]||(r[a]=l[a]);l=r,o?d(o,e).apply(null,l):c.apply(null,[null].concat(l))}}).apply(null,[null].concat(l))},use:function(e){if("function"!=typeof e)throw new Error("Expected `fn` to be a function, not "+e);return u.push(e),t}};return t}},function(e,t){
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
e.exports=function(e){return null!=e&&null!=e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}},function(e,t,o){"use strict";var n=o(21);e.exports=function(e,t){if("string"!=typeof e)return e;if(0===e.length)return e;var o=n.basename(e,n.extname(e))+t;return n.join(n.dirname(e),o)}},function(d,e,p){"use strict";(function(r){var o=p(21),n=p(82),i=p(81);d.exports=l;var a={}.hasOwnProperty,e=l.prototype;e.toString=function(e){var t=this.contents||"";return i(t)?t.toString(e):String(t)};var s=["history","path","basename","stem","extname","dirname"];function l(e){var t,o,n;if(e){if("string"==typeof e||i(e))e={contents:e};else if("message"in e&&"messages"in e)return e}else e={};if(!(this instanceof l))return new l(e);for(this.data={},this.messages=[],this.history=[],this.cwd=r.cwd(),o=-1,n=s.length;++o<n;)t=s[o],a.call(e,t)&&(this[t]=e[t]);for(t in e)-1===s.indexOf(t)&&(this[t]=e[t])}function c(e,t){if(-1!==e.indexOf(o.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+o.sep+"`")}function t(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function u(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}Object.defineProperty(e,"path",{get:function(){return this.history[this.history.length-1]},set:function(e){t(e,"path"),e!==this.path&&this.history.push(e)}}),Object.defineProperty(e,"dirname",{get:function(){return"string"==typeof this.path?o.dirname(this.path):void 0},set:function(e){u(this.path,"dirname"),this.path=o.join(e||"",this.basename)}}),Object.defineProperty(e,"basename",{get:function(){return"string"==typeof this.path?o.basename(this.path):void 0},set:function(e){t(e,"basename"),c(e,"basename"),this.path=o.join(this.dirname||"",e)}}),Object.defineProperty(e,"extname",{get:function(){return"string"==typeof this.path?o.extname(this.path):void 0},set:function(e){var t=e||"";if(c(t,"extname"),u(this.path,"extname"),t){if("."!==t.charAt(0))throw new Error("`extname` must start with `.`");if(-1!==t.indexOf(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=n(this.path,t)}}),Object.defineProperty(e,"stem",{get:function(){return"string"==typeof this.path?o.basename(this.path,this.extname):void 0},set:function(e){t(e,"stem"),c(e,"stem"),this.path=o.join(this.dirname||"",e+(this.extname||""))}})}).call(this,p(22))},function(e,t,o){"use strict";var n={}.hasOwnProperty;function r(e){return e&&"object"==typeof e||(e={}),a(e.line)+":"+a(e.column)}function i(e){return e&&"object"==typeof e||(e={}),r(e.start)+"-"+r(e.end)}function a(e){return e&&"number"==typeof e?e:1}e.exports=function(e){return e&&"object"==typeof e?n.call(e,"position")||n.call(e,"type")?i(e.position):n.call(e,"start")||n.call(e,"end")?i(e):n.call(e,"line")||n.call(e,"column")?r(e):null:null}},function(e,t,o){"use strict";var a=o(84);function n(){}e.exports=i,n.prototype=Error.prototype;var r=i.prototype=new n;function i(e,t,o){var n,r,i;"string"==typeof t&&(o=t,t=null),n=function(e){var t,o=[null,null];return"string"==typeof e&&(-1===(t=e.indexOf(":"))?o[1]=e:(o[0]=e.slice(0,t),o[1]=e.slice(t+1))),o}(o),r=a(t)||"1:1",i={start:{line:null,column:null},end:{line:null,column:null}},t&&t.position&&(t=t.position),t&&(t.start?t=(i=t).start:i.start=t),e.stack&&(this.stack=e.stack,e=e.message),this.message=e,this.name=r,this.reason=e,this.line=t?t.line:null,this.column=t?t.column:null,this.location=i,this.source=n[0],this.ruleId=n[1]}r.file="",r.name="",r.reason="",r.message="",r.stack="",r.fatal=null,r.column=null,r.line=null},function(e,t,o){"use strict";var i=o(85),n=o(83),r=(e.exports=n).prototype;function a(e,t,o){var n=this.path,r=new i(e,t,o);return n&&(r.name=n+":"+r.name,r.file=n),r.fatal=!1,this.messages.push(r),r}r.message=a,r.info=function(){var e=this.message.apply(this,arguments);return e.fatal=null,e},r.fail=function(){var e=this.message.apply(this,arguments);throw e.fatal=!0,e},r.warn=a},function(e,t,o){"use strict";e.exports=function(e){if(e)throw e}},function(e,t,o){"use strict";var r=Object.prototype.hasOwnProperty,i=Object.prototype.toString,n=Object.defineProperty,a=Object.getOwnPropertyDescriptor,d=function(e){return"function"==typeof Array.isArray?Array.isArray(e):"[object Array]"===i.call(e)},p=function(e){if(!e||"[object Object]"!==i.call(e))return!1;var t,o=r.call(e,"constructor"),n=e.constructor&&e.constructor.prototype&&r.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!o&&!n)return!1;for(t in e);return void 0===t||r.call(e,t)},h=function(e,t){n&&"__proto__"===t.name?n(e,t.name,{enumerable:!0,configurable:!0,value:t.newValue,writable:!0}):e[t.name]=t.newValue},g=function(e,t){if("__proto__"===t){if(!r.call(e,t))return;if(a)return a(e,t).value}return e[t]};e.exports=function e(){var t,o,n,r,i,a,s=arguments[0],l=1,c=arguments.length,u=!1;for("boolean"==typeof s&&(u=s,s=arguments[1]||{},l=2),(null==s||"object"!=typeof s&&"function"!=typeof s)&&(s={});l<c;++l)if(null!=(t=arguments[l]))for(o in t)n=g(s,o),s!==(r=g(t,o))&&(u&&r&&(p(r)||(i=d(r)))?(a=i?(i=!1,n&&d(n)?n:[]):n&&p(n)?n:{},h(s,{name:o,newValue:e(u,a,r)})):void 0!==r&&h(s,{name:o,newValue:r}));return s}},function(e,t,o){"use strict";var h=o(88),g=o(87),f=o(86),m=o(80),y=o(78),_=o(77);e.exports=function n(){var a=[],s=m(),l={},c=!1,r=-1;return u.data=function(e,t){return y(e)?2===arguments.length?(C("data",c),l[e]=t,u):b.call(l,e)&&l[e]||null:e?(C("data",c),l=e,u):l},u.freeze=d,u.attachers=a,u.use=function(e){var t;if(C("use",c),null==e);else if("function"==typeof e)i.apply(null,arguments);else{if("object"!=typeof e)throw new Error("Expected usable value, not `"+e+"`");"length"in e?r(e):o(e)}return t&&(l.settings=h(l.settings||{},t)),u;function o(e){r(e.plugins),e.settings&&(t=h(t||{},e.settings))}function n(e){if("function"==typeof e)i(e);else{if("object"!=typeof e)throw new Error("Expected usable value, not `"+e+"`");"length"in e?i.apply(null,e):o(e)}}function r(e){var t,o;if(null==e);else{if(!("object"==typeof e&&"length"in e))throw new Error("Expected a list of plugins, not `"+e+"`");for(t=e.length,o=-1;++o<t;)n(e[o])}}function i(e,t){var o=function(e){for(var t,o=a.length,n=-1;++n<o;)if((t=a[n])[0]===e)return t}(e);o?(_(o[1])&&_(t)&&(t=h(o[1],t)),o[1]=t):a.push(v.call(arguments))}},u.parse=function(e){var t,o=f(e);return d(),S("parse",t=u.Parser),T(t)?new t(String(o),o).parse():t(String(o),o)},u.stringify=function(e,t){var o,n=f(t);return d(),k("stringify",o=u.Compiler),A(e),T(o)?new o(e,n).compile():o(e,n)},u.run=i,u.runSync=function(e,t){var o,n=!1;return i(e,t,function(e,t){n=!0,g(e),o=t}),O("runSync","run",n),o},u.process=p,u.processSync=function(e){var t,o=!1;return d(),S("processSync",u.Parser),k("processSync",u.Compiler),p(t=f(e),function(e){o=!0,g(e)}),O("processSync","process",o),t},u;function u(){for(var e=n(),t=a.length,o=-1;++o<t;)e.use.apply(null,a[o]);return e.data(h(!0,{},l)),e}function d(){var e,t,o,n;if(c)return u;for(;++r<a.length;)e=a[r],t=e[0],o=e[1],n=null,!1!==o&&(!0===o&&(e[1]=void 0),"function"==typeof(n=t.apply(u,e.slice(1)))&&s.use(n));return c=!0,r=1/0,u}function i(i,e,a){if(A(i),d(),a||"function"!=typeof e||(a=e,e=null),!a)return new Promise(t);function t(n,r){s.run(i,f(e),function(e,t,o){t=t||i,e?r(e):n?n(t):a(null,t,o)})}t(null,a)}function p(e,r){if(d(),S("process",u.Parser),k("process",u.Compiler),!r)return new Promise(t);function t(t,o){var n=f(e);E.run(u,{file:n},function(e){e?o(e):t?t(n):r(null,n)})}t(null,r)}}().freeze();var v=[].slice,b={}.hasOwnProperty,E=m().use(function(e,t){t.tree=e.parse(t.file)}).use(function(e,n,r){e.run(n.tree,n.file,function(e,t,o){e?r(e):(n.tree=t,n.file=o,r())})}).use(function(e,t){t.file.contents=e.stringify(t.tree,t.file)});function T(e){return"function"==typeof e&&function(e){var t;for(t in e)return!0;return!1}(e.prototype)}function S(e,t){if("function"!=typeof t)throw new Error("Cannot `"+e+"` without `Parser`")}function k(e,t){if("function"!=typeof t)throw new Error("Cannot `"+e+"` without `Compiler`")}function C(e,t){if(t)throw new Error("Cannot invoke `"+e+"` on a frozen processor.\nCreate a new processor first, by invoking it: use `processor()` instead of `processor`.")}function A(e){if(!e||!y(e.type))throw new Error("Expected node, got `"+e+"`")}function O(e,t,o){if(!o)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}},function(e,t,o){"use strict";e.exports=function(e){return this.all(e).join("")}},function(e,t,o){"use strict";e.exports=function(e,t){var o,n,r,i,a,s,l,c,u,d,p,h,g=t||{},f=g.delimiter,m=g.start,y=g.end,_=g.align,v=g.stringLength||U,b=0,E=-1,T=e.length,S=[];for(_=_?_.concat():[],null==f&&(f=x+L+x),null!=m||(m=L+x),null!=y||(y=x+L);++E<T;)for(i=e[E],s=-1,i.length>b&&(b=i.length);++s<b;)l=i[s]?H(i[s]):null,S[s]||(S[s]=R),l>S[s]&&(S[s]=l);for("string"==typeof _&&(_=F(b,_).split("")),s=-1;++s<b;)"string"==typeof(o=_[s])&&(o=o.charAt(0).toLowerCase()),-1===I.indexOf(o)&&(o=B),_[s]=o;for(E=-1,r=[];++E<T;){for(i=e[E],s=-1,a=[];++s<b;)u=M(u=i[s]),_[s]===w?(l=H(u),c=S[s]+(k.test(u)?0:1)-(v(u)-l),a[s]=u+F(c-1)):a[s]=u;r[E]=a}for(S=[],E=-1;++E<T;)for(a=r[E],s=-1;++s<b;)u=a[s],S[s]||(S[s]=R),(c=v(u))>S[s]&&(S[s]=c);for(E=-1;++E<T;){if(a=r[E],!(s=-1)!==g.pad)for(;++s<b;)u=a[s],l=S[s]-(v(u)||0),d=F(l),_[s]===A||_[s]===w?u=d+u:_[s]===O?(h=(l/=2)%1==0?p=l:(p=l+.5,l-.5),u=F(p)+u+F(h)):u+=d,a[s]=u;r[E]=a.join(f)}if(!1!==g.rule){for(s=-1,n=[];++s<b;)d=!1===g.pad?(u=e[0][s],(d=v(M(u)))>R?d:R):S[s],o=_[s],u=o===A||o===B?P:N,u+=F(d-2,P),u+=o!==C&&o!==B?N:P,n[s]=u;r.splice(1,0,n.join(f))}return m+r.join(y+D+m)+y};var k=/\./,n=/\.[^.]*$/,C="l",A="r",O="c",w=".",B="",I=[C,A,O,w,B],R=3,N=":",P="-",L="|",x=" ",D="\n";function M(e){return null==e?"":String(e)}function U(e){return String(e).length}function F(e,t){return new Array(e+1).join(t||x)}function H(e){var t=n.exec(e);return t?t.index+1:e.length}},function(e,t,o){"use strict";var p=o(91);e.exports=function(e){for(var t,o,n=this.options,r=n.looseTable,i=n.spacedTable,a=n.paddedTable,s=n.stringLength,l=e.children,c=l.length,u=this.enterTable(),d=[];c--;)d[c]=this.all(l[c]);return u(),o=r?t="":i?(t=g+h,h+g):t=g,p(d,{align:e.align,pad:a,start:t,end:o,stringLength:s,delimiter:i?h+g+h:g})};var h=" ",g="|"},function(e,t,o){"use strict";var n=o(3)(" ",4);e.exports=function(e){var t=this.all(e).join("\n\n"+n);return"[^"+(e.label||e.identifier)+"]: "+t}},function(e,t,o){"use strict";e.exports=function(e){return n+i+(e.label||e.identifier)+r};var n="[",r="]",i="^"},function(e,t,o){"use strict";e.exports=function(e){return n+i+this.all(e).join("")+r};var n="[",r="]",i="^"},function(e,t,o){"use strict";var r=o(15),i=o(14);e.exports=function(e){var t=r(this.encode(e.url||"",e)),o=this.enterLink(),n=this.encode(this.escape(e.alt||"",e));return o(),e.title&&(t+=a+i(this.encode(e.title,e))),d+c+n+u+s+t+l};var a=" ",s="(",l=")",c="[",u="]",d="!"},function(e,t,o){"use strict";var n=o(15),r=o(14);e.exports=function(e){var t=n(e.url);return e.title&&(t+=i+r(e.title)),s+(e.label||e.identifier)+l+a+i+t};var i=" ",a=":",s="[",l="]"},function(e,t,o){"use strict";var n=o(23);e.exports=function(e){return a+r+(this.encode(e.alt,e)||"")+i+n(e)};var r="[",i="]",a="!"},function(e,t,o){"use strict";var l=o(26);e.exports=function(e,t){for(var o,n=e.length,r=t.length,i=[],a=0,s=0;s<n;){for(o=s;s<n&&!u.test(e.charAt(s));)s+=1;for(i.push(e.slice(o,s));a<r&&!u.test(t.charAt(a));)a+=1;for(o=a;a<r&&u.test(t.charAt(a));)t.charAt(a)===c&&(a+=l(t.slice(a))),a+=1;for(i.push(t.slice(o,a));s<n&&u.test(e.charAt(s));)s+=1}return i.join("")};var c="&",u=/[-!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~_]/},function(e,t,o){"use strict";var r=o(99),i=o(23);e.exports=function(e){var t=e.referenceType,o=this.enterLinkReference(this,e),n=this.all(e).join("");return o(),(t===l||t===c)&&(n=r(n,e.label||e.identifier)),a+n+s+i(e)};var a="[",s="]",l="shortcut",c="collapsed"},function(e,t,o){"use strict";var i=o(15),a=o(14);e.exports=function(e){var t=this.encode(e.url||"",e),o=this.enterLink(),n=this.encode(this.escape(e.url||"",e)),r=this.all(e).join("");return o(),null==e.title&&p.test(t)&&n===r?i(this.encode(e.url),!0):(t=i(t),e.title&&(t+=s+a(this.encode(this.escape(e.title,e),e))),l+r+c+u+t+d)};var s=" ",l="[",c="]",u="(",d=")",p=/^[a-z][a-z+.-]+:\/?/i},function(e,t,o){"use strict";e.exports=function(e){return n+this.all(e).join("")+n};var n="~~"},function(e,t,o){"use strict";e.exports=function(){return this.options.commonmark?n:r};var n="\\\n",r="  \n"},function(e,t,o){"use strict";e.exports=function(e){var t=this.options.emphasis,o=this.all(e).join("");return this.options.pedantic&&t===n&&-1!==o.indexOf(t)&&(t=r),t+o+t};var n="_",r="*"},function(e,t,o){"use strict";var n=o(3);e.exports=function(e){var t=n(this.options.strong,2);return t+this.all(e).join("")+t}},function(e,t,o){"use strict";var n=o(3);e.exports=function(){var e=this.options,t=n(e.rule,e.ruleRepetition);return e.ruleSpaces?t.split("").join(r):t};var r=" "},function(e,t,o){"use strict";e.exports=function(e){return e.value}},function(e,t,o){"use strict";var s=o(24),l=o(3),c=o(25);e.exports=function(e,t){var o,n=e.value,r=this.options,i=r.fence,a=e.lang||"";return a&&e.meta&&(a+=d+e.meta),(a=this.encode(this.escape(a,e)))||r.fences||!n?(o=l(i,Math.max(s(n,i)+1,3)))+a+u+n+u+o:(t&&"listItem"===t.type&&"tab"!==r.listItemIndent&&r.pedantic&&this.file.fail("Cannot indent code properly. See https://git.io/fxKR8",e.position),c(n,1))};var u="\n",d=" "},function(e,t,o){"use strict";var i=o(24),a=o(3);e.exports=function(e){var t=e.value,o=a(l,i(t,l)+1),n=o,r=o;return t.charAt(0)===l&&(n+=s),t.charAt(t.length-1)===l&&(r=s+r),n+t+r};var s=" ",l="`"},function(e,t,o){"use strict";var f=o(3),m=o(25);e.exports=function(e,t,o,n){for(var r,i,a,s=this.options.listItemIndent,l=n||this.options.bullet,c=null==e.spread||e.spread,u=e.checked,d=e.children,p=d.length,h=[],g=-1;++g<p;)h[g]=this.visit(d[g],e);return r=h.join(c?S:y),"boolean"==typeof u&&(r=v+(u?E:_)+b+_+r),a="1"===s||"mixed"===s&&-1===r.indexOf(y)?(i=l.length+1,_):(i=T((l.length+1)/k)*k,f(_,i-l.length)),r?l+a+m(r,i/k).slice(i):l};var y="\n",_=" ",v="[",b="]",E="x",T=Math.ceil,S=y+y,k=4},function(e,t,o){"use strict";e.exports=function(e){return(e.ordered?this.visitOrderedItems:this.visitUnorderedItems).call(this,e)}},function(e,t,o){"use strict";e.exports=function(e){for(var t,o=this.block(e).split(a),n=[],r=o.length,i=-1;++i<r;)t=o[i],n[i]=(t?s:"")+t;return l+n.join(a+l)};var a="\n",s=" ",l=">"},function(e,t,o){"use strict";e.exports=function(e){return this.all(e).join("")}},function(e,t,o){"use strict";var a=o(3);e.exports=function(e){var t,o=e.depth,n=this.options.setext,r=this.options.closeAtx,i=this.all(e).join("");return n&&o<3?i+s+a(1===o?d:u,i.length):(t=a(c,e.depth))+l+i+(r?l+t:"")};var s="\n",l=" ",c="#",u="-",d="="},function(e,t,o){"use strict";e.exports=function(e,t){return this.encode(this.escape(e.value,e,t),e)}},function(e,t,o){"use strict";e.exports=function(e){return this.block(e)+n};var n="\n"},function(e,t,o){"use strict";e.exports=function(e){for(var t=this.options.bullet,o=this.visitors.listItem,n=e.children,r=n.length,i=-1,a=[];++i<r;)a[i]=o.call(this,n[i],e,i,t);return a.join(e.spread?l:s)};var s="\n",l=s+s},function(e,t,o){"use strict";e.exports=function(e){var t,o=this.visitors.listItem,n=this.options.incrementListMarker,r=[],i=e.start,a=e.children,s=a.length,l=-1;for(i=null==i?1:i;++l<s;)t=(n?i+l:i)+u,r[l]=o.call(this,a[l],e,l,t);return r.join(e.spread?d:c)};var c="\n",u=".",d=c+c},function(e,t,o){"use strict";e.exports=function(e){for(var t,o,n=this.options,r=n.fences,i=n.commonmark?p:d,a=[],s=e.children,l=s.length,c=-1;++c<l;)t=o,o=s[c],t&&("list"===t.type&&("list"===o.type&&t.ordered===o.ordered||"code"===o.type&&!o.lang&&!r)?a.push(i):a.push(u)),a.push(this.visit(o,e));return a.join("")};var u="\n\n",d=u+"\n",p=u+"\x3c!----\x3e"+u},function(e,t,o){"use strict";e.exports=function(e){for(var t=e.children,o=t.length,n=[],r=-1;++r<o;)n[r]=this.visit(t[r],e);return n}},function(e,t,o){"use strict";e.exports=function(e,t){var o=this.visitors;return"function"!=typeof o[e.type]&&this.file.fail(new Error("Missing compiler for node of type `"+e.type+"`: `"+e+"`"),e),o[e.type].call(this,e,t)}},function(e,t,o){"use strict";var n=o(13);function a(e,t){var o,n;return"text"===e.type?!e.position||(o=e.position.start,n=e.position.end,o.line!==n.line||n.column-o.column===e.value.length):t&&"blockquote"===e.type}e.exports=function(e,i){return n(e,function(e,t,o){var n=o?o.children:[],r=t&&n[t-1];if(r&&e.type===r.type&&a(r,i)&&a(e,i))return e.value&&(r.value+=e.value),e.children&&(r.children=r.children.concat(e.children)),n.splice(t,1),r.position&&e.position&&(r.position.end=e.position.end),t}),e}},function(e,t,o){"use strict";var n=o(122);e.exports=function(){return this.visit(n(this.tree,this.options.commonmark))}},function(e,t,o){"use strict";e.exports=function(e){if("string"!=typeof e)throw new TypeError("Expected a string");return!/[^0-9a-z\xDF-\xFF]/.test(e.toLowerCase())}},function(e,t,o){"use strict";var k=o(8),C=o(124),A=o(2),O=o(34),w=o(26);e.exports=function(S){return function(e,t,o){var n,r,i,a,s,l,c=S.gfm,u=S.commonmark,d=S.pedantic,p=u?[F,x]:[F],h=o&&o.children,g=h&&h.indexOf(t),f=h&&h[g-1],m=h&&h[g+1],y=e.length,_=O(S),v=-1,b=[],E=b;for(n=f?te(f)&&Z.test(f.value):!o||"root"===o.type||"paragraph"===o.type;++v<y;){if(r=e.charAt(v),l=!1,"\n"===r)n=!0;else if(r===W||r===K||r===D||r===J&&e.charAt(v+1)===V||r===V||r===j||r===P&&0<w(e.slice(v))||r===z&&this.inLink||c&&r===X&&e.charAt(v+1)===X||c&&r===Y&&(this.inTable||ee(e,v))||r===q&&0<v&&v<y-1&&(d||!C(e.charAt(v-1))||!C(e.charAt(v+1)))||c&&!this.inLink&&r===H&&oe(b.join("")))l=!0;else if(n)if(r===G||r===N||r===D||r===U||r===M)l=!0;else if(k(r)){for(s=v+1;s<y&&k(e.charAt(s));)s++;-1!==p.indexOf(e.charAt(s))&&((m=e.charAt(s+1))&&m!==R&&m!==B&&m!==I||(b.push(e.slice(v,s)),v=s,r=e.charAt(v),l=!0))}n&&!A(r)&&(n=!1),b.push(l?T(r):r)}if(h&&te(t)){if(f&&f.referenceType===$){for(v=-1,y=E.length;++v<y;)if((r=E[v])!==R&&r!==B){r!==L&&r!==H||(E[v]=T(r));break}te(m)&&v===y&&m.value.charAt(0)===L&&E.push(W)}c&&!this.inLink&&te(f)&&e.charAt(0)===H&&oe(f.value.slice(-6))&&(E[0]=T(H)),te(m)&&e.charAt(y-1)===P&&0!==w(P+m.value)&&(E[E.length-1]=T(P)),m&&"link"===m.type&&e.charAt(y-1)===J&&(E[E.length-1]=T(J)),c&&te(m)&&e.charAt(y-1)===X&&m.value.charAt(0)===X&&E.splice(E.length-1,0,W),i=te(f)&&C(f.value.slice(-1)),a=te(m)&&C(m.value.charAt(0)),1===y?e!==q||!d&&i&&a||E.unshift(W):(e.charAt(0)!==q||!d&&i&&C(e.charAt(1))||E.unshift(W),e.charAt(y-1)!==q||!d&&a&&C(e.charAt(y-2))||E.splice(E.length-1,0,W))}return E.join("");function T(e){return-1===_.indexOf(e)?Q[e]:W+e}}};var B="\t",I="\n",R=" ",N="#",P="&",L="(",x=")",D="*",M="+",U="-",F=".",H=":",j="<",G=">",V="[",W="\\",z="]",q="_",K="`",Y="|",X="~",J="!",Q={"<":"&lt;",":":"&#x3A;","&":"&amp;","|":"&#x7C;","~":"&#x7E;"},$="shortcut",n="mailto",r="https",i="http",Z=/\n\s*$/;function ee(e,t){var o,n=e.lastIndexOf(I,t),r=e.indexOf(I,t);for(r=-1===r?e.length:r;++n<r;)if((o=e.charAt(n))!==H&&o!==U&&o!==R&&o!==Y)return!1;return!0}function te(e){return e&&"text"===e.type}function oe(e){var t=e.slice(-6).toLowerCase();return t===n||t.slice(-5)===r||t.slice(-4)===i}},function(e,t,o){"use strict";var r=o(0),i=o(19),a=o(27),s=o(125),l=o(28);e.exports=function(e){var t,o,n=this.options;if(null==e)e={};else{if("object"!=typeof e)throw new Error("Invalid value `"+e+"` for setting `options`");e=r(e)}for(o in a)u[typeof a[o]](e,o,n[o],c[o]);return(t=e.ruleRepetition)&&t<3&&d(t,"options.ruleRepetition"),this.encode=function(e){var t={};return"false"===e?l:("true"===e&&(t.useNamedReferences=!0),"escape"===e&&(t.escapeOnly=!0,t.useNamedReferences=!0),function(e){return i(e,t)})}(String(e.entities)),this.escape=s(e),this.options=e,this};var c={entities:{true:!0,false:!0,numbers:!0,escape:!0},bullet:{"*":!0,"-":!0,"+":!0},rule:{"-":!0,_:!0,"*":!0},listItemIndent:{tab:!0,mixed:!0,1:!0},emphasis:{_:!0,"*":!0},strong:{_:!0,"*":!0},fence:{"`":!0,"~":!0}},u={boolean:function(e,t,o){var n=e[t];null==n&&(n=o),"boolean"!=typeof n&&d(n,"options."+t),e[t]=n},string:function(e,t,o,n){var r=e[t];null==r&&(r=o),(r=String(r))in n||d(r,"options."+t),e[t]=r},number:function(e,t,o){var n=e[t];null==n&&(n=o),isNaN(n)&&d(n,"options."+t),e[t]=n},function:function(e,t,o){var n=e[t];null==n&&(n=o),"function"!=typeof n&&d(n,"options."+t),e[t]=n}};function d(e,t){throw new Error("Invalid value `"+e+"` for setting `"+t+"`")}},function(e,t,o){"use strict";var i=o(28);e.exports=function(e,t){var o=e.encode,n=e.escape,r=e.enterLink();return"shortcut"!==t.referenceType&&"collapsed"!==t.referenceType?r:(e.escape=i,e.encode=i,function(){e.encode=o,e.escape=n,r()})}},function(e,t,o){"use strict";var n=o(0),r=o(35);function i(e,t){this.inLink=!1,this.inTable=!1,this.tree=e,this.file=t,this.options=n(this.options),this.setOptions({})}var a=(e.exports=i).prototype;a.enterLink=r("inLink",!1),a.enterTable=r("inTable",!1),a.enterLinkReference=o(127),a.options=o(27),a.setOptions=o(126),a.compile=o(123),a.visit=o(121),a.all=o(120),a.block=o(119),a.visitOrderedItems=o(118),a.visitUnorderedItems=o(117),a.visitors={root:o(116),text:o(115),heading:o(114),paragraph:o(113),blockquote:o(112),list:o(111),listItem:o(110),inlineCode:o(109),code:o(108),html:o(107),thematicBreak:o(106),strong:o(105),emphasis:o(104),break:o(103),delete:o(102),link:o(101),linkReference:o(100),imageReference:o(98),definition:o(97),image:o(96),footnote:o(95),footnoteReference:o(94),footnoteDefinition:o(93),table:o(92),tableCell:o(90)}},function(e,t,o){"use strict";var n=o(36),r=o(0),i=o(128);function a(e){var t=n(i);t.prototype.options=r(t.prototype.options,this.data("settings"),e),this.Compiler=t}(e.exports=a).Compiler=i},function(e,t,o){"use strict";e.exports=function(n,e,t){var o,r,i,a,s,l,c,u,d,p;if(t)return!0;for(o=this.inlineMethods,a=o.length,r=this.inlineTokenizers,i=-1,d=e.length;++i<a;)"text"!==(u=o[i])&&r[u]&&((c=r[u].locator)||n.file.fail("Missing locator: `"+u+"`"),-1!==(l=c.call(this,e,1))&&l<d&&(d=l));s=e.slice(0,d),p=n.now(),this.decode(s,p,function(e,t,o){n(o||e)({type:"text",value:e})})}},function(e,t,o){"use strict";e.exports=function(e,t){for(var o=e.indexOf("\n",t);t<o&&" "===e.charAt(o-1);)o--;return o}},function(e,t,o){"use strict";var n=o(131);(e.exports=r).locator=n;var s=" ",l="\n",c=2;function r(e,t,o){for(var n,r=t.length,i=-1,a="";++i<r;){if((n=t.charAt(i))===l){if(i<c)return;return!!o||e(a+=n)({type:"break"})}if(n!==s)return;a+=n}}},function(e,t,o){"use strict";e.exports=function(e,t){return e.indexOf("`",t)}},function(e,t,o){"use strict";var f=o(2),n=o(133);(e.exports=r).locator=n;var m="`";function r(e,t,o){for(var n,r,i,a,s,l,c,u,d=t.length,p=0,h="",g="";p<d&&t.charAt(p)===m;)h+=m,p++;if(h){for(s=h,a=p,h="",u=t.charAt(p),i=0;p<d;){if(l=u,u=t.charAt(p+1),l===m?(i++,g+=l):(i=0,h+=l),i&&u!==m){if(i===a){s+=h+g,c=!0;break}h+=g,g=""}p++}if(!c){if(a%2!=0)return;h=""}if(o)return!0;for(r=n="",d=h.length,p=-1;++p<d;)l=h.charAt(p),f(l)?r+=l:(r&&(n&&(n+=r),r=""),n+=l);return e(s)({type:"inlineCode",value:n})}}},function(e,t,o){"use strict";e.exports=function(e,t){return e.indexOf("~~",t)}},function(e,t,o){"use strict";var u=o(2),n=o(135);(e.exports=r).locator=n;var d="~",p="~~";function r(e,t,o){var n,r,i,a="",s="",l="",c="";if(this.options.gfm&&t.charAt(0)===d&&t.charAt(1)===d&&!u(t.charAt(2)))for(n=1,r=t.length,(i=e.now()).column+=2,i.offset+=2;++n<r;){if(!((a=t.charAt(n))!==d||s!==d||l&&u(l)))return!!o||e(p+c+p)({type:"delete",children:this.tokenizeInline(c,i)});c+=s,l=s,s=a}}},function(e,t,o){"use strict";e.exports=function(e,t){var o=e.indexOf("*",t),n=e.indexOf("_",t);return-1===n?o:-1===o?n:n<o?n:o}},function(e,t,o){"use strict";e.exports=function(e){return r.test("number"==typeof e?n(e):e.charAt(0))};var n=String.fromCharCode,r=/\w/},function(e,t,o){"use strict";var p=o(5),h=o(138),g=o(2),n=o(137);(e.exports=r).locator=n;var f="*",m="_",y="\\";function r(e,t,o){var n,r,i,a,s,l,c,u=0,d=t.charAt(u);if(!(d!==f&&d!==m||(r=this.options.pedantic,i=s=d,l=t.length,u++,d=a="",r&&g(t.charAt(u)))))for(;u<l;){if(c=d,!((d=t.charAt(u))!==i||r&&g(c))){if((d=t.charAt(++u))!==i){if(!p(a)||c===i)return;if(r||i!==m||!h(d))return!!o||((n=e.now()).column++,n.offset++,e(s+a+i)({type:"emphasis",children:this.tokenizeInline(a,n)}));a+=i;continue}a+=i}r||d!==y||(a+=d,d=t.charAt(++u)),a+=d,u++}}},function(e,t,o){"use strict";e.exports=function(e,t){var o=e.indexOf("**",t),n=e.indexOf("__",t);return-1===n?o:-1===o?n:n<o?n:o}},function(e,t,o){"use strict";var p=o(5),h=o(2),n=o(140);(e.exports=r).locator=n;var g="\\",f="*",m="_";function r(e,t,o){var n,r,i,a,s,l,c,u=0,d=t.charAt(u);if(!(d!==f&&d!==m||t.charAt(++u)!==d||(r=this.options.pedantic,s=(i=d)+i,l=t.length,u++,d=a="",r&&h(t.charAt(u)))))for(;u<l;){if(c=d,!((d=t.charAt(u))!==i||t.charAt(u+1)!==i||r&&h(c))&&(d=t.charAt(u+2))!==i){if(!p(a))return;return!!o||((n=e.now()).column+=2,n.offset+=2,e(s+a+s)({type:"strong",children:this.tokenizeInline(a,n)}))}r||d!==g||(a+=d,d=t.charAt(++u)),a+=d,u++}}},function(e,t,o){"use strict";var v=o(2),n=o(29),b=o(16);(e.exports=r).locator=n;var E="link",T="image",S="footnote",k="shortcut",C="collapsed",A="full",O=" ",w="!",B="[",I="\\",R="]",N="^";function r(e,t,o){var n,r,i,a,s,l,c,u,d=this.options.commonmark,p=t.charAt(0),h=0,g=t.length,f="",m="",y=E,_=k;if(p===w&&(y=T,m=p,p=t.charAt(++h)),p===B){if(h++,m+=p,l="",this.options.footnotes&&t.charAt(h)===N){if(y===T)return;m+=N,h++,y=S}for(u=0;h<g;){if((p=t.charAt(h))===B)c=!0,u++;else if(p===R){if(!u)break;u--}p===I&&(l+=I,p=t.charAt(++h)),l+=p,h++}if(n=f=l,(p=t.charAt(h))===R){if(h++,f+=p,l="",!d)for(;h<g&&(p=t.charAt(h),v(p));)l+=p,h++;if(p=t.charAt(h),y!==S&&p===B){for(r="",l+=p,h++;h<g&&(p=t.charAt(h))!==B&&p!==R;)p===I&&(r+=I,p=t.charAt(++h)),r+=p,h++;(p=t.charAt(h))===R?(_=r?A:C,l+=r+p,h++):r="",f+=l,l=""}else{if(!n)return;r=n}if(_===A||!c)return f=m+f,y===E&&this.inLink?null:!!o||(y===S&&-1!==n.indexOf(O)?e(f)({type:S,children:this.tokenizeInline(n,e.now())}):((i=e.now()).column+=m.length,i.offset+=m.length,a={type:y+"Reference",identifier:b(r=_===A?r:n),label:r},y!==E&&y!==T||(a.referenceType=_),y===E?(s=this.enterLink(),a.children=this.tokenizeInline(n,i),s()):y===T&&(a.alt=this.decode.raw(this.unescape(n),i)||null),e(f)(a)))}}}},function(e,t,o){"use strict";var O=o(2),n=o(29);(e.exports=r).locator=n;var w="\n",B="!",I='"',R="'",N="(",P=")",L="<",x=">",D="[",M="\\",U="]",F="`";function r(e,t,o){var n,r,i,a,s,l,c,u,d,p,h,g,f,m,y,_,v,b,E="",T=0,S=t.charAt(0),k=this.options.pedantic,C=this.options.commonmark,A=this.options.gfm;if(S===B&&(u=!0,E=S,S=t.charAt(++T)),S===D&&(u||!this.inLink)){for(E+=S,m="",T++,h=t.length,f=0,(_=e.now()).column+=T,_.offset+=T;T<h;){if(l=S=t.charAt(T),S===F){for(r=1;t.charAt(T+1)===F;)l+=S,T++,r++;i?i<=r&&(i=0):i=r}else if(S===M)T++,l+=t.charAt(T);else if(i&&!A||S!==D){if((!i||A)&&S===U){if(!f){if(!k)for(;T<h&&(S=t.charAt(T+1),O(S));)l+=S,T++;if(t.charAt(T+1)!==N)return;l+=N,n=!0,T++;break}f--}}else f++;m+=l,l="",T++}if(n){for(E+=(d=m)+l,T++;T<h&&(S=t.charAt(T),O(S));)E+=S,T++;if(m="",a=E,(S=t.charAt(T))===L){for(T++,a+=L;T<h&&(S=t.charAt(T))!==x;){if(C&&S===w)return;m+=S,T++}if(t.charAt(T)!==x)return;E+=L+m+x,y=m,T++}else{for(S=null,l="";T<h&&(S=t.charAt(T),!l||!(S===I||S===R||C&&S===N));){if(O(S)){if(!k)break;l+=S}else{if(S===N)f++;else if(S===P){if(0===f)break;f--}m+=l,l="",S===M&&(m+=M,S=t.charAt(++T)),m+=S}T++}T=(E+=y=m).length}for(m="";T<h&&(S=t.charAt(T),O(S));)m+=S,T++;if(S=t.charAt(T),E+=m,m&&(S===I||S===R||C&&S===N))if(T++,m="",p=S===N?P:S,s=E+=S,C){for(;T<h&&(S=t.charAt(T))!==p;)S===M&&(m+=M,S=t.charAt(++T)),T++,m+=S;if((S=t.charAt(T))!==p)return;for(E+=(g=m)+S,T++;T<h&&(S=t.charAt(T),O(S));)E+=S,T++}else for(l="";T<h;){if((S=t.charAt(T))===p)c&&(m+=p+l,l=""),c=!0;else if(c){if(S===P){E+=m+p+l,g=m;break}O(S)?l+=S:(m+=p+l+S,l="",c=!1)}else m+=S;T++}if(t.charAt(T)===P)return!!o||(E+=P,y=this.decode.raw(this.unescape(y),e(a).test().end,{nonTerminated:!1}),g&&(s=e(s).test().end,g=this.decode.raw(this.unescape(g),s)),b={type:u?"image":"link",title:g||null,url:y},u?b.alt=this.decode.raw(this.unescape(d),_)||null:(v=this.enterLink(),b.children=this.tokenizeInline(d,_),v()),e(E)(b))}}}},function(e,t,o){"use strict";var a=o(38),n=o(30),s=o(31).tag;(e.exports=r).locator=n;var l="<",c="?",u="!",d="/",p=/^<a /i,h=/^<\/a>/i;function r(e,t,o){var n,r,i=t.length;if(!(t.charAt(0)!==l||i<3)&&(n=t.charAt(1),(a(n)||n===c||n===u||n===d)&&(r=t.match(s))))return!!o||(r=r[0],!this.inLink&&p.test(r)?this.inLink=!0:this.inLink&&h.test(r)&&(this.inLink=!1),e(r)({type:"html",value:r}))}},function(e,t,o){"use strict";e.exports=function(e,t){var o,n=a.length,r=-1,i=-1;if(!this.options.gfm)return-1;for(;++r<n;)-1!==(o=e.indexOf(a[r],t))&&(o<i||-1===i)&&(i=o);return i};var a=["https://","http://","mailto:"]},function(e,t,o){"use strict";var m=o(9),y=o(2),n=o(145);(e.exports=r).locator=n,r.notInLink=!0;var _='"',v="'",b="(",E=")",T=",",S=".",k=":",C=";",A="<",O="@",w="[",B="]",I="mailto:",R=["http://","https://",I],N=R.length;function r(e,t,o){var n,r,i,a,s,l,c,u,d,p,h,g,f;if(this.options.gfm){for(n="",a=-1;++a<N;)if(l=R[a],(c=t.slice(0,l.length)).toLowerCase()===l){n=c;break}if(n){for(a=n.length,u=t.length,d="",p=0;a<u&&(i=t.charAt(a),!y(i)&&i!==A)&&(i!==S&&i!==T&&i!==k&&i!==C&&i!==_&&i!==v&&i!==E&&i!==B||(h=t.charAt(a+1))&&!y(h))&&(i!==b&&i!==w||p++,i!==E&&i!==B||!(--p<0));)d+=i,a++;if(d){if(r=n+=d,l===I){if(-1===(s=d.indexOf(O))||s===u-1)return;r=r.substr(I.length)}return!!o||(f=this.enterLink(),g=this.inlineTokenizers,this.inlineTokenizers={text:g.text},r=this.tokenizeInline(r,e.now()),this.inlineTokenizers=g,f(),e(n)({type:"link",title:null,url:m(n,{nonTerminated:!1}),children:r}))}}}}},function(e,t,o){"use strict";var g=o(2),f=o(9),n=o(30);(e.exports=r).locator=n,r.notInLink=!0;var m="<",y=">",_="@",v="/",b="mailto:",E=b.length;function r(e,t,o){var n,r,i,a,s,l="",c=t.length,u=0,d="",p=!1,h="";if(t.charAt(0)===m){for(u++,l=m;u<c&&(n=t.charAt(u),!(g(n)||n===y||n===_||":"===n&&t.charAt(u+1)===v));)d+=n,u++;if(d){if(h+=d,d="",h+=n=t.charAt(u),u++,n===_)p=!0;else{if(":"!==n||t.charAt(u+1)!==v)return;h+=v,u++}for(;u<c&&(n=t.charAt(u),!g(n)&&n!==y);)d+=n,u++;if(n=t.charAt(u),d&&n===y)return!!o||(i=h+=d,l+=h+n,(r=e.now()).column++,r.offset++,p&&(h.slice(0,E).toLowerCase()===b?(i=i.substr(E),r.column+=E,r.offset+=E):h=b+h),a=this.inlineTokenizers,this.inlineTokenizers={text:a.text},s=this.enterLink(),i=this.tokenizeInline(i,r),this.inlineTokenizers=a,s(),e(l)({type:"link",title:null,url:f(h,{nonTerminated:!1}),children:i}))}}}},function(e,t,o){"use strict";e.exports=function(e,t){return e.indexOf("\\",t)}},function(e,t,o){"use strict";var n=o(148);(e.exports=r).locator=n;var i="\n",a="\\";function r(e,t,o){var n,r;if(t.charAt(0)===a&&(n=t.charAt(1),-1!==this.escape.indexOf(n)))return!!o||(r=n===i?{type:"break"}:{type:"text",value:n},e(a+n)(r))}},function(e,t,o){"use strict";var f=o(5),m=o(8),y=o(18),_=o(17);e.exports=function(e,t,o){for(var n,r,i,a,s,l=this.options,c=l.commonmark,u=l.gfm,d=this.blockTokenizers,p=this.interruptParagraph,h=t.indexOf(b),g=t.length;h<g;){if(-1===h){h=g;break}if(t.charAt(h+1)===b)break;if(c){for(a=0,n=h+1;n<g;){if((i=t.charAt(n))===v){a=T;break}if(i!==E)break;a++,n++}if(T<=a&&i!==b){h=t.indexOf(b,h+1);continue}}if(r=t.slice(h+1),_(p,d,this,[e,r,!0]))break;if(d.list.call(this,e,r,!0)&&(this.inList||c||u&&!m(f.left(r).charAt(0))))break;if(n=h,-1!==(h=t.indexOf(b,h+1))&&""===f(t.slice(n,h))){h=n;break}}return r=t.slice(0,h),""===f(r)?(e(r),null):!!o||(s=e.now(),r=y(r),e(r)({type:"paragraph",children:this.tokenizeInline(r,s)}))};var v="\t",b="\n",E=" ",T=4},function(e,t,o){"use strict";var O=o(2);e.exports=function(e,t,o){var n,r,i,a,s,l,c,u,d,p,h,g,f,m,y,_,v,b,E,T,S,k,C,A;if(this.options.gfm){for(b=n=0,l=t.length+1,c=[];n<l;){if(k=t.indexOf(B,n),C=t.indexOf(x,n+1),-1===k&&(k=t.length),-1===C||k<C){if(b<M)return;break}c.push(t.slice(n,k)),b++,n=k+1}for(a=c.join(B),r=c.splice(1,1)[0]||[],n=0,l=r.length,b--,i=!1,h=[];n<l;){if((d=r.charAt(n))===x){if(p=null,!1===i){if(!1===A)return}else h.push(i),i=!1;A=!1}else if(d===R)p=!0,i=i||null;else if(d===N)i=i===U?F:p&&null===i?H:U;else if(!O(d))return;n++}if(!1!==i&&h.push(i),!(h.length<D)){if(o)return!0;for(v=-1,T=[],S=e(a).reset({type:"table",align:h,children:T});++v<b;){for(E=c[v],s={type:"tableRow",children:[]},v&&e(B),e(E).reset(s,S),l=E.length+1,n=0,f=!(g=u=""),y=m=null;n<l;)if((d=E.charAt(n))!==w&&d!==I){if(""===d||d===x)if(f)e(d);else{if(d&&y){u+=d,n++;continue}!g&&!d||f||(a=g,1<u.length&&(u=d?(a+=u.slice(0,u.length-1),u.charAt(u.length-1)):(a+=u,"")),_=e.now(),e(a)({type:"tableCell",children:this.tokenizeInline(g,_)},s)),e(u+d),g=u=""}else if(u&&(g+=u,u=""),g+=d,d===P&&n!==l-2&&(g+=E.charAt(n+1),n++),d===L){for(m=1;E.charAt(n+1)===d;)g+=d,n++,m++;y?y<=m&&(y=0):y=m}f=!1,n++}else g?u+=d:e(d),n++;v||e(B+r)}return S}}};var w="\t",B="\n",I=" ",R="-",N=":",P="\\",L="`",x="|",D=1,M=2,U="left",F="center",H="right"},function(e,t,o){"use strict";var m=o(2),y=o(16);(e.exports=r).notInList=!0,r.notInBlock=!0;var _='"',v="'",b="\\",E="\n",T="\t",S=" ",k="[",C="]",A="(",O=")",w=":",B="<",n=">";function r(e,t,o){for(var n,r,i,a,s,l,c,u,d=this.options.commonmark,p=0,h=t.length,g="";p<h&&((a=t.charAt(p))===S||a===T);)g+=a,p++;if((a=t.charAt(p))===k){for(p++,g+=a,i="";p<h&&(a=t.charAt(p))!==C;)a===b&&(i+=a,p++,a=t.charAt(p)),i+=a,p++;if(i&&t.charAt(p)===C&&t.charAt(p+1)===w){for(p=(g+=(l=i)+C+w).length,i="";p<h&&((a=t.charAt(p))===T||a===S||a===E);)g+=a,p++;if(i="",n=g,(a=t.charAt(p))===B){for(p++;p<h&&I(a=t.charAt(p));)i+=a,p++;if((a=t.charAt(p))===I.delimiter)g+=B+i+a,p++;else{if(d)return;p-=i.length+1,i=""}}if(!i){for(;p<h&&(f=a=t.charAt(p))!==k&&f!==C&&!m(f);)i+=a,p++;g+=i}if(i){for(c=i,i="";p<h&&((a=t.charAt(p))===T||a===S||a===E);)i+=a,p++;if(s=null,(a=t.charAt(p))===_?s=_:a===v?s=v:a===A&&(s=O),s){if(!i)return;for(p=(g+=i+a).length,i="";p<h&&(a=t.charAt(p))!==s;){if(a===E){if(p++,(a=t.charAt(p))===E||a===s)return;i+=E}i+=a,p++}if((a=t.charAt(p))!==s)return;r=g,g+=i+a,p++,u=i,i=""}else i="",p=g.length;for(;p<h&&((a=t.charAt(p))===T||a===S);)g+=a,p++;return(a=t.charAt(p))&&a!==E?void 0:!!o||(n=e(n).test().end,c=this.decode.raw(this.unescape(c),n,{nonTerminated:!1}),u&&(r=e(r).test().end,u=this.decode.raw(this.unescape(u),r)),e(g)({type:"definition",identifier:y(l),label:l,title:u||null,url:c}))}}}var f}function I(e){return e!==n&&e!==k&&e!==C}I.delimiter=n},function(e,t,o){"use strict";var m=o(2),y=o(16);(e.exports=n).notInList=!0,n.notInBlock=!0;var _="\\",v="\n",b="\t",E=" ",T="[",S="]",k="^",C=":",A=/^( {4}|\t)?/gm;function n(e,t,o){var n,r,i,a,s,l,c,u,d,p,h,g,f=this.offset;if(this.options.footnotes){for(n=0,r=t.length,i="",a=e.now(),s=a.line;n<r&&(d=t.charAt(n),m(d));)i+=d,n++;if(t.charAt(n)===T&&t.charAt(n+1)===k){for(n=(i+=T+k).length,c="";n<r&&(d=t.charAt(n))!==S;)d===_&&(c+=d,n++,d=t.charAt(n)),c+=d,n++;if(c&&t.charAt(n)===S&&t.charAt(n+1)===C){if(o)return!0;for(n=(i+=(p=c)+S+C).length;n<r&&((d=t.charAt(n))===b||d===E);)i+=d,n++;for(a.column+=i.length,a.offset+=i.length,u=l=c="";n<r;){if((d=t.charAt(n))===v){for(u=d,n++;n<r&&(d=t.charAt(n))===v;)u+=d,n++;for(c+=u,u="";n<r&&(d=t.charAt(n))===E;)u+=d,n++;if(0===u.length)break;c+=u}c&&(l+=c,c=""),l+=d,n++}return i+=l,l=l.replace(A,function(e){return f[s]=(f[s]||0)+e.length,s++,""}),h=e(i),g=this.enterBlock(),l=this.tokenizeBlock(l,a),g(),h({type:"footnoteDefinition",identifier:y(p),label:p,children:l})}}}}},function(e,t,o){"use strict";var n=o(31).openCloseTag;e.exports=function(e,t,o){for(var n,r,i,a,s,l,c,u=this.options.blocks.join("|"),d=new RegExp("^</?("+u+")(?=(\\s|/?>|$))","i"),p=t.length,h=0,g=[[v,b,!0],[E,T,!0],[S,k,!0],[C,A,!0],[O,w,!0],[d,B,!0],[I,B,!1]];h<p&&((a=t.charAt(h))===f||a===m);)h++;if(t.charAt(h)===_){for(n=-1===(n=t.indexOf(y,h+1))?p:n,r=t.slice(h,n),i=-1,s=g.length;++i<s;)if(g[i][0].test(r)){l=g[i];break}if(l){if(o)return l[2];if(h=n,!l[1].test(r))for(;h<p;){if(n=-1===(n=t.indexOf(y,h+1))?p:n,r=t.slice(h+1,n),l[1].test(r)){r&&(h=n);break}h=n}return c=t.slice(0,h),e(c)({type:"html",value:c})}}};var f="\t",m=" ",y="\n",_="<",v=/^<(script|pre|style)(?=(\s|>|$))/i,b=/<\/(script|pre|style)>/i,E=/^<!--/,T=/-->/,S=/^<\?/,k=/\?>/,C=/^<![A-Za-z]/,A=/>/,O=/^<!\[CDATA\[/,w=/\]\]>/,B=/^$/,I=new RegExp(n.source+"\\s*$")},function(e,t,o){"use strict";e.exports=function(e,t,o){for(var n,r,i,a,s,l=e.now(),c=t.length,u=-1,d="";++u<c;){if((i=t.charAt(u))!==g||y<=u){u--;break}d+=i}for(r=n="";++u<c;){if((i=t.charAt(u))===p){u--;break}i===g||i===h?r+=i:(n+=r+i,r="")}if(l.column+=d.length,l.offset+=d.length,d+=n+r,i=t.charAt(++u),a=t.charAt(++u),i===p&&(a===f||a===m)){for(d+=i,s=(r=a)===f?_:v;++u<c;){if((i=t.charAt(u))!==a){if(i!==p)return;u--;break}r+=i}return!!o||e(d+r)({type:"heading",depth:s,children:this.tokenizeInline(n,l)})}};var p="\n",h="\t",g=" ",f="=",m="-",y=3,_=1,v=2},function(e,t,o){"use strict";var u=o(5),d=o(3),p=o(32);e.exports=function(e,t){var o,n,r,i,a=e.split(g),s=a.length+1,l=1/0,c=[];for(a.unshift(d(f,t)+m);s--;)if(n=p(a[s]),c[s]=n.stops,0!==u(a[s]).length){if(!n.indent){l=1/0;break}0<n.indent&&n.indent<l&&(l=n.indent)}if(l!==1/0)for(s=a.length;s--;){for(r=c[s],o=l;o&&!(o in r);)o--;i=0!==u(a[s]).length&&l&&o!==l?h:"",a[s]=i+a[s].slice(o in r?r[o]+1:0)}return a.shift(),a.join(g)};var h="\t",g="\n",f=" ",m="!"},function(e,t,o){"use strict";var L=o(5),p=o(3),x=o(8),h=o(32),g=o(156),D=o(17);e.exports=function(e,t,o){for(var n,r,i,a,s,l,c,u,d,p,h,g,f,m,y,_,v,b,E,T,S,k,C=this.options.commonmark,A=this.options.pedantic,O=this.blockTokenizers,w=this.interruptList,B=0,I=t.length,R=null,N=0,P=!1;B<I;){if((i=t.charAt(B))===W)N+=q-N%q;else{if(i!==G)break;N++}B++}if(!(q<=N)){if((i=t.charAt(B))===M||i===F||i===H)a=i,r=!1;else{for(r=!0,n="";B<I&&(i=t.charAt(B),x(i));)n+=i,B++;if(i=t.charAt(B),!n||!(i===j||C&&i===z))return;R=parseInt(n,10),a=i}if((i=t.charAt(++B))===G||i===W||!(A||i!==V&&""!==i)){if(o)return!0;for(B=0,f=[],m=[],y=[];B<I;){for(s=t.indexOf(V,B),k=c=!1,-1===s&&(s=I),S=(l=B)+q,N=0;B<I;){if((i=t.charAt(B))===W)N+=q-N%q;else{if(i!==G)break;N++}B++}if(q<=N&&(k=!0),_&&N>=_.indent&&(k=!0),i=t.charAt(B),u=null,!k){if(i===M||i===F||i===H)u=i,B++,N++;else{for(n="";B<I&&(i=t.charAt(B),x(i));)n+=i,B++;i=t.charAt(B),B++,n&&(i===j||C&&i===z)&&(u=i,N+=n.length+1)}if(u)if((i=t.charAt(B))===W)N+=q-N%q,B++;else if(i===G){for(S=B+q;B<S&&t.charAt(B)===G;)B++,N++;B===S&&t.charAt(B)===G&&(B-=q-1,N-=q-1)}else i!==V&&""!==i&&(u=null)}if(u){if(!A&&a!==u)break;c=!0}else C||k||t.charAt(l)!==G?C&&_&&(k=N>=_.indent||q<N):k=!0,c=!1,B=l;if(p=t.slice(l,s),d=l===B?p:t.slice(B,s),(u===M||u===U||u===H)&&O.thematicBreak.call(this,e,p,!0))break;if(h=g,g=!c&&!L(d).length,k&&_)_.value=_.value.concat(y,p),m=m.concat(y,p),y=[];else if(c)0!==y.length&&(P=!0,_.value.push(""),_.trail=y.concat()),_={value:[p],indent:N,trail:[]},f.push(_),m=m.concat(y,p),y=[];else if(g){if(h&&!C)break;y.push(p)}else{if(h)break;if(D(w,O,this,[e,p,!0]))break;_.value=_.value.concat(y,p),m=m.concat(y,p),y=[]}B=s+1}for(E=e(m.join(V)).reset({type:"list",ordered:r,start:R,spread:P,children:[]}),v=this.enterList(),b=this.enterBlock(),B=-1,I=f.length;++B<I;)_=f[B].value.join(V),T=e.now(),e(_)(K(this,_,T),E),_=f[B].trail.join(V),B!==I-1&&(_+=V),e(_);return v(),b(),E}}};var M="*",U="_",F="+",H="-",j=".",G=" ",V="\n",W="\t",z=")",s="x",q=4,l=/\n\n(?!\s*$)/,c=/^\[([ \t]|x|X)][ \t]/,f=/^([ \t]*)([*+-]|\d+[.)])( {1,4}(?! )| |\t|$|(?=\n))([^\n]*)/,u=/^([ \t]*)([*+-]|\d+[.)])([ \t]+)/,d=/^( {1,4}|\t)?/gm;function K(e,t,o){var n,r,i=e.offset,a=null;return t=(e.options.pedantic?function(e,t,o){var n=e.offset,r=o.line;return t=t.replace(u,i),r=o.line,t.replace(d,i);function i(e){return n[r]=(n[r]||0)+e.length,r++,""}}:function(e,t,o){var i,a,s,n,r,l,c,u=e.offset,d=o.line;for(n=(t=t.replace(f,function(e,t,o,n,r){return a=t+o+n,s=r,Number(o)<10&&a.length%2==1&&(o=G+o),(i=t+p(G,o.length)+n)+s})).split(V),(r=g(t,h(i).indent).split(V))[0]=s,u[d]=(u[d]||0)+a.length,d++,l=0,c=n.length;++l<c;)u[d]=(u[d]||0)+n[l].length-r[l].length,d++;return r.join(V)}).apply(null,arguments),e.options.gfm&&(n=t.match(c))&&(r=n[0].length,a=n[1].toLowerCase()===s,i[o.line]+=r,t=t.slice(r)),{type:"listItem",spread:l.test(t),checked:a,children:e.tokenizeBlock(t,o)}}},function(e,t,o){"use strict";e.exports=function(e,t,o){for(var n,r,i,a,s=-1,l=t.length+1,c="";++s<l&&((n=t.charAt(s))===u||n===p);)c+=n;if(n===h||n===g||n===f)for(c+=r=n,i=1,a="";++s<l;)if((n=t.charAt(s))===r)i++,c+=a+r,a="";else{if(n!==p)return m<=i&&(!n||n===d)?(c+=a,!!o||e(c)({type:"thematicBreak"})):void 0;a+=n}};var u="\t",d="\n",p=" ",h="*",g="-",f="_",m=3},function(e,t,o){"use strict";e.exports=function(e,t,o){for(var n,r,i,a=this.options.pedantic,s=t.length+1,l=-1,c=e.now(),u="",d="";++l<s;){if((n=t.charAt(l))!==g&&n!==h){l--;break}u+=n}for(i=0;++l<=s;){if((n=t.charAt(l))!==f){l--;break}u+=n,i++}if(!(m<i)&&i&&(a||t.charAt(l+1)!==f)){for(s=t.length+1,r="";++l<s;){if((n=t.charAt(l))!==g&&n!==h){l--;break}r+=n}if(a||0!==r.length||!n||n===p){if(o)return!0;for(u+=r,d=r="";++l<s&&(n=t.charAt(l))&&n!==p;)if(n===g||n===h||n===f){for(;n===g||n===h;)r+=n,n=t.charAt(++l);if(a||!d||r||n!==f){for(;n===f;)r+=n,n=t.charAt(++l);for(;n===g||n===h;)r+=n,n=t.charAt(++l);l--}else d+=n}else d+=r+n,r="";return c.column+=u.length,c.offset+=u.length,e(u+=d+r)({type:"heading",depth:i,children:this.tokenizeInline(d,c)})}}};var p="\n",h="\t",g=" ",f="#",m=6},function(e,t,o){"use strict";var T=o(5),S=o(17);e.exports=function(e,t,o){for(var n,r,i,a,s,l,c,u,d,p=this.offset,h=this.blockTokenizers,g=this.interruptBlockquote,f=e.now(),m=f.line,y=t.length,_=[],v=[],b=[],E=0;E<y&&((r=t.charAt(E))===A||r===C);)E++;if(t.charAt(E)===O){if(o)return!0;for(E=0;E<y;){for(a=t.indexOf(k,E),c=E,u=!1,-1===a&&(a=y);E<y&&((r=t.charAt(E))===A||r===C);)E++;if(t.charAt(E)===O?(E++,u=!0,t.charAt(E)===A&&E++):E=c,s=t.slice(E,a),!u&&!T(s)){E=c;break}if(!u&&(i=t.slice(E),S(g,h,this,[e,i,!0])))break;l=c===E?s:t.slice(c,a),b.push(E-c),_.push(l),v.push(s),E=a+1}for(E=-1,y=b.length,n=e(_.join(k));++E<y;)p[m]=(p[m]||0)+b[E],m++;return d=this.enterBlock(),v=this.tokenizeBlock(v.join(k),f),d(),n({type:"blockquote",children:v})}};var k="\n",C="\t",A=" ",O=">"},function(e,t,o){"use strict";var b=o(18);e.exports=function(e,t,o){var n,r,i,a,s,l,c,u,d,p,h,g,f,m=this.options.gfm,y=t.length+1,_=0,v="";if(m){for(;_<y&&((i=t.charAt(_))===S||i===T);)v+=i,_++;if(g=_,(i=t.charAt(_))===k||i===C){for(_++,n=1,v+=r=i;_<y&&(i=t.charAt(_))===r;)v+=i,n++,_++;if(!(n<A)){for(;_<y&&((i=t.charAt(_))===S||i===T);)v+=i,_++;for(c=a="";_<y&&(i=t.charAt(_))!==E&&i!==k&&i!==C;)i===S||i===T?c+=i:(a+=c+i,c=""),_++;if(!(i=t.charAt(_))||i===E){if(o)return!0;for((f=e.now()).column+=v.length,f.offset+=v.length,v+=a,a=this.decode.raw(this.unescape(a),f),c&&(v+=c),d=u=h=p=c="";_<y;)if(i=t.charAt(_),u+=p,d+=h,h=p="",i===E){for(u?(p+=i,h+=i):v+=i,c="",_++;_<y&&(i=t.charAt(_))===S;)c+=i,_++;if(p+=c,h+=c.slice(g),!(c.length>=O)){for(c="";_<y&&(i=t.charAt(_))===r;)c+=i,_++;if(p+=c,h+=c,!(c.length<n)){for(c="";_<y&&((i=t.charAt(_))===S||i===T);)p+=i,h+=i,_++;if(!i||i===E)break}}}else u+=i,h+=i,_++;for(v+=u+p,_=-1,y=a.length;++_<y;)if((i=a.charAt(_))===S||i===T)s||(s=a.slice(0,_));else if(s){l=a.slice(_);break}return e(v)({type:"code",lang:s||a||null,meta:l||null,value:b(d)})}}}}};var E="\n",T="\t",S=" ",k="~",C="`",A=3,O=4},function(e,t,o){"use strict";var n=o(3),p=o(18);e.exports=function(e,t,o){for(var n,r,i,a=-1,s=t.length,l="",c="",u="",d="";++a<s;)if(n=t.charAt(a),i)if(i=!1,l+=u,c+=d,d=u="",n===h)d=u=n;else for(l+=n,c+=n;++a<s;){if(!(n=t.charAt(a))||n===h){u=d=n;break}l+=n,c+=n}else if(n===f&&t.charAt(a+1)===n&&t.charAt(a+2)===n&&t.charAt(a+3)===n)u+=m,a+=3,i=!0;else if(n===g)u+=n,i=!0;else{for(r="";n===g||n===f;)r+=n,n=t.charAt(++a);if(n!==h)break;u+=r+n,d+=n}if(c)return!!o||e(l)({type:"code",lang:null,meta:null,value:p(c)})};var h="\n",g="\t",f=" ",m=n(f,4)},function(e,t,o){"use strict";var l=o(2);e.exports=function(e,t,o){var n,r,i,a,s=t.charAt(0);if(s===c){if(o)return!0;for(a=1,n=t.length,r=s,i="";a<n&&(s=t.charAt(a),l(s));)i+=s,s===c&&(r+=i,i=""),a++;e(r)}};var c="\n"},function(e,t,o){"use strict";var n=o(13);function r(e){delete e.position}function i(e){e.position=void 0}e.exports=function(e,t){return n(e,t?r:i),e}},function(e,t,o){"use strict";var r=o(0),i=o(164);e.exports=function(){var e,t=String(this.file),o={line:1,column:1,offset:0},n=r(o);return 65279===(t=t.replace(s,a)).charCodeAt(0)&&(t=t.slice(1),n.column++,n.offset++),e={type:"root",children:this.tokenizeBlock(t,n),position:{start:o,end:this.eof||r(o)}},this.options.position||i(e,!0),e};var a="\n",s=/\r\n|\r/g},function(e,t,o){"use strict";e.exports=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","iframe","legend","li","link","main","menu","menuitem","meta","nav","noframes","ol","optgroup","option","p","param","pre","section","source","title","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"]},function(e,t,o){"use strict";var r=o(0),i=o(34),a=o(33);e.exports=function(e){var t,o,n=this.options;if(null==e)e={};else{if("object"!=typeof e)throw new Error("Invalid value `"+e+"` for setting `options`");e=r(e)}for(t in a){if(null==(o=e[t])&&(o=n[t]),"blocks"!==t&&"boolean"!=typeof o||"blocks"===t&&"object"!=typeof o)throw new Error("Invalid value `"+o+"` for setting `options."+t+"`");e[t]=o}return this.options=e,this.escape=i(e),this}},function(e,t,o){"use strict";function v(e){var t,o;return"text"!==e.type||!e.position||(t=e.position.start,o=e.position.end,t.line!==o.line||o.column-t.column===e.value.length)}function b(e,t){return e.value+=t.value,e}function E(e,t){return this.options.commonmark?t:(e.children=e.children.concat(t.children),e)}e.exports=function(_){return function(s,e){var t,o,n,r,i,a,l=this,c=l.offset,u=[],d=l[_+"Methods"],p=l[_+"Tokenizers"],h=e.line,g=e.column;if(!s)return u;for(y.now=m,y.file=l.file,f("");s;){for(t=-1,o=d.length,i=!1;++t<o&&(r=d[t],!(n=p[r])||n.onlyAtStart&&!l.atStart||n.notInList&&l.inList||n.notInBlock&&l.inBlock||n.notInLink&&l.inLink||(a=s.length,n.apply(l,[y,s]),!(i=a!==s.length))););i||l.file.fail(new Error("Infinite loop"),y.now())}return l.eof=m(),u;function f(e){for(var t=-1,o=e.indexOf("\n");-1!==o;)h++,t=o,o=e.indexOf("\n",o+1);-1===t?g+=e.length:g=e.length-t,h in c&&(-1!==t?g+=c[h]:g<=c[h]&&(g=c[h]+1))}function m(){var e={line:h,column:g};return e.offset=l.toOffset(e),e}function y(t){var o=function(){var t=[],o=h+1;return function(){for(var e=h+1;o<e;)t.push((c[o]||0)+1),o++;return t}}(),n=function(){var s=m();return function(e,t){var o=e.position,n=o?o.start:s,r=[],i=o&&o.end.line,a=s.line;if(e.position=new function(e){this.start=e,this.end=m()}(n),o&&t&&o.indent){if(r=o.indent,i<a){for(;++i<a;)r.push((c[i]||0)+1);r.push(s.column)}t=r.concat(t)}return e.position.indent=t||[],e}}(),r=m();return function(e){s.substring(0,e.length)!==e&&l.file.fail(new Error("Incorrectly eaten value: please report this warning on https://git.io/vg5Ft"),m())}(t),i.reset=e,i.test=e.test=a,s=s.substring(t.length),f(t),o=o(),i;function i(e,t){return n(function(e,t){var o,n=t?t.children:u,r=n[n.length-1];return r&&e.type===r.type&&("text"===e.type||"blockquote"===e.type)&&v(r)&&v(e)&&(o="text"===e.type?b:E,e=o.call(l,r,e)),e!==r&&n.push(e),l.atStart&&0!==u.length&&l.exitStart(),e}(n(e),t),o)}function e(){var e=i.apply(null,arguments);return h=r.line,g=r.column,s=t+s,e}function a(){var e=n({});return h=r.line,g=r.column,s=t+s,e.position}}}}},function(e,t,o){"use strict";var n;e.exports=function(e){var t,o="&"+e+";";return(n=n||document.createElement("i")).innerHTML=o,(";"!==(t=n.textContent).slice(-1)||"semi"===e)&&t!==o&&t}},function(e){e.exports={0:"�",128:"€",130:"‚",131:"ƒ",132:"„",133:"…",134:"†",135:"‡",136:"ˆ",137:"‰",138:"Š",139:"‹",140:"Œ",142:"Ž",145:"‘",146:"’",147:"“",148:"”",149:"•",150:"–",151:"—",152:"˜",153:"™",154:"š",155:"›",156:"œ",158:"ž",159:"Ÿ"}},function(e,t,o){"use strict";var a=o(0),s=o(9);e.exports=function(r){return e.raw=function(e,t,o){return s(e,a(o,{position:n(t),warning:i}))},e;function n(e){for(var t=r.offset,o=e.line,n=[];++o&&o in t;)n.push((t[o]||0)+1);return{start:e,indent:n}}function e(e,t,o){s(e,{position:n(t),warning:i,text:o,reference:o,textContext:r,referenceContext:r})}function i(e,t,o){3!==o&&r.file.message(e,t)}}},function(e,t,o){"use strict";e.exports=function(a,s){return function(e){for(var t,o=0,n=e.indexOf(l),r=a[s],i=[];-1!==n;)i.push(e.slice(o,n)),o=n+1,(t=e.charAt(o))&&-1!==r.indexOf(t)||i.push(l),n=e.indexOf(l,o+1);return i.push(e.slice(o)),i.join("")}};var l="\\"},function(e,t,o){"use strict";e.exports=function(e){var t=function(e){for(var t=[],o=e.indexOf("\n");-1!==o;)t.push(o+1),o=e.indexOf("\n",o+1);return t.push(e.length+1),t}(String(e));return{toPosition:function(n){return function(e){var t=-1,o=n.length;if(e<0)return{};for(;++t<o;)if(n[t]>e)return{line:t+1,column:e-(n[t-1]||0)+1,offset:e};return{}}}(t),toOffset:function(n){return function(e){var t=e&&e.line,o=e&&e.column;return!isNaN(t)&&!isNaN(o)&&t-1 in n?(n[t-2]||0)+o-1||0:-1}}(t)}}},function(e,t,o){"use strict";var n=o(0),r=o(35),i=o(173),a=o(172),s=o(171),l=o(168);function c(e,t){this.file=t,this.offset={},this.options=n(this.options),this.setOptions({}),this.inList=!1,this.inBlock=!1,this.inLink=!1,this.atStart=!0,this.toOffset=i(t).toOffset,this.unescape=a(this,"escape"),this.decode=s(this)}var u=(e.exports=c).prototype;function d(e){var t,o=[];for(t in e)o.push(t);return o}u.setOptions=o(167),u.parse=o(165),u.options=o(33),u.exitStart=r("atStart",!0),u.enterList=r("inList",!1),u.enterLink=r("inLink",!1),u.enterBlock=r("inBlock",!1),u.interruptParagraph=[["thematicBreak"],["atxHeading"],["fencedCode"],["blockquote"],["html"],["setextHeading",{commonmark:!1}],["definition",{commonmark:!1}],["footnote",{commonmark:!1}]],u.interruptList=[["atxHeading",{pedantic:!1}],["fencedCode",{pedantic:!1}],["thematicBreak",{pedantic:!1}],["definition",{commonmark:!1}],["footnote",{commonmark:!1}]],u.interruptBlockquote=[["indentedCode",{commonmark:!0}],["fencedCode",{commonmark:!0}],["atxHeading",{commonmark:!0}],["setextHeading",{commonmark:!0}],["thematicBreak",{commonmark:!0}],["html",{commonmark:!0}],["list",{commonmark:!0}],["definition",{commonmark:!1}],["footnote",{commonmark:!1}]],u.blockTokenizers={newline:o(163),indentedCode:o(162),fencedCode:o(161),blockquote:o(160),atxHeading:o(159),thematicBreak:o(158),list:o(157),setextHeading:o(155),html:o(154),footnote:o(153),definition:o(152),table:o(151),paragraph:o(150)},u.inlineTokenizers={escape:o(149),autoLink:o(147),url:o(146),html:o(144),link:o(143),reference:o(142),strong:o(141),emphasis:o(139),deletion:o(136),code:o(134),break:o(132),text:o(130)},u.blockMethods=d(u.blockTokenizers),u.inlineMethods=d(u.inlineTokenizers),u.tokenizeBlock=l("block"),u.tokenizeInline=l("inline"),u.tokenizeFactory=l},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var o=function(){};o.prototype=t.prototype,e.prototype=new o,e.prototype.constructor=e}},function(e,t,o){"use strict";var n=o(36),r=o(0),i=o(174);function a(e){var t=this.data("settings"),o=n(i);o.prototype.options=r(o.prototype.options,t,e),this.Parser=o}(e.exports=a).Parser=i},function(e){e.exports={strip:["script"],clobberPrefix:"user-content-",clobber:["name","id"],ancestors:{li:["ol","ul"],tbody:["table"],tfoot:["table"],thead:["table"],td:["table"],th:["table"],tr:["table"]},protocols:{href:["http","https","mailto"],cite:["http","https"],src:["http","https"],longDesc:["http","https"]},tagNames:["h1","h2","h3","h4","h5","h6","h7","h8","br","b","i","strong","em","a","pre","code","img","tt","div","ins","del","sup","sub","p","ol","ul","table","thead","tbody","tfoot","blockquote","dl","dt","dd","kbd","q","samp","var","hr","ruby","rt","rp","li","tr","td","th","s","strike","summary","details"],attributes:{a:["href"],img:["src","longDesc"],div:["itemScope","itemType"],blockquote:["cite"],del:["cite"],ins:["cite"],q:["cite"],"*":["abbr","accept","acceptCharset","accessKey","action","align","alt","axis","border","cellPadding","cellSpacing","char","charoff","charSet","checked","clear","cols","colSpan","color","compact","coords","dateTime","dir","disabled","encType","htmlFor","frame","headers","height","hrefLang","hspace","isMap","id","label","lang","maxLength","media","method","multiple","name","nohref","noshade","nowrap","open","prompt","readOnly","rel","rev","rows","rowSpan","rules","scope","selected","shape","size","span","start","summary","tabIndex","target","title","type","useMap","valign","value","vspace","width","itemProp"]}}},function(e,t,o){"use strict";var u=o(0),r=o(177);e.exports=function(e,t){var o,n={type:"root",children:[]};return e&&"object"==typeof e&&e.type&&(o=c(u(r,t||{}),e,[]))?"length"in o?1===o.length?o[0]:(n.children=o,n):o:n};var p={}.hasOwnProperty,d={root:{children:n},doctype:function(e){return e.allowDoctypes?{name:i}:null},comment:function(e){return e.allowComments?{value:a}:null},element:{tagName:f,properties:function(e,t,o,n){var r,i,a,s,l=f(e,o.tagName,o,n),c=e.attributes,u=t||{},d={};for(i in r=p.call(c,l)?c[l]:[],r=[].concat(r,c["*"]),u)a=u[i],(-1!==r.indexOf(i)||4<(s=i).length&&"data"===s.slice(0,4).toLowerCase()&&-1!==r.indexOf("data*"))&&null!==(a=a&&"object"==typeof a&&"length"in a?h(e,a,i):g(e,a,i))&&void 0!==a&&(d[i]=a);return d},children:n},text:{value:a},"*":{data:s,position:s}};function c(e,t,o){var n,r,i,a,s=t&&t.type,l={type:t.type},c=!0;if(p.call(d,s))if("function"==typeof(n=d[s])&&(n=n(e,t)),n)for(a in r=u(n,d["*"]))!1===(i=r[a](e,t[a],t,o))?(c=!1,l[a]=t[a]):null!=i&&(l[a]=i);else c=!1;else c=!1;return c?l:l.children&&0!==l.children.length&&-1===e.strip.indexOf(l.tagName)?l.children:null}function n(e,t,o,n){var r,i=t||[],a=i.length||0,s=[],l=-1;for(n=n.concat(o.tagName);++l<a;)(r=c(e,i[l],n))&&("length"in r?s=s.concat(r):s.push(r));return s}function h(e,t,o){for(var n,r=t.length,i=[],a=-1;++a<r;)null!==(n=g(e,t[a],o))&&void 0!==n&&i.push(n);return i}function g(e,t,o){return"boolean"!=typeof t&&"number"!=typeof t&&"string"!=typeof t?null:function(e,t,o){var n,r,i,a,s,l=e.protocols;if(0===(l=p.call(l,o)?l[o].concat():[]).length)return!0;if(t=String(t),"#"===(r=t.charAt(0))||"/"===r)return!0;if(-1===(i=t.indexOf(":")))return!0;for(a=l.length,s=-1;++s<a;)if(n=l[s],i===n.length&&t.slice(0,n.length)===n)return!0;return-1!==(s=t.indexOf("?"))&&s<i||-1!==(s=t.indexOf("#"))&&s<i}(e,t,o)?(-1!==e.clobber.indexOf(o)&&(t=e.clobberPrefix+t),t):null}function i(){return"html"}function f(e,t,o,n){var r,i,a="string"==typeof t?t:null,s=e.ancestors;if(!a||"*"===a||-1===e.tagNames.indexOf(a))return!1;if(0!==(s=p.call(s,a)?s[a]:[]).length)for(r=s.length+1,i=-1;++i<r;){if(!s[i])return!1;if(-1!==n.indexOf(s[i]))break}return a}function a(e,t){return"string"==typeof t?t:""}function s(e,t){return t}},function(e,t,o){"use strict";e.exports=o(178)},function(e,t,o){"use strict";var n=o(42);e.exports=function(e,t){return e.dangerous?t.value:n(e,t)}},function(e,t,o){"use strict";e.exports=function(e,t){return"\x3c!--"+t.value+"--\x3e"}},function(e,t,o){"use strict";function s(e){var t=-1===e.indexOf('"')?'"':"'";return t+e+t}e.exports=function(e,t){var o=e.tightDoctype?"":" ",n=t.name,r=t.public,i=t.system,a=["<!doctype"];return n&&(a.push(o,n),null!=r?a.push(" public",o,s(r)):null!=i&&a.push(" system"),null!=i&&a.push(o,s(i))),a.join("")+">"}},function(e,t,o){"use strict";var n=[" ","\t","\n","\r","\f"],r=n.concat("&","/",">","="),i=n.concat("&",">"),a=i.concat("\0",'"',"'","<","=","`"),s=["&","'"],l=["&",'"'];e.exports={name:[[r,r.concat('"',"'","`")],[r.concat("\0",'"',"'","<"),r.concat("\0",'"',"'","<","`")]],unquoted:[[i,a],[a,a]],single:[[s,s.concat('"',"`")],[s.concat("\0"),s.concat("\0",'"',"`")]],double:[[l,l.concat("'","`")],[l.concat("\0"),l.concat("\0","'","`")]]}},function(e,t,o){"use strict";t.parse=function(e){for(var t,o=[],n=String(e||c),r=n.indexOf(l),i=0,a=!1;!a;)-1===r&&(r=n.length,a=!0),!(t=s(n.slice(i,r)))&&a||o.push(t),i=r+1,r=n.indexOf(l,i);return o},t.stringify=function(e,t){var o=t||{},n=!1===o.padLeft?c:i,r=o.padRight?i:c;return e[e.length-1]===c&&(e=e.concat(c)),s(e.join(r+l+n))};var s=o(5),l=",",i=" ",c=""},function(e,t,o){"use strict";var n=o(5);t.parse=function(e){var t=n(String(e||r));return t===r?[]:t.split(a)},t.stringify=function(e){return n(e.join(i))};var r="",i=" ",a=/[ \t\n\r\f]+/g},function(e,t,o){"use strict";var i=o(58),a=o(57),s=o(56);e.exports=function(e,t){var o=i(t),n=t,r=s;return o in e.normal?e.property[e.normal[o]]:(4<o.length&&"data"===o.slice(0,4)&&l.test(t)&&("-"===t.charAt(4)?n=function(e){var t=e.slice(5).replace(c,p);return"data"+t.charAt(0).toUpperCase()+t.slice(1)}(t):t=function(e){var t=e.slice(4);return c.test(t)?e:("-"!==(t=t.replace(u,d)).charAt(0)&&(t="-"+t),"data"+t)}(t),r=a),new r(n,t))};var l=/^data[-a-z0-9.:_]+$/i,c=/-[a-z]/g,u=/[A-Z]/g;function d(e){return"-"+e.toLowerCase()}function p(e){return e.charAt(1).toUpperCase()}},function(e,t,o){"use strict";var u=o(0),h=o(50),s=o(186),d=o(185).stringify,p=o(184).stringify,g=o(19),f=o(37),m=o(43),y=o(183);e.exports=function(e,t,o,n){var r,i,a,s,l,c=e.schema,u=t.tagName,d="",p=t;return"html"===c.space&&"svg"===u&&(e.schema=h),l=function(e,t){var o,n,r,i,a,s,l=[];for(o in t)null!=(n=t[o])&&(r=A(e,o,n))&&l.push(r);for(i=l.length,a=-1;++a<i;)r=l[a],s=null,"html"===e.schema.space&&e.tight&&(s=r.charAt(r.length-1)),a!==i-1&&s!==b&&s!==E&&(l[a]=r+v);return l.join(_)}(e,t.properties),"svg"===e.schema.space?(i=!(a=!1),r=e.closeEmpty):(a=e.omit,i=e.close,r=-1!==e.voids.indexOf(u.toLowerCase()),"template"===u&&(p=t.content)),s=m(e,p),r=!s&&r,!l&&a&&a.opening(t,o,n)||(d=S+u+(l?v+l:_),r&&i&&(e.tightClose&&l.charAt(l.length-1)!==C||(d+=v),d+=C),d+=k),d+=s,r||a&&a.closing(t,o,n)||(d+=S+C+u+k),e.schema=c,d};var _="",v=" ",b='"',E="'",T="=",S="<",k=">",C="/";function A(e,t,o){var n=e.schema,r=n.space,i=s(n,t),a=i.attribute;if(!i.overloadedBoolean||o!==a&&""!==o?(i.boolean||i.overloadedBoolean&&"string"!=typeof o)&&(o=Boolean(o)):o=!0,null==o||!1===o||"number"==typeof o&&isNaN(o))return _;if(a=function(e,t){var o="html"===e.schema.space?e.valid:1,n=y.name[o][e.safe];return g(t,u(e.entities,{subset:n}))}(e,a),!0===o){if("html"===r)return a;o=a}return a+function(e,t,o,n){var r,i,a=e.entities,s=e.quote,l=e.alternative,c=e.schema.space;return"object"==typeof o&&"length"in o&&(o=(n.commaSeparated?p:d)(o,{padLeft:!e.tightLists})),o=String(o),("html"!==c||o||!e.collapseEmpty)&&(r=o,"html"===c&&e.unquoted&&(i=y.unquoted[e.valid][e.safe],r=g(o,u(a,{subset:i,attribute:!0}))),"html"===c&&e.unquoted&&r===o||(l&&f(o,s)>f(o,l)&&(s=l),i=(i=s===E?y.single:y.double)["html"===c?e.valid:1][e.safe],o=g(o,u(a,{subset:i,attribute:!0})),o=s+o+s),o=o?T+o:o),o}(e,0,o,i)}},function(e){e.exports=["cent","copy","divide","gt","lt","not","para","times"]},function(e){e.exports={nbsp:" ",iexcl:"¡",cent:"¢",pound:"£",curren:"¤",yen:"¥",brvbar:"¦",sect:"§",uml:"¨",copy:"©",ordf:"ª",laquo:"«",not:"¬",shy:"­",reg:"®",macr:"¯",deg:"°",plusmn:"±",sup2:"²",sup3:"³",acute:"´",micro:"µ",para:"¶",middot:"·",cedil:"¸",sup1:"¹",ordm:"º",raquo:"»",frac14:"¼",frac12:"½",frac34:"¾",iquest:"¿",Agrave:"À",Aacute:"Á",Acirc:"Â",Atilde:"Ã",Auml:"Ä",Aring:"Å",AElig:"Æ",Ccedil:"Ç",Egrave:"È",Eacute:"É",Ecirc:"Ê",Euml:"Ë",Igrave:"Ì",Iacute:"Í",Icirc:"Î",Iuml:"Ï",ETH:"Ð",Ntilde:"Ñ",Ograve:"Ò",Oacute:"Ó",Ocirc:"Ô",Otilde:"Õ",Ouml:"Ö",times:"×",Oslash:"Ø",Ugrave:"Ù",Uacute:"Ú",Ucirc:"Û",Uuml:"Ü",Yacute:"Ý",THORN:"Þ",szlig:"ß",agrave:"à",aacute:"á",acirc:"â",atilde:"ã",auml:"ä",aring:"å",aelig:"æ",ccedil:"ç",egrave:"è",eacute:"é",ecirc:"ê",euml:"ë",igrave:"ì",iacute:"í",icirc:"î",iuml:"ï",eth:"ð",ntilde:"ñ",ograve:"ò",oacute:"ó",ocirc:"ô",otilde:"õ",ouml:"ö",divide:"÷",oslash:"ø",ugrave:"ù",uacute:"ú",ucirc:"û",uuml:"ü",yacute:"ý",thorn:"þ",yuml:"ÿ",fnof:"ƒ",Alpha:"Α",Beta:"Β",Gamma:"Γ",Delta:"Δ",Epsilon:"Ε",Zeta:"Ζ",Eta:"Η",Theta:"Θ",Iota:"Ι",Kappa:"Κ",Lambda:"Λ",Mu:"Μ",Nu:"Ν",Xi:"Ξ",Omicron:"Ο",Pi:"Π",Rho:"Ρ",Sigma:"Σ",Tau:"Τ",Upsilon:"Υ",Phi:"Φ",Chi:"Χ",Psi:"Ψ",Omega:"Ω",alpha:"α",beta:"β",gamma:"γ",delta:"δ",epsilon:"ε",zeta:"ζ",eta:"η",theta:"θ",iota:"ι",kappa:"κ",lambda:"λ",mu:"μ",nu:"ν",xi:"ξ",omicron:"ο",pi:"π",rho:"ρ",sigmaf:"ς",sigma:"σ",tau:"τ",upsilon:"υ",phi:"φ",chi:"χ",psi:"ψ",omega:"ω",thetasym:"ϑ",upsih:"ϒ",piv:"ϖ",bull:"•",hellip:"…",prime:"′",Prime:"″",oline:"‾",frasl:"⁄",weierp:"℘",image:"ℑ",real:"ℜ",trade:"™",alefsym:"ℵ",larr:"←",uarr:"↑",rarr:"→",darr:"↓",harr:"↔",crarr:"↵",lArr:"⇐",uArr:"⇑",rArr:"⇒",dArr:"⇓",hArr:"⇔",forall:"∀",part:"∂",exist:"∃",empty:"∅",nabla:"∇",isin:"∈",notin:"∉",ni:"∋",prod:"∏",sum:"∑",minus:"−",lowast:"∗",radic:"√",prop:"∝",infin:"∞",ang:"∠",and:"∧",or:"∨",cap:"∩",cup:"∪",int:"∫",there4:"∴",sim:"∼",cong:"≅",asymp:"≈",ne:"≠",equiv:"≡",le:"≤",ge:"≥",sub:"⊂",sup:"⊃",nsub:"⊄",sube:"⊆",supe:"⊇",oplus:"⊕",otimes:"⊗",perp:"⊥",sdot:"⋅",lceil:"⌈",rceil:"⌉",lfloor:"⌊",rfloor:"⌋",lang:"〈",rang:"〉",loz:"◊",spades:"♠",clubs:"♣",hearts:"♥",diams:"♦",quot:'"',amp:"&",lt:"<",gt:">",OElig:"Œ",oelig:"œ",Scaron:"Š",scaron:"š",Yuml:"Ÿ",circ:"ˆ",tilde:"˜",ensp:" ",emsp:" ",thinsp:" ",zwnj:"‌",zwj:"‍",lrm:"‎",rlm:"‏",ndash:"–",mdash:"—",lsquo:"‘",rsquo:"’",sbquo:"‚",ldquo:"“",rdquo:"”",bdquo:"„",dagger:"†",Dagger:"‡",permil:"‰",lsaquo:"‹",rsaquo:"›",euro:"€"}},function(e,t,o){"use strict";e.exports=function(e,t){return e&&e.children&&e.children.indexOf(t)}},function(e,t,o){"use strict";var n=o(20).after;e.exports=function(e,t){return n(e,-1,t)}},function(e,t,o){"use strict";var n=o(12),s=o(49),i=o(20).before,a=o(191),l=o(190),r=o(47),c=o(46),u=o(45),d={}.hasOwnProperty,p=["title","base"],h=["meta","link","script","style","template"],g=["thead","tbody"];e.exports=u({html:function(e){var t=a(e);return!t||!n("comment",t)},head:function(e){for(var t,o,n=e.children,r=n.length,i={},a=-1;++a<r;)if(t=n[a],o=t.tagName,s(t,p)){if(d.call(i,o))return!1;i[o]=!0}return Boolean(r)},body:function(e){var t=a(e,!0);return!t||!n("comment",t)&&!r(t)&&!s(t,h)},colgroup:function(e,t,o){var n=i(o,t),r=a(e,!0);return(!s(n,"colgroup")||!c(n,l(o,n),o))&&r&&s(r,"col")},tbody:function(e,t,o){var n=i(o,t),r=a(e);return(!s(n,g)||!c(n,l(o,n),o))&&r&&s(r,"tr")}})},function(e,t,o){"use strict";t.opening=o(192),t.closing=o(46)},function(e){e.exports=["area","base","basefont","bgsound","br","col","command","embed","frame","hr","image","img","input","isindex","keygen","link","menuitem","meta","nextid","param","source","track","wbr"]},function(e,t,o){"use strict";var n=o(10),r=o(6),i=o(52),a=n.boolean,s=n.number,l=n.spaceSeparated,c=n.commaSeparated,u=n.commaOrSpaceSeparated;e.exports=r({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:i,properties:{about:u,accentHeight:s,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:s,amplitude:s,arabicForm:null,ascent:s,attributeName:null,attributeType:null,azimuth:s,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:s,by:null,calcMode:null,capHeight:s,className:l,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:s,diffuseConstant:s,direction:null,display:null,dur:null,divisor:s,dominantBaseline:null,download:a,dx:null,dy:null,edgeMode:null,editable:null,elevation:s,enableBackground:null,end:null,event:null,exponent:s,externalResourcesRequired:null,fill:null,fillOpacity:s,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:c,g2:c,glyphName:c,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:s,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:s,horizOriginX:s,horizOriginY:s,id:null,ideographic:s,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:s,k:s,k1:s,k2:s,k3:s,k4:s,kernelMatrix:u,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:s,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:s,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:s,overlineThickness:s,paintOrder:null,panose1:null,path:null,pathLength:s,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:s,pointsAtY:s,pointsAtZ:s,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:u,r:null,radius:null,refX:null,refY:null,rel:u,rev:u,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:u,requiredFeatures:u,requiredFonts:u,requiredFormats:u,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:s,specularExponent:s,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:s,strikethroughThickness:s,string:null,stroke:null,strokeDashArray:u,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:s,strokeOpacity:s,strokeWidth:null,style:null,surfaceScale:s,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:u,tabIndex:s,tableValues:null,target:null,targetX:s,targetY:s,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:u,to:null,transform:null,u1:null,u2:null,underlinePosition:s,underlineThickness:s,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:s,values:null,vAlphabetic:s,vMathematical:s,vectorEffect:null,vHanging:s,vIdeographic:s,version:null,vertAdvY:s,vertOriginX:s,vertOriginY:s,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:s,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}})},function(e,t,o){"use strict";var n=o(10),r=o(6),i=o(53),a=n.boolean,s=n.overloadedBoolean,l=n.booleanish,c=n.number,u=n.spaceSeparated,d=n.commaSeparated;e.exports=r({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:i,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:d,acceptCharset:u,accessKey:u,action:null,allowFullScreen:a,allowPaymentRequest:a,allowUserMedia:a,alt:null,as:null,async:a,autoCapitalize:null,autoComplete:u,autoFocus:a,autoPlay:a,capture:a,charSet:null,checked:a,cite:null,className:u,cols:c,colSpan:null,content:null,contentEditable:l,controls:a,controlsList:u,coords:c|d,crossOrigin:null,data:null,dateTime:null,decoding:null,default:a,defer:a,dir:null,dirName:null,disabled:a,download:s,draggable:l,encType:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:a,formTarget:null,headers:u,height:c,hidden:a,high:c,href:null,hrefLang:null,htmlFor:u,httpEquiv:u,id:null,inputMode:null,integrity:null,is:null,isMap:a,itemId:null,itemProp:u,itemRef:u,itemScope:a,itemType:u,kind:null,label:null,lang:null,language:null,list:null,loop:a,low:c,manifest:null,max:null,maxLength:c,media:null,method:null,min:null,minLength:c,multiple:a,muted:a,name:null,nonce:null,noModule:a,noValidate:a,open:a,optimum:c,pattern:null,ping:u,placeholder:null,playsInline:a,poster:null,preload:null,readOnly:a,referrerPolicy:null,rel:u,required:a,reversed:a,rows:c,rowSpan:c,sandbox:u,scope:null,scoped:a,seamless:a,selected:a,shape:null,size:c,sizes:null,slot:null,span:c,spellCheck:l,src:null,srcDoc:null,srcLang:null,srcSet:d,start:c,step:null,style:null,tabIndex:c,target:null,title:null,translate:null,type:null,typeMustMatch:a,useMap:null,value:l,width:c,wrap:null,align:null,aLink:null,archive:u,axis:null,background:null,bgColor:null,border:c,borderColor:null,bottomMargin:c,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:a,declare:a,event:null,face:null,frame:null,frameBorder:null,hSpace:c,leftMargin:c,link:null,longDesc:null,lowSrc:null,marginHeight:c,marginWidth:c,noResize:a,noHref:a,noShade:a,noWrap:a,object:null,profile:null,prompt:null,rev:null,rightMargin:c,rules:null,scheme:null,scrolling:l,standby:null,summary:null,text:null,topMargin:c,valueType:null,version:null,vAlign:null,vLink:null,vSpace:c,allowTransparency:null,autoCorrect:null,autoSave:null,prefix:null,property:null,results:c,security:null,unselectable:null}})},function(e,t,o){"use strict";var n=o(61),r=o(59),i=o(55),a=o(54),s=o(51),l=o(196);e.exports=n([i,r,a,s,l])},function(e,t,o){"use strict";var a=o(197),s=o(50),l=o(194),c=o(193),u=o(44);e.exports=function(e,t){var o=t||{},n=o.quote||d,r=n===d?p:d,i=o.quoteSmart;if(n!==d&&n!==p)throw new Error("Invalid quote `"+n+"`, expected `"+p+"` or `"+d+"`");return u({valid:o.allowParseErrors?0:1,safe:o.allowDangerousCharacters?0:1,schema:"svg"===o.space?s:a,omit:o.omitOptionalTags&&c,quote:n,alternative:i?r:null,unquoted:Boolean(o.preferUnquoted),tight:o.tightAttributes,tightDoctype:Boolean(o.tightDoctype),tightLists:o.tightCommaSeparatedLists,tightClose:o.tightSelfClosing,collapseEmpty:o.collapseEmptyAttributes,dangerous:o.allowDangerousHTML,voids:o.voids||l.concat(),entities:o.entities||{},close:o.closeSelfClosing,closeEmpty:o.closeEmptyElements},e)};var d='"',p="'"},function(e,t,o){"use strict";e.exports=o(198)},function(e,t,o){"use strict";e.exports=function(e){return String(e).replace(n,r)};var n=/[ \t]*\n+[ \t]*/g,r="\n"},function(e,t,o){"use strict";e.exports=function(e,t){return e.augment(t,n("text",r(t.value)))};var n=o(4),r=o(200)},function(e,t,o){"use strict";e.exports=function(e,t){for(var o,n,r,i,a,s=t.children,l=s.length,c=t.align,u=c.length,d=[];l--;){for(n=s[l].children,i=0===l?"th":"td",o=u,r=[];o--;)a=n[o],r[o]=e(a,i,{align:c[o]},a?g(e,a):[]);d[l]=e(s[l],"tr",h(r,!0))}return e(t,"table",h([e(d[0].position,"thead",h([d[0]],!0)),e({start:p.start(d[1]),end:p.end(d[d.length-1])},"tbody",h(d.slice(1),!0))],!0))};var p=o(68),h=o(7),g=o(1)},function(e,t,o){"use strict";e.exports=function(e,t){return e(t,"strong",n(e,t))};var n=o(1)},function(e,t,o){"use strict";e.exports=function(e,t){return e.augment(t,n("root",r(i(e,t))))};var n=o(4),r=o(7),i=o(1)},function(e,t,o){"use strict";e.exports=function(e,t){return e(t,"p",n(e,t))};var n=o(1)},function(e,t,o){"use strict";e.exports=function(e,t,o){var n,r,i,a,s,l=t.children[0],c=g(e,t),u=o?function(e){for(var t=e.spread,o=e.children,n=o.length,r=-1;!t&&++r<n;)t=f(o[r]);return t}(o):f(t),d={};if(u)n=c;else for(n=[],a=c.length,i=-1;++i<a;)"p"===(s=c[i]).tagName?n=n.concat(s.children):n.push(s);return"boolean"==typeof t.checked&&(!u||l&&"paragraph"===l.type||n.unshift(e(null,"p",[])),0!==(r=u?n[0].children:n).length&&r.unshift(p("text"," ")),r.unshift(e(null,"input",{type:"checkbox",checked:t.checked,disabled:!0})),d.className=["task-list-item"]),u&&0!==n.length&&(n=h(n,!0)),e(t,"li",d,n)};var p=o(4),h=o(7),g=o(1);function f(e){var t=e.spread;return null==t?1<e.children.length:t}},function(e,t,o){"use strict";var n=o(11),r=o(1);e.exports=function(e,t){var o={href:n(t.url)};return null!==t.title&&void 0!==t.title&&(o.title=t.title),e(t,"a",o,r(e,t))}},function(e,t,o){"use strict";e.exports=function(e,t){var o,n=e.definition(t.identifier);return n?(o={href:r(n.url||"")},null!==n.title&&void 0!==n.title&&(o.title=n.title),e(t,"a",o,a(e,t))):i(e,t)};var r=o(11),i=o(63),a=o(1)},function(e,t,o){"use strict";e.exports=function(e,t){return e(t,"code",[r("text",n(t.value))])};var n=o(62),r=o(4)},function(e,t,o){"use strict";var n=o(11);e.exports=function(e,t){var o={src:n(t.url),alt:t.alt};return null!==t.title&&void 0!==t.title&&(o.title=t.title),e(t,"img",o)}},function(e,t,o){"use strict";e.exports=function(e,t){var o,n=e.definition(t.identifier);return n?(o={src:r(n.url||""),alt:t.alt},null!==n.title&&void 0!==n.title&&(o.title=n.title),e(t,"img",o)):i(e,t)};var r=o(11),i=o(63)},function(e,t,o){"use strict";e.exports=function(e,t){return e.dangerous?e.augment(t,n("raw",t.value)):null};var n=o(4)},function(e,t,o){"use strict";e.exports=function(e,t){return e(t,"h"+t.depth,n(e,t))};var n=o(1)},function(e,t,o){"use strict";e.exports=function(e,t){for(var o=[],n=1,r=e.footnotes,i=r.length,a=-1;++a<i;)o[a]=r[a].identifier;for(;-1!==o.indexOf(String(n));)n++;return n=String(n),r.push({type:"footnoteDefinition",identifier:n,children:[{type:"paragraph",children:t.children}],position:t.position}),s(e,{type:"footnoteReference",identifier:n,position:t.position})};var s=o(64)},function(e,t,o){"use strict";e.exports=function(e,t){return e(t,"em",n(e,t))};var n=o(1)},function(e,t,o){"use strict";e.exports=function(e,t){return e(t,"del",n(e,t))};var n=o(1)},function(e,t,o){"use strict";e.exports=function(e,t){var o,n,r="string"==typeof e,i=r&&e.length,a=0,s=-1,l=-1,c=t||4,u=[];if(!r)throw new Error("detab expected string");for(;++s<i;)(o=e.charCodeAt(s))===p?(l+=n=c-(l+1)%c,u.push(e.slice(a,s)+d(" ",n)),a=s+1):o===h||o===g?l=-1:l++;return u.push(e.slice(a)),u.join("")};var d=o(3),p=9,h=10,g=13},function(e,t,o){"use strict";e.exports=function(e,t){var o=t.value?i(t.value+"\n"):"",n=t.lang&&t.lang.match(/^[^ \t]+(?=[ \t]|$)/),r={};return n&&(r.className=["language-"+n]),e(t.position,"pre",[e(t,"code",r,[a("text",o)])])};var i=o(217),a=o(4)},function(e,t,o){"use strict";e.exports=function(e,t){return[e(t,"br"),n("text","\n")]};var n=o(4)},function(e,t,o){"use strict";e.exports=function(e,t){return e(t,"blockquote",n(r(e,t),!0))};var n=o(7),r=o(1)},function(e,t,o){"use strict";function n(){return null}e.exports={blockquote:o(220),break:o(219),code:o(218),delete:o(216),emphasis:o(215),footnoteReference:o(64),footnote:o(214),heading:o(213),html:o(212),imageReference:o(211),image:o(210),inlineCode:o(209),linkReference:o(208),link:o(207),listItem:o(206),list:o(65),paragraph:o(205),root:o(204),strong:o(203),table:o(202),text:o(201),thematicBreak:o(66),toml:n,yaml:n,definition:n,footnoteDefinition:n}},function(e,t,o){"use strict";e.exports=function(e){var t,o,n,r,i=e.footnotes,a=i.length,s=-1,l=[];if(!a)return null;for(;++s<a;)t=i[s],n=t.children.concat(),r=n[n.length-1],o={type:"link",url:"#fnref-"+t.identifier,data:{hProperties:{className:["footnote-backref"]}},children:[{type:"text",value:"↩"}]},r&&"paragraph"===r.type||(r={type:"paragraph",children:[]},n.push(r)),r.children.push(o),l[s]={type:"listItem",data:{hProperties:{id:"fn-"+t.identifier}},children:n,position:t.position};return e(null,"div",{className:["footnotes"]},d([c(e),u(e,{type:"list",ordered:!0,children:l})],!0))};var c=o(66),u=o(65),d=o(7)},function(e,t,o){"use strict";var n=o(13);e.exports=function(e,t){return function(o){return function(e){var t=e&&i(e);return t&&r.call(o,t)?o[t]:null}}(function(e,t){var o={};if(!e||!e.type)throw new Error("mdast-util-definitions expected node");return n(e,"definition",t&&t.commonmark?function(e){var t=i(e.identifier);r.call(o,t)||(o[t]=e)}:function(e){o[i(e.identifier)]=e}),o}(e,t))};var r={}.hasOwnProperty;function i(e){return e.toUpperCase()}},function(e,t,o){"use strict";function r(e){return e&&"object"==typeof e?e:{}}e.exports=function(e){var t=r(r(e).position),o=r(t.start),n=r(t.end);return!(o.line&&o.column&&n.line&&n.column)}},function(e,t,o){"use strict";e.exports=n;var l=o(12),c="skip",u=!1;function n(e,r,i,s){"function"==typeof r&&"function"!=typeof i&&(s=i,i=r,r=null),function a(e,t,o){var n;return(r&&!l(r,e,t,o[o.length-1]||null)||(n=i(e,o))!==u)&&e.children&&n!==c&&function(e,t){for(var o,n,r=s?-1:1,i=(s?e.length:-1)+r;-1<i&&i<e.length;){if(o=e[i],(n=o&&a(o,i,t))===u)return n;i="number"==typeof n?n:i+r}}(e.children,o.concat(e))===u?u:n}(e,null,[])}n.CONTINUE=!0,n.SKIP=c,n.EXIT=u},function(e,t,o){"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var l=Object.getOwnPropertySymbols,c=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},o=0;o<10;o++)t["_"+String.fromCharCode(o)]=o;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach(function(e){n[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var o,n,r=function(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),i=1;i<arguments.length;i++){for(var a in o=Object(arguments[i]))c.call(o,a)&&(r[a]=o[a]);if(l){n=l(o);for(var s=0;s<n.length;s++)u.call(o,n[s])&&(r[n[s]]=o[n[s]])}}return r}},function(e,t,o){"use strict";e.exports=function(e,t){var o=function(e,t){var o=t||{},n=o.allowDangerousHTML;return i.dangerous=n,i.definition=u(e,o),i.footnotes=[],i.augment=r,i.handlers=a(h,o.handlers||{}),s(e,"footnoteDefinition",function(e){i.footnotes.push(e)}),i;function r(e,t){var o,n;return e&&"data"in e&&(o=e.data,"element"===t.type&&o.hName&&(t.tagName=o.hName),"element"===t.type&&o.hProperties&&(t.properties=a(t.properties,o.hProperties)),t.children&&o.hChildren&&(t.children=o.hChildren)),n=e&&e.position?e:{position:e},c(n)||(t.position={start:l.start(n),end:l.end(n)}),t}function i(e,t,o,n){return null==n&&"object"==typeof o&&"length"in o&&(n=o,o={}),r(e,{type:"element",tagName:t,properties:o||{},children:n||[]})}}(e,t),n=d(o,e),r=p(o);return n&&n.children&&r&&(n.children=n.children.concat(i("text","\n"),r)),n};var a=o(0),i=o(4),s=o(13),l=o(68),c=o(224),u=o(223),d=o(67),p=o(222),h=o(221)},function(e,t,o){"use strict";e.exports=o(227)},function(e,t,o){"use strict";var c=o(0),u=o(228),d=o(199),p=o(179);e.exports=function(e){var i=e||{},a=i.sanitize,s=a&&"object"==typeof a?a:null,l=i.handlers||{};this.Compiler=function(e,t){var o,n=e&&e.type&&"root"===e.type,r=u(e,{allowDangerousHTML:!a,handlers:l});return t.extname&&(t.extname=".html"),a&&(r=p(r,s)),o=d(r,c(i,{allowDangerousHTML:!a})),n&&"\n"!==o.charAt(o.length-1)&&(o+="\n"),o}}},function(e,t,o){"use strict";var n=function(){function n(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,o){return t&&n(e.prototype,t),o&&n(e,o),e}}(),r=o(229),i=o(176),a=o(129),s=o(89),l=o(76),c=o(75),u=o(74),d=o(73),p=o(72),h=o(71),g=o(70),f=o(69),m={commonmark:!0,pedantic:!0};e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.compilerPlugins=this.constructor.getCompilerPlugins(),this.parser=s().use(i,m).use(this.constructor.getParserPlugins())}return n(e,[{key:"getParser",value:function(){return this.parser()}},{key:"sourceToHtml",value:function(e){return this.getParser().use(r,m).processSync(e).contents}},{key:"sourceToMarkdown",value:function(e){return this.getParser().use(a,m).use(this.compilerPlugins).processSync(e).contents}},{key:"sourceToMdast",value:function(e){return this.getParser().parse(e)}},{key:"sourceToRedactedMdast",value:function(e){return this.getParser().use({settings:{redact:!0}}).parse(e)}},{key:"sourceToRedacted",value:function(e){var t=this.sourceToRedactedMdast(e);return this.getParser().use(a,m).use(l).use(this.compilerPlugins).stringify(t)}},{key:"sourceAndRedactedToMergedMdast",value:function(e,t){var o=this.sourceToRedactedMdast(e);return this.getParser().use(c(o)).parse(t)}},{key:"sourceAndRedactedToMarkdown",value:function(e,t){var o=this.sourceAndRedactedToMergedMdast(e,t);return this.getParser().use(a,m).use(this.compilerPlugins).stringify(o)}},{key:"sourceAndRedactedToHtml",value:function(e,t){var o=this.sourceAndRedactedToMarkdown(e,t);return this.sourceToHtml(o)}}],[{key:"getParserPlugins",value:function(){return[u,g,f]}},{key:"getCompilerPlugins",value:function(){return[d,p,h]}},{key:"create",value:function(){return new e}}]),e}()}])},399:function(e,t,o){"use strict";e.exports=o(400)},4:function(e,t,o){"use strict";var n,r=(n=o(125))&&n.__esModule?n:{default:n};e.exports=(0,r.default)("common_locale")},400:function(e,t,o){"use strict";e.exports=function(e,t){var o=function(e,t){var o=t||{},n=o.allowDangerousHTML;return i.dangerous=n,i.definition=u(e,o),i.footnotes=[],i.augment=r,i.handlers=a(h,o.handlers||{}),s(e,"footnoteDefinition",function(e){i.footnotes.push(e)}),i;function r(e,t){var o,n;return e&&"data"in e&&(o=e.data,"element"===t.type&&o.hName&&(t.tagName=o.hName),"element"===t.type&&o.hProperties&&(t.properties=a(t.properties,o.hProperties)),t.children&&o.hChildren&&(t.children=o.hChildren)),n=e&&e.position?e:{position:e},c(n)||(t.position={start:l.start(n),end:l.end(n)}),t}function i(e,t,o,n){return null==n&&"object"==typeof o&&"length"in o&&(n=o,o={}),r(e,{type:"element",tagName:t,properties:o||{},children:n||[]})}}(e,t),n=d(o,e),r=p(o);n&&n.children&&r&&(n.children=n.children.concat(i("text","\n"),r));return n};var a=o(41),i=o(26),s=o(139),l=o(158),c=o(402),u=o(403),d=o(232),p=o(404),h=o(405)},401:function(e,t,o){"use strict";e.exports=n;var l=o(157),c="skip",u=!1;function n(e,r,i,a){function s(e,t,o){var n;return(r&&!l(r,e,t,o[o.length-1]||null)||(n=i(e,o))!==u)&&e.children&&n!==c&&function(e,t){var o,n,r=a?-1:1,i=(a?e.length:-1)+r;for(;-1<i&&i<e.length;){if(o=e[i],(n=o&&s(o,i,t))===u)return n;i="number"==typeof n?n:i+r}}(e.children,o.concat(e))===u?u:n}"function"==typeof r&&"function"!=typeof i&&(a=i,i=r,r=null),s(e,null,[])}n.CONTINUE=!0,n.SKIP=c,n.EXIT=u},402:function(e,t,o){"use strict";function r(e){return e&&"object"==typeof e?e:{}}e.exports=function(e){var t=r(r(e).position),o=r(t.start),n=r(t.end);return!(o.line&&o.column&&n.line&&n.column)}},403:function(e,t,o){"use strict";var n=o(139);e.exports=function(e,t){return function(o){return function(e){var t=e&&i(e);return t&&r.call(o,t)?o[t]:null}}(function(e,t){var o={};if(e&&e.type)return n(e,"definition",t&&t.commonmark?function(e){var t=i(e.identifier);r.call(o,t)||(o[t]=e)}:function(e){o[i(e.identifier)]=e}),o;throw new Error("mdast-util-definitions expected node")}(e,t))};var r={}.hasOwnProperty;function i(e){return e.toUpperCase()}},404:function(e,t,o){"use strict";e.exports=function(e){var t,o,n,r,i=e.footnotes,a=i.length,s=-1,l=[];if(!a)return null;for(;++s<a;)t=i[s],n=t.children.concat(),r=n[n.length-1],o={type:"link",url:"#fnref-"+t.identifier,data:{hProperties:{className:["footnote-backref"]}},children:[{type:"text",value:"↩"}]},r&&"paragraph"===r.type||(r={type:"paragraph",children:[]},n.push(r)),r.children.push(o),l[s]={type:"listItem",data:{hProperties:{id:"fn-"+t.identifier}},children:n,position:t.position};return e(null,"div",{className:["footnotes"]},d([c(e),u(e,{type:"list",ordered:!0,children:l})],!0))};var c=o(233),u=o(234),d=o(72)},405:function(e,t,o){"use strict";function n(){return null}e.exports={blockquote:o(406),break:o(407),code:o(408),delete:o(410),emphasis:o(411),footnoteReference:o(235),footnote:o(412),heading:o(413),html:o(414),imageReference:o(415),image:o(416),inlineCode:o(417),linkReference:o(419),link:o(420),listItem:o(421),list:o(234),paragraph:o(422),root:o(423),strong:o(424),table:o(425),text:o(426),thematicBreak:o(233),toml:n,yaml:n,definition:n,footnoteDefinition:n}},406:function(e,t,o){"use strict";e.exports=function(e,t){return e(t,"blockquote",n(r(e,t),!0))};var n=o(72),r=o(21)},407:function(e,t,o){"use strict";e.exports=function(e,t){return[e(t,"br"),n("text","\n")]};var n=o(26)},408:function(e,t,o){"use strict";e.exports=function(e,t){var o=t.value?i(t.value+"\n"):"",n=t.lang&&t.lang.match(/^[^ \t]+(?=[ \t]|$)/),r={};n&&(r.className=["language-"+n]);return e(t.position,"pre",[e(t,"code",r,[a("text",o)])])};var i=o(409),a=o(26)},409:function(e,t,o){"use strict";e.exports=function(e,t){var o,n,r="string"==typeof e,i=r&&e.length,a=0,s=-1,l=-1,c=t||4,u=[];if(!r)throw new Error("detab expected string");for(;++s<i;)(o=e.charCodeAt(s))===p?(l+=n=c-(l+1)%c,u.push(e.slice(a,s)+d(" ",n)),a=s+1):o===h||o===g?l=-1:l++;return u.push(e.slice(a)),u.join("")};var d=o(285),p=9,h=10,g=13},41:function(e,t){e.exports=function(){for(var e={},t=0;t<arguments.length;t++){var o=arguments[t];for(var n in o)r.call(o,n)&&(e[n]=o[n])}return e};var r=Object.prototype.hasOwnProperty},410:function(e,t,o){"use strict";e.exports=function(e,t){return e(t,"del",n(e,t))};var n=o(21)},411:function(e,t,o){"use strict";e.exports=function(e,t){return e(t,"em",n(e,t))};var n=o(21)},412:function(e,t,o){"use strict";e.exports=function(e,t){var o=[],n=1,r=e.footnotes,i=r.length,a=-1;for(;++a<i;)o[a]=r[a].identifier;for(;-1!==o.indexOf(String(n));)n++;return n=String(n),r.push({type:"footnoteDefinition",identifier:n,children:[{type:"paragraph",children:t.children}],position:t.position}),s(e,{type:"footnoteReference",identifier:n,position:t.position})};var s=o(235)},413:function(e,t,o){"use strict";e.exports=function(e,t){return e(t,"h"+t.depth,n(e,t))};var n=o(21)},414:function(e,t,o){"use strict";e.exports=function(e,t){return e.dangerous?e.augment(t,n("raw",t.value)):null};var n=o(26)},415:function(e,t,o){"use strict";e.exports=function(e,t){var o,n=e.definition(t.identifier);if(!n)return i(e,t);o={src:r(n.url||""),alt:t.alt},null!==n.title&&void 0!==n.title&&(o.title=n.title);return e(t,"img",o)};var r=o(106),i=o(236)},416:function(e,t,o){"use strict";var n=o(106);e.exports=function(e,t){var o={src:n(t.url),alt:t.alt};null!==t.title&&void 0!==t.title&&(o.title=t.title);return e(t,"img",o)}},417:function(e,t,o){"use strict";e.exports=function(e,t){return e(t,"code",[r("text",n(t.value))])};var n=o(418),r=o(26)},418:function(e,t,o){"use strict";
/**
 * @author Titus Wormer
 * @copyright 2015 Titus Wormer
 * @license MIT
 * @module collapse-white-space
 * @fileoverview Replace multiple white-space characters
 *   with a single space.
 */e.exports=function(e){return String(e).replace(/\s+/g," ")}},419:function(e,t,o){"use strict";e.exports=function(e,t){var o,n=e.definition(t.identifier);if(!n)return i(e,t);o={href:r(n.url||"")},null!==n.title&&void 0!==n.title&&(o.title=n.title);return e(t,"a",o,a(e,t))};var r=o(106),i=o(236),a=o(21)},42:function(e,t,o){"use strict";var n=function(){function e(e){for(var t={},o=this._getOverriddenMethods(this,t),n=0,r=Object.keys(o);n<r.length;n++){var i=r[n];"function"==typeof o[i]&&(t[i]=e[i],e[i]=o[i])}}return e.prototype._getOverriddenMethods=function(){throw new Error("Not implemented")},e}();n.install=function(e,t,o){e.__mixins||(e.__mixins=[]);for(var n=0;n<e.__mixins.length;n++)if(e.__mixins[n].constructor===t)return e.__mixins[n];var r=new t(e,o);return e.__mixins.push(r),r},e.exports=n},420:function(e,t,o){"use strict";var n=o(106),r=o(21);e.exports=function(e,t){var o={href:n(t.url)};null!==t.title&&void 0!==t.title&&(o.title=t.title);return e(t,"a",o,r(e,t))}},421:function(e,t,o){"use strict";e.exports=function(e,t,o){var n,r,i,a,s,l=t.children[0],c=g(e,t),u=o?function(e){var t=e.spread,o=e.children,n=o.length,r=-1;for(;!t&&++r<n;)t=f(o[r]);return t}(o):f(t),d={};if(u)n=c;else for(n=[],a=c.length,i=-1;++i<a;)"p"===(s=c[i]).tagName?n=n.concat(s.children):n.push(s);"boolean"==typeof t.checked&&(!u||l&&"paragraph"===l.type||n.unshift(e(null,"p",[])),0!==(r=u?n[0].children:n).length&&r.unshift(p("text"," ")),r.unshift(e(null,"input",{type:"checkbox",checked:t.checked,disabled:!0})),d.className=["task-list-item"]);u&&0!==n.length&&(n=h(n,!0));return e(t,"li",d,n)};var p=o(26),h=o(72),g=o(21);function f(e){var t=e.spread;return null==t?1<e.children.length:t}},422:function(e,t,o){"use strict";e.exports=function(e,t){return e(t,"p",n(e,t))};var n=o(21)},423:function(e,t,o){"use strict";e.exports=function(e,t){return e.augment(t,n("root",r(i(e,t))))};var n=o(26),r=o(72),i=o(21)},424:function(e,t,o){"use strict";e.exports=function(e,t){return e(t,"strong",n(e,t))};var n=o(21)},425:function(e,t,o){"use strict";e.exports=function(e,t){var o,n,r,i,a,s=t.children,l=s.length,c=t.align,u=c.length,d=[];for(;l--;){for(n=s[l].children,i=0===l?"th":"td",o=u,r=[];o--;)a=n[o],r[o]=e(a,i,{align:c[o]},a?g(e,a):[]);d[l]=e(s[l],"tr",h(r,!0))}return e(t,"table",h([e(d[0].position,"thead",h([d[0]],!0)),e({start:p.start(d[1]),end:p.end(d[d.length-1])},"tbody",h(d.slice(1),!0))],!0))};var p=o(158),h=o(72),g=o(21)},426:function(e,t,o){"use strict";e.exports=function(e,t){return e.augment(t,n("text",r(t.value)))};var n=o(26),r=o(427)},427:function(e,t,o){"use strict";e.exports=function(e){return String(e).replace(n,r)};var n=/[ \t]*\n+[ \t]*/g,r="\n"},428:function(e,t,o){"use strict";var n=o(429);e.exports=function(){return n}},429:function(e,t,o){"use strict";var u=o(430),d=o(158),p=o(444),h=o(452),g=o(455),f=o(92),m=o(251),y=o(41);e.exports=function(n,e){var r,i,a,s,t,l=new u(C),c=m("type");return c.handlers.root=function(e){o(e.children)},c.handlers.element=function(e){var t=-1!==g.indexOf(e.tagName);l._processToken(function(e){var t=O(e);return t.startTag=y(t),{type:E,tagName:e.tagName,selfClosing:!1,attrs:function(e){return h({tagName:e.tagName,type:"element",properties:e.properties}).attrs}(e),location:t}}(e),f.html),o(e.children),t||(l._processToken(function(e){var t=O(e);return t.endTag=y(t),{type:T,tagName:e.tagName,attrs:[],location:t}}(e)),r.state=v)},c.handlers.text=function(e){l._processToken({type:b,chars:e.value,location:O(e)})},c.handlers.comment=function(e){l._processToken({type:S,data:e.value,location:O(e)})},c.handlers.doctype=function(e){var t=h(e);l._processToken({type:k,name:t.name,forceQuirks:!1,publicId:t.publicId,systemId:t.systemId,location:O(e)})},c.handlers.raw=function(e){var t,o=d.start(e);i.html=null,i.endOfChunkHit=!1,i.lastChunkWritten=!1,i.lastCharPos=-1,i.pos=-1,a.droppedBufferSize=0,a.line=o.line,a.col=1,a.offset=0,a.lineStartPos=1-o.column,a.droppedBufferSize=o.offset,s.currentAttrLocation=null,s.ctLoc=O(e),r.write(e.value),l._runParsingLoop(null),(t=r.currentCharacterToken)&&(t.location.endLine=a.line,t.location.endCol=a.col+1,t.location.endOffset=a.offset+1,l._processToken(t)),r.currentToken=null,r.currentCharacterToken=null,r.currentAttr=null},c.unknown=A,t=p(function(e){var t="root"===e.type?e.children[0]:e;return t&&("doctype"===t.type||"html"===t.tagName)}(n)?function(){var e=l.treeAdapter.createDocument();return l._bootstrap(e,null),r=l.tokenizer,i=r.preprocessor,s=r.__mixins[0],a=s.posTracker,c(n),e}():function(){var e,t,o;return e={nodeName:"template",tagName:"template",attrs:[],namespaceURI:f.html,childNodes:[]},t={nodeName:"documentmock",tagName:"documentmock",attrs:[],namespaceURI:f.html,childNodes:[]},o={nodeName:"#document-fragment",childNodes:[]},l._bootstrap(t,e),l._pushTmplInsertionMode(_),l._initTokenizerForFragmentParsing(),l._insertFakeRootElement(),l._resetInsertionMode(),l._findFormInFragmentContext(),r=l.tokenizer,i=r.preprocessor,s=r.__mixins[0],a=s.posTracker,c(n),l._adoptNodes(t.childNodes[0],o),o}(),e),"root"===n.type||1!==t.children.length?t:t.children[0];function o(e){var t=0,o=-1;for(e&&(t=e.length);++o<t;)c(e[o])}};var _="IN_TEMPLATE_MODE",v="DATA_STATE",b="CHARACTER_TOKEN",E="START_TAG_TOKEN",T="END_TAG_TOKEN",S="COMMENT_TOKEN",k="DOCTYPE_TOKEN",C={sourceCodeLocationInfo:!0,scriptingEnabled:!1};function A(e){throw new Error("Cannot compile `"+e.type+"` node")}function O(e){var t=d.start(e),o=d.end(e);return{startLine:t.line,startCol:t.column,startOffset:t.offset,endLine:o.line,endCol:o.column,endOffset:o.offset}}},43:function(e,t,o){"use strict";e.exports=function(e,t,o,n,r,i,a,s){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[o,n,r,i,a,s],u=0;(l=new Error(t.replace(/%s/g,function(){return c[u++]}))).name="Invariant Violation"}throw l.framesToPop=1,l}}},430:function(e,t,o){"use strict";var n,r,i,a,s,l,c,u,d,p,h,g,f,m,y,_,v,b,E,T,S,k,C,A,O,w;function B(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var I=o(107),R=o(433),N=o(434),P=o(435),L=o(437),x=o(42),D=o(440),M=o(441),U=o(442),F=o(443),H=o(160),j=o(159),G=o(73),V=G.TAG_NAMES,W=G.NAMESPACES,z=G.ATTRS,q={scriptingEnabled:!0,sourceCodeLocationInfo:!1,onParseError:null,treeAdapter:D},K="hidden",Y=8,X=3,J="INITIAL_MODE",Q="BEFORE_HTML_MODE",$="BEFORE_HEAD_MODE",Z="IN_HEAD_MODE",ee="IN_HEAD_NO_SCRIPT_MODE",te="AFTER_HEAD_MODE",oe="IN_BODY_MODE",ne="TEXT_MODE",re="IN_TABLE_MODE",ie="IN_TABLE_TEXT_MODE",ae="IN_CAPTION_MODE",se="IN_COLUMN_GROUP_MODE",le="IN_TABLE_BODY_MODE",ce="IN_ROW_MODE",ue="IN_CELL_MODE",de="IN_SELECT_MODE",pe="IN_SELECT_IN_TABLE_MODE",he="IN_TEMPLATE_MODE",ge="AFTER_BODY_MODE",fe="IN_FRAMESET_MODE",me="AFTER_FRAMESET_MODE",ye="AFTER_AFTER_BODY_MODE",_e="AFTER_AFTER_FRAMESET_MODE",ve=(B(n={},V.TR,ce),B(n,V.TBODY,le),B(n,V.THEAD,le),B(n,V.TFOOT,le),B(n,V.CAPTION,ae),B(n,V.COLGROUP,se),B(n,V.TABLE,re),B(n,V.BODY,oe),B(n,V.FRAMESET,fe),n),be=(B(r={},V.CAPTION,re),B(r,V.COLGROUP,re),B(r,V.TBODY,re),B(r,V.TFOOT,re),B(r,V.THEAD,re),B(r,V.COL,se),B(r,V.TR,le),B(r,V.TD,ce),B(r,V.TH,ce),r),Ee=(B(w={},J,(B(i={},I.CHARACTER_TOKEN,Le),B(i,I.NULL_CHARACTER_TOKEN,Le),B(i,I.WHITESPACE_CHARACTER_TOKEN,we),B(i,I.COMMENT_TOKEN,Ie),B(i,I.DOCTYPE_TOKEN,function(e,t){e._setDocumentType(t);var o=t.forceQuirks?G.DOCUMENT_MODE.QUIRKS:U.getDocumentMode(t);U.isConforming(t)||e._err(H.nonConformingDoctype);e.treeAdapter.setDocumentMode(e.document,o),e.insertionMode=Q}),B(i,I.START_TAG_TOKEN,Le),B(i,I.END_TAG_TOKEN,Le),B(i,I.EOF_TOKEN,Le),i)),B(w,Q,(B(a={},I.CHARACTER_TOKEN,xe),B(a,I.NULL_CHARACTER_TOKEN,xe),B(a,I.WHITESPACE_CHARACTER_TOKEN,we),B(a,I.COMMENT_TOKEN,Ie),B(a,I.DOCTYPE_TOKEN,we),B(a,I.START_TAG_TOKEN,function(e,t){t.tagName===V.HTML?(e._insertElement(t,W.HTML),e.insertionMode=$):xe(e,t)}),B(a,I.END_TAG_TOKEN,function(e,t){var o=t.tagName;o!==V.HTML&&o!==V.HEAD&&o!==V.BODY&&o!==V.BR||xe(e,t)}),B(a,I.EOF_TOKEN,xe),a)),B(w,$,(B(s={},I.CHARACTER_TOKEN,De),B(s,I.NULL_CHARACTER_TOKEN,De),B(s,I.WHITESPACE_CHARACTER_TOKEN,we),B(s,I.COMMENT_TOKEN,Ie),B(s,I.DOCTYPE_TOKEN,Be),B(s,I.START_TAG_TOKEN,function(e,t){var o=t.tagName;o===V.HTML?et(e,t):o===V.HEAD?(e._insertElement(t,W.HTML),e.headElement=e.openElements.current,e.insertionMode=Z):De(e,t)}),B(s,I.END_TAG_TOKEN,function(e,t){var o=t.tagName;o===V.HEAD||o===V.BODY||o===V.HTML||o===V.BR?De(e,t):e._err(H.endTagWithoutMatchingOpenElement)}),B(s,I.EOF_TOKEN,De),s)),B(w,Z,(B(l={},I.CHARACTER_TOKEN,Fe),B(l,I.NULL_CHARACTER_TOKEN,Fe),B(l,I.WHITESPACE_CHARACTER_TOKEN,Ne),B(l,I.COMMENT_TOKEN,Ie),B(l,I.DOCTYPE_TOKEN,Be),B(l,I.START_TAG_TOKEN,Me),B(l,I.END_TAG_TOKEN,Ue),B(l,I.EOF_TOKEN,Fe),l)),B(w,ee,(B(c={},I.CHARACTER_TOKEN,He),B(c,I.NULL_CHARACTER_TOKEN,He),B(c,I.WHITESPACE_CHARACTER_TOKEN,Ne),B(c,I.COMMENT_TOKEN,Ie),B(c,I.DOCTYPE_TOKEN,Be),B(c,I.START_TAG_TOKEN,function(e,t){var o=t.tagName;o===V.HTML?et(e,t):o===V.BASEFONT||o===V.BGSOUND||o===V.HEAD||o===V.LINK||o===V.META||o===V.NOFRAMES||o===V.STYLE?Me(e,t):o===V.NOSCRIPT?e._err(H.nestedNoscriptInHead):He(e,t)}),B(c,I.END_TAG_TOKEN,function(e,t){var o=t.tagName;o===V.NOSCRIPT?(e.openElements.pop(),e.insertionMode=Z):o===V.BR?He(e,t):e._err(H.endTagWithoutMatchingOpenElement)}),B(c,I.EOF_TOKEN,He),c)),B(w,te,(B(u={},I.CHARACTER_TOKEN,je),B(u,I.NULL_CHARACTER_TOKEN,je),B(u,I.WHITESPACE_CHARACTER_TOKEN,Ne),B(u,I.COMMENT_TOKEN,Ie),B(u,I.DOCTYPE_TOKEN,Be),B(u,I.START_TAG_TOKEN,function(e,t){var o=t.tagName;o===V.HTML?et(e,t):o===V.BODY?(e._insertElement(t,W.HTML),e.framesetOk=!1,e.insertionMode=oe):o===V.FRAMESET?(e._insertElement(t,W.HTML),e.insertionMode=fe):o===V.BASE||o===V.BASEFONT||o===V.BGSOUND||o===V.LINK||o===V.META||o===V.NOFRAMES||o===V.SCRIPT||o===V.STYLE||o===V.TEMPLATE||o===V.TITLE?(e._err(H.abandonedHeadElementChild),e.openElements.push(e.headElement),Me(e,t),e.openElements.remove(e.headElement)):o===V.HEAD?e._err(H.misplacedStartTagForHeadElement):je(e,t)}),B(u,I.END_TAG_TOKEN,function(e,t){var o=t.tagName;o===V.BODY||o===V.HTML||o===V.BR?je(e,t):o===V.TEMPLATE?Ue(e,t):e._err(H.endTagWithoutMatchingOpenElement)}),B(u,I.EOF_TOKEN,je),u)),B(w,oe,(B(d={},I.CHARACTER_TOKEN,Ve),B(d,I.NULL_CHARACTER_TOKEN,we),B(d,I.WHITESPACE_CHARACTER_TOKEN,Ge),B(d,I.COMMENT_TOKEN,Ie),B(d,I.DOCTYPE_TOKEN,we),B(d,I.START_TAG_TOKEN,et),B(d,I.END_TAG_TOKEN,rt),B(d,I.EOF_TOKEN,it),d)),B(w,ne,(B(p={},I.CHARACTER_TOKEN,Ne),B(p,I.NULL_CHARACTER_TOKEN,Ne),B(p,I.WHITESPACE_CHARACTER_TOKEN,Ne),B(p,I.COMMENT_TOKEN,we),B(p,I.DOCTYPE_TOKEN,we),B(p,I.START_TAG_TOKEN,we),B(p,I.END_TAG_TOKEN,function(e,t){t.tagName===V.SCRIPT&&(e.pendingScript=e.openElements.current);e.openElements.pop(),e.insertionMode=e.originalInsertionMode}),B(p,I.EOF_TOKEN,function(e,t){e._err(H.eofInElementThatCanContainOnlyText),e.openElements.pop(),e.insertionMode=e.originalInsertionMode,e._processToken(t)}),p)),B(w,re,(B(h={},I.CHARACTER_TOKEN,at),B(h,I.NULL_CHARACTER_TOKEN,at),B(h,I.WHITESPACE_CHARACTER_TOKEN,at),B(h,I.COMMENT_TOKEN,Ie),B(h,I.DOCTYPE_TOKEN,we),B(h,I.START_TAG_TOKEN,st),B(h,I.END_TAG_TOKEN,lt),B(h,I.EOF_TOKEN,it),h)),B(w,ie,(B(g={},I.CHARACTER_TOKEN,function(e,t){e.pendingCharacterTokens.push(t),e.hasNonWhitespacePendingCharacterToken=!0}),B(g,I.NULL_CHARACTER_TOKEN,we),B(g,I.WHITESPACE_CHARACTER_TOKEN,function(e,t){e.pendingCharacterTokens.push(t)}),B(g,I.COMMENT_TOKEN,ut),B(g,I.DOCTYPE_TOKEN,ut),B(g,I.START_TAG_TOKEN,ut),B(g,I.END_TAG_TOKEN,ut),B(g,I.EOF_TOKEN,ut),g)),B(w,ae,(B(f={},I.CHARACTER_TOKEN,Ve),B(f,I.NULL_CHARACTER_TOKEN,we),B(f,I.WHITESPACE_CHARACTER_TOKEN,Ge),B(f,I.COMMENT_TOKEN,Ie),B(f,I.DOCTYPE_TOKEN,we),B(f,I.START_TAG_TOKEN,function(e,t){var o=t.tagName;o===V.CAPTION||o===V.COL||o===V.COLGROUP||o===V.TBODY||o===V.TD||o===V.TFOOT||o===V.TH||o===V.THEAD||o===V.TR?e.openElements.hasInTableScope(V.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(V.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=re,e._processToken(t)):et(e,t)}),B(f,I.END_TAG_TOKEN,function(e,t){var o=t.tagName;o===V.CAPTION||o===V.TABLE?e.openElements.hasInTableScope(V.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(V.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=re,o===V.TABLE&&e._processToken(t)):o!==V.BODY&&o!==V.COL&&o!==V.COLGROUP&&o!==V.HTML&&o!==V.TBODY&&o!==V.TD&&o!==V.TFOOT&&o!==V.TH&&o!==V.THEAD&&o!==V.TR&&rt(e,t)}),B(f,I.EOF_TOKEN,it),f)),B(w,se,(B(m={},I.CHARACTER_TOKEN,dt),B(m,I.NULL_CHARACTER_TOKEN,dt),B(m,I.WHITESPACE_CHARACTER_TOKEN,Ne),B(m,I.COMMENT_TOKEN,Ie),B(m,I.DOCTYPE_TOKEN,we),B(m,I.START_TAG_TOKEN,function(e,t){var o=t.tagName;o===V.HTML?et(e,t):o===V.COL?(e._appendElement(t,W.HTML),t.ackSelfClosing=!0):o===V.TEMPLATE?Me(e,t):dt(e,t)}),B(m,I.END_TAG_TOKEN,function(e,t){var o=t.tagName;o===V.COLGROUP?e.openElements.currentTagName===V.COLGROUP&&(e.openElements.pop(),e.insertionMode=re):o===V.TEMPLATE?Ue(e,t):o!==V.COL&&dt(e,t)}),B(m,I.EOF_TOKEN,it),m)),B(w,le,(B(y={},I.CHARACTER_TOKEN,at),B(y,I.NULL_CHARACTER_TOKEN,at),B(y,I.WHITESPACE_CHARACTER_TOKEN,at),B(y,I.COMMENT_TOKEN,Ie),B(y,I.DOCTYPE_TOKEN,we),B(y,I.START_TAG_TOKEN,function(e,t){var o=t.tagName;o===V.TR?(e.openElements.clearBackToTableBodyContext(),e._insertElement(t,W.HTML),e.insertionMode=ce):o===V.TH||o===V.TD?(e.openElements.clearBackToTableBodyContext(),e._insertFakeElement(V.TR),e.insertionMode=ce,e._processToken(t)):o===V.CAPTION||o===V.COL||o===V.COLGROUP||o===V.TBODY||o===V.TFOOT||o===V.THEAD?e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=re,e._processToken(t)):st(e,t)}),B(y,I.END_TAG_TOKEN,function(e,t){var o=t.tagName;o===V.TBODY||o===V.TFOOT||o===V.THEAD?e.openElements.hasInTableScope(o)&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=re):o===V.TABLE?e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=re,e._processToken(t)):(o!==V.BODY&&o!==V.CAPTION&&o!==V.COL&&o!==V.COLGROUP||o!==V.HTML&&o!==V.TD&&o!==V.TH&&o!==V.TR)&&lt(e,t)}),B(y,I.EOF_TOKEN,it),y)),B(w,ce,(B(_={},I.CHARACTER_TOKEN,at),B(_,I.NULL_CHARACTER_TOKEN,at),B(_,I.WHITESPACE_CHARACTER_TOKEN,at),B(_,I.COMMENT_TOKEN,Ie),B(_,I.DOCTYPE_TOKEN,we),B(_,I.START_TAG_TOKEN,function(e,t){var o=t.tagName;o===V.TH||o===V.TD?(e.openElements.clearBackToTableRowContext(),e._insertElement(t,W.HTML),e.insertionMode=ue,e.activeFormattingElements.insertMarker()):o===V.CAPTION||o===V.COL||o===V.COLGROUP||o===V.TBODY||o===V.TFOOT||o===V.THEAD||o===V.TR?e.openElements.hasInTableScope(V.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=le,e._processToken(t)):st(e,t)}),B(_,I.END_TAG_TOKEN,function(e,t){var o=t.tagName;o===V.TR?e.openElements.hasInTableScope(V.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=le):o===V.TABLE?e.openElements.hasInTableScope(V.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=le,e._processToken(t)):o===V.TBODY||o===V.TFOOT||o===V.THEAD?(e.openElements.hasInTableScope(o)||e.openElements.hasInTableScope(V.TR))&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=le,e._processToken(t)):(o!==V.BODY&&o!==V.CAPTION&&o!==V.COL&&o!==V.COLGROUP||o!==V.HTML&&o!==V.TD&&o!==V.TH)&&lt(e,t)}),B(_,I.EOF_TOKEN,it),_)),B(w,ue,(B(v={},I.CHARACTER_TOKEN,Ve),B(v,I.NULL_CHARACTER_TOKEN,we),B(v,I.WHITESPACE_CHARACTER_TOKEN,Ge),B(v,I.COMMENT_TOKEN,Ie),B(v,I.DOCTYPE_TOKEN,we),B(v,I.START_TAG_TOKEN,function(e,t){var o=t.tagName;o===V.CAPTION||o===V.COL||o===V.COLGROUP||o===V.TBODY||o===V.TD||o===V.TFOOT||o===V.TH||o===V.THEAD||o===V.TR?(e.openElements.hasInTableScope(V.TD)||e.openElements.hasInTableScope(V.TH))&&(e._closeTableCell(),e._processToken(t)):et(e,t)}),B(v,I.END_TAG_TOKEN,function(e,t){var o=t.tagName;o===V.TD||o===V.TH?e.openElements.hasInTableScope(o)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(o),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=ce):o===V.TABLE||o===V.TBODY||o===V.TFOOT||o===V.THEAD||o===V.TR?e.openElements.hasInTableScope(o)&&(e._closeTableCell(),e._processToken(t)):o!==V.BODY&&o!==V.CAPTION&&o!==V.COL&&o!==V.COLGROUP&&o!==V.HTML&&rt(e,t)}),B(v,I.EOF_TOKEN,it),v)),B(w,de,(B(b={},I.CHARACTER_TOKEN,Ne),B(b,I.NULL_CHARACTER_TOKEN,we),B(b,I.WHITESPACE_CHARACTER_TOKEN,Ne),B(b,I.COMMENT_TOKEN,Ie),B(b,I.DOCTYPE_TOKEN,we),B(b,I.START_TAG_TOKEN,pt),B(b,I.END_TAG_TOKEN,ht),B(b,I.EOF_TOKEN,it),b)),B(w,pe,(B(E={},I.CHARACTER_TOKEN,Ne),B(E,I.NULL_CHARACTER_TOKEN,we),B(E,I.WHITESPACE_CHARACTER_TOKEN,Ne),B(E,I.COMMENT_TOKEN,Ie),B(E,I.DOCTYPE_TOKEN,we),B(E,I.START_TAG_TOKEN,function(e,t){var o=t.tagName;o===V.CAPTION||o===V.TABLE||o===V.TBODY||o===V.TFOOT||o===V.THEAD||o===V.TR||o===V.TD||o===V.TH?(e.openElements.popUntilTagNamePopped(V.SELECT),e._resetInsertionMode(),e._processToken(t)):pt(e,t)}),B(E,I.END_TAG_TOKEN,function(e,t){var o=t.tagName;o===V.CAPTION||o===V.TABLE||o===V.TBODY||o===V.TFOOT||o===V.THEAD||o===V.TR||o===V.TD||o===V.TH?e.openElements.hasInTableScope(o)&&(e.openElements.popUntilTagNamePopped(V.SELECT),e._resetInsertionMode(),e._processToken(t)):ht(e,t)}),B(E,I.EOF_TOKEN,it),E)),B(w,he,(B(T={},I.CHARACTER_TOKEN,Ve),B(T,I.NULL_CHARACTER_TOKEN,we),B(T,I.WHITESPACE_CHARACTER_TOKEN,Ge),B(T,I.COMMENT_TOKEN,Ie),B(T,I.DOCTYPE_TOKEN,we),B(T,I.START_TAG_TOKEN,function(e,t){var o=t.tagName;if(o===V.BASE||o===V.BASEFONT||o===V.BGSOUND||o===V.LINK||o===V.META||o===V.NOFRAMES||o===V.SCRIPT||o===V.STYLE||o===V.TEMPLATE||o===V.TITLE)Me(e,t);else{var n=be[o]||oe;e._popTmplInsertionMode(),e._pushTmplInsertionMode(n),e.insertionMode=n,e._processToken(t)}}),B(T,I.END_TAG_TOKEN,function(e,t){t.tagName===V.TEMPLATE&&Ue(e,t)}),B(T,I.EOF_TOKEN,gt),T)),B(w,ge,(B(S={},I.CHARACTER_TOKEN,ft),B(S,I.NULL_CHARACTER_TOKEN,ft),B(S,I.WHITESPACE_CHARACTER_TOKEN,Ge),B(S,I.COMMENT_TOKEN,function(e,t){e._appendCommentNode(t,e.openElements.items[0])}),B(S,I.DOCTYPE_TOKEN,we),B(S,I.START_TAG_TOKEN,function(e,t){t.tagName===V.HTML?et(e,t):ft(e,t)}),B(S,I.END_TAG_TOKEN,function(e,t){t.tagName===V.HTML?e.fragmentContext||(e.insertionMode=ye):ft(e,t)}),B(S,I.EOF_TOKEN,Pe),S)),B(w,fe,(B(k={},I.CHARACTER_TOKEN,we),B(k,I.NULL_CHARACTER_TOKEN,we),B(k,I.WHITESPACE_CHARACTER_TOKEN,Ne),B(k,I.COMMENT_TOKEN,Ie),B(k,I.DOCTYPE_TOKEN,we),B(k,I.START_TAG_TOKEN,function(e,t){var o=t.tagName;o===V.HTML?et(e,t):o===V.FRAMESET?e._insertElement(t,W.HTML):o===V.FRAME?(e._appendElement(t,W.HTML),t.ackSelfClosing=!0):o===V.NOFRAMES&&Me(e,t)}),B(k,I.END_TAG_TOKEN,function(e,t){t.tagName!==V.FRAMESET||e.openElements.isRootHtmlElementCurrent()||(e.openElements.pop(),e.fragmentContext||e.openElements.currentTagName===V.FRAMESET||(e.insertionMode=me))}),B(k,I.EOF_TOKEN,Pe),k)),B(w,me,(B(C={},I.CHARACTER_TOKEN,we),B(C,I.NULL_CHARACTER_TOKEN,we),B(C,I.WHITESPACE_CHARACTER_TOKEN,Ne),B(C,I.COMMENT_TOKEN,Ie),B(C,I.DOCTYPE_TOKEN,we),B(C,I.START_TAG_TOKEN,function(e,t){var o=t.tagName;o===V.HTML?et(e,t):o===V.NOFRAMES&&Me(e,t)}),B(C,I.END_TAG_TOKEN,function(e,t){t.tagName===V.HTML&&(e.insertionMode=_e)}),B(C,I.EOF_TOKEN,Pe),C)),B(w,ye,(B(A={},I.CHARACTER_TOKEN,mt),B(A,I.NULL_CHARACTER_TOKEN,mt),B(A,I.WHITESPACE_CHARACTER_TOKEN,Ge),B(A,I.COMMENT_TOKEN,Re),B(A,I.DOCTYPE_TOKEN,we),B(A,I.START_TAG_TOKEN,function(e,t){t.tagName===V.HTML?et(e,t):mt(e,t)}),B(A,I.END_TAG_TOKEN,mt),B(A,I.EOF_TOKEN,Pe),A)),B(w,_e,(B(O={},I.CHARACTER_TOKEN,we),B(O,I.NULL_CHARACTER_TOKEN,we),B(O,I.WHITESPACE_CHARACTER_TOKEN,Ge),B(O,I.COMMENT_TOKEN,Re),B(O,I.DOCTYPE_TOKEN,we),B(O,I.START_TAG_TOKEN,function(e,t){var o=t.tagName;o===V.HTML?et(e,t):o===V.NOFRAMES&&Me(e,t)}),B(O,I.END_TAG_TOKEN,we),B(O,I.EOF_TOKEN,Pe),O)),w),Te=function(){function e(e){this.options=M(q,e),this.treeAdapter=this.options.treeAdapter,this.pendingScript=null,this.options.sourceCodeLocationInfo&&x.install(this,P),this.options.onParseError&&x.install(this,L,{onParseError:this.options.onParseError})}var t=e.prototype;return t.parse=function(e){var t=this.treeAdapter.createDocument();return this._bootstrap(t,null),this.tokenizer.write(e,!0),this._runParsingLoop(null),t},t.parseFragment=function(e,t){t||(t=this.treeAdapter.createElement(V.TEMPLATE,W.HTML,[]));var o=this.treeAdapter.createElement("documentmock",W.HTML,[]);this._bootstrap(o,t),this.treeAdapter.getTagName(t)===V.TEMPLATE&&this._pushTmplInsertionMode(he),this._initTokenizerForFragmentParsing(),this._insertFakeRootElement(),this._resetInsertionMode(),this._findFormInFragmentContext(),this.tokenizer.write(e,!0),this._runParsingLoop(null);var n=this.treeAdapter.getFirstChild(o),r=this.treeAdapter.createDocumentFragment();return this._adoptNodes(n,r),r},t._bootstrap=function(e,t){this.tokenizer=new I(this.options),this.stopped=!1,this.insertionMode=J,this.originalInsertionMode="",this.document=e,this.fragmentContext=t,this.headElement=null,this.formElement=null,this.openElements=new R(this.document,this.treeAdapter),this.activeFormattingElements=new N(this.treeAdapter),this.tmplInsertionModeStack=[],this.tmplInsertionModeStackTop=-1,this.currentTmplInsertionMode=null,this.pendingCharacterTokens=[],this.hasNonWhitespacePendingCharacterToken=!1,this.framesetOk=!0,this.skipNextNewLine=!1,this.fosterParentingEnabled=!1},t._err=function(){},t._runParsingLoop=function(e){for(;!this.stopped;){this._setupTokenizerCDATAMode();var t=this.tokenizer.getNextToken();if(t.type===I.HIBERNATION_TOKEN)break;if(this.skipNextNewLine&&(this.skipNextNewLine=!1,t.type===I.WHITESPACE_CHARACTER_TOKEN&&"\n"===t.chars[0])){if(1===t.chars.length)continue;t.chars=t.chars.substr(1)}if(this._processInputToken(t),e&&this.pendingScript)break}},t.runParsingLoopForCurrentChunk=function(e,t){if(this._runParsingLoop(t),t&&this.pendingScript){var o=this.pendingScript;return this.pendingScript=null,void t(o)}e&&e()},t._setupTokenizerCDATAMode=function(){var e=this._getAdjustedCurrentElement();this.tokenizer.allowCDATA=e&&e!==this.document&&this.treeAdapter.getNamespaceURI(e)!==W.HTML&&!this._isIntegrationPoint(e)},t._switchToTextParsing=function(e,t){this._insertElement(e,W.HTML),this.tokenizer.state=t,this.originalInsertionMode=this.insertionMode,this.insertionMode=ne},t.switchToPlaintextParsing=function(){this.insertionMode=ne,this.originalInsertionMode=oe,this.tokenizer.state=I.MODE.PLAINTEXT},t._getAdjustedCurrentElement=function(){return 0===this.openElements.stackTop&&this.fragmentContext?this.fragmentContext:this.openElements.current},t._findFormInFragmentContext=function(){var e=this.fragmentContext;do{if(this.treeAdapter.getTagName(e)===V.FORM){this.formElement=e;break}e=this.treeAdapter.getParentNode(e)}while(e)},t._initTokenizerForFragmentParsing=function(){if(this.treeAdapter.getNamespaceURI(this.fragmentContext)===W.HTML){var e=this.treeAdapter.getTagName(this.fragmentContext);e===V.TITLE||e===V.TEXTAREA?this.tokenizer.state=I.MODE.RCDATA:e===V.STYLE||e===V.XMP||e===V.IFRAME||e===V.NOEMBED||e===V.NOFRAMES||e===V.NOSCRIPT?this.tokenizer.state=I.MODE.RAWTEXT:e===V.SCRIPT?this.tokenizer.state=I.MODE.SCRIPT_DATA:e===V.PLAINTEXT&&(this.tokenizer.state=I.MODE.PLAINTEXT)}},t._setDocumentType=function(e){var t=e.name||"",o=e.publicId||"",n=e.systemId||"";this.treeAdapter.setDocumentType(this.document,t,o,n)},t._attachElementToTree=function(e){if(this._shouldFosterParentOnInsertion())this._fosterParentElement(e);else{var t=this.openElements.currentTmplContent||this.openElements.current;this.treeAdapter.appendChild(t,e)}},t._appendElement=function(e,t){var o=this.treeAdapter.createElement(e.tagName,t,e.attrs);this._attachElementToTree(o)},t._insertElement=function(e,t){var o=this.treeAdapter.createElement(e.tagName,t,e.attrs);this._attachElementToTree(o),this.openElements.push(o)},t._insertFakeElement=function(e){var t=this.treeAdapter.createElement(e,W.HTML,[]);this._attachElementToTree(t),this.openElements.push(t)},t._insertTemplate=function(e){var t=this.treeAdapter.createElement(e.tagName,W.HTML,e.attrs),o=this.treeAdapter.createDocumentFragment();this.treeAdapter.setTemplateContent(t,o),this._attachElementToTree(t),this.openElements.push(t)},t._insertFakeRootElement=function(){var e=this.treeAdapter.createElement(V.HTML,W.HTML,[]);this.treeAdapter.appendChild(this.openElements.current,e),this.openElements.push(e)},t._appendCommentNode=function(e,t){var o=this.treeAdapter.createCommentNode(e.data);this.treeAdapter.appendChild(t,o)},t._insertCharacters=function(e){if(this._shouldFosterParentOnInsertion())this._fosterParentText(e.chars);else{var t=this.openElements.currentTmplContent||this.openElements.current;this.treeAdapter.insertText(t,e.chars)}},t._adoptNodes=function(e,t){for(var o=this.treeAdapter.getFirstChild(e);o;o=this.treeAdapter.getFirstChild(e))this.treeAdapter.detachNode(o),this.treeAdapter.appendChild(t,o)},t._shouldProcessTokenInForeignContent=function(e){var t=this._getAdjustedCurrentElement();if(!t||t===this.document)return!1;var o=this.treeAdapter.getNamespaceURI(t);if(o===W.HTML)return!1;if(this.treeAdapter.getTagName(t)===V.ANNOTATION_XML&&o===W.MATHML&&e.type===I.START_TAG_TOKEN&&e.tagName===V.SVG)return!1;var n=e.type===I.CHARACTER_TOKEN||e.type===I.NULL_CHARACTER_TOKEN||e.type===I.WHITESPACE_CHARACTER_TOKEN;return(!(e.type===I.START_TAG_TOKEN&&e.tagName!==V.MGLYPH&&e.tagName!==V.MALIGNMARK)&&!n||!this._isIntegrationPoint(t,W.MATHML))&&((e.type!==I.START_TAG_TOKEN&&!n||!this._isIntegrationPoint(t,W.HTML))&&e.type!==I.EOF_TOKEN)},t._processToken=function(e){Ee[this.insertionMode][e.type](this,e)},t._processTokenInBodyMode=function(e){Ee[oe][e.type](this,e)},t._processTokenInForeignContent=function(e){e.type===I.CHARACTER_TOKEN?function(e,t){e._insertCharacters(t),e.framesetOk=!1}(this,e):e.type===I.NULL_CHARACTER_TOKEN?function(e,t){t.chars=j.REPLACEMENT_CHARACTER,e._insertCharacters(t)}(this,e):e.type===I.WHITESPACE_CHARACTER_TOKEN?Ne(this,e):e.type===I.COMMENT_TOKEN?Ie(this,e):e.type===I.START_TAG_TOKEN?function(e,t){if(F.causesExit(t)&&!e.fragmentContext){for(;e.treeAdapter.getNamespaceURI(e.openElements.current)!==W.HTML&&!e._isIntegrationPoint(e.openElements.current);)e.openElements.pop();e._processToken(t)}else{var o=e._getAdjustedCurrentElement(),n=e.treeAdapter.getNamespaceURI(o);n===W.MATHML?F.adjustTokenMathMLAttrs(t):n===W.SVG&&(F.adjustTokenSVGTagName(t),F.adjustTokenSVGAttrs(t)),F.adjustTokenXMLAttrs(t),t.selfClosing?e._appendElement(t,n):e._insertElement(t,n),t.ackSelfClosing=!0}}(this,e):e.type===I.END_TAG_TOKEN&&function(e,t){for(var o=e.openElements.stackTop;0<o;o--){var n=e.openElements.items[o];if(e.treeAdapter.getNamespaceURI(n)===W.HTML){e._processToken(t);break}if(e.treeAdapter.getTagName(n).toLowerCase()===t.tagName){e.openElements.popUntilElementPopped(n);break}}}(this,e)},t._processInputToken=function(e){this._shouldProcessTokenInForeignContent(e)?this._processTokenInForeignContent(e):this._processToken(e),e.type===I.START_TAG_TOKEN&&e.selfClosing&&!e.ackSelfClosing&&this._err(H.nonVoidHtmlElementStartTagWithTrailingSolidus)},t._isIntegrationPoint=function(e,t){var o=this.treeAdapter.getTagName(e),n=this.treeAdapter.getNamespaceURI(e),r=this.treeAdapter.getAttrList(e);return F.isIntegrationPoint(o,n,r,t)},t._reconstructActiveFormattingElements=function(){var e=this.activeFormattingElements.length;if(e){var t=e,o=null;do{if(t--,(o=this.activeFormattingElements.entries[t]).type===N.MARKER_ENTRY||this.openElements.contains(o.element)){t++;break}}while(0<t);for(var n=t;n<e;n++)o=this.activeFormattingElements.entries[n],this._insertElement(o.token,this.treeAdapter.getNamespaceURI(o.element)),o.element=this.openElements.current}},t._closeTableCell=function(){this.openElements.generateImpliedEndTags(),this.openElements.popUntilTableCellPopped(),this.activeFormattingElements.clearToLastMarker(),this.insertionMode=ce},t._closePElement=function(){this.openElements.generateImpliedEndTagsWithExclusion(V.P),this.openElements.popUntilTagNamePopped(V.P)},t._resetInsertionMode=function(){for(var e=this.openElements.stackTop,t=!1;0<=e;e--){var o=this.openElements.items[e];0===e&&(t=!0,this.fragmentContext&&(o=this.fragmentContext));var n=this.treeAdapter.getTagName(o),r=ve[n];if(r){this.insertionMode=r;break}if(!(t||n!==V.TD&&n!==V.TH)){this.insertionMode=ue;break}if(!t&&n===V.HEAD){this.insertionMode=Z;break}if(n===V.SELECT){this._resetInsertionModeForSelect(e);break}if(n===V.TEMPLATE){this.insertionMode=this.currentTmplInsertionMode;break}if(n===V.HTML){this.insertionMode=this.headElement?te:$;break}if(t){this.insertionMode=oe;break}}},t._resetInsertionModeForSelect=function(e){if(0<e)for(var t=e-1;0<t;t--){var o=this.openElements.items[t],n=this.treeAdapter.getTagName(o);if(n===V.TEMPLATE)break;if(n===V.TABLE)return void(this.insertionMode=pe)}this.insertionMode=de},t._pushTmplInsertionMode=function(e){this.tmplInsertionModeStack.push(e),this.tmplInsertionModeStackTop++,this.currentTmplInsertionMode=e},t._popTmplInsertionMode=function(){this.tmplInsertionModeStack.pop(),this.tmplInsertionModeStackTop--,this.currentTmplInsertionMode=this.tmplInsertionModeStack[this.tmplInsertionModeStackTop]},t._isElementCausesFosterParenting=function(e){var t=this.treeAdapter.getTagName(e);return t===V.TABLE||t===V.TBODY||t===V.TFOOT||t===V.THEAD||t===V.TR},t._shouldFosterParentOnInsertion=function(){return this.fosterParentingEnabled&&this._isElementCausesFosterParenting(this.openElements.current)},t._findFosterParentingLocation=function(){for(var e={parent:null,beforeElement:null},t=this.openElements.stackTop;0<=t;t--){var o=this.openElements.items[t],n=this.treeAdapter.getTagName(o),r=this.treeAdapter.getNamespaceURI(o);if(n===V.TEMPLATE&&r===W.HTML){e.parent=this.treeAdapter.getTemplateContent(o);break}if(n===V.TABLE){e.parent=this.treeAdapter.getParentNode(o),e.parent?e.beforeElement=o:e.parent=this.openElements.items[t-1];break}}return e.parent||(e.parent=this.openElements.items[0]),e},t._fosterParentElement=function(e){var t=this._findFosterParentingLocation();t.beforeElement?this.treeAdapter.insertBefore(t.parent,e,t.beforeElement):this.treeAdapter.appendChild(t.parent,e)},t._fosterParentText=function(e){var t=this._findFosterParentingLocation();t.beforeElement?this.treeAdapter.insertTextBefore(t.parent,e,t.beforeElement):this.treeAdapter.insertText(t.parent,e)},t._isSpecialElement=function(e){var t=this.treeAdapter.getTagName(e),o=this.treeAdapter.getNamespaceURI(e);return G.SPECIAL_ELEMENTS[o][t]},e}();function Se(e,t){for(var o=null,n=e.openElements.stackTop;0<=n;n--){var r=e.openElements.items[n];if(r===t.element)break;e._isSpecialElement(r)&&(o=r)}return o||(e.openElements.popUntilElementPopped(t.element),e.activeFormattingElements.removeEntry(t)),o}function ke(e,t,o){for(var n=t,r=e.openElements.getCommonAncestor(t),i=0,a=r;a!==o;i++,a=r){r=e.openElements.getCommonAncestor(a);var s=e.activeFormattingElements.getElementEntry(a),l=s&&X<=i;!s||l?(l&&e.activeFormattingElements.removeEntry(s),e.openElements.remove(a)):(a=Ce(e,s),n===t&&(e.activeFormattingElements.bookmark=s),e.treeAdapter.detachNode(n),e.treeAdapter.appendChild(a,n),n=a)}return n}function Ce(e,t){var o=e.treeAdapter.getNamespaceURI(t.element),n=e.treeAdapter.createElement(t.token.tagName,o,t.token.attrs);return e.openElements.replace(t.element,n),t.element=n}function Ae(e,t,o){if(e._isElementCausesFosterParenting(t))e._fosterParentElement(o);else{var n=e.treeAdapter.getTagName(t),r=e.treeAdapter.getNamespaceURI(t);n===V.TEMPLATE&&r===W.HTML&&(t=e.treeAdapter.getTemplateContent(t)),e.treeAdapter.appendChild(t,o)}}function Oe(e,t){for(var o,n,r,i,a,s,l,c,u,d,p=0;p<Y&&(u=t,d=void 0,(d=(c=e).activeFormattingElements.getElementEntryInScopeWithTagName(u.tagName))?c.openElements.contains(d.element)?c.openElements.hasInScope(u.tagName)||(d=null):(c.activeFormattingElements.removeEntry(d),d=null):nt(c,u),o=d);p++){var h=Se(e,o);if(!h)break;e.activeFormattingElements.bookmark=o;var g=ke(e,h,o.element),f=e.openElements.getCommonAncestor(o.element);e.treeAdapter.detachNode(g),Ae(e,f,g),r=h,i=o,void 0,a=(n=e).treeAdapter.getNamespaceURI(i.element),s=i.token,l=n.treeAdapter.createElement(s.tagName,a,s.attrs),n._adoptNodes(r,l),n.treeAdapter.appendChild(r,l),n.activeFormattingElements.insertElementAfterBookmark(l,i.token),n.activeFormattingElements.removeEntry(i),n.openElements.remove(i.element),n.openElements.insertAfter(r,l)}}function we(){}function Be(e){e._err(H.misplacedDoctype)}function Ie(e,t){e._appendCommentNode(t,e.openElements.currentTmplContent||e.openElements.current)}function Re(e,t){e._appendCommentNode(t,e.document)}function Ne(e,t){e._insertCharacters(t)}function Pe(e){e.stopped=!0}function Le(e,t){e._err(H.missingDoctype,{beforeToken:!0}),e.treeAdapter.setDocumentMode(e.document,G.DOCUMENT_MODE.QUIRKS),e.insertionMode=Q,e._processToken(t)}function xe(e,t){e._insertFakeRootElement(),e.insertionMode=$,e._processToken(t)}function De(e,t){e._insertFakeElement(V.HEAD),e.headElement=e.openElements.current,e.insertionMode=Z,e._processToken(t)}function Me(e,t){var o=t.tagName;o===V.HTML?et(e,t):o===V.BASE||o===V.BASEFONT||o===V.BGSOUND||o===V.LINK||o===V.META?(e._appendElement(t,W.HTML),t.ackSelfClosing=!0):o===V.TITLE?e._switchToTextParsing(t,I.MODE.RCDATA):o===V.NOSCRIPT?e.options.scriptingEnabled?e._switchToTextParsing(t,I.MODE.RAWTEXT):(e._insertElement(t,W.HTML),e.insertionMode=ee):o===V.NOFRAMES||o===V.STYLE?e._switchToTextParsing(t,I.MODE.RAWTEXT):o===V.SCRIPT?e._switchToTextParsing(t,I.MODE.SCRIPT_DATA):o===V.TEMPLATE?(e._insertTemplate(t,W.HTML),e.activeFormattingElements.insertMarker(),e.framesetOk=!1,e.insertionMode=he,e._pushTmplInsertionMode(he)):o===V.HEAD?e._err(H.misplacedStartTagForHeadElement):Fe(e,t)}function Ue(e,t){var o=t.tagName;o===V.HEAD?(e.openElements.pop(),e.insertionMode=te):o===V.BODY||o===V.BR||o===V.HTML?Fe(e,t):o===V.TEMPLATE&&0<e.openElements.tmplCount?(e.openElements.generateImpliedEndTagsThoroughly(),e.openElements.currentTagName!==V.TEMPLATE&&e._err(H.closingOfElementWithOpenChildElements),e.openElements.popUntilTagNamePopped(V.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e._popTmplInsertionMode(),e._resetInsertionMode()):e._err(H.endTagWithoutMatchingOpenElement)}function Fe(e,t){e.openElements.pop(),e.insertionMode=te,e._processToken(t)}function He(e,t){var o=t.type===I.EOF_TOKEN?H.openElementsLeftAfterEof:H.disallowedContentInNoscriptInHead;e._err(o),e.openElements.pop(),e.insertionMode=Z,e._processToken(t)}function je(e,t){e._insertFakeElement(V.BODY),e.insertionMode=oe,e._processToken(t)}function Ge(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t)}function Ve(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t),e.framesetOk=!1}function We(e,t){e.openElements.hasInButtonScope(V.P)&&e._closePElement(),e._insertElement(t,W.HTML)}function ze(e,t){e.openElements.hasInButtonScope(V.P)&&e._closePElement(),e._insertElement(t,W.HTML),e.skipNextNewLine=!0,e.framesetOk=!1}function qe(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,W.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function Ke(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,W.HTML),e.activeFormattingElements.insertMarker(),e.framesetOk=!1}function Ye(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,W.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}function Xe(e,t){e._appendElement(t,W.HTML),t.ackSelfClosing=!0}function Je(e,t){e._switchToTextParsing(t,I.MODE.RAWTEXT)}function Qe(e,t){e.openElements.currentTagName===V.OPTION&&e.openElements.pop(),e._reconstructActiveFormattingElements(),e._insertElement(t,W.HTML)}function $e(e,t){e.openElements.hasInScope(V.RUBY)&&e.openElements.generateImpliedEndTags(),e._insertElement(t,W.HTML)}function Ze(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,W.HTML)}function et(e,t){var o=t.tagName;switch(o.length){case 1:o===V.I||o===V.S||o===V.B||o===V.U?qe(e,t):o===V.P?We(e,t):o===V.A?function(e,t){var o=e.activeFormattingElements.getElementEntryInScopeWithTagName(V.A);o&&(Oe(e,t),e.openElements.remove(o.element),e.activeFormattingElements.removeEntry(o)),e._reconstructActiveFormattingElements(),e._insertElement(t,W.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}(e,t):Ze(e,t);break;case 2:o===V.DL||o===V.OL||o===V.UL?We(e,t):o===V.H1||o===V.H2||o===V.H3||o===V.H4||o===V.H5||o===V.H6?function(e,t){e.openElements.hasInButtonScope(V.P)&&e._closePElement();var o=e.openElements.currentTagName;o!==V.H1&&o!==V.H2&&o!==V.H3&&o!==V.H4&&o!==V.H5&&o!==V.H6||e.openElements.pop(),e._insertElement(t,W.HTML)}(e,t):o===V.LI||o===V.DD||o===V.DT?function(e,t){e.framesetOk=!1;for(var o=t.tagName,n=e.openElements.stackTop;0<=n;n--){var r=e.openElements.items[n],i=e.treeAdapter.getTagName(r),a=null;if(o===V.LI&&i===V.LI?a=V.LI:o!==V.DD&&o!==V.DT||i!==V.DD&&i!==V.DT||(a=i),a){e.openElements.generateImpliedEndTagsWithExclusion(a),e.openElements.popUntilTagNamePopped(a);break}if(i!==V.ADDRESS&&i!==V.DIV&&i!==V.P&&e._isSpecialElement(r))break}e.openElements.hasInButtonScope(V.P)&&e._closePElement(),e._insertElement(t,W.HTML)}(e,t):o===V.EM||o===V.TT?qe(e,t):o===V.BR?Ye(e,t):o===V.HR?function(e,t){e.openElements.hasInButtonScope(V.P)&&e._closePElement(),e._appendElement(t,W.HTML),e.framesetOk=!1,e.ackSelfClosing=!0}(e,t):o===V.RB?$e(e,t):o===V.RT||o===V.RP?function(e,t){e.openElements.hasInScope(V.RUBY)&&e.openElements.generateImpliedEndTagsWithExclusion(V.RTC),e._insertElement(t,W.HTML)}(e,t):o!==V.TH&&o!==V.TD&&o!==V.TR&&Ze(e,t);break;case 3:o===V.DIV||o===V.DIR||o===V.NAV?We(e,t):o===V.PRE?ze(e,t):o===V.BIG?qe(e,t):o===V.IMG||o===V.WBR?Ye(e,t):o===V.XMP?function(e,t){e.openElements.hasInButtonScope(V.P)&&e._closePElement(),e._reconstructActiveFormattingElements(),e.framesetOk=!1,e._switchToTextParsing(t,I.MODE.RAWTEXT)}(e,t):o===V.SVG?function(e,t){e._reconstructActiveFormattingElements(),F.adjustTokenSVGAttrs(t),F.adjustTokenXMLAttrs(t),t.selfClosing?e._appendElement(t,W.SVG):e._insertElement(t,W.SVG),t.ackSelfClosing=!0}(e,t):o===V.RTC?$e(e,t):o!==V.COL&&Ze(e,t);break;case 4:o===V.HTML?function(e,t){0===e.openElements.tmplCount&&e.treeAdapter.adoptAttributes(e.openElements.items[0],t.attrs)}(e,t):o===V.BASE||o===V.LINK||o===V.META?Me(e,t):o===V.BODY?function(e,t){var o=e.openElements.tryPeekProperlyNestedBodyElement();o&&0===e.openElements.tmplCount&&(e.framesetOk=!1,e.treeAdapter.adoptAttributes(o,t.attrs))}(e,t):o===V.MAIN||o===V.MENU?We(e,t):o===V.FORM?function(e,t){var o=0<e.openElements.tmplCount;e.formElement&&!o||(e.openElements.hasInButtonScope(V.P)&&e._closePElement(),e._insertElement(t,W.HTML),o||(e.formElement=e.openElements.current))}(e,t):o===V.CODE||o===V.FONT?qe(e,t):o===V.NOBR?function(e,t){e._reconstructActiveFormattingElements(),e.openElements.hasInScope(V.NOBR)&&(Oe(e,t),e._reconstructActiveFormattingElements()),e._insertElement(t,W.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}(e,t):o===V.AREA?Ye(e,t):o===V.MATH?function(e,t){e._reconstructActiveFormattingElements(),F.adjustTokenMathMLAttrs(t),F.adjustTokenXMLAttrs(t),t.selfClosing?e._appendElement(t,W.MATHML):e._insertElement(t,W.MATHML),t.ackSelfClosing=!0}(e,t):o===V.MENU?function(e,t){e.openElements.hasInButtonScope(V.P)&&e._closePElement(),e._insertElement(t,W.HTML)}(e,t):o!==V.HEAD&&Ze(e,t);break;case 5:o===V.STYLE||o===V.TITLE?Me(e,t):o===V.ASIDE?We(e,t):o===V.SMALL?qe(e,t):o===V.TABLE?function(e,t){e.treeAdapter.getDocumentMode(e.document)!==G.DOCUMENT_MODE.QUIRKS&&e.openElements.hasInButtonScope(V.P)&&e._closePElement(),e._insertElement(t,W.HTML),e.framesetOk=!1,e.insertionMode=re}(e,t):o===V.EMBED?Ye(e,t):o===V.INPUT?function(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,W.HTML);var o=I.getTokenAttr(t,z.TYPE);o&&o.toLowerCase()===K||(e.framesetOk=!1),t.ackSelfClosing=!0}(e,t):o===V.PARAM||o===V.TRACK?Xe(e,t):o===V.IMAGE?function(e,t){t.tagName=V.IMG,Ye(e,t)}(e,t):o!==V.FRAME&&o!==V.TBODY&&o!==V.TFOOT&&o!==V.THEAD&&Ze(e,t);break;case 6:o===V.SCRIPT?Me(e,t):o===V.CENTER||o===V.FIGURE||o===V.FOOTER||o===V.HEADER||o===V.HGROUP||o===V.DIALOG?We(e,t):o===V.BUTTON?function(e,t){e.openElements.hasInScope(V.BUTTON)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(V.BUTTON)),e._reconstructActiveFormattingElements(),e._insertElement(t,W.HTML),e.framesetOk=!1}(e,t):o===V.STRIKE||o===V.STRONG?qe(e,t):o===V.APPLET||o===V.OBJECT?Ke(e,t):o===V.KEYGEN?Ye(e,t):o===V.SOURCE?Xe(e,t):o===V.IFRAME?function(e,t){e.framesetOk=!1,e._switchToTextParsing(t,I.MODE.RAWTEXT)}(e,t):o===V.SELECT?function(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,W.HTML),e.framesetOk=!1,e.insertionMode===re||e.insertionMode===ae||e.insertionMode===le||e.insertionMode===ce||e.insertionMode===ue?e.insertionMode=pe:e.insertionMode=de}(e,t):o===V.OPTION?Qe(e,t):Ze(e,t);break;case 7:o===V.BGSOUND?Me(e,t):o===V.DETAILS||o===V.ADDRESS||o===V.ARTICLE||o===V.SECTION||o===V.SUMMARY?We(e,t):o===V.LISTING?ze(e,t):o===V.MARQUEE?Ke(e,t):o===V.NOEMBED?Je(e,t):o!==V.CAPTION&&Ze(e,t);break;case 8:o===V.BASEFONT?Me(e,t):o===V.FRAMESET?function(e,t){var o=e.openElements.tryPeekProperlyNestedBodyElement();e.framesetOk&&o&&(e.treeAdapter.detachNode(o),e.openElements.popAllUpToHtmlElement(),e._insertElement(t,W.HTML),e.insertionMode=fe)}(e,t):o===V.FIELDSET?We(e,t):o===V.TEXTAREA?function(e,t){e._insertElement(t,W.HTML),e.skipNextNewLine=!0,e.tokenizer.state=I.MODE.RCDATA,e.originalInsertionMode=e.insertionMode,e.framesetOk=!1,e.insertionMode=ne}(e,t):o===V.TEMPLATE?Me(e,t):o===V.NOSCRIPT?e.options.scriptingEnabled?Je(e,t):Ze(e,t):o===V.OPTGROUP?Qe(e,t):o!==V.COLGROUP&&Ze(e,t);break;case 9:o===V.PLAINTEXT?function(e,t){e.openElements.hasInButtonScope(V.P)&&e._closePElement(),e._insertElement(t,W.HTML),e.tokenizer.state=I.MODE.PLAINTEXT}(e,t):Ze(e,t);break;case 10:o===V.BLOCKQUOTE||o===V.FIGCAPTION?We(e,t):Ze(e,t);break;default:Ze(e,t)}}function tt(e,t){var o=t.tagName;e.openElements.hasInScope(o)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(o))}function ot(e,t){var o=t.tagName;e.openElements.hasInScope(o)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(o),e.activeFormattingElements.clearToLastMarker())}function nt(e,t){for(var o=t.tagName,n=e.openElements.stackTop;0<n;n--){var r=e.openElements.items[n];if(e.treeAdapter.getTagName(r)===o){e.openElements.generateImpliedEndTagsWithExclusion(o),e.openElements.popUntilElementPopped(r);break}if(e._isSpecialElement(r))break}}function rt(e,t){var o=t.tagName;switch(o.length){case 1:o===V.A||o===V.B||o===V.I||o===V.S||o===V.U?Oe(e,t):o===V.P?function(e){e.openElements.hasInButtonScope(V.P)||e._insertFakeElement(V.P),e._closePElement()}(e):nt(e,t);break;case 2:o===V.DL||o===V.UL||o===V.OL?tt(e,t):o===V.LI?function(e){e.openElements.hasInListItemScope(V.LI)&&(e.openElements.generateImpliedEndTagsWithExclusion(V.LI),e.openElements.popUntilTagNamePopped(V.LI))}(e):o===V.DD||o===V.DT?function(e,t){var o=t.tagName;e.openElements.hasInScope(o)&&(e.openElements.generateImpliedEndTagsWithExclusion(o),e.openElements.popUntilTagNamePopped(o))}(e,t):o===V.H1||o===V.H2||o===V.H3||o===V.H4||o===V.H5||o===V.H6?function(e){e.openElements.hasNumberedHeaderInScope()&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilNumberedHeaderPopped())}(e):o===V.BR?function(e){e._reconstructActiveFormattingElements(),e._insertFakeElement(V.BR),e.openElements.pop(),e.framesetOk=!1}(e):o===V.EM||o===V.TT?Oe(e,t):nt(e,t);break;case 3:o===V.BIG?Oe(e,t):o===V.DIR||o===V.DIV||o===V.NAV||o===V.PRE?tt(e,t):nt(e,t);break;case 4:o===V.BODY?function(e){e.openElements.hasInScope(V.BODY)&&(e.insertionMode=ge)}(e):o===V.HTML?function(e,t){e.openElements.hasInScope(V.BODY)&&(e.insertionMode=ge,e._processToken(t))}(e,t):o===V.FORM?function(e){var t=0<e.openElements.tmplCount,o=e.formElement;t||(e.formElement=null),(o||t)&&e.openElements.hasInScope(V.FORM)&&(e.openElements.generateImpliedEndTags(),t?e.openElements.popUntilTagNamePopped(V.FORM):e.openElements.remove(o))}(e):o===V.CODE||o===V.FONT||o===V.NOBR?Oe(e,t):o===V.MAIN||o===V.MENU?tt(e,t):nt(e,t);break;case 5:o===V.ASIDE?tt(e,t):o===V.SMALL?Oe(e,t):nt(e,t);break;case 6:o===V.CENTER||o===V.FIGURE||o===V.FOOTER||o===V.HEADER||o===V.HGROUP||o===V.DIALOG?tt(e,t):o===V.APPLET||o===V.OBJECT?ot(e,t):o===V.STRIKE||o===V.STRONG?Oe(e,t):nt(e,t);break;case 7:o===V.ADDRESS||o===V.ARTICLE||o===V.DETAILS||o===V.SECTION||o===V.SUMMARY||o===V.LISTING?tt(e,t):o===V.MARQUEE?ot(e,t):nt(e,t);break;case 8:o===V.FIELDSET?tt(e,t):o===V.TEMPLATE?Ue(e,t):nt(e,t);break;case 10:o===V.BLOCKQUOTE||o===V.FIGCAPTION?tt(e,t):nt(e,t);break;default:nt(e,t)}}function it(e,t){-1<e.tmplInsertionModeStackTop?gt(e,t):e.stopped=!0}function at(e,t){var o=e.openElements.currentTagName;o===V.TABLE||o===V.TBODY||o===V.TFOOT||o===V.THEAD||o===V.TR?(e.pendingCharacterTokens=[],e.hasNonWhitespacePendingCharacterToken=!1,e.originalInsertionMode=e.insertionMode,e.insertionMode=ie,e._processToken(t)):ct(e,t)}function st(e,t){var o=t.tagName;switch(o.length){case 2:o===V.TD||o===V.TH||o===V.TR?function(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(V.TBODY),e.insertionMode=le,e._processToken(t)}(e,t):ct(e,t);break;case 3:o===V.COL?function(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(V.COLGROUP),e.insertionMode=se,e._processToken(t)}(e,t):ct(e,t);break;case 4:o===V.FORM?function(e,t){e.formElement||0!==e.openElements.tmplCount||(e._insertElement(t,W.HTML),e.formElement=e.openElements.current,e.openElements.pop())}(e,t):ct(e,t);break;case 5:o===V.TABLE?function(e,t){e.openElements.hasInTableScope(V.TABLE)&&(e.openElements.popUntilTagNamePopped(V.TABLE),e._resetInsertionMode(),e._processToken(t))}(e,t):o===V.STYLE?Me(e,t):o===V.TBODY||o===V.TFOOT||o===V.THEAD?function(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,W.HTML),e.insertionMode=le}(e,t):o===V.INPUT?function(e,t){var o=I.getTokenAttr(t,z.TYPE);o&&o.toLowerCase()===K?e._appendElement(t,W.HTML):ct(e,t),t.ackSelfClosing=!0}(e,t):ct(e,t);break;case 6:o===V.SCRIPT?Me(e,t):ct(e,t);break;case 7:o===V.CAPTION?function(e,t){e.openElements.clearBackToTableContext(),e.activeFormattingElements.insertMarker(),e._insertElement(t,W.HTML),e.insertionMode=ae}(e,t):ct(e,t);break;case 8:o===V.COLGROUP?function(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,W.HTML),e.insertionMode=se}(e,t):o===V.TEMPLATE?Me(e,t):ct(e,t);break;default:ct(e,t)}}function lt(e,t){var o=t.tagName;o===V.TABLE?e.openElements.hasInTableScope(V.TABLE)&&(e.openElements.popUntilTagNamePopped(V.TABLE),e._resetInsertionMode()):o===V.TEMPLATE?Ue(e,t):o!==V.BODY&&o!==V.CAPTION&&o!==V.COL&&o!==V.COLGROUP&&o!==V.HTML&&o!==V.TBODY&&o!==V.TD&&o!==V.TFOOT&&o!==V.TH&&o!==V.THEAD&&o!==V.TR&&ct(e,t)}function ct(e,t){var o=e.fosterParentingEnabled;e.fosterParentingEnabled=!0,e._processTokenInBodyMode(t),e.fosterParentingEnabled=o}function ut(e,t){var o=0;if(e.hasNonWhitespacePendingCharacterToken)for(;o<e.pendingCharacterTokens.length;o++)ct(e,e.pendingCharacterTokens[o]);else for(;o<e.pendingCharacterTokens.length;o++)e._insertCharacters(e.pendingCharacterTokens[o]);e.insertionMode=e.originalInsertionMode,e._processToken(t)}function dt(e,t){e.openElements.currentTagName===V.COLGROUP&&(e.openElements.pop(),e.insertionMode=re,e._processToken(t))}function pt(e,t){var o=t.tagName;o===V.HTML?et(e,t):o===V.OPTION?(e.openElements.currentTagName===V.OPTION&&e.openElements.pop(),e._insertElement(t,W.HTML)):o===V.OPTGROUP?(e.openElements.currentTagName===V.OPTION&&e.openElements.pop(),e.openElements.currentTagName===V.OPTGROUP&&e.openElements.pop(),e._insertElement(t,W.HTML)):o===V.INPUT||o===V.KEYGEN||o===V.TEXTAREA||o===V.SELECT?e.openElements.hasInSelectScope(V.SELECT)&&(e.openElements.popUntilTagNamePopped(V.SELECT),e._resetInsertionMode(),o!==V.SELECT&&e._processToken(t)):o!==V.SCRIPT&&o!==V.TEMPLATE||Me(e,t)}function ht(e,t){var o=t.tagName;if(o===V.OPTGROUP){var n=e.openElements.items[e.openElements.stackTop-1],r=n&&e.treeAdapter.getTagName(n);e.openElements.currentTagName===V.OPTION&&r===V.OPTGROUP&&e.openElements.pop(),e.openElements.currentTagName===V.OPTGROUP&&e.openElements.pop()}else o===V.OPTION?e.openElements.currentTagName===V.OPTION&&e.openElements.pop():o===V.SELECT&&e.openElements.hasInSelectScope(V.SELECT)?(e.openElements.popUntilTagNamePopped(V.SELECT),e._resetInsertionMode()):o===V.TEMPLATE&&Ue(e,t)}function gt(e,t){0<e.openElements.tmplCount?(e.openElements.popUntilTagNamePopped(V.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e._popTmplInsertionMode(),e._resetInsertionMode(),e._processToken(t)):e.stopped=!0}function ft(e,t){e.insertionMode=oe,e._processToken(t)}function mt(e,t){e.insertionMode=oe,e._processToken(t)}e.exports=Te},431:function(e,t,o){"use strict";var n=o(159),r=o(160),i=n.CODE_POINTS,a=function(){function e(){this.html=null,this.pos=-1,this.lastGapPos=-1,this.lastCharPos=-1,this.gapStack=[],this.skipNextNewLine=!1,this.lastChunkWritten=!1,this.endOfChunkHit=!1,this.bufferWaterline=65536}var t=e.prototype;return t._err=function(){},t._addGap=function(){this.gapStack.push(this.lastGapPos),this.lastGapPos=this.pos},t._processSurrogate=function(e){if(this.pos!==this.lastCharPos){var t=this.html.charCodeAt(this.pos+1);if(n.isSurrogatePair(t))return this.pos++,this._addGap(),n.getSurrogatePairCodePoint(e,t)}else if(!this.lastChunkWritten)return this.endOfChunkHit=!0,i.EOF;return this._err(r.surrogateInInputStream),e},t.dropParsedChunk=function(){this.pos>this.bufferWaterline&&(this.lastCharPos-=this.pos,this.html=this.html.substring(this.pos),this.pos=0,this.lastGapPos=-1,this.gapStack=[])},t.write=function(e,t){this.html?this.html+=e:this.html=e,this.lastCharPos=this.html.length-1,this.endOfChunkHit=!1,this.lastChunkWritten=t},t.insertHtmlAtCurrentPos=function(e){this.html=this.html.substring(0,this.pos+1)+e+this.html.substring(this.pos+1,this.html.length),this.lastCharPos=this.html.length-1,this.endOfChunkHit=!1},t.advance=function(){if(this.pos++,this.pos>this.lastCharPos)return this.endOfChunkHit=!this.lastChunkWritten,i.EOF;var e=this.html.charCodeAt(this.pos);return this.skipNextNewLine&&e===i.LINE_FEED?(this.skipNextNewLine=!1,this._addGap(),this.advance()):e===i.CARRIAGE_RETURN?(this.skipNextNewLine=!0,i.LINE_FEED):(this.skipNextNewLine=!1,n.isSurrogate(e)&&(e=this._processSurrogate(e)),31<e&&e<127||e===i.LINE_FEED||e===i.CARRIAGE_RETURN||159<e&&e<64976||this._checkForProblematicCharacters(e),e)},t._checkForProblematicCharacters=function(e){n.isControlCodePoint(e)?this._err(r.controlCharacterInInputStream):n.isUndefinedCodePoint(e)&&this._err(r.noncharacterInInputStream)},t.retreat=function(){this.pos===this.lastGapPos&&(this.lastGapPos=this.gapStack.pop(),this.pos--),this.pos--},e}();e.exports=a},432:function(e,t,o){"use strict";e.exports=new Uint16Array([4,52,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,106,303,412,810,1432,1701,1796,1987,2114,2360,2420,2484,3170,3251,4140,4393,4575,4610,5106,5512,5728,6117,6274,6315,6345,6427,6516,7002,7910,8733,9323,9870,10170,10631,10893,11318,11386,11467,12773,13092,14474,14922,15448,15542,16419,17666,18166,18611,19004,19095,19298,19397,4,16,69,77,97,98,99,102,103,108,109,110,111,112,114,115,116,117,140,150,158,169,176,194,199,210,216,222,226,242,256,266,283,294,108,105,103,5,198,1,59,148,1,198,80,5,38,1,59,156,1,38,99,117,116,101,5,193,1,59,167,1,193,114,101,118,101,59,1,258,4,2,105,121,182,191,114,99,5,194,1,59,189,1,194,59,1,1040,114,59,3,55349,56580,114,97,118,101,5,192,1,59,208,1,192,112,104,97,59,1,913,97,99,114,59,1,256,100,59,1,10835,4,2,103,112,232,237,111,110,59,1,260,102,59,3,55349,56632,112,108,121,70,117,110,99,116,105,111,110,59,1,8289,105,110,103,5,197,1,59,264,1,197,4,2,99,115,272,277,114,59,3,55349,56476,105,103,110,59,1,8788,105,108,100,101,5,195,1,59,292,1,195,109,108,5,196,1,59,301,1,196,4,8,97,99,101,102,111,114,115,117,321,350,354,383,388,394,400,405,4,2,99,114,327,336,107,115,108,97,115,104,59,1,8726,4,2,118,119,342,345,59,1,10983,101,100,59,1,8966,121,59,1,1041,4,3,99,114,116,362,369,379,97,117,115,101,59,1,8757,110,111,117,108,108,105,115,59,1,8492,97,59,1,914,114,59,3,55349,56581,112,102,59,3,55349,56633,101,118,101,59,1,728,99,114,59,1,8492,109,112,101,113,59,1,8782,4,14,72,79,97,99,100,101,102,104,105,108,111,114,115,117,442,447,456,504,542,547,569,573,577,616,678,784,790,796,99,121,59,1,1063,80,89,5,169,1,59,454,1,169,4,3,99,112,121,464,470,497,117,116,101,59,1,262,4,2,59,105,476,478,1,8914,116,97,108,68,105,102,102,101,114,101,110,116,105,97,108,68,59,1,8517,108,101,121,115,59,1,8493,4,4,97,101,105,111,514,520,530,535,114,111,110,59,1,268,100,105,108,5,199,1,59,528,1,199,114,99,59,1,264,110,105,110,116,59,1,8752,111,116,59,1,266,4,2,100,110,553,560,105,108,108,97,59,1,184,116,101,114,68,111,116,59,1,183,114,59,1,8493,105,59,1,935,114,99,108,101,4,4,68,77,80,84,591,596,603,609,111,116,59,1,8857,105,110,117,115,59,1,8854,108,117,115,59,1,8853,105,109,101,115,59,1,8855,111,4,2,99,115,623,646,107,119,105,115,101,67,111,110,116,111,117,114,73,110,116,101,103,114,97,108,59,1,8754,101,67,117,114,108,121,4,2,68,81,658,671,111,117,98,108,101,81,117,111,116,101,59,1,8221,117,111,116,101,59,1,8217,4,4,108,110,112,117,688,701,736,753,111,110,4,2,59,101,696,698,1,8759,59,1,10868,4,3,103,105,116,709,717,722,114,117,101,110,116,59,1,8801,110,116,59,1,8751,111,117,114,73,110,116,101,103,114,97,108,59,1,8750,4,2,102,114,742,745,59,1,8450,111,100,117,99,116,59,1,8720,110,116,101,114,67,108,111,99,107,119,105,115,101,67,111,110,116,111,117,114,73,110,116,101,103,114,97,108,59,1,8755,111,115,115,59,1,10799,99,114,59,3,55349,56478,112,4,2,59,67,803,805,1,8915,97,112,59,1,8781,4,11,68,74,83,90,97,99,101,102,105,111,115,834,850,855,860,865,888,903,916,921,1011,1415,4,2,59,111,840,842,1,8517,116,114,97,104,100,59,1,10513,99,121,59,1,1026,99,121,59,1,1029,99,121,59,1,1039,4,3,103,114,115,873,879,883,103,101,114,59,1,8225,114,59,1,8609,104,118,59,1,10980,4,2,97,121,894,900,114,111,110,59,1,270,59,1,1044,108,4,2,59,116,910,912,1,8711,97,59,1,916,114,59,3,55349,56583,4,2,97,102,927,998,4,2,99,109,933,992,114,105,116,105,99,97,108,4,4,65,68,71,84,950,957,978,985,99,117,116,101,59,1,180,111,4,2,116,117,964,967,59,1,729,98,108,101,65,99,117,116,101,59,1,733,114,97,118,101,59,1,96,105,108,100,101,59,1,732,111,110,100,59,1,8900,102,101,114,101,110,116,105,97,108,68,59,1,8518,4,4,112,116,117,119,1021,1026,1048,1249,102,59,3,55349,56635,4,3,59,68,69,1034,1036,1041,1,168,111,116,59,1,8412,113,117,97,108,59,1,8784,98,108,101,4,6,67,68,76,82,85,86,1065,1082,1101,1189,1211,1236,111,110,116,111,117,114,73,110,116,101,103,114,97,108,59,1,8751,111,4,2,116,119,1089,1092,59,1,168,110,65,114,114,111,119,59,1,8659,4,2,101,111,1107,1141,102,116,4,3,65,82,84,1117,1124,1136,114,114,111,119,59,1,8656,105,103,104,116,65,114,114,111,119,59,1,8660,101,101,59,1,10980,110,103,4,2,76,82,1149,1177,101,102,116,4,2,65,82,1158,1165,114,114,111,119,59,1,10232,105,103,104,116,65,114,114,111,119,59,1,10234,105,103,104,116,65,114,114,111,119,59,1,10233,105,103,104,116,4,2,65,84,1199,1206,114,114,111,119,59,1,8658,101,101,59,1,8872,112,4,2,65,68,1218,1225,114,114,111,119,59,1,8657,111,119,110,65,114,114,111,119,59,1,8661,101,114,116,105,99,97,108,66,97,114,59,1,8741,110,4,6,65,66,76,82,84,97,1264,1292,1299,1352,1391,1408,114,114,111,119,4,3,59,66,85,1276,1278,1283,1,8595,97,114,59,1,10515,112,65,114,114,111,119,59,1,8693,114,101,118,101,59,1,785,101,102,116,4,3,82,84,86,1310,1323,1334,105,103,104,116,86,101,99,116,111,114,59,1,10576,101,101,86,101,99,116,111,114,59,1,10590,101,99,116,111,114,4,2,59,66,1345,1347,1,8637,97,114,59,1,10582,105,103,104,116,4,2,84,86,1362,1373,101,101,86,101,99,116,111,114,59,1,10591,101,99,116,111,114,4,2,59,66,1384,1386,1,8641,97,114,59,1,10583,101,101,4,2,59,65,1399,1401,1,8868,114,114,111,119,59,1,8615,114,114,111,119,59,1,8659,4,2,99,116,1421,1426,114,59,3,55349,56479,114,111,107,59,1,272,4,16,78,84,97,99,100,102,103,108,109,111,112,113,115,116,117,120,1466,1470,1478,1489,1515,1520,1525,1536,1544,1593,1609,1617,1650,1664,1668,1677,71,59,1,330,72,5,208,1,59,1476,1,208,99,117,116,101,5,201,1,59,1487,1,201,4,3,97,105,121,1497,1503,1512,114,111,110,59,1,282,114,99,5,202,1,59,1510,1,202,59,1,1069,111,116,59,1,278,114,59,3,55349,56584,114,97,118,101,5,200,1,59,1534,1,200,101,109,101,110,116,59,1,8712,4,2,97,112,1550,1555,99,114,59,1,274,116,121,4,2,83,86,1563,1576,109,97,108,108,83,113,117,97,114,101,59,1,9723,101,114,121,83,109,97,108,108,83,113,117,97,114,101,59,1,9643,4,2,103,112,1599,1604,111,110,59,1,280,102,59,3,55349,56636,115,105,108,111,110,59,1,917,117,4,2,97,105,1624,1640,108,4,2,59,84,1631,1633,1,10869,105,108,100,101,59,1,8770,108,105,98,114,105,117,109,59,1,8652,4,2,99,105,1656,1660,114,59,1,8496,109,59,1,10867,97,59,1,919,109,108,5,203,1,59,1675,1,203,4,2,105,112,1683,1689,115,116,115,59,1,8707,111,110,101,110,116,105,97,108,69,59,1,8519,4,5,99,102,105,111,115,1713,1717,1722,1762,1791,121,59,1,1060,114,59,3,55349,56585,108,108,101,100,4,2,83,86,1732,1745,109,97,108,108,83,113,117,97,114,101,59,1,9724,101,114,121,83,109,97,108,108,83,113,117,97,114,101,59,1,9642,4,3,112,114,117,1770,1775,1781,102,59,3,55349,56637,65,108,108,59,1,8704,114,105,101,114,116,114,102,59,1,8497,99,114,59,1,8497,4,12,74,84,97,98,99,100,102,103,111,114,115,116,1822,1827,1834,1848,1855,1877,1882,1887,1890,1896,1978,1984,99,121,59,1,1027,5,62,1,59,1832,1,62,109,109,97,4,2,59,100,1843,1845,1,915,59,1,988,114,101,118,101,59,1,286,4,3,101,105,121,1863,1869,1874,100,105,108,59,1,290,114,99,59,1,284,59,1,1043,111,116,59,1,288,114,59,3,55349,56586,59,1,8921,112,102,59,3,55349,56638,101,97,116,101,114,4,6,69,70,71,76,83,84,1915,1933,1944,1953,1959,1971,113,117,97,108,4,2,59,76,1925,1927,1,8805,101,115,115,59,1,8923,117,108,108,69,113,117,97,108,59,1,8807,114,101,97,116,101,114,59,1,10914,101,115,115,59,1,8823,108,97,110,116,69,113,117,97,108,59,1,10878,105,108,100,101,59,1,8819,99,114,59,3,55349,56482,59,1,8811,4,8,65,97,99,102,105,111,115,117,2005,2012,2026,2032,2036,2049,2073,2089,82,68,99,121,59,1,1066,4,2,99,116,2018,2023,101,107,59,1,711,59,1,94,105,114,99,59,1,292,114,59,1,8460,108,98,101,114,116,83,112,97,99,101,59,1,8459,4,2,112,114,2055,2059,102,59,1,8461,105,122,111,110,116,97,108,76,105,110,101,59,1,9472,4,2,99,116,2079,2083,114,59,1,8459,114,111,107,59,1,294,109,112,4,2,68,69,2097,2107,111,119,110,72,117,109,112,59,1,8782,113,117,97,108,59,1,8783,4,14,69,74,79,97,99,100,102,103,109,110,111,115,116,117,2144,2149,2155,2160,2171,2189,2194,2198,2209,2245,2307,2329,2334,2341,99,121,59,1,1045,108,105,103,59,1,306,99,121,59,1,1025,99,117,116,101,5,205,1,59,2169,1,205,4,2,105,121,2177,2186,114,99,5,206,1,59,2184,1,206,59,1,1048,111,116,59,1,304,114,59,1,8465,114,97,118,101,5,204,1,59,2207,1,204,4,3,59,97,112,2217,2219,2238,1,8465,4,2,99,103,2225,2229,114,59,1,298,105,110,97,114,121,73,59,1,8520,108,105,101,115,59,1,8658,4,2,116,118,2251,2281,4,2,59,101,2257,2259,1,8748,4,2,103,114,2265,2271,114,97,108,59,1,8747,115,101,99,116,105,111,110,59,1,8898,105,115,105,98,108,101,4,2,67,84,2293,2300,111,109,109,97,59,1,8291,105,109,101,115,59,1,8290,4,3,103,112,116,2315,2320,2325,111,110,59,1,302,102,59,3,55349,56640,97,59,1,921,99,114,59,1,8464,105,108,100,101,59,1,296,4,2,107,109,2347,2352,99,121,59,1,1030,108,5,207,1,59,2358,1,207,4,5,99,102,111,115,117,2372,2386,2391,2397,2414,4,2,105,121,2378,2383,114,99,59,1,308,59,1,1049,114,59,3,55349,56589,112,102,59,3,55349,56641,4,2,99,101,2403,2408,114,59,3,55349,56485,114,99,121,59,1,1032,107,99,121,59,1,1028,4,7,72,74,97,99,102,111,115,2436,2441,2446,2452,2467,2472,2478,99,121,59,1,1061,99,121,59,1,1036,112,112,97,59,1,922,4,2,101,121,2458,2464,100,105,108,59,1,310,59,1,1050,114,59,3,55349,56590,112,102,59,3,55349,56642,99,114,59,3,55349,56486,4,11,74,84,97,99,101,102,108,109,111,115,116,2508,2513,2520,2562,2585,2981,2986,3004,3011,3146,3167,99,121,59,1,1033,5,60,1,59,2518,1,60,4,5,99,109,110,112,114,2532,2538,2544,2548,2558,117,116,101,59,1,313,98,100,97,59,1,923,103,59,1,10218,108,97,99,101,116,114,102,59,1,8466,114,59,1,8606,4,3,97,101,121,2570,2576,2582,114,111,110,59,1,317,100,105,108,59,1,315,59,1,1051,4,2,102,115,2591,2907,116,4,10,65,67,68,70,82,84,85,86,97,114,2614,2663,2672,2728,2735,2760,2820,2870,2888,2895,4,2,110,114,2620,2633,103,108,101,66,114,97,99,107,101,116,59,1,10216,114,111,119,4,3,59,66,82,2644,2646,2651,1,8592,97,114,59,1,8676,105,103,104,116,65,114,114,111,119,59,1,8646,101,105,108,105,110,103,59,1,8968,111,4,2,117,119,2679,2692,98,108,101,66,114,97,99,107,101,116,59,1,10214,110,4,2,84,86,2699,2710,101,101,86,101,99,116,111,114,59,1,10593,101,99,116,111,114,4,2,59,66,2721,2723,1,8643,97,114,59,1,10585,108,111,111,114,59,1,8970,105,103,104,116,4,2,65,86,2745,2752,114,114,111,119,59,1,8596,101,99,116,111,114,59,1,10574,4,2,101,114,2766,2792,101,4,3,59,65,86,2775,2777,2784,1,8867,114,114,111,119,59,1,8612,101,99,116,111,114,59,1,10586,105,97,110,103,108,101,4,3,59,66,69,2806,2808,2813,1,8882,97,114,59,1,10703,113,117,97,108,59,1,8884,112,4,3,68,84,86,2829,2841,2852,111,119,110,86,101,99,116,111,114,59,1,10577,101,101,86,101,99,116,111,114,59,1,10592,101,99,116,111,114,4,2,59,66,2863,2865,1,8639,97,114,59,1,10584,101,99,116,111,114,4,2,59,66,2881,2883,1,8636,97,114,59,1,10578,114,114,111,119,59,1,8656,105,103,104,116,97,114,114,111,119,59,1,8660,115,4,6,69,70,71,76,83,84,2922,2936,2947,2956,2962,2974,113,117,97,108,71,114,101,97,116,101,114,59,1,8922,117,108,108,69,113,117,97,108,59,1,8806,114,101,97,116,101,114,59,1,8822,101,115,115,59,1,10913,108,97,110,116,69,113,117,97,108,59,1,10877,105,108,100,101,59,1,8818,114,59,3,55349,56591,4,2,59,101,2992,2994,1,8920,102,116,97,114,114,111,119,59,1,8666,105,100,111,116,59,1,319,4,3,110,112,119,3019,3110,3115,103,4,4,76,82,108,114,3030,3058,3070,3098,101,102,116,4,2,65,82,3039,3046,114,114,111,119,59,1,10229,105,103,104,116,65,114,114,111,119,59,1,10231,105,103,104,116,65,114,114,111,119,59,1,10230,101,102,116,4,2,97,114,3079,3086,114,114,111,119,59,1,10232,105,103,104,116,97,114,114,111,119,59,1,10234,105,103,104,116,97,114,114,111,119,59,1,10233,102,59,3,55349,56643,101,114,4,2,76,82,3123,3134,101,102,116,65,114,114,111,119,59,1,8601,105,103,104,116,65,114,114,111,119,59,1,8600,4,3,99,104,116,3154,3158,3161,114,59,1,8466,59,1,8624,114,111,107,59,1,321,59,1,8810,4,8,97,99,101,102,105,111,115,117,3188,3192,3196,3222,3227,3237,3243,3248,112,59,1,10501,121,59,1,1052,4,2,100,108,3202,3213,105,117,109,83,112,97,99,101,59,1,8287,108,105,110,116,114,102,59,1,8499,114,59,3,55349,56592,110,117,115,80,108,117,115,59,1,8723,112,102,59,3,55349,56644,99,114,59,1,8499,59,1,924,4,9,74,97,99,101,102,111,115,116,117,3271,3276,3283,3306,3422,3427,4120,4126,4137,99,121,59,1,1034,99,117,116,101,59,1,323,4,3,97,101,121,3291,3297,3303,114,111,110,59,1,327,100,105,108,59,1,325,59,1,1053,4,3,103,115,119,3314,3380,3415,97,116,105,118,101,4,3,77,84,86,3327,3340,3365,101,100,105,117,109,83,112,97,99,101,59,1,8203,104,105,4,2,99,110,3348,3357,107,83,112,97,99,101,59,1,8203,83,112,97,99,101,59,1,8203,101,114,121,84,104,105,110,83,112,97,99,101,59,1,8203,116,101,100,4,2,71,76,3389,3405,114,101,97,116,101,114,71,114,101,97,116,101,114,59,1,8811,101,115,115,76,101,115,115,59,1,8810,76,105,110,101,59,1,10,114,59,3,55349,56593,4,4,66,110,112,116,3437,3444,3460,3464,114,101,97,107,59,1,8288,66,114,101,97,107,105,110,103,83,112,97,99,101,59,1,160,102,59,1,8469,4,13,59,67,68,69,71,72,76,78,80,82,83,84,86,3492,3494,3517,3536,3578,3657,3685,3784,3823,3860,3915,4066,4107,1,10988,4,2,111,117,3500,3510,110,103,114,117,101,110,116,59,1,8802,112,67,97,112,59,1,8813,111,117,98,108,101,86,101,114,116,105,99,97,108,66,97,114,59,1,8742,4,3,108,113,120,3544,3552,3571,101,109,101,110,116,59,1,8713,117,97,108,4,2,59,84,3561,3563,1,8800,105,108,100,101,59,3,8770,824,105,115,116,115,59,1,8708,114,101,97,116,101,114,4,7,59,69,70,71,76,83,84,3600,3602,3609,3621,3631,3637,3650,1,8815,113,117,97,108,59,1,8817,117,108,108,69,113,117,97,108,59,3,8807,824,114,101,97,116,101,114,59,3,8811,824,101,115,115,59,1,8825,108,97,110,116,69,113,117,97,108,59,3,10878,824,105,108,100,101,59,1,8821,117,109,112,4,2,68,69,3666,3677,111,119,110,72,117,109,112,59,3,8782,824,113,117,97,108,59,3,8783,824,101,4,2,102,115,3692,3724,116,84,114,105,97,110,103,108,101,4,3,59,66,69,3709,3711,3717,1,8938,97,114,59,3,10703,824,113,117,97,108,59,1,8940,115,4,6,59,69,71,76,83,84,3739,3741,3748,3757,3764,3777,1,8814,113,117,97,108,59,1,8816,114,101,97,116,101,114,59,1,8824,101,115,115,59,3,8810,824,108,97,110,116,69,113,117,97,108,59,3,10877,824,105,108,100,101,59,1,8820,101,115,116,101,100,4,2,71,76,3795,3812,114,101,97,116,101,114,71,114,101,97,116,101,114,59,3,10914,824,101,115,115,76,101,115,115,59,3,10913,824,114,101,99,101,100,101,115,4,3,59,69,83,3838,3840,3848,1,8832,113,117,97,108,59,3,10927,824,108,97,110,116,69,113,117,97,108,59,1,8928,4,2,101,105,3866,3881,118,101,114,115,101,69,108,101,109,101,110,116,59,1,8716,103,104,116,84,114,105,97,110,103,108,101,4,3,59,66,69,3900,3902,3908,1,8939,97,114,59,3,10704,824,113,117,97,108,59,1,8941,4,2,113,117,3921,3973,117,97,114,101,83,117,4,2,98,112,3933,3952,115,101,116,4,2,59,69,3942,3945,3,8847,824,113,117,97,108,59,1,8930,101,114,115,101,116,4,2,59,69,3963,3966,3,8848,824,113,117,97,108,59,1,8931,4,3,98,99,112,3981,4e3,4045,115,101,116,4,2,59,69,3990,3993,3,8834,8402,113,117,97,108,59,1,8840,99,101,101,100,115,4,4,59,69,83,84,4015,4017,4025,4037,1,8833,113,117,97,108,59,3,10928,824,108,97,110,116,69,113,117,97,108,59,1,8929,105,108,100,101,59,3,8831,824,101,114,115,101,116,4,2,59,69,4056,4059,3,8835,8402,113,117,97,108,59,1,8841,105,108,100,101,4,4,59,69,70,84,4080,4082,4089,4100,1,8769,113,117,97,108,59,1,8772,117,108,108,69,113,117,97,108,59,1,8775,105,108,100,101,59,1,8777,101,114,116,105,99,97,108,66,97,114,59,1,8740,99,114,59,3,55349,56489,105,108,100,101,5,209,1,59,4135,1,209,59,1,925,4,14,69,97,99,100,102,103,109,111,112,114,115,116,117,118,4170,4176,4187,4205,4212,4217,4228,4253,4259,4292,4295,4316,4337,4346,108,105,103,59,1,338,99,117,116,101,5,211,1,59,4185,1,211,4,2,105,121,4193,4202,114,99,5,212,1,59,4200,1,212,59,1,1054,98,108,97,99,59,1,336,114,59,3,55349,56594,114,97,118,101,5,210,1,59,4226,1,210,4,3,97,101,105,4236,4241,4246,99,114,59,1,332,103,97,59,1,937,99,114,111,110,59,1,927,112,102,59,3,55349,56646,101,110,67,117,114,108,121,4,2,68,81,4272,4285,111,117,98,108,101,81,117,111,116,101,59,1,8220,117,111,116,101,59,1,8216,59,1,10836,4,2,99,108,4301,4306,114,59,3,55349,56490,97,115,104,5,216,1,59,4314,1,216,105,4,2,108,109,4323,4332,100,101,5,213,1,59,4330,1,213,101,115,59,1,10807,109,108,5,214,1,59,4344,1,214,101,114,4,2,66,80,4354,4380,4,2,97,114,4360,4364,114,59,1,8254,97,99,4,2,101,107,4372,4375,59,1,9182,101,116,59,1,9140,97,114,101,110,116,104,101,115,105,115,59,1,9180,4,9,97,99,102,104,105,108,111,114,115,4413,4422,4426,4431,4435,4438,4448,4471,4561,114,116,105,97,108,68,59,1,8706,121,59,1,1055,114,59,3,55349,56595,105,59,1,934,59,1,928,117,115,77,105,110,117,115,59,1,177,4,2,105,112,4454,4467,110,99,97,114,101,112,108,97,110,101,59,1,8460,102,59,1,8473,4,4,59,101,105,111,4481,4483,4526,4531,1,10939,99,101,100,101,115,4,4,59,69,83,84,4498,4500,4507,4519,1,8826,113,117,97,108,59,1,10927,108,97,110,116,69,113,117,97,108,59,1,8828,105,108,100,101,59,1,8830,109,101,59,1,8243,4,2,100,112,4537,4543,117,99,116,59,1,8719,111,114,116,105,111,110,4,2,59,97,4555,4557,1,8759,108,59,1,8733,4,2,99,105,4567,4572,114,59,3,55349,56491,59,1,936,4,4,85,102,111,115,4585,4594,4599,4604,79,84,5,34,1,59,4592,1,34,114,59,3,55349,56596,112,102,59,1,8474,99,114,59,3,55349,56492,4,12,66,69,97,99,101,102,104,105,111,114,115,117,4636,4642,4650,4681,4704,4763,4767,4771,5047,5069,5081,5094,97,114,114,59,1,10512,71,5,174,1,59,4648,1,174,4,3,99,110,114,4658,4664,4668,117,116,101,59,1,340,103,59,1,10219,114,4,2,59,116,4675,4677,1,8608,108,59,1,10518,4,3,97,101,121,4689,4695,4701,114,111,110,59,1,344,100,105,108,59,1,342,59,1,1056,4,2,59,118,4710,4712,1,8476,101,114,115,101,4,2,69,85,4722,4748,4,2,108,113,4728,4736,101,109,101,110,116,59,1,8715,117,105,108,105,98,114,105,117,109,59,1,8651,112,69,113,117,105,108,105,98,114,105,117,109,59,1,10607,114,59,1,8476,111,59,1,929,103,104,116,4,8,65,67,68,70,84,85,86,97,4792,4840,4849,4905,4912,4972,5022,5040,4,2,110,114,4798,4811,103,108,101,66,114,97,99,107,101,116,59,1,10217,114,111,119,4,3,59,66,76,4822,4824,4829,1,8594,97,114,59,1,8677,101,102,116,65,114,114,111,119,59,1,8644,101,105,108,105,110,103,59,1,8969,111,4,2,117,119,4856,4869,98,108,101,66,114,97,99,107,101,116,59,1,10215,110,4,2,84,86,4876,4887,101,101,86,101,99,116,111,114,59,1,10589,101,99,116,111,114,4,2,59,66,4898,4900,1,8642,97,114,59,1,10581,108,111,111,114,59,1,8971,4,2,101,114,4918,4944,101,4,3,59,65,86,4927,4929,4936,1,8866,114,114,111,119,59,1,8614,101,99,116,111,114,59,1,10587,105,97,110,103,108,101,4,3,59,66,69,4958,4960,4965,1,8883,97,114,59,1,10704,113,117,97,108,59,1,8885,112,4,3,68,84,86,4981,4993,5004,111,119,110,86,101,99,116,111,114,59,1,10575,101,101,86,101,99,116,111,114,59,1,10588,101,99,116,111,114,4,2,59,66,5015,5017,1,8638,97,114,59,1,10580,101,99,116,111,114,4,2,59,66,5033,5035,1,8640,97,114,59,1,10579,114,114,111,119,59,1,8658,4,2,112,117,5053,5057,102,59,1,8477,110,100,73,109,112,108,105,101,115,59,1,10608,105,103,104,116,97,114,114,111,119,59,1,8667,4,2,99,104,5087,5091,114,59,1,8475,59,1,8625,108,101,68,101,108,97,121,101,100,59,1,10740,4,13,72,79,97,99,102,104,105,109,111,113,115,116,117,5134,5150,5157,5164,5198,5203,5259,5265,5277,5283,5374,5380,5385,4,2,67,99,5140,5146,72,99,121,59,1,1065,121,59,1,1064,70,84,99,121,59,1,1068,99,117,116,101,59,1,346,4,5,59,97,101,105,121,5176,5178,5184,5190,5195,1,10940,114,111,110,59,1,352,100,105,108,59,1,350,114,99,59,1,348,59,1,1057,114,59,3,55349,56598,111,114,116,4,4,68,76,82,85,5216,5227,5238,5250,111,119,110,65,114,114,111,119,59,1,8595,101,102,116,65,114,114,111,119,59,1,8592,105,103,104,116,65,114,114,111,119,59,1,8594,112,65,114,114,111,119,59,1,8593,103,109,97,59,1,931,97,108,108,67,105,114,99,108,101,59,1,8728,112,102,59,3,55349,56650,4,2,114,117,5289,5293,116,59,1,8730,97,114,101,4,4,59,73,83,85,5306,5308,5322,5367,1,9633,110,116,101,114,115,101,99,116,105,111,110,59,1,8851,117,4,2,98,112,5329,5347,115,101,116,4,2,59,69,5338,5340,1,8847,113,117,97,108,59,1,8849,101,114,115,101,116,4,2,59,69,5358,5360,1,8848,113,117,97,108,59,1,8850,110,105,111,110,59,1,8852,99,114,59,3,55349,56494,97,114,59,1,8902,4,4,98,99,109,112,5395,5420,5475,5478,4,2,59,115,5401,5403,1,8912,101,116,4,2,59,69,5411,5413,1,8912,113,117,97,108,59,1,8838,4,2,99,104,5426,5468,101,101,100,115,4,4,59,69,83,84,5440,5442,5449,5461,1,8827,113,117,97,108,59,1,10928,108,97,110,116,69,113,117,97,108,59,1,8829,105,108,100,101,59,1,8831,84,104,97,116,59,1,8715,59,1,8721,4,3,59,101,115,5486,5488,5507,1,8913,114,115,101,116,4,2,59,69,5498,5500,1,8835,113,117,97,108,59,1,8839,101,116,59,1,8913,4,11,72,82,83,97,99,102,104,105,111,114,115,5536,5546,5552,5567,5579,5602,5607,5655,5695,5701,5711,79,82,78,5,222,1,59,5544,1,222,65,68,69,59,1,8482,4,2,72,99,5558,5563,99,121,59,1,1035,121,59,1,1062,4,2,98,117,5573,5576,59,1,9,59,1,932,4,3,97,101,121,5587,5593,5599,114,111,110,59,1,356,100,105,108,59,1,354,59,1,1058,114,59,3,55349,56599,4,2,101,105,5613,5631,4,2,114,116,5619,5627,101,102,111,114,101,59,1,8756,97,59,1,920,4,2,99,110,5637,5647,107,83,112,97,99,101,59,3,8287,8202,83,112,97,99,101,59,1,8201,108,100,101,4,4,59,69,70,84,5668,5670,5677,5688,1,8764,113,117,97,108,59,1,8771,117,108,108,69,113,117,97,108,59,1,8773,105,108,100,101,59,1,8776,112,102,59,3,55349,56651,105,112,108,101,68,111,116,59,1,8411,4,2,99,116,5717,5722,114,59,3,55349,56495,114,111,107,59,1,358,4,14,97,98,99,100,102,103,109,110,111,112,114,115,116,117,5758,5789,5805,5823,5830,5835,5846,5852,5921,5937,6089,6095,6101,6108,4,2,99,114,5764,5774,117,116,101,5,218,1,59,5772,1,218,114,4,2,59,111,5781,5783,1,8607,99,105,114,59,1,10569,114,4,2,99,101,5796,5800,121,59,1,1038,118,101,59,1,364,4,2,105,121,5811,5820,114,99,5,219,1,59,5818,1,219,59,1,1059,98,108,97,99,59,1,368,114,59,3,55349,56600,114,97,118,101,5,217,1,59,5844,1,217,97,99,114,59,1,362,4,2,100,105,5858,5905,101,114,4,2,66,80,5866,5892,4,2,97,114,5872,5876,114,59,1,95,97,99,4,2,101,107,5884,5887,59,1,9183,101,116,59,1,9141,97,114,101,110,116,104,101,115,105,115,59,1,9181,111,110,4,2,59,80,5913,5915,1,8899,108,117,115,59,1,8846,4,2,103,112,5927,5932,111,110,59,1,370,102,59,3,55349,56652,4,8,65,68,69,84,97,100,112,115,5955,5985,5996,6009,6026,6033,6044,6075,114,114,111,119,4,3,59,66,68,5967,5969,5974,1,8593,97,114,59,1,10514,111,119,110,65,114,114,111,119,59,1,8645,111,119,110,65,114,114,111,119,59,1,8597,113,117,105,108,105,98,114,105,117,109,59,1,10606,101,101,4,2,59,65,6017,6019,1,8869,114,114,111,119,59,1,8613,114,114,111,119,59,1,8657,111,119,110,97,114,114,111,119,59,1,8661,101,114,4,2,76,82,6052,6063,101,102,116,65,114,114,111,119,59,1,8598,105,103,104,116,65,114,114,111,119,59,1,8599,105,4,2,59,108,6082,6084,1,978,111,110,59,1,933,105,110,103,59,1,366,99,114,59,3,55349,56496,105,108,100,101,59,1,360,109,108,5,220,1,59,6115,1,220,4,9,68,98,99,100,101,102,111,115,118,6137,6143,6148,6152,6166,6250,6255,6261,6267,97,115,104,59,1,8875,97,114,59,1,10987,121,59,1,1042,97,115,104,4,2,59,108,6161,6163,1,8873,59,1,10982,4,2,101,114,6172,6175,59,1,8897,4,3,98,116,121,6183,6188,6238,97,114,59,1,8214,4,2,59,105,6194,6196,1,8214,99,97,108,4,4,66,76,83,84,6209,6214,6220,6231,97,114,59,1,8739,105,110,101,59,1,124,101,112,97,114,97,116,111,114,59,1,10072,105,108,100,101,59,1,8768,84,104,105,110,83,112,97,99,101,59,1,8202,114,59,3,55349,56601,112,102,59,3,55349,56653,99,114,59,3,55349,56497,100,97,115,104,59,1,8874,4,5,99,101,102,111,115,6286,6292,6298,6303,6309,105,114,99,59,1,372,100,103,101,59,1,8896,114,59,3,55349,56602,112,102,59,3,55349,56654,99,114,59,3,55349,56498,4,4,102,105,111,115,6325,6330,6333,6339,114,59,3,55349,56603,59,1,926,112,102,59,3,55349,56655,99,114,59,3,55349,56499,4,9,65,73,85,97,99,102,111,115,117,6365,6370,6375,6380,6391,6405,6410,6416,6422,99,121,59,1,1071,99,121,59,1,1031,99,121,59,1,1070,99,117,116,101,5,221,1,59,6389,1,221,4,2,105,121,6397,6402,114,99,59,1,374,59,1,1067,114,59,3,55349,56604,112,102,59,3,55349,56656,99,114,59,3,55349,56500,109,108,59,1,376,4,8,72,97,99,100,101,102,111,115,6445,6450,6457,6472,6477,6501,6505,6510,99,121,59,1,1046,99,117,116,101,59,1,377,4,2,97,121,6463,6469,114,111,110,59,1,381,59,1,1047,111,116,59,1,379,4,2,114,116,6483,6497,111,87,105,100,116,104,83,112,97,99,101,59,1,8203,97,59,1,918,114,59,1,8488,112,102,59,1,8484,99,114,59,3,55349,56501,4,16,97,98,99,101,102,103,108,109,110,111,112,114,115,116,117,119,6550,6561,6568,6612,6622,6634,6645,6672,6699,6854,6870,6923,6933,6963,6974,6983,99,117,116,101,5,225,1,59,6559,1,225,114,101,118,101,59,1,259,4,6,59,69,100,105,117,121,6582,6584,6588,6591,6600,6609,1,8766,59,3,8766,819,59,1,8767,114,99,5,226,1,59,6598,1,226,116,101,5,180,1,59,6607,1,180,59,1,1072,108,105,103,5,230,1,59,6620,1,230,4,2,59,114,6628,6630,1,8289,59,3,55349,56606,114,97,118,101,5,224,1,59,6643,1,224,4,2,101,112,6651,6667,4,2,102,112,6657,6663,115,121,109,59,1,8501,104,59,1,8501,104,97,59,1,945,4,2,97,112,6678,6692,4,2,99,108,6684,6688,114,59,1,257,103,59,1,10815,5,38,1,59,6697,1,38,4,2,100,103,6705,6737,4,5,59,97,100,115,118,6717,6719,6724,6727,6734,1,8743,110,100,59,1,10837,59,1,10844,108,111,112,101,59,1,10840,59,1,10842,4,7,59,101,108,109,114,115,122,6753,6755,6758,6762,6814,6835,6848,1,8736,59,1,10660,101,59,1,8736,115,100,4,2,59,97,6770,6772,1,8737,4,8,97,98,99,100,101,102,103,104,6790,6793,6796,6799,6802,6805,6808,6811,59,1,10664,59,1,10665,59,1,10666,59,1,10667,59,1,10668,59,1,10669,59,1,10670,59,1,10671,116,4,2,59,118,6821,6823,1,8735,98,4,2,59,100,6830,6832,1,8894,59,1,10653,4,2,112,116,6841,6845,104,59,1,8738,59,1,197,97,114,114,59,1,9084,4,2,103,112,6860,6865,111,110,59,1,261,102,59,3,55349,56658,4,7,59,69,97,101,105,111,112,6886,6888,6891,6897,6900,6904,6908,1,8776,59,1,10864,99,105,114,59,1,10863,59,1,8778,100,59,1,8779,115,59,1,39,114,111,120,4,2,59,101,6917,6919,1,8776,113,59,1,8778,105,110,103,5,229,1,59,6931,1,229,4,3,99,116,121,6941,6946,6949,114,59,3,55349,56502,59,1,42,109,112,4,2,59,101,6957,6959,1,8776,113,59,1,8781,105,108,100,101,5,227,1,59,6972,1,227,109,108,5,228,1,59,6981,1,228,4,2,99,105,6989,6997,111,110,105,110,116,59,1,8755,110,116,59,1,10769,4,16,78,97,98,99,100,101,102,105,107,108,110,111,112,114,115,117,7036,7041,7119,7135,7149,7155,7219,7224,7347,7354,7463,7489,7786,7793,7814,7866,111,116,59,1,10989,4,2,99,114,7047,7094,107,4,4,99,101,112,115,7058,7064,7073,7080,111,110,103,59,1,8780,112,115,105,108,111,110,59,1,1014,114,105,109,101,59,1,8245,105,109,4,2,59,101,7088,7090,1,8765,113,59,1,8909,4,2,118,119,7100,7105,101,101,59,1,8893,101,100,4,2,59,103,7113,7115,1,8965,101,59,1,8965,114,107,4,2,59,116,7127,7129,1,9141,98,114,107,59,1,9142,4,2,111,121,7141,7146,110,103,59,1,8780,59,1,1073,113,117,111,59,1,8222,4,5,99,109,112,114,116,7167,7181,7188,7193,7199,97,117,115,4,2,59,101,7176,7178,1,8757,59,1,8757,112,116,121,118,59,1,10672,115,105,59,1,1014,110,111,117,59,1,8492,4,3,97,104,119,7207,7210,7213,59,1,946,59,1,8502,101,101,110,59,1,8812,114,59,3,55349,56607,103,4,7,99,111,115,116,117,118,119,7241,7262,7288,7305,7328,7335,7340,4,3,97,105,117,7249,7253,7258,112,59,1,8898,114,99,59,1,9711,112,59,1,8899,4,3,100,112,116,7270,7275,7281,111,116,59,1,10752,108,117,115,59,1,10753,105,109,101,115,59,1,10754,4,2,113,116,7294,7300,99,117,112,59,1,10758,97,114,59,1,9733,114,105,97,110,103,108,101,4,2,100,117,7318,7324,111,119,110,59,1,9661,112,59,1,9651,112,108,117,115,59,1,10756,101,101,59,1,8897,101,100,103,101,59,1,8896,97,114,111,119,59,1,10509,4,3,97,107,111,7362,7436,7458,4,2,99,110,7368,7432,107,4,3,108,115,116,7377,7386,7394,111,122,101,110,103,101,59,1,10731,113,117,97,114,101,59,1,9642,114,105,97,110,103,108,101,4,4,59,100,108,114,7411,7413,7419,7425,1,9652,111,119,110,59,1,9662,101,102,116,59,1,9666,105,103,104,116,59,1,9656,107,59,1,9251,4,2,49,51,7442,7454,4,2,50,52,7448,7451,59,1,9618,59,1,9617,52,59,1,9619,99,107,59,1,9608,4,2,101,111,7469,7485,4,2,59,113,7475,7478,3,61,8421,117,105,118,59,3,8801,8421,116,59,1,8976,4,4,112,116,119,120,7499,7504,7517,7523,102,59,3,55349,56659,4,2,59,116,7510,7512,1,8869,111,109,59,1,8869,116,105,101,59,1,8904,4,12,68,72,85,86,98,100,104,109,112,116,117,118,7549,7571,7597,7619,7655,7660,7682,7708,7715,7721,7728,7750,4,4,76,82,108,114,7559,7562,7565,7568,59,1,9559,59,1,9556,59,1,9558,59,1,9555,4,5,59,68,85,100,117,7583,7585,7588,7591,7594,1,9552,59,1,9574,59,1,9577,59,1,9572,59,1,9575,4,4,76,82,108,114,7607,7610,7613,7616,59,1,9565,59,1,9562,59,1,9564,59,1,9561,4,7,59,72,76,82,104,108,114,7635,7637,7640,7643,7646,7649,7652,1,9553,59,1,9580,59,1,9571,59,1,9568,59,1,9579,59,1,9570,59,1,9567,111,120,59,1,10697,4,4,76,82,108,114,7670,7673,7676,7679,59,1,9557,59,1,9554,59,1,9488,59,1,9484,4,5,59,68,85,100,117,7694,7696,7699,7702,7705,1,9472,59,1,9573,59,1,9576,59,1,9516,59,1,9524,105,110,117,115,59,1,8863,108,117,115,59,1,8862,105,109,101,115,59,1,8864,4,4,76,82,108,114,7738,7741,7744,7747,59,1,9563,59,1,9560,59,1,9496,59,1,9492,4,7,59,72,76,82,104,108,114,7766,7768,7771,7774,7777,7780,7783,1,9474,59,1,9578,59,1,9569,59,1,9566,59,1,9532,59,1,9508,59,1,9500,114,105,109,101,59,1,8245,4,2,101,118,7799,7804,118,101,59,1,728,98,97,114,5,166,1,59,7812,1,166,4,4,99,101,105,111,7824,7829,7834,7846,114,59,3,55349,56503,109,105,59,1,8271,109,4,2,59,101,7841,7843,1,8765,59,1,8909,108,4,3,59,98,104,7855,7857,7860,1,92,59,1,10693,115,117,98,59,1,10184,4,2,108,109,7872,7885,108,4,2,59,101,7879,7881,1,8226,116,59,1,8226,112,4,3,59,69,101,7894,7896,7899,1,8782,59,1,10926,4,2,59,113,7905,7907,1,8783,59,1,8783,4,15,97,99,100,101,102,104,105,108,111,114,115,116,117,119,121,7942,8021,8075,8080,8121,8126,8157,8279,8295,8430,8446,8485,8491,8707,8726,4,3,99,112,114,7950,7956,8007,117,116,101,59,1,263,4,6,59,97,98,99,100,115,7970,7972,7977,7984,7998,8003,1,8745,110,100,59,1,10820,114,99,117,112,59,1,10825,4,2,97,117,7990,7994,112,59,1,10827,112,59,1,10823,111,116,59,1,10816,59,3,8745,65024,4,2,101,111,8013,8017,116,59,1,8257,110,59,1,711,4,4,97,101,105,117,8031,8046,8056,8061,4,2,112,114,8037,8041,115,59,1,10829,111,110,59,1,269,100,105,108,5,231,1,59,8054,1,231,114,99,59,1,265,112,115,4,2,59,115,8069,8071,1,10828,109,59,1,10832,111,116,59,1,267,4,3,100,109,110,8088,8097,8104,105,108,5,184,1,59,8095,1,184,112,116,121,118,59,1,10674,116,5,162,2,59,101,8112,8114,1,162,114,100,111,116,59,1,183,114,59,3,55349,56608,4,3,99,101,105,8134,8138,8154,121,59,1,1095,99,107,4,2,59,109,8146,8148,1,10003,97,114,107,59,1,10003,59,1,967,114,4,7,59,69,99,101,102,109,115,8174,8176,8179,8258,8261,8268,8273,1,9675,59,1,10691,4,3,59,101,108,8187,8189,8193,1,710,113,59,1,8791,101,4,2,97,100,8200,8223,114,114,111,119,4,2,108,114,8210,8216,101,102,116,59,1,8634,105,103,104,116,59,1,8635,4,5,82,83,97,99,100,8235,8238,8241,8246,8252,59,1,174,59,1,9416,115,116,59,1,8859,105,114,99,59,1,8858,97,115,104,59,1,8861,59,1,8791,110,105,110,116,59,1,10768,105,100,59,1,10991,99,105,114,59,1,10690,117,98,115,4,2,59,117,8288,8290,1,9827,105,116,59,1,9827,4,4,108,109,110,112,8305,8326,8376,8400,111,110,4,2,59,101,8313,8315,1,58,4,2,59,113,8321,8323,1,8788,59,1,8788,4,2,109,112,8332,8344,97,4,2,59,116,8339,8341,1,44,59,1,64,4,3,59,102,108,8352,8354,8358,1,8705,110,59,1,8728,101,4,2,109,120,8365,8371,101,110,116,59,1,8705,101,115,59,1,8450,4,2,103,105,8382,8395,4,2,59,100,8388,8390,1,8773,111,116,59,1,10861,110,116,59,1,8750,4,3,102,114,121,8408,8412,8417,59,3,55349,56660,111,100,59,1,8720,5,169,2,59,115,8424,8426,1,169,114,59,1,8471,4,2,97,111,8436,8441,114,114,59,1,8629,115,115,59,1,10007,4,2,99,117,8452,8457,114,59,3,55349,56504,4,2,98,112,8463,8474,4,2,59,101,8469,8471,1,10959,59,1,10961,4,2,59,101,8480,8482,1,10960,59,1,10962,100,111,116,59,1,8943,4,7,100,101,108,112,114,118,119,8507,8522,8536,8550,8600,8697,8702,97,114,114,4,2,108,114,8516,8519,59,1,10552,59,1,10549,4,2,112,115,8528,8532,114,59,1,8926,99,59,1,8927,97,114,114,4,2,59,112,8545,8547,1,8630,59,1,10557,4,6,59,98,99,100,111,115,8564,8566,8573,8587,8592,8596,1,8746,114,99,97,112,59,1,10824,4,2,97,117,8579,8583,112,59,1,10822,112,59,1,10826,111,116,59,1,8845,114,59,1,10821,59,3,8746,65024,4,4,97,108,114,118,8610,8623,8663,8672,114,114,4,2,59,109,8618,8620,1,8631,59,1,10556,121,4,3,101,118,119,8632,8651,8656,113,4,2,112,115,8639,8645,114,101,99,59,1,8926,117,99,99,59,1,8927,101,101,59,1,8910,101,100,103,101,59,1,8911,101,110,5,164,1,59,8670,1,164,101,97,114,114,111,119,4,2,108,114,8684,8690,101,102,116,59,1,8630,105,103,104,116,59,1,8631,101,101,59,1,8910,101,100,59,1,8911,4,2,99,105,8713,8721,111,110,105,110,116,59,1,8754,110,116,59,1,8753,108,99,116,121,59,1,9005,4,19,65,72,97,98,99,100,101,102,104,105,106,108,111,114,115,116,117,119,122,8773,8778,8783,8821,8839,8854,8887,8914,8930,8944,9036,9041,9058,9197,9227,9258,9281,9297,9305,114,114,59,1,8659,97,114,59,1,10597,4,4,103,108,114,115,8793,8799,8805,8809,103,101,114,59,1,8224,101,116,104,59,1,8504,114,59,1,8595,104,4,2,59,118,8816,8818,1,8208,59,1,8867,4,2,107,108,8827,8834,97,114,111,119,59,1,10511,97,99,59,1,733,4,2,97,121,8845,8851,114,111,110,59,1,271,59,1,1076,4,3,59,97,111,8862,8864,8880,1,8518,4,2,103,114,8870,8876,103,101,114,59,1,8225,114,59,1,8650,116,115,101,113,59,1,10871,4,3,103,108,109,8895,8902,8907,5,176,1,59,8900,1,176,116,97,59,1,948,112,116,121,118,59,1,10673,4,2,105,114,8920,8926,115,104,116,59,1,10623,59,3,55349,56609,97,114,4,2,108,114,8938,8941,59,1,8643,59,1,8642,4,5,97,101,103,115,118,8956,8986,8989,8996,9001,109,4,3,59,111,115,8965,8967,8983,1,8900,110,100,4,2,59,115,8975,8977,1,8900,117,105,116,59,1,9830,59,1,9830,59,1,168,97,109,109,97,59,1,989,105,110,59,1,8946,4,3,59,105,111,9009,9011,9031,1,247,100,101,5,247,2,59,111,9020,9022,1,247,110,116,105,109,101,115,59,1,8903,110,120,59,1,8903,99,121,59,1,1106,99,4,2,111,114,9048,9053,114,110,59,1,8990,111,112,59,1,8973,4,5,108,112,116,117,119,9070,9076,9081,9130,9144,108,97,114,59,1,36,102,59,3,55349,56661,4,5,59,101,109,112,115,9093,9095,9109,9116,9122,1,729,113,4,2,59,100,9102,9104,1,8784,111,116,59,1,8785,105,110,117,115,59,1,8760,108,117,115,59,1,8724,113,117,97,114,101,59,1,8865,98,108,101,98,97,114,119,101,100,103,101,59,1,8966,110,4,3,97,100,104,9153,9160,9172,114,114,111,119,59,1,8595,111,119,110,97,114,114,111,119,115,59,1,8650,97,114,112,111,111,110,4,2,108,114,9184,9190,101,102,116,59,1,8643,105,103,104,116,59,1,8642,4,2,98,99,9203,9211,107,97,114,111,119,59,1,10512,4,2,111,114,9217,9222,114,110,59,1,8991,111,112,59,1,8972,4,3,99,111,116,9235,9248,9252,4,2,114,121,9241,9245,59,3,55349,56505,59,1,1109,108,59,1,10742,114,111,107,59,1,273,4,2,100,114,9264,9269,111,116,59,1,8945,105,4,2,59,102,9276,9278,1,9663,59,1,9662,4,2,97,104,9287,9292,114,114,59,1,8693,97,114,59,1,10607,97,110,103,108,101,59,1,10662,4,2,99,105,9311,9315,121,59,1,1119,103,114,97,114,114,59,1,10239,4,18,68,97,99,100,101,102,103,108,109,110,111,112,113,114,115,116,117,120,9361,9376,9398,9439,9444,9447,9462,9495,9531,9585,9598,9614,9659,9755,9771,9792,9808,9826,4,2,68,111,9367,9372,111,116,59,1,10871,116,59,1,8785,4,2,99,115,9382,9392,117,116,101,5,233,1,59,9390,1,233,116,101,114,59,1,10862,4,4,97,105,111,121,9408,9414,9430,9436,114,111,110,59,1,283,114,4,2,59,99,9421,9423,1,8790,5,234,1,59,9428,1,234,108,111,110,59,1,8789,59,1,1101,111,116,59,1,279,59,1,8519,4,2,68,114,9453,9458,111,116,59,1,8786,59,3,55349,56610,4,3,59,114,115,9470,9472,9482,1,10906,97,118,101,5,232,1,59,9480,1,232,4,2,59,100,9488,9490,1,10902,111,116,59,1,10904,4,4,59,105,108,115,9505,9507,9515,9518,1,10905,110,116,101,114,115,59,1,9191,59,1,8467,4,2,59,100,9524,9526,1,10901,111,116,59,1,10903,4,3,97,112,115,9539,9544,9564,99,114,59,1,275,116,121,4,3,59,115,118,9554,9556,9561,1,8709,101,116,59,1,8709,59,1,8709,112,4,2,49,59,9571,9583,4,2,51,52,9577,9580,59,1,8196,59,1,8197,1,8195,4,2,103,115,9591,9594,59,1,331,112,59,1,8194,4,2,103,112,9604,9609,111,110,59,1,281,102,59,3,55349,56662,4,3,97,108,115,9622,9635,9640,114,4,2,59,115,9629,9631,1,8917,108,59,1,10723,117,115,59,1,10865,105,4,3,59,108,118,9649,9651,9656,1,949,111,110,59,1,949,59,1,1013,4,4,99,115,117,118,9669,9686,9716,9747,4,2,105,111,9675,9680,114,99,59,1,8790,108,111,110,59,1,8789,4,2,105,108,9692,9696,109,59,1,8770,97,110,116,4,2,103,108,9705,9710,116,114,59,1,10902,101,115,115,59,1,10901,4,3,97,101,105,9724,9729,9734,108,115,59,1,61,115,116,59,1,8799,118,4,2,59,68,9741,9743,1,8801,68,59,1,10872,112,97,114,115,108,59,1,10725,4,2,68,97,9761,9766,111,116,59,1,8787,114,114,59,1,10609,4,3,99,100,105,9779,9783,9788,114,59,1,8495,111,116,59,1,8784,109,59,1,8770,4,2,97,104,9798,9801,59,1,951,5,240,1,59,9806,1,240,4,2,109,114,9814,9822,108,5,235,1,59,9820,1,235,111,59,1,8364,4,3,99,105,112,9834,9838,9843,108,59,1,33,115,116,59,1,8707,4,2,101,111,9849,9859,99,116,97,116,105,111,110,59,1,8496,110,101,110,116,105,97,108,101,59,1,8519,4,12,97,99,101,102,105,106,108,110,111,112,114,115,9896,9910,9914,9921,9954,9960,9967,9989,9994,10027,10036,10164,108,108,105,110,103,100,111,116,115,101,113,59,1,8786,121,59,1,1092,109,97,108,101,59,1,9792,4,3,105,108,114,9929,9935,9950,108,105,103,59,1,64259,4,2,105,108,9941,9945,103,59,1,64256,105,103,59,1,64260,59,3,55349,56611,108,105,103,59,1,64257,108,105,103,59,3,102,106,4,3,97,108,116,9975,9979,9984,116,59,1,9837,105,103,59,1,64258,110,115,59,1,9649,111,102,59,1,402,4,2,112,114,1e4,10005,102,59,3,55349,56663,4,2,97,107,10011,10016,108,108,59,1,8704,4,2,59,118,10022,10024,1,8916,59,1,10969,97,114,116,105,110,116,59,1,10765,4,2,97,111,10042,10159,4,2,99,115,10048,10155,4,6,49,50,51,52,53,55,10062,10102,10114,10135,10139,10151,4,6,50,51,52,53,54,56,10076,10083,10086,10093,10096,10099,5,189,1,59,10081,1,189,59,1,8531,5,188,1,59,10091,1,188,59,1,8533,59,1,8537,59,1,8539,4,2,51,53,10108,10111,59,1,8532,59,1,8534,4,3,52,53,56,10122,10129,10132,5,190,1,59,10127,1,190,59,1,8535,59,1,8540,53,59,1,8536,4,2,54,56,10145,10148,59,1,8538,59,1,8541,56,59,1,8542,108,59,1,8260,119,110,59,1,8994,99,114,59,3,55349,56507,4,17,69,97,98,99,100,101,102,103,105,106,108,110,111,114,115,116,118,10206,10217,10247,10254,10268,10273,10358,10363,10374,10380,10385,10406,10458,10464,10470,10497,10610,4,2,59,108,10212,10214,1,8807,59,1,10892,4,3,99,109,112,10225,10231,10244,117,116,101,59,1,501,109,97,4,2,59,100,10239,10241,1,947,59,1,989,59,1,10886,114,101,118,101,59,1,287,4,2,105,121,10260,10265,114,99,59,1,285,59,1,1075,111,116,59,1,289,4,4,59,108,113,115,10283,10285,10288,10308,1,8805,59,1,8923,4,3,59,113,115,10296,10298,10301,1,8805,59,1,8807,108,97,110,116,59,1,10878,4,4,59,99,100,108,10318,10320,10324,10345,1,10878,99,59,1,10921,111,116,4,2,59,111,10332,10334,1,10880,4,2,59,108,10340,10342,1,10882,59,1,10884,4,2,59,101,10351,10354,3,8923,65024,115,59,1,10900,114,59,3,55349,56612,4,2,59,103,10369,10371,1,8811,59,1,8921,109,101,108,59,1,8503,99,121,59,1,1107,4,4,59,69,97,106,10395,10397,10400,10403,1,8823,59,1,10898,59,1,10917,59,1,10916,4,4,69,97,101,115,10416,10419,10434,10453,59,1,8809,112,4,2,59,112,10426,10428,1,10890,114,111,120,59,1,10890,4,2,59,113,10440,10442,1,10888,4,2,59,113,10448,10450,1,10888,59,1,8809,105,109,59,1,8935,112,102,59,3,55349,56664,97,118,101,59,1,96,4,2,99,105,10476,10480,114,59,1,8458,109,4,3,59,101,108,10489,10491,10494,1,8819,59,1,10894,59,1,10896,5,62,6,59,99,100,108,113,114,10512,10514,10527,10532,10538,10545,1,62,4,2,99,105,10520,10523,59,1,10919,114,59,1,10874,111,116,59,1,8919,80,97,114,59,1,10645,117,101,115,116,59,1,10876,4,5,97,100,101,108,115,10557,10574,10579,10599,10605,4,2,112,114,10563,10570,112,114,111,120,59,1,10886,114,59,1,10616,111,116,59,1,8919,113,4,2,108,113,10586,10592,101,115,115,59,1,8923,108,101,115,115,59,1,10892,101,115,115,59,1,8823,105,109,59,1,8819,4,2,101,110,10616,10626,114,116,110,101,113,113,59,3,8809,65024,69,59,3,8809,65024,4,10,65,97,98,99,101,102,107,111,115,121,10653,10658,10713,10718,10724,10760,10765,10786,10850,10875,114,114,59,1,8660,4,4,105,108,109,114,10668,10674,10678,10684,114,115,112,59,1,8202,102,59,1,189,105,108,116,59,1,8459,4,2,100,114,10690,10695,99,121,59,1,1098,4,3,59,99,119,10703,10705,10710,1,8596,105,114,59,1,10568,59,1,8621,97,114,59,1,8463,105,114,99,59,1,293,4,3,97,108,114,10732,10748,10754,114,116,115,4,2,59,117,10741,10743,1,9829,105,116,59,1,9829,108,105,112,59,1,8230,99,111,110,59,1,8889,114,59,3,55349,56613,115,4,2,101,119,10772,10779,97,114,111,119,59,1,10533,97,114,111,119,59,1,10534,4,5,97,109,111,112,114,10798,10803,10809,10839,10844,114,114,59,1,8703,116,104,116,59,1,8763,107,4,2,108,114,10816,10827,101,102,116,97,114,114,111,119,59,1,8617,105,103,104,116,97,114,114,111,119,59,1,8618,102,59,3,55349,56665,98,97,114,59,1,8213,4,3,99,108,116,10858,10863,10869,114,59,3,55349,56509,97,115,104,59,1,8463,114,111,107,59,1,295,4,2,98,112,10881,10887,117,108,108,59,1,8259,104,101,110,59,1,8208,4,15,97,99,101,102,103,105,106,109,110,111,112,113,115,116,117,10925,10936,10958,10977,10990,11001,11039,11045,11101,11192,11220,11226,11237,11285,11299,99,117,116,101,5,237,1,59,10934,1,237,4,3,59,105,121,10944,10946,10955,1,8291,114,99,5,238,1,59,10953,1,238,59,1,1080,4,2,99,120,10964,10968,121,59,1,1077,99,108,5,161,1,59,10975,1,161,4,2,102,114,10983,10986,59,1,8660,59,3,55349,56614,114,97,118,101,5,236,1,59,10999,1,236,4,4,59,105,110,111,11011,11013,11028,11034,1,8520,4,2,105,110,11019,11024,110,116,59,1,10764,116,59,1,8749,102,105,110,59,1,10716,116,97,59,1,8489,108,105,103,59,1,307,4,3,97,111,112,11053,11092,11096,4,3,99,103,116,11061,11065,11088,114,59,1,299,4,3,101,108,112,11073,11076,11082,59,1,8465,105,110,101,59,1,8464,97,114,116,59,1,8465,104,59,1,305,102,59,1,8887,101,100,59,1,437,4,5,59,99,102,111,116,11113,11115,11121,11136,11142,1,8712,97,114,101,59,1,8453,105,110,4,2,59,116,11129,11131,1,8734,105,101,59,1,10717,100,111,116,59,1,305,4,5,59,99,101,108,112,11154,11156,11161,11179,11186,1,8747,97,108,59,1,8890,4,2,103,114,11167,11173,101,114,115,59,1,8484,99,97,108,59,1,8890,97,114,104,107,59,1,10775,114,111,100,59,1,10812,4,4,99,103,112,116,11202,11206,11211,11216,121,59,1,1105,111,110,59,1,303,102,59,3,55349,56666,97,59,1,953,114,111,100,59,1,10812,117,101,115,116,5,191,1,59,11235,1,191,4,2,99,105,11243,11248,114,59,3,55349,56510,110,4,5,59,69,100,115,118,11261,11263,11266,11271,11282,1,8712,59,1,8953,111,116,59,1,8949,4,2,59,118,11277,11279,1,8948,59,1,8947,59,1,8712,4,2,59,105,11291,11293,1,8290,108,100,101,59,1,297,4,2,107,109,11305,11310,99,121,59,1,1110,108,5,239,1,59,11316,1,239,4,6,99,102,109,111,115,117,11332,11346,11351,11357,11363,11380,4,2,105,121,11338,11343,114,99,59,1,309,59,1,1081,114,59,3,55349,56615,97,116,104,59,1,567,112,102,59,3,55349,56667,4,2,99,101,11369,11374,114,59,3,55349,56511,114,99,121,59,1,1112,107,99,121,59,1,1108,4,8,97,99,102,103,104,106,111,115,11404,11418,11433,11438,11445,11450,11455,11461,112,112,97,4,2,59,118,11413,11415,1,954,59,1,1008,4,2,101,121,11424,11430,100,105,108,59,1,311,59,1,1082,114,59,3,55349,56616,114,101,101,110,59,1,312,99,121,59,1,1093,99,121,59,1,1116,112,102,59,3,55349,56668,99,114,59,3,55349,56512,4,23,65,66,69,72,97,98,99,100,101,102,103,104,106,108,109,110,111,112,114,115,116,117,118,11515,11538,11544,11555,11560,11721,11780,11818,11868,12136,12160,12171,12203,12208,12246,12275,12327,12509,12523,12569,12641,12732,12752,4,3,97,114,116,11523,11528,11532,114,114,59,1,8666,114,59,1,8656,97,105,108,59,1,10523,97,114,114,59,1,10510,4,2,59,103,11550,11552,1,8806,59,1,10891,97,114,59,1,10594,4,9,99,101,103,109,110,112,113,114,116,11580,11586,11594,11600,11606,11624,11627,11636,11694,117,116,101,59,1,314,109,112,116,121,118,59,1,10676,114,97,110,59,1,8466,98,100,97,59,1,955,103,4,3,59,100,108,11615,11617,11620,1,10216,59,1,10641,101,59,1,10216,59,1,10885,117,111,5,171,1,59,11634,1,171,114,4,8,59,98,102,104,108,112,115,116,11655,11657,11669,11673,11677,11681,11685,11690,1,8592,4,2,59,102,11663,11665,1,8676,115,59,1,10527,115,59,1,10525,107,59,1,8617,112,59,1,8619,108,59,1,10553,105,109,59,1,10611,108,59,1,8610,4,3,59,97,101,11702,11704,11709,1,10923,105,108,59,1,10521,4,2,59,115,11715,11717,1,10925,59,3,10925,65024,4,3,97,98,114,11729,11734,11739,114,114,59,1,10508,114,107,59,1,10098,4,2,97,107,11745,11758,99,4,2,101,107,11752,11755,59,1,123,59,1,91,4,2,101,115,11764,11767,59,1,10635,108,4,2,100,117,11774,11777,59,1,10639,59,1,10637,4,4,97,101,117,121,11790,11796,11811,11815,114,111,110,59,1,318,4,2,100,105,11802,11807,105,108,59,1,316,108,59,1,8968,98,59,1,123,59,1,1083,4,4,99,113,114,115,11828,11832,11845,11864,97,59,1,10550,117,111,4,2,59,114,11840,11842,1,8220,59,1,8222,4,2,100,117,11851,11857,104,97,114,59,1,10599,115,104,97,114,59,1,10571,104,59,1,8626,4,5,59,102,103,113,115,11880,11882,12008,12011,12031,1,8804,116,4,5,97,104,108,114,116,11895,11913,11935,11947,11996,114,114,111,119,4,2,59,116,11905,11907,1,8592,97,105,108,59,1,8610,97,114,112,111,111,110,4,2,100,117,11925,11931,111,119,110,59,1,8637,112,59,1,8636,101,102,116,97,114,114,111,119,115,59,1,8647,105,103,104,116,4,3,97,104,115,11959,11974,11984,114,114,111,119,4,2,59,115,11969,11971,1,8596,59,1,8646,97,114,112,111,111,110,115,59,1,8651,113,117,105,103,97,114,114,111,119,59,1,8621,104,114,101,101,116,105,109,101,115,59,1,8907,59,1,8922,4,3,59,113,115,12019,12021,12024,1,8804,59,1,8806,108,97,110,116,59,1,10877,4,5,59,99,100,103,115,12043,12045,12049,12070,12083,1,10877,99,59,1,10920,111,116,4,2,59,111,12057,12059,1,10879,4,2,59,114,12065,12067,1,10881,59,1,10883,4,2,59,101,12076,12079,3,8922,65024,115,59,1,10899,4,5,97,100,101,103,115,12095,12103,12108,12126,12131,112,112,114,111,120,59,1,10885,111,116,59,1,8918,113,4,2,103,113,12115,12120,116,114,59,1,8922,103,116,114,59,1,10891,116,114,59,1,8822,105,109,59,1,8818,4,3,105,108,114,12144,12150,12156,115,104,116,59,1,10620,111,111,114,59,1,8970,59,3,55349,56617,4,2,59,69,12166,12168,1,8822,59,1,10897,4,2,97,98,12177,12198,114,4,2,100,117,12184,12187,59,1,8637,4,2,59,108,12193,12195,1,8636,59,1,10602,108,107,59,1,9604,99,121,59,1,1113,4,5,59,97,99,104,116,12220,12222,12227,12235,12241,1,8810,114,114,59,1,8647,111,114,110,101,114,59,1,8990,97,114,100,59,1,10603,114,105,59,1,9722,4,2,105,111,12252,12258,100,111,116,59,1,320,117,115,116,4,2,59,97,12267,12269,1,9136,99,104,101,59,1,9136,4,4,69,97,101,115,12285,12288,12303,12322,59,1,8808,112,4,2,59,112,12295,12297,1,10889,114,111,120,59,1,10889,4,2,59,113,12309,12311,1,10887,4,2,59,113,12317,12319,1,10887,59,1,8808,105,109,59,1,8934,4,8,97,98,110,111,112,116,119,122,12345,12359,12364,12421,12446,12467,12474,12490,4,2,110,114,12351,12355,103,59,1,10220,114,59,1,8701,114,107,59,1,10214,103,4,3,108,109,114,12373,12401,12409,101,102,116,4,2,97,114,12382,12389,114,114,111,119,59,1,10229,105,103,104,116,97,114,114,111,119,59,1,10231,97,112,115,116,111,59,1,10236,105,103,104,116,97,114,114,111,119,59,1,10230,112,97,114,114,111,119,4,2,108,114,12433,12439,101,102,116,59,1,8619,105,103,104,116,59,1,8620,4,3,97,102,108,12454,12458,12462,114,59,1,10629,59,3,55349,56669,117,115,59,1,10797,105,109,101,115,59,1,10804,4,2,97,98,12480,12485,115,116,59,1,8727,97,114,59,1,95,4,3,59,101,102,12498,12500,12506,1,9674,110,103,101,59,1,9674,59,1,10731,97,114,4,2,59,108,12517,12519,1,40,116,59,1,10643,4,5,97,99,104,109,116,12535,12540,12548,12561,12564,114,114,59,1,8646,111,114,110,101,114,59,1,8991,97,114,4,2,59,100,12556,12558,1,8651,59,1,10605,59,1,8206,114,105,59,1,8895,4,6,97,99,104,105,113,116,12583,12589,12594,12597,12614,12635,113,117,111,59,1,8249,114,59,3,55349,56513,59,1,8624,109,4,3,59,101,103,12606,12608,12611,1,8818,59,1,10893,59,1,10895,4,2,98,117,12620,12623,59,1,91,111,4,2,59,114,12630,12632,1,8216,59,1,8218,114,111,107,59,1,322,5,60,8,59,99,100,104,105,108,113,114,12660,12662,12675,12680,12686,12692,12698,12705,1,60,4,2,99,105,12668,12671,59,1,10918,114,59,1,10873,111,116,59,1,8918,114,101,101,59,1,8907,109,101,115,59,1,8905,97,114,114,59,1,10614,117,101,115,116,59,1,10875,4,2,80,105,12711,12716,97,114,59,1,10646,4,3,59,101,102,12724,12726,12729,1,9667,59,1,8884,59,1,9666,114,4,2,100,117,12739,12746,115,104,97,114,59,1,10570,104,97,114,59,1,10598,4,2,101,110,12758,12768,114,116,110,101,113,113,59,3,8808,65024,69,59,3,8808,65024,4,14,68,97,99,100,101,102,104,105,108,110,111,112,115,117,12803,12809,12893,12908,12914,12928,12933,12937,13011,13025,13032,13049,13052,13069,68,111,116,59,1,8762,4,4,99,108,112,114,12819,12827,12849,12887,114,5,175,1,59,12825,1,175,4,2,101,116,12833,12836,59,1,9794,4,2,59,101,12842,12844,1,10016,115,101,59,1,10016,4,2,59,115,12855,12857,1,8614,116,111,4,4,59,100,108,117,12869,12871,12877,12883,1,8614,111,119,110,59,1,8615,101,102,116,59,1,8612,112,59,1,8613,107,101,114,59,1,9646,4,2,111,121,12899,12905,109,109,97,59,1,10793,59,1,1084,97,115,104,59,1,8212,97,115,117,114,101,100,97,110,103,108,101,59,1,8737,114,59,3,55349,56618,111,59,1,8487,4,3,99,100,110,12945,12954,12985,114,111,5,181,1,59,12952,1,181,4,4,59,97,99,100,12964,12966,12971,12976,1,8739,115,116,59,1,42,105,114,59,1,10992,111,116,5,183,1,59,12983,1,183,117,115,4,3,59,98,100,12995,12997,13e3,1,8722,59,1,8863,4,2,59,117,13006,13008,1,8760,59,1,10794,4,2,99,100,13017,13021,112,59,1,10971,114,59,1,8230,112,108,117,115,59,1,8723,4,2,100,112,13038,13044,101,108,115,59,1,8871,102,59,3,55349,56670,59,1,8723,4,2,99,116,13058,13063,114,59,3,55349,56514,112,111,115,59,1,8766,4,3,59,108,109,13077,13079,13087,1,956,116,105,109,97,112,59,1,8888,97,112,59,1,8888,4,24,71,76,82,86,97,98,99,100,101,102,103,104,105,106,108,109,111,112,114,115,116,117,118,119,13142,13165,13217,13229,13247,13330,13359,13414,13420,13508,13513,13579,13602,13626,13631,13762,13767,13855,13936,13995,14214,14285,14312,14432,4,2,103,116,13148,13152,59,3,8921,824,4,2,59,118,13158,13161,3,8811,8402,59,3,8811,824,4,3,101,108,116,13173,13200,13204,102,116,4,2,97,114,13181,13188,114,114,111,119,59,1,8653,105,103,104,116,97,114,114,111,119,59,1,8654,59,3,8920,824,4,2,59,118,13210,13213,3,8810,8402,59,3,8810,824,105,103,104,116,97,114,114,111,119,59,1,8655,4,2,68,100,13235,13241,97,115,104,59,1,8879,97,115,104,59,1,8878,4,5,98,99,110,112,116,13259,13264,13270,13275,13308,108,97,59,1,8711,117,116,101,59,1,324,103,59,3,8736,8402,4,5,59,69,105,111,112,13287,13289,13293,13298,13302,1,8777,59,3,10864,824,100,59,3,8779,824,115,59,1,329,114,111,120,59,1,8777,117,114,4,2,59,97,13316,13318,1,9838,108,4,2,59,115,13325,13327,1,9838,59,1,8469,4,2,115,117,13336,13344,112,5,160,1,59,13342,1,160,109,112,4,2,59,101,13352,13355,3,8782,824,59,3,8783,824,4,5,97,101,111,117,121,13371,13385,13391,13407,13411,4,2,112,114,13377,13380,59,1,10819,111,110,59,1,328,100,105,108,59,1,326,110,103,4,2,59,100,13399,13401,1,8775,111,116,59,3,10861,824,112,59,1,10818,59,1,1085,97,115,104,59,1,8211,4,7,59,65,97,100,113,115,120,13436,13438,13443,13466,13472,13478,13494,1,8800,114,114,59,1,8663,114,4,2,104,114,13450,13454,107,59,1,10532,4,2,59,111,13460,13462,1,8599,119,59,1,8599,111,116,59,3,8784,824,117,105,118,59,1,8802,4,2,101,105,13484,13489,97,114,59,1,10536,109,59,3,8770,824,105,115,116,4,2,59,115,13503,13505,1,8708,59,1,8708,114,59,3,55349,56619,4,4,69,101,115,116,13523,13527,13563,13568,59,3,8807,824,4,3,59,113,115,13535,13537,13559,1,8817,4,3,59,113,115,13545,13547,13551,1,8817,59,3,8807,824,108,97,110,116,59,3,10878,824,59,3,10878,824,105,109,59,1,8821,4,2,59,114,13574,13576,1,8815,59,1,8815,4,3,65,97,112,13587,13592,13597,114,114,59,1,8654,114,114,59,1,8622,97,114,59,1,10994,4,3,59,115,118,13610,13612,13623,1,8715,4,2,59,100,13618,13620,1,8956,59,1,8954,59,1,8715,99,121,59,1,1114,4,7,65,69,97,100,101,115,116,13647,13652,13656,13661,13665,13737,13742,114,114,59,1,8653,59,3,8806,824,114,114,59,1,8602,114,59,1,8229,4,4,59,102,113,115,13675,13677,13703,13725,1,8816,116,4,2,97,114,13684,13691,114,114,111,119,59,1,8602,105,103,104,116,97,114,114,111,119,59,1,8622,4,3,59,113,115,13711,13713,13717,1,8816,59,3,8806,824,108,97,110,116,59,3,10877,824,4,2,59,115,13731,13734,3,10877,824,59,1,8814,105,109,59,1,8820,4,2,59,114,13748,13750,1,8814,105,4,2,59,101,13757,13759,1,8938,59,1,8940,105,100,59,1,8740,4,2,112,116,13773,13778,102,59,3,55349,56671,5,172,3,59,105,110,13787,13789,13829,1,172,110,4,4,59,69,100,118,13800,13802,13806,13812,1,8713,59,3,8953,824,111,116,59,3,8949,824,4,3,97,98,99,13820,13823,13826,59,1,8713,59,1,8951,59,1,8950,105,4,2,59,118,13836,13838,1,8716,4,3,97,98,99,13846,13849,13852,59,1,8716,59,1,8958,59,1,8957,4,3,97,111,114,13863,13892,13899,114,4,4,59,97,115,116,13874,13876,13883,13888,1,8742,108,108,101,108,59,1,8742,108,59,3,11005,8421,59,3,8706,824,108,105,110,116,59,1,10772,4,3,59,99,101,13907,13909,13914,1,8832,117,101,59,1,8928,4,2,59,99,13920,13923,3,10927,824,4,2,59,101,13929,13931,1,8832,113,59,3,10927,824,4,4,65,97,105,116,13946,13951,13971,13982,114,114,59,1,8655,114,114,4,3,59,99,119,13961,13963,13967,1,8603,59,3,10547,824,59,3,8605,824,103,104,116,97,114,114,111,119,59,1,8603,114,105,4,2,59,101,13990,13992,1,8939,59,1,8941,4,7,99,104,105,109,112,113,117,14011,14036,14060,14080,14085,14090,14106,4,4,59,99,101,114,14021,14023,14028,14032,1,8833,117,101,59,1,8929,59,3,10928,824,59,3,55349,56515,111,114,116,4,2,109,112,14045,14050,105,100,59,1,8740,97,114,97,108,108,101,108,59,1,8742,109,4,2,59,101,14067,14069,1,8769,4,2,59,113,14075,14077,1,8772,59,1,8772,105,100,59,1,8740,97,114,59,1,8742,115,117,4,2,98,112,14098,14102,101,59,1,8930,101,59,1,8931,4,3,98,99,112,14114,14157,14171,4,4,59,69,101,115,14124,14126,14130,14133,1,8836,59,3,10949,824,59,1,8840,101,116,4,2,59,101,14141,14144,3,8834,8402,113,4,2,59,113,14151,14153,1,8840,59,3,10949,824,99,4,2,59,101,14164,14166,1,8833,113,59,3,10928,824,4,4,59,69,101,115,14181,14183,14187,14190,1,8837,59,3,10950,824,59,1,8841,101,116,4,2,59,101,14198,14201,3,8835,8402,113,4,2,59,113,14208,14210,1,8841,59,3,10950,824,4,4,103,105,108,114,14224,14228,14238,14242,108,59,1,8825,108,100,101,5,241,1,59,14236,1,241,103,59,1,8824,105,97,110,103,108,101,4,2,108,114,14254,14269,101,102,116,4,2,59,101,14263,14265,1,8938,113,59,1,8940,105,103,104,116,4,2,59,101,14279,14281,1,8939,113,59,1,8941,4,2,59,109,14291,14293,1,957,4,3,59,101,115,14301,14303,14308,1,35,114,111,59,1,8470,112,59,1,8199,4,9,68,72,97,100,103,105,108,114,115,14332,14338,14344,14349,14355,14369,14376,14408,14426,97,115,104,59,1,8877,97,114,114,59,1,10500,112,59,3,8781,8402,97,115,104,59,1,8876,4,2,101,116,14361,14365,59,3,8805,8402,59,3,62,8402,110,102,105,110,59,1,10718,4,3,65,101,116,14384,14389,14393,114,114,59,1,10498,59,3,8804,8402,4,2,59,114,14399,14402,3,60,8402,105,101,59,3,8884,8402,4,2,65,116,14414,14419,114,114,59,1,10499,114,105,101,59,3,8885,8402,105,109,59,3,8764,8402,4,3,65,97,110,14440,14445,14468,114,114,59,1,8662,114,4,2,104,114,14452,14456,107,59,1,10531,4,2,59,111,14462,14464,1,8598,119,59,1,8598,101,97,114,59,1,10535,4,18,83,97,99,100,101,102,103,104,105,108,109,111,112,114,115,116,117,118,14512,14515,14535,14560,14597,14603,14618,14643,14657,14662,14701,14741,14747,14769,14851,14877,14907,14916,59,1,9416,4,2,99,115,14521,14531,117,116,101,5,243,1,59,14529,1,243,116,59,1,8859,4,2,105,121,14541,14557,114,4,2,59,99,14548,14550,1,8858,5,244,1,59,14555,1,244,59,1,1086,4,5,97,98,105,111,115,14572,14577,14583,14587,14591,115,104,59,1,8861,108,97,99,59,1,337,118,59,1,10808,116,59,1,8857,111,108,100,59,1,10684,108,105,103,59,1,339,4,2,99,114,14609,14614,105,114,59,1,10687,59,3,55349,56620,4,3,111,114,116,14626,14630,14640,110,59,1,731,97,118,101,5,242,1,59,14638,1,242,59,1,10689,4,2,98,109,14649,14654,97,114,59,1,10677,59,1,937,110,116,59,1,8750,4,4,97,99,105,116,14672,14677,14693,14698,114,114,59,1,8634,4,2,105,114,14683,14687,114,59,1,10686,111,115,115,59,1,10683,110,101,59,1,8254,59,1,10688,4,3,97,101,105,14709,14714,14719,99,114,59,1,333,103,97,59,1,969,4,3,99,100,110,14727,14733,14736,114,111,110,59,1,959,59,1,10678,117,115,59,1,8854,112,102,59,3,55349,56672,4,3,97,101,108,14755,14759,14764,114,59,1,10679,114,112,59,1,10681,117,115,59,1,8853,4,7,59,97,100,105,111,115,118,14785,14787,14792,14831,14837,14841,14848,1,8744,114,114,59,1,8635,4,4,59,101,102,109,14802,14804,14817,14824,1,10845,114,4,2,59,111,14811,14813,1,8500,102,59,1,8500,5,170,1,59,14822,1,170,5,186,1,59,14829,1,186,103,111,102,59,1,8886,114,59,1,10838,108,111,112,101,59,1,10839,59,1,10843,4,3,99,108,111,14859,14863,14873,114,59,1,8500,97,115,104,5,248,1,59,14871,1,248,108,59,1,8856,105,4,2,108,109,14884,14893,100,101,5,245,1,59,14891,1,245,101,115,4,2,59,97,14901,14903,1,8855,115,59,1,10806,109,108,5,246,1,59,14914,1,246,98,97,114,59,1,9021,4,12,97,99,101,102,104,105,108,109,111,114,115,117,14948,14992,14996,15033,15038,15068,15090,15189,15192,15222,15427,15441,114,4,4,59,97,115,116,14959,14961,14976,14989,1,8741,5,182,2,59,108,14968,14970,1,182,108,101,108,59,1,8741,4,2,105,108,14982,14986,109,59,1,10995,59,1,11005,59,1,8706,121,59,1,1087,114,4,5,99,105,109,112,116,15009,15014,15019,15024,15027,110,116,59,1,37,111,100,59,1,46,105,108,59,1,8240,59,1,8869,101,110,107,59,1,8241,114,59,3,55349,56621,4,3,105,109,111,15046,15057,15063,4,2,59,118,15052,15054,1,966,59,1,981,109,97,116,59,1,8499,110,101,59,1,9742,4,3,59,116,118,15076,15078,15087,1,960,99,104,102,111,114,107,59,1,8916,59,1,982,4,2,97,117,15096,15119,110,4,2,99,107,15103,15115,107,4,2,59,104,15110,15112,1,8463,59,1,8462,118,59,1,8463,115,4,9,59,97,98,99,100,101,109,115,116,15140,15142,15148,15151,15156,15168,15171,15179,15184,1,43,99,105,114,59,1,10787,59,1,8862,105,114,59,1,10786,4,2,111,117,15162,15165,59,1,8724,59,1,10789,59,1,10866,110,5,177,1,59,15177,1,177,105,109,59,1,10790,119,111,59,1,10791,59,1,177,4,3,105,112,117,15200,15208,15213,110,116,105,110,116,59,1,10773,102,59,3,55349,56673,110,100,5,163,1,59,15220,1,163,4,10,59,69,97,99,101,105,110,111,115,117,15244,15246,15249,15253,15258,15334,15347,15367,15416,15421,1,8826,59,1,10931,112,59,1,10935,117,101,59,1,8828,4,2,59,99,15264,15266,1,10927,4,6,59,97,99,101,110,115,15280,15282,15290,15299,15303,15329,1,8826,112,112,114,111,120,59,1,10935,117,114,108,121,101,113,59,1,8828,113,59,1,10927,4,3,97,101,115,15311,15319,15324,112,112,114,111,120,59,1,10937,113,113,59,1,10933,105,109,59,1,8936,105,109,59,1,8830,109,101,4,2,59,115,15342,15344,1,8242,59,1,8473,4,3,69,97,115,15355,15358,15362,59,1,10933,112,59,1,10937,105,109,59,1,8936,4,3,100,102,112,15375,15378,15404,59,1,8719,4,3,97,108,115,15386,15392,15398,108,97,114,59,1,9006,105,110,101,59,1,8978,117,114,102,59,1,8979,4,2,59,116,15410,15412,1,8733,111,59,1,8733,105,109,59,1,8830,114,101,108,59,1,8880,4,2,99,105,15433,15438,114,59,3,55349,56517,59,1,968,110,99,115,112,59,1,8200,4,6,102,105,111,112,115,117,15462,15467,15472,15478,15485,15491,114,59,3,55349,56622,110,116,59,1,10764,112,102,59,3,55349,56674,114,105,109,101,59,1,8279,99,114,59,3,55349,56518,4,3,97,101,111,15499,15520,15534,116,4,2,101,105,15506,15515,114,110,105,111,110,115,59,1,8461,110,116,59,1,10774,115,116,4,2,59,101,15528,15530,1,63,113,59,1,8799,116,5,34,1,59,15540,1,34,4,21,65,66,72,97,98,99,100,101,102,104,105,108,109,110,111,112,114,115,116,117,120,15586,15609,15615,15620,15796,15855,15893,15931,15977,16001,16039,16183,16204,16222,16228,16285,16312,16318,16363,16408,16416,4,3,97,114,116,15594,15599,15603,114,114,59,1,8667,114,59,1,8658,97,105,108,59,1,10524,97,114,114,59,1,10511,97,114,59,1,10596,4,7,99,100,101,110,113,114,116,15636,15651,15656,15664,15687,15696,15770,4,2,101,117,15642,15646,59,3,8765,817,116,101,59,1,341,105,99,59,1,8730,109,112,116,121,118,59,1,10675,103,4,4,59,100,101,108,15675,15677,15680,15683,1,10217,59,1,10642,59,1,10661,101,59,1,10217,117,111,5,187,1,59,15694,1,187,114,4,11,59,97,98,99,102,104,108,112,115,116,119,15721,15723,15727,15739,15742,15746,15750,15754,15758,15763,15767,1,8594,112,59,1,10613,4,2,59,102,15733,15735,1,8677,115,59,1,10528,59,1,10547,115,59,1,10526,107,59,1,8618,112,59,1,8620,108,59,1,10565,105,109,59,1,10612,108,59,1,8611,59,1,8605,4,2,97,105,15776,15781,105,108,59,1,10522,111,4,2,59,110,15788,15790,1,8758,97,108,115,59,1,8474,4,3,97,98,114,15804,15809,15814,114,114,59,1,10509,114,107,59,1,10099,4,2,97,107,15820,15833,99,4,2,101,107,15827,15830,59,1,125,59,1,93,4,2,101,115,15839,15842,59,1,10636,108,4,2,100,117,15849,15852,59,1,10638,59,1,10640,4,4,97,101,117,121,15865,15871,15886,15890,114,111,110,59,1,345,4,2,100,105,15877,15882,105,108,59,1,343,108,59,1,8969,98,59,1,125,59,1,1088,4,4,99,108,113,115,15903,15907,15914,15927,97,59,1,10551,100,104,97,114,59,1,10601,117,111,4,2,59,114,15922,15924,1,8221,59,1,8221,104,59,1,8627,4,3,97,99,103,15939,15966,15970,108,4,4,59,105,112,115,15950,15952,15957,15963,1,8476,110,101,59,1,8475,97,114,116,59,1,8476,59,1,8477,116,59,1,9645,5,174,1,59,15975,1,174,4,3,105,108,114,15985,15991,15997,115,104,116,59,1,10621,111,111,114,59,1,8971,59,3,55349,56623,4,2,97,111,16007,16028,114,4,2,100,117,16014,16017,59,1,8641,4,2,59,108,16023,16025,1,8640,59,1,10604,4,2,59,118,16034,16036,1,961,59,1,1009,4,3,103,110,115,16047,16167,16171,104,116,4,6,97,104,108,114,115,116,16063,16081,16103,16130,16143,16155,114,114,111,119,4,2,59,116,16073,16075,1,8594,97,105,108,59,1,8611,97,114,112,111,111,110,4,2,100,117,16093,16099,111,119,110,59,1,8641,112,59,1,8640,101,102,116,4,2,97,104,16112,16120,114,114,111,119,115,59,1,8644,97,114,112,111,111,110,115,59,1,8652,105,103,104,116,97,114,114,111,119,115,59,1,8649,113,117,105,103,97,114,114,111,119,59,1,8605,104,114,101,101,116,105,109,101,115,59,1,8908,103,59,1,730,105,110,103,100,111,116,115,101,113,59,1,8787,4,3,97,104,109,16191,16196,16201,114,114,59,1,8644,97,114,59,1,8652,59,1,8207,111,117,115,116,4,2,59,97,16214,16216,1,9137,99,104,101,59,1,9137,109,105,100,59,1,10990,4,4,97,98,112,116,16238,16252,16257,16278,4,2,110,114,16244,16248,103,59,1,10221,114,59,1,8702,114,107,59,1,10215,4,3,97,102,108,16265,16269,16273,114,59,1,10630,59,3,55349,56675,117,115,59,1,10798,105,109,101,115,59,1,10805,4,2,97,112,16291,16304,114,4,2,59,103,16298,16300,1,41,116,59,1,10644,111,108,105,110,116,59,1,10770,97,114,114,59,1,8649,4,4,97,99,104,113,16328,16334,16339,16342,113,117,111,59,1,8250,114,59,3,55349,56519,59,1,8625,4,2,98,117,16348,16351,59,1,93,111,4,2,59,114,16358,16360,1,8217,59,1,8217,4,3,104,105,114,16371,16377,16383,114,101,101,59,1,8908,109,101,115,59,1,8906,105,4,4,59,101,102,108,16394,16396,16399,16402,1,9657,59,1,8885,59,1,9656,116,114,105,59,1,10702,108,117,104,97,114,59,1,10600,59,1,8478,4,19,97,98,99,100,101,102,104,105,108,109,111,112,113,114,115,116,117,119,122,16459,16466,16472,16572,16590,16672,16687,16746,16844,16850,16924,16963,16988,17115,17121,17154,17206,17614,17656,99,117,116,101,59,1,347,113,117,111,59,1,8218,4,10,59,69,97,99,101,105,110,112,115,121,16494,16496,16499,16513,16518,16531,16536,16556,16564,16569,1,8827,59,1,10932,4,2,112,114,16505,16508,59,1,10936,111,110,59,1,353,117,101,59,1,8829,4,2,59,100,16524,16526,1,10928,105,108,59,1,351,114,99,59,1,349,4,3,69,97,115,16544,16547,16551,59,1,10934,112,59,1,10938,105,109,59,1,8937,111,108,105,110,116,59,1,10771,105,109,59,1,8831,59,1,1089,111,116,4,3,59,98,101,16582,16584,16587,1,8901,59,1,8865,59,1,10854,4,7,65,97,99,109,115,116,120,16606,16611,16634,16642,16646,16652,16668,114,114,59,1,8664,114,4,2,104,114,16618,16622,107,59,1,10533,4,2,59,111,16628,16630,1,8600,119,59,1,8600,116,5,167,1,59,16640,1,167,105,59,1,59,119,97,114,59,1,10537,109,4,2,105,110,16659,16665,110,117,115,59,1,8726,59,1,8726,116,59,1,10038,114,4,2,59,111,16679,16682,3,55349,56624,119,110,59,1,8994,4,4,97,99,111,121,16697,16702,16716,16739,114,112,59,1,9839,4,2,104,121,16708,16713,99,121,59,1,1097,59,1,1096,114,116,4,2,109,112,16724,16729,105,100,59,1,8739,97,114,97,108,108,101,108,59,1,8741,5,173,1,59,16744,1,173,4,2,103,109,16752,16770,109,97,4,3,59,102,118,16762,16764,16767,1,963,59,1,962,59,1,962,4,8,59,100,101,103,108,110,112,114,16788,16790,16795,16806,16817,16828,16832,16838,1,8764,111,116,59,1,10858,4,2,59,113,16801,16803,1,8771,59,1,8771,4,2,59,69,16812,16814,1,10910,59,1,10912,4,2,59,69,16823,16825,1,10909,59,1,10911,101,59,1,8774,108,117,115,59,1,10788,97,114,114,59,1,10610,97,114,114,59,1,8592,4,4,97,101,105,116,16860,16883,16891,16904,4,2,108,115,16866,16878,108,115,101,116,109,105,110,117,115,59,1,8726,104,112,59,1,10803,112,97,114,115,108,59,1,10724,4,2,100,108,16897,16900,59,1,8739,101,59,1,8995,4,2,59,101,16910,16912,1,10922,4,2,59,115,16918,16920,1,10924,59,3,10924,65024,4,3,102,108,112,16932,16938,16958,116,99,121,59,1,1100,4,2,59,98,16944,16946,1,47,4,2,59,97,16952,16954,1,10692,114,59,1,9023,102,59,3,55349,56676,97,4,2,100,114,16970,16985,101,115,4,2,59,117,16978,16980,1,9824,105,116,59,1,9824,59,1,8741,4,3,99,115,117,16996,17028,17089,4,2,97,117,17002,17015,112,4,2,59,115,17009,17011,1,8851,59,3,8851,65024,112,4,2,59,115,17022,17024,1,8852,59,3,8852,65024,117,4,2,98,112,17035,17062,4,3,59,101,115,17043,17045,17048,1,8847,59,1,8849,101,116,4,2,59,101,17056,17058,1,8847,113,59,1,8849,4,3,59,101,115,17070,17072,17075,1,8848,59,1,8850,101,116,4,2,59,101,17083,17085,1,8848,113,59,1,8850,4,3,59,97,102,17097,17099,17112,1,9633,114,4,2,101,102,17106,17109,59,1,9633,59,1,9642,59,1,9642,97,114,114,59,1,8594,4,4,99,101,109,116,17131,17136,17142,17148,114,59,3,55349,56520,116,109,110,59,1,8726,105,108,101,59,1,8995,97,114,102,59,1,8902,4,2,97,114,17160,17172,114,4,2,59,102,17167,17169,1,9734,59,1,9733,4,2,97,110,17178,17202,105,103,104,116,4,2,101,112,17188,17197,112,115,105,108,111,110,59,1,1013,104,105,59,1,981,115,59,1,175,4,5,98,99,109,110,112,17218,17351,17420,17423,17427,4,9,59,69,100,101,109,110,112,114,115,17238,17240,17243,17248,17261,17267,17279,17285,17291,1,8834,59,1,10949,111,116,59,1,10941,4,2,59,100,17254,17256,1,8838,111,116,59,1,10947,117,108,116,59,1,10945,4,2,69,101,17273,17276,59,1,10955,59,1,8842,108,117,115,59,1,10943,97,114,114,59,1,10617,4,3,101,105,117,17299,17335,17339,116,4,3,59,101,110,17308,17310,17322,1,8834,113,4,2,59,113,17317,17319,1,8838,59,1,10949,101,113,4,2,59,113,17330,17332,1,8842,59,1,10955,109,59,1,10951,4,2,98,112,17345,17348,59,1,10965,59,1,10963,99,4,6,59,97,99,101,110,115,17366,17368,17376,17385,17389,17415,1,8827,112,112,114,111,120,59,1,10936,117,114,108,121,101,113,59,1,8829,113,59,1,10928,4,3,97,101,115,17397,17405,17410,112,112,114,111,120,59,1,10938,113,113,59,1,10934,105,109,59,1,8937,105,109,59,1,8831,59,1,8721,103,59,1,9834,4,13,49,50,51,59,69,100,101,104,108,109,110,112,115,17455,17462,17469,17476,17478,17481,17496,17509,17524,17530,17536,17548,17554,5,185,1,59,17460,1,185,5,178,1,59,17467,1,178,5,179,1,59,17474,1,179,1,8835,59,1,10950,4,2,111,115,17487,17491,116,59,1,10942,117,98,59,1,10968,4,2,59,100,17502,17504,1,8839,111,116,59,1,10948,115,4,2,111,117,17516,17520,108,59,1,10185,98,59,1,10967,97,114,114,59,1,10619,117,108,116,59,1,10946,4,2,69,101,17542,17545,59,1,10956,59,1,8843,108,117,115,59,1,10944,4,3,101,105,117,17562,17598,17602,116,4,3,59,101,110,17571,17573,17585,1,8835,113,4,2,59,113,17580,17582,1,8839,59,1,10950,101,113,4,2,59,113,17593,17595,1,8843,59,1,10956,109,59,1,10952,4,2,98,112,17608,17611,59,1,10964,59,1,10966,4,3,65,97,110,17622,17627,17650,114,114,59,1,8665,114,4,2,104,114,17634,17638,107,59,1,10534,4,2,59,111,17644,17646,1,8601,119,59,1,8601,119,97,114,59,1,10538,108,105,103,5,223,1,59,17664,1,223,4,13,97,98,99,100,101,102,104,105,111,112,114,115,119,17694,17709,17714,17737,17742,17749,17754,17860,17905,17957,17964,18090,18122,4,2,114,117,17700,17706,103,101,116,59,1,8982,59,1,964,114,107,59,1,9140,4,3,97,101,121,17722,17728,17734,114,111,110,59,1,357,100,105,108,59,1,355,59,1,1090,111,116,59,1,8411,108,114,101,99,59,1,8981,114,59,3,55349,56625,4,4,101,105,107,111,17764,17805,17836,17851,4,2,114,116,17770,17786,101,4,2,52,102,17777,17780,59,1,8756,111,114,101,59,1,8756,97,4,3,59,115,118,17795,17797,17802,1,952,121,109,59,1,977,59,1,977,4,2,99,110,17811,17831,107,4,2,97,115,17818,17826,112,112,114,111,120,59,1,8776,105,109,59,1,8764,115,112,59,1,8201,4,2,97,115,17842,17846,112,59,1,8776,105,109,59,1,8764,114,110,5,254,1,59,17858,1,254,4,3,108,109,110,17868,17873,17901,100,101,59,1,732,101,115,5,215,3,59,98,100,17884,17886,17898,1,215,4,2,59,97,17892,17894,1,8864,114,59,1,10801,59,1,10800,116,59,1,8749,4,3,101,112,115,17913,17917,17953,97,59,1,10536,4,4,59,98,99,102,17927,17929,17934,17939,1,8868,111,116,59,1,9014,105,114,59,1,10993,4,2,59,111,17945,17948,3,55349,56677,114,107,59,1,10970,97,59,1,10537,114,105,109,101,59,1,8244,4,3,97,105,112,17972,17977,18082,100,101,59,1,8482,4,7,97,100,101,109,112,115,116,17993,18051,18056,18059,18066,18072,18076,110,103,108,101,4,5,59,100,108,113,114,18009,18011,18017,18032,18035,1,9653,111,119,110,59,1,9663,101,102,116,4,2,59,101,18026,18028,1,9667,113,59,1,8884,59,1,8796,105,103,104,116,4,2,59,101,18045,18047,1,9657,113,59,1,8885,111,116,59,1,9708,59,1,8796,105,110,117,115,59,1,10810,108,117,115,59,1,10809,98,59,1,10701,105,109,101,59,1,10811,101,122,105,117,109,59,1,9186,4,3,99,104,116,18098,18111,18116,4,2,114,121,18104,18108,59,3,55349,56521,59,1,1094,99,121,59,1,1115,114,111,107,59,1,359,4,2,105,111,18128,18133,120,116,59,1,8812,104,101,97,100,4,2,108,114,18143,18154,101,102,116,97,114,114,111,119,59,1,8606,105,103,104,116,97,114,114,111,119,59,1,8608,4,18,65,72,97,98,99,100,102,103,104,108,109,111,112,114,115,116,117,119,18204,18209,18214,18234,18250,18268,18292,18308,18319,18343,18379,18397,18413,18504,18547,18553,18584,18603,114,114,59,1,8657,97,114,59,1,10595,4,2,99,114,18220,18230,117,116,101,5,250,1,59,18228,1,250,114,59,1,8593,114,4,2,99,101,18241,18245,121,59,1,1118,118,101,59,1,365,4,2,105,121,18256,18265,114,99,5,251,1,59,18263,1,251,59,1,1091,4,3,97,98,104,18276,18281,18287,114,114,59,1,8645,108,97,99,59,1,369,97,114,59,1,10606,4,2,105,114,18298,18304,115,104,116,59,1,10622,59,3,55349,56626,114,97,118,101,5,249,1,59,18317,1,249,4,2,97,98,18325,18338,114,4,2,108,114,18332,18335,59,1,8639,59,1,8638,108,107,59,1,9600,4,2,99,116,18349,18374,4,2,111,114,18355,18369,114,110,4,2,59,101,18363,18365,1,8988,114,59,1,8988,111,112,59,1,8975,114,105,59,1,9720,4,2,97,108,18385,18390,99,114,59,1,363,5,168,1,59,18395,1,168,4,2,103,112,18403,18408,111,110,59,1,371,102,59,3,55349,56678,4,6,97,100,104,108,115,117,18427,18434,18445,18470,18475,18494,114,114,111,119,59,1,8593,111,119,110,97,114,114,111,119,59,1,8597,97,114,112,111,111,110,4,2,108,114,18457,18463,101,102,116,59,1,8639,105,103,104,116,59,1,8638,117,115,59,1,8846,105,4,3,59,104,108,18484,18486,18489,1,965,59,1,978,111,110,59,1,965,112,97,114,114,111,119,115,59,1,8648,4,3,99,105,116,18512,18537,18542,4,2,111,114,18518,18532,114,110,4,2,59,101,18526,18528,1,8989,114,59,1,8989,111,112,59,1,8974,110,103,59,1,367,114,105,59,1,9721,99,114,59,3,55349,56522,4,3,100,105,114,18561,18566,18572,111,116,59,1,8944,108,100,101,59,1,361,105,4,2,59,102,18579,18581,1,9653,59,1,9652,4,2,97,109,18590,18595,114,114,59,1,8648,108,5,252,1,59,18601,1,252,97,110,103,108,101,59,1,10663,4,15,65,66,68,97,99,100,101,102,108,110,111,112,114,115,122,18643,18648,18661,18667,18847,18851,18857,18904,18909,18915,18931,18937,18943,18949,18996,114,114,59,1,8661,97,114,4,2,59,118,18656,18658,1,10984,59,1,10985,97,115,104,59,1,8872,4,2,110,114,18673,18679,103,114,116,59,1,10652,4,7,101,107,110,112,114,115,116,18695,18704,18711,18720,18742,18754,18810,112,115,105,108,111,110,59,1,1013,97,112,112,97,59,1,1008,111,116,104,105,110,103,59,1,8709,4,3,104,105,114,18728,18732,18735,105,59,1,981,59,1,982,111,112,116,111,59,1,8733,4,2,59,104,18748,18750,1,8597,111,59,1,1009,4,2,105,117,18760,18766,103,109,97,59,1,962,4,2,98,112,18772,18791,115,101,116,110,101,113,4,2,59,113,18784,18787,3,8842,65024,59,3,10955,65024,115,101,116,110,101,113,4,2,59,113,18803,18806,3,8843,65024,59,3,10956,65024,4,2,104,114,18816,18822,101,116,97,59,1,977,105,97,110,103,108,101,4,2,108,114,18834,18840,101,102,116,59,1,8882,105,103,104,116,59,1,8883,121,59,1,1074,97,115,104,59,1,8866,4,3,101,108,114,18865,18884,18890,4,3,59,98,101,18873,18875,18880,1,8744,97,114,59,1,8891,113,59,1,8794,108,105,112,59,1,8942,4,2,98,116,18896,18901,97,114,59,1,124,59,1,124,114,59,3,55349,56627,116,114,105,59,1,8882,115,117,4,2,98,112,18923,18927,59,3,8834,8402,59,3,8835,8402,112,102,59,3,55349,56679,114,111,112,59,1,8733,116,114,105,59,1,8883,4,2,99,117,18955,18960,114,59,3,55349,56523,4,2,98,112,18966,18981,110,4,2,69,101,18973,18977,59,3,10955,65024,59,3,8842,65024,110,4,2,69,101,18988,18992,59,3,10956,65024,59,3,8843,65024,105,103,122,97,103,59,1,10650,4,7,99,101,102,111,112,114,115,19020,19026,19061,19066,19072,19075,19089,105,114,99,59,1,373,4,2,100,105,19032,19055,4,2,98,103,19038,19043,97,114,59,1,10847,101,4,2,59,113,19050,19052,1,8743,59,1,8793,101,114,112,59,1,8472,114,59,3,55349,56628,112,102,59,3,55349,56680,59,1,8472,4,2,59,101,19081,19083,1,8768,97,116,104,59,1,8768,99,114,59,3,55349,56524,4,14,99,100,102,104,105,108,109,110,111,114,115,117,118,119,19125,19146,19152,19157,19173,19176,19192,19197,19202,19236,19252,19269,19286,19291,4,3,97,105,117,19133,19137,19142,112,59,1,8898,114,99,59,1,9711,112,59,1,8899,116,114,105,59,1,9661,114,59,3,55349,56629,4,2,65,97,19163,19168,114,114,59,1,10234,114,114,59,1,10231,59,1,958,4,2,65,97,19182,19187,114,114,59,1,10232,114,114,59,1,10229,97,112,59,1,10236,105,115,59,1,8955,4,3,100,112,116,19210,19215,19230,111,116,59,1,10752,4,2,102,108,19221,19225,59,3,55349,56681,117,115,59,1,10753,105,109,101,59,1,10754,4,2,65,97,19242,19247,114,114,59,1,10233,114,114,59,1,10230,4,2,99,113,19258,19263,114,59,3,55349,56525,99,117,112,59,1,10758,4,2,112,116,19275,19281,108,117,115,59,1,10756,114,105,59,1,9651,101,101,59,1,8897,101,100,103,101,59,1,8896,4,8,97,99,101,102,105,111,115,117,19316,19335,19349,19357,19362,19367,19373,19379,99,4,2,117,121,19323,19332,116,101,5,253,1,59,19330,1,253,59,1,1103,4,2,105,121,19341,19346,114,99,59,1,375,59,1,1099,110,5,165,1,59,19355,1,165,114,59,3,55349,56630,99,121,59,1,1111,112,102,59,3,55349,56682,99,114,59,3,55349,56526,4,2,99,109,19385,19389,121,59,1,1102,108,5,255,1,59,19395,1,255,4,10,97,99,100,101,102,104,105,111,115,119,19419,19426,19441,19446,19462,19467,19472,19480,19486,19492,99,117,116,101,59,1,378,4,2,97,121,19432,19438,114,111,110,59,1,382,59,1,1079,111,116,59,1,380,4,2,101,116,19452,19458,116,114,102,59,1,8488,97,59,1,950,114,59,3,55349,56631,99,121,59,1,1078,103,114,97,114,114,59,1,8669,112,102,59,3,55349,56683,99,114,59,3,55349,56527,4,2,106,110,19498,19501,59,1,8205,106,59,1,8204])},433:function(e,t,o){"use strict";var n=o(73),r=n.TAG_NAMES,i=n.NAMESPACES;function a(e){switch(e.length){case 1:return e===r.P;case 2:return e===r.RB||e===r.RP||e===r.RT||e===r.DD||e===r.DT||e===r.LI;case 3:return e===r.RTC;case 6:return e===r.OPTION;case 8:return e===r.OPTGROUP}return!1}function s(e){switch(e.length){case 1:return e===r.P;case 2:return e===r.RB||e===r.RP||e===r.RT||e===r.DD||e===r.DT||e===r.LI||e===r.TD||e===r.TH||e===r.TR;case 3:return e===r.RTC;case 5:return e===r.TBODY||e===r.TFOOT||e===r.THEAD;case 6:return e===r.OPTION;case 7:return e===r.CAPTION;case 8:return e===r.OPTGROUP||e===r.COLGROUP}return!1}function l(e,t){switch(e.length){case 2:if(e===r.TD||e===r.TH)return t===i.HTML;if(e===r.MI||e===r.MO||e===r.MN||e===r.MS)return t===i.MATHML;break;case 4:if(e===r.HTML)return t===i.HTML;if(e===r.DESC)return t===i.SVG;break;case 5:if(e===r.TABLE)return t===i.HTML;if(e===r.MTEXT)return t===i.MATHML;if(e===r.TITLE)return t===i.SVG;break;case 6:return(e===r.APPLET||e===r.OBJECT)&&t===i.HTML;case 7:return(e===r.CAPTION||e===r.MARQUEE)&&t===i.HTML;case 8:return e===r.TEMPLATE&&t===i.HTML;case 13:return e===r.FOREIGN_OBJECT&&t===i.SVG;case 14:return e===r.ANNOTATION_XML&&t===i.MATHML}return!1}var c=function(){function e(e,t){this.stackTop=-1,this.items=[],this.current=e,this.currentTagName=null,this.currentTmplContent=null,this.tmplCount=0,this.treeAdapter=t}var t=e.prototype;return t._indexOf=function(e){for(var t=-1,o=this.stackTop;0<=o;o--)if(this.items[o]===e){t=o;break}return t},t._isInTemplate=function(){return this.currentTagName===r.TEMPLATE&&this.treeAdapter.getNamespaceURI(this.current)===i.HTML},t._updateCurrentElement=function(){this.current=this.items[this.stackTop],this.currentTagName=this.current&&this.treeAdapter.getTagName(this.current),this.currentTmplContent=this._isInTemplate()?this.treeAdapter.getTemplateContent(this.current):null},t.push=function(e){this.items[++this.stackTop]=e,this._updateCurrentElement(),this._isInTemplate()&&this.tmplCount++},t.pop=function(){this.stackTop--,0<this.tmplCount&&this._isInTemplate()&&this.tmplCount--,this._updateCurrentElement()},t.replace=function(e,t){var o=this._indexOf(e);this.items[o]=t,o===this.stackTop&&this._updateCurrentElement()},t.insertAfter=function(e,t){var o=this._indexOf(e)+1;this.items.splice(o,0,t),o===++this.stackTop&&this._updateCurrentElement()},t.popUntilTagNamePopped=function(e){for(;-1<this.stackTop;){var t=this.currentTagName,o=this.treeAdapter.getNamespaceURI(this.current);if(this.pop(),t===e&&o===i.HTML)break}},t.popUntilElementPopped=function(e){for(;-1<this.stackTop;){var t=this.current;if(this.pop(),t===e)break}},t.popUntilNumberedHeaderPopped=function(){for(;-1<this.stackTop;){var e=this.currentTagName,t=this.treeAdapter.getNamespaceURI(this.current);if(this.pop(),e===r.H1||e===r.H2||e===r.H3||e===r.H4||e===r.H5||e===r.H6&&t===i.HTML)break}},t.popUntilTableCellPopped=function(){for(;-1<this.stackTop;){var e=this.currentTagName,t=this.treeAdapter.getNamespaceURI(this.current);if(this.pop(),e===r.TD||e===r.TH&&t===i.HTML)break}},t.popAllUpToHtmlElement=function(){this.stackTop=0,this._updateCurrentElement()},t.clearBackToTableContext=function(){for(;this.currentTagName!==r.TABLE&&this.currentTagName!==r.TEMPLATE&&this.currentTagName!==r.HTML||this.treeAdapter.getNamespaceURI(this.current)!==i.HTML;)this.pop()},t.clearBackToTableBodyContext=function(){for(;this.currentTagName!==r.TBODY&&this.currentTagName!==r.TFOOT&&this.currentTagName!==r.THEAD&&this.currentTagName!==r.TEMPLATE&&this.currentTagName!==r.HTML||this.treeAdapter.getNamespaceURI(this.current)!==i.HTML;)this.pop()},t.clearBackToTableRowContext=function(){for(;this.currentTagName!==r.TR&&this.currentTagName!==r.TEMPLATE&&this.currentTagName!==r.HTML||this.treeAdapter.getNamespaceURI(this.current)!==i.HTML;)this.pop()},t.remove=function(e){for(var t=this.stackTop;0<=t;t--)if(this.items[t]===e){this.items.splice(t,1),this.stackTop--,this._updateCurrentElement();break}},t.tryPeekProperlyNestedBodyElement=function(){var e=this.items[1];return e&&this.treeAdapter.getTagName(e)===r.BODY?e:null},t.contains=function(e){return-1<this._indexOf(e)},t.getCommonAncestor=function(e){var t=this._indexOf(e);return 0<=--t?this.items[t]:null},t.isRootHtmlElementCurrent=function(){return 0===this.stackTop&&this.currentTagName===r.HTML},t.hasInScope=function(e){for(var t=this.stackTop;0<=t;t--){var o=this.treeAdapter.getTagName(this.items[t]),n=this.treeAdapter.getNamespaceURI(this.items[t]);if(o===e&&n===i.HTML)return!0;if(l(o,n))return!1}return!0},t.hasNumberedHeaderInScope=function(){for(var e=this.stackTop;0<=e;e--){var t=this.treeAdapter.getTagName(this.items[e]),o=this.treeAdapter.getNamespaceURI(this.items[e]);if((t===r.H1||t===r.H2||t===r.H3||t===r.H4||t===r.H5||t===r.H6)&&o===i.HTML)return!0;if(l(t,o))return!1}return!0},t.hasInListItemScope=function(e){for(var t=this.stackTop;0<=t;t--){var o=this.treeAdapter.getTagName(this.items[t]),n=this.treeAdapter.getNamespaceURI(this.items[t]);if(o===e&&n===i.HTML)return!0;if((o===r.UL||o===r.OL)&&n===i.HTML||l(o,n))return!1}return!0},t.hasInButtonScope=function(e){for(var t=this.stackTop;0<=t;t--){var o=this.treeAdapter.getTagName(this.items[t]),n=this.treeAdapter.getNamespaceURI(this.items[t]);if(o===e&&n===i.HTML)return!0;if(o===r.BUTTON&&n===i.HTML||l(o,n))return!1}return!0},t.hasInTableScope=function(e){for(var t=this.stackTop;0<=t;t--){var o=this.treeAdapter.getTagName(this.items[t]);if(this.treeAdapter.getNamespaceURI(this.items[t])===i.HTML){if(o===e)return!0;if(o===r.TABLE||o===r.TEMPLATE||o===r.HTML)return!1}}return!0},t.hasTableBodyContextInTableScope=function(){for(var e=this.stackTop;0<=e;e--){var t=this.treeAdapter.getTagName(this.items[e]);if(this.treeAdapter.getNamespaceURI(this.items[e])===i.HTML){if(t===r.TBODY||t===r.THEAD||t===r.TFOOT)return!0;if(t===r.TABLE||t===r.HTML)return!1}}return!0},t.hasInSelectScope=function(e){for(var t=this.stackTop;0<=t;t--){var o=this.treeAdapter.getTagName(this.items[t]);if(this.treeAdapter.getNamespaceURI(this.items[t])===i.HTML){if(o===e)return!0;if(o!==r.OPTION&&o!==r.OPTGROUP)return!1}}return!0},t.generateImpliedEndTags=function(){for(;a(this.currentTagName);)this.pop()},t.generateImpliedEndTagsThoroughly=function(){for(;s(this.currentTagName);)this.pop()},t.generateImpliedEndTagsWithExclusion=function(e){for(;a(this.currentTagName)&&this.currentTagName!==e;)this.pop()},e}();e.exports=c},434:function(e,t,o){"use strict";var n=function(){function c(e){this.length=0,this.entries=[],this.treeAdapter=e,this.bookmark=null}var e=c.prototype;return e._getNoahArkConditionCandidates=function(e){var t=[];if(3<=this.length)for(var o=this.treeAdapter.getAttrList(e).length,n=this.treeAdapter.getTagName(e),r=this.treeAdapter.getNamespaceURI(e),i=this.length-1;0<=i;i--){var a=this.entries[i];if(a.type===c.MARKER_ENTRY)break;var s=a.element,l=this.treeAdapter.getAttrList(s);this.treeAdapter.getTagName(s)===n&&this.treeAdapter.getNamespaceURI(s)===r&&l.length===o&&t.push({idx:i,attrs:l})}return t.length<3?[]:t},e._ensureNoahArkCondition=function(e){var t=this._getNoahArkConditionCandidates(e),o=t.length;if(o){for(var n=this.treeAdapter.getAttrList(e),r=n.length,i=Object.create(null),a=0;a<r;a++){var s=n[a];i[s.name]=s.value}for(var l=0;l<r;l++)for(var c=0;c<o;c++){var u=t[c].attrs[l];if(i[u.name]!==u.value&&(t.splice(c,1),o--),t.length<3)return}for(var d=o-1;2<=d;d--)this.entries.splice(t[d].idx,1),this.length--}},e.insertMarker=function(){this.entries.push({type:c.MARKER_ENTRY}),this.length++},e.pushElement=function(e,t){this._ensureNoahArkCondition(e),this.entries.push({type:c.ELEMENT_ENTRY,element:e,token:t}),this.length++},e.insertElementAfterBookmark=function(e,t){for(var o=this.length-1;0<=o&&this.entries[o]!==this.bookmark;o--);this.entries.splice(o+1,0,{type:c.ELEMENT_ENTRY,element:e,token:t}),this.length++},e.removeEntry=function(e){for(var t=this.length-1;0<=t;t--)if(this.entries[t]===e){this.entries.splice(t,1),this.length--;break}},e.clearToLastMarker=function(){for(;this.length;){var e=this.entries.pop();if(this.length--,e.type===c.MARKER_ENTRY)break}},e.getElementEntryInScopeWithTagName=function(e){for(var t=this.length-1;0<=t;t--){var o=this.entries[t];if(o.type===c.MARKER_ENTRY)return null;if(this.treeAdapter.getTagName(o.element)===e)return o}return null},e.getElementEntry=function(e){for(var t=this.length-1;0<=t;t--){var o=this.entries[t];if(o.type===c.ELEMENT_ENTRY&&o.element===e)return o}return null},c}();n.MARKER_ENTRY="MARKER_ENTRY",n.ELEMENT_ENTRY="ELEMENT_ENTRY",e.exports=n},435:function(e,t,o){"use strict";var n=o(42),i=o(107),r=o(237),a=o(436),c=o(73).TAG_NAMES,s=function(o){function e(e){var t;return(t=o.call(this,e)||this).parser=e,t.treeAdapter=t.parser.treeAdapter,t.posTracker=null,t.lastStartTagToken=null,t.lastFosterParentingLocation=null,t.currentToken=null,t}!function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(e,o);var t=e.prototype;return t._setStartLocation=function(e){var t=null;this.lastStartTagToken&&((t=Object.assign({},this.lastStartTagToken.location)).startTag=this.lastStartTagToken.location),this.treeAdapter.setNodeSourceCodeLocation(e,t)},t._setEndLocation=function(e,t){var o=this.treeAdapter.getNodeSourceCodeLocation(e);if(o&&t.location){var n=t.location,r=this.treeAdapter.getTagName(e);t.type===i.END_TAG_TOKEN&&r===t.tagName?(o.endTag=Object.assign({},n),o.endLine=n.endLine,o.endCol=n.endCol,o.endOffset=n.endOffset):(o.endLine=n.startLine,o.endCol=n.startCol,o.endOffset=n.startOffset)}},t._getOverriddenMethods=function(s,l){return{_bootstrap:function(e,t){l._bootstrap.call(this,e,t),s.lastStartTagToken=null,s.lastFosterParentingLocation=null,s.currentToken=null;var o=n.install(this.tokenizer,r);s.posTracker=o.posTracker,n.install(this.openElements,a,{onItemPop:function(e){s._setEndLocation(e,s.currentToken)}})},_runParsingLoop:function(e){l._runParsingLoop.call(this,e);for(var t=this.openElements.stackTop;0<=t;t--)s._setEndLocation(this.openElements.items[t],s.currentToken)},_processTokenInForeignContent:function(e){s.currentToken=e,l._processTokenInForeignContent.call(this,e)},_processToken:function(e){if(s.currentToken=e,l._processToken.call(this,e),e.type===i.END_TAG_TOKEN&&(e.tagName===c.HTML||e.tagName===c.BODY&&this.openElements.hasInScope(c.BODY)))for(var t=this.openElements.stackTop;0<=t;t--){var o=this.openElements.items[t];if(this.treeAdapter.getTagName(o)===e.tagName){s._setEndLocation(o,e);break}}},_setDocumentType:function(e){l._setDocumentType.call(this,e);for(var t=this.treeAdapter.getChildNodes(this.document),o=t.length,n=0;n<o;n++){var r=t[n];if(this.treeAdapter.isDocumentTypeNode(r)){this.treeAdapter.setNodeSourceCodeLocation(r,e.location);break}}},_attachElementToTree:function(e){s._setStartLocation(e),s.lastStartTagToken=null,l._attachElementToTree.call(this,e)},_appendElement:function(e,t){s.lastStartTagToken=e,l._appendElement.call(this,e,t)},_insertElement:function(e,t){s.lastStartTagToken=e,l._insertElement.call(this,e,t)},_insertTemplate:function(e){s.lastStartTagToken=e,l._insertTemplate.call(this,e);var t=this.treeAdapter.getTemplateContent(this.openElements.current);this.treeAdapter.setNodeSourceCodeLocation(t,null)},_insertFakeRootElement:function(){l._insertFakeRootElement.call(this),this.treeAdapter.setNodeSourceCodeLocation(this.openElements.current,null)},_appendCommentNode:function(e,t){l._appendCommentNode.call(this,e,t);var o=this.treeAdapter.getChildNodes(t),n=o[o.length-1];this.treeAdapter.setNodeSourceCodeLocation(n,e.location)},_findFosterParentingLocation:function(){return s.lastFosterParentingLocation=l._findFosterParentingLocation.call(this),s.lastFosterParentingLocation},_insertCharacters:function(e){l._insertCharacters.call(this,e);var t=this._shouldFosterParentOnInsertion(),o=t&&s.lastFosterParentingLocation.parent||this.openElements.currentTmplContent||this.openElements.current,n=this.treeAdapter.getChildNodes(o),r=t&&s.lastFosterParentingLocation.beforeElement?n.indexOf(s.lastFosterParentingLocation.beforeElement)-1:n.length-1,i=n[r],a=this.treeAdapter.getNodeSourceCodeLocation(i);a?(a.endLine=e.location.endLine,a.endCol=e.location.endCol,a.endOffset=e.location.endOffset):this.treeAdapter.setNodeSourceCodeLocation(i,e.location)}}},e}(n);e.exports=s},436:function(e,t,o){"use strict";var n=function(n){function e(e,t){var o;return(o=n.call(this,e)||this).onItemPop=t.onItemPop,o}return function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(e,n),e.prototype._getOverriddenMethods=function(t,o){return{pop:function(){t.onItemPop(this.current),o.pop.call(this)},popAllUpToHtmlElement:function(){for(var e=this.stackTop;0<e;e--)t.onItemPop(this.items[e]);o.popAllUpToHtmlElement.call(this)},remove:function(e){t.onItemPop(this.current),o.remove.call(this,e)}}},e}(o(42));e.exports=n},437:function(e,t,o){"use strict";var n=o(161),r=o(438),i=o(237),a=o(42),s=function(n){function e(e,t){var o;return(o=n.call(this,e,t)||this).opts=t,o.ctLoc=null,o.locBeforeToken=!1,o}!function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(e,n);var t=e.prototype;return t._setErrorLocation=function(e){this.ctLoc&&(e.startLine=this.ctLoc.startLine,e.startCol=this.ctLoc.startCol,e.startOffset=this.ctLoc.startOffset,e.endLine=this.locBeforeToken?this.ctLoc.startLine:this.ctLoc.endLine,e.endCol=this.locBeforeToken?this.ctLoc.startCol:this.ctLoc.endCol,e.endOffset=this.locBeforeToken?this.ctLoc.startOffset:this.ctLoc.endOffset)},t._getOverriddenMethods=function(o,n){return{_bootstrap:function(e,t){n._bootstrap.call(this,e,t),a.install(this.tokenizer,r,o.opts),a.install(this.tokenizer,i)},_processInputToken:function(e){o.ctLoc=e.location,n._processInputToken.call(this,e)},_err:function(e,t){o.locBeforeToken=t&&t.beforeToken,o._reportError(e)}}},e}(n);e.exports=s},438:function(e,t,o){"use strict";var n=o(161),i=o(439),a=o(42),r=function(r){function e(e,t){var o;o=r.call(this,e,t)||this;var n=a.install(e.preprocessor,i,t);return o.posTracker=n.posTracker,o}return function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(e,r),e}(n);e.exports=r},439:function(e,t,o){"use strict";var n=o(161),r=o(238),i=o(42),a=function(n){function e(e,t){var o;return(o=n.call(this,e,t)||this).posTracker=i.install(e,r),o.lastErrOffset=-1,o}return function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(e,n),e.prototype._reportError=function(e){this.lastErrOffset!==this.posTracker.offset&&(this.lastErrOffset=this.posTracker.offset,n.prototype._reportError.call(this,e))},e}(n);e.exports=a},44:function(e,t,o){"use strict";var n=!("undefined"==typeof window||!window.document||!window.document.createElement),r={canUseDOM:n,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:n&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:n&&!!window.screen,isInWorker:!n};e.exports=r},440:function(e,t,o){"use strict";var n=o(73).DOCUMENT_MODE;t.createDocument=function(){return{nodeName:"#document",mode:n.NO_QUIRKS,childNodes:[]}},t.createDocumentFragment=function(){return{nodeName:"#document-fragment",childNodes:[]}},t.createElement=function(e,t,o){return{nodeName:e,tagName:e,attrs:o,namespaceURI:t,childNodes:[],parentNode:null}},t.createCommentNode=function(e){return{nodeName:"#comment",data:e,parentNode:null}};var r=function(e){return{nodeName:"#text",value:e,parentNode:null}},a=t.appendChild=function(e,t){e.childNodes.push(t),t.parentNode=e},i=t.insertBefore=function(e,t,o){var n=e.childNodes.indexOf(o);e.childNodes.splice(n,0,t),t.parentNode=e};t.setTemplateContent=function(e,t){e.content=t},t.getTemplateContent=function(e){return e.content},t.setDocumentType=function(e,t,o,n){for(var r=null,i=0;i<e.childNodes.length;i++)if("#documentType"===e.childNodes[i].nodeName){r=e.childNodes[i];break}r?(r.name=t,r.publicId=o,r.systemId=n):a(e,{nodeName:"#documentType",name:t,publicId:o,systemId:n})},t.setDocumentMode=function(e,t){e.mode=t},t.getDocumentMode=function(e){return e.mode},t.detachNode=function(e){if(e.parentNode){var t=e.parentNode.childNodes.indexOf(e);e.parentNode.childNodes.splice(t,1),e.parentNode=null}},t.insertText=function(e,t){if(e.childNodes.length){var o=e.childNodes[e.childNodes.length-1];if("#text"===o.nodeName)return void(o.value+=t)}a(e,r(t))},t.insertTextBefore=function(e,t,o){var n=e.childNodes[e.childNodes.indexOf(o)-1];n&&"#text"===n.nodeName?n.value+=t:i(e,r(t),o)},t.adoptAttributes=function(e,t){for(var o=[],n=0;n<e.attrs.length;n++)o.push(e.attrs[n].name);for(var r=0;r<t.length;r++)-1===o.indexOf(t[r].name)&&e.attrs.push(t[r])},t.getFirstChild=function(e){return e.childNodes[0]},t.getChildNodes=function(e){return e.childNodes},t.getParentNode=function(e){return e.parentNode},t.getAttrList=function(e){return e.attrs},t.getTagName=function(e){return e.tagName},t.getNamespaceURI=function(e){return e.namespaceURI},t.getTextNodeContent=function(e){return e.value},t.getCommentNodeContent=function(e){return e.data},t.getDocumentTypeNodeName=function(e){return e.name},t.getDocumentTypeNodePublicId=function(e){return e.publicId},t.getDocumentTypeNodeSystemId=function(e){return e.systemId},t.isTextNode=function(e){return"#text"===e.nodeName},t.isCommentNode=function(e){return"#comment"===e.nodeName},t.isDocumentTypeNode=function(e){return"#documentType"===e.nodeName},t.isElementNode=function(e){return!!e.tagName},t.setNodeSourceCodeLocation=function(e,t){e.sourceCodeLocation=t},t.getNodeSourceCodeLocation=function(e){return e.sourceCodeLocation}},441:function(e,t,o){"use strict";e.exports=function(e,t){return[e,t=t||Object.create(null)].reduce(function(t,o){return Object.keys(o).forEach(function(e){t[e]=o[e]}),t},Object.create(null))}},442:function(e,t,o){"use strict";var r=o(73).DOCUMENT_MODE,i=["+//silmaril//dtd html pro v0r11 19970101//en","-//advasoft ltd//dtd html 3.0 aswedit + extensions//en","-//as//dtd html 3.0 aswedit + extensions//en","-//ietf//dtd html 2.0 level 1//en","-//ietf//dtd html 2.0 level 2//en","-//ietf//dtd html 2.0 strict level 1//en","-//ietf//dtd html 2.0 strict level 2//en","-//ietf//dtd html 2.0 strict//en","-//ietf//dtd html 2.0//en","-//ietf//dtd html 2.1e//en","-//ietf//dtd html 3.0//en","-//ietf//dtd html 3.0//en//","-//ietf//dtd html 3.2 final//en","-//ietf//dtd html 3.2//en","-//ietf//dtd html 3//en","-//ietf//dtd html level 0//en","-//ietf//dtd html level 0//en//2.0","-//ietf//dtd html level 1//en","-//ietf//dtd html level 1//en//2.0","-//ietf//dtd html level 2//en","-//ietf//dtd html level 2//en//2.0","-//ietf//dtd html level 3//en","-//ietf//dtd html level 3//en//3.0","-//ietf//dtd html strict level 0//en","-//ietf//dtd html strict level 0//en//2.0","-//ietf//dtd html strict level 1//en","-//ietf//dtd html strict level 1//en//2.0","-//ietf//dtd html strict level 2//en","-//ietf//dtd html strict level 2//en//2.0","-//ietf//dtd html strict level 3//en","-//ietf//dtd html strict level 3//en//3.0","-//ietf//dtd html strict//en","-//ietf//dtd html strict//en//2.0","-//ietf//dtd html strict//en//3.0","-//ietf//dtd html//en","-//ietf//dtd html//en//2.0","-//ietf//dtd html//en//3.0","-//metrius//dtd metrius presentational//en","-//microsoft//dtd internet explorer 2.0 html strict//en","-//microsoft//dtd internet explorer 2.0 html//en","-//microsoft//dtd internet explorer 2.0 tables//en","-//microsoft//dtd internet explorer 3.0 html strict//en","-//microsoft//dtd internet explorer 3.0 html//en","-//microsoft//dtd internet explorer 3.0 tables//en","-//netscape comm. corp.//dtd html//en","-//netscape comm. corp.//dtd strict html//en","-//o'reilly and associates//dtd html 2.0//en","-//o'reilly and associates//dtd html extended 1.0//en","-//spyglass//dtd html 2.0 extended//en","-//sq//dtd html 2.0 hotmetal + extensions//en","-//sun microsystems corp.//dtd hotjava html//en","-//sun microsystems corp.//dtd hotjava strict html//en","-//w3c//dtd html 3 1995-03-24//en","-//w3c//dtd html 3.2 draft//en","-//w3c//dtd html 3.2 final//en","-//w3c//dtd html 3.2//en","-//w3c//dtd html 3.2s draft//en","-//w3c//dtd html 4.0 frameset//en","-//w3c//dtd html 4.0 transitional//en","-//w3c//dtd html experimental 19960712//en","-//w3c//dtd html experimental 970421//en","-//w3c//dtd w3 html//en","-//w3o//dtd w3 html 3.0//en","-//w3o//dtd w3 html 3.0//en//","-//webtechs//dtd mozilla html 2.0//en","-//webtechs//dtd mozilla html//en"],a=i.concat(["-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"]),s=["-//w3o//dtd w3 html strict 3.0//en//","-/w3c/dtd html 4.0 transitional/en","html"],l=["-//W3C//DTD XHTML 1.0 Frameset//","-//W3C//DTD XHTML 1.0 Transitional//"],c=l.concat(["-//W3C//DTD HTML 4.01 Frameset//","-//W3C//DTD HTML 4.01 Transitional//"]);function u(e){var t=-1!==e.indexOf('"')?"'":'"';return t+e+t}function d(e,t){for(var o=0;o<t.length;o++)if(0===e.indexOf(t[o]))return!0;return!1}t.isConforming=function(e){return"html"===e.name&&null===e.publicId&&(null===e.systemId||"about:legacy-compat"===e.systemId)},t.getDocumentMode=function(e){if("html"!==e.name)return r.QUIRKS;var t=e.systemId;if(t&&"http://www.ibm.com/data/dtd/v11/ibmxhtml1-transitional.dtd"===t.toLowerCase())return r.QUIRKS;var o=e.publicId;if(null!==o){if(o=o.toLowerCase(),-1<s.indexOf(o))return r.QUIRKS;var n=null===t?a:i;if(d(o,n))return r.QUIRKS;if(d(o,n=null===t?l:c))return r.LIMITED_QUIRKS}return r.NO_QUIRKS},t.serializeContent=function(e,t,o){var n="!DOCTYPE ";return e&&(n+=e),t?n+=" PUBLIC "+u(t):o&&(n+=" SYSTEM"),null!==o&&(n+=" "+u(o)),n}},443:function(e,t,o){"use strict";var n;function r(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var i=o(107),a=o(73),s=a.TAG_NAMES,l=a.NAMESPACES,c=a.ATTRS,u="text/html",d="application/xhtml+xml",p={attributename:"attributeName",attributetype:"attributeType",basefrequency:"baseFrequency",baseprofile:"baseProfile",calcmode:"calcMode",clippathunits:"clipPathUnits",diffuseconstant:"diffuseConstant",edgemode:"edgeMode",filterunits:"filterUnits",glyphref:"glyphRef",gradienttransform:"gradientTransform",gradientunits:"gradientUnits",kernelmatrix:"kernelMatrix",kernelunitlength:"kernelUnitLength",keypoints:"keyPoints",keysplines:"keySplines",keytimes:"keyTimes",lengthadjust:"lengthAdjust",limitingconeangle:"limitingConeAngle",markerheight:"markerHeight",markerunits:"markerUnits",markerwidth:"markerWidth",maskcontentunits:"maskContentUnits",maskunits:"maskUnits",numoctaves:"numOctaves",pathlength:"pathLength",patterncontentunits:"patternContentUnits",patterntransform:"patternTransform",patternunits:"patternUnits",pointsatx:"pointsAtX",pointsaty:"pointsAtY",pointsatz:"pointsAtZ",preservealpha:"preserveAlpha",preserveaspectratio:"preserveAspectRatio",primitiveunits:"primitiveUnits",refx:"refX",refy:"refY",repeatcount:"repeatCount",repeatdur:"repeatDur",requiredextensions:"requiredExtensions",requiredfeatures:"requiredFeatures",specularconstant:"specularConstant",specularexponent:"specularExponent",spreadmethod:"spreadMethod",startoffset:"startOffset",stddeviation:"stdDeviation",stitchtiles:"stitchTiles",surfacescale:"surfaceScale",systemlanguage:"systemLanguage",tablevalues:"tableValues",targetx:"targetX",targety:"targetY",textlength:"textLength",viewbox:"viewBox",viewtarget:"viewTarget",xchannelselector:"xChannelSelector",ychannelselector:"yChannelSelector",zoomandpan:"zoomAndPan"},h={"xlink:actuate":{prefix:"xlink",name:"actuate",namespace:l.XLINK},"xlink:arcrole":{prefix:"xlink",name:"arcrole",namespace:l.XLINK},"xlink:href":{prefix:"xlink",name:"href",namespace:l.XLINK},"xlink:role":{prefix:"xlink",name:"role",namespace:l.XLINK},"xlink:show":{prefix:"xlink",name:"show",namespace:l.XLINK},"xlink:title":{prefix:"xlink",name:"title",namespace:l.XLINK},"xlink:type":{prefix:"xlink",name:"type",namespace:l.XLINK},"xml:base":{prefix:"xml",name:"base",namespace:l.XML},"xml:lang":{prefix:"xml",name:"lang",namespace:l.XML},"xml:space":{prefix:"xml",name:"space",namespace:l.XML},xmlns:{prefix:"",name:"xmlns",namespace:l.XMLNS},"xmlns:xlink":{prefix:"xmlns",name:"xlink",namespace:l.XMLNS}},g=t.SVG_TAG_NAMES_ADJUSTMENT_MAP={altglyph:"altGlyph",altglyphdef:"altGlyphDef",altglyphitem:"altGlyphItem",animatecolor:"animateColor",animatemotion:"animateMotion",animatetransform:"animateTransform",clippath:"clipPath",feblend:"feBlend",fecolormatrix:"feColorMatrix",fecomponenttransfer:"feComponentTransfer",fecomposite:"feComposite",feconvolvematrix:"feConvolveMatrix",fediffuselighting:"feDiffuseLighting",fedisplacementmap:"feDisplacementMap",fedistantlight:"feDistantLight",feflood:"feFlood",fefunca:"feFuncA",fefuncb:"feFuncB",fefuncg:"feFuncG",fefuncr:"feFuncR",fegaussianblur:"feGaussianBlur",feimage:"feImage",femerge:"feMerge",femergenode:"feMergeNode",femorphology:"feMorphology",feoffset:"feOffset",fepointlight:"fePointLight",fespecularlighting:"feSpecularLighting",fespotlight:"feSpotLight",fetile:"feTile",feturbulence:"feTurbulence",foreignobject:"foreignObject",glyphref:"glyphRef",lineargradient:"linearGradient",radialgradient:"radialGradient",textpath:"textPath"},f=(r(n={},s.B,!0),r(n,s.BIG,!0),r(n,s.BLOCKQUOTE,!0),r(n,s.BODY,!0),r(n,s.BR,!0),r(n,s.CENTER,!0),r(n,s.CODE,!0),r(n,s.DD,!0),r(n,s.DIV,!0),r(n,s.DL,!0),r(n,s.DT,!0),r(n,s.EM,!0),r(n,s.EMBED,!0),r(n,s.H1,!0),r(n,s.H2,!0),r(n,s.H3,!0),r(n,s.H4,!0),r(n,s.H5,!0),r(n,s.H6,!0),r(n,s.HEAD,!0),r(n,s.HR,!0),r(n,s.I,!0),r(n,s.IMG,!0),r(n,s.LI,!0),r(n,s.LISTING,!0),r(n,s.MENU,!0),r(n,s.META,!0),r(n,s.NOBR,!0),r(n,s.OL,!0),r(n,s.P,!0),r(n,s.PRE,!0),r(n,s.RUBY,!0),r(n,s.S,!0),r(n,s.SMALL,!0),r(n,s.SPAN,!0),r(n,s.STRONG,!0),r(n,s.STRIKE,!0),r(n,s.SUB,!0),r(n,s.SUP,!0),r(n,s.TABLE,!0),r(n,s.TT,!0),r(n,s.U,!0),r(n,s.UL,!0),r(n,s.VAR,!0),n);t.causesExit=function(e){var t=e.tagName;return t===s.FONT&&(null!==i.getTokenAttr(e,c.COLOR)||null!==i.getTokenAttr(e,c.SIZE)||null!==i.getTokenAttr(e,c.FACE))||f[t]},t.adjustTokenMathMLAttrs=function(e){for(var t=0;t<e.attrs.length;t++)if("definitionurl"===e.attrs[t].name){e.attrs[t].name="definitionURL";break}},t.adjustTokenSVGAttrs=function(e){for(var t=0;t<e.attrs.length;t++){var o=p[e.attrs[t].name];o&&(e.attrs[t].name=o)}},t.adjustTokenXMLAttrs=function(e){for(var t=0;t<e.attrs.length;t++){var o=h[e.attrs[t].name];o&&(e.attrs[t].prefix=o.prefix,e.attrs[t].name=o.name,e.attrs[t].namespace=o.namespace)}},t.adjustTokenSVGTagName=function(e){var t=g[e.tagName];t&&(e.tagName=t)},t.isIntegrationPoint=function(e,t,o,n){return!(n&&n!==l.HTML||!function(e,t,o){if(t===l.MATHML&&e===s.ANNOTATION_XML)for(var n=0;n<o.length;n++)if(o[n].name===c.ENCODING){var r=o[n].value.toLowerCase();return r===u||r===d}return t===l.SVG&&(e===s.FOREIGN_OBJECT||e===s.DESC||e===s.TITLE)}(e,t,o))||!(n&&n!==l.MATHML||!function(e,t){return t===l.MATHML&&(e===s.MI||e===s.MO||e===s.MN||e===s.MS||e===s.MTEXT)}(e,t))}},444:function(e,t,o){"use strict";var s=o(108),l=o(110),d=o(111),c=o(92),g=o(447),f=o(449),p=o(41),i=o(451);e.exports=function(e,t){var o,n=t||{};n.messages?(o=n,n={}):o=n.file;return m(e,{schema:"svg"===n.space?l:s,file:o,verbose:n.verbose,location:!1})};var u={}.hasOwnProperty,h={"#document":n,"#document-fragment":n,"#text":function(e){return{type:"text",value:e.value}},"#comment":function(e){return{type:"comment",value:e.data}},"#documentType":function(e){return{type:"doctype",name:e.name||"",public:e.publicId||null,system:e.systemId||null}}};function m(e,t){var o,n,r,i=t.schema,a=u.call(h,e.nodeName)?h[e.nodeName]:y;return a===y&&(t.schema=e.namespaceURI===c.svg?l:s),e.childNodes&&(o=function(e,t){var o=e.length,n=-1,r=[];for(;++n<o;)r[n]=m(e[n],t);return r}(e.childNodes,t)),n=a(e,o,t),e.sourceCodeLocation&&t.file&&(r=function(e,t,o){var n,r,i,a,s,l=o.schema,c=o.verbose,u=_(t);if("element"===e.type&&(n=e.children[e.children.length-1],!t.endTag&&n&&n.position&&n.position.end&&(u.end=p(n.position.end)),c)){for(i in r=t.attrs,a={},r)s=d(l,i).property,a[s]=_(r[i]);e.data={position:{opening:_(t.startTag),closing:t.endTag?_(t.endTag):null,properties:a}}}return u}(n,e.sourceCodeLocation,t))&&(t.location=!0,n.position=r),t.schema=i,n}function n(e,t,o){var n,r={type:"root",children:t,data:{}};return r.data.quirksMode="quirks"===e.mode||"limited-quirks"===e.mode,o.file&&o.location&&(n=String(o.file),r.position={start:{line:1,column:1,offset:0},end:{line:i(n,"\n")+1,column:n.length-n.lastIndexOf("\n"),offset:n.length}}),r}function y(e,t,o){for(var n,r,i,a,s,l="svg"===o.schema.space?g:f,c=e.tagName,u=e.attrs,d=u.length,p={},h=-1;++h<d;)p[((n=u[h]).prefix?n.prefix+":":"")+n.name]=n.value;return r=l(c,p,t),"template"===c&&"content"in e&&(a=(i=e.sourceCodeLocation)&&i.startTag&&_(i.startTag).end,s=i&&i.endTag&&_(i.endTag).start,r.content=m(e.content,o),(a||s)&&o.file&&(r.content.position={start:a,end:s})),r}function _(e){var t=r({line:e.startLine,column:e.startCol,offset:e.startOffset}),o=r({line:e.endLine,column:e.endCol,offset:e.endOffset});return t||o?{start:t,end:o}:null}function r(e){return e.line&&e.column?e:null}},445:function(e,t,o){"use strict";var n=o(109),r=o(74),i=o(246),a=n.boolean,s=n.overloadedBoolean,l=n.booleanish,c=n.number,u=n.spaceSeparated,d=n.commaSeparated;e.exports=r({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:i,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:d,acceptCharset:u,accessKey:u,action:null,allowFullScreen:a,allowPaymentRequest:a,allowUserMedia:a,alt:null,as:null,async:a,autoCapitalize:null,autoComplete:u,autoFocus:a,autoPlay:a,capture:a,charSet:null,checked:a,cite:null,className:u,cols:c,colSpan:null,content:null,contentEditable:l,controls:a,controlsList:u,coords:c|d,crossOrigin:null,data:null,dateTime:null,decoding:null,default:a,defer:a,dir:null,dirName:null,disabled:a,download:s,draggable:l,encType:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:a,formTarget:null,headers:u,height:c,hidden:a,high:c,href:null,hrefLang:null,htmlFor:u,httpEquiv:u,id:null,inputMode:null,integrity:null,is:null,isMap:a,itemId:null,itemProp:u,itemRef:u,itemScope:a,itemType:u,kind:null,label:null,lang:null,language:null,list:null,loop:a,low:c,manifest:null,max:null,maxLength:c,media:null,method:null,min:null,minLength:c,multiple:a,muted:a,name:null,nonce:null,noModule:a,noValidate:a,open:a,optimum:c,pattern:null,ping:u,placeholder:null,playsInline:a,poster:null,preload:null,readOnly:a,referrerPolicy:null,rel:u,required:a,reversed:a,rows:c,rowSpan:c,sandbox:u,scope:null,scoped:a,seamless:a,selected:a,shape:null,size:c,sizes:null,slot:null,span:c,spellCheck:l,src:null,srcDoc:null,srcLang:null,srcSet:d,start:c,step:null,style:null,tabIndex:c,target:null,title:null,translate:null,type:null,typeMustMatch:a,useMap:null,value:l,width:c,wrap:null,align:null,aLink:null,archive:u,axis:null,background:null,bgColor:null,border:c,borderColor:null,bottomMargin:c,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:a,declare:a,event:null,face:null,frame:null,frameBorder:null,hSpace:c,leftMargin:c,link:null,longDesc:null,lowSrc:null,marginHeight:c,marginWidth:c,noResize:a,noHref:a,noShade:a,noWrap:a,object:null,profile:null,prompt:null,rev:null,rightMargin:c,rules:null,scheme:null,scrolling:l,standby:null,summary:null,text:null,topMargin:c,valueType:null,version:null,vAlign:null,vLink:null,vSpace:c,allowTransparency:null,autoCorrect:null,autoSave:null,prefix:null,property:null,results:c,security:null,unselectable:null}})},446:function(e,t,o){"use strict";var n=o(109),r=o(74),i=o(247),a=n.boolean,s=n.number,l=n.spaceSeparated,c=n.commaSeparated,u=n.commaOrSpaceSeparated;e.exports=r({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:i,properties:{about:u,accentHeight:s,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:s,amplitude:s,arabicForm:null,ascent:s,attributeName:null,attributeType:null,azimuth:s,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:s,by:null,calcMode:null,capHeight:s,className:l,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:s,diffuseConstant:s,direction:null,display:null,dur:null,divisor:s,dominantBaseline:null,download:a,dx:null,dy:null,edgeMode:null,editable:null,elevation:s,enableBackground:null,end:null,event:null,exponent:s,externalResourcesRequired:null,fill:null,fillOpacity:s,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:c,g2:c,glyphName:c,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:s,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:s,horizOriginX:s,horizOriginY:s,id:null,ideographic:s,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:s,k:s,k1:s,k2:s,k3:s,k4:s,kernelMatrix:u,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:s,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:s,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:s,overlineThickness:s,paintOrder:null,panose1:null,path:null,pathLength:s,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:s,pointsAtY:s,pointsAtZ:s,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:u,r:null,radius:null,refX:null,refY:null,rel:u,rev:u,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:u,requiredFeatures:u,requiredFonts:u,requiredFormats:u,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:s,specularExponent:s,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:s,strikethroughThickness:s,string:null,stroke:null,strokeDashArray:u,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:s,strokeOpacity:s,strokeWidth:null,style:null,surfaceScale:s,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:u,tabIndex:s,tableValues:null,target:null,targetX:s,targetY:s,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:u,to:null,transform:null,u1:null,u2:null,underlinePosition:s,underlineThickness:s,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:s,values:null,vAlphabetic:s,vMathematical:s,vectorEffect:null,vHanging:s,vIdeographic:s,version:null,vertAdvY:s,vertOriginX:s,vertOriginY:s,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:s,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}})},447:function(e,t,o){"use strict";var n=o(110),r=o(249)(n,"g");r.displayName="svg",e.exports=r},448:function(e,t,o){"use strict";e.exports=function(e,t){var o,n,r,i,a,s=e||"",l=t||"div",c={},u=-1,d=s.length;for(;++u<=d;)(r=s.charCodeAt(u))&&r!==p&&r!==h||((i=s.slice(a,u))&&(n===p?o?o.push(i):(o=[i],c.className=o):n===h?c.id=i:l=i),a=u+1,n=r);return{type:"element",tagName:l,properties:c,children:[]}};var p=".".charCodeAt(0),h="#".charCodeAt(0)},449:function(e,t,o){"use strict";e.exports=o(450)},450:function(e,t,o){"use strict";var n=o(108),r=o(249)(n,"div");r.displayName="html",e.exports=r},451:function(e,t,o){"use strict";e.exports=function(e,t){var o,n=0;if(e=String(e),"string"!=typeof t||1!==t.length)throw new Error("Expected character");o=e.indexOf(t);for(;-1!==o;)n++,o=e.indexOf(t,o+1);return n}},452:function(e,t,o){"use strict";var n=o(41),r=o(108),u=o(110),d=o(111),i=o(453),p=o(92),a=o(251);e.exports=function(e,t){return g(e,"svg"===t?u:r)};var h=["svg","html"],g=a("type");function f(e,t,o){var n,r=o,i=e.position,a=e.children,s=[],l=a?a.length:0,c=-1;for("element"===e.type&&("html"===r.space&&"svg"===e.tagName&&(r=u),t.namespaceURI=p[r.space]);++c<l;)(n=g(a[c],r)).parentNode=t,s[c]=n;return"element"!==e.type&&"root"!==e.type||(t.childNodes=s),i&&i.start&&i.end&&(t.sourceCodeLocation={startLine:i.start.line,startCol:i.start.column,startOffset:i.start.offset,endLine:i.end.line,endCol:i.end.column,endOffset:i.end.offset}),t}g.handlers.root=function(e,t){var o=(e.data||{}).quirksMode?"quirks":"no-quirks";return f(e,{nodeName:"#document",mode:o},t)},g.handlers.element=function(l,c){var e=c.space,u=n(l,{children:[]});return i(function(e,t){var o,n,r,i,a,s=[];for(r in t)i=d(c,r),n={name:r,value:t[r]},i.space&&-1===h.indexOf(i.space)&&(-1===(a=r.indexOf(":"))?n.prefix="":(n.name=r.slice(a+1),n.prefix=r.slice(0,a)),n.namespace=p[i.space]),s.push(n);o=f(l,{nodeName:e,tagName:e,attrs:s},c),"template"===e&&(o.content=function(e,t){return f(e,{nodeName:"#document-fragment"},t)}(u.content,c));return o},u,{space:e})},g.handlers.text=function(e,t){return f(e,{nodeName:"#text",value:e.value},t)},g.handlers.comment=function(e,t){return f(e,{nodeName:"#comment",data:e.value},t)},g.handlers.doctype=function(e,t){return f(e,{nodeName:"#documentType",name:e.name,publicId:e.public||"",systemId:e.system||""},t)}},453:function(e,t,o){"use strict";var s=o(108),m=o(110),l=o(111),c=o(163),u=o(164),n=o(250),y=o(92),_=o(157),r=/-([a-z])/g;function v(e,t,o,n){var r,i=n.schema,a=l(i,t);null==o||!1===o||o!=o||a.boolean&&!o||(null!==o&&"object"==typeof o&&"length"in o&&(o=(a.commaSeparated?u:c).stringify(o)),a.boolean&&!0===n.hyperscript&&(o=""),a.mustUseProperty||(!0===n.vdom?r="attributes":!0===n.hyperscript&&(r="attrs")),r?(void 0===e[r]&&(e[r]={}),e[r][a.attribute]=o):e[n.react&&a.space?a.property:a.attribute]=o)}function b(e,t){var o={};try{n(e,function(e,t){o[function(e){"-ms-"===e.slice(0,4)&&(e="ms-"+e.slice(4));return e.replace(r,i)}(e)]=t})}catch(e){throw e.message=t+"[style]"+e.message.slice("undefined".length),e}return o}function i(e,t){return t.toUpperCase()}e.exports=function(e,t,o){var n,r,i,a=o||{};if("function"!=typeof e)throw new Error("h is not a function");"string"==typeof a||"boolean"==typeof a?(n=a,a={}):n=a.prefix;r=function(e){var t=e&&e("div");return Boolean(t&&("_owner"in t||"_store"in t)&&null===t.key)}(e),i=function(e){return e&&"VirtualNode"===e("div").type}(e),null==n&&(n=(!0===r||!0===i)&&"h-");if(_("root",t))t=1===t.children.length&&_("element",t.children[0])?t.children[0]:{type:"element",tagName:"div",properties:{},children:t.children};else if(!_("element",t))throw new Error("Expected root or element, not `"+(t&&t.type||t)+"`");return function e(t,o,n){var r=n.schema;var i=r;var a=o.tagName;var s;var l;var c;var u;var d;var p;var h;var g;var f;"html"===r.space&&"svg"===a.toLowerCase()&&(i=m,n.schema=i);!0===n.vdom&&"html"===i.space&&(a=a.toUpperCase());s=o.properties;l={};for(u in s)v(l,u,s[u],n);"string"!=typeof l.style||!0!==n.vdom&&!0!==n.react||(l.style=b(l.style,a));n.prefix&&(n.key++,l.key=n.prefix+n.key);n.vdom&&"html"!==i.space&&(l.namespace=y[i.space]);d=[];c=o.children;p=c?c.length:0;h=-1;for(;++h<p;)g=c[h],_("element",g)?d.push(e(t,g,n)):_("text",g)&&d.push(g.value);f=0===d.length?t(a,l):t(a,l,d);n.schema=r;return f}(e,t,{schema:"svg"===a.space?m:s,prefix:n,key:0,react:r,vdom:i,hyperscript:function(e){return Boolean(e&&e.context&&e.cleanup)}(e)})}},454:function(e,t){var O=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g;function w(e){return e?e.replace(/^\s+|\s+$/g,""):""}e.exports=function(n,o){o=o||{};var r=1,i=1;function a(e){var t=e.match(/\n/g);t&&(r+=t.length);var o=e.lastIndexOf("\n");i=~o?e.length-o:i+e.length}function s(){var t={line:r,column:i};return function(e){return e.position=new l(t),f(),e}}function l(e){this.start=e,this.end={line:r,column:i},this.source=o.source}l.prototype.content=n;var c=[];function u(e){var t=new Error(o.source+":"+r+":"+i+": "+e);if(t.reason=e,t.filename=o.source,t.line=r,t.column=i,t.source=n,!o.silent)throw t;c.push(t)}function d(){return g(/^{\s*/)}function p(){return g(/^}/)}function h(){var e,t=[];for(f(),m(t);n.length&&"}"!=n.charAt(0)&&(e=C()||A());)!1!==e&&(t.push(e),m(t));return t}function g(e){var t=e.exec(n);if(t){var o=t[0];return a(o),n=n.slice(o.length),t}}function f(){g(/^\s*/)}function m(e){var t;for(e=e||[];t=y();)!1!==t&&e.push(t);return e}function y(){var e=s();if("/"==n.charAt(0)&&"*"==n.charAt(1)){for(var t=2;""!=n.charAt(t)&&("*"!=n.charAt(t)||"/"!=n.charAt(t+1));)++t;if(t+=2,""===n.charAt(t-1))return u("End of comment missing");var o=n.slice(2,t-2);return i+=2,a(o),n=n.slice(t),i+=2,e({type:"comment",comment:o})}}function _(){var e=g(/^([^{]+)/);if(e)return w(e[0]).replace(/\/\*([^*]|[\r\n]|(\*+([^*/]|[\r\n])))*\*\/+/g,"").replace(/"(?:\\"|[^"])*"|'(?:\\'|[^'])*'/g,function(e){return e.replace(/,/g,"‌")}).split(/\s*(?![^(]*\)),\s*/).map(function(e){return e.replace(/\u200C/g,",")})}function v(){var e=s(),t=g(/^(\*?[-#\/\*\\\w]+(\[[0-9a-z_-]+\])?)\s*/);if(t){if(t=w(t[0]),!g(/^:\s*/))return u("property missing ':'");var o=g(/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^\)]*?\)|[^};])+)/),n=e({type:"declaration",property:t.replace(O,""),value:o?w(o[0]).replace(O,""):""});return g(/^[;\s]*/),n}}function b(){var e,t=[];if(!d())return u("missing '{'");for(m(t);e=v();)!1!==e&&(t.push(e),m(t));return p()?t:u("missing '}'")}function E(){for(var e,t=[],o=s();e=g(/^((\d+\.\d+|\.\d+|\d+)%?|[a-z]+)\s*/);)t.push(e[1]),g(/^,\s*/);if(t.length)return o({type:"keyframe",values:t,declarations:b()})}var e,t=k("import"),T=k("charset"),S=k("namespace");function k(n){var r=new RegExp("^@"+n+"\\s*([^;]+);");return function(){var e=s(),t=g(r);if(t){var o={type:n};return o[n]=t[1].trim(),e(o)}}}function C(){if("@"==n[0])return function(){var e=s();if(t=g(/^@([-\w]+)?keyframes\s*/)){var t,o=t[1];if(!(t=g(/^([-\w]+)\s*/)))return u("@keyframes missing name");var n,r=t[1];if(!d())return u("@keyframes missing '{'");for(var i=m();n=E();)i.push(n),i=i.concat(m());return p()?e({type:"keyframes",name:r,vendor:o,keyframes:i}):u("@keyframes missing '}'")}}()||function(){var e=s(),t=g(/^@media *([^{]+)/);if(t){var o=w(t[1]);if(!d())return u("@media missing '{'");var n=m().concat(h());return p()?e({type:"media",media:o,rules:n}):u("@media missing '}'")}}()||function(){var e=s(),t=g(/^@custom-media\s+(--[^\s]+)\s*([^{;]+);/);if(t)return e({type:"custom-media",name:w(t[1]),media:w(t[2])})}()||function(){var e=s(),t=g(/^@supports *([^{]+)/);if(t){var o=w(t[1]);if(!d())return u("@supports missing '{'");var n=m().concat(h());return p()?e({type:"supports",supports:o,rules:n}):u("@supports missing '}'")}}()||t()||T()||S()||function(){var e=s(),t=g(/^@([-\w]+)?document *([^{]+)/);if(t){var o=w(t[1]),n=w(t[2]);if(!d())return u("@document missing '{'");var r=m().concat(h());return p()?e({type:"document",document:n,vendor:o,rules:r}):u("@document missing '}'")}}()||function(){var e=s();if(g(/^@page */)){var t=_()||[];if(!d())return u("@page missing '{'");for(var o,n=m();o=v();)n.push(o),n=n.concat(m());return p()?e({type:"page",selectors:t,declarations:n}):u("@page missing '}'")}}()||function(){var e=s();if(g(/^@host\s*/)){if(!d())return u("@host missing '{'");var t=m().concat(h());return p()?e({type:"host",rules:t}):u("@host missing '}'")}}()||function(){var e=s();if(g(/^@font-face\s*/)){if(!d())return u("@font-face missing '{'");for(var t,o=m();t=v();)o.push(t),o=o.concat(m());return p()?e({type:"font-face",declarations:o}):u("@font-face missing '}'")}}()}function A(){var e=s(),t=_();return t?(m(),e({type:"rule",selectors:t,declarations:b()})):u("selector missing")}return function t(e,o){var n=e&&"string"==typeof e.type;var r=n?e:o;for(var i in e){var a=e[i];Array.isArray(a)?a.forEach(function(e){t(e,r)}):a&&"object"==typeof a&&t(a,r)}n&&Object.defineProperty(e,"parent",{configurable:!0,writable:!0,enumerable:!1,value:o||null});return e}((e=h(),{type:"stylesheet",stylesheet:{source:o.source,rules:e,parsingErrors:c}}))}},455:function(e){e.exports=["area","base","basefont","bgsound","br","col","command","embed","frame","hr","image","img","input","isindex","keygen","link","menuitem","meta","nextid","param","source","track","wbr"]},456:function(e,t,o){"use strict";var n=o(457);e.exports=function(t){return function(e){return n(e,t)}}},457:function(e,t,o){"use strict";e.exports=o(458)},458:function(e,t,o){"use strict";var f=o(41),r=o(252);e.exports=function(e,t){var o,n={type:"root",children:[]};if(!e||"object"!=typeof e||!e.type)return n;if(!(o=c(f(r,t||{}),e,[])))return n;if("length"in o)return 1===o.length?o[0]:(n.children=o,n);return o};var m={}.hasOwnProperty,u={root:{children:n},doctype:function(e){return e.allowDoctypes?{name:i}:null},comment:function(e){return e.allowComments?{value:a}:null},element:{tagName:v,properties:function(e,t,o,n){var r,i,a,s,l,c=v(e,o.tagName,o,n),u=e.attributes,d=e.required||{},p=t||{},h={};for(s in r=f(b(u["*"]),b(m.call(u,c)?u[c]:[])),p){if(l=p[s],m.call(r,s))a=r[s];else{if(!(4<(g=s).length&&"data"===g.slice(0,4).toLowerCase()&&m.call(r,"data*")))continue;a=r["data*"]}null!=(l=l&&"object"==typeof l&&"length"in l?y(e,l,s,a):_(e,l,s,a))&&(h[s]=l)}var g;for(s in i=m.call(d,c)?d[c]:{})m.call(h,s)||(h[s]=i[s]);return h},children:n},text:{value:a},"*":{data:s,position:s}};function c(e,t,o){var n,r,i,a,s=t&&t.type,l={type:t.type},c=!0;if(m.call(u,s))if("function"==typeof(n=u[s])&&(n=n(e,t)),n)for(a in r=f(n,u["*"]))!1===(i=r[a](e,t[a],t,o))?(c=!1,l[a]=t[a]):null!=i&&(l[a]=i);else c=!1;else c=!1;return c?l:l.children&&0!==l.children.length&&-1===e.strip.indexOf(l.tagName)?l.children:null}function n(e,t,o,n){var r,i=t||[],a=i.length||0,s=[],l=-1;for(n=n.concat(o.tagName);++l<a;)(r=c(e,i[l],n))&&("length"in r?s=s.concat(r):s.push(r));return s}function y(e,t,o,n){for(var r,i=t.length,a=[],s=-1;++s<i;)null!=(r=_(e,t[s],o,n))&&a.push(r);return a}function _(e,t,o,n){return"boolean"!=typeof t&&"number"!=typeof t&&"string"!=typeof t?null:function(e,t,o){var n,r,i,a,s,l=e.protocols;if(0===(l=m.call(l,o)?l[o].concat():[]).length)return!0;if(t=String(t),"#"===(r=t.charAt(0))||"/"===r)return!0;if(-1===(i=t.indexOf(":")))return!0;a=l.length,s=-1;for(;++s<a;)if(n=l[s],i===n.length&&t.slice(0,n.length)===n)return!0;if(-1!==(s=t.indexOf("?"))&&s<i)return!0;if(-1!==(s=t.indexOf("#"))&&s<i)return!0;return!1}(e,t,o)?0!==n.length&&-1===n.indexOf(t)?null:(-1!==e.clobber.indexOf(o)&&(t=e.clobberPrefix+t),t):null}function i(){return"html"}function v(e,t,o,n){var r,i,a="string"==typeof t?t:null,s=e.ancestors;if(!a||"*"===a||-1===e.tagNames.indexOf(a))return!1;if(0!==(s=m.call(s,a)?s[a]:[]).length)for(r=s.length+1,i=-1;++i<r;){if(!s[i])return!1;if(-1!==n.indexOf(s[i]))break}return a}function a(e,t){return"string"==typeof t?t:""}function b(e){for(var t,o={},n=e.length,r=-1;++r<n;)(t=e[r])&&"object"==typeof t&&"length"in t?o[t[0]]=t.slice(1):o[t]=[];return o}function s(e,t){return t}},459:function(e,t,o){var n=o(460);e.exports=n.call(Function.call,Object.prototype.hasOwnProperty)},46:function(e,t,o){"use strict";function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.getStore=function(){n||(n=function(e,t){return r.default.isEnabled(r.default.REDUX_LOGGING),i.createStore(e,t,i.applyMiddleware(s.default))}(0<Object.keys(u).length?i.combineReducers(u):function(e){return e}),r.default.isEnabled("reduxGlobalStore")&&(window.reduxStore=n));return n},t.registerReducers=function(e){for(var t in e){var o=u[t];if(o&&o!==e[t])throw new Error('reducer with key "'.concat(t,'" already registered!'))}Object.assign(u,e),n&&n.replaceReducer(i.combineReducers(u))},t.hasReducer=function(e){return!!u[e]};c(o(102));var n,r=c(o(80)),i=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var t=l();if(t&&t.has(e))return t.get(e);var o={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(o,r,i):o[r]=e[r]}o.default=e,t&&t.set(e,o);return o}(o(198)),s=c(o(689));function l(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return l=function(){return e},e}function c(e){return e&&e.__esModule?e:{default:e}}var u={}},460:function(e,t,o){"use strict";var n=o(461);e.exports=Function.prototype.bind||n},461:function(e,t,o){"use strict";var l=Array.prototype.slice,c=Object.prototype.toString;e.exports=function(t){var o=this;if("function"!=typeof o||"[object Function]"!==c.call(o))throw new TypeError("Function.prototype.bind called on incompatible "+o);for(var n,r=l.call(arguments,1),e=Math.max(0,o.length-r.length),i=[],a=0;a<e;a++)i.push("$"+a);if(n=Function("binder","return function ("+i.join(",")+"){ return binder.apply(this,arguments); }")(function(){if(this instanceof n){var e=o.apply(this,r.concat(l.call(arguments)));return Object(e)===e?e:this}return o.apply(t,r.concat(l.call(arguments)))}),o.prototype){var s=function(){};s.prototype=o.prototype,n.prototype=new s,s.prototype=null}return n}},462:function(e,t,o){"use strict";var s=o(463),m=o(465),l=o(467),c=o(163),u=o(164),n=o(250),y=o(92),_=o(157),r=/-([a-z])/g;function v(e,t,o,n){var r,i=n.schema,a=l(i,t);null==o||!1===o||o!=o||a.boolean&&!o||(null!==o&&"object"==typeof o&&"length"in o&&(o=(a.commaSeparated?u:c).stringify(o)),a.boolean&&!0===n.hyperscript&&(o=""),a.mustUseProperty||(!0===n.vdom?r="attributes":!0===n.hyperscript&&(r="attrs")),r?(void 0===e[r]&&(e[r]={}),e[r][a.attribute]=o):e[n.react&&a.space?a.property:a.attribute]=o)}function b(e,t){var o={};try{n(e,function(e,t){o[function(e){"-ms-"===e.slice(0,4)&&(e="ms-"+e.slice(4));return e.replace(r,i)}(e)]=t})}catch(e){throw e.message=t+"[style]"+e.message.slice("undefined".length),e}return o}function i(e,t){return t.toUpperCase()}e.exports=function(e,t,o){var n,r,i,a=o||{};if("function"!=typeof e)throw new Error("h is not a function");"string"==typeof a||"boolean"==typeof a?(n=a,a={}):n=a.prefix;r=function(e){var t=e&&e("div");return Boolean(t&&("_owner"in t||"_store"in t)&&null===t.key)}(e),i=function(e){return e&&"VirtualNode"===e("div").type}(e),null==n&&(n=(!0===r||!0===i)&&"h-");if(_("root",t))t=1===t.children.length&&_("element",t.children[0])?t.children[0]:{type:"element",tagName:"div",properties:{},children:t.children};else if(!_("element",t))throw new Error("Expected root or element, not `"+(t&&t.type||t)+"`");return function e(t,o,n){var r=n.schema;var i=r;var a=o.tagName;var s;var l;var c;var u;var d;var p;var h;var g;var f;"html"===r.space&&"svg"===a.toLowerCase()&&(i=m,n.schema=i);!0===n.vdom&&"html"===i.space&&(a=a.toUpperCase());s=o.properties;l={};for(u in s)v(l,u,s[u],n);"string"!=typeof l.style||!0!==n.vdom&&!0!==n.react||(l.style=b(l.style,a));n.prefix&&(n.key++,l.key=n.prefix+n.key);n.vdom&&"html"!==i.space&&(l.namespace=y[i.space]);d=[];c=o.children;p=c?c.length:0;h=-1;for(;++h<p;)g=c[h],_("element",g)?d.push(e(t,g,n)):_("text",g)&&d.push(g.value);f=0===d.length?t(a,l):t(a,l,d);n.schema=r;return f}(e,t,{schema:"svg"===a.space?m:s,prefix:n,key:0,react:r,vdom:i,hyperscript:function(e){return Boolean(e&&e.context&&e.cleanup)}(e)})}},463:function(e,t,o){"use strict";var n=o(253),r=o(255),i=o(259),a=o(260),s=o(263),l=o(464);e.exports=n([i,r,a,s,l])},464:function(e,t,o){"use strict";var n=o(112),r=o(75),i=o(261),a=n.boolean,s=n.overloadedBoolean,l=n.booleanish,c=n.number,u=n.spaceSeparated,d=n.commaSeparated;e.exports=r({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:i,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:d,acceptCharset:u,accessKey:u,action:null,allowFullScreen:a,allowPaymentRequest:a,allowUserMedia:a,alt:null,as:null,async:a,autoCapitalize:null,autoComplete:u,autoFocus:a,autoPlay:a,capture:a,charSet:null,checked:a,cite:null,className:u,cols:c,colSpan:null,content:null,contentEditable:l,controls:a,controlsList:u,coords:c|d,crossOrigin:null,data:null,dateTime:null,decoding:null,default:a,defer:a,dir:null,dirName:null,disabled:a,download:s,draggable:l,encType:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:a,formTarget:null,headers:u,height:c,hidden:a,high:c,href:null,hrefLang:null,htmlFor:u,httpEquiv:u,id:null,inputMode:null,integrity:null,is:null,isMap:a,itemId:null,itemProp:u,itemRef:u,itemScope:a,itemType:u,kind:null,label:null,lang:null,language:null,list:null,loop:a,low:c,manifest:null,max:null,maxLength:c,media:null,method:null,min:null,minLength:c,multiple:a,muted:a,name:null,nonce:null,noModule:a,noValidate:a,open:a,optimum:c,pattern:null,ping:u,placeholder:null,playsInline:a,poster:null,preload:null,readOnly:a,referrerPolicy:null,rel:u,required:a,reversed:a,rows:c,rowSpan:c,sandbox:u,scope:null,scoped:a,seamless:a,selected:a,shape:null,size:c,sizes:u,slot:null,span:c,spellCheck:l,src:null,srcDoc:null,srcLang:null,srcSet:d,start:c,step:null,style:null,tabIndex:c,target:null,title:null,translate:null,type:null,typeMustMatch:a,useMap:null,value:l,width:c,wrap:null,align:null,aLink:null,archive:u,axis:null,background:null,bgColor:null,border:c,borderColor:null,bottomMargin:c,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:a,declare:a,event:null,face:null,frame:null,frameBorder:null,hSpace:c,leftMargin:c,link:null,longDesc:null,lowSrc:null,marginHeight:c,marginWidth:c,noResize:a,noHref:a,noShade:a,noWrap:a,object:null,profile:null,prompt:null,rev:null,rightMargin:c,rules:null,scheme:null,scrolling:l,standby:null,summary:null,text:null,topMargin:c,valueType:null,version:null,vAlign:null,vLink:null,vSpace:c,allowTransparency:null,autoCorrect:null,autoSave:null,prefix:null,property:null,results:c,security:null,unselectable:null}})},465:function(e,t,o){"use strict";var n=o(253),r=o(255),i=o(259),a=o(260),s=o(263),l=o(466);e.exports=n([i,r,a,s,l])},466:function(e,t,o){"use strict";var n=o(112),r=o(75),i=o(262),a=n.boolean,s=n.number,l=n.spaceSeparated,c=n.commaSeparated,u=n.commaOrSpaceSeparated;e.exports=r({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:i,properties:{about:u,accentHeight:s,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:s,amplitude:s,arabicForm:null,ascent:s,attributeName:null,attributeType:null,azimuth:s,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:s,by:null,calcMode:null,capHeight:s,className:l,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:s,diffuseConstant:s,direction:null,display:null,dur:null,divisor:s,dominantBaseline:null,download:a,dx:null,dy:null,edgeMode:null,editable:null,elevation:s,enableBackground:null,end:null,event:null,exponent:s,externalResourcesRequired:null,fill:null,fillOpacity:s,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:c,g2:c,glyphName:c,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:s,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:s,horizOriginX:s,horizOriginY:s,id:null,ideographic:s,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:s,k:s,k1:s,k2:s,k3:s,k4:s,kernelMatrix:u,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:s,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:s,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:s,overlineThickness:s,paintOrder:null,panose1:null,path:null,pathLength:s,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:s,pointsAtY:s,pointsAtZ:s,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:u,r:null,radius:null,refX:null,refY:null,rel:u,rev:u,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:u,requiredFeatures:u,requiredFonts:u,requiredFormats:u,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:s,specularExponent:s,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:s,strikethroughThickness:s,string:null,stroke:null,strokeDashArray:u,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:s,strokeOpacity:s,strokeWidth:null,style:null,surfaceScale:s,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:u,tabIndex:s,tableValues:null,target:null,targetX:s,targetY:s,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:u,to:null,transform:null,u1:null,u2:null,underlinePosition:s,underlineThickness:s,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:s,values:null,vAlphabetic:s,vMathematical:s,vectorEffect:null,vHanging:s,vIdeographic:s,version:null,vertAdvY:s,vertOriginX:s,vertOriginY:s,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:s,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}})},467:function(e,t,o){"use strict";var i=o(256),a=o(257),s=o(258),l="data";e.exports=function(e,t){var o=i(t),n=t,r=s;if(o in e.normal)return e.property[e.normal[o]];4<o.length&&o.slice(0,4)===l&&c.test(t)&&("-"===t.charAt(4)?n=function(e){var t=e.slice(5).replace(u,h);return l+t.charAt(0).toUpperCase()+t.slice(1)}(t):t=function(e){var t=e.slice(4);if(u.test(t))return e;"-"!==(t=t.replace(d,p)).charAt(0)&&(t="-"+t);return l+t}(t),r=a);return new r(n,t)};var c=/^data[-a-z0-9.:_]+$/i,u=/-[a-z]/g,d=/[A-Z]/g;function p(e){return"-"+e.toLowerCase()}function h(e){return e.charAt(1).toUpperCase()}},468:function(e,t,o){"use strict";var n=o(139),r=Object.prototype.hasOwnProperty,i={align:"text-align",valign:"vertical-align",height:"height",width:"width"};function a(e){var t;if("tr"===e.tagName||"td"===e.tagName||"th"===e.tagName)for(t in i)r.call(i,t)&&void 0!==e.properties[t]&&(s(e,i[t],e.properties[t]),delete e.properties[t])}function s(e,t,o){var n=(e.properties.style||"").trim();n&&!/;\s*/.test(n)&&(n+=";"),n&&(n+=" ");var r=n+t+": "+o+";";e.properties.style=r}e.exports=function(e){return n(e,"element",a),e}},469:function(e,t){function S(e){return function(e){if(Array.isArray(e)){for(var t=0,o=new Array(e.length);t<e.length;t++)o[t]=e[t];return o}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var k;function n(e,o,t){var n=0,r=o.charAt(n),i="";if(":"!==r)return!1;var a=function(){i+=r,n++,r=o.charAt(n)},s=function(e){for(var t="";n<o.length&&!e();)t+=r,a();return t},l=function(){return s(function(){return!(" "===r||"\t"===r)})};if(s(function(){return":"!==r}),!(n<3)){var c=n;if(l(),"details"===s(function(){return" "===r||"\t"===r})){if(l(),"["!==r)return!1;a();var u=s(function(){return"]"===r});if(a(),l(),s(function(){return":"!==r}),l(),"\n"!==r)return!1;a();for(var d,p="",h=!1;n<o.length;){if(":"===r){var g=s(function(){return":"!==r});if(g.length>=c&&(""===r||"\n"===r)){h=!0;break}p+=g}p+=(void 0,d=s(function(){return"\n"===r})+r,a(),d)}if(!h)return!1;var f=e.now(),m=e(i),y=this.tokenizeInline(u,f),_=this.enterBlock(),v=this.tokenizeBlock(p,f);if(_(),k){var b=m({type:"redaction",redactionType:"details",block:!0,children:y,openingColonCount:c}),E=v.map(function(e){return m(e)}),T=m({type:"redaction",block:!0,closing:!0});return[b].concat(S(E),[T])}return m({type:"details",data:{hName:"details"},children:[{type:"summary",data:{hName:"summary"},children:y}].concat(v)})}}}e.exports=function(){var e=this.Parser,t=e.prototype.blockTokenizers,o=e.prototype.blockMethods;e.prototype.restorationMethods.details=function(t,e,o,n){var r=e.open.openingColonCount,i=t({type:"paragraph",children:[{type:"rawtext",value:"".concat(":".repeat(r)," details [").concat(o,"]")}]}),a=n.map(function(e){return t(e)}),s=t({type:"paragraph",children:[{type:"rawtext",value:":".repeat(r)}]});return[i].concat(S(a),[s])},k=e.prototype.options.redact,t.details=n,o.splice(o.indexOf("paragraph"),0,"details")},n.notInLink=!0},47:function(e,t){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function l(e){return"function"==typeof e}function c(e){return"object"==typeof e&&null!==e}function u(e){return void 0===e}((e.exports=n).EventEmitter=n).prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(e){if(!function(e){return"number"==typeof e}(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},n.prototype.emit=function(e){var t,o,n,r,i,a;if(this._events||(this._events={}),"error"===e&&(!this._events.error||c(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var s=new Error('Uncaught, unspecified "error" event. ('+t+")");throw s.context=t,s}if(u(o=this._events[e]))return!1;if(l(o))switch(arguments.length){case 1:o.call(this);break;case 2:o.call(this,arguments[1]);break;case 3:o.call(this,arguments[1],arguments[2]);break;default:r=Array.prototype.slice.call(arguments,1),o.apply(this,r)}else if(c(o))for(r=Array.prototype.slice.call(arguments,1),n=(a=o.slice()).length,i=0;i<n;i++)a[i].apply(this,r);return!0},n.prototype.on=n.prototype.addListener=function(e,t){var o;if(!l(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,l(t.listener)?t.listener:t),this._events[e]?c(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,c(this._events[e])&&!this._events[e].warned&&(o=u(this._maxListeners)?n.defaultMaxListeners:this._maxListeners)&&0<o&&this._events[e].length>o&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace()),this},n.prototype.once=function(e,t){if(!l(t))throw TypeError("listener must be a function");var o=!1;function n(){this.removeListener(e,n),o||(o=!0,t.apply(this,arguments))}return n.listener=t,this.on(e,n),this},n.prototype.removeListener=function(e,t){var o,n,r,i;if(!l(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(r=(o=this._events[e]).length,n=-1,o===t||l(o.listener)&&o.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(c(o)){for(i=r;0<i--;)if(o[i]===t||o[i].listener&&o[i].listener===t){n=i;break}if(n<0)return this;1===o.length?(o.length=0,delete this._events[e]):o.splice(n,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},n.prototype.removeAllListeners=function(e){var t,o;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(l(o=this._events[e]))this.removeListener(e,o);else if(o)for(;o.length;)this.removeListener(e,o[o.length-1]);return delete this._events[e],this},n.prototype.listeners=function(e){return this._events&&this._events[e]?l(this._events[e])?[this._events[e]]:this._events[e].slice():[]},n.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(l(t))return 1;if(t)return t.length}return 0},n.listenerCount=function(e,t){return e.listenerCount(t)}},470:function(e,t){e.exports=function(){var e=this.Parser.prototype.inlineTokenizers,r=e.link;e.link=function(e,t,o){var n=r.call(this,e,t,o);return n&&"image"===n.type&&n.alt&&n.alt.endsWith("expandable")&&(n.type="span",n.data={hName:"span",hProperties:{dataUrl:n.url,className:"expandable-image"}},n.children=[{type:"text",value:n.alt.substr(0,-1*"expandable".length).trim()}]),n},e.link.locator=r.locator}},471:function(e,t,o){"use strict";function s(e){return!/https?:\/\/([^.]+\.)*code.org(:[0-9]+)?\//.test(function(e){return(n=n||document.createElement("a")).href=e,n.href}(e))}var n;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=this.Parser.prototype.inlineTokenizers,i=t.link,a="all"===e.links;t.link=function(e,t,o){var n=i.call(this,e,t,o);if(n&&"link"===n.type&&(a||s(n.url))){n.data=n.data||{},n.data.hProperties=n.data.hProperties||{};var r=n.data.hProperties;r.target=r.target||"_blank",r.rel="noreferrer noopener"}return n},t.link.locator=i.locator},t.isExternalLink=s},472:function(e,t){e.exports=function(){this.Parser.prototype.options.blocks.push("xml")}},473:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.scriptUrlForStudent=t.teacherDashboardUrl=void 0;t.teacherDashboardUrl=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"";return t&&"/"!==t.charAt(0)&&(t="/${path}"),"/teacher_dashboard/sections/"+e+t};t.scriptUrlForStudent=function(e,t,o){return t?"/s/".concat(t,"?section_id=").concat(e,"&user_id=").concat(o,"&viewAs=Teacher"):null}},474:function(e,t,o){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.registerGetResult=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:s;if(r)return void console.error("already have a getResult function");r=e},t.getResult=function(){return r?r():void console.error("No getResult function")},t.registerAnswerChangedFn=function(e){i=e},t.onAnswerChanged=function(e,t){if(i)return i(e,t)},t.registerLevel=function(e,t){l(t,"getResult","function"),l(t,"getAppName","function"),l(t,"lockAnswers","function"),l(t,"getCurrentAnswerFeedback","function"),l(t,"levelId","number"),a[e]=t},t.getLevel=c,t.getLevelIds=u,t.lockContainedLevelAnswers=function(){var e=u();if(1!==e.length)throw new Error("Expected exactly one contained level. Got ".concat(e.length));c(e[0]).lockAnswers()},t.getContainedLevelId=d,t.getContainedLevelResult=p,t.hasValidContainedLevelResult=function(){return p().result.valid};var r=null,i=null,a={};function s(){return{response:"ok",result:!0}}function l(e,t,o){if(!e[t])throw new Error("Expected object to have field of ".concat(t));if(n(e[t])!==o)throw new Error("Expected object['".concat(t,"'] to have type of ").concat(o))}function c(e){return a[e]}function u(){return Object.keys(a)}function d(){var e=u();if(1!==e.length)throw new Error("Expected exactly one contained level. Got ".concat(e.length));return e[0]}function p(){var e=c(d());return{id:e.levelId,app:e.getAppName(),callback:appOptions.report.sublevelCallback+e.levelId,result:e.getResult(),feedback:e.getCurrentAnswerFeedback()}}},50:function(e,t,o){"use strict";function n(e){return function(){return e}}var r=function(){};r.thatReturns=n,r.thatReturnsFalse=n(!1),r.thatReturnsTrue=n(!0),r.thatReturnsNull=n(null),r.thatReturnsThis=function(){return this},r.thatReturnsArgument=function(e){return e},e.exports=r},501:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(o(0)),r=a(o(1)),i=a(o(18));function a(e){return e&&e.__esModule?e:{default:e}}var s,l,c,u=function(e){function t(){return e.apply(this,arguments)||this}return function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(t,e),t.prototype.render=function(){return r.default.createElement(i.default,{icon:"spinner",className:"fa-pulse ".concat("small"!==this.props.size?"fa-3x":"")})},t}(r.default.Component);t.default=u,s=u,l="propTypes",c={size:n.default.oneOf(["small","large"])},l in s?Object.defineProperty(s,l,{value:c,enumerable:!0,configurable:!0,writable:!0}):s[l]=c,e.exports=t.default},514:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,o){if(e.hasOwnProperty(t)){for(var n={},r=e[t],i=(0,u.default)(t),a=Object.keys(o),s=0;s<a.length;s++){var l=a[s];if(l===t)for(var c=0;c<r.length;c++)n[r[c]+i]=o[t];n[l]=o[l]}return n}return o};var n,r=o(175),u=(n=r)&&n.__esModule?n:{default:n};e.exports=t.default},515:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=i.default._detect(e);t.yandexbrowser&&(t=i.default._detect(e.replace(/YaBrowser\/[0-9.]*/,"")));for(var o in a)if(t.hasOwnProperty(o)){var n=a[o];t.jsPrefix=n,t.cssPrefix="-"+n.toLowerCase()+"-";break}t.browserName=function(e){if(e.firefox)return"firefox";if(e.mobile||e.tablet){if(e.ios)return"ios_saf";if(e.android)return"android";if(e.opera)return"op_mini"}for(var t in s)if(e.hasOwnProperty(t))return s[t]}(t),t.version?t.browserVersion=parseFloat(t.version):t.browserVersion=parseInt(parseFloat(t.osversion),10);t.osVersion=parseFloat(t.osversion),"ios_saf"===t.browserName&&t.browserVersion>t.osVersion&&(t.browserVersion=t.osVersion);"android"===t.browserName&&t.chrome&&37<t.browserVersion&&(t.browserName="and_chr");"android"===t.browserName&&t.osVersion<5&&(t.browserVersion=t.osVersion);"android"===t.browserName&&t.samsungBrowser&&(t.browserName="and_chr",t.browserVersion=44);return t};var n,r=o(516),i=(n=r)&&n.__esModule?n:{default:n};var a={chrome:"Webkit",safari:"Webkit",ios:"Webkit",android:"Webkit",phantom:"Webkit",opera:"Webkit",webos:"Webkit",blackberry:"Webkit",bada:"Webkit",tizen:"Webkit",chromium:"Webkit",vivaldi:"Webkit",firefox:"Moz",seamoney:"Moz",sailfish:"Moz",msie:"ms",msedge:"ms"},s={chrome:"chrome",chromium:"chrome",safari:"safari",firfox:"firefox",msedge:"edge",opera:"opera",vivaldi:"opera",msie:"ie"};e.exports=t.default},516:function(e,t,o){var n;n=function(){var k=!0;function a(o){function e(e){var t=o.match(e);return t&&1<t.length&&t[1]||""}function t(e){var t=o.match(e);return t&&1<t.length&&t[2]||""}var n,r=e(/(ipod|iphone|ipad)/i).toLowerCase(),i=!/like android/i.test(o)&&/android/i.test(o),a=/nexus\s*[0-6]\s*/i.test(o),s=!a&&/nexus\s*[0-9]+/i.test(o),l=/CrOS/.test(o),c=/silk/i.test(o),u=/sailfish/i.test(o),d=/tizen/i.test(o),p=/(web|hpw)(o|0)s/i.test(o),h=/windows phone/i.test(o),g=(/SamsungBrowser/i.test(o),!h&&/windows/i.test(o)),f=!r&&!c&&/macintosh/i.test(o),m=!i&&!u&&!d&&!p&&/linux/i.test(o),y=t(/edg([ea]|ios)\/(\d+(\.\d+)?)/i),_=e(/version\/(\d+(\.\d+)?)/i),v=/tablet/i.test(o)&&!/tablet pc/i.test(o),b=!v&&/[^-]mobi/i.test(o),E=/xbox/i.test(o);/opera/i.test(o)?n={name:"Opera",opera:k,version:_||e(/(?:opera|opr|opios)[\s\/](\d+(\.\d+)?)/i)}:/opr\/|opios/i.test(o)?n={name:"Opera",opera:k,version:e(/(?:opr|opios)[\s\/](\d+(\.\d+)?)/i)||_}:/SamsungBrowser/i.test(o)?n={name:"Samsung Internet for Android",samsungBrowser:k,version:_||e(/(?:SamsungBrowser)[\s\/](\d+(\.\d+)?)/i)}:/Whale/i.test(o)?n={name:"NAVER Whale browser",whale:k,version:e(/(?:whale)[\s\/](\d+(?:\.\d+)+)/i)}:/MZBrowser/i.test(o)?n={name:"MZ Browser",mzbrowser:k,version:e(/(?:MZBrowser)[\s\/](\d+(?:\.\d+)+)/i)}:/coast/i.test(o)?n={name:"Opera Coast",coast:k,version:_||e(/(?:coast)[\s\/](\d+(\.\d+)?)/i)}:/focus/i.test(o)?n={name:"Focus",focus:k,version:e(/(?:focus)[\s\/](\d+(?:\.\d+)+)/i)}:/yabrowser/i.test(o)?n={name:"Yandex Browser",yandexbrowser:k,version:_||e(/(?:yabrowser)[\s\/](\d+(\.\d+)?)/i)}:/ucbrowser/i.test(o)?n={name:"UC Browser",ucbrowser:k,version:e(/(?:ucbrowser)[\s\/](\d+(?:\.\d+)+)/i)}:/mxios/i.test(o)?n={name:"Maxthon",maxthon:k,version:e(/(?:mxios)[\s\/](\d+(?:\.\d+)+)/i)}:/epiphany/i.test(o)?n={name:"Epiphany",epiphany:k,version:e(/(?:epiphany)[\s\/](\d+(?:\.\d+)+)/i)}:/puffin/i.test(o)?n={name:"Puffin",puffin:k,version:e(/(?:puffin)[\s\/](\d+(?:\.\d+)?)/i)}:/sleipnir/i.test(o)?n={name:"Sleipnir",sleipnir:k,version:e(/(?:sleipnir)[\s\/](\d+(?:\.\d+)+)/i)}:/k-meleon/i.test(o)?n={name:"K-Meleon",kMeleon:k,version:e(/(?:k-meleon)[\s\/](\d+(?:\.\d+)+)/i)}:h?(n={name:"Windows Phone",osname:"Windows Phone",windowsphone:k},y?(n.msedge=k,n.version=y):(n.msie=k,n.version=e(/iemobile\/(\d+(\.\d+)?)/i))):/msie|trident/i.test(o)?n={name:"Internet Explorer",msie:k,version:e(/(?:msie |rv:)(\d+(\.\d+)?)/i)}:l?n={name:"Chrome",osname:"Chrome OS",chromeos:k,chromeBook:k,chrome:k,version:e(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}:/edg([ea]|ios)/i.test(o)?n={name:"Microsoft Edge",msedge:k,version:y}:/vivaldi/i.test(o)?n={name:"Vivaldi",vivaldi:k,version:e(/vivaldi\/(\d+(\.\d+)?)/i)||_}:u?n={name:"Sailfish",osname:"Sailfish OS",sailfish:k,version:e(/sailfish\s?browser\/(\d+(\.\d+)?)/i)}:/seamonkey\//i.test(o)?n={name:"SeaMonkey",seamonkey:k,version:e(/seamonkey\/(\d+(\.\d+)?)/i)}:/firefox|iceweasel|fxios/i.test(o)?(n={name:"Firefox",firefox:k,version:e(/(?:firefox|iceweasel|fxios)[ \/](\d+(\.\d+)?)/i)},/\((mobile|tablet);[^\)]*rv:[\d\.]+\)/i.test(o)&&(n.firefoxos=k,n.osname="Firefox OS")):c?n={name:"Amazon Silk",silk:k,version:e(/silk\/(\d+(\.\d+)?)/i)}:/phantom/i.test(o)?n={name:"PhantomJS",phantom:k,version:e(/phantomjs\/(\d+(\.\d+)?)/i)}:/slimerjs/i.test(o)?n={name:"SlimerJS",slimer:k,version:e(/slimerjs\/(\d+(\.\d+)?)/i)}:/blackberry|\bbb\d+/i.test(o)||/rim\stablet/i.test(o)?n={name:"BlackBerry",osname:"BlackBerry OS",blackberry:k,version:_||e(/blackberry[\d]+\/(\d+(\.\d+)?)/i)}:p?(n={name:"WebOS",osname:"WebOS",webos:k,version:_||e(/w(?:eb)?osbrowser\/(\d+(\.\d+)?)/i)},/touchpad\//i.test(o)&&(n.touchpad=k)):/bada/i.test(o)?n={name:"Bada",osname:"Bada",bada:k,version:e(/dolfin\/(\d+(\.\d+)?)/i)}:d?n={name:"Tizen",osname:"Tizen",tizen:k,version:e(/(?:tizen\s?)?browser\/(\d+(\.\d+)?)/i)||_}:/qupzilla/i.test(o)?n={name:"QupZilla",qupzilla:k,version:e(/(?:qupzilla)[\s\/](\d+(?:\.\d+)+)/i)||_}:/chromium/i.test(o)?n={name:"Chromium",chromium:k,version:e(/(?:chromium)[\s\/](\d+(?:\.\d+)?)/i)||_}:/chrome|crios|crmo/i.test(o)?n={name:"Chrome",chrome:k,version:e(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}:i?n={name:"Android",version:_}:/safari|applewebkit/i.test(o)?(n={name:"Safari",safari:k},_&&(n.version=_)):r?(n={name:"iphone"==r?"iPhone":"ipad"==r?"iPad":"iPod"},_&&(n.version=_)):n=/googlebot/i.test(o)?{name:"Googlebot",googlebot:k,version:e(/googlebot\/(\d+(\.\d+))/i)||_}:{name:e(/^(.*)\/(.*) /),version:t(/^(.*)\/(.*) /)},!n.msedge&&/(apple)?webkit/i.test(o)?(/(apple)?webkit\/537\.36/i.test(o)?(n.name=n.name||"Blink",n.blink=k):(n.name=n.name||"Webkit",n.webkit=k),!n.version&&_&&(n.version=_)):!n.opera&&/gecko\//i.test(o)&&(n.name=n.name||"Gecko",n.gecko=k,n.version=n.version||e(/gecko\/(\d+(\.\d+)?)/i)),n.windowsphone||!i&&!n.silk?!n.windowsphone&&r?(n[r]=k,n.ios=k,n.osname="iOS"):f?(n.mac=k,n.osname="macOS"):E?(n.xbox=k,n.osname="Xbox"):g?(n.windows=k,n.osname="Windows"):m&&(n.linux=k,n.osname="Linux"):(n.android=k,n.osname="Android");var T="";n.windows?T=function(e){switch(e){case"NT":return"NT";case"XP":return"XP";case"NT 5.0":return"2000";case"NT 5.1":return"XP";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}}(e(/Windows ((NT|XP)( \d\d?.\d)?)/i)):n.windowsphone?T=e(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i):n.mac?T=(T=e(/Mac OS X (\d+([_\.\s]\d+)*)/i)).replace(/[_\s]/g,"."):r?T=(T=e(/os (\d+([_\s]\d+)*) like mac os x/i)).replace(/[_\s]/g,"."):i?T=e(/android[ \/-](\d+(\.\d+)*)/i):n.webos?T=e(/(?:web|hpw)os\/(\d+(\.\d+)*)/i):n.blackberry?T=e(/rim\stablet\sos\s(\d+(\.\d+)*)/i):n.bada?T=e(/bada\/(\d+(\.\d+)*)/i):n.tizen&&(T=e(/tizen[\/\s](\d+(\.\d+)*)/i)),T&&(n.osversion=T);var S=!n.windows&&T.split(".")[0];return v||s||"ipad"==r||i&&(3==S||4<=S&&!b)||n.silk?n.tablet=k:(b||"iphone"==r||"ipod"==r||i||a||n.blackberry||n.webos||n.bada)&&(n.mobile=k),n.msedge||n.msie&&10<=n.version||n.yandexbrowser&&15<=n.version||n.vivaldi&&1<=n.version||n.chrome&&20<=n.version||n.samsungBrowser&&4<=n.version||n.whale&&1===C([n.version,"1.0"])||n.mzbrowser&&1===C([n.version,"6.0"])||n.focus&&1===C([n.version,"1.0"])||n.firefox&&20<=n.version||n.safari&&6<=n.version||n.opera&&10<=n.version||n.ios&&n.osversion&&6<=n.osversion.split(".")[0]||n.blackberry&&10.1<=n.version||n.chromium&&20<=n.version?n.a=k:n.msie&&n.version<10||n.chrome&&n.version<20||n.firefox&&n.version<20||n.safari&&n.version<6||n.opera&&n.version<10||n.ios&&n.osversion&&n.osversion.split(".")[0]<6||n.chromium&&n.version<20?n.c=k:n.x=k,n}var s=a("undefined"!=typeof navigator&&navigator.userAgent||"");function n(e){return e.split(".").length}function r(e,t){var o,n=[];if(Array.prototype.map)return Array.prototype.map.call(e,t);for(o=0;o<e.length;o++)n.push(t(e[o]));return n}function C(e){for(var o=Math.max(n(e[0]),n(e[1])),t=r(e,function(e){var t=o-n(e);return r((e+=new Array(1+t).join(".0")).split("."),function(e){return new Array(20-e.length).join("0")+e}).reverse()});0<=--o;){if(t[0][o]>t[1][o])return 1;if(t[0][o]!==t[1][o])return-1;if(0===o)return 0}}function i(e,t,o){var n=s;"string"==typeof t&&(o=t,t=void 0),void 0===t&&(t=!1),o&&(n=a(o));var r=""+n.version;for(var i in e)if(e.hasOwnProperty(i)&&n[i]){if("string"!=typeof e[i])throw new Error("Browser version in the minVersion map should be a string: "+i+": "+String(e));return C([r,e[i]])<0}return t}return s.test=function(e){for(var t=0;t<e.length;++t){var o=e[t];if("string"==typeof o&&o in s)return!0}return!1},s.isUnsupportedBrowser=i,s.compareVersions=C,s.check=function(e,t,o){return!i(e,t,o)},s._detect=a,s.detect=a,s},e.exports?e.exports=n():o(317)("bowser",n)},517:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,o){if("chrome"===e&&t<43||("safari"===e||"ios_saf"===e)&&t<9||"opera"===e&&t<30||"android"===e&&t<=4.4||"and_uc"===e)return o+"keyframes";return"keyframes"},e.exports=t.default},518:function(e,t,o){"use strict";o.r(t);var n=/[A-Z]/g,r=/^ms-/,i={};function a(e){return"-"+e.toLowerCase()}t.default=function(e){if(i.hasOwnProperty(e))return i[e];var t=e.replace(n,a);return i[e]=r.test(t)?"-"+t:t}},519:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resourceShape=t.stringForType=t.default=void 0;var n,r=a(o(0)),i=a(o(4));function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var l={curriculum:"curriculum",teacherForum:"teacherForum",professionalLearning:"professionalLearning",lessonPlans:"lessonPlans",vocabulary:"vocabulary",codeIntroduced:"codeIntroduced",standardMappings:"standardMappings",allHandouts:"allHandouts",videos:"videos",curriculumGuide:"curriculumGuide"},c=l;t.default=c;var u=(s(n={},l.curriculum,i.default.curriculum()),s(n,l.teacherForum,i.default.teacherForum()),s(n,l.professionalLearning,i.default.professionalLearning()),s(n,l.lessonPlans,i.default.lessonPlans()),s(n,l.vocabulary,i.default.vocabulary()),s(n,l.codeIntroduced,i.default.codeIntroduced()),s(n,l.standardMappings,i.default.standardMappings()),s(n,l.allHandouts,i.default.allHandouts()),s(n,l.videos,i.default.videos()),s(n,l.curriculumGuide,i.default.curriculumGuide()),n);t.stringForType=u;var d=r.default.shape({type:r.default.oneOf(Object.values(l)).isRequired,link:r.default.string.isRequired});t.resourceShape=d},520:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(o(2330)),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e},s=n(o(2));function n(e){return e&&e.__esModule?e:{default:e}}t.default=function(){for(var e=arguments.length,t=Array(e),o=0;o<e;o++)t[o]=arguments[o];var n=t[0],r=t.slice(1);return r.length?i.default.apply(void 0,[(0,i.default)({},n)].concat(function(e){if(Array.isArray(e)){for(var t=0,o=Array(e.length);t<e.length;t++)o[t]=e[t];return o}return Array.from(e)}(r),[function(e,t,o){return"children"===o?a({},t,e):"className"===o?(0,s.default)(e,t):void 0}])):(0,i.default)({},n)}},528:function(o,n,r){var i;
/*!
  Copyright (c) 2015 Jed Watson.
  Based on code that is Copyright 2013-2015, Facebook, Inc.
  All rights reserved.
*/
/*!
  Copyright (c) 2015 Jed Watson.
  Based on code that is Copyright 2013-2015, Facebook, Inc.
  All rights reserved.
*/
!function(){"use strict";var e=!("undefined"==typeof window||!window.document||!window.document.createElement),t={canUseDOM:e,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:e&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:e&&!!window.screen};void 0===(i=function(){return t}.call(n,r,n,o))||(o.exports=i)}()},530:function(e,s,l){"use strict";(function(e,t){Object.defineProperty(s,"__esModule",{value:!0});var o,n,r=l(531),i=(o=r)&&o.__esModule?o:{default:o};n="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==e?e:t;var a=(0,i.default)(n);s.default=a}).call(this,l(25),l(87)(e))},531:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t,o=e.Symbol;"function"==typeof o?o.observable?t=o.observable:(t=o("observable"),o.observable=t):t="@@observable";return t}},536:function(e,t,o){"use strict";function n(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{},n=Object.keys(Object(o));"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(o).filter(function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable}))),n.forEach(function(e){r(t,e,o[e])})}return t}function r(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}Object.defineProperty(t,"__esModule",{value:!0}),t.unsetNameFailure=t.setNameFailure=t.retryProjectSave=t.setShowTryAgainDialog=t.refreshProjectName=t.setProjectUpdatedAt=t.setProjectUpdatedSaved=t.setProjectUpdatedSaving=t.setProjectUpdatedError=t.showProjectUpdatedAt=t.showLevelBuilderSaveButton=t.showProjectBackedHeader=t.showMinimalProjectHeader=t.showProjectHeader=t.default=t.possibleHeaders=t.projectUpdatedStatuses=void 0;var i="header/SHOW_PROJECT_HEADER",a="header/SHOW_MINIMAL_PROJECT_HEADER",s="header/SHOW_PROJECT_BACKED_HEADER",l="header/SHOW_PROJECT_UPDATED_AT",c="header/SET_PROJECT_UPDATED_STATUS",u="header/SET_PROJECT_UPDATED_AT",d="header/ENABLE_LEVEL_BUILDER_SAVE_BUTTON",p="header/REFRESH_PROJECT_NAME",h="header/SHOW_TRY_AGAIN_DIALOG",g="header/SET_NAME_FAILURE",f="header/UNSET_NAME_FAILURE",m={default:"default",saving:"saving",saved:"saved",error:"error"};t.projectUpdatedStatuses=m;var y={project:"project",minimalProject:"minimalProject",projectBacked:"projectBacked",levelBuilderSave:"levelBuilderSave"};t.possibleHeaders=y;var _={currentHeader:void 0,showProjectUpdatedAt:!1,projectUpdatedStatus:m.default,projectUpdatedAt:void 0,getLevelBuilderChanges:void 0,projectName:"",projectNameFailure:void 0,includeExportInProjectHeader:!1,showTryAgainDialog:!1};t.default=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:_,t=1<arguments.length?arguments[1]:void 0;return t.type===i?n({},e,{currentHeader:y.project,includeExportInProjectHeader:t.showExport}):t.type===a?n({},e,{currentHeader:y.minimalProject}):t.type===s?n({},e,{currentHeader:y.projectBacked,includeExportInProjectHeader:t.showExport}):t.type===d&&t.getChanges?n({},e,{currentHeader:y.levelBuilderSave,getLevelBuilderChanges:t.getChanges}):t.type===l?n({},e,{showProjectUpdatedAt:!0}):t.type===u?n({},e,{projectUpdatedAt:t.updatedAt,projectUpdatedStatus:m.saved}):t.type===c?n({},e,{projectUpdatedStatus:t.status}):t.type===p?n({},e,{projectName:dashboard.project.getCurrentName()}):t.type===h?n({},e,{showTryAgainDialog:t.visible}):t.type===f?n({},e,{projectNameFailure:void 0}):t.type===g?n({},e,{projectNameFailure:t.projectNameFailure}):e};t.showProjectHeader=function(e){return{type:i,showExport:e}};t.showMinimalProjectHeader=function(){return{type:a}};t.showProjectBackedHeader=function(e){return{type:s,showExport:e}};t.showLevelBuilderSaveButton=function(e){return{type:d,getChanges:e}};t.showProjectUpdatedAt=function(){return{type:l}};t.setProjectUpdatedError=function(){return{type:c,status:m.error}};t.setProjectUpdatedSaving=function(){return{type:c,status:m.saving}};t.setProjectUpdatedSaved=function(){return{type:c,status:m.saved}};t.setProjectUpdatedAt=function(e){return{type:u,updatedAt:e}};t.refreshProjectName=function(){return{type:p}};t.setShowTryAgainDialog=function(e){return{type:h,visible:e}};t.retryProjectSave=function(){return function(e){return dashboard.project.save()}};t.setNameFailure=function(e){return{type:g,projectNameFailure:e}};t.unsetNameFailure=function(){return{type:f}}},537:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={GLOBAL:{HIDE:"__react_tooltip_hide_event",REBUILD:"__react_tooltip_rebuild_event",SHOW:"__react_tooltip_show_event"}}},538:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(1591);Object.defineProperty(t,"byColumn",{enumerable:!0,get:function(){return p(n).default}});var r=o(1592);Object.defineProperty(t,"byColumns",{enumerable:!0,get:function(){return p(r).default}});var i=o(1593);Object.defineProperty(t,"byColumnsPrioritizeLastSorted",{enumerable:!0,get:function(){return p(i).default}});var a=o(1594);Object.defineProperty(t,"header",{enumerable:!0,get:function(){return p(a).default}});var s=o(1595);Object.defineProperty(t,"sorter",{enumerable:!0,get:function(){return p(s).default}});var l=o(1596);Object.defineProperty(t,"reset",{enumerable:!0,get:function(){return p(l).default}});var c=o(1597);Object.defineProperty(t,"sort",{enumerable:!0,get:function(){return p(c).default}});var u=o(1151);Object.defineProperty(t,"strategies",{enumerable:!0,get:function(){return p(u).default}});var d=o(1152);function p(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"order",{enumerable:!0,get:function(){return p(d).default}})},539:function(e,t,o){"use strict";var n,r=o(11),i=(n=o(80))&&n.__esModule?n:{default:n};function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var s=(0,r.makeEnum)("DropletTransitionError","FirebaseRateLimitExceeded","SanitizedLevelHtml","UserJavaScriptError","RunButtonClick","StartWebRequest","StaticResourceFetchError","PegasusSectionsRedirect","DancePartyOnInit","BrambleError","BrambleFilesystemResetSuccess","BrambleFilesystemResetFailed","JotFormFrameLoaded","JotFormLoadFailed"),u=i.default.isEnabled("logPageSize")||Math.random()<.01;e.exports={PageAction:s,addPageAction:function(e,t,o){if(void 0===o&&(o=1),window.newrelic)if(s[e])if("object"===a(t)){if(!(Math.random()>o)){for(var n in t)"boolean"==typeof t[n]&&(t[n]=t[n].toString()),"string"==typeof t[n]&&(t[n]=t[n].substring(0,4095));window.newrelic.addPageAction(e,t)}}else console.log("Expected value to be an object");else console.log("Unknown actionName: "+e)},setCustomAttribute:function(e,t){window.newrelic&&window.newrelic.setCustomAttribute(e,t)},loadFinished:function(){window.newrelic&&window.newrelic.finished()},logError:function(e){window.newrelic&&window.newrelic.noticeError(e)},reportPageSize:function(){if(u)try{var e=performance&&performance.getEntriesByType("resource"),t=0,o=0,n=/\.js$/,r=!0,i=!1,a=void 0;try{for(var s,l=e[Symbol.iterator]();!(r=(s=l.next()).done);r=!0){var c=s.value;if(void 0===c.transferSize||void 0===c.encodedBodySize)return;t+=c.transferSize,n.test(c.name)&&(o+=c.transferSize)}}catch(e){i=!0,a=e}finally{try{r||null==l.return||l.return()}finally{if(i)throw a}}if(!window.newrelic)return;window.newrelic.setCustomAttribute("totalDownloadSize",t),window.newrelic.setCustomAttribute("jsDownloadSize",o)}catch(e){this.logError(e)}}}},56:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:oe,t=1<arguments.length?arguments[1]:void 0;if(t.type===D)return A({},e,{providers:t.providers.map(function(e){return ae(e)})});if(t.type===P)return A({},e,{stageExtrasScriptIds:t.ids});if(t.type===R)return A({},e,{validGrades:t.grades});if(t.type===x)return A({},e,{pageType:t.pageType});if(t.type===N){var a={},s=[],l=[];return t.validCourses.forEach(function(e){var t,o=se(e.id,null),n=(e.script_ids||[]).map(function(e){return se(null,e)});a[o]=A({},T.default.omit(e,"script_ids"),{courseId:e.id,scriptId:null,scriptAssignIds:n,assignId:o,path:"/courses/".concat(e.script_name)}),e.version_year===ne&&s.push(T.default.pick(e,ie)),(t=l).push.apply(t,C(n))}),l=T.default.uniq(l),t.validScripts.forEach(function(e){var t=se(null,e.id),o=e.assignment_family_name||e.script_name,n=e.assignment_family_title||e.name,r=e.version_year||ne,i=e.version_title||ne;a[t]=A({},e,{courseId:null,scriptId:e.id,assignId:t,path:"/s/".concat(e.script_name),assignment_family_name:o,version_year:r,version_title:i}),l.includes(t)||r===ne&&s.push(A({},T.default.pick(e,ie),{assignment_family_title:n,assignment_family_name:o}))}),A({},e,{validAssignments:a,assignmentFamilies:s})}if(t.type===L){var o=t.students.map(function(e){return pe(e,t.sectionId)});return A({},e,{selectedStudents:o})}if(t.type===M){var n=t.sections.map(function(e){return de(e)}),r=e.selectedSectionId;return 1===Object.keys(t.sections).length&&(r=t.sections[0].id.toString()),n.forEach(function(t){var o=e.sections[t.id];o&&Object.keys(t).forEach(function(e){if(void 0===t[e]&&void 0!==o[e])throw new Error("SET_SECTIONS called multiple times in a way that would remove data")})}),A({},e,{sectionsAreLoaded:!0,selectedSectionId:r,sectionIds:T.default.uniq(e.sectionIds.concat(n.map(function(e){return e.id}))),sections:A({},e.sections,T.default.keyBy(n,"id"))})}if(t.type===U){var i=t.sectionId;return i===I||e.sectionIds.includes(parseInt(i,10))||(i=I),A({},e,{selectedSectionId:i})}if(t.type===F){var c=t.sectionId,u=e.sections[c];if(!u)throw new Error("section does not exist");return A({},e,{sectionIds:T.default.without(e.sectionIds,c),sections:T.default.omit(e.sections,c)})}if(t.type===H){var d=t.sectionId,p=e.sections[d];if(!p)throw new Error("section does not exist");return A({},e,{sections:A({},e.sections,O({},d,A({},e.sections[d],{hidden:!e.sections[d].hidden})))})}if(t.type===j){var h=t.sectionId?A({},e.sections[t.sectionId]):function(e,t,o,n){return{id:e,name:"",loginType:n,grade:"",providerManaged:!1,stageExtras:!0,pairingAllowed:!0,sharingDisabled:!1,studentCount:0,code:"",courseId:t||null,scriptId:o||null,hidden:!1,isAssigned:void 0}}(B,t.courseId,t.scriptId,void 0);return A({},e,{initialCourseId:h.courseId,initialScriptId:h.scriptId,sectionBeingEdited:h,showSectionEditDialog:!t.silent})}if(t.type===G){if(!e.sectionBeingEdited)throw new Error("Cannot edit section properties; no section is currently being edited.");for(var g in t.props)if(!w.includes(g))throw new Error("Cannot edit property ".concat(g,"; it's not allowed."));var f={};if(t.props.scriptId){var m=e.validAssignments[se(null,t.props.scriptId)];m&&(f.stageExtras=m.stage_extras_available||re)}return A({},e,{sectionBeingEdited:A({},e.sectionBeingEdited,f,t.props)})}if(t.type===V)return A({},e,{sectionBeingEdited:null});if(t.type===W)return A({},e,{saveInProgress:!0});if(t.type===z){var y=de(t.serverSection),_=t.sectionId,v=y.id!==_,b=e.sectionIds;v&&(b=e.sectionIds.includes(_)?e.sectionIds.map(function(e){return e===_?y.id:e}):[y.id].concat(C(e.sectionIds)));var E={section_id:y.id,section_creation_timestamp:y.createdAt,page_name:e.pageType};return y.scriptId!==e.initialScriptId&&(E.script_id=y.scriptId),y.courseId!==e.initialCourseId&&(E.course_id=y.courseId),void 0===E.script_id&&void 0===E.course_id||k.default.putRecord({study:"assignment",study_group:"v1",event:v?"create_section":"edit_section_details",data_json:JSON.stringify(E)}),A({},e,{sectionIds:b,sections:A({},T.default.omit(e.sections,_),O({},y.id,A({},e.sections[y.id],y))),sectionBeingEdited:null,saveInProgress:!1})}if(t.type===q)return A({},e,{saveInProgress:!1});if(t.type===K)return A({},e,{asyncLoadComplete:!1});if(t.type===Y)return A({},e,{asyncLoadComplete:!0});if(t.type===X&&S.OAuthSectionTypes[t.rosterProvider])return A({},e,{rosterProvider:t.rosterProvider});return t.type!==J?t.type!==Q?t.type!==$?t.type!==Z?t.type!==ee?t.type!==te?e:A({},e,{isRosterDialogOpen:!1,sectionBeingEdited:A({},e.sections[t.sectionId],{hidden:!1})}):A({},e,{classrooms:null}):A({},e,{isRosterDialogOpen:!1,rosterProvider:null,classrooms:null}):A({},e,{loadError:{status:t.status,message:t.message}}):A({},e,{classrooms:t.classrooms.slice()}):A({},e,{isRosterDialogOpen:!0,classrooms:null})},t.isRosterDialogOpen=le,t.rosterProvider=ce,t.sectionCode=function(e,t){return(E(e).sections[t]||{}).code},t.sectionName=function(e,t){return(E(e).sections[t]||{}).name},t.sectionProvider=function(e,t){if(ue(e,t))return ce(e);return null},t.isSectionProviderManaged=ue,t.isSaveInProgress=function(e){return E(e).saveInProgress},t.assignedScriptName=function(e){var t=E(e),o=t.sectionBeingEdited,n=t.validAssignments;if(!o)return"";var r=se(null,o.scriptId),i=n[r];return i?i.name:""},t.getVisibleSections=function(e){return(Object.values(E(e).sections)||[]).filter(function(e){return!e.hidden})},t.getSectionRows=function(e,t){var o=E(e),n=o.sections,r=o.validAssignments;return t.map(function(e){return A({},T.default.pick(n[e],["id","name","loginType","studentCount","code","grade","providerManaged","hidden"]),{assignmentNames:fe(r,n[e]),assignmentPaths:me(r,n[e])})})},t.serverSectionFromSection=he,t.isAddingSection=ye,t.isEditingSection=function(e){return!!(e.sectionBeingEdited&&0<=e.sectionBeingEdited.id)&&e.showSectionEditDialog},t.editedSectionId=function(e){return e.sectionBeingEdited?e.sectionBeingEdited.id:null},t.sectionsNameAndId=function(t){return t.sectionIds.map(function(e){return{id:parseInt(e,10),name:t.sections[e].name}})},t.sectionsForDropdown=function(t,o,n,r){return t.sectionIds.map(function(e){return{id:parseInt(e,10),name:t.sections[e].name,scriptId:t.sections[e].scriptId,courseId:t.sections[e].courseId,isAssigned:null!==o&&t.sections[e].scriptId===o||null!==n&&t.sections[e].courseId===n&&r}})},t.hiddenSectionIds=function(t){return(t=E(t)).sectionIds.filter(function(e){return t.sections[e].hidden})},t.stageExtrasAvailable=t.assignmentPaths=t.assignmentNames=t.studentFromServerStudent=t.sectionFromServerSection=t.assignmentId=t.mapProviderToSectionType=t.assignmentFamilyFields=t.importOrUpdateRoster=t.cancelImportRosterFlow=t.beginImportRosterFlow=t.asyncLoadSectionData=t.editSectionLoginType=t.reloadAfterEditingSection=t.finishEditingSection=t.submitEditingSection=t.cancelEditingSection=t.editSectionProperties=t.beginEditingSection=t.beginEditingNewSection=t.unassignSection=t.assignToSection=t.toggleSectionHidden=t.removeSection=t.selectSection=t.setSections=t.pageTypes=t.setPageType=t.setStudentsForCurrentSection=t.setValidAssignments=t.setRosterProvider=t.setAuthProviders=t.setStageExtrasScriptIds=t.setValidGrades=t.__testInterface__=t.SELECT_SECTION=t.NO_SECTION=void 0;var n,r,T=s(o(15)),a=s(o(10)),i=o(11),S=o(82),k=s(o(62));function s(e){return e&&e.__esModule?e:{default:e}}function C(e){return function(e){if(Array.isArray(e)){for(var t=0,o=new Array(e.length);t<e.length;t++)o[t]=e[t];return o}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function A(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{},n=Object.keys(Object(o));"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(o).filter(function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable}))),n.forEach(function(e){O(t,e,o[e])})}return t}function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var o=[],n=!0,r=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(o.push(a.value),!t||o.length!==t);n=!0);}catch(e){r=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(r)throw i}}return o}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function O(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var w=["name","loginType","stageExtras","pairingAllowed","courseId","scriptId","grade","hidden"],B=-1,I="";t.NO_SECTION=I;var c=(O(n={},S.OAuthSectionTypes.google_classroom,"/dashboardapi/google_classrooms"),O(n,S.OAuthSectionTypes.clever,"/dashboardapi/clever_classrooms"),n),u=(O(r={},S.OAuthSectionTypes.google_classroom,"/dashboardapi/import_google_classroom"),O(r,S.OAuthSectionTypes.clever,"/dashboardapi/import_clever_classroom"),r),R="teacherDashboard/SET_VALID_GRADES",N="teacherDashboard/SET_VALID_ASSIGNMENTS",P="teacherDashboard/SET_STAGE_EXTRAS_SCRIPT_IDS",L="teacherDashboard/SET_STUDENT_SECTION",x="teacherDashboard/SET_PAGE_TYPE",D="teacherDashboard/SET_AUTH_PROVIDERS",M="teacherDashboard/SET_SECTIONS",U="teacherDashboard/SELECT_SECTION";t.SELECT_SECTION=U;var F="teacherDashboard/REMOVE_SECTION",H="teacherSections/TOGGLE_SECTION_HIDDEN",j="teacherDashboard/EDIT_SECTION_BEGIN",G="teacherDashboard/EDIT_SECTION_PROPERTIES",V="teacherDashboard/EDIT_SECTION_CANCEL",W="teacherDashboard/EDIT_SECTION_REQUEST",z="teacherDashboard/EDIT_SECTION_SUCCESS",q="teacherDashboard/EDIT_SECTION_FAILURE",K="teacherSections/ASYNC_LOAD_BEGIN",Y="teacherSections/ASYNC_LOAD_END",X="teacherSections/SET_ROSTER_PROVIDER",J="teacherSections/IMPORT_ROSTER_FLOW_BEGIN",Q="teacherSections/IMPORT_ROSTER_FLOW_LIST_LOADED",$="teacherSections/IMPORT_ROSTER_FLOW_LIST_LOAD_FAILED",Z="teacherSections/IMPORT_ROSTER_FLOW_CANCEL",ee="teacherSections/IMPORT_ROSTER_REQUEST",te="teacherSections/IMPORT_ROSTER_SUCCESS",d={EDIT_SECTION_REQUEST:W,EDIT_SECTION_SUCCESS:z,IMPORT_ROSTER_FLOW_BEGIN:J,IMPORT_ROSTER_FLOW_LIST_LOADED:Q,PENDING_NEW_SECTION_ID:B,USER_EDITABLE_SECTION_PROPS:w};t.__testInterface__=d;t.setValidGrades=function(e){return{type:R,grades:e}};t.setStageExtrasScriptIds=function(e){return{type:P,ids:e}};t.setAuthProviders=function(e){return{type:D,providers:e}};t.setRosterProvider=function(e){return{type:X,rosterProvider:e}};var p=function(e,t){return{type:N,validCourses:e,validScripts:t}};t.setValidAssignments=p;var h=function(e,t){return{type:L,sectionId:e,students:t}};t.setStudentsForCurrentSection=h;t.setPageType=function(e){return{type:x,pageType:e}};t.pageTypes={level:"level",scriptOverview:"script_overview",courseOverview:"course_overview",stageExtras:"stage_extras",homepage:"homepage"};var g=function(e){return{type:M,sections:e}};t.setSections=g;t.selectSection=function(e){return{type:U,sectionId:e}};t.removeSection=function(e){return{type:F,sectionId:e}};t.toggleSectionHidden=function(n){return function(e,t){e(f(n,!0));var o=E(t()).sections[n].hidden;return e(m({hidden:!o})),e(_())}};t.assignToSection=function(o,n,r,i){return function(e,t){return e(f(o,!0)),e(m({courseId:n,scriptId:r})),e(_(i))}};t.unassignSection=function(o){return function(e,t){return e(f(o,!0)),e(m({courseId:"",scriptId:""})),e(_())}};t.beginEditingNewSection=function(e,t){return{type:j,courseId:e,scriptId:t}};var f=function(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1];return{type:j,sectionId:e,silent:t}};t.beginEditingSection=f;var m=function(e){return{type:G,props:e}};t.editSectionProperties=m;t.cancelEditingSection=function(){return{type:V}};var y=function(e,t){e({type:W});var o=t().teacherSections,n=o.sectionBeingEdited,r=ye(o)?"/dashboardapi/sections":"/dashboardapi/sections/".concat(n.id),i=ye(o)?"POST":"PATCH";return a.default.ajax({url:r,method:i,contentType:"application/json;charset=UTF-8",data:JSON.stringify(he(n))})};t.submitEditingSection=y;var _=function(){return function(n,e){var r=e().teacherSections.sectionBeingEdited;return new Promise(function(t,o){y(n,e).done(function(e){n({type:z,sectionId:r.id,serverSection:e}),t(e)}).fail(function(e,t){n({type:q}),o(t)})})}};t.finishEditingSection=_;t.reloadAfterEditingSection=function(){return function(n,t){return new Promise(function(e,o){y(n,t).done(function(e){(0,i.reload)()}).fail(function(e,t){n({type:q}),o(t)})})}};t.editSectionLoginType=function(t,o){return function(e){return e(f(t)),e(m({loginType:o})),e(_())}};var v=function(s){return function(a){a({type:K}),a({type:K});var e=["/dashboardapi/sections","/dashboardapi/courses","/dashboardapi/sections/valid_scripts"];return s&&e.push("/dashboardapi/sections/"+s+"/students"),Promise.all(e.map(b)).then(function(e){var t=l(e,4),o=t[0],n=t[1],r=t[2],i=t[3];a(p(n,r)),a(g(o)),s&&a(h(s,i))}).catch(function(e){console.error(e.message)}).then(function(){a({type:Y})})}};function b(o,n){return new Promise(function(e,t){a.default.getJSON(o,n).done(e).fail(function(e){return t(new Error("\n        url: ".concat(o,"\n        status: ").concat(e.status,"\n        statusText: ").concat(e.statusText,"\n        responseText: ").concat(e.responseText,"\n      ")))})})}t.asyncLoadSectionData=v;t.beginImportRosterFlow=function(){return function(n,e){var t=e(),r=E(t).rosterProvider;return r?le(t)?Promise.resolve():(n({type:J}),new Promise(function(t,o){a.default.ajax(c[r]).success(function(e){n({type:Q,classrooms:e.courses||[]}),t()}).fail(function(e){var t=e.responseJSON?e.responseJSON.error:"Unknown error.";n({type:$,status:e.status,message:t}),o(new Error(t))})})):Promise.reject(new Error("Unable to begin import roster flow without a provider"))}};t.cancelImportRosterFlow=function(){return{type:Z}};t.importOrUpdateRoster=function(i,a){return function(e,t){var o,n=E(t()).rosterProvider,r=u[n];return e({type:ee}),b(r,{courseId:i,courseName:a}).then(function(e){return o=e.id}).then(function(){return e(v())}).then(function(){return e({type:te,sectionId:o})})}};var oe={nextTempId:-1,studioUrl:"",providers:[],validGrades:[],sectionIds:[],selectedSectionId:I,validAssignments:{},assignmentFamilies:[],sections:{},selectedStudents:[],sectionsAreLoaded:!1,sectionBeingEdited:null,showSectionEditDialog:!1,saveInProgress:!1,stageExtrasScriptIds:[],asyncLoadComplete:!1,isRosterDialogOpen:!1,rosterProvider:null,classrooms:null,loadError:null,pageType:""};var ne="2017",re=!1,ie=["category_priority","category","position","assignment_family_title","assignment_family_name"];t.assignmentFamilyFields=ie;var ae=function(e){switch(e){case"google_oauth2":return S.OAuthSectionTypes.google_classroom;default:return e}};t.mapProviderToSectionType=ae;var se=function(e,t){return"".concat(e,"_").concat(t)};function E(e){return e.teacherSections}function le(e){return E(e).isRosterDialogOpen}function ce(e){return E(e).rosterProvider}function ue(e,t){return!!(E(e).sections[t]||{}).providerManaged}t.assignmentId=se;var de=function(e){return{id:e.id,name:e.name,createdAt:e.createdAt,loginType:e.login_type,grade:e.grade,providerManaged:e.providerManaged||!1,stageExtras:e.stage_extras,pairingAllowed:e.pairing_allowed,sharingDisabled:e.sharing_disabled,studentCount:e.studentCount,code:e.code,courseId:e.course_id,scriptId:e.script?e.script.id:e.script_id||null,hidden:e.hidden,isAssigned:e.isAssigned}};t.sectionFromServerSection=de;var pe=function(e,t){return{sectionId:t,id:e.id,name:e.name,sharingDisabled:e.sharing_disabled}};function he(e){return A({},e,{login_type:e.loginType,stage_extras:e.stageExtras,pairing_allowed:e.pairingAllowed,sharing_disabled:e.sharingDisabled,course_id:e.courseId,script:e.scriptId?{id:e.scriptId}:void 0})}t.studentFromServerStudent=pe;var ge=function(e,t){var o=[];if(t.courseId){var n=se(t.courseId,null);e[n]&&o.push(e[n])}if(t.scriptId){var r=se(null,t.scriptId);e[r]&&o.push(e[r])}return o},fe=function(e,t){return ge(e,t).map(function(e){return e?e.name:""})};t.assignmentNames=fe;var me=function(e,t){return ge(e,t).map(function(e){return e?e.path:""})};t.assignmentPaths=me;function ye(e){return!!(e.sectionBeingEdited&&e.sectionBeingEdited.id<0)}t.stageExtrasAvailable=function(e,t){return-1<e.teacherSections.stageExtrasScriptIds.indexOf(t)}},57:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lessonType=t.levelType=void 0;var n,r=(n=o(0))&&n.__esModule?n:{default:n};var i=r.default.shape({status:r.default.string.isRequired,url:r.default.string,name:r.default.string,icon:r.default.string,isUnplugged:r.default.bool,levelNumber:r.default.number,isCurrentLevel:r.default.bool,isConceptLevel:r.default.bool});t.levelType=i;var a=r.default.shape({name:r.default.string.isRequired,id:r.default.number.isRequired,lockable:r.default.bool.isRequired,stageNumber:r.default.number,lesson_plan_html_url:r.default.string,isFocusArea:r.default.bool.isRequired,description_student:r.default.string,description_teacher:r.default.string});t.lessonType=a},59:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:i.Student,t=1<arguments.length?arguments[1]:void 0;if(t.type!==a)return e;var o=t.viewType;if(i[o])return t.viewType;throw new Error("unknown ViewType: "+o)},t.changeViewType=t.setViewType=t.SET_VIEW_TYPE=t.ViewType=void 0;var n=o(11),r=o(96),i=(0,n.makeEnum)("Student","Teacher");t.ViewType=i;var a="viewAs/SET_VIEW_TYPE";t.SET_VIEW_TYPE=a;var s=function(e){return{type:a,viewType:e}};t.setViewType=s;t.changeViewType=function(t){return function(e){if(t===i.Student&&(0,r.queryParams)("user_id"))return(0,r.updateQueryParam)("user_id",void 0),void(0,n.reload)();e(s(t))}}},595:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],t=1<arguments.length?arguments[1]:void 0;return t.type!==a?e:e.concat({notice:t.notice,details:t.details,link:t.link,type:t.announcementType,visibility:t.visibilityType})},t.announcementShape=t.VisibilityType=t.addAnnouncement=void 0;var n,r=(n=o(0))&&n.__esModule?n:{default:n},i=o(179);var a="scriptAnnouncements/ADD_ANNOUNCEMENT";t.addAnnouncement=function(e,t,o,n,r){return{type:a,notice:e,details:t,link:o,announcementType:n,visibilityType:r}};var s={teacher:"Teacher-only",student:"Student-only",teacherAndStudent:"Teacher and student"};t.VisibilityType=s;var l=r.default.shape({notice:r.default.string.isRequired,details:r.default.string.isRequired,link:r.default.string.isRequired,type:r.default.oneOf(Object.values(i.NotificationType)).isRequired,visibility:r.default.oneOf(Object.values(s))});t.announcementShape=l},596:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"getStore",{enumerable:!0,get:function(){return n.getStore}});var n=o(46),r=_(o(536)),i=_(o(95)),a=_(o(56)),s=_(o(136)),l=_(o(59)),c=_(o(328)),u=_(o(709)),d=_(o(147)),p=_(o(710)),h=_(o(600)),g=_(o(322)),f=_(o(630)),m=_(o(348)),y=_(o(309));function _(e){return e&&e.__esModule?e:{default:e}}(0,n.registerReducers)({header:r.default,progress:i.default,teacherSections:a.default,stageLock:s.default,viewAs:l.default,shareDialog:c.default,exportDialog:u.default,hiddenStage:d.default,isRtl:p.default,responsive:h.default,publishDialog:g.default,projects:f.default,verifiedTeacher:m.default,currentUser:y.default})},597:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(e=e||p,t.type===s)return r.default.assign({},e,{isRunning:t.isRunning,isDebuggerPaused:!1!==t.isRunning&&e.isDebuggerPaused,isDebuggingSprites:!1!==t.isRunning&&e.isDebuggingSprites});if(t.type===l)return r.default.assign({},e,{isRunning:!!t.isDebuggerPaused||e.isRunning,isDebuggerPaused:t.isDebuggerPaused,nextStep:t.nextStep});if(t.type===c&&"number"==typeof t.stepSpeed)return r.default.assign({},e,{stepSpeed:t.stepSpeed});if(t.type===u&&e.awaitingContainedResponse!==t.awaitingContainedResponse)return i({},e,{awaitingContainedResponse:t.awaitingContainedResponse});if(t.type===d&&e.isRunning)return i({},e,{isDebuggingSprites:t.isDebuggingSprites});return e},t.setIsDebuggingSprites=t.setAwaitingContainedResponse=t.setStepSpeed=t.setIsDebuggerPaused=t.setIsRunning=void 0;var n,r=(n=o(15))&&n.__esModule?n:{default:n};function i(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{},n=Object.keys(Object(o));"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(o).filter(function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable}))),n.forEach(function(e){a(t,e,o[e])})}return t}function a(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var s="runState/SET_IS_RUNNING",l="runState/SET_IS_DEBUGGER_PAUSED",c="runState/SET_STEP_SPEED",u="runState/SET_AWAITING_CONTAINED_RESPONSE",d="runState/SET_IS_DEBUGGING_SPRITES",p={isRunning:!1,isDebuggerPaused:!1,nextStep:null,stepSpeed:1,isDebuggingSprites:!1,awaitingContainedResponse:!1};t.setIsRunning=function(e){return{type:s,isRunning:e}};t.setIsDebuggerPaused=function(e,t){return{type:l,isDebuggerPaused:e,nextStep:t}};t.setStepSpeed=function(e){return{type:c,stepSpeed:e}};t.setAwaitingContainedResponse=function(e){return{type:u,awaitingContainedResponse:e}};t.setIsDebuggingSprites=function(e){return{type:d,isDebuggingSprites:e}}},599:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SmallAssessmentIcon=void 0;var n=s(o(1)),r=s(o(0)),i=s(o(6)),a=s(o(18));function s(e){return e&&e.__esModule?e:{default:e}}var l,c,u,d={iconContainer:{position:"absolute",top:-6,right:-6,fontSize:10},iconContainerDiamond:{position:"absolute",top:-14,right:2,fontSize:10,transform:"rotate(-45deg)"},assessmentIconBackground:{color:i.default.purple},assessmentIconBorder:{color:i.default.white},assessmentIconCheck:{color:i.default.white}},p=function(e){function t(){return e.apply(this,arguments)||this}return function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(t,e),t.prototype.render=function(){return n.default.createElement("span",{className:"fa-stack",style:this.props.isDiamond?d.iconContainerDiamond:d.iconContainer},n.default.createElement(a.default,{icon:"circle",className:"fa-stack-2x",style:d.assessmentIconBackground}),n.default.createElement(a.default,{icon:"circle-thin",className:"fa-stack-2x",style:d.assessmentIconBorder}),n.default.createElement(a.default,{icon:"check",className:"fa-stack-1x",style:d.assessmentIconCheck}))},t}(n.default.Component);t.SmallAssessmentIcon=p,l=p,c="propTypes",u={isDiamond:r.default.bool},c in l?Object.defineProperty(l,c,{value:u,enumerable:!0,configurable:!0,writable:!0}):l[c]=u},6:function(e,t){e.exports={black:"#000",dark_charcoal:"#4d575f",charcoal:"#5b6770",light_gray:"#949ca2",lighter_gray:"#c6cacd",lightest_gray:"#e7e8ea",background_gray:"#f2f2f2",dimgray:"#696969",white:"#fff",default_blue:"#3670b3",dark_teal:"#0094a3",teal:"#00adbc",applab_button_teal:"#1abc9c",light_teal:"#59cad3",lightish_teal:"#80d6de",lighter_teal:"#a6e3e8",lightest_teal:"#d9f3f5",purple:"#7665a0",light_purple:"#a69bc1",lighter_purple:"#cfc9de",lightest_purple:"#ebe8f1",cyan:"#0094ca",light_cyan:"#59b9dc",lighter_cyan:"#a6daed",lightest_cyan:"#d9eff7",almost_white_cyan:"#f5fcff",orange:"#ffa400",light_orange:"#ffc459",lighter_orange:"#ffe0a6",lightest_orange:"#fff2d9",dark_orange:"#ff8600",green:"#b9bf15",light_green:"#d1d567",lighter_green:"#e7e9ad",lightest_green:"#f5f5dc",highlight_green:"#8afc9b",yellow:"#ffb81d",light_yellow:"#ffdb74",lighter_yellow:"#ffebb5",lightest_yellow:"#fff7df",goldenrod:"#daa520",header_text:"#fff",bkgnd_color:"#00adbc",inset_color:"#c6cacd",dark_color:"#7665a0",hdr_color:"#7665a0",red:"#c00",lightest_red:"#fcc",dark_red:"#d62911",realgreen:"#008000",realyellow:"#ff0",mustardyellow:"#efcd1c",twitter_blue:"#00aced",facebook_blue:"#3b5998",google_red:"#a5201a",microsoft_blue:"#2a5cb2",dark_blue:"#00647f",blockly_flyout_gray:"#ddd",default_text:"#333",border_gray:"#bbb",border_light_gray:"#d8d8d8",table_header:"#ececec",table_light_row:"#fcfcfc",table_dark_row:"#f4f4f4",level_submitted:"#7665a0",level_perfect:"rgb(14, 190, 14)",level_passed:"rgb(159, 212, 159)",level_attempted:"#ff0",level_not_tried:"#fefefe",level_current:"#ffa400",level_review_rejected:"#c00",level_review_accepted:"rgb(11, 142, 11)",assessment:"#0094ca",link_color:"#0596CE",shadow:"rgba(0, 0, 0, 0.3)",bootstrap_button_blue:"#337ab7",bootstrap_button_red:"#d9534f",bootstrap_error_background:"#f2dede",bootstrap_error_text:"#b94a48",bootstrap_error_border:"#ebccd1",bootstrap_warning_background:"#fcf8e3",bootstrap_warning_text:"#c09853",bootstrap_warning_border:"#faebcc",droplet_light_green:"#d3e965",droplet_blue:"#64b5f6",droplet_bright_blue:"#19c3e1",droplet_yellow:"#fff176",droplet_orange:"#ffb74d",droplet_red:"#f78183",droplet_cyan:"#4dd0e1",droplet_pink:"#f57ac6",droplet_purple:"#bb77c7",droplet_green:"#68d995",droplet_white:"#fff"}},60:function(e,t){!function(e){"use strict";if(!e.fetch){var t="URLSearchParams"in e,o="Symbol"in e&&"iterator"in Symbol,a="FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),n="FormData"in e,r="ArrayBuffer"in e;if(r)var i=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],s=function(e){return e&&DataView.prototype.isPrototypeOf(e)},l=ArrayBuffer.isView||function(e){return e&&-1<i.indexOf(Object.prototype.toString.call(e))};g.prototype.append=function(e,t){e=d(e),t=p(t);var o=this.map[e];this.map[e]=o?o+","+t:t},g.prototype.delete=function(e){delete this.map[d(e)]},g.prototype.get=function(e){return e=d(e),this.has(e)?this.map[e]:null},g.prototype.has=function(e){return this.map.hasOwnProperty(d(e))},g.prototype.set=function(e,t){this.map[d(e)]=p(t)},g.prototype.forEach=function(e,t){for(var o in this.map)this.map.hasOwnProperty(o)&&e.call(t,this.map[o],o,this)},g.prototype.keys=function(){var o=[];return this.forEach(function(e,t){o.push(t)}),h(o)},g.prototype.values=function(){var t=[];return this.forEach(function(e){t.push(e)}),h(t)},g.prototype.entries=function(){var o=[];return this.forEach(function(e,t){o.push([t,e])}),h(o)},o&&(g.prototype[Symbol.iterator]=g.prototype.entries);var c=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];b.prototype.clone=function(){return new b(this,{body:this._bodyInit})},v.call(b.prototype),v.call(T.prototype),T.prototype.clone=function(){return new T(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new g(this.headers),url:this.url})},T.error=function(){var e=new T(null,{status:0,statusText:""});return e.type="error",e};var u=[301,302,303,307,308];T.redirect=function(e,t){if(-1===u.indexOf(t))throw new RangeError("Invalid status code");return new T(null,{status:t,headers:{location:e}})},e.Headers=g,e.Request=b,e.Response=T,e.fetch=function(r,i){return new Promise(function(o,e){var t=new b(r,i),n=new XMLHttpRequest;n.onload=function(){var e={status:n.status,statusText:n.statusText,headers:function(e){var r=new g;return e.split(/\r?\n/).forEach(function(e){var t=e.split(":"),o=t.shift().trim();if(o){var n=t.join(":").trim();r.append(o,n)}}),r}(n.getAllResponseHeaders()||"")};e.url="responseURL"in n?n.responseURL:e.headers.get("X-Request-URL");var t="response"in n?n.response:n.responseText;o(new T(t,e))},n.onerror=function(){e(new TypeError("Network request failed"))},n.ontimeout=function(){e(new TypeError("Network request failed"))},n.open(t.method,t.url,!0),"include"===t.credentials&&(n.withCredentials=!0),"responseType"in n&&a&&(n.responseType="blob"),t.headers.forEach(function(e,t){n.setRequestHeader(t,e)}),n.send(void 0===t._bodyInit?null:t._bodyInit)})},e.fetch.polyfill=!0}function d(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function p(e){return"string"!=typeof e&&(e=String(e)),e}function h(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return o&&(e[Symbol.iterator]=function(){return e}),e}function g(t){this.map={},t instanceof g?t.forEach(function(e,t){this.append(t,e)},this):Array.isArray(t)?t.forEach(function(e){this.append(e[0],e[1])},this):t&&Object.getOwnPropertyNames(t).forEach(function(e){this.append(e,t[e])},this)}function f(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function m(o){return new Promise(function(e,t){o.onload=function(){e(o.result)},o.onerror=function(){t(o.error)}})}function y(e){var t=new FileReader,o=m(t);return t.readAsArrayBuffer(e),o}function _(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function v(){return this.bodyUsed=!1,this._initBody=function(e){if(this._bodyInit=e)if("string"==typeof e)this._bodyText=e;else if(a&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(n&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(t&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else if(r&&a&&s(e))this._bodyArrayBuffer=_(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!r||!ArrayBuffer.prototype.isPrototypeOf(e)&&!l(e))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=_(e)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):t&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},a&&(this.blob=function(){var e=f(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?f(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(y)}),this.text=function(){var e=f(this);if(e)return e;if(this._bodyBlob)return function(e){var t=new FileReader,o=m(t);return t.readAsText(e),o}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),o=new Array(t.length),n=0;n<t.length;n++)o[n]=String.fromCharCode(t[n]);return o.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},n&&(this.formData=function(){return this.text().then(E)}),this.json=function(){return this.text().then(JSON.parse)},this}function b(e,t){var o=(t=t||{}).body;if(e instanceof b){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new g(e.headers)),this.method=e.method,this.mode=e.mode,o||null==e._bodyInit||(o=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"omit",!t.headers&&this.headers||(this.headers=new g(t.headers)),this.method=function(e){var t=e.toUpperCase();return-1<c.indexOf(t)?t:e}(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&o)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(o)}function E(e){var r=new FormData;return e.trim().split("&").forEach(function(e){if(e){var t=e.split("="),o=t.shift().replace(/\+/g," "),n=t.join("=").replace(/\+/g," ");r.append(decodeURIComponent(o),decodeURIComponent(n))}}),r}function T(e,t){t||(t={}),this.type="default",this.status="status"in t?t.status:200,this.ok=200<=this.status&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new g(t.headers),this.url=t.url||"",this._initBody(e)}}("undefined"!=typeof self?self:this)},600:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getResponsiveBreakpoint=l,t.default=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:c,t=1<arguments.length?arguments[1]:void 0;return t.type!==i||e.responsiveSize===t.responsiveSize?e:function(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{},n=Object.keys(Object(o));"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(o).filter(function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable}))),n.forEach(function(e){r(t,e,o[e])})}return t}({},e,{responsiveSize:t.responsiveSize})},t.ResponsiveSize=t.setResponsiveSize=void 0;var n=o(11);function r(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var i="responsive/SET_RESPONSIVE_SIZE";t.setResponsiveSize=function(e){return{type:i,responsiveSize:e}};var a=(0,n.makeEnum)("lg","md","sm","xs"),s=[{breakpoint:992,responsiveSize:(t.ResponsiveSize=a).lg},{breakpoint:720,responsiveSize:a.md},{breakpoint:650,responsiveSize:a.sm},{breakpoint:0,responsiveSize:a.xs}];function l(t){return s.find(function(e){return e.breakpoint<t}).responsiveSize}var c={responsiveSize:l(window.innerWidth)}},604:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mergeActivityResult=t.activityCssClass=void 0;var n=o(37),r=o(61);t.activityCssClass=function(e){return e?e===n.TestResults.REVIEW_ACCEPTED_RESULT?r.LevelStatus.review_accepted:e===n.TestResults.REVIEW_REJECTED_RESULT?r.LevelStatus.review_rejected:e===n.TestResults.SUBMITTED_RESULT?r.LevelStatus.submitted:e===n.TestResults.LOCKED_RESULT?r.LevelStatus.locked:e===n.TestResults.READONLY_SUBMISSION_RESULT?r.LevelStatus.readonly:e===n.TestResults.FREE_PLAY?r.LevelStatus.free_play_complete:e>=n.TestResults.MINIMUM_OPTIMAL_RESULT?r.LevelStatus.perfect:e>=n.TestResults.MINIMUM_PASS_RESULT?r.LevelStatus.passed:r.LevelStatus.attempted:r.LevelStatus.not_tried};t.mergeActivityResult=function(e,t){return t=t||0,0===(e=e||0)?t:0===t?e:Math.max(e,t)}},605:function(e,t,o){"use strict";function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(o(0)),i=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var t=c();if(t&&t.has(e))return t.get(e);var o={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(o,r,i):o[r]=e[r]}o.default=e,t&&t.set(e,o);return o}(o(1)),s=r(o(123)),l=r(o(18));function c(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return c=function(){return e},e}function r(e){return e&&e.__esModule?e:{default:e}}var u,d,p,h={tooltip:{lineHeight:o(211).DOT_SIZE+"px"},tooltipIcon:{paddingRight:5,paddingLeft:5},tooltipAssessmentIcon:{paddingLeft:5}},g=function(e){function t(){return e.apply(this,arguments)||this}return function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(t,e),t.prototype.render=function(){var e=this.props,t=e.tooltipId,o=e.icon,n=e.text,r=e.includeAssessmentIcon;return i.default.createElement(s.default,{id:t,role:"tooltip",wrapper:"span",effect:"solid"},i.default.createElement("div",{style:h.tooltip},r&&i.default.createElement(l.default,{icon:"check-circle",style:h.tooltipAssessmentIcon}),i.default.createElement(l.default,{icon:o,style:h.tooltipIcon}),n))},t}(i.Component);t.default=g,u=g,d="propTypes",p={tooltipId:n.default.string.isRequired,icon:n.default.string.isRequired,text:n.default.string.isRequired,includeAssessmentIcon:n.default.bool},d in u?Object.defineProperty(u,d,{value:p,enumerable:!0,configurable:!0,writable:!0}):u[d]=p,e.exports=t.default},606:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var g=s(o(1)),n=s(o(0)),r=s(o(14)),f=s(o(18)),i=s(o(6)),a=o(57),m=o(211),y=o(11),_=o(128),v=o(599);function s(e){return e&&e.__esModule?e:{default:e}}function b(){return(b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e}).apply(this,arguments)}function E(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{},n=Object.keys(Object(o));"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(o).filter(function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable}))),n.forEach(function(e){l(t,e,o[e])})}return t}function l(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var T={levelPill:{textAlign:"center",justifyContent:"center",borderWidth:2,borderStyle:"solid",borderColor:i.default.lighter_gray,color:i.default.charcoal,display:"flex",fontSize:16,fontFamily:'"Gotham 5r", sans-serif',borderRadius:20,paddingLeft:10,paddingRight:10,paddingTop:6,paddingBottom:6,minWidth:70,lineHeight:"18px",marginTop:3,marginBottom:3,position:"relative"},text:{display:"inline-block",fontFamily:'"Gotham 5r", sans-serif',fontSize:14,letterSpacing:-.12},iconMargin:{marginLeft:10}},c=function(e){function t(){return e.apply(this,arguments)||this}return function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(t,e),t.prototype.render=function(){var e=this.props,t=e.levels,o=e.icon,n=e.text,r=e.fontSize,i=e.tooltip,a=e.disabled,s=e.selectedSectionId,l=1<t.length,c=l||a?void 0:t[0].url;c&&s&&(c+=(0,y.stringifyQueryParams)({section_id:s}));var u=E({},T.levelPill,c&&m.hoverStyle,!l&&(0,m.levelProgressStyle)(t[0],!1)),d={};if(i){var p=i.props.tooltipId;d["data-tip"]=!0,d["data-for"]=p,d["aria-describedby"]=p}var h=(0,_.isLevelAssessment)(t[0])&&1===t.length;return g.default.createElement("a",{href:c,style:{textDecoration:"none"},className:"uitest-ProgressPill"},g.default.createElement("div",b({},d,{style:u}),o&&g.default.createElement(f.default,{icon:o}),n&&g.default.createElement("div",{style:E({},T.text,{fontSize:r},o&&T.iconMargin)},n),i,h&&g.default.createElement(v.SmallAssessmentIcon,null)))},t}(g.default.Component);l(c,"propTypes",{levels:n.default.arrayOf(a.levelType),icon:n.default.string,text:n.default.string,fontSize:n.default.number,tooltip:n.default.element,disabled:n.default.bool,selectedSectionId:n.default.string});var u=(0,r.default)(c);t.default=u,e.exports=t.default},607:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.onDismissRedirectDialog=t.onDismissRedirectWarning=t.onDismissRedirect=t.dismissedRedirectDialog=t.dismissedRedirectWarning=t.dismissedRedirect=void 0;var n="dismissedRedirectWarnings",r="dismissedRedirectDialogs",i=function(e,t){return(sessionStorage.getItem(e)||"").split(",").includes(t)};t.dismissedRedirect=i;t.dismissedRedirectWarning=function(e){return i(n,e)};t.dismissedRedirectDialog=function(e){return i(r,e)};var a=function(e,t){var o=sessionStorage.getItem(e);o?o+=",".concat(t):o=t,sessionStorage.setItem(e,o)};t.onDismissRedirect=a;t.onDismissRedirectWarning=function(e){return a(n,e)};t.onDismissRedirectDialog=function(e){return a(r,e)}},608:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(1566);Object.defineProperty(t,"Provider",{enumerable:!0,get:function(){return p(n).default}});var r=o(1567);Object.defineProperty(t,"Header",{enumerable:!0,get:function(){return p(r).default}});var i=o(1569);Object.defineProperty(t,"Body",{enumerable:!0,get:function(){return p(i).default}});var a=o(907);Object.defineProperty(t,"BodyRow",{enumerable:!0,get:function(){return p(a).default}});var s=o(698);Object.defineProperty(t,"evaluateFormatters",{enumerable:!0,get:function(){return p(s).default}});var l=o(699);Object.defineProperty(t,"evaluateTransforms",{enumerable:!0,get:function(){return p(l).default}});var c=o(520);Object.defineProperty(t,"mergeProps",{enumerable:!0,get:function(){return p(c).default}});var u=o(908);Object.defineProperty(t,"columnsAreEqual",{enumerable:!0,get:function(){return p(u).default}});var d=o(909);function p(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"resolveRowKey",{enumerable:!0,get:function(){return p(d).default}})},61:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ErrorSeverityLevels=t.AbuseConstants=t.AllowedWebRequestHeaders=t.ConditionallyPublishableProjectTypes=t.AllPublishableProjectTypes=t.AlwaysPublishableProjectTypes=t.PostMilestoneMode=t.SectionLoginType=t.LevelStatus=t.LevelKind=t.ArtistAutorunOptions=void 0;t.ArtistAutorunOptions={limited_auto_run:"LIMITED_AUTO_RUN",full_auto_run:"FULL_AUTO_RUN"};t.LevelKind={peer_review:"peer_review",assessment:"assessment",puzzle:"puzzle",unplugged:"unplugged",level:"level",stage_extras:"stage_extras"};t.LevelStatus={not_tried:"not_tried",submitted:"submitted",locked:"locked",readonly:"readonly",perfect:"perfect",passed:"passed",attempted:"attempted",review_accepted:"review_accepted",review_rejected:"review_rejected",dots_disabled:"dots_disabled",free_play_complete:"free_play_complete",completed_assessment:"completed_assessment"};t.SectionLoginType={word:"word",picture:"picture",email:"email",google_classroom:"google_classroom",clever:"clever"};t.PostMilestoneMode={all:"all",successful_runs_and_final_level_only:"successful_runs_and_final_level_only",final_level_only:"final_level_only"};t.AlwaysPublishableProjectTypes=["artist","frozen","playlab","gumball","iceage","infinity","minecraft_adventurer","minecraft_designer","minecraft_hero","minecraft_aquatic","starwars","starwarsblocks","starwarsblocks_hour","flappy","bounce","sports","basketball","artist_k1","playlab_k1","dance","spritelab"];t.AllPublishableProjectTypes=["artist","frozen","playlab","gumball","iceage","infinity","minecraft_adventurer","minecraft_designer","minecraft_hero","minecraft_aquatic","starwars","starwarsblocks","starwarsblocks_hour","flappy","bounce","sports","basketball","artist_k1","playlab_k1","dance","spritelab","applab","gamelab"];t.ConditionallyPublishableProjectTypes=["applab","gamelab"];t.AllowedWebRequestHeaders=["Authorization"];t.AbuseConstants={ABUSE_THRESHOLD:15};t.ErrorSeverityLevels={WARN:2,ERROR:3,FATAL:4}},612:function(e,l){l.serialize=function(e){return(new XMLSerializer).serializeToString(e)},l.parseElement=function(e){var t=new DOMParser,o=0===(e=e.trim()).indexOf("<xml")?t.parseFromString(e,"text/xml"):t.parseFromString("<xml>"+e+"</xml>","text/xml"),n=o.getElementsByTagName("parsererror"),r=o.firstChild;if(!r)throw new Error("Nothing parsed");if(0<n.length)throw new Error(l.serialize(n[0]));if(r!==o.lastChild)throw new Error("Parsed multiple elements");return r},l.visitAll=function(e,t){t(e);var o=!0,n=!1,r=void 0;try{for(var i,a=e.childNodes[Symbol.iterator]();!(o=(i=a.next()).done);o=!0){var s=i.value;l.visitAll(s,t)}}catch(e){n=!0,r=e}finally{try{o||null==a.return||a.return()}finally{if(n)throw r}}}},613:function(e,t,o){"use strict";function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.Heading3=t.h3Style=t.Heading2=t.h2Style=t.Heading1=t.h1Style=void 0;var n=i(o(0)),r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var o={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(o,r,i):o[r]=e[r]}o.default=e,t&&t.set(e,o);return o}(o(1));function s(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function i(e){return e&&e.__esModule?e:{default:e}}function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e}).apply(this,arguments)}function c(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}function u(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{},n=Object.keys(Object(o));"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(o).filter(function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable}))),n.forEach(function(e){d(t,e,o[e])})}return t}function d(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var p={display:"block",fontFamily:'"Gotham 5r", sans-serif',fontWeight:"normal",margin:"10px 0",color:i(o(6)).default.dark_charcoal},h=u({},p,{fontFamily:'"Gotham 7r", sans-serif',fontSize:32,lineHeight:"48px"});t.h1Style=h;var g=function(e){function t(){return e.apply(this,arguments)||this}return c(t,e),t.prototype.render=function(){return r.default.createElement("h1",l({},this.props,{style:u({},h,this.props.style)}))},t}(r.Component);d(t.Heading1=g,"propTypes",{style:n.default.object});var f=u({},p,{fontFamily:'"Gotham 4r", sans-serif',fontSize:24,lineHeight:"48px"});t.h2Style=f;var m=function(e){function t(){return e.apply(this,arguments)||this}return c(t,e),t.prototype.render=function(){return r.default.createElement("h2",l({},this.props,{style:u({},f,this.props.style)}))},t}(r.Component);d(t.Heading2=m,"propTypes",{style:n.default.object});var y=u({},p,{fontFamily:'"Gotham 5r", sans-serif',fontSize:16,lineHeight:"24px"});t.h3Style=y;var _=function(e){function t(){return e.apply(this,arguments)||this}return c(t,e),t.prototype.render=function(){return r.default.createElement("h3",l({},this.props,{style:u({},y,this.props.style)}))},t}(r.Component);d(t.Heading3=_,"propTypes",{style:n.default.object})},614:function(e,t,o){"use strict";t.__esModule=!0,t.default=void 0;var i=o(1),n=a(o(334)),r=a(o(335));a(o(336));function a(e){return e&&e.__esModule?e:{default:e}}var s=function(n){function r(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,n.call(this,e,t));return o.store=e.store,o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(r,n),r.prototype.getChildContext=function(){return{store:this.store}},r.prototype.render=function(){return i.Children.only(this.props.children)},r}(i.Component);(t.default=s).propTypes={store:r.default.isRequired,children:n.default.element.isRequired},s.childContextTypes={store:r.default.isRequired}},615:function(e,t,o){"use strict";var s=o(616);function n(){}function r(){}r.resetWarningCache=n,e.exports=function(){function e(e,t,o,n,r,i){if(i!==s){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}var o={array:e.isRequired=e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:r,resetWarningCache:n};return o.PropTypes=o}},616:function(e,t,o){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},617:function(e,t,o){"use strict";t.__esModule=!0;var m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e};t.default=function(e,t,o){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{},s=Boolean(e),l=e||c,u=void 0;u="function"==typeof t?t:t?(0,a.default)(t):T;var d=o||S,r=n.pure,p=void 0===r||r,i=n.withRef,h=void 0!==i&&i,g=p&&d!==S,f=C++;return function(c){var a="Connect("+function(e){return e.displayName||e.name||"Component"}(c)+")";var e=function(r){function i(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);var o=function(e,t){if(e)return!t||"object"!=typeof t&&"function"!=typeof t?e:t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(this,r.call(this,e,t));o.version=f,o.store=e.store||t.store,(0,E.default)(o.store,'Could not find "store" in either the context or props of "'+a+'". Either wrap the root component in a <Provider>, or explicitly pass "store" as a prop to "'+a+'".');var n=o.store.getState();return o.state={storeState:n},o.clearCache(),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(i,r),i.prototype.shouldComponentUpdate=function(){return!p||this.haveOwnPropsChanged||this.hasStoreStateChanged},i.prototype.computeStateProps=function(e,t){if(!this.finalMapStateToProps)return this.configureFinalMapState(e,t);var o=e.getState(),n=this.doStatePropsDependOnOwnProps?this.finalMapStateToProps(o,t):this.finalMapStateToProps(o);return n},i.prototype.configureFinalMapState=function(e,t){var o=l(e.getState(),t),n="function"==typeof o;return this.finalMapStateToProps=n?o:l,this.doStatePropsDependOnOwnProps=1!==this.finalMapStateToProps.length,n?this.computeStateProps(e,t):o},i.prototype.computeDispatchProps=function(e,t){if(!this.finalMapDispatchToProps)return this.configureFinalMapDispatch(e,t);var o=e.dispatch,n=this.doDispatchPropsDependOnOwnProps?this.finalMapDispatchToProps(o,t):this.finalMapDispatchToProps(o);return n},i.prototype.configureFinalMapDispatch=function(e,t){var o=u(e.dispatch,t),n="function"==typeof o;return this.finalMapDispatchToProps=n?o:u,this.doDispatchPropsDependOnOwnProps=1!==this.finalMapDispatchToProps.length,n?this.computeDispatchProps(e,t):o},i.prototype.updateStatePropsIfNeeded=function(){var e=this.computeStateProps(this.store,this.props);return(!this.stateProps||!(0,v.default)(e,this.stateProps))&&(this.stateProps=e,!0)},i.prototype.updateDispatchPropsIfNeeded=function(){var e=this.computeDispatchProps(this.store,this.props);return(!this.dispatchProps||!(0,v.default)(e,this.dispatchProps))&&(this.dispatchProps=e,!0)},i.prototype.updateMergedPropsIfNeeded=function(){var e=function(e,t,o){0;return d(e,t,o)}(this.stateProps,this.dispatchProps,this.props);return!(this.mergedProps&&g&&(0,v.default)(e,this.mergedProps))&&(this.mergedProps=e,!0)},i.prototype.isSubscribed=function(){return"function"==typeof this.unsubscribe},i.prototype.trySubscribe=function(){s&&!this.unsubscribe&&(this.unsubscribe=this.store.subscribe(this.handleChange.bind(this)),this.handleChange())},i.prototype.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null)},i.prototype.componentDidMount=function(){this.trySubscribe()},i.prototype.componentWillReceiveProps=function(e){p&&(0,v.default)(e,this.props)||(this.haveOwnPropsChanged=!0)},i.prototype.componentWillUnmount=function(){this.tryUnsubscribe(),this.clearCache()},i.prototype.clearCache=function(){this.dispatchProps=null,this.stateProps=null,this.mergedProps=null,this.haveOwnPropsChanged=!0,this.hasStoreStateChanged=!0,this.haveStatePropsBeenPrecalculated=!1,this.statePropsPrecalculationError=null,this.renderedElement=null,this.finalMapDispatchToProps=null,this.finalMapStateToProps=null},i.prototype.handleChange=function(){if(this.unsubscribe){var e=this.store.getState(),t=this.state.storeState;if(!p||t!==e){if(p&&!this.doStatePropsDependOnOwnProps){var o=function(e,t){try{return e.apply(t)}catch(e){return k.value=e,k}}(this.updateStatePropsIfNeeded,this);if(!o)return;o===k&&(this.statePropsPrecalculationError=k.value),this.haveStatePropsBeenPrecalculated=!0}this.hasStoreStateChanged=!0,this.setState({storeState:e})}}},i.prototype.getWrappedInstance=function(){return(0,E.default)(h,"To access the wrapped instance, you need to specify { withRef: true } as the fourth argument of the connect() call."),this.refs.wrappedInstance},i.prototype.render=function(){var e=this.haveOwnPropsChanged,t=this.hasStoreStateChanged,o=this.haveStatePropsBeenPrecalculated,n=this.statePropsPrecalculationError,r=this.renderedElement;if(this.haveOwnPropsChanged=!1,this.hasStoreStateChanged=!1,this.haveStatePropsBeenPrecalculated=!1,this.statePropsPrecalculationError=null,n)throw n;var i=!0,a=!0;p&&r&&(i=t||e&&this.doStatePropsDependOnOwnProps,a=e&&this.doDispatchPropsDependOnOwnProps);var s=!1,l=!1;o?s=!0:i&&(s=this.updateStatePropsIfNeeded()),a&&(l=this.updateDispatchPropsIfNeeded());return!(!!(s||l||e)&&this.updateMergedPropsIfNeeded())&&r?r:(this.renderedElement=h?(0,y.createElement)(c,m({},this.mergedProps,{ref:"wrappedInstance"})):(0,y.createElement)(c,this.mergedProps),this.renderedElement)},i}(y.Component);return e.displayName=a,e.WrappedComponent=c,e.contextTypes={store:_.default},e.propTypes={store:_.default},(0,b.default)(e,c)}};var y=o(1),_=n(o(335)),v=n(o(618)),a=n(o(619)),b=(n(o(336)),n(o(1051)),n(o(620))),E=n(o(621));function n(e){return e&&e.__esModule?e:{default:e}}var c=function(e){return{}},T=function(e){return{dispatch:e}},S=function(e,t,o){return m({},o,e,t)};var k={value:null};var C=0},618:function(e,t,o){"use strict";t.__esModule=!0,t.default=function(e,t){if(e===t)return!0;var o=Object.keys(e),n=Object.keys(t);if(o.length!==n.length)return!1;for(var r=Object.prototype.hasOwnProperty,i=0;i<o.length;i++)if(!r.call(t,o[i])||e[o[i]]!==t[o[i]])return!1;return!0}},619:function(e,t,o){"use strict";t.__esModule=!0,t.default=function(t){return function(e){return(0,n.bindActionCreators)(t,e)}};var n=o(198)},62:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=o(11),s=o(46);function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var o=[],n=!0,r=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(o.push(a.value),!t||o.length!==t);n=!0);}catch(e){r=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(r)throw i}}return o}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var i,a="analysis-events",l=function(){function e(e,t){this.firehose=function(e,t){var n=["AKIAJAAMBYM6USYT454Q","xNN9Ny2am9xuKyW9S+NvAw3ghhthrk7knQYTwmMH","us-east-1","config"];!function(t,e){!function(e){for(;--e;)t.push(t.shift())}(++e)}(n,295);var o=function(e,t){var o=n[e-=0];return o};return e[o("0x0")]=new e.Config({accessKeyId:o("0x1"),secretAccessKey:o("0x2"),region:o("0x3")}),new t({apiVersion:"2015-08-04",correctClockSkew:!0})}(e,t)}var t=e.prototype;return t.getEnvironment=function(){var e=window.location.hostname;return e.includes("adhoc")?"adhoc":e.includes("test")?"test":e.includes("levelbuilder")?"levelbuilder":e.includes("staging")?"staging":e.includes("localhost")?"development":e.includes("code.org")?"production":"unknown"},t.isTestEnvironment=function(){return"test"===this.getEnvironment()},t.isDevelopmentEnvironment=function(){return"development"===this.getEnvironment()},t.shouldPutRecord=function(e){return!!e||!this.isTestEnvironment()&&!this.isDevelopmentEnvironment()},t.getAnalyticsUuid=function(){var e=(0,n.tryGetLocalStorage)("analyticsID",null);return e||(e=(0,n.createUuid)()),(0,n.trySetLocalStorage)("analyticsID",e),e},t.getDeviceInfo=function(){return{user_agent:window.navigator.userAgent,window_width:window.innerWidth,window_height:window.innerHeight,hostname:window.location.hostname,full_path:window.location.href}},t.getLocale=function(){if(window.appOptions)return window.appOptions.locale},t.addCommonValues=function(e,t,o){e.created_at=(new Date).toISOString(),e.environment=this.getEnvironment(),e.uuid=this.getAnalyticsUuid(),e.device=JSON.stringify(this.getDeviceInfo()),e.locale=this.getLocale();var n=(0,s.getStore)().getState();if(n){if(t){var r=n.pageConstants,i=n.currentUser.userId;r?e.user_id=r.userId:i&&(e.user_id=i)}var a=n.progress;a&&o&&(e.script_id=a.scriptId,e.level_id=parseInt(a.currentLevelId))}return e},t.handleError=function(e,t){$.ajax({url:"/api/firehose_unreachable",data:JSON.stringify({original_data:e,error_text:String(t)}),contentType:"application/json; charset=utf-8",method:"PUT",dataType:"json"})},t.putRecord=function(e){var o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{alwaysPut:!1,includeUserId:!1,callback:null,useProgressScriptId:!0};e=this.addCommonValues(e,o.includeUserId,o.useProgressScriptId);var n=this.handleError.bind(this,e);if(!this.shouldPutRecord(o.alwaysPut))return console.groupCollapsed("Skipped sending record to "+a),console.log(e),console.groupEnd(),void(o.callback&&o.callback(null,e));this.firehose.putRecord({DeliveryStreamName:a,Record:{Data:JSON.stringify(e)}},function(e,t){o.callback?o.callback(e,t):e&&n(e)})},t.putRecordBatch=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{alwaysPut:!1,includeUserId:!1,useProgressScriptId:!0};if(e.map(function(e){return this.AddCommonValues(e,t.includeUserId,t.useProgressScriptId)}),!this.shouldPutRecord(t.alwaysPut))return console.groupCollapsed("Skipped sending record batch to "+a),e.map(function(e){console.log(e)}),void console.groupEnd();var o=e.map(function(e){return{Data:JSON.stringify(e)}});this.firehose.putRecordBatch({DeliveryStreamName:a,Records:o},function(e,t){})},e}();function c(){return i||(i=Promise.all([o.e(4).then(o.t.bind(null,1628,7)),Promise.all([o.e(4),o.e(9)]).then(o.t.bind(null,1632,7)),o.e(4).then(o.t.bind(null,1630,7))]).then(function(e){var t=r(e,2),o=t[0].default,n=t[1].default;return new Promise(function(e){return e(new l(o,n))})}).catch(function(){i=null})),i}var u={putRecord:function(t,o){c().then(function(e){return e.putRecord(t,o)})},putRecordBatch:function(t,o){c().then(function(e){return e.putRecordBatch(t,o)})}};t.default=u,e.exports=t.default},620:function(e,t,o){"use strict";var n=o(331),r={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},d={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},i={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},a={};function p(e){return n.isMemo(e)?i:a[e.$$typeof]||r}a[n.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0};var h=Object.defineProperty,g=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,m=Object.getOwnPropertyDescriptor,y=Object.getPrototypeOf,_=Object.prototype;e.exports=function e(t,o,n){if("string"==typeof o)return t;if(_){var r=y(o);r&&r!==_&&e(t,r,n)}var i=g(o);f&&(i=i.concat(f(o)));for(var a=p(t),s=p(o),l=0;l<i.length;++l){var c=i[l];if(!(d[c]||n&&n[c]||s&&s[c]||a&&a[c])){var u=m(o,c);try{h(t,c,u)}catch(e){}}}return t}},621:function(e,t,o){"use strict";e.exports=function(e,t,o,n,r,i,a,s){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[o,n,r,i,a,s],u=0;(l=new Error(t.replace(/%s/g,function(){return c[u++]}))).name="Invariant Violation"}throw l.framesToPop=1,l}}},622:function(e,t,o){"use strict";var c=n(o(10)),u=n(o(656));function n(e){return e&&e.__esModule?e:{default:e}}var r=e.exports=function(e){this.isVisible=!0;var t=e.body,o=e.header,n=void 0===e.close||e.close,r=(0,c.default)('<div id="x-close"/>').addClass("x-close").attr("data-dismiss","modal");this.div=(0,c.default)('<div tabindex="-1"/>').addClass("modal"),e.width&&this.div.css({width:"".concat(e.width,"px"),marginLeft:"-".concat(e.width/2,"px")}),this.div.addClass("dash_modal"),e.id&&this.div.attr("id",e.id);var i,a=(0,c.default)("<div/>").addClass("modal-body");if(a.addClass("dash_modal_body"),o){var s=(0,c.default)("<div/>").addClass("modal-header").append(o);n&&s.append(r),this.div.append(s)}else n&&a.append(r);(a.append(t),this.div.append(a).appendTo((0,c.default)(document.body)),e.autoResizeScrollableElement)&&(this.div.addClass("auto-resize-scrollable"),this.div.find(e.autoResizeScrollableElement).css("overflow-y","auto"),i=(0,u.default)(function(){this.isVisible&&function(e){var t=(0,c.default)(window).height(),o=(0,c.default)(".auto-resize-scrollable").filter(":visible"),n=o.find(e);n.is("iframe")?n.css("height",""):n.css("max-height","");var r=o.offset().top+o.height()-(t-parseInt(o.css("padding-bottom"),10)-parseInt(o.css("margin-bottom"),10)),i=n.height()-r;n.css("max-height",i),n.is("iframe")?n.css("height",i):n.css("max-height",i)}(e.autoResizeScrollableElement)}.bind(this),250),this.div.find("img").load(i),(0,c.default)(window).on("resize",i),i());var l=this;(0,c.default)(this.div).on("hidden.bs.modal",function(){i&&(l.isVisible=!1,(0,c.default)(window).off("resize",i)),e.onKeydown&&(0,c.default)(this.div).off("keydown",e.onKeydown),e.onHidden&&e.onHidden(),e.redirect&&(window.location.href=e.redirect),(0,c.default)(this).remove()}),(0,c.default)(this.div).on("hide.bs.modal",function(e){this.hideOptions&&(this.processHideOptions(this.hideOptions),e.preventDefault(),this.hideOptions=null)}.bind(this)),e.onKeydown&&(0,c.default)(this.div).on("keydown",e.onKeydown)};r.prototype.show=function(e){e=e||{},(0,c.default)(this.div).modal({show:!0,backdrop:e.backdrop||!0}),this.isVisible=!0,e.hideOptions&&(this.hideOptions=e.hideOptions),this.div.offset(e)},r.prototype.hide=function(){(0,c.default)(this.div).modal("hide"),this.isVisible=!1},r.prototype.focus=function(){this.isVisible&&(0,c.default)(this.div).focus()},r.prototype.processHideOptions=function(e){var t={opacity:"1"};t.left=this.div.css("left"),t.top=this.div.css("top"),t.width=this.div.css("width"),t.height=this.div.css("height");var o=parseInt(this.div.css("marginLeft")),n={opacity:"0",overflow:"visible"};n.left=(0,c.default)(e.endTarget).offset().left-o,n.top=(0,c.default)(e.endTarget).offset().top-(0,c.default)(window).scrollTop(),n.width=(0,c.default)(e.endTarget).css("width"),n.height=(0,c.default)(e.endTarget).css("height");(0,c.default)(".modal-backdrop").animate({opacity:0},500),this.div.find(".farSide").animate({opacity:0},150),this.div.find("#x-close").animate({opacity:0},150),this.div.find(".dialog-title").animate({opacity:0},150),this.div.find(".aniGif").animate({opacity:0},150),this.div.find(".modal-content p").animate({"font-size":"13px"},500),this.div.find(".markdown-instructions-container").animate({opacity:0},50),(0,c.default)(this.div).css(t).animate(n,500,"swing",function(){(0,c.default)(this).modal("hide")})}},623:function(e,t,o){"use strict";function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.UnconnectedScriptOverview=void 0;var w=p(o(1)),n=p(o(0)),r=p(o(14)),i=o(9),B=p(o(4)),I=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var t=d();if(t&&t.has(e))return t.get(e);var o={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(o,r,i):o[r]=e[r]}o.default=e,t&&t.set(e,o);return o}(o(1056)),R=p(o(901)),s=o(59),l=o(56),N=p(o(1067)),P=p(o(857)),c=o(519),L=p(o(1077)),x=o(147),D=o(607),u=o(82);function d(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return d=function(){return e},e}function p(e){return e&&e.__esModule?e:{default:e}}function h(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var g=function(o){function e(e){var n;h(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n=o.call(this,e)||this),"onCloseRedirectDialog",function(){var e=n.props,t=e.courseName,o=e.scriptName;(0,D.onDismissRedirectDialog)(t||o),n.setState({showRedirectDialog:!1})});var t=e.redirectScriptUrl&&0<e.redirectScriptUrl.length;return n.state={showRedirectDialog:t},n}return function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(e,o),e.prototype.render=function(){var e=this.props,t=e.onOverviewPage,o=e.excludeCsfColumnInLegend,n=e.teacherResources,r=e.perLevelProgress,i=e.scriptCompleted,a=e.scriptId,s=e.scriptName,l=e.scriptTitle,c=e.professionalLearningCourse,u=e.viewAs,d=e.isRtl,p=e.sectionsForDropdown,h=e.currentCourseId,g=e.showCourseUnitVersionWarning,f=e.showScriptVersionWarning,m=e.showRedirectWarning,y=e.redirectScriptUrl,_=e.versions,v=e.hiddenStageState,b=e.selectedSectionId,E=e.courseName,T=e.showAssignButton,S=e.userId,k=e.assignedSectionId,C=y&&!(0,D.dismissedRedirectDialog)(E||s),A=I.NOT_STARTED;i?A=I.COMPLETED:0<Object.keys(r).length&&(A=I.IN_PROGRESS);var O=!!b&&!!a&&(0,x.isScriptHiddenForSection)(v,b,a);return w.default.createElement("div",null,t&&w.default.createElement("div",null,C&&w.default.createElement(R.default,{isOpen:this.state.showRedirectDialog,details:B.default.assignedToNewerVersion(),handleClose:this.onCloseRedirectDialog,redirectUrl:y,redirectButtonText:B.default.goToAssignedVersion()}),w.default.createElement(L.default,{showCourseUnitVersionWarning:g,showScriptVersionWarning:f,showRedirectWarning:m,showHiddenUnitWarning:O,versions:_,courseName:E,userId:S}),w.default.createElement(I.default,{sectionsForDropdown:p,selectedSectionId:parseInt(b),professionalLearningCourse:c,scriptProgress:A,scriptId:a,scriptName:s,scriptTitle:l,currentCourseId:h,viewAs:u,isRtl:d,resources:n,showAssignButton:T,assignedSectionId:k})),w.default.createElement(N.default,null),t&&w.default.createElement(P.default,{excludeCsfColumn:o}))},e}(w.default.Component);h(g,"propTypes",{id:n.default.number,courseId:n.default.number,onOverviewPage:n.default.bool.isRequired,excludeCsfColumnInLegend:n.default.bool.isRequired,teacherResources:n.default.arrayOf(c.resourceShape).isRequired,showCourseUnitVersionWarning:n.default.bool,showScriptVersionWarning:n.default.bool,redirectScriptUrl:n.default.string,showRedirectWarning:n.default.bool,versions:n.default.arrayOf(u.assignmentVersionShape).isRequired,courseName:n.default.string,showAssignButton:n.default.bool,assignedSectionId:n.default.number,perLevelProgress:n.default.object.isRequired,scriptCompleted:n.default.bool.isRequired,scriptId:n.default.number.isRequired,scriptName:n.default.string.isRequired,scriptTitle:n.default.string.isRequired,professionalLearningCourse:n.default.bool,viewAs:n.default.oneOf(Object.values(s.ViewType)).isRequired,isRtl:n.default.bool.isRequired,sectionsForDropdown:n.default.arrayOf(u.sectionForDropdownShape).isRequired,currentCourseId:n.default.number,hiddenStageState:n.default.object,selectedSectionId:n.default.number,userId:n.default.number});var f=(0,r.default)(g);t.UnconnectedScriptOverview=f;var m=(0,i.connect)(function(e,t){return{perLevelProgress:e.progress.levelProgress,scriptCompleted:!!e.progress.scriptCompleted,scriptId:e.progress.scriptId,scriptName:e.progress.scriptName,scriptTitle:e.progress.scriptTitle,professionalLearningCourse:e.progress.professionalLearningCourse,viewAs:e.viewAs,isRtl:e.isRtl,currentCourseId:e.progress.courseId,hiddenStageState:e.hiddenStage,selectedSectionId:parseInt(e.teacherSections.selectedSectionId),sectionsForDropdown:(0,l.sectionsForDropdown)(e.teacherSections,t.id,t.courseId,!1)}})(f);t.default=m},624:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=y(o(0)),s=y(o(1)),l=y(o(392)),c=y(o(6)),r=o(95),i=o(9),a=y(o(1057)),u=y(o(1058)),d=y(o(1059)),p=y(o(1060)),h=y(o(1061)),g=y(o(1062)),f=y(o(1063)),m=y(o(1064));function y(e){return e&&e.__esModule?e:{default:e}}function _(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var v={teal:{summaryActive:a.default,summaryInactive:u.default,detailActive:d.default,detailInactive:p.default},purple:{summaryActive:h.default,summaryInactive:g.default,detailActive:f.default,detailInactive:m.default}},b={whiteBorder:{borderWidth:1,borderStyle:"solid",borderColor:c.default.white},icon:{fontSize:20,paddingLeft:3,paddingRight:3,paddingTop:6,paddingBottom:3,opacity:1}},E=function(r){function e(){for(var e,t=arguments.length,o=new Array(t),n=0;n<t;n++)o[n]=arguments[n];return _(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e=r.call.apply(r,[this].concat(o))||this),"onChange",function(){e.props.setIsSummaryView(!e.props.isSummaryView)}),e}return function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(e,r),e.prototype.render=function(){var e=this.props,t=e.whiteBorder,o=e.isSummaryView,n=e.hasGroups,r=e.isPlc,i=this.props.activeColor;i||(i=!r&&n?c.default.purple:c.default.cyan);var a=i===c.default.purple?v.purple:v.teal;return s.default.createElement(l.default,{selected:o?"summary":"detail",activeColor:i,onChange:this.onChange},s.default.createElement("button",{type:"button",value:"summary",style:t?b.whiteBorder:void 0},s.default.createElement("img",{src:o?a.summaryActive:a.summaryInactive,style:b.icon})),s.default.createElement("button",{type:"button",value:"detail",style:t?b.whiteBorder:void 0,className:"uitest-toggle-detail"},s.default.createElement("img",{src:o?a.detailInactive:a.detailActive,style:b.icon})))},e}(s.default.Component);_(E,"propTypes",{activeColor:n.default.string,whiteBorder:n.default.bool,isPlc:n.default.bool.isRequired,isSummaryView:n.default.bool.isRequired,hasGroups:n.default.bool.isRequired,setIsSummaryView:n.default.func.isRequired});var T=(0,i.connect)(function(e){return{isPlc:!!e.progress.professionalLearningCourse,isSummaryView:e.progress.isSummaryView,hasGroups:(0,r.hasGroups)(e.progress)}},{setIsSummaryView:r.setIsSummaryView})(E);t.default=T,e.exports=t.default},625:function(e,t,o){"use strict";function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.UnconnectedSummaryProgressTable=void 0;var n=g(o(0)),i=g(o(1)),r=g(o(6)),s=g(o(4)),l=o(57),c=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var t=h();if(t&&t.has(e))return t.get(e);var o={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(o,r,i):o[r]=e[r]}o.default=e,t&&t.set(e,o);return o}(o(1068)),u=o(9),d=o(128),p=o(59);function h(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return h=function(){return e},e}function g(e){return e&&e.__esModule?e:{default:e}}var f,m,y,_={table:{borderWidth:1,borderStyle:"solid",borderLeftColor:r.default.border_gray,borderTopColor:r.default.border_gray,borderBottomColor:r.default.border_light_gray,borderRightColor:r.default.border_light_gray},headerRow:{backgroundColor:r.default.table_header}},v=function(e){function t(){return e.apply(this,arguments)||this}return function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(t,e),t.prototype.render=function(){var o=this,e=this.props,t=e.lessons,n=e.levelsByLesson,r=e.viewAs;if(t.length!==n.length)throw new Error("Inconsistent number of lessons");return i.default.createElement("table",{style:_.table},i.default.createElement("thead",null,i.default.createElement("tr",{style:_.headerRow},i.default.createElement("td",{style:c.styles.col1},i.default.createElement("div",{style:c.styles.colText},s.default.lessonName())),i.default.createElement("td",{style:c.styles.col2},i.default.createElement("div",{style:c.styles.colText},s.default.progress())))),i.default.createElement("tbody",null,t.map(function(e,t){return{unfilteredIndex:t,lesson:e}}).filter(function(e){return o.props.lessonIsVisible(e.lesson,r)}).map(function(e,t){return i.default.createElement(c.default,{key:e.unfilteredIndex,levels:n[e.unfilteredIndex],lesson:e.lesson,dark:t%2==1,lockedForSection:o.props.lessonLockedForSection(e.lesson.id),viewAs:r,lessonIsVisible:o.props.lessonIsVisible})})))},t}(i.default.Component);f=v,m="propTypes",y={lessons:n.default.arrayOf(l.lessonType).isRequired,levelsByLesson:n.default.arrayOf(n.default.arrayOf(l.levelType)).isRequired,viewAs:n.default.oneOf(Object.keys(p.ViewType)),lessonLockedForSection:n.default.func.isRequired,lessonIsVisible:n.default.func.isRequired},m in f?Object.defineProperty(f,m,{value:y,enumerable:!0,configurable:!0,writable:!0}):f[m]=y;var b=v;t.UnconnectedSummaryProgressTable=b;var E=(0,u.connect)(function(o){return{viewAs:o.viewAs,lessonLockedForSection:function(e){return(0,d.lessonIsLockedForAllStudents)(e,o)},lessonIsVisible:function(e,t){return(0,d.lessonIsVisible)(e,o,t)}}})(v);t.default=E},626:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(o(1)),r=l(o(14)),i=l(o(123)),a=l(o(18)),s=l(o(6));function l(e){return e&&e.__esModule?e:{default:e}}var c={main:{display:"inline-block",position:"absolute",right:0,top:0,whiteSpace:"nowrap"},arrowContainer:{display:"inline-block",position:"relative",top:10},leftArrow:{display:"inline-block",width:0,height:0,borderStyle:"solid",borderWidth:"17px 20px 17px",borderColor:"transparent ".concat(s.default.cyan," transparent transparent")},focusArea:{display:"inline-block",backgroundColor:s.default.cyan,color:s.default.white,height:34,lineHeight:"34px",position:"relative",top:-3},text:{display:"inline-block"},focusAreaIcon:{display:"inline-block",color:s.default.white,lineHeight:"13px",padding:5,marginLeft:5,marginRight:5,borderRadius:4,":hover":{backgroundColor:s.default.default_blue}}},u=(0,r.default)(function(){return n.default.createElement("div",{style:c.main},n.default.createElement("div",{style:c.arrowContainer},n.default.createElement("div",{style:c.leftArrow})),n.default.createElement("div",{style:c.focusArea},n.default.createElement("div",{style:c.text},"Focus Area"),n.default.createElement("a",{href:window.location.pathname+"/preview-assignments"},n.default.createElement("div",{style:c.focusAreaIcon,"data-tip":!0,"data-for":"focus-area"},n.default.createElement(a.default,{icon:"pencil"})))),n.default.createElement(i.default,{id:"focus-area",role:"tooltip",effect:"solid"},"Click to change your focus area."))});t.default=u,e.exports=t.default},627:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(o(0)),r=s(o(1)),i=s(o(1069)),a=o(57);function s(e){return e&&e.__esModule?e:{default:e}}var l,c,u,d=function(e){function t(){return e.apply(this,arguments)||this}return function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(t,e),t.prototype.render=function(){var e=this.props,t=e.lessons,o=e.levelsByLesson;if(t.length!==o.length)throw new Error("Inconsistent number of lessons");return r.default.createElement("div",null,t.map(function(e,t){return r.default.createElement(i.default,{key:t,lesson:e,levels:o[t]})}))},t}(r.default.Component);t.default=d,l=d,c="propTypes",u={lessons:n.default.arrayOf(a.lessonType).isRequired,levelsByLesson:n.default.arrayOf(n.default.arrayOf(a.levelType)).isRequired},c in l?Object.defineProperty(l,c,{value:u,enumerable:!0,configurable:!0,writable:!0}):l[c]=u,e.exports=t.default},628:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.UnconnectedSectionSelector=void 0;var n=u(o(0)),i=u(o(1)),r=o(9),a=u(o(4)),s=o(96),l=o(11),c=o(56);function u(e){return e&&e.__esModule?e:{default:e}}function d(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var p={width:180},h=function(r){function e(){for(var o,e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return d(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(o=r.call.apply(r,[this].concat(t))||this),"handleSelectChange",function(e){var t=e.target.value;o.props.logToFirehose&&o.props.logToFirehose(),(0,s.updateQueryParam)("section_id",t===c.NO_SECTION?void 0:t),(0,s.updateQueryParam)("user_id",void 0),o.props.reloadOnChange?(0,l.reload)():o.props.selectSection(t)}),o}return function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(e,r),e.prototype.render=function(){var e=this.props,t=e.style,o=e.requireSelection,n=e.sections,r=e.selectedSectionId;return 0===n.length?null:i.default.createElement("select",{className:"uitest-sectionselect",name:"sections",style:function(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{},n=Object.keys(Object(o));"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(o).filter(function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable}))),n.forEach(function(e){d(t,e,o[e])})}return t}({},p,t),value:r,onChange:this.handleSelectChange},!o&&i.default.createElement("option",{key:"",value:""},a.default.selectSection()),n.map(function(e){var t=e.id,o=e.name;return i.default.createElement("option",{key:t,value:t},o)}))},e}(i.default.Component);d(h,"propTypes",{style:n.default.object,requireSelection:n.default.bool,alwaysShow:n.default.bool,reloadOnChange:n.default.bool,logToFirehose:n.default.func,sections:n.default.arrayOf(n.default.shape({name:n.default.string.isRequired,id:n.default.number.isRequired})).isRequired,selectedSectionId:n.default.string,selectSection:n.default.func.isRequired});var g=h;t.UnconnectedSectionSelector=g;var f=(0,r.connect)(function(e){return{selectedSectionId:e.teacherSections.selectedSectionId.toString(),sections:(0,c.sectionsNameAndId)(e.teacherSections)}},function(t){return{selectSection:function(e){t((0,c.selectSection)(e))}}})(h);t.default=f},629:function(e,t,o){"use strict";function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.cellStyle=t.rowHeight=t.columnWidths=void 0;var n=g(o(0)),r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var t=h();if(t&&t.has(e))return t.get(e);var o={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(o,r,i):o[r]=e[r]}o.default=e,t&&t.set(e,o);return o}(o(1)),i=g(o(176)),s=o(82),l=g(o(4)),c=g(o(18)),u=g(o(6)),d=g(o(123)),p=g(o(15));function h(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return h=function(){return e},e}function g(e){return e&&e.__esModule?e:{default:e}}function f(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{},n=Object.keys(Object(o));"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(o).filter(function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable}))),n.forEach(function(e){m(t,e,o[e])})}return t}function m(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var y={selected:25,title:70,status:160,language:140};t.columnWidths=y;var _={display:"inline-block",marginTop:9},v={wrapper:{fontSize:16,height:t.rowHeight=35},selectedColumn:f({},t.cellStyle=_,{width:y.selected,marginLeft:-10}),titleColumn:f({},_,{width:y.title,fontFamily:'"Gotham 5r", sans-serif',fontWeight:"bold"}),statusColumn:f({},_,{width:y.status}),recommended:{borderRadius:5,padding:8,backgroundColor:u.default.cyan,color:"white"},languageColumn:f({},_,{width:y.language,marginRight:-10}),infoCircle:{fontSize:18}},b=function(e){function t(){return e.apply(this,arguments)||this}!function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(t,e);var o=t.prototype;return o.englishOnly=function(){var e=this.props.version.locales;return 0===e.length||1===e.length&&"English"===e[0]},o.render=function(){var e=this.props,t=e.version,o=e.onClick,n=p.default.uniqueId();return r.default.createElement(i.default.Item,{onClick:o},r.default.createElement("div",{style:v.wrapper},r.default.createElement("span",{style:v.selectedColumn},t.isSelected&&r.default.createElement(c.default,{icon:"check"})),r.default.createElement("span",{style:v.titleColumn,className:"assignment-version-title"},t.title),r.default.createElement("span",{style:v.statusColumn},t.isRecommended&&r.default.createElement("span",{style:v.recommended},l.default.recommended()),!t.isStable&&r.default.createElement("span",null,r.default.createElement(c.default,{icon:"exclamation-triangle",style:{color:u.default.light_orange}})," ",l.default.inDevelopment())),r.default.createElement("span",{style:v.languageColumn},this.englishOnly()&&l.default.englishOnly(),!this.englishOnly()&&r.default.createElement("div",null,r.default.createElement("span",{"data-tip":!0,"data-for":n},l.default.numLanguages({numLanguages:t.locales.length})," ",r.default.createElement(c.default,{icon:"info-circle",style:v.infoCircle})),r.default.createElement(d.default,{id:n,place:"right"},t.locales.join(", "))))))},t}(r.Component);m(t.default=b,"propTypes",{version:s.assignmentVersionShape,onClick:n.default.func.isRequired})},630:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.selectGallery=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:r.Galleries.PUBLIC;return{type:d,projectType:e}},t.appendProjects=function(e,t){return{type:p,projects:e,projectType:t}},t.prependProjects=function(e,t){return{type:f,projects:e,projectType:t}},t.setProjectLists=m,t.setHasOlderProjects=function(e,t){return{type:g,hasOlderProjects:e,projectType:t}},t.setPersonalProjectsList=y,t.updatePersonalProjectData=_,t.publishSuccess=function(e,t){return{type:L.PUBLISH_SUCCESS,lastPublishedAt:e,lastPublishedProjectData:t}},t.unpublishSuccess=function(e){return{type:j,projectId:e}},t.deleteSuccess=function(e){return{type:x.DELETE_SUCCESS,projectId:e}},t.startRenamingProject=function(e){return{type:V,projectId:e}},t.updateProjectName=function(e,t){return{type:W,projectId:e,updatedName:t}},t.cancelRenamingProject=function(e){return{type:z,projectId:e}},t.saveSuccess=v,t.saveFailure=b,t.unsetNameFailure=function(e){return{type:Y,projectId:e}},t.unpublishProject=function(n){return function(o){return o({type:H}),new Promise(function(e,t){s.channels.withProjectId(n).ajax("POST","unpublish",function(){o({type:j,projectId:n}),e()},function(e){o({type:G}),t(e)},null)})}},t.remix=t.saveProjectName=t.unpublishProjectLibrary=t.updateProjectLibrary=t.setPersonalProjects=t.setPublicProjects=t.default=void 0;var n=o(198),i=c(o(10)),a=c(o(15)),r=o(742),L=o(322),x=o(858),s=o(126),l=c(o(631));function c(e){return e&&e.__esModule?e:{default:e}}function D(e){return function(e){if(Array.isArray(e)){for(var t=0,o=new Array(e.length);t<e.length;t++)o[t]=e[t];return o}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function M(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{},n=Object.keys(Object(o));"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(o).filter(function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable}))),n.forEach(function(e){u(t,e,o[e])})}return t}function u(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var d="projects/TOGGLE_GALLERY",p="projects/APPEND_PROJECTS",h="projects/SET_PROJECT_LISTS",g="projects/SET_HAS_OLDER_PROJECTS",f="projects/PREPEND_PROJECTS",U="projects/SET_PERSONAL_PROJECTS_LIST",F="projects/UPDATE_PERSONAL_PROJECT_DATA",H="projects/UNPUBLISH_REQUEST",j="projects/UNPUBLISH_SUCCESS",G="projects/UNPUBLISH_FAILURE",V="projects/START_RENAMING_PROJECT",W="projects/UPDATE_PROJECT_NAME",z="projects/CANCEL_RENAMING_PROJECT",q="projects/SAVE_SUCCESS",K="project/SAVE_FAILURE",Y="project/UNSET_NAME_FAILURE";function m(e){return{type:h,projectLists:e}}function y(e){return{type:U,personalProjectsList:e}}function _(e,t){return{type:F,projectId:e,data:t}}function v(e,t){return{type:q,projectId:e,lastUpdatedAt:t}}function b(e,t){return{type:K,projectId:e,projectNameFailure:t}}var E=r.Galleries.PUBLIC;var T={applab:[],spritelab:[],gamelab:[],playlab:[],artist:[],dance:[]};var S={dance:!0,applab:!0,spritelab:!0,gamelab:!0,playlab:!0,artist:!0,minecraft:!0,events:!0,k1:!0};var X=[];var k=(0,n.combineReducers)({selectedGallery:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:E,t=1<arguments.length?arguments[1]:void 0;switch(t.type){case d:return t.projectType;default:return e}},projectLists:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:T,t=1<arguments.length?arguments[1]:void 0;switch(t.type){case h:return t.projectLists;case p:var o=t.projects,n=t.projectType;return M({},e,u({},n,a.default.unionBy(e[n],o,"channel")));case f:var r=t.projects,i=t.projectType;return M({},e,u({},i,a.default.unionBy(r,e[i],"channel")));default:return e}},hasOlderProjects:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:S,t=1<arguments.length?arguments[1]:void 0;switch(t.type){case g:return M({},e,u({},t.projectType,t.hasOlderProjects));default:return e}},personalProjectsList:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:X,t=1<arguments.length?arguments[1]:void 0;switch(t.type){case U:return M({},e,{projects:t.personalProjectsList});case F:var o=D(e.projects),n=o.findIndex(function(e){return e.channel===t.projectId});return o[n]=t.data,M({},e,{projects:o});case L.PUBLISH_SUCCESS:if(!e.projects)return e;var r=t.lastPublishedProjectData.channel,i=e.projects.findIndex(function(e){return e.channel===r}),a=D(e.projects);return a[i]=M({},a[i],{publishedAt:t.lastPublishedAt}),M({},e,{projects:a});case H:return M({},e,{isUnpublishPending:!0});case j:var s=t.projectId,l=e.projects.findIndex(function(e){return e.channel===s}),c=D(e.projects);return c[l]=M({},c[l],{publishedAt:null}),M({},e,{projects:c});case G:return M({},e,{isUnpublishPending:!1});case x.DELETE_SUCCESS:var u=t.projectId,d=e.projects.findIndex(function(e){return e.channel===u}),p=D(e.projects);return p.splice(d,1),M({},e,{projects:p});case V:var h=t.projectId,g=e.projects.findIndex(function(e){return e.channel===h}),f=D(e.projects);return f[g]=M({},f[g],{isEditing:!0,updatedName:f[g].name}),M({},e,{projects:f});case W:var m=t.projectId,y=e.projects.findIndex(function(e){return e.channel===m}),_=D(e.projects);return _[y]=M({},_[y],{updatedName:t.updatedName}),M({},e,{projects:_});case z:var v=t.projectId,b=e.projects.findIndex(function(e){return e.channel===v}),E=D(e.projects);return E[b]=M({},E[b],{isEditing:!1}),M({},e,{projects:E});case q:var T=t.projectId,S=e.projects.findIndex(function(e){return e.channel===T}),k=D(e.projects),C=k[S];return k[S]=M({},C,{name:C.updatedName,isSaving:!1,isEditing:!1,updatedAt:t.lastUpdatedAt}),M({},e,{projects:k});case K:var A=t.projectId,O=e.projects.findIndex(function(e){return e.channel===A}),w=D(e.projects),B=w[O];return w[O]=M({},B,{isSaving:!1,isEditing:!1}),t.projectNameFailure&&(w[O].projectNameFailure=t.projectNameFailure,w[O].isEditing=!0),M({},e,{projects:w});case Y:var I=t.projectId,R=e.projects.findIndex(function(e){return e.channel===I}),N=D(e.projects),P=N[R];return N[R]=M({},P,{projectNameFailure:void 0}),M({},e,{projects:N});default:return e}}});t.default=k;t.setPublicProjects=function(){return function(t){i.default.ajax({method:"GET",url:"/api/v1/projects/gallery/public/all/".concat(r.MAX_PROJECTS_PER_CATEGORY),dataType:"json"}).done(function(e){t(m(e))})}};t.setPersonalProjects=function(){return function(t){i.default.ajax({method:"GET",url:"/api/v1/projects/personal",dataType:"json"}).done(function(e){t(y(e))})}};var C=function(e,o){i.default.ajax({url:"/v3/channels/".concat(e),method:"GET",type:"json",contentType:"application/json;charset=UTF-8"}).done(function(e){o(null,e)}).fail(function(e,t){o(t,e.responseJSON)})};t.updateProjectLibrary=function(e,r){return function(n){C(e,function(e,t){if(e)console.error(e);else{var o=M({},t,r);i.default.ajax({url:"/v3/channels/".concat(t.id),method:"POST",type:"json",contentType:"application/json;charset=UTF-8",data:JSON.stringify(o)}),o.channel=t.id,n(_(t.id,o))}})}};t.unpublishProjectLibrary=function(n){var r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:new l.default(n),i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:function(){};return function(o){C(n,function(e,t){e?i(e,t):r.unpublish(t,function(e,t){e||o(_(n,t)),i(e,t)})})}};t.saveProjectName=function(e,n){return function(o){C(e,function(e,t){e?console.error(e):(t.name=n,o(function(n){return function(o){i.default.ajax({url:"/v3/channels/".concat(n.id),method:"POST",type:"json",contentType:"application/json;charset=UTF-8",data:JSON.stringify(n)}).done(function(e){o(v(n.id,e.updatedAt))}).fail(function(e,t){o(b(n.id,e.responseJSON.nameFailure))})}}(t)))})}};t.remix=function(e,t){window.location="/projects/".concat(t,"/").concat(e,"/remix")}},631:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,r=(n=o(181))&&n.__esModule?n:{default:n};var s="library.json",i=function(){function e(e){this.channelId=e,this.libraryApi=r.default.create("/v3/libraries"),this.channelApi=r.default.create("/v3/channels"),this.cacheBustSuffix=(new Date).getTime()}var t=e.prototype;return t.publish=function(e,o,n){var r=this;this.libraryApi.put(this.channelId,JSON.stringify(e),s,function(e,t){e?o(e):(r.cacheBustSuffix=(new Date).getTime(),n(t))})},t.unpublish=function(t,o){var n=this;this.delete(function(){var e=function(r){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{},t=Object.keys(Object(i));"function"==typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(i).filter(function(e){return Object.getOwnPropertyDescriptor(i,e).enumerable}))),t.forEach(function(e){var t,o,n;t=r,n=i[o=e],o in t?Object.defineProperty(t,o,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[o]=n})}return r}({},t,{libraryName:void 0,libraryDescription:void 0,libraryPublishedAt:null});n.channelApi.update(n.channelId,e,o)},o)},t.fetchLatest=function(r,i){var a=this;this.libraryApi.fetch(this.channelId+"/"+s+"?_="+this.cacheBustSuffix,function(e,t,o,n){t?r(t):(a.cacheBustSuffix=(new Date).getTime(),i(e,n.status))})},t.fetchLatestVersionId=function(n,r){this.libraryApi.fetch(this.channelId+"/"+s+"/versions",function(e,t){if(t){var o=t.find(function(e){return e.isLatest});n(o.versionId)}else r(e)})},t.fetchByVersion=function(e,o,n){this.libraryApi.fetch(this.channelId+"/"+s+"?version="+e,function(e,t){t?o(t):n(e)})},t.delete=function(o,n){var r=this;this.libraryApi.deleteObject(this.channelId+"/"+s,function(e,t){t?(r.cacheBustSuffix=(new Date).getTime(),o()):n(e)})},t.getClassLibraries=function(t,o){var n,r;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,regeneratorRuntime.awrap(fetch("/api/v1/section_libraries/",{method:"GET"}));case 3:if((r=e.sent).ok){e.next=7;break}return o(r.status+": "+r.statusText),e.abrupt("return");case 7:return e.next=9,regeneratorRuntime.awrap(r.json());case 9:n=e.sent,e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),o(e.t0);case 15:t(n);case 16:case"end":return e.stop()}},null,null,[[0,12]])},e}();t.default=i,e.exports=t.default},632:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.studentShape=void 0;var s=a(o(1)),n=a(o(0)),r=a(o(14)),i=a(o(6)),l=a(o(4)),c=o(633),u=a(o(18));function a(e){return e&&e.__esModule?e:{default:e}}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var h={table:{width:"90%",margin:"auto"},tr:{height:41,color:i.default.cyan,border:"1px solid ".concat(i.default.lighter_cyan),backgroundColor:i.default.lightest_gray,":hover":{backgroundColor:i.default.lighter_cyan,cursor:"pointer"}},td:{padding:1},selected:{fontFamily:'"Gotham 7r", sans-serif',color:i.default.white,backgroundColor:i.default.light_cyan},studentTableRow:{display:"flex",alignItems:"center",width:"100%"},meRow:{padding:"1px 1px 1px 5px"},nameInScript:{paddingLeft:5,margin:"1px 1px 1px 0",flexGrow:1},nameWithBubble:{paddingLeft:5,margin:"1px 1px 1px 0",flexGrow:1},linkIcon:{marginLeft:10}},g=n.default.shape({id:n.default.number.isRequired,name:n.default.string.isRequired});t.studentShape=g;var f=function(r){function e(){for(var o,e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return p(d(o=r.call.apply(r,[this].concat(t))||this),"getRowLink",function(e){var t="?section_id=".concat(o.props.sectionId,"&user_id=").concat(e);return(o.props.levels?o.props.levels[0].bonus?"extras":o.props.levels[0].levelNumber:o.props.scriptName)+t}),p(d(o),"getRowStyle",function(e,t){return e===t?[h.tr,h.selected]:h.tr}),o}return function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(e,r),e.prototype.render=function(){var e=this,t=this.props,o=t.students,n=t.onSelectUser,r=t.getSelectedUserId,i=t.levels,a=r();return s.default.createElement("table",{style:h.table,className:"student-table"},s.default.createElement("tbody",null,s.default.createElement("tr",{style:this.getRowStyle(a,null),onClick:function(){return n(null)}},s.default.createElement("td",{style:h.meRow},l.default.studentTableTeacherDemo())),o.map(function(t){return s.default.createElement("tr",{key:"tr-".concat(t.id),style:e.getRowStyle(a,t.id),onClick:function(){return n(t.id)}},s.default.createElement("td",{key:"td-".concat(t.id),style:h.td},s.default.createElement("div",{style:h.studentTableRow},i&&s.default.createElement(c.TeacherPanelProgressBubble,{level:i.find(function(e){return t.id===e.user_id})}),s.default.createElement("div",{style:i?h.nameWithBubble:h.nameInScript},t.name,s.default.createElement("a",{href:e.getRowLink(t.id),target:"_blank",style:h.linkIcon},s.default.createElement(u.default,{icon:"external-link"}))))))})))},e}(s.default.Component);p(f,"propTypes",{students:n.default.arrayOf(g).isRequired,onSelectUser:n.default.func.isRequired,getSelectedUserId:n.default.func.isRequired,levels:n.default.array,sectionId:n.default.number,scriptName:n.default.string});var m=(0,r.default)(f);t.default=m},633:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TeacherPanelProgressBubble=void 0;var r=c(o(1)),n=c(o(0)),i=c(o(6)),a=c(o(18)),s=o(211),l=o(61);function c(e){return e&&e.__esModule?e:{default:e}}function u(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{},n=Object.keys(Object(o));"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(o).filter(function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable}))),n.forEach(function(e){d(t,e,o[e])})}return t}function d(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var p={main:{boxSizing:"content-box",fontFamily:'"Gotham 5r", sans-serif',width:s.DOT_SIZE,height:s.DOT_SIZE,borderRadius:s.DOT_SIZE,borderStyle:"solid",borderColor:i.default.lighter_gray,fontSize:16,letterSpacing:-.11,display:"flex",alignItems:"center",justifyContent:"center",transition:"background-color .2s ease-out, border-color .2s ease-out, color .2s ease-out",marginTop:3,marginBottom:3},diamond:{width:s.DIAMOND_DOT_SIZE,height:s.DIAMOND_DOT_SIZE,borderRadius:4,transform:"rotate(45deg)",marginTop:6,marginBottom:6},contents:{whiteSpace:"nowrap",lineHeight:"16px"},diamondContents:{transform:"rotate(-45deg)"}},h=function(e){function t(){return e.apply(this,arguments)||this}return function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(t,e),t.prototype.render=function(){var e=this.props.level;e.assessment&&e.passed&&(e.status=l.LevelStatus.completed_assessment);var t=e.levelNumber,o=e.paired||e.bonus,n=u({},p.main,e.isConceptLevel&&p.diamond,(0,s.levelProgressStyle)(e,!1));return r.default.createElement("div",{style:{minWidth:s.DOT_SIZE+8,display:"flex",justifyContent:"center"}},r.default.createElement("div",{style:n},r.default.createElement("div",{style:u({fontSize:e.paired||e.bonus?14:16},p.contents,e.isConceptLevel&&p.diamondContents)},e.paired&&r.default.createElement(a.default,{icon:"users"}),e.bonus&&r.default.createElement(a.default,{icon:"flag-checkered"}),!o&&r.default.createElement("span",null,t))))},t}(r.default.Component);d(t.TeacherPanelProgressBubble=h,"propTypes",{level:n.default.object.isRequired})},657:function(e,p,t){"use strict";function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var s=t(391),c=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var t=l();if(t&&t.has(e))return t.get(e);var o={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(o,r,i):o[r]=e[r]}o.default=e,t&&t.set(e,o);return o}(t(11));function l(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return l=function(){return e},e}p.ForStatementMode={INIT:0,TEST:1,BODY:2,UPDATE:3};var o="  executionInfo.checkTimeout(); if (executionInfo.isTerminated()){return;}\n",n="loopHighlight();\n",r=new RegExp(n.replace(/\(.*\)/,"\\(.*\\)")+"\\s*","g");function u(e,t,o,n,r){for(var i in o){var a=o[i];if(a instanceof Function){var s=n||o,l=e.makeNativeMemberFunction(c.extend(r,{nativeFunc:a,nativeParentObj:s}));e.setProperty(t,i,e.createNativeFunction(l))}}}function d(e,t,o,n){for(var r=0;r<t.length;r++){var i=t[r];if(i.parent&&(!o||void 0!==o[i.func])){var a=n,s=i.func,l=s.split(".");if(2===l.length){var c=l[0];a=e.getProperty(n,c),e.UNDEFINED===a&&(a=e.createObject(e.OBJECT),e.setProperty(n,c,a)),s=l[1]}var u,d=i.parent[s],p=i.dontMarshal,h=i.nativeIsAsync,g=i.nativeCallsBackInterpreter,f=e.makeNativeMemberFunction({nativeFunc:d,nativeParentObj:i.parent,dontMarshal:p,nativeIsAsync:h,nativeCallsBackInterpreter:g});u=i.nativeIsAsync?e.createAsyncFunction(f):e.createNativeFunction(f),e.setProperty(a,s,u)}}}p.loopTrap=function(){return o},p.loopHighlight=function(e,t){var o="'block_id_"+t+"'";return void 0===t&&(o="%1"),"  "+e+"."+n.replace("()","("+o+")")},p.strip=function(e){return e.replace(/(,\s*)?'block_id_\d+'\)/g,")").replace(new RegExp(c.escapeRegExp(o),"g"),"").replace(r,"").replace(/(StudioApp|Maze|Turtle)\./g,"").replace(/^function (colour_random)[\s\S]*?^}/gm,"").replace(/\n\n+/gm,"\n\n").replace(/^\s+|\s+$/g,"")},p.workspaceCode=function(e){var t=e.Generator.blockSpaceToCode("JavaScript",null,!1);return p.strip(t)},p.initJSInterpreter=function(e,t,o,n,r){for(var i in r){var a=e.createObject(e.OBJECT);e.setProperty(n,i.toString(),a),u(e,a,r[i],null,{maxDepth:2})}d(e,s.dropletGlobalConfigBlocks,o,n),t&&d(e,t,o,n),function(t){t.setProperty(t.STRING.properties.prototype,"includes",t.createNativeFunction(function(e){return t.createPrimitive(-1!==String.prototype.indexOf.apply(this,arguments))}),!1,!0)}(e)},p.isNextStepSafeWhileUnwinding=function(e){var t=e.peekStackFrame(),o=t.node.type;if(t.done_)return!0;if("SwitchStatement"===o)return void 0!==t.switchValue_;if("VariableDeclaration"===o)return 0<t.n_;switch(o){case"VariableDeclarator":case"BlockStatement":case"BreakStatement":case"ThisExpression":case"ArrayExpression":case"ObjectExpression":case"ArrowExpression":case"SequenceExpression":case"UnaryExpression":case"BinaryExpression":case"UpdateExpression":case"LogicalExpression":case"ConditionalExpression":case"NewExpression":case"CallExpression":case"MemberExpression":case"FunctionExpression":case"AssignmentExpression":case"Identifier":case"Literal":case"Program":return!0}return!1},p.calculateCumulativeLength=function(e){for(var t=/\n/g,o=[];o.push(t.lastIndex),t.exec(e),0!==t.lastIndex;);return o.push(e.length+1),o},p.aceFindRow=function(e,t,o,n){if(o<t)return null;if(t+1===o)return t;var r=Math.floor((t+o)/2);return n<e[r]?p.aceFindRow(e,t,r,n):n>e[r]?p.aceFindRow(e,r,o,n):r},p.isAceBreakpointRow=function(e,t){if(!e)return!1;var o=e.getBreakpoints();return Boolean(o[t])};var h={};function g(e,t,o,n,r,i){var a=e.getSession();h[t=t||"ace_step"]&&(a.removeMarker(h[t]),h[t]=null),void 0!==o&&(h[t]=a.addMarker(new(window.ace.require("ace/range").Range)(o,n,r,i),t,"text"),e.isRowFullyVisible(o)||e.scrollToLine(o,!0))}p.selectEditorRowColError=function(e,t,o){if(e){if(e.session&&e.session.currentlyUsingBlocks){e.clearLineMarks(),e.markLine(t,{color:"#FFFF22"})}else{var n=e.aceEditor.getSelection(),r=n.getRange();r.start.row=t,r.start.column=o,r.end.row=t,r.end.column=o+1,n.setSelectionRange(r,!0)}h.ace_error=e.aceEditor.getSession().highlightLines(t,t,"ace_error").id}},p.clearDropletAceHighlighting=function(e,t){e.session&&e.session.currentlyUsingBlocks&&e.clearLineMarks(),t?function(e){var t=e.getSession();for(var o in h)t.removeMarker(h[o]);h={}}(e.aceEditor):g(e.aceEditor)},p.selectCurrentCode=function(e,t,o,n,r,i){var a=-1;if(e&&e.peekStackFrame()){var s=e.peekStackFrame().node;if("ForStatement"===s.type){var l,c=e.peekStackFrame().mode_||0;switch(c){case p.ForStatementMode.INIT:l=s.init;break;case p.ForStatementMode.TEST:l=s.test;break;case p.ForStatementMode.BODY:l=s.body;break;case p.ForStatementMode.UPDATE:l=s.update;break;default:throw new Error("unknown mode",c)}s=l||s}var u=s.start-o,d=s.end-o;if(0<=u&&u<n&&d<=n)if(a=p.aceFindRow(t,0,t.length,u),r.session&&r.session.currentlyUsingBlocks){r.clearLineMarks(),r.mark({row:a,col:u-t[a],type:"block"},{color:"#FFFF22"})}else!function(e,t,o,n,r){var i=e.getSelection().getRange();i.start.row=p.aceFindRow(t,0,t.length,o),i.start.column=o-t[i.start.row],i.end.row=p.aceFindRow(t,0,t.length,n),i.end.column=n-t[i.end.row],g(e,r||"ace_step",i.start.row,i.start.column,i.end.row,i.end.column)}(r.aceEditor,t,u,d,i);else p.clearDropletAceHighlighting(r)}else p.clearDropletAceHighlighting(r);return a}},658:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.BUTTON_TYPES=t.style=void 0;var l=a(o(1)),n=a(o(0)),r=a(o(14)),i=a(o(6));function a(e){return e&&e.__esModule?e:{default:e}}function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e}).apply(this,arguments)}function u(e,t){if(null==e)return{};var o,n,r=function(e,t){if(null==e)return{};var o,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)o=i[n],0<=t.indexOf(o)||(r[o]=e[o]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)o=i[n],0<=t.indexOf(o)||Object.prototype.propertyIsEnumerable.call(e,o)&&(r[o]=e[o])}return r}var d={base:{borderWidth:1,borderStyle:"solid",minWidth:100,marginTop:0,marginBottom:0,marginLeft:0,marginRight:0,":hover":{boxShadow:"2px 2px 5px rgba(0, 0, 0, 0.3)"}},large:{fontSize:35,lineHeight:"normal",paddingLeft:14,paddingRight:14},arrow:{base:{position:"relative",height:116,textAlign:"left",display:"inline-block"},left:{paddingLeft:58},right:{paddingRight:58}},arrowHead:{base:{position:"absolute",width:0,height:0,borderColor:"transparent",borderWidth:58,borderStyle:"solid"},left:function(e){return{left:-48,borderRightColor:e}},right:function(e){return{right:-48,borderLeftColor:e}}}};function s(e){return{backgroundColor:e,borderColor:e,color:1<arguments.length&&void 0!==arguments[1]?arguments[1]:i.default.white}}(t.style=d).withArrow={base:{position:"relative",top:(116-d.base.borderWidth-20-44)/2,marginTop:0,marginBottom:0,marginLeft:0,marginRight:0,":hover":{boxShadow:"none"}},left:{paddingLeft:0},right:{paddingRight:0}};var p={default:{style:{backgroundColor:i.default.white,borderColor:i.default.charcoal,color:i.default.charcoal}},cancel:{style:s(i.default.green)},primary:{style:s(i.default.orange)},danger:{style:s(i.default.red)},action:{style:s(i.default.purple)}};t.BUTTON_TYPES=p;var h=(0,r.default)(function(e){var t=e.type,o=e.children,n=e.size,r=u(e,["type","children","size"]),i=d[n||"normal"],a=p[t],s=[d.base,a.style,i];return l.default.createElement("button",c({type:"button"},r,{style:[s,r.style]}),o)});h.propTypes={type:n.default.oneOf(Object.keys(p)),children:n.default.node,size:n.default.oneOf(["normal","large"])};var g=(0,r.default)(function(e){var t=e.arrow,o=u(e,["arrow"]),n=p[o.type];return l.default.createElement("div",{style:[d.arrow.base,d.arrow[t],o.style]},l.default.createElement("div",{style:[d.arrowHead.base,d.arrowHead[t](n.style.backgroundColor)]}),l.default.createElement(h,c({},o,{style:[d.withArrow.base,d.withArrow[t]]})))});g.propTypes=Object.assign({},h.propTypes,{arrow:n.default.oneOf(["left","right"]).isRequired});var f=(0,r.default)(function(e){return e.arrow?l.default.createElement(g,e):l.default.createElement(h,e)});f.propTypes=Object.assign({},h.propTypes,{arrow:n.default.oneOf(["left","right"])});var m=f;t.default=m},66:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(o(0)),s=r(o(1)),l=o(37);function r(e){return e&&e.__esModule?e:{default:e}}function c(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{},n=Object.keys(Object(o));"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(o).filter(function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable}))),n.forEach(function(e){a(t,e,o[e])})}return t}function i(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function a(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var u=function(r){function e(){for(var t,e=arguments.length,o=new Array(e),n=0;n<e;n++)o[n]=arguments[n];return a(i(t=r.call.apply(r,[this].concat(o))||this),"handleKeyDown",function(e){"Escape"===e.key&&t.closeDialog(),t.props.handleKeyDown&&t.props.handleKeyDown(e)}),a(i(t),"closeDialog",function(){!t.props.uncloseable&&t.props.handleClose&&(t.props.handleClose(),t.props.soundPlayer&&t.props.soundPlayer.stopAllAudio())}),t}!function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(e,r);var t=e.prototype;return t.componentDidMount=function(){this.focusDialog()},t.componentDidUpdate=function(){this.focusDialog()},t.getTabbableElements=function(){return[].slice.call(this.refs.dialog.querySelectorAll("a,button,input"))},t.focusDialog=function(){var e=document.activeElement&&this.refs.dialog&&this.refs.dialog.contains(document.activeElement);this.props.isOpen&&!e&&this.refs.dialog.focus()},t.render=function(){if(!this.props.isOpen&&!this.props.hideBackdrop)return s.default.createElement("div",null);var e,t,o;this.props.fullWidth&&(e=c({},e,{width:"90%",marginLeft:"-45%"})),this.props.fullHeight&&(e=c({},e,{height:"80%"}));var n="",r="modal",i="modal-body";this.props.useUpdatedStyles?(n="dashboard-styles",i="",t={background:"#fff",height:this.props.fixedHeight,maxHeight:!this.props.fixedHeight&&"80vh",overflowX:"hidden",overflowY:this.props.fixedHeight||this.props.fullHeight?"hidden":"auto",borderRadius:4},e=c({},e,{width:this.props.fixedWidth||l.BASE_DIALOG_WIDTH,marginLeft:-this.props.fixedWidth/2||-350}),o={position:"absolute",top:0,right:0,padding:10,color:"#ddd",cursor:"pointer",fontSize:24}):this.props.noModalStyles&&(i=r=""),e=c({},e,this.props.hideBackdrop&&{position:"initial",marginLeft:0},this.props.style);var a=s.default.createElement("div",{style:e,tabIndex:"-1",className:r,ref:"dialog",onKeyDown:this.handleKeyDown},s.default.createElement("div",{style:t,className:i},!this.props.uncloseable&&!this.props.hideCloseButton&&(this.props.useUpdatedStyles?s.default.createElement("i",{id:"x-close",className:"fa fa-times",style:o,onClick:this.closeDialog}):s.default.createElement("div",{id:"x-close",className:"x-close",onClick:this.closeDialog})),this.props.children));return this.props.hideBackdrop?a:s.default.createElement("div",{className:n},s.default.createElement("div",{className:"modal-backdrop",onClick:this.closeDialog}),a)},e}(s.default.Component);a(t.default=u,"propTypes",{isOpen:n.default.bool,handleClose:n.default.func,uncloseable:n.default.bool,hideCloseButton:n.default.bool,handleKeyDown:n.default.func,hideBackdrop:n.default.bool,fullWidth:n.default.bool,fullHeight:n.default.bool,useUpdatedStyles:n.default.bool,noModalStyles:n.default.bool,children:n.default.node,fixedWidth:n.default.number,fixedHeight:n.default.number,style:n.default.object,soundPlayer:n.default.object}),e.exports=t.default},689:function(e,t,o){"use strict";function n(r){return function(e){var o=e.dispatch,n=e.getState;return function(t){return function(e){return"function"==typeof e?e(o,n,r):t(e)}}}}t.__esModule=!0;var r=n();r.withExtraArgument=n,t.default=r},696:function(e,t,o){"use strict";t.__esModule=!0,t.default=function(e){var t={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]="number"==typeof e[o]?e[o]:e[o].val);return t},e.exports=t.default},697:function(r,e,t){(function(n){(function(){var e,t,o;"undefined"!=typeof performance&&null!==performance&&performance.now?r.exports=function(){return performance.now()}:o=null!=n&&n.hrtime?(r.exports=function(){return(e()-o)/1e6},t=n.hrtime,(e=function(){var e;return 1e9*(e=t())[0]+e[1]})()):Date.now?(r.exports=function(){return Date.now()-o},Date.now()):(r.exports=function(){return(new Date).getTime()-o},(new Date).getTime())}).call(this)}).call(this,t(27))},698:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(t){return function(e,o){return t.reduce(function(e,t){return{value:t(e.value,e.extra),extra:o}},{value:e,extra:o}).value}}},699:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});r(o(393));var n=r(o(520));function r(e){return e&&e.__esModule?e:{default:e}}t.default=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1],o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};return 0===e.length?{}:n.default.apply(void 0,function(e){if(Array.isArray(e)){for(var t=0,o=Array(e.length);t<e.length;t++)o[t]=e[t];return o}return Array.from(e)}(e.map(function(e){return e(t,o)})))}},703:function(e,z,q){"use strict";(function(e){q.d(z,"a",function(){return V}),q.d(z,"b",function(){return W});var t=q(3),p=q.n(t),r=function(e){return!!e&&"object"==typeof e},h=function n(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];return t.reduce(function(t,o){return Object.keys(o).forEach(function(e){Array.isArray(t[e])&&Array.isArray(o[e])?t[e]=t[e].concat(o[e]):r(t[e])&&r(o[e])?t[e]=n(t[e],o[e]):t[e]=o[e]}),t},{})},g=function(e){return e.reduce(function(e,t){return e.concat(t)},[])},o=function(e){if(!e.length)return[];for(var t=[],o=0;o<e.length;o++)t.push(e[o]);return t},f="INVALID_NUMBER_OF_PERIOD",n="DASH_EMPTY_MANIFEST",i="DASH_INVALID_XML",m="NO_BASE_URL",s="SEGMENT_TIME_UNSPECIFIED",a="UNSUPPORTED_UTC_TIMING_SCHEME";"undefined"!=typeof window?window:void 0!==e||"undefined"!=typeof self&&self;var l,c=(function(e,t){var o,u,n,r,d;o=/^((?:[a-zA-Z0-9+\-.]+:)?)(\/\/[^\/?#]*)?((?:[^\/\?#]*\/)*.*?)??(;.*?)?(\?.*?)?(#.*?)?$/,u=/^([^\/?#]*)(.*)$/,n=/(?:\/|^)\.(?=\/)/g,r=/(?:\/|^)\.\.\/(?!\.\.\/).*?(?=\/)/g,d={buildAbsoluteURL:function(e,t,o){if(o=o||{},e=e.trim(),!(t=t.trim())){if(!o.alwaysNormalize)return e;var n=d.parseURL(e);if(!n)throw new Error("Error trying to parse base URL.");return n.path=d.normalizePath(n.path),d.buildURLFromParts(n)}var r=d.parseURL(t);if(!r)throw new Error("Error trying to parse relative URL.");if(r.scheme)return o.alwaysNormalize?(r.path=d.normalizePath(r.path),d.buildURLFromParts(r)):t;var i=d.parseURL(e);if(!i)throw new Error("Error trying to parse base URL.");if(!i.netLoc&&i.path&&"/"!==i.path[0]){var a=u.exec(i.path);i.netLoc=a[1],i.path=a[2]}i.netLoc&&!i.path&&(i.path="/");var s={scheme:i.scheme,netLoc:r.netLoc,path:null,params:r.params,query:r.query,fragment:r.fragment};if(!r.netLoc&&(s.netLoc=i.netLoc,"/"!==r.path[0]))if(r.path){var l=i.path,c=l.substring(0,l.lastIndexOf("/")+1)+r.path;s.path=d.normalizePath(c)}else s.path=i.path,r.params||(s.params=i.params,r.query||(s.query=i.query));return null===s.path&&(s.path=o.alwaysNormalize?d.normalizePath(r.path):r.path),d.buildURLFromParts(s)},parseURL:function(e){var t=o.exec(e);return t?{scheme:t[1]||"",netLoc:t[2]||"",path:t[3]||"",params:t[4]||"",query:t[5]||"",fragment:t[6]||""}:null},normalizePath:function(e){for(e=e.split("").reverse().join("").replace(n,"");e.length!==(e=e.replace(r,"")).length;);return e.split("").reverse().join("")},buildURLFromParts:function(e){return e.scheme+e.netLoc+e.path+e.params+e.query+e.fragment}},e.exports=d}(l={exports:{}},l.exports),l.exports),y=function(e,t){return/^[a-z]+:/i.test(t)?t:(/\/\//i.test(e)||(e=c.buildAbsoluteURL(p.a.location.href,e)),c.buildAbsoluteURL(e,t))},_=function(e){var t=e.baseUrl,o=void 0===t?"":t,n=e.source,r=void 0===n?"":n,i=e.range,a=void 0===i?"":i,s=e.indexRange,l=void 0===s?"":s,c={uri:r,resolvedUri:y(o||"",r)};if(a||l){var u=(a||l).split("-"),d=parseInt(u[0],10),p=parseInt(u[1],10);c.byterange={length:p-d+1,offset:d}}return c},u={static:function(e){var t=e.duration,o=e.timescale,n=void 0===o?1:o,r=e.sourceDuration;return{start:0,end:Math.ceil(r/(t/n))}},dynamic:function(e){var t=e.NOW,o=e.clientOffset,n=e.availabilityStartTime,r=e.timescale,i=void 0===r?1:r,a=e.duration,s=e.start,l=void 0===s?0:s,c=e.minimumUpdatePeriod,u=void 0===c?0:c,d=e.timeShiftBufferDepth,p=void 0===d?1/0:d,h=(t+o)/1e3,g=n+l,f=h+u-g,m=Math.ceil(f*i/a),y=Math.floor((h-g-p)*i/a),_=Math.floor((h-g)*i/a);return{start:Math.max(0,y),end:Math.min(m,_)}}},v=function(e){var t=e.type,o=void 0===t?"static":t,n=e.duration,r=e.timescale,i=void 0===r?1:r,a=e.sourceDuration,s=u[o](e),l=function(e,t){for(var o=[],n=e;n<t;n++)o.push(n);return o}(s.start,s.end).map(function(s){return function(e,t){var o=s.duration,n=s.timescale,r=void 0===n?1:n,i=s.periodIndex,a=s.startNumber;return{number:(void 0===a?1:a)+e,duration:o/r,timeline:i,time:t*o}}}(e));if("static"===o){var c=l.length-1;l[c].duration=a-n/i*c}return l},b=function(e){var t=e.baseUrl,o=e.initialization,n=void 0===o?{}:o,r=e.sourceDuration,i=e.timescale,a=void 0===i?1:i,s=e.indexRange,l=void 0===s?"":s,c=e.duration;if(!t)throw new Error(m);var u=_({baseUrl:t,source:n.sourceURL,range:n.range}),d=_({baseUrl:t,source:t,indexRange:l});if(d.map=u,c){var p=v(e);p.length&&(d.duration=p[0].duration,d.timeline=p[0].timeline)}else r&&(d.duration=r/a,d.timeline=0);return d.number=0,[d]},d=function(e,t,o){for(var n=e.sidx.map?e.sidx.map:null,r=e.sidx.duration,i=e.timeline||0,a=e.sidx.byterange,s=a.offset+a.length,l=t.timescale,c=t.references.filter(function(e){return 1!==e.referenceType}),u=[],d=s+t.firstOffset,p=0;p<c.length;p++){var h=t.references[p],g=h.referencedSize,f=h.subsegmentDuration,m=b({baseUrl:o,timescale:l,timeline:i,periodIndex:i,duration:f,sourceDuration:r,indexRange:d+"-"+(d+g-1)})[0];n&&(m.map=n),u.push(m),d+=g}return e.segments=u,e},E=function(e){return function(t){return Object.keys(t).map(function(e){return t[e]})}(e.reduce(function(e,t){var o,n=t.attributes.id+(t.attributes.lang||"");e[n]?(t.segments[0]&&(t.segments[0].discontinuity=!0),(o=e[n].segments).push.apply(o,t.segments),t.attributes.contentProtection&&(e[n].attributes.contentProtection=t.attributes.contentProtection)):e[n]=t;return e},{})).map(function(e){return e.discontinuityStarts=function(e,n){return e.reduce(function(e,t,o){return t[n]&&e.push(o),e},[])}(e.segments,"discontinuity"),e})},T=function(e,t){if(void 0===t&&(t={}),!Object.keys(t).length)return e;for(var o in e){var n=e[o];if(n.sidx){var r=n.sidx.uri+"-"+(a=n.sidx.byterange,void 0,s=a.offset+a.length-1,a.offset+"-"+s),i=t[r]&&t[r].sidx;n.sidx&&i&&d(n,i,n.sidx.resolvedUri)}}var a,s;return e},S=function(e){var t,o=e.attributes,n=e.segments,r=e.sidx,i={attributes:(t={NAME:o.id,AUDIO:"audio",SUBTITLES:"subs",RESOLUTION:{width:o.width,height:o.height},CODECS:o.codecs,BANDWIDTH:o.bandwidth},t["PROGRAM-ID"]=1,t),uri:"",endList:"static"===(o.type||"static"),timeline:o.periodIndex,resolvedUri:"",targetDuration:o.duration,segments:n,mediaSequence:n.length?n[0].number:1};return o.contentProtection&&(i.contentProtection=o.contentProtection),r&&(i.sidx=r),i},k=function(e,t){var o;if(void 0===t&&(t={}),!e.length)return{};var n=e[0].attributes,r=n.sourceDuration,i=n.minimumUpdatePeriod,a=void 0===i?0:i,s=E(e.filter(function(e){var t=e.attributes;return"video/mp4"===t.mimeType||"video"===t.contentType})).map(S),l=E(e.filter(function(e){var t=e.attributes;return"audio/mp4"===t.mimeType||"audio"===t.contentType})),c=e.filter(function(e){var t=e.attributes;return"text/vtt"===t.mimeType||"text"===t.contentType}),u={allowCache:!0,discontinuityStarts:[],segments:[],endList:!0,mediaGroups:(o={AUDIO:{},VIDEO:{}},o["CLOSED-CAPTIONS"]={},o.SUBTITLES={},o),uri:"",duration:r,playlists:T(s,t),minimumUpdatePeriod:1e3*a};return l.length&&(u.mediaGroups.AUDIO.audio=function(e,a){var s;void 0===a&&(a={});var t=e.reduce(function(e,t){var o=t.attributes.role&&t.attributes.role.value||"",n=t.attributes.lang||"",r="main";if(n){var i=o?" ("+o+")":"";r=t.attributes.lang+i}return e[r]&&e[r].playlists[0].attributes.BANDWIDTH>t.attributes.bandwidth||(e[r]={language:n,autoselect:!0,default:"main"===o,playlists:T([function(e){var t,o=e.attributes,n=e.segments,r=e.sidx,i={attributes:(t={NAME:o.id,BANDWIDTH:o.bandwidth,CODECS:o.codecs},t["PROGRAM-ID"]=1,t),uri:"",endList:"static"===(o.type||"static"),timeline:o.periodIndex,resolvedUri:"",targetDuration:o.duration,segments:n,mediaSequence:n.length?n[0].number:1};return o.contentProtection&&(i.contentProtection=o.contentProtection),r&&(i.sidx=r),i}(t)],a),uri:""},void 0===s&&"main"===o&&((s=t).default=!0)),e},{});s||(t[Object.keys(t)[0]].default=!0);return t}(l,t)),c.length&&(u.mediaGroups.SUBTITLES.subs=function(e,n){return void 0===n&&(n={}),e.reduce(function(e,t){var o=t.attributes.lang||"text";return e[o]||(e[o]={language:o,default:!1,autoselect:!1,playlists:T([function(e){var t,o=e.attributes,n=e.segments;return void 0===n&&(n=[{uri:o.baseUrl,timeline:o.periodIndex,resolvedUri:o.baseUrl||"",duration:o.sourceDuration,number:0}],o.duration=o.sourceDuration),{attributes:(t={NAME:o.id,BANDWIDTH:o.bandwidth},t["PROGRAM-ID"]=1,t),uri:"",endList:"static"===(o.type||"static"),timeline:o.periodIndex,resolvedUri:o.baseUrl||"",targetDuration:o.duration,segments:n,mediaSequence:n.length?n[0].number:1}}(t)],n),uri:""}),e},{})}(c,t)),u},C=function(e,t){for(var o,n,r,i,a,s,l,c,u,d,p,h,g=e.type,f=void 0===g?"static":g,m=e.minimumUpdatePeriod,y=void 0===m?0:m,_=e.media,v=void 0===_?"":_,b=e.sourceDuration,E=e.timescale,T=void 0===E?1:E,S=e.startNumber,k=void 0===S?1:S,C=e.periodIndex,A=[],O=-1,w=0;w<t.length;w++){var B=t[w],I=B.d,R=B.r||0,N=B.t||0;O<0&&(O=N),N&&O<N&&(O=N);var P=void 0;if(R<0){var L=w+1;P=L===t.length?"dynamic"===f&&0<y&&0<v.indexOf("$Number$")?(n=O,r=I,void 0,i=(o=e).NOW,a=o.clientOffset,s=o.availabilityStartTime,l=o.timescale,c=void 0===l?1:l,u=o.start,d=void 0===u?0:u,p=o.minimumUpdatePeriod,h=(i+a)/1e3+(void 0===p?0:p)-(s+d),Math.ceil((h*c-n)/r)):(b*T-O)/I:(t[L].t-O)/I}else P=R+1;for(var x=k+A.length+P,D=k+A.length;D<x;)A.push({number:D,duration:I/T,time:O,timeline:C}),O+=I,D++}return A},A=/\$([A-z]*)(?:(%0)([0-9]+)d)?\$/g,O=function(e,t){return e.replace(A,function(i){return function(e,t,o,n){if("$$"===e)return"$";if(void 0===i[t])return e;var r=""+i[t];return"RepresentationID"===t?r:(n=o?parseInt(n,10):1)<=r.length?r:new Array(n-r.length+1).join("0")+r}}(t))},w=function(o,e){var n={RepresentationID:o.id,Bandwidth:o.bandwidth||0},t=o.initialization,r=void 0===t?{sourceURL:"",range:""}:t,i=_({baseUrl:o.baseUrl,source:O(r.sourceURL,n),range:r.range});return function(e,t){return e.duration||t?e.duration?v(e):C(e,t):[{number:e.startNumber||1,duration:e.sourceDuration,time:0,timeline:e.periodIndex}]}(o,e).map(function(e){n.Number=e.number,n.Time=e.time;var t=O(o.media||"",n);return{uri:t,timeline:e.timeline,duration:e.duration,resolvedUri:y(o.baseUrl||"",t),map:i,number:e.number}})},B=function(t,e){var o=t.duration,n=t.segmentUrls,r=void 0===n?[]:n;if(!o&&!e||o&&e)throw new Error(s);var i,a=r.map(function(e){return function(e,t){var o=e.baseUrl,n=e.initialization,r=void 0===n?{}:n,i=_({baseUrl:o,source:r.sourceURL,range:r.range}),a=_({baseUrl:o,source:t.media,range:t.mediaRange});return a.map=i,a}(t,e)});return o&&(i=v(t)),e&&(i=C(t,e)),i.map(function(e,t){if(a[t]){var o=a[t];return o.timeline=e.timeline,o.duration=e.duration,o.number=e.number,o}}).filter(function(e){return e})},I=function(e){var t,o,n=e.attributes,r=e.segmentInfo;r.template?(o=w,t=h(n,r.template)):r.base?(o=b,t=h(n,r.base)):r.list&&(o=B,t=h(n,r.list));var i={attributes:n};if(!o)return i;var a=o(t,r.timeline);if(t.duration){var s=t,l=s.duration,c=s.timescale,u=void 0===c?1:c;t.duration=l/u}else a.length?t.duration=a.reduce(function(e,t){return Math.max(e,Math.ceil(t.duration))},0):t.duration=0;return i.attributes=t,i.segments=a,r.base&&t.indexRange&&(i.sidx=a[0],i.segments=[]),i},R=function(e,t){return o(e.childNodes).filter(function(e){return e.tagName===t})},N=function(e){return e.textContent.trim()},P=function(e){var t=/P(?:(\d*)Y)?(?:(\d*)M)?(?:(\d*)D)?(?:T(?:(\d*)H)?(?:(\d*)M)?(?:([\d.]*)S)?)?/.exec(e);if(!t)return 0;var o=t.slice(1),n=o[0],r=o[1],i=o[2],a=o[3],s=o[4],l=o[5];return 31536e3*parseFloat(n||0)+2592e3*parseFloat(r||0)+86400*parseFloat(i||0)+3600*parseFloat(a||0)+60*parseFloat(s||0)+parseFloat(l||0)},L={mediaPresentationDuration:function(e){return P(e)},availabilityStartTime:function(e){return function(e){return/^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/.test(e)&&(e+="Z"),Date.parse(e)}(e)/1e3},minimumUpdatePeriod:function(e){return P(e)},timeShiftBufferDepth:function(e){return P(e)},start:function(e){return P(e)},width:function(e){return parseInt(e,10)},height:function(e){return parseInt(e,10)},bandwidth:function(e){return parseInt(e,10)},startNumber:function(e){return parseInt(e,10)},timescale:function(e){return parseInt(e,10)},duration:function(e){var t=parseInt(e,10);return isNaN(t)?P(e):t},d:function(e){return parseInt(e,10)},t:function(e){return parseInt(e,10)},r:function(e){return parseInt(e,10)},DEFAULT:function(e){return e}},x=function(e){return e&&e.attributes?o(e.attributes).reduce(function(e,t){var o=L[t.name]||L.DEFAULT;return e[t.name]=o(t.value),e},{}):{}};var D={"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b":"org.w3.clearkey","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":"com.widevine.alpha","urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb":"com.adobe.primetime"},M=function(e,o){return o.length?g(e.map(function(t){return o.map(function(e){return y(t,N(e))})})):e},U=function(e){var t=R(e,"SegmentTemplate")[0],o=R(e,"SegmentList")[0],n=o&&R(o,"SegmentURL").map(function(e){return h({tag:"SegmentURL"},x(e))}),r=R(e,"SegmentBase")[0],i=o||t,a=i&&R(i,"SegmentTimeline")[0],s=o||r||t,l=s&&R(s,"Initialization")[0],c=t&&x(t);c&&l?c.initialization=l&&x(l):c&&c.initialization&&(c.initialization={sourceURL:c.initialization});var u={template:c,timeline:a&&R(a,"S").map(function(e){return x(e)}),list:o&&h(x(o),{segmentUrls:n,initialization:x(l)}),base:r&&h(x(r),{initialization:x(l)})};return Object.keys(u).forEach(function(e){u[e]||delete u[e]}),u},F=function(e){return e.reduce(function(e,t){var o=x(t),n=D[o.schemeIdUri];if(n){e[n]={attributes:o};var r=R(t,"cenc:pssh")[0];if(r){var i=N(r),a=i&&function(e){for(var t=p.a.atob(e),o=new Uint8Array(t.length),n=0;n<t.length;n++)o[n]=t.charCodeAt(n);return o}(i);e[n].pssh=a}}return e},{})},H=function(u,d,p){return function(e){var t=x(e),o=M(d,R(e,"BaseURL")),n=R(e,"Role")[0],r={role:x(n)},i=h(u,t,r),a=F(R(e,"ContentProtection"));Object.keys(a).length&&(i=h(i,{contentProtection:a}));var s=U(e),l=R(e,"Representation"),c=h(p,s);return g(l.map(function(i,a,s){return function(e){var t=R(e,"BaseURL"),o=M(a,t),n=h(i,x(e)),r=U(e);return o.map(function(e){return{segmentInfo:h(s,r),attributes:h(n,{baseUrl:e})}})}}(i,o,c)))}},j=function(e,t){void 0===t&&(t={});var o=t,n=o.manifestUri,r=void 0===n?"":n,i=o.NOW,a=void 0===i?Date.now():i,s=o.clientOffset,l=void 0===s?0:s,c=R(e,"Period");if(!c.length)throw new Error(f);var u=x(e),d=M([r],R(e,"BaseURL"));return u.sourceDuration=u.mediaPresentationDuration||0,u.NOW=a,u.clientOffset=l,g(c.map(function(c,u){return function(e,t){var o=M(u,R(e,"BaseURL")),n=x(e),r=parseInt(n.id,10),i=p.a.isNaN(r)?t:r,a=h(c,{periodIndex:i}),s=R(e,"AdaptationSet"),l=U(e);return g(s.map(H(a,o,l)))}}(u,d)))},G=function(e){if(""===e)throw new Error(n);var t=(new p.a.DOMParser).parseFromString(e,"application/xml"),o=t&&"MPD"===t.documentElement.tagName?t.documentElement:null;if(!o||o&&0<o.getElementsByTagName("parsererror").length)throw new Error(i);return o},V=function(e,t){return void 0===t&&(t={}),k(function(e){return e.map(I)}(j(G(e),t)),t.sidxMapping)},W=function(e){return function(e){var t=R(e,"UTCTiming")[0];if(!t)return null;var o=x(t);switch(o.schemeIdUri){case"urn:mpeg:dash:utc:http-head:2014":case"urn:mpeg:dash:utc:http-head:2012":o.method="HEAD";break;case"urn:mpeg:dash:utc:http-xsdate:2014":case"urn:mpeg:dash:utc:http-iso:2014":case"urn:mpeg:dash:utc:http-xsdate:2012":case"urn:mpeg:dash:utc:http-iso:2012":o.method="GET";break;case"urn:mpeg:dash:utc:direct:2014":case"urn:mpeg:dash:utc:direct:2012":o.method="DIRECT",o.value=Date.parse(o.value);break;case"urn:mpeg:dash:utc:http-ntp:2014":case"urn:mpeg:dash:utc:ntp:2014":case"urn:mpeg:dash:utc:sntp:2014":default:throw new Error(a)}return o}(G(e))}}).call(this,q(25))},705:function(e,t,o){var a;e.exports=(a=o(896),function(u){var e=a,t=e.lib,o=t.WordArray,n=t.Hasher,r=e.algo,A=[];!function(){for(var e=0;e<64;e++)A[e]=4294967296*u.abs(u.sin(e+1))|0}();var i=r.MD5=n.extend({_doReset:function(){this._hash=new o.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(e,t){for(var o=0;o<16;o++){var n=t+o,r=e[n];e[n]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8)}var i=this._hash.words,a=e[t+0],s=e[t+1],l=e[t+2],c=e[t+3],u=e[t+4],d=e[t+5],p=e[t+6],h=e[t+7],g=e[t+8],f=e[t+9],m=e[t+10],y=e[t+11],_=e[t+12],v=e[t+13],b=e[t+14],E=e[t+15],T=i[0],S=i[1],k=i[2],C=i[3];S=I(S=I(S=I(S=I(S=B(S=B(S=B(S=B(S=w(S=w(S=w(S=w(S=O(S=O(S=O(S=O(S,k=O(k,C=O(C,T=O(T,S,k,C,a,7,A[0]),S,k,s,12,A[1]),T,S,l,17,A[2]),C,T,c,22,A[3]),k=O(k,C=O(C,T=O(T,S,k,C,u,7,A[4]),S,k,d,12,A[5]),T,S,p,17,A[6]),C,T,h,22,A[7]),k=O(k,C=O(C,T=O(T,S,k,C,g,7,A[8]),S,k,f,12,A[9]),T,S,m,17,A[10]),C,T,y,22,A[11]),k=O(k,C=O(C,T=O(T,S,k,C,_,7,A[12]),S,k,v,12,A[13]),T,S,b,17,A[14]),C,T,E,22,A[15]),k=w(k,C=w(C,T=w(T,S,k,C,s,5,A[16]),S,k,p,9,A[17]),T,S,y,14,A[18]),C,T,a,20,A[19]),k=w(k,C=w(C,T=w(T,S,k,C,d,5,A[20]),S,k,m,9,A[21]),T,S,E,14,A[22]),C,T,u,20,A[23]),k=w(k,C=w(C,T=w(T,S,k,C,f,5,A[24]),S,k,b,9,A[25]),T,S,c,14,A[26]),C,T,g,20,A[27]),k=w(k,C=w(C,T=w(T,S,k,C,v,5,A[28]),S,k,l,9,A[29]),T,S,h,14,A[30]),C,T,_,20,A[31]),k=B(k,C=B(C,T=B(T,S,k,C,d,4,A[32]),S,k,g,11,A[33]),T,S,y,16,A[34]),C,T,b,23,A[35]),k=B(k,C=B(C,T=B(T,S,k,C,s,4,A[36]),S,k,u,11,A[37]),T,S,h,16,A[38]),C,T,m,23,A[39]),k=B(k,C=B(C,T=B(T,S,k,C,v,4,A[40]),S,k,a,11,A[41]),T,S,c,16,A[42]),C,T,p,23,A[43]),k=B(k,C=B(C,T=B(T,S,k,C,f,4,A[44]),S,k,_,11,A[45]),T,S,E,16,A[46]),C,T,l,23,A[47]),k=I(k,C=I(C,T=I(T,S,k,C,a,6,A[48]),S,k,h,10,A[49]),T,S,b,15,A[50]),C,T,d,21,A[51]),k=I(k,C=I(C,T=I(T,S,k,C,_,6,A[52]),S,k,c,10,A[53]),T,S,m,15,A[54]),C,T,s,21,A[55]),k=I(k,C=I(C,T=I(T,S,k,C,g,6,A[56]),S,k,E,10,A[57]),T,S,p,15,A[58]),C,T,v,21,A[59]),k=I(k,C=I(C,T=I(T,S,k,C,u,6,A[60]),S,k,y,10,A[61]),T,S,l,15,A[62]),C,T,f,21,A[63]),i[0]=i[0]+T|0,i[1]=i[1]+S|0,i[2]=i[2]+k|0,i[3]=i[3]+C|0},_doFinalize:function(){var e=this._data,t=e.words,o=8*this._nDataBytes,n=8*e.sigBytes;t[n>>>5]|=128<<24-n%32;var r=u.floor(o/4294967296),i=o;t[15+(64+n>>>9<<4)]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8),t[14+(64+n>>>9<<4)]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8),e.sigBytes=4*(t.length+1),this._process();for(var a=this._hash,s=a.words,l=0;l<4;l++){var c=s[l];s[l]=16711935&(c<<8|c>>>24)|4278255360&(c<<24|c>>>8)}return a},clone:function(){var e=n.clone.call(this);return e._hash=this._hash.clone(),e}});function O(e,t,o,n,r,i,a){var s=e+(t&o|~t&n)+r+a;return(s<<i|s>>>32-i)+t}function w(e,t,o,n,r,i,a){var s=e+(t&n|o&~n)+r+a;return(s<<i|s>>>32-i)+t}function B(e,t,o,n,r,i,a){var s=e+(t^o^n)+r+a;return(s<<i|s>>>32-i)+t}function I(e,t,o,n,r,i,a){var s=e+(o^(t|~n))+r+a;return(s<<i|s>>>32-i)+t}e.MD5=n._createHelper(i),e.HmacMD5=n._createHmacHelper(i)}(Math),a.MD5)},706:function(e,t,o){"use strict";function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=r(o(1)),n=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var o={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(o,r,i):o[r]=e[r]}o.default=e,t&&t.set(e,o);return o}(o(538)),c=r(o(18));function s(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function r(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(null==e)return{};var o,n,r=function(e,t){if(null==e)return{};var o,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)o=i[n],0<=t.indexOf(o)||(r[o]=e[o]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)o=i[n],0<=t.indexOf(o)||Object.prototype.propertyIsEnumerable.call(e,o)&&(r[o]=e[o])}return r}var i=function(e,t){var a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},s=n.sort({getSortingColumns:e,onSort:t});return function(e,t){var o=s(e,t),n=o.className,r=u(o,["className"]),i=l.default.createElement(c.default,{icon:"sort",className:"fa-fw",style:a.default});return/sort-asc/.test(n)?i=l.default.createElement(c.default,{icon:"sort-asc",className:"fa-fw",style:a.sortAsc}):/sort-desc/.test(n)&&(i=l.default.createElement(c.default,{icon:"sort-desc",className:"fa-fw",style:a.sortDesc})),function(r){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{},t=Object.keys(Object(i));"function"==typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(i).filter(function(e){return Object.getOwnPropertyDescriptor(i,e).enumerable}))),t.forEach(function(e){var t,o,n;t=r,n=i[o=e],o in t?Object.defineProperty(t,o,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[o]=n})}return r}({},r,{style:Object.assign({},{cursor:"pointer"}),children:l.default.createElement("span",{style:a.container},l.default.createElement("span",null,i),l.default.createElement("span",null,e))})}};t.default=i,e.exports=t.default},708:function(e,t,o){"use strict";var n=o(331),r={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},d={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},i={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},a={};function p(e){return n.isMemo(e)?i:a[e.$$typeof]||r}a[n.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0};var h=Object.defineProperty,g=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,m=Object.getOwnPropertyDescriptor,y=Object.getPrototypeOf,_=Object.prototype;e.exports=function e(t,o,n){if("string"==typeof o)return t;if(_){var r=y(o);r&&r!==_&&e(t,r,n)}var i=g(o);f&&(i=i.concat(f(o)));for(var a=p(t),s=p(o),l=0;l<i.length;++l){var c=i[l];if(!(d[c]||n&&n[c]||s&&s[c]||a&&a[c])){var u=m(o,c);try{h(t,c,u)}catch(e){}}}return t}},709:function(e,t,o){"use strict";function n(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{},n=Object.keys(Object(o));"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(o).filter(function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable}))),n.forEach(function(e){r(t,e,o[e])})}return t}function r(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:l,t=1<arguments.length?arguments[1]:void 0;switch(t.type){case i:return n({},e,{isOpen:!0});case a:return n({},e,{isOpen:!1});case s:return n({},e,{exportGeneratedProperties:t.exportGeneratedProperties});default:return e}},t.showExportDialog=function(){return{type:i}},t.hideExportDialog=function(){return{type:a}},t.setExportGeneratedProperties=function(e){return{type:s,exportGeneratedProperties:e}};var i="exportDialog/SHOW_EXPORT_DIALOG",a="exportDialog/HIDE_EXPORT_DIALOG",s="exportDialog/SET_EXPORT_GENERATED_PROPERTIES",l={isOpen:!1,exportGeneratedProperties:{}}},710:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isRtlFromDOM=i,t.default=function(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0],t=1<arguments.length?arguments[1]:void 0;return t.type!==n?e:t.isRtl},t.setRtlFromDOM=t.setRtl=void 0;var n="isRtl/SET_RTL",r=function(e){return{type:n,isRtl:e}};t.setRtl=r;function i(){var e=document.getElementsByTagName("head")[0];if(e&&e.parentElement){var t=e.parentElement.getAttribute("dir");return!(!t||"rtl"!==t.toLowerCase())}return!1}t.setRtlFromDOM=function(){return r(i())}},714:function(e,t,o){var n,r,i=o(1882),a=[],s=[];function l(){n&&(r?r.setAnnotations(a.concat(s)):n.setAnnotations(a.concat(s)))}e.exports={detachFromSession:function(){r=n=null},attachToSession:function(e,t){if(n&&e!==n)throw new Error("Already attached to ace session");n=e,r=t},setJSLintAnnotations:function(e,t){i.processResults(e,t),a=e.data.slice(),l()},getJSLintAnnotations:function(){return a},addRuntimeAnnotation:function(e,t,o){var n={row:t-1,col:0,raw:o,text:o,type:e.toLowerCase()};s.push(n),l()},clearRuntimeAnnotations:function(){0!==s.length&&(s=[],l())}}},716:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var c=e.prefixMap,u=e.plugins;return function e(t){for(var o in t){var n=t[o];if((0,g.default)(n))t[o]=e(n);else if(Array.isArray(n)){for(var r=[],i=0,a=n.length;i<a;++i){var s=(0,p.default)(u,o,n[i],t,c);(0,h.default)(r,s||n[i])}0<r.length&&(t[o]=r)}else{var l=(0,p.default)(u,o,n,t,c);l&&(t[o]=l),t=(0,d.default)(c,o,t)}}return t}};var d=n(o(514)),p=n(o(278)),h=n(o(279)),g=n(o(280));function n(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},717:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function n(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,o){return t&&n(e.prototype,t),o&&n(e,o),e}}();t.default=function(e){var i=e.prefixMap,l=e.plugins,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:function(e){return e};return function(){function r(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r);var t="undefined"!=typeof navigator?navigator.userAgent:void 0;if(this._userAgent=e.userAgent||t,this._keepUnprefixed=e.keepUnprefixed||!1,this._userAgent&&(this._browserInfo=(0,a.default)(this._userAgent)),!this._browserInfo||!this._browserInfo.cssPrefix)return!(this._useFallback=!0);this.prefixedKeyframes=(0,s.default)(this._browserInfo.browserName,this._browserInfo.browserVersion,this._browserInfo.cssPrefix);var o=this._browserInfo.browserName&&i[this._browserInfo.browserName];if(o){for(var n in this._requiresPrefix={},o)o[n]>=this._browserInfo.browserVersion&&(this._requiresPrefix[n]=!0);this._hasPropsRequiringPrefix=0<Object.keys(this._requiresPrefix).length}else this._useFallback=!0;this._metaData={browserVersion:this._browserInfo.browserVersion,browserName:this._browserInfo.browserName,cssPrefix:this._browserInfo.cssPrefix,jsPrefix:this._browserInfo.jsPrefix,keepUnprefixed:this._keepUnprefixed,requiresPrefix:this._requiresPrefix}}return n(r,[{key:"prefix",value:function(e){return this._useFallback?t(e):this._hasPropsRequiringPrefix?this._prefixStyle(e):e}},{key:"_prefixStyle",value:function(e){for(var t in e){var o=e[t];if((0,d.default)(o))e[t]=this.prefix(o);else if(Array.isArray(o)){for(var n=[],r=0,i=o.length;r<i;++r){var a=(0,p.default)(l,t,o[r],e,this._metaData);(0,u.default)(n,a||o[r])}0<n.length&&(e[t]=n)}else{var s=(0,p.default)(l,t,o,e,this._metaData);s&&(e[t]=s),this._requiresPrefix.hasOwnProperty(t)&&(e[this._browserInfo.jsPrefix+(0,c.default)(t)]=o,this._keepUnprefixed||delete e[t])}}return e}}],[{key:"prefixAll",value:function(e){return t(e)}}]),r}()};var a=r(o(515)),s=r(o(517)),c=r(o(175)),u=r(o(279)),d=r(o(280)),p=r(o(278));function r(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},718:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if("string"==typeof t&&!(0,i.default)(t)&&-1<t.indexOf("calc("))return a.map(function(e){return t.replace(/calc\(/g,e+"calc(")})};var n,r=o(79),i=(n=r)&&n.__esModule?n:{default:n};var a=["-webkit-","-moz-",""];e.exports=t.default},719:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if("string"==typeof t&&!(0,i.default)(t)&&-1<t.indexOf("cross-fade("))return a.map(function(e){return t.replace(/cross-fade\(/g,e+"cross-fade(")})};var n,r=o(79),i=(n=r)&&n.__esModule?n:{default:n};var a=["-webkit-",""];e.exports=t.default},72:function(e,t,o){"use strict";e.exports=function(e,t){var o=[],n=-1,r=e.length;t&&o.push(i("text","\n"));for(;++n<r;)n&&o.push(i("text","\n")),o.push(e[n]);t&&0!==e.length&&o.push(i("text","\n"));return o};var i=o(26)},720:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if("cursor"===e&&r.hasOwnProperty(t))return n.map(function(e){return e+t})};var n=["-webkit-","-moz-",""],r={"zoom-in":!0,"zoom-out":!0,grab:!0,grabbing:!0};e.exports=t.default},721:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if("string"==typeof t&&!(0,i.default)(t)&&-1<t.indexOf("filter("))return a.map(function(e){return t.replace(/filter\(/g,e+"filter(")})};var n,r=o(79),i=(n=r)&&n.__esModule?n:{default:n};var a=["-webkit-",""];e.exports=t.default},722:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if("display"===e&&n.hasOwnProperty(t))return n[t]};var n={flex:["-webkit-box","-moz-box","-ms-flexbox","-webkit-flex","flex"],"inline-flex":["-webkit-inline-box","-moz-inline-box","-ms-inline-flexbox","-webkit-inline-flex","inline-flex"]};e.exports=t.default},723:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,o){r.hasOwnProperty(e)&&(o[r[e]]=n[t]||t)};var n={"space-around":"distribute","space-between":"justify","flex-start":"start","flex-end":"end"},r={alignContent:"msFlexLinePack",alignSelf:"msFlexItemAlign",alignItems:"msFlexAlign",justifyContent:"msFlexPack",order:"msFlexOrder",flexGrow:"msFlexPositive",flexShrink:"msFlexNegative",flexBasis:"msFlexPreferredSize"};e.exports=t.default},724:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,o){"flexDirection"===e&&"string"==typeof t&&(-1<t.indexOf("column")?o.WebkitBoxOrient="vertical":o.WebkitBoxOrient="horizontal",-1<t.indexOf("reverse")?o.WebkitBoxDirection="reverse":o.WebkitBoxDirection="normal");r.hasOwnProperty(e)&&(o[r[e]]=n[t]||t)};var n={"space-around":"justify","space-between":"justify","flex-start":"start","flex-end":"end","wrap-reverse":"multiple",wrap:"multiple",flex:"box","inline-flex":"inline-box"},r={alignItems:"WebkitBoxAlign",justifyContent:"WebkitBoxPack",flexWrap:"WebkitBoxLines",flexGrow:"WebkitBoxFlex"};e.exports=t.default},725:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,o){if("string"==typeof o&&!(0,i.default)(o)&&s.test(o))return a.map(function(t){return o.replace(s,function(e){return t+e})})};var n,r=o(79),i=(n=r)&&n.__esModule?n:{default:n};var a=["-webkit-","-moz-",""],s=/linear-gradient|radial-gradient|repeating-linear-gradient|repeating-radial-gradient/gi;e.exports=t.default},726:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if("string"==typeof t&&!(0,i.default)(t)&&-1<t.indexOf("image-set("))return a.map(function(e){return t.replace(/image-set\(/g,e+"image-set(")})};var n,r=o(79),i=(n=r)&&n.__esModule?n:{default:n};var a=["-webkit-",""];e.exports=t.default},727:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if("position"===e&&"sticky"===t)return["-webkit-sticky","sticky"]},e.exports=t.default},728:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(r.hasOwnProperty(e)&&i.hasOwnProperty(t))return n.map(function(e){return e+t})};var n=["-webkit-","-moz-",""],r={maxHeight:!0,maxWidth:!0,width:!0,height:!0,columnWidth:!0,minWidth:!0,minHeight:!0},i={"min-content":!0,"max-content":!0,"fill-available":!0,"fit-content":!0,"contain-floats":!0};e.exports=t.default},729:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,o,n){if("string"==typeof t&&l.hasOwnProperty(e)){var r=function(e,t){if((0,h.default)(e))return e;for(var o=e.split(/,(?![^()]*(?:\([^()]*\))?\))/g),n=0,r=o.length;n<r;++n){var i=o[n],a=[i];for(var s in t){var l=(0,p.default)(s);if(-1<i.indexOf(l)&&"order"!==l)for(var c=t[s],u=0,d=c.length;u<d;++u)a.unshift(i.replace(l,g[c[u]]+l))}o[n]=a.join(",")}return o.join(",")}(t,n),i=r.split(/,(?![^()]*(?:\([^()]*\))?\))/g).filter(function(e){return!/-moz-|-ms-/.test(e)}).join(",");if(-1<e.indexOf("Webkit"))return i;var a=r.split(/,(?![^()]*(?:\([^()]*\))?\))/g).filter(function(e){return!/-webkit-|-ms-/.test(e)}).join(",");return-1<e.indexOf("Moz")?a:(o["Webkit"+(0,s.default)(e)]=i,o["Moz"+(0,s.default)(e)]=a,r)}};var p=n(o(281)),h=n(o(79)),s=n(o(175));function n(e){return e&&e.__esModule?e:{default:e}}var l={transition:!0,transitionProperty:!0,WebkitTransition:!0,WebkitTransitionProperty:!0,MozTransition:!0,MozTransitionProperty:!0},g={Webkit:"-webkit-",Moz:"-moz-",ms:"-ms-"};e.exports=t.default},73:function(e,t,o){"use strict";var n,r,i,a;function s(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var l=t.NAMESPACES={HTML:"http://www.w3.org/1999/xhtml",MATHML:"http://www.w3.org/1998/Math/MathML",SVG:"http://www.w3.org/2000/svg",XLINK:"http://www.w3.org/1999/xlink",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"};t.ATTRS={TYPE:"type",ACTION:"action",ENCODING:"encoding",PROMPT:"prompt",NAME:"name",COLOR:"color",FACE:"face",SIZE:"size"},t.DOCUMENT_MODE={NO_QUIRKS:"no-quirks",QUIRKS:"quirks",LIMITED_QUIRKS:"limited-quirks"};var c=t.TAG_NAMES={A:"a",ADDRESS:"address",ANNOTATION_XML:"annotation-xml",APPLET:"applet",AREA:"area",ARTICLE:"article",ASIDE:"aside",B:"b",BASE:"base",BASEFONT:"basefont",BGSOUND:"bgsound",BIG:"big",BLOCKQUOTE:"blockquote",BODY:"body",BR:"br",BUTTON:"button",CAPTION:"caption",CENTER:"center",CODE:"code",COL:"col",COLGROUP:"colgroup",DD:"dd",DESC:"desc",DETAILS:"details",DIALOG:"dialog",DIR:"dir",DIV:"div",DL:"dl",DT:"dt",EM:"em",EMBED:"embed",FIELDSET:"fieldset",FIGCAPTION:"figcaption",FIGURE:"figure",FONT:"font",FOOTER:"footer",FOREIGN_OBJECT:"foreignObject",FORM:"form",FRAME:"frame",FRAMESET:"frameset",H1:"h1",H2:"h2",H3:"h3",H4:"h4",H5:"h5",H6:"h6",HEAD:"head",HEADER:"header",HGROUP:"hgroup",HR:"hr",HTML:"html",I:"i",IMG:"img",IMAGE:"image",INPUT:"input",IFRAME:"iframe",KEYGEN:"keygen",LABEL:"label",LI:"li",LINK:"link",LISTING:"listing",MAIN:"main",MALIGNMARK:"malignmark",MARQUEE:"marquee",MATH:"math",MENU:"menu",META:"meta",MGLYPH:"mglyph",MI:"mi",MO:"mo",MN:"mn",MS:"ms",MTEXT:"mtext",NAV:"nav",NOBR:"nobr",NOFRAMES:"noframes",NOEMBED:"noembed",NOSCRIPT:"noscript",OBJECT:"object",OL:"ol",OPTGROUP:"optgroup",OPTION:"option",P:"p",PARAM:"param",PLAINTEXT:"plaintext",PRE:"pre",RB:"rb",RP:"rp",RT:"rt",RTC:"rtc",RUBY:"ruby",S:"s",SCRIPT:"script",SECTION:"section",SELECT:"select",SOURCE:"source",SMALL:"small",SPAN:"span",STRIKE:"strike",STRONG:"strong",STYLE:"style",SUB:"sub",SUMMARY:"summary",SUP:"sup",TABLE:"table",TBODY:"tbody",TEMPLATE:"template",TEXTAREA:"textarea",TFOOT:"tfoot",TD:"td",TH:"th",THEAD:"thead",TITLE:"title",TR:"tr",TRACK:"track",TT:"tt",U:"u",UL:"ul",SVG:"svg",VAR:"var",WBR:"wbr",XMP:"xmp"};t.SPECIAL_ELEMENTS=(s(a={},l.HTML,(s(n={},c.ADDRESS,!0),s(n,c.APPLET,!0),s(n,c.AREA,!0),s(n,c.ARTICLE,!0),s(n,c.ASIDE,!0),s(n,c.BASE,!0),s(n,c.BASEFONT,!0),s(n,c.BGSOUND,!0),s(n,c.BLOCKQUOTE,!0),s(n,c.BODY,!0),s(n,c.BR,!0),s(n,c.BUTTON,!0),s(n,c.CAPTION,!0),s(n,c.CENTER,!0),s(n,c.COL,!0),s(n,c.COLGROUP,!0),s(n,c.DD,!0),s(n,c.DETAILS,!0),s(n,c.DIR,!0),s(n,c.DIV,!0),s(n,c.DL,!0),s(n,c.DT,!0),s(n,c.EMBED,!0),s(n,c.FIELDSET,!0),s(n,c.FIGCAPTION,!0),s(n,c.FIGURE,!0),s(n,c.FOOTER,!0),s(n,c.FORM,!0),s(n,c.FRAME,!0),s(n,c.FRAMESET,!0),s(n,c.H1,!0),s(n,c.H2,!0),s(n,c.H3,!0),s(n,c.H4,!0),s(n,c.H5,!0),s(n,c.H6,!0),s(n,c.HEAD,!0),s(n,c.HEADER,!0),s(n,c.HGROUP,!0),s(n,c.HR,!0),s(n,c.HTML,!0),s(n,c.IFRAME,!0),s(n,c.IMG,!0),s(n,c.INPUT,!0),s(n,c.LI,!0),s(n,c.LINK,!0),s(n,c.LISTING,!0),s(n,c.MAIN,!0),s(n,c.MARQUEE,!0),s(n,c.MENU,!0),s(n,c.META,!0),s(n,c.NAV,!0),s(n,c.NOEMBED,!0),s(n,c.NOFRAMES,!0),s(n,c.NOSCRIPT,!0),s(n,c.OBJECT,!0),s(n,c.OL,!0),s(n,c.P,!0),s(n,c.PARAM,!0),s(n,c.PLAINTEXT,!0),s(n,c.PRE,!0),s(n,c.SCRIPT,!0),s(n,c.SECTION,!0),s(n,c.SELECT,!0),s(n,c.SOURCE,!0),s(n,c.STYLE,!0),s(n,c.SUMMARY,!0),s(n,c.TABLE,!0),s(n,c.TBODY,!0),s(n,c.TD,!0),s(n,c.TEMPLATE,!0),s(n,c.TEXTAREA,!0),s(n,c.TFOOT,!0),s(n,c.TH,!0),s(n,c.THEAD,!0),s(n,c.TITLE,!0),s(n,c.TR,!0),s(n,c.TRACK,!0),s(n,c.UL,!0),s(n,c.WBR,!0),s(n,c.XMP,!0),n)),s(a,l.MATHML,(s(r={},c.MI,!0),s(r,c.MO,!0),s(r,c.MN,!0),s(r,c.MS,!0),s(r,c.MTEXT,!0),s(r,c.ANNOTATION_XML,!0),r)),s(a,l.SVG,(s(i={},c.TITLE,!0),s(i,c.FOREIGN_OBJECT,!0),s(i,c.DESC,!0),i)),a)},730:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,o,n){var r=n.browserName,i=n.browserVersion,a=n.cssPrefix,s=n.keepUnprefixed;if("string"==typeof t&&-1<t.indexOf("calc(")&&("firefox"===r&&i<15||"chrome"===r&&i<25||"safari"===r&&i<6.1||"ios_saf"===r&&i<7))return(0,l.default)(t.replace(/calc\(/g,a+"calc("),t,s)};var n,r=o(36),l=(n=r)&&n.__esModule?n:{default:n};e.exports=t.default},731:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,o,n){var r=n.browserName,i=n.browserVersion,a=n.cssPrefix,s=n.keepUnprefixed;if("string"==typeof t&&-1<t.indexOf("cross-fade(")&&("chrome"===r||"opera"===r||"and_chr"===r||("ios_saf"===r||"safari"===r)&&i<10))return(0,l.default)(t.replace(/cross-fade\(/g,a+"cross-fade("),t,s)};var n,r=o(36),l=(n=r)&&n.__esModule?n:{default:n};e.exports=t.default},732:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,o,n){var r=n.browserName,i=n.browserVersion,a=n.cssPrefix,s=n.keepUnprefixed;if("cursor"===e&&c[t]&&("firefox"===r||"chrome"===r||"safari"===r||"opera"===r))return(0,l.default)(a+t,t,s);if("cursor"===e&&u[t]&&("firefox"===r&&i<24||"chrome"===r&&i<37||"safari"===r&&i<9||"opera"===r&&i<24))return(0,l.default)(a+t,t,s)};var n,r=o(36),l=(n=r)&&n.__esModule?n:{default:n};var c={grab:!0,grabbing:!0},u={"zoom-in":!0,"zoom-out":!0};e.exports=t.default},733:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,o,n){var r=n.browserName,i=n.browserVersion,a=n.cssPrefix,s=n.keepUnprefixed;if("string"==typeof t&&-1<t.indexOf("filter(")&&("ios_saf"===r||"safari"===r&&i<9.1))return(0,l.default)(t.replace(/filter\(/g,a+"filter("),t,s)};var n,r=o(36),l=(n=r)&&n.__esModule?n:{default:n};e.exports=t.default},734:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,o,n){var r=n.browserName,i=n.browserVersion,a=n.cssPrefix,s=n.keepUnprefixed;if("display"===e&&c[t]&&("chrome"===r&&i<29&&20<i||("safari"===r||"ios_saf"===r)&&i<9&&6<i||"opera"===r&&(15===i||16===i)))return(0,l.default)(a+t,t,s)};var n,r=o(36),l=(n=r)&&n.__esModule?n:{default:n};var c={flex:!0,"inline-flex":!0};e.exports=t.default},735:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,o,n){var r=n.browserName,i=n.browserVersion,a=n.cssPrefix,s=n.keepUnprefixed,l=n.requiresPrefix;if((d.hasOwnProperty(e)||"display"===e&&"string"==typeof t&&-1<t.indexOf("flex"))&&("ie_mob"===r||"ie"===r)&&10===i){if(delete l[e],s||Array.isArray(o[e])||delete o[e],"display"===e&&u.hasOwnProperty(t))return(0,c.default)(a+u[t],t,s);d.hasOwnProperty(e)&&(o[d[e]]=u[t]||t)}};var n,r=o(36),c=(n=r)&&n.__esModule?n:{default:n};var u={"space-around":"distribute","space-between":"justify","flex-start":"start","flex-end":"end",flex:"flexbox","inline-flex":"inline-flexbox"},d={alignContent:"msFlexLinePack",alignSelf:"msFlexItemAlign",alignItems:"msFlexAlign",justifyContent:"msFlexPack",order:"msFlexOrder",flexGrow:"msFlexPositive",flexShrink:"msFlexNegative",flexBasis:"msFlexPreferredSize"};e.exports=t.default},736:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,o,n){var r=n.browserName,i=n.browserVersion,a=n.cssPrefix,s=n.keepUnprefixed,l=n.requiresPrefix;if((-1<p.indexOf(e)||"display"===e&&"string"==typeof t&&-1<t.indexOf("flex"))&&("firefox"===r&&i<22||"chrome"===r&&i<21||("safari"===r||"ios_saf"===r)&&i<=6.1||"android"===r&&i<4.4||"and_uc"===r)){if(delete l[e],s||Array.isArray(o[e])||delete o[e],"flexDirection"===e&&"string"==typeof t&&(-1<t.indexOf("column")?o.WebkitBoxOrient="vertical":o.WebkitBoxOrient="horizontal",-1<t.indexOf("reverse")?o.WebkitBoxDirection="reverse":o.WebkitBoxDirection="normal"),"display"===e&&u.hasOwnProperty(t))return(0,c.default)(a+u[t],t,s);d.hasOwnProperty(e)&&(o[d[e]]=u[t]||t)}};var n,r=o(36),c=(n=r)&&n.__esModule?n:{default:n};var u={"space-around":"justify","space-between":"justify","flex-start":"start","flex-end":"end","wrap-reverse":"multiple",wrap:"multiple",flex:"box","inline-flex":"inline-box"},d={alignItems:"WebkitBoxAlign",justifyContent:"WebkitBoxPack",flexWrap:"WebkitBoxLines",flexGrow:"WebkitBoxFlex"},p=Object.keys(d).concat(["alignContent","alignSelf","order","flexGrow","flexShrink","flexBasis","flexDirection"]);e.exports=t.default},737:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,o,n){var r=n.browserName,i=n.browserVersion,a=n.cssPrefix,s=n.keepUnprefixed;if("string"==typeof t&&c.test(t)&&("firefox"===r&&i<16||"chrome"===r&&i<26||("safari"===r||"ios_saf"===r)&&i<7||("opera"===r||"op_mini"===r)&&i<12.1||"android"===r&&i<4.4||"and_uc"===r))return(0,l.default)(t.replace(c,function(e){return a+e}),t,s)};var n,r=o(36),l=(n=r)&&n.__esModule?n:{default:n};var c=/linear-gradient|radial-gradient|repeating-linear-gradient|repeating-radial-gradient/gi;e.exports=t.default},738:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,o,n){var r=n.browserName,i=n.cssPrefix,a=n.keepUnprefixed;if("string"==typeof t&&-1<t.indexOf("image-set(")&&("chrome"===r||"opera"===r||"and_chr"===r||"and_uc"===r||"ios_saf"===r||"safari"===r))return(0,s.default)(t.replace(/image-set\(/g,i+"image-set("),t,a)};var n,r=o(36),s=(n=r)&&n.__esModule?n:{default:n};e.exports=t.default},739:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,o,n){var r=n.browserName,i=n.cssPrefix,a=n.keepUnprefixed;if("position"===e&&"sticky"===t&&("safari"===r||"ios_saf"===r))return(0,s.default)(i+t,t,a)};var n,r=o(36),s=(n=r)&&n.__esModule?n:{default:n};e.exports=t.default},74:function(e,t,o){"use strict";var u=o(162),d=o(240),p=o(242);e.exports=function(e){var t,o,n=e.space,r=e.mustUseProperty||[],i=e.attributes||{},a=e.properties,s=e.transform,l={},c={};for(t in a)o=new p(t,s(i,t),a[t],n),-1!==r.indexOf(t)&&(o.mustUseProperty=!0),l[t]=o,c[u(t)]=t,c[u(o.attribute)]=t;return new d(l,c,n)}},740:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,o,n){var r=n.cssPrefix,i=n.keepUnprefixed;if(s.hasOwnProperty(e)&&l.hasOwnProperty(t))return(0,a.default)(r+t,t,i)};var n,r=o(36),a=(n=r)&&n.__esModule?n:{default:n};var s={maxHeight:!0,maxWidth:!0,width:!0,height:!0,columnWidth:!0,minWidth:!0,minHeight:!0},l={"min-content":!0,"max-content":!0,"fill-available":!0,"fit-content":!0,"contain-floats":!0};e.exports=t.default},741:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,o,n){var r=n.cssPrefix,i=n.keepUnprefixed,a=n.requiresPrefix;if("string"==typeof t&&c.hasOwnProperty(e)){u||(u=Object.keys(a).map(function(e){return(0,l.default)(e)}));var s=t.split(/,(?![^()]*(?:\([^()]*\))?\))/g);return u.forEach(function(o){s.forEach(function(e,t){-1<e.indexOf(o)&&"order"!==o&&(s[t]=e.replace(o,r+o)+(i?","+e:""))})}),s.join(",")}};var n,r=o(281),l=(n=r)&&n.__esModule?n:{default:n};var c={transition:!0,transitionProperty:!0,WebkitTransition:!0,WebkitTransitionProperty:!0,MozTransition:!0,MozTransitionProperty:!0},u=void 0;e.exports=t.default},742:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.convertChannelsToProjectData=t.MAX_PROJECTS_PER_CATEGORY=t.featuredProjectTableTypes=t.Galleries=t.projectPropType=t.featuredProjectDataPropType=t.personalProjectDataPropType=t.projectDataPropType=void 0;var n,r=(n=o(0))&&n.__esModule?n:{default:n};var i=r.default.shape({channel:r.default.string.isRequired,name:r.default.string,studentName:r.default.string,studentAgeRange:r.default.string,thumbnailUrl:r.default.string,type:r.default.string.isRequired,publishedAt:r.default.string.isRequired,publishedToPublic:r.default.bool.isRequired});t.projectDataPropType=i;var a=r.default.shape({channel:r.default.string.isRequired,name:r.default.string,thumbnailUrl:r.default.string,type:r.default.string.isRequired,updatedAt:r.default.string.isRequired,isPublished:r.default.bool,projectNameFailure:r.default.string});t.personalProjectDataPropType=a;var s=r.default.shape({projectName:r.default.string.isRequired,channel:r.default.string.isRequired,type:r.default.string.isRequired,publishedAt:r.default.string,thumbnailUrl:r.default.string,featuredAt:r.default.string.isRequired,unfeaturedAt:r.default.string});t.featuredProjectDataPropType=s;var l=r.default.shape({projectData:i.isRequired,currentGallery:r.default.string.isRequired});t.projectPropType=l;t.Galleries={PUBLIC:"PUBLIC",LIBRARIES:"LIBRARIES",PRIVATE:"PRIVATE"};t.featuredProjectTableTypes={current:"currentFeatured",archived:"archivedUnfeatured"};t.MAX_PROJECTS_PER_CATEGORY=100;t.convertChannelsToProjectData=function(e){return e.filter(function(e){return!e.hidden&&e.id&&e.projectType}).map(function(e){return{name:e.name,channel:e.id,thumbnailUrl:e.thumbnailUrl,type:e.projectType,isPublished:null!==e.publishedAt,updatedAt:e.updatedAt}})}},743:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sortableOptions=t.tableLayoutStyles=void 0;var n=i(o(6)),r=i(o(196));function i(e){return e&&e.__esModule?e:{default:e}}var a={table:{borderWidth:1,borderStyle:"solid",borderColor:n.default.border_gray,width:r.default["content-width"],backgroundColor:n.default.table_light_row},cell:{border:"1px solid",borderColor:n.default.border_light_gray,padding:10,fontSize:14},headerCell:{backgroundColor:n.default.table_header,fontWeight:"bold",borderColor:n.default.border_light_gray,borderStyle:"solid",borderBottomWidth:1,borderTopWidth:0,borderLeftWidth:0,borderRightWidth:1,paddingTop:20,paddingBottom:20,color:n.default.charcoal},link:{color:n.default.teal,fontFamily:'"Gotham 5r", sans-serif',fontSize:14,textDecoration:"none"},unsortableHeader:{paddingLeft:25}};t.tableLayoutStyles=a;t.sortableOptions={default:{color:"rgba(0, 0, 0, 0.2 )"}}},744:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={FIRST:"asc","":"asc",asc:"desc",desc:""}},747:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(o(0)),r=s(o(1)),i=s(o(6)),a=o(11);function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var c=function(e){function t(){return e.apply(this,arguments)||this}return function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(t,e),t.prototype.render=function(){var e={main:{position:"relative",zIndex:1e3,marginTop:20,marginLeft:(0,a.valueOr)(this.props.sideMargin,50),marginRight:(0,a.valueOr)(this.props.sideMargin,50)},typeSpecific:{error:{borderColor:i.default.bootstrap_error_border,backgroundColor:i.default.bootstrap_error_background,color:i.default.bootstrap_error_text},warning:{borderColor:i.default.bootstrap_warning_border,backgroundColor:i.default.bootstrap_warning_background,color:i.default.black},notification:{borderColor:i.default.light_green,backgroundColor:i.default.lighter_green,color:i.default.realgreen}},child:{padding:(0,a.valueOr)(this.props.childPadding,"8px 35px 8px 14px"),marginBottom:20,textShadoow:"0 1px 0 rgba(255, 255, 255, 0.5)",border:"1px solid",borderRadius:4},closeButton:{margin:0,padding:0,cursor:"pointer",background:"transparent",border:0,WebkitAppearance:"none",float:"right",fontSize:20,fontWeight:"bold",lineHeight:"20px",color:i.default.black,textShadow:"0 1px 0 white",opacity:.2,position:"relative",top:-2,right:-21}},t=function(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{},n=Object.keys(Object(o));"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(o).filter(function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable}))),n.forEach(function(e){l(t,e,o[e])})}return t}({},e.child,e.typeSpecific[this.props.type]),o="";return this.props.closeDelayMillis?setTimeout(this.props.onClose,this.props.closeDelayMillis):o=r.default.createElement("button",{type:"button",style:e.closeButton,onClick:this.props.onClose},r.default.createElement("span",null,"×")),r.default.createElement("div",{style:e.main},r.default.createElement("div",{style:t},o,this.props.children))},t}(r.default.Component);l(t.default=c,"propTypes",{children:n.default.element.isRequired,type:n.default.oneOf(["error","warning","notification"]).isRequired,onClose:n.default.func.isRequired,closeDelayMillis:n.default.number,sideMargin:n.default.number,childPadding:n.default.string}),e.exports=t.default},748:function(e,t,o){"use strict";function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.UnconnectedStageProgress=void 0;var n=g(o(0)),i=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var t=h();if(t&&t.has(e))return t.get(e);var o={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(o,r,i):o[r]=e[r]}o.default=e,t&&t.set(e,o);return o}(o(1)),r=o(9),s=g(o(6)),l=g(o(1053)),c=g(o(1054)),u=o(95),d=g(o(365)),p=o(57);function h(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return h=function(){return e},e}function g(e){return e&&e.__esModule?e:{default:e}}function f(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{},n=Object.keys(Object(o));"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(o).filter(function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable}))),n.forEach(function(e){m(t,e,o[e])})}return t}function m(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var y={headerContainer:{display:"flex",flexDirection:"row",alignItems:"center",paddingLeft:5,paddingRight:5,backgroundColor:s.default.lightest_gray,border:"1px solid ".concat(s.default.lighter_gray),borderRadius:5,height:40,marginLeft:4,marginRight:4},spacer:{marginRight:"auto"},stageTrophyContainer:{border:0,borderRadius:20,paddingLeft:8,paddingRight:0,minWidth:350,marginLeft:48},pillContainer:{paddingTop:4,paddingBottom:4}},_=function(e){function t(){return e.apply(this,arguments)||this}return function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(t,e),t.prototype.render=function(){var e=this.props,t=e.stageExtrasUrl,o=e.onStageExtras,n=e.stageTrophyEnabled,r=this.props.levels;return n&&(r=r.filter(function(e){return!e.isConceptLevel})),r=r.filter(function(e){return!e.bonus}),i.default.createElement("div",{className:"react_stage",style:f({},y.headerContainer,n&&y.stageTrophyContainer)},n&&i.default.createElement("div",{style:y.spacer}),r.map(function(e,t){return i.default.createElement("div",{key:t,style:f({},e.isUnplugged&&e.isCurrentLevel&&y.pillContainer)},i.default.createElement(d.default,{level:e,disabled:!1,smallBubble:!e.isCurrentLevel,stageTrophyEnabled:n}))}),t&&!n&&i.default.createElement(l.default,{stageExtrasUrl:t,onStageExtras:o}),n&&i.default.createElement(c.default,{percentPerfect:(0,u.getPercentPerfect)(r)}))},t}(i.Component);m(_,"propTypes",{levels:n.default.arrayOf(p.levelType).isRequired,stageExtrasUrl:n.default.string,onStageExtras:n.default.bool,stageTrophyEnabled:n.default.bool});var v=_;t.UnconnectedStageProgress=v;var b=(0,r.connect)(function(e){return{levels:(0,u.levelsForLessonId)(e.progress,e.progress.currentStageId),stageExtrasUrl:(0,u.stageExtrasUrl)(e.progress,e.progress.currentStageId),onStageExtras:"stage_extras"===e.progress.currentLevelId}})(_);t.default=b},749:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function n(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,o){return t&&n(e.prototype,t),o&&n(e,o),e}}(),r=l(o(1)),i=o(8),a=l(i),s=l(o(0));function l(e){return e&&e.__esModule?e:{default:e}}var c=27,u=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={active:!1},e.handleWrapperClick=e.handleWrapperClick.bind(e),e.closePortal=e.closePortal.bind(e),e.handleOutsideMouseClick=e.handleOutsideMouseClick.bind(e),e.handleKeydown=e.handleKeydown.bind(e),e.portal=null,e.node=null,e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default.Component),n(t,[{key:"componentDidMount",value:function(){this.props.closeOnEsc&&document.addEventListener("keydown",this.handleKeydown),this.props.closeOnOutsideClick&&(document.addEventListener("mouseup",this.handleOutsideMouseClick),document.addEventListener("touchstart",this.handleOutsideMouseClick)),this.props.isOpened&&this.openPortal()}},{key:"componentWillReceiveProps",value:function(e){void 0!==e.isOpened&&(e.isOpened&&(this.state.active?this.renderPortal(e):this.openPortal(e)),!e.isOpened&&this.state.active&&this.closePortal()),void 0===e.isOpened&&this.state.active&&this.renderPortal(e)}},{key:"componentWillUnmount",value:function(){this.props.closeOnEsc&&document.removeEventListener("keydown",this.handleKeydown),this.props.closeOnOutsideClick&&(document.removeEventListener("mouseup",this.handleOutsideMouseClick),document.removeEventListener("touchstart",this.handleOutsideMouseClick)),this.closePortal(!0)}},{key:"handleWrapperClick",value:function(e){e.preventDefault(),e.stopPropagation(),this.state.active||this.openPortal()}},{key:"openPortal",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.props;this.setState({active:!0}),this.renderPortal(e),this.props.onOpen(this.node)}},{key:"closePortal",value:function(){var t=this,o=0<arguments.length&&void 0!==arguments[0]&&arguments[0],e=function(e){t.node&&(a.default.unmountComponentAtNode(t.node),document.body.removeChild(t.node)),t.portal=null,!(t.node=null)!==(void 0===e?o:e)&&t.setState({active:!1})};this.state.active&&(this.props.beforeClose?this.props.beforeClose(this.node,e):e(),this.props.onClose())}},{key:"handleOutsideMouseClick",value:function(e){this.state.active&&((0,i.findDOMNode)(this.portal).contains(e.target)||e.button&&0!==e.button||(e.stopPropagation(),this.closePortal()))}},{key:"handleKeydown",value:function(e){e.keyCode===c&&this.state.active&&this.closePortal()}},{key:"renderPortal",value:function(e){this.node||(this.node=document.createElement("div"),document.body.appendChild(this.node));var t=e.children;"function"==typeof e.children.type&&(t=r.default.cloneElement(e.children,{closePortal:this.closePortal})),this.portal=a.default.unstable_renderSubtreeIntoContainer(this,t,this.node,this.props.onUpdate)}},{key:"render",value:function(){return this.props.openByClickOn?r.default.cloneElement(this.props.openByClickOn,{onClick:this.handleWrapperClick}):null}}]),t}();(t.default=u).propTypes={children:s.default.element.isRequired,openByClickOn:s.default.element,closeOnEsc:s.default.bool,closeOnOutsideClick:s.default.bool,isOpened:s.default.bool,onOpen:s.default.func,onClose:s.default.func,beforeClose:s.default.func,onUpdate:s.default.func},u.defaultProps={onOpen:function(){},onClose:function(){},onUpdate:function(){}},e.exports=t.default},75:function(e,t,o){"use strict";var u=o(256),d=o(254),p=o(257);e.exports=function(e){var t,o,n=e.space,r=e.mustUseProperty||[],i=e.attributes||{},a=e.properties,s=e.transform,l={},c={};for(t in a)o=new p(t,s(i,t),a[t],n),-1!==r.indexOf(t)&&(o.mustUseProperty=!0),l[t]=o,c[u(t)]=t,c[u(o.attribute)]=t;return new d(l,c,n)}},750:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getFunctions=r,t.createLibraryClosure=i,t.prepareLibraryForImport=a,t.createLibraryJson=s,t.suggestName=l,t.sanitizeName=c,t.default=void 0;var n=o(859);function r(e){return(0,n.getFunctionsAndMetadata)(e)}function i(e){var t=e.functions.map(function(e){return"".concat(e,": ").concat(e)}).join(",");return"var ".concat(e.name," = (function() {").concat(e.source,";\nreturn {").concat(t,"}})();")}function a(e,t,o,n){var r=JSON.parse(e);return r.originalName=r.name,n&&(r.name=n),r.dropletConfig.forEach(function(e){e.func="".concat(r.name,".").concat(e.func)}),r.versionId=o,r.channelId=t,r}function s(e,t,o,n){if("string"==typeof e&&Array.isArray(t)&&"string"==typeof o&&o&&"string"==typeof n){var r=function(e,t){var o=[],n=!0,r=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var l=a.value;if(!l.functionName)return;var c={func:l.functionName,category:"Functions",comment:l.comment};l.parameters&&0<l.parameters.length&&(c.params=l.parameters,c.paletteParams=l.parameters),o.push(c)}}catch(e){r=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(r)throw i}}return o}(t),i=t&&t.map(function(e){return e.functionName});if(r&&i)return JSON.stringify({name:o,description:n,functions:i,dropletConfig:r,source:e})}}function l(e){var t=c(e);return 0!==t.length&&isNaN(t.charAt(0))||(t="Lib"+t),t=t.charAt(0).toUpperCase()+t.slice(1)}function c(e){return e.replace(/\s+/g,"").replace(/\W/g,"")}var u={prepareLibraryForImport:a,getFunctions:r,createLibraryJson:s,suggestName:l,sanitizeName:c,createLibraryClosure:i};t.default=u},751:function(e,t,o){"use strict";function p(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{},n=Object.keys(Object(o));"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(o).filter(function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable}))),n.forEach(function(e){r(t,e,o[e])})}return t}function g(e){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.DEFAULT_EXECUTION_INFO=void 0;var i=o(1278),h=o(1279),f={ticks:5e5,checkTimeout:function(){if(this.ticks--<0)throw new Error("Infinity")},isTerminated:function(){return!1}};function s(e,t){try{return e[t]}catch(e){}}t.DEFAULT_EXECUTION_INFO=f;var n=function(a){function d(e,o,n){var t;return(t=a.call(this,e,function(e,t){if(!(o instanceof h))throw new Error("You must provide a CustomMarshaler to CustomMarshalingInterpreter");e.asyncFunctionList=[],e.customMarshaler=o,n&&n(e,t)})||this).ast&&"Program"===t.ast.type&&(t.ast.end=1),t}!function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(d,a);var e=d.prototype;return e.peekStackFrame=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0;return this.stateStack[this.stateStack.length-1-e]},e.popStackFrame=function(){return this.stateStack.pop()},e.pushStackFrame=function(e){return this.stateStack.push(e)},e.getStackDepth=function(){return this.stateStack.length},e.setStack=function(e){this.stateStack=e},e.shouldBlockCustomMarshalling_=function(e,t,o){if(-1!==this.customMarshaler.blockedProperties.indexOf(e))return!0;var n=t.isCustomMarshal?t.data[e]:o[e];return n instanceof Node||n instanceof Window},e.getProperty=function(e,t){var o;if(t=t.toString(),e.isCustomMarshal){if(this.shouldBlockCustomMarshalling_(t,e))return this.UNDEFINED;if(void 0===(o=e.data[t]))return a.prototype.getProperty.call(this,e,t)}else{var n=this.getNativeParent_(e,t);if(!n)return a.prototype.getProperty.call(this,e,t);o=n[t]}var r=g(o);return"number"===r||"boolean"===r||"string"===r||"undefined"===r||null===o?this.createPrimitive(o):this.marshalNativeToInterpreter(o,e.data)},e.getNativeParent_=function(e,t){var o,n=!1;if(e&&!e.isPrimitive&&(n=a.prototype.hasProperty.call(this,e,t)),!n&&e===this.global&&(o=this.customMarshaler.globalProperties[t])&&!this.shouldBlockCustomMarshalling_(t,e,o))return o},e.hasProperty=function(e,t){return t=t.toString(),e.isCustomMarshal?!this.shouldBlockCustomMarshalling_(t,e)&&(t in e.data||a.prototype.hasProperty.call(this,e,t)):!!this.getNativeParent_(e,t)||a.prototype.hasProperty.call(this,e,t)},e.setProperty=function(e,t,o,n){if(t=t.toString(),e.isCustomMarshal){if(!this.shouldBlockCustomMarshalling_(t,e)){if(!e.data.hasOwnProperty(t)&&o instanceof i.Object)return a.prototype.setProperty.call(this,e,t,o,n);e.data[t]=this.marshalInterpreterToNative(o)}}else{var r=this.getNativeParent_(e,t);if(!r)return a.prototype.setProperty.call(this,e,t,o,n);r[t]=this.marshalInterpreterToNative(o)}},e.setPropertyWithoutCustomMarshaling=function(){for(var e,t=arguments.length,o=new Array(t),n=0;n<t;n++)o[n]=arguments[n];return(e=a.prototype.setProperty).call.apply(e,[this].concat(o))},e.getValueFromScope=function(e){for(var t=this.getScope(),o=e.toString();t;){if(this.hasProperty(t,o))return this.getProperty(t,o);t=t.parentScope}if(t===this.global&&this.hasProperty(t,o))return this.getProperty(t,o);var n=this.stateStack[this.stateStack.length-1].node;return"UnaryExpression"===n.type&&"typeof"===n.operator?this.UNDEFINED:(this.throwException(this.REFERENCE_ERROR,o+" is not defined"),null)},e.setValueToScope=function(e,t,o){for(var n=this.getScope(),r=n.strict,i=e.toString();n;){if(this.hasProperty(n,i)||!r&&!n.parentScope)return void(o?a.prototype.setProperty.call(this,n,i,t):this.setProperty(n,i,t));n=n.parentScope}this.throwException("Unknown identifier: "+i)},e.setValue=function(e,t,o){return e instanceof Array?a.prototype.setValue.call(this,e,t):void this.setValueToScope(e,t,o)},e.stepVariableDeclaration=function(){var e=this.peekStackFrame(),t=e.node,o=e.n_||0;t.declarations[o]?(e.n_=o+1,this.stateStack.push({node:t.declarations[o]})):this.stateStack.pop()},e.stepVariableDeclarator=function(){var e=this.peekStackFrame(),t=e.node;if(t.init&&!e.done_)return e.done_=!0,void this.pushStackFrame({node:t.init});t.init&&this.setValue(this.createPrimitive(t.id.name),e.value,!0),this.popStackFrame()},d.evalWithEvents=function(e,r){var i,a,s,l=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"",t=3<arguments.length?arguments[3]:void 0,c=[],o=p({executionInfo:f},e);Object.keys(r).forEach(function(o){var e=r[o],t=e.code,n=e.args;"string"==typeof t&&(t=[t]),t.forEach(function(e,t){var r="".concat(o,"-").concat(t);c.push({name:o,func:function(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];var n={name:r,args:t};return a(i.marshalNativeToInterpreter(n,null,5)),i.run(),s}}),l+="this['".concat(r,"']=function(").concat(n?n.join():"","){").concat(e,"};")})});return(i=new d(l+";while(true){var _event=_wait();setReturnValue(this[_event.name].apply(null,_event.args));}",new h({objectList:t}),function(t,e){t.marshalNativeToInterpreterObject(o,5,e),t.setProperty(e,"_wait",t.createAsyncFunction(function(e){a=e})),t.setProperty(e,"setReturnValue",t.createNativeFunction(function(e){s=t.marshalInterpreterToNative(e)}))})).run(),{hooks:c,interpreter:i}},e.marshalNativeToInterpreterObject=function(e,t,o){var n=o||this.createObject(this.OBJECT),r=this.isa(n,this.FUNCTION);for(var i in e){var a=s(e,i);(!r||a!==Function.prototype.trigger&&a!==Function.prototype.inherits)&&this.setProperty(n,i,this.marshalNativeToInterpreter(a,e,t))}return n},e.marshalNativeToInterpreter=function(e,t,o){if(0===o||void 0===e)return this.UNDEFINED;var n,r;if(void 0===o&&(o=1/0),this.customMarshaler.shouldCustomMarshalObject(e,t))return this.customMarshaler.createCustomMarshalObject(this,e,t);if(e instanceof Array){for(r=this.createObject(this.ARRAY),n=0;n<e.length;n++)r.properties[n]=this.marshalNativeToInterpreter(e[n],null,o-1);r.length=e.length}else if(function(e){return"undefined"!=typeof Uint8ClampedArray?e instanceof Uint8ClampedArray:e instanceof CanvasPixelArray}(e)){for(r=this.createObject(this.ARRAY),n=0;n<e.length;n++)r.properties[n]=this.createPrimitive(e[n]);r.length=e.length}else if(e instanceof Function){var i={nativeFunc:e,nativeParentObj:t};-1!==this.asyncFunctionList.indexOf(e)&&(i.nativeIsAsync=!0);var a=this.customMarshaler.getCustomMarshalMethodOptions(t,e);for(var s in a)i[s]=a[s];var l=this.makeNativeMemberFunction(i);r=i.nativeIsAsync?this.createAsyncFunction(l):this.createNativeFunction(l),this.marshalNativeToInterpreterObject(e,o-1,r)}else r=e instanceof Object?this.isa(e,this.FUNCTION)?e:this.marshalNativeToInterpreterObject(e,o-1):this.createPrimitive(e);return r},d.evalWith=function(e,t){var o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},n=o.asyncFunctionList,r=o.legacy,i=p({executionInfo:f},t);if(r){var a=[],s=[];for(var l in i)a.push(l),s.push(i[l]);a.push(e);var c=function(){return Function.apply(this,a)};return c.prototype=Function.prototype,(new c).apply(null,s)}var u=new d("(function () { ".concat(e," })()"),new h({}),function(e,t){e.asyncFunctionList=n||[],e.marshalNativeToInterpreterObject(i,5,t)});return u.run(),u},e.marshalInterpreterToNative=function(e){if(e.isPrimitive||e.isCustomMarshal)return e.data;if(this.isa(e,this.ARRAY)){var t=[];t.length=e.length;for(var o=0;o<t.length;o++)t[o]=this.marshalInterpreterToNative(e.properties[o]);return t}if(this.isa(e,this.OBJECT)||"object"===e.type){var n={};for(var r in e.properties)e.notEnumerable[r]||(n[r]=this.marshalInterpreterToNative(e.properties[r]));return n}if(this.isa(e,this.FUNCTION))return d.createNativeFunctionFromInterpreterFunction?d.createNativeFunctionFromInterpreterFunction(e):e;throw new Error("Can't marshal type "+g(e))},e.createNativeCallbackForAsyncFunction_=function(t,o){var n=this;return function(e){o(n.marshalNativeToInterpreter(e,null,t.maxDepth))}},e.createNativeInterpreterCallback_=function(a,s){var l=this;return function(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];var n=t.map(function(e){return l.marshalNativeToInterpreter(e,null,a.maxDepth)}),r=a.callbackState||{};r.node={type:"CallExpression",arguments:n,end:1},r.doneCallee_=!0,r.func_=s,r.arguments_=n,r.n_=n.length,0<r.arguments_.length&&(r.value=r.arguments_.pop());var i=l.pushStackFrame(r);if(a.run){for(l.paused_=!1;l.getStackDepth()>=i;)l.step();l.paused_=!0}}},e.makeNativeMemberFunction=function(a){var s=this,l=a.dontMarshal,c=a.nativeFunc,u=a.nativeParentObj,d=a.maxDepth,p=a.nativeIsAsync,h=a.nativeCallsBackInterpreter;return function(){for(var e=[],t=arguments.length,o=new Array(t),n=0;n<t;n++)o[n]=arguments[n];if(l)e=o;else for(var r=0;r<o.length;r++)p&&r===o.length-1?e[r]=s.createNativeCallbackForAsyncFunction_(a,o[r]):h&&"object"===g(o[r])&&s.isa(o[r],s.FUNCTION)?e[r]=s.createNativeInterpreterCallback_(a,o[r]):e[r]=s.marshalInterpreterToNative(o[r]);try{var i=c.apply(u,e)}catch(e){throw e instanceof Error||((e=new Error(e)).stack="Error does not have stack information. Throw `new Error()` instead of a string to get a full stack trace. Exception thrown "+"when calling ".concat(c," on ").concat(u)),e.native=!0,e}return s.marshalNativeToInterpreter(i,null,d)}},d}(i);r(t.default=n,"createNativeFunctionFromInterpreterFunction",null)},783:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var p=i(o(10)),h=i(o(15)),n=o(536),g=i(o(855)),r=o(46),f=i(o(4)),m=i(o(62));function i(e){return e&&e.__esModule?e:{default:e}}var a,s,l={};l.build=function(t,e,o,n,r,i,a){e=e||{},o=o||{};var s=(t=t||{}).name;e.finishLink&&(0,p.default)(".header_finished_link").show().append((0,p.default)("<a>").attr("href",e.finishLink).text(e.finishText)),1<e.script_stages&&(0,p.default)(".header_popup_link").show();var l=-1!==r;g.default.renderStageProgress(t,e,o,n,l,i,a);var c=!1;function u(e){var t=e&&e.target;0<(0,p.default)(".header_popup").find(t).length&&!(0,p.default)(e.target).hasClass("header_popup_close")||((0,p.default)(".header_popup").hide(),(0,p.default)(".header_popup_link_glyph").html("&#x25BC;"),(0,p.default)(".header_popup_link_text").text(f.default.moreAllCaps()),(0,p.default)(document).off("click",u),c=!1)}function d(){var e=(0,p.default)(window).height(),t=(0,p.default)(".header-wrapper"),o=(0,p.default)(".header_popup"),n=parseInt(t.css("padding-top"),10)+parseInt(o.css("top"),10),r=parseInt(o.css("margin-bottom"),10);o.find(".header_popup_scrollable").css("max-height",e-(n+r))}(0,p.default)(".header_popup_link").click(function(e){e.stopPropagation(),(0,p.default)(".header_popup").is(":visible")?u():(m.default.putRecord({study:"mini_view",event:"mini_view_opened",data_json:JSON.stringify({current_level_id:n})},{includeUserId:!0}),d(),(0,p.default)(".header_popup").show(),(0,p.default)(".header_popup_link_glyph").html("&#x25B2;"),(0,p.default)(".header_popup_link_text").text(f.default.lessAllCaps()),(0,p.default)(document).on("click",u),g.default.renderMiniView((0,p.default)(".user-stats-block")[0],s,n,o.linesOfCodeText,t.student_detail_progress_view),c=!0)}),(0,p.default)(window).resize(h.default.debounce(function(){c&&d()},250))},a=(0,r.getStore)(),s={},a.subscribe(function(){var e=s;s=a.getState(),e.publishDialog&&e.publishDialog.lastPublishedAt!==s.publishDialog.lastPublishedAt&&window.dashboard.project.setPublishedAt(s.publishDialog.lastPublishedAt),e.shareDialog&&!e.shareDialog.didUnpublish&&s.shareDialog.didUnpublish&&window.dashboard.project.setPublishedAt(null)}),l.showMinimalProjectHeader=function(){(0,r.getStore)().dispatch((0,n.refreshProjectName)()),(0,r.getStore)().dispatch((0,n.showMinimalProjectHeader)())},l.showLevelBuilderSaveButton=function(e){(0,r.getStore)().dispatch((0,n.showLevelBuilderSaveButton)(e))},l.showHeaderForProjectBacked=function(e){e.showShareAndRemix&&(0,r.getStore)().dispatch((0,n.showProjectBackedHeader)(e.showExport)),(0,r.getStore)().dispatch((0,n.showProjectUpdatedAt)()),l.updateTimestamp()},l.showProjectHeader=function(e){l.updateTimestamp(),(0,r.getStore)().dispatch((0,n.refreshProjectName)()),(0,r.getStore)().dispatch((0,n.showProjectHeader)(e.showExport))},l.updateTimestamp=function(){var e=dashboard.project.getCurrentTimestamp();(0,r.getStore)().dispatch((0,n.setProjectUpdatedAt)(e))},l.showProjectSaveError=function(){(0,r.getStore)().dispatch((0,n.setProjectUpdatedError)())},l.showProjectSaving=function(){(0,r.getStore)().dispatch((0,n.setProjectUpdatedSaving)())},l.showTryAgainDialog=function(){(0,r.getStore)().dispatch((0,n.setShowTryAgainDialog)(!0))},l.hideTryAgainDialog=function(){(0,r.getStore)().dispatch((0,n.setShowTryAgainDialog)(!1))};var c=l;t.default=c,e.exports=t.default},784:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(!e||0===e.length)return;function t(e){var t=window.location,o=t.hash.split("#triggercallout=");if(1<o.length){var n=o[1],r=e&&e.type||"hashinit";(0,a.default)(window).trigger(n,[r]),window.history.go&&"hashchange"===r?history.go(-1):t.hash=""}}(0,a.default)(window).on("function_editor_closed",function(){(0,a.default)(".cdo-qtips").qtip("hide")}),(0,a.default)(window).on("block_space_metrics_set",function(){i(),l()}),(0,a.default)(window).on("droplet_change",function(e,t){switch(t){case"scrollace":return void(0,a.default)(".cdo-qtips").each(function(){var e=(0,a.default)(this).qtip("api"),t=(0,a.default)(e.elements.target);(0,a.default)(".ace_gutter").has(t)&&e.destroy()});case"scrollpalette":case"scrolleditor":i()}c(),u()}),r(e),t(),(0,a.default)(window).on("hashchange",t)},t.addCallouts=r,t.showHideWorkspaceCallouts=void 0;var n,a=(n=o(10))&&n.__esModule?n:{default:n};o(10);var s=o(347);function r(e){a.default.fn.qtip.zindex=500;var o=-1!==document.URL.indexOf("show_callouts=1");e.forEach(function(n){var r=n.element_id;if(0!==(0,a.default)(r).length||n.on){var e={codeStudio:{},content:{text:n.localized_text,title:{button:(0,a.default)('<div class="tooltip-x-close"/>')}},style:{classes:"",tip:{width:20,height:20}},position:{my:"bottom left",at:"top right"},hide:{event:"click mousedown touchstart"},show:!1},t="string"==typeof n.qtip_config?a.default.parseJSON(n.qtip_config):n.qtip_config,i=a.default.extend(!0,{},e,t);if(i.style.classes=i.style.classes.concat(" cdo-qtips"),n.seen=s.hasSeenCallout(n.id),o)n.seen=!1;else{if(n.seen&&!i.codeStudio.canReappear)return;n.seen||s.recordCalloutSeen(n.id)}n.hide_target_selector&&(i.hide.target=(0,a.default)(n.hide_target_selector)),(0,a.default)("html[dir=rtl]").length&&(i.position.my=p(i.position.my),i.position.at=p(i.position.at),i.position.adjust&&(i.position.adjust.x*=-1)),"top right"!==i.position.my&&"right top"!==i.position.my||(i.style.classes+=" flip-x-close"),n.on?(0,a.default)(window).on(n.on,function(e,t){i.codeStudio.selector||(i.codeStudio.selector=r);var o=i.codeStudio.selector;(0,a.default)(window).trigger("prepareforcallout",[i.codeStudio]),o!==i.codeStudio.selector&&0<(0,a.default)(o).length&&(0,a.default)(o).qtip(i).qtip("destroy"),setTimeout(function(){0<(0,a.default)(i.codeStudio.selector).length&&("hashchange"!==t&&"hashinit"!==t&&n.seen&&!i.codeStudio.canReappear||(0,a.default)(i.codeStudio.selector).qtip(i).qtip("show"),n.seen=!0)},0)}):n.seen||(0,a.default)(r).qtip(i).qtip("show")}})}function i(){(0,a.default)(".cdo-qtips").qtip("reposition",null,!1)}var l=d("#codeWorkspace");t.showHideWorkspaceCallouts=l;var c=d(".droplet-palette-scroller"),u=d(".droplet-gutter");function d(e){var n={},r={};return function(){var o=(0,a.default)(e);(0,a.default)(".cdo-qtips").each(function(){var e=(0,a.default)(this).qtip("api"),t=(0,a.default)(e.elements.target);0!==(0,a.default)(document).has(t).length?0<o.has(t).length&&(o.is(":visible")?r[e.id]&&(e.show(),delete r[e.id]):(e.hide(),r[e.id]=!0),t&&0<t.overlaps(o).length?n[e.id]&&(e.show(),delete n[e.id]):(0,a.default)(this).is(":visible")&&(e.hide(),n[e.id]=!0)):e.destroy(!0)})}}function p(e){return h((e=e.split(/\s+/))[0])+" "+h(e[1])}function h(e){switch(e){case"left":return"right";case"right":return"left";default:return e}}},79:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return"string"==typeof e&&n.test(e)};var n=/-webkit-|-moz-|-ms-/;e.exports=t.default},80:function(e,t,o){"use strict";var a=o(11),s=n(o(209)),i=n(o(114));function n(e){return e&&e.__esModule?e:{default:e}}var l=o(86),r=e.exports,c="experimentsList",u="experiments";r.REDUX_LOGGING="reduxLogging",r.SCHOOL_AUTOCOMPLETE_DROPDOWN_NEW_SEARCH="schoolAutocompleteDropdownNewSearch",r.APPLAB_DATASETS="applabDatasets",r.SHOW_UNPUBLISHED_FIREBASE_TABLES="showUnpublishedFirebaseTables",r.STUDENT_LIBRARIES="student-libraries",r.STANDARDS_REPORT="standardsReport",r.BETT_DEMO="bett-demo",r.TEACHER_DASHBOARD_SECTION_BUTTONS="teacher-dashboard-section-buttons",r.TEACHER_DASHBOARD_SECTION_BUTTONS_ALTERNATE_TEXT="teacher-dashboard-section-buttons-alternate-text",r.getQueryString_=function(){return window.location.search},r.getStoredExperiments_=function(){var e=s.default.get("_experiments"+window.cookieEnvSuffix),t=e?JSON.parse(decodeURIComponent(e)).map(function(e){return{key:e}}):[];try{var o=localStorage.getItem(c),n=o?JSON.parse(o):[],r=Date.now(),i=n.filter(function(e){return e.key&&(void 0===e.expiration||e.expiration>r)});return i.length<n.length&&(0,a.trySetLocalStorage)(c,JSON.stringify(i)),t.concat(i)}catch(e){return t}},r.getEnabledExperiments=function(){return this.getStoredExperiments_().map(function(e){return e.key})},r.setEnabled=function(t,e){var o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:void 0,n=this.getStoredExperiments_(),r=n.findIndex(function(e){return e.key===t});if(e)r<0?(n.push({key:t,expiration:o}),(0,i.default)(u,"enable",t)):n[r].expiration=o;else{if(!(0<=r))return;n.splice(r,1),(0,i.default)(u,"disable",t)}(0,a.trySetLocalStorage)(c,JSON.stringify(n))},r.isEnabled=function(t){var e=this.getStoredExperiments_().some(function(e){return e.key===t})||!!(window.appOptions&&window.appOptions.experiments&&window.appOptions.experiments.includes(t)),o=l.parse(this.getQueryString_()),n=o.enableExperiments,r=o.disableExperiments,i=o.tempEnableExperiments;n&&(0<=n.split(",").indexOf(t)&&(e=!0,this.setEnabled(t,!0)));r&&(0<=r.split(",").indexOf(t)&&(e=!1,this.setEnabled(t,!1)));if(i){var a=new Date;a.setHours(a.getHours()+12);var s=a.getTime();0<=i.split(",").indexOf(t)&&(e=!0,this.setEnabled(t,!0,s))}return e}},818:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){e.hide=function(e){a(i.default.GLOBAL.HIDE,{target:e})},e.rebuild=function(){a(i.default.GLOBAL.REBUILD)},e.show=function(e){a(i.default.GLOBAL.SHOW,{target:e})},e.prototype.globalRebuild=function(){this.mount&&(this.unbindListener(),this.bindListener())},e.prototype.globalShow=function(e){if(this.mount){var t={currentTarget:e.detail.target};this.showTooltip(t,!0)}},e.prototype.globalHide=function(e){if(this.mount){var t=!!(e&&e.detail&&e.detail.target);this.hideTooltip({currentTarget:t&&e.detail.target},t)}}};var n,r=o(537),i=(n=r)&&n.__esModule?n:{default:n};var a=function(e,t){var o=void 0;"function"==typeof window.CustomEvent?o=new window.CustomEvent(e,{detail:t}):((o=document.createEvent("Event")).initEvent(e,!1,!0),o.detail=t),window.dispatchEvent(o)}},819:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){e.prototype.bindWindowEvents=function(e){window.removeEventListener(i.default.GLOBAL.HIDE,this.globalHide),window.addEventListener(i.default.GLOBAL.HIDE,this.globalHide,!1),window.removeEventListener(i.default.GLOBAL.REBUILD,this.globalRebuild),window.addEventListener(i.default.GLOBAL.REBUILD,this.globalRebuild,!1),window.removeEventListener(i.default.GLOBAL.SHOW,this.globalShow),window.addEventListener(i.default.GLOBAL.SHOW,this.globalShow,!1),e&&(window.removeEventListener("resize",this.onWindowResize),window.addEventListener("resize",this.onWindowResize,!1))},e.prototype.unbindWindowEvents=function(){window.removeEventListener(i.default.GLOBAL.HIDE,this.globalHide),window.removeEventListener(i.default.GLOBAL.REBUILD,this.globalRebuild),window.removeEventListener(i.default.GLOBAL.SHOW,this.globalShow),window.removeEventListener("resize",this.onWindowResize)},e.prototype.onWindowResize=function(){this.mount&&this.hideTooltip()}};var n,r=o(537),i=(n=r)&&n.__esModule?n:{default:n}},82:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sectionForDropdownShape=t.sortableSectionShape=t.OAuthSectionTypes=t.loadErrorShape=t.classroomShape=t.convertAssignmentVersionShapeFromServer=t.assignmentVersionShape=t.assignmentFamilyShape=t.assignmentShape=t.summarizedSectionShape=t.sectionShape=void 0;var n,r=(n=o(0))&&n.__esModule?n:{default:n},i=o(61),a=o(11);var s=r.default.shape({id:r.default.number.isRequired,name:r.default.string.isRequired,createdAt:r.default.string,loginType:r.default.oneOf(Object.keys(i.SectionLoginType)),stageExtras:r.default.bool.isRequired,pairingAllowed:r.default.bool.isRequired,studentCount:r.default.number.isRequired,code:r.default.string.isRequired,courseId:r.default.number,scriptId:r.default.number,grade:r.default.string,providerManaged:r.default.bool.isRequired});t.sectionShape=s;var l=r.default.shape({assignedTitle:r.default.string.isRequired,code:r.default.string.isRequired,course_id:r.default.number,currentUnitTitle:r.default.string,grade:r.default.string,hidden:r.default.bool,id:r.default.number.isRequired,linkToAssigned:r.default.string,linkToCurrentUnit:r.default.string,linkToProgress:r.default.string,linkToStudents:r.default.string,login_type:r.default.string,name:r.default.string,numberOfStudents:r.default.number,pairing_allowed:r.default.bool,providerManaged:r.default.bool,script:r.default.object,sharing_disabled:r.default.bool,stage_extras:r.default.bool,studentCount:r.default.number,students:r.default.array,teacherName:r.default.string});t.summarizedSectionShape=l;var c=r.default.shape({id:r.default.number.isRequired,courseId:r.default.number,scriptId:r.default.number,assignId:r.default.string.isRequried,category_priority:r.default.number.isRequired,category:r.default.string.isRequired,position:r.default.number,name:r.default.string.isRequired,path:r.default.string.isRequired,script_name:r.default.string.isRequired,assignment_family_name:r.default.string.isRequired,version_year:r.default.string.isRequired,version_title:r.default.string.isRequired,is_stable:r.default.bool,supported_locales:r.default.arrayOf(r.default.string)});t.assignmentShape=c;var u=r.default.shape({category_priority:r.default.number.isRequired,category:r.default.string.isRequired,position:r.default.number,assignment_family_title:r.default.string.isRequired,assignment_family_name:r.default.string.isRequired});t.assignmentFamilyShape=u;var d=r.default.shape({year:r.default.string.isRequired,title:r.default.string.isRequired,isStable:r.default.bool.isRequired,isRecommended:r.default.bool,isSelected:r.default.bool,locales:r.default.arrayOf(r.default.string).isRequired,canViewVersion:r.default.bool});t.assignmentVersionShape=d;t.convertAssignmentVersionShapeFromServer=function(e){return e.map(function(e){return{name:e.name,year:e.version_year,title:e.version_title,isStable:e.is_stable,locales:e.locales||[],canViewVersion:e.can_view_version}})};var p=r.default.shape({id:r.default.string.isRequired,name:r.default.string.isRequired,section:r.default.string,enrollment_code:r.default.string.isRequired});t.classroomShape=p;var h=r.default.shape({status:r.default.number.isRequired,message:r.default.string.isRequired});t.loadErrorShape=h;var g=(0,a.makeEnum)("google_classroom","clever","microsoft_classroom");t.OAuthSectionTypes=g;var f=r.default.shape({id:r.default.number.isRequired,name:r.default.string.isRequired,loginType:r.default.oneOf(Object.keys(i.SectionLoginType)).isRequired,studentCount:r.default.number.isRequired,code:r.default.string.isRequired,grade:r.default.string,providerManaged:r.default.bool.isRequired,hidden:r.default.bool.isRequired,assignmentName:r.default.arrayOf(r.default.string),assignmentPath:r.default.arrayOf(r.default.string)});t.sortableSectionShape=f;var m=r.default.shape({id:r.default.number.isRequired,name:r.default.string.isRequired,isAssigned:r.default.bool.isRequired});t.sectionForDropdownShape=m},820:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){e.prototype.isCustomEvent=function(e){return this.state.event||!!e.getAttribute("data-event")},e.prototype.customBindListener=function(o){var n=this,e=this.state,t=e.event,r=e.eventOff,i=o.getAttribute("data-event")||t,a=o.getAttribute("data-event-off")||r;i.split(" ").forEach(function(e){o.removeEventListener(e,c.get(o,e));var t=s.bind(n,a);c.set(o,e,t),o.addEventListener(e,t,!1)}),a&&a.split(" ").forEach(function(e){o.removeEventListener(e,n.hideTooltip),o.addEventListener(e,n.hideTooltip,!1)})},e.prototype.customUnbindListener=function(e){var t=this.state,o=t.event,n=t.eventOff,r=o||e.getAttribute("data-event"),i=n||e.getAttribute("data-event-off");e.removeEventListener(r,c.get(e,o)),i&&e.removeEventListener(i,this.hideTooltip)}};var s=function(e,t){var o=this.state.show,n=this.props.id,r=t.currentTarget.getAttribute("data-iscapture"),i=r&&"true"===r||this.props.isCapture,a=t.currentTarget.getAttribute("currentItem");i||t.stopPropagation(),o&&"true"===a?e||this.hideTooltip(t):(t.currentTarget.setAttribute("currentItem","true"),l(t.currentTarget,this.getTargetArray(n)),this.showTooltip(t))},l=function(e,t){for(var o=0;o<t.length;o++)e!==t[o]?t[o].setAttribute("currentItem","false"):t[o].setAttribute("currentItem","true")},c={id:"9b69f92e-d3fe-498b-b1b4-c5e63a51b0cf",set:function(e,t,o){this.id in e?e[this.id][t]=o:Object.defineProperty(e,this.id,{configurable:!0,value:function(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}({},t,o)})},get:function(e,t){var o=e[this.id];if(void 0!==o)return o[t]}}},821:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){e.prototype.isCapture=function(e){return e&&"true"===e.getAttribute("data-iscapture")||this.props.isCapture||!1}}},822:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){e.prototype.getEffect=function(e){return e.getAttribute("data-effect")||this.props.effect||"float"}}},823:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){e.prototype.bindRemovalTracker=function(){var r=this,e=n();if(null!=e){var t=new e(function(e){for(var t=0;t<e.length;t++)for(var o=e[t],n=0;n<o.removedNodes.length;n++){if(o.removedNodes[n]===r.state.currentTarget)return void r.hideTooltip()}});t.observe(window.document,{childList:!0,subtree:!0}),this.removalTracker=t}},e.prototype.unbindRemovalTracker=function(){this.removalTracker&&(this.removalTracker.disconnect(),this.removalTracker=null)}};var n=function(){return window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver}},824:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,o,n,r,i,a){for(var s=M(o),l=s.width,c=s.height,u=M(t),d=u.width,p=u.height,h=U(e,t,i),g=h.mouseX,f=h.mouseY,m=F(i,d,p,l,c),y=H(a),_=y.extraOffset_X,v=y.extraOffset_Y,b=window.innerWidth,E=window.innerHeight,T=j(o),S=T.parentTop,k=T.parentLeft,C=function(e){var t=m[e].l;return g+t+_},A=function(e){var t=m[e].t;return f+t+v},O=function(e){return function(e){var t=m[e].r;return g+t+_}(e)>b},w=function(e){return function(e){var t=m[e].b;return f+t+v}(e)>E},B=function(e){return function(e){return C(e)<0}(e)||O(e)||function(e){return A(e)<0}(e)||w(e)},I=function(e){return!B(e)},R=["top","bottom","left","right"],N=[],P=0;P<4;P++){var L=R[P];I(L)&&N.push(L)}var x=!1,D=void 0;return I(r)&&r!==n?(x=!0,D=r):0<N.length&&B(r)&&B(n)&&(x=!0,D=N[0]),x?{isNewState:!0,newState:{place:D}}:{isNewState:!1,position:{left:parseInt(C(n)-k,10),top:parseInt(A(n)-S,10)}}};var M=function(e){var t=e.getBoundingClientRect(),o=t.height,n=t.width;return{height:parseInt(o,10),width:parseInt(n,10)}},U=function(e,t,o){var n=t.getBoundingClientRect(),r=n.top,i=n.left,a=M(t),s=a.width,l=a.height;return"float"===o?{mouseX:e.clientX,mouseY:e.clientY}:{mouseX:i+s/2,mouseY:r+l/2}},F=function(e,t,o,n,r){var i=void 0,a=void 0,s=void 0,l=void 0;return"float"===e?(i={l:-n/2,r:n/2,t:-(r+3+2),b:-3},s={l:-n/2,r:n/2,t:15,b:r+3+2+12},l={l:-(n+3+2),r:-3,t:-r/2,b:r/2},a={l:3,r:n+3+2,t:-r/2,b:r/2}):"solid"===e&&(i={l:-n/2,r:n/2,t:-(o/2+r+2),b:-o/2},s={l:-n/2,r:n/2,t:o/2,b:o/2+r+2},l={l:-(n+t/2+2),r:-t/2,t:-r/2,b:r/2},a={l:t/2,r:n+t/2+2,t:-r/2,b:r/2}),{top:i,bottom:s,left:l,right:a}},H=function(e){var t=0,o=0;for(var n in"[object String]"===Object.prototype.toString.apply(e)&&(e=JSON.parse(e.toString().replace(/\'/g,'"'))),e)"top"===n?o-=parseInt(e[n],10):"bottom"===n?o+=parseInt(e[n],10):"left"===n?t-=parseInt(e[n],10):"right"===n&&(t+=parseInt(e[n],10));return{extraOffset_X:t,extraOffset_Y:o}},j=function(e){for(var t=e;t&&"none"===window.getComputedStyle(t).getPropertyValue("transform");)t=t.parentElement;return{parentTop:t&&t.getBoundingClientRect().top||0,parentLeft:t&&t.getBoundingClientRect().left||0}}},825:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,o,n){if(t)return t;if(null!=o)return o;if(null===o)return null;var r=/<br\s*\/?>/;return n&&"false"!==n&&r.test(e)?e.split(r).map(function(e,t){return i.default.createElement("span",{key:t,className:"multi-line"},e)}):e};var n,r=o(1),i=(n=r)&&n.__esModule?n:{default:n}},826:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseAria=function(t){var o={};return Object.keys(t).filter(function(e){return/(^aria-\w+$|^role$)/.test(e)}).forEach(function(e){o[e]=t[e]}),o}},827:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(t){var e=t.length;return t.hasOwnProperty?Array.prototype.slice.call(t):new Array(e).fill().map(function(e){return t[e]})}},828:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default='.__react_component_tooltip{border-radius:3px;display:inline-block;font-size:13px;left:-999em;opacity:0;padding:8px 21px;position:fixed;pointer-events:none;transition:opacity 0.3s ease-out;top:-999em;visibility:hidden;z-index:999}.__react_component_tooltip.allow_hover{pointer-events:auto}.__react_component_tooltip:before,.__react_component_tooltip:after{content:"";width:0;height:0;position:absolute}.__react_component_tooltip.show{opacity:0.9;margin-top:0px;margin-left:0px;visibility:visible}.__react_component_tooltip.type-dark{color:#fff;background-color:#222}.__react_component_tooltip.type-dark.place-top:after{border-top-color:#222;border-top-style:solid;border-top-width:6px}.__react_component_tooltip.type-dark.place-bottom:after{border-bottom-color:#222;border-bottom-style:solid;border-bottom-width:6px}.__react_component_tooltip.type-dark.place-left:after{border-left-color:#222;border-left-style:solid;border-left-width:6px}.__react_component_tooltip.type-dark.place-right:after{border-right-color:#222;border-right-style:solid;border-right-width:6px}.__react_component_tooltip.type-dark.border{border:1px solid #fff}.__react_component_tooltip.type-dark.border.place-top:before{border-top:8px solid #fff}.__react_component_tooltip.type-dark.border.place-bottom:before{border-bottom:8px solid #fff}.__react_component_tooltip.type-dark.border.place-left:before{border-left:8px solid #fff}.__react_component_tooltip.type-dark.border.place-right:before{border-right:8px solid #fff}.__react_component_tooltip.type-success{color:#fff;background-color:#8DC572}.__react_component_tooltip.type-success.place-top:after{border-top-color:#8DC572;border-top-style:solid;border-top-width:6px}.__react_component_tooltip.type-success.place-bottom:after{border-bottom-color:#8DC572;border-bottom-style:solid;border-bottom-width:6px}.__react_component_tooltip.type-success.place-left:after{border-left-color:#8DC572;border-left-style:solid;border-left-width:6px}.__react_component_tooltip.type-success.place-right:after{border-right-color:#8DC572;border-right-style:solid;border-right-width:6px}.__react_component_tooltip.type-success.border{border:1px solid #fff}.__react_component_tooltip.type-success.border.place-top:before{border-top:8px solid #fff}.__react_component_tooltip.type-success.border.place-bottom:before{border-bottom:8px solid #fff}.__react_component_tooltip.type-success.border.place-left:before{border-left:8px solid #fff}.__react_component_tooltip.type-success.border.place-right:before{border-right:8px solid #fff}.__react_component_tooltip.type-warning{color:#fff;background-color:#F0AD4E}.__react_component_tooltip.type-warning.place-top:after{border-top-color:#F0AD4E;border-top-style:solid;border-top-width:6px}.__react_component_tooltip.type-warning.place-bottom:after{border-bottom-color:#F0AD4E;border-bottom-style:solid;border-bottom-width:6px}.__react_component_tooltip.type-warning.place-left:after{border-left-color:#F0AD4E;border-left-style:solid;border-left-width:6px}.__react_component_tooltip.type-warning.place-right:after{border-right-color:#F0AD4E;border-right-style:solid;border-right-width:6px}.__react_component_tooltip.type-warning.border{border:1px solid #fff}.__react_component_tooltip.type-warning.border.place-top:before{border-top:8px solid #fff}.__react_component_tooltip.type-warning.border.place-bottom:before{border-bottom:8px solid #fff}.__react_component_tooltip.type-warning.border.place-left:before{border-left:8px solid #fff}.__react_component_tooltip.type-warning.border.place-right:before{border-right:8px solid #fff}.__react_component_tooltip.type-error{color:#fff;background-color:#BE6464}.__react_component_tooltip.type-error.place-top:after{border-top-color:#BE6464;border-top-style:solid;border-top-width:6px}.__react_component_tooltip.type-error.place-bottom:after{border-bottom-color:#BE6464;border-bottom-style:solid;border-bottom-width:6px}.__react_component_tooltip.type-error.place-left:after{border-left-color:#BE6464;border-left-style:solid;border-left-width:6px}.__react_component_tooltip.type-error.place-right:after{border-right-color:#BE6464;border-right-style:solid;border-right-width:6px}.__react_component_tooltip.type-error.border{border:1px solid #fff}.__react_component_tooltip.type-error.border.place-top:before{border-top:8px solid #fff}.__react_component_tooltip.type-error.border.place-bottom:before{border-bottom:8px solid #fff}.__react_component_tooltip.type-error.border.place-left:before{border-left:8px solid #fff}.__react_component_tooltip.type-error.border.place-right:before{border-right:8px solid #fff}.__react_component_tooltip.type-info{color:#fff;background-color:#337AB7}.__react_component_tooltip.type-info.place-top:after{border-top-color:#337AB7;border-top-style:solid;border-top-width:6px}.__react_component_tooltip.type-info.place-bottom:after{border-bottom-color:#337AB7;border-bottom-style:solid;border-bottom-width:6px}.__react_component_tooltip.type-info.place-left:after{border-left-color:#337AB7;border-left-style:solid;border-left-width:6px}.__react_component_tooltip.type-info.place-right:after{border-right-color:#337AB7;border-right-style:solid;border-right-width:6px}.__react_component_tooltip.type-info.border{border:1px solid #fff}.__react_component_tooltip.type-info.border.place-top:before{border-top:8px solid #fff}.__react_component_tooltip.type-info.border.place-bottom:before{border-bottom:8px solid #fff}.__react_component_tooltip.type-info.border.place-left:before{border-left:8px solid #fff}.__react_component_tooltip.type-info.border.place-right:before{border-right:8px solid #fff}.__react_component_tooltip.type-light{color:#222;background-color:#fff}.__react_component_tooltip.type-light.place-top:after{border-top-color:#fff;border-top-style:solid;border-top-width:6px}.__react_component_tooltip.type-light.place-bottom:after{border-bottom-color:#fff;border-bottom-style:solid;border-bottom-width:6px}.__react_component_tooltip.type-light.place-left:after{border-left-color:#fff;border-left-style:solid;border-left-width:6px}.__react_component_tooltip.type-light.place-right:after{border-right-color:#fff;border-right-style:solid;border-right-width:6px}.__react_component_tooltip.type-light.border{border:1px solid #222}.__react_component_tooltip.type-light.border.place-top:before{border-top:8px solid #222}.__react_component_tooltip.type-light.border.place-bottom:before{border-bottom:8px solid #222}.__react_component_tooltip.type-light.border.place-left:before{border-left:8px solid #222}.__react_component_tooltip.type-light.border.place-right:before{border-right:8px solid #222}.__react_component_tooltip.place-top{margin-top:-10px}.__react_component_tooltip.place-top:before{border-left:10px solid transparent;border-right:10px solid transparent;bottom:-8px;left:50%;margin-left:-10px}.__react_component_tooltip.place-top:after{border-left:8px solid transparent;border-right:8px solid transparent;bottom:-6px;left:50%;margin-left:-8px}.__react_component_tooltip.place-bottom{margin-top:10px}.__react_component_tooltip.place-bottom:before{border-left:10px solid transparent;border-right:10px solid transparent;top:-8px;left:50%;margin-left:-10px}.__react_component_tooltip.place-bottom:after{border-left:8px solid transparent;border-right:8px solid transparent;top:-6px;left:50%;margin-left:-8px}.__react_component_tooltip.place-left{margin-left:-10px}.__react_component_tooltip.place-left:before{border-top:6px solid transparent;border-bottom:6px solid transparent;right:-8px;top:50%;margin-top:-5px}.__react_component_tooltip.place-left:after{border-top:5px solid transparent;border-bottom:5px solid transparent;right:-6px;top:50%;margin-top:-4px}.__react_component_tooltip.place-right{margin-left:10px}.__react_component_tooltip.place-right:before{border-top:6px solid transparent;border-bottom:6px solid transparent;left:-8px;top:50%;margin-top:-5px}.__react_component_tooltip.place-right:after{border-top:5px solid transparent;border-bottom:5px solid transparent;left:-6px;top:50%;margin-top:-4px}.__react_component_tooltip .multi-line{display:block;padding:2px 0px;text-align:center}'},829:function(e,t,o){"use strict";function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.getContainedLevelResultInfo=_,t.getValidatedResult=function(){return r.getContainedLevelResult().result.result},t.postContainedLevelAttempt=function(e){var t=e.hasContainedLevels,o=e.attempts,n=e.onAttempt;if(!t||1!==o)return;m=f.Started;var r=_();n(function(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{},n=Object.keys(Object(o));"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(o).filter(function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable}))),n.forEach(function(e){g(t,e,o[e])})}return t}({},r,{onComplete:function(){m=f.Finished,y&&(y(),y=null)}}))},t.runAfterPostContainedLevel=function(e){if(m===f.None)throw new Error("Shouldnt call runAfterPostContainedLevel before postContainedLevelAttempt");if(m===f.Finished)return void e();y=e},t.initializeContainedLevel=function(){var e=(0,s.getStore)();if(!e.getState().instructions.hasContainedLevels)return;if(r.hasValidContainedLevelResult())r.lockContainedLevelAnswers();else{var t=(0,u.default)("#runButton"),o=(0,u.default)("#stepButton");t.prop("disabled",!0),o.prop("disabled",!0);var n=function(e){(0,u.default)(window).trigger("attemptedRunButtonClick")};(0,u.default)("#runButtonWrapper").bind("click",n),i.addCallouts([{id:"disabledRunButtonCallout",element_id:"#runButton",localized_text:c.default.containedLevelRunDisabledTooltip(),qtip_config:{codeStudio:{canReappear:!0},position:{my:"top left",at:"bottom center"}},on:"attemptedRunButtonClick"}]),e.dispatch((0,l.setAwaitingContainedResponse)(!0)),r.registerAnswerChangedFn(function(){var e=r.hasValidContainedLevelResult();t.prop("disabled",!e),o.prop("disabled",!e),e&&(t.qtip("hide"),(0,u.default)("#runButtonWrapper").unbind("click",n)),(0,s.getStore)().dispatch((0,l.setAwaitingContainedResponse)(!e))})}};var r=h(o(474)),n=o(37),i=h(o(784)),s=o(46),l=o(597),c=d(o(4)),u=d(o(10));function d(e){return e&&e.__esModule?e:{default:e}}function p(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return p=function(){return e},e}function h(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var t=p();if(t&&t.has(e))return t.get(e);var o={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(o,r,i):o[r]=e[r]}return o.default=e,t&&t.set(e,o),o}function g(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var f={None:"None",Started:"Started",Finished:"Finished"},m=f.None,y=null;function _(){var e=r.getContainedLevelResult();return{app:e.app,level:e.id,callback:e.callback,result:!0,testResult:n.TestResults.CONTAINED_LEVEL_RESULT,program:e.result.response,feedback:e.feedback,submitted:!1}}},830:function(e,t,o){"use strict";t.__esModule=!0,t.default=function(e){var t={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=0);return t},e.exports=t.default},831:function(e,t,o){"use strict";t.__esModule=!0,t.default=function(e,t,o,n,r,i,a){var s=o+(-r*(t-n)+-i*o)*e,l=t+s*e;if(Math.abs(s)<a&&Math.abs(l-n)<a)return c[0]=n,c[1]=0,c;return c[0]=l,c[1]=s,c};var c=[0,0];e.exports=t.default},832:function(d,e,p){(function(e){for(var n=p(697),t="undefined"==typeof window?e:window,o=["moz","webkit"],r="AnimationFrame",i=t["request"+r],a=t["cancel"+r]||t["cancelRequest"+r],s=0;!i&&s<o.length;s++)i=t[o[s]+"Request"+r],a=t[o[s]+"Cancel"+r]||t[o[s]+"CancelRequest"+r];if(!i||!a){var l=0,c=0,u=[];i=function(e){if(0===u.length){var t=n(),o=Math.max(0,1e3/60-(t-l));l=o+t,setTimeout(function(){for(var e=u.slice(0),t=u.length=0;t<e.length;t++)if(!e[t].cancelled)try{e[t].callback(l)}catch(e){setTimeout(function(){throw e},0)}},Math.round(o))}return u.push({handle:++c,callback:e,cancelled:!1}),c},a=function(e){for(var t=0;t<u.length;t++)u[t].handle===e&&(u[t].cancelled=!0)}}d.exports=function(e){return i.call(t,e)},d.exports.cancel=function(){a.apply(t,arguments)},d.exports.polyfill=function(){t.requestAnimationFrame=i,t.cancelAnimationFrame=a}}).call(this,p(25))},833:function(e,t,o){"use strict";t.__esModule=!0,t.default=function(e,t,o){for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(0!==o[n])return!1;var r="number"==typeof t[n]?t[n]:t[n].val;if(e[n]!==r)return!1}return!0},e.exports=t.default},849:function(e,t,o){"use strict";var n,a,d=o(332).parseType,i=function(e){return new Date(1e3*e-20828448e5)},p=function(e){return{isLeading:(12&e[0])>>>2,dependsOn:3&e[0],isDependedOn:(192&e[1])>>>6,hasRedundancy:(48&e[1])>>>4,paddingValue:(14&e[1])>>>1,isNonSyncSample:1&e[1],degradationPriority:e[2]<<8|e[3]}},h={avc1:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength);return{dataReferenceIndex:t.getUint16(6),width:t.getUint16(24),height:t.getUint16(26),horizresolution:t.getUint16(28)+t.getUint16(30)/16,vertresolution:t.getUint16(32)+t.getUint16(34)/16,frameCount:t.getUint16(40),depth:t.getUint16(74),config:n(e.subarray(78,e.byteLength))}},avcC:function(e){var t,o,n,r,i=new DataView(e.buffer,e.byteOffset,e.byteLength),a={configurationVersion:e[0],avcProfileIndication:e[1],profileCompatibility:e[2],avcLevelIndication:e[3],lengthSizeMinusOne:3&e[4],sps:[],pps:[]},s=31&e[5];for(n=6,r=0;r<s;r++)o=i.getUint16(n),n+=2,a.sps.push(new Uint8Array(e.subarray(n,n+o))),n+=o;for(t=e[n],n++,r=0;r<t;r++)o=i.getUint16(n),n+=2,a.pps.push(new Uint8Array(e.subarray(n,n+o))),n+=o;return a},btrt:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength);return{bufferSizeDB:t.getUint32(0),maxBitrate:t.getUint32(4),avgBitrate:t.getUint32(8)}},esds:function(e){return{version:e[0],flags:new Uint8Array(e.subarray(1,4)),esId:e[6]<<8|e[7],streamPriority:31&e[8],decoderConfig:{objectProfileIndication:e[11],streamType:e[12]>>>2&63,bufferSize:e[13]<<16|e[14]<<8|e[15],maxBitrate:e[16]<<24|e[17]<<16|e[18]<<8|e[19],avgBitrate:e[20]<<24|e[21]<<16|e[22]<<8|e[23],decoderConfigDescriptor:{tag:e[24],length:e[25],audioObjectType:e[26]>>>3&31,samplingFrequencyIndex:(7&e[26])<<1|e[27]>>>7&1,channelConfiguration:e[27]>>>3&15}}}},ftyp:function(e){for(var t=new DataView(e.buffer,e.byteOffset,e.byteLength),o={majorBrand:d(e.subarray(0,4)),minorVersion:t.getUint32(4),compatibleBrands:[]},n=8;n<e.byteLength;)o.compatibleBrands.push(d(e.subarray(n,n+4))),n+=4;return o},dinf:function(e){return{boxes:n(e)}},dref:function(e){return{version:e[0],flags:new Uint8Array(e.subarray(1,4)),dataReferences:n(e.subarray(8))}},hdlr:function(e){var t={version:new DataView(e.buffer,e.byteOffset,e.byteLength).getUint8(0),flags:new Uint8Array(e.subarray(1,4)),handlerType:d(e.subarray(8,12)),name:""},o=8;for(o=24;o<e.byteLength;o++){if(0===e[o]){o++;break}t.name+=String.fromCharCode(e[o])}return t.name=decodeURIComponent(escape(t.name)),t},mdat:function(e){return{byteLength:e.byteLength,nals:function(e){var t,o,n=new DataView(e.buffer,e.byteOffset,e.byteLength),r=[];for(t=0;t+4<e.length;t+=o)if(o=n.getUint32(t),t+=4,o<=0)r.push("<span style='color:red;'>MALFORMED DATA</span>");else switch(31&e[t]){case 1:r.push("slice_layer_without_partitioning_rbsp");break;case 5:r.push("slice_layer_without_partitioning_rbsp_idr");break;case 6:r.push("sei_rbsp");break;case 7:r.push("seq_parameter_set_rbsp");break;case 8:r.push("pic_parameter_set_rbsp");break;case 9:r.push("access_unit_delimiter_rbsp");break;default:r.push("UNKNOWN NAL - "+e[t]&31)}return r}(e)}},mdhd:function(e){var t,o=new DataView(e.buffer,e.byteOffset,e.byteLength),n=4,r={version:o.getUint8(0),flags:new Uint8Array(e.subarray(1,4)),language:""};return 1===r.version?(n+=4,r.creationTime=i(o.getUint32(n)),n+=8,r.modificationTime=i(o.getUint32(n)),n+=4,r.timescale=o.getUint32(n),n+=8):(r.creationTime=i(o.getUint32(n)),n+=4,r.modificationTime=i(o.getUint32(n)),n+=4,r.timescale=o.getUint32(n),n+=4),r.duration=o.getUint32(n),n+=4,t=o.getUint16(n),r.language+=String.fromCharCode(96+(t>>10)),r.language+=String.fromCharCode(96+((992&t)>>5)),r.language+=String.fromCharCode(96+(31&t)),r},mdia:function(e){return{boxes:n(e)}},mfhd:function(e){return{version:e[0],flags:new Uint8Array(e.subarray(1,4)),sequenceNumber:e[4]<<24|e[5]<<16|e[6]<<8|e[7]}},minf:function(e){return{boxes:n(e)}},mp4a:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength),o={dataReferenceIndex:t.getUint16(6),channelcount:t.getUint16(16),samplesize:t.getUint16(18),samplerate:t.getUint16(24)+t.getUint16(26)/65536};return 28<e.byteLength&&(o.streamDescriptor=n(e.subarray(28))[0]),o},moof:function(e){return{boxes:n(e)}},moov:function(e){return{boxes:n(e)}},mvex:function(e){return{boxes:n(e)}},mvhd:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength),o=4,n={version:t.getUint8(0),flags:new Uint8Array(e.subarray(1,4))};return 1===n.version?(o+=4,n.creationTime=i(t.getUint32(o)),o+=8,n.modificationTime=i(t.getUint32(o)),o+=4,n.timescale=t.getUint32(o),o+=8):(n.creationTime=i(t.getUint32(o)),o+=4,n.modificationTime=i(t.getUint32(o)),o+=4,n.timescale=t.getUint32(o),o+=4),n.duration=t.getUint32(o),o+=4,n.rate=t.getUint16(o)+t.getUint16(o+2)/16,o+=4,n.volume=t.getUint8(o)+t.getUint8(o+1)/8,o+=2,o+=2,o+=8,n.matrix=new Uint32Array(e.subarray(o,o+36)),o+=36,o+=24,n.nextTrackId=t.getUint32(o),n},pdin:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength);return{version:t.getUint8(0),flags:new Uint8Array(e.subarray(1,4)),rate:t.getUint32(4),initialDelay:t.getUint32(8)}},sdtp:function(e){var t,o={version:e[0],flags:new Uint8Array(e.subarray(1,4)),samples:[]};for(t=4;t<e.byteLength;t++)o.samples.push({dependsOn:(48&e[t])>>4,isDependedOn:(12&e[t])>>2,hasRedundancy:3&e[t]});return o},sidx:function(e){var t,o=new DataView(e.buffer,e.byteOffset,e.byteLength),n={version:e[0],flags:new Uint8Array(e.subarray(1,4)),references:[],referenceId:o.getUint32(4),timescale:o.getUint32(8),earliestPresentationTime:o.getUint32(12),firstOffset:o.getUint32(16)},r=o.getUint16(22);for(t=24;r;t+=12,r--)n.references.push({referenceType:(128&e[t])>>>7,referencedSize:2147483647&o.getUint32(t),subsegmentDuration:o.getUint32(t+4),startsWithSap:!!(128&e[t+8]),sapType:(112&e[t+8])>>>4,sapDeltaTime:268435455&o.getUint32(t+8)});return n},smhd:function(e){return{version:e[0],flags:new Uint8Array(e.subarray(1,4)),balance:e[4]+e[5]/256}},stbl:function(e){return{boxes:n(e)}},stco:function(e){var t,o=new DataView(e.buffer,e.byteOffset,e.byteLength),n={version:e[0],flags:new Uint8Array(e.subarray(1,4)),chunkOffsets:[]},r=o.getUint32(4);for(t=8;r;t+=4,r--)n.chunkOffsets.push(o.getUint32(t));return n},stsc:function(e){var t,o=new DataView(e.buffer,e.byteOffset,e.byteLength),n=o.getUint32(4),r={version:e[0],flags:new Uint8Array(e.subarray(1,4)),sampleToChunks:[]};for(t=8;n;t+=12,n--)r.sampleToChunks.push({firstChunk:o.getUint32(t),samplesPerChunk:o.getUint32(t+4),sampleDescriptionIndex:o.getUint32(t+8)});return r},stsd:function(e){return{version:e[0],flags:new Uint8Array(e.subarray(1,4)),sampleDescriptions:n(e.subarray(8))}},stsz:function(e){var t,o=new DataView(e.buffer,e.byteOffset,e.byteLength),n={version:e[0],flags:new Uint8Array(e.subarray(1,4)),sampleSize:o.getUint32(4),entries:[]};for(t=12;t<e.byteLength;t+=4)n.entries.push(o.getUint32(t));return n},stts:function(e){var t,o=new DataView(e.buffer,e.byteOffset,e.byteLength),n={version:e[0],flags:new Uint8Array(e.subarray(1,4)),timeToSamples:[]},r=o.getUint32(4);for(t=8;r;t+=8,r--)n.timeToSamples.push({sampleCount:o.getUint32(t),sampleDelta:o.getUint32(t+4)});return n},styp:function(e){return h.ftyp(e)},tfdt:function(e){var t={version:e[0],flags:new Uint8Array(e.subarray(1,4)),baseMediaDecodeTime:e[4]<<24|e[5]<<16|e[6]<<8|e[7]};return 1===t.version&&(t.baseMediaDecodeTime*=Math.pow(2,32),t.baseMediaDecodeTime+=e[8]<<24|e[9]<<16|e[10]<<8|e[11]),t},tfhd:function(e){var t,o=new DataView(e.buffer,e.byteOffset,e.byteLength),n={version:e[0],flags:new Uint8Array(e.subarray(1,4)),trackId:o.getUint32(4)},r=1&n.flags[2],i=2&n.flags[2],a=8&n.flags[2],s=16&n.flags[2],l=32&n.flags[2],c=65536&n.flags[0],u=131072&n.flags[0];return t=8,r&&(t+=4,n.baseDataOffset=o.getUint32(12),t+=4),i&&(n.sampleDescriptionIndex=o.getUint32(t),t+=4),a&&(n.defaultSampleDuration=o.getUint32(t),t+=4),s&&(n.defaultSampleSize=o.getUint32(t),t+=4),l&&(n.defaultSampleFlags=o.getUint32(t)),c&&(n.durationIsEmpty=!0),!r&&u&&(n.baseDataOffsetIsMoof=!0),n},tkhd:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength),o=4,n={version:t.getUint8(0),flags:new Uint8Array(e.subarray(1,4))};return 1===n.version?(o+=4,n.creationTime=i(t.getUint32(o)),o+=8,n.modificationTime=i(t.getUint32(o)),o+=4,n.trackId=t.getUint32(o),o+=4,o+=8):(n.creationTime=i(t.getUint32(o)),o+=4,n.modificationTime=i(t.getUint32(o)),o+=4,n.trackId=t.getUint32(o),o+=4,o+=4),n.duration=t.getUint32(o),o+=4,o+=8,n.layer=t.getUint16(o),o+=2,n.alternateGroup=t.getUint16(o),o+=2,n.volume=t.getUint8(o)+t.getUint8(o+1)/8,o+=2,o+=2,n.matrix=new Uint32Array(e.subarray(o,o+36)),o+=36,n.width=t.getUint16(o)+t.getUint16(o+2)/16,o+=4,n.height=t.getUint16(o)+t.getUint16(o+2)/16,n},traf:function(e){return{boxes:n(e)}},trak:function(e){return{boxes:n(e)}},trex:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength);return{version:e[0],flags:new Uint8Array(e.subarray(1,4)),trackId:t.getUint32(4),defaultSampleDescriptionIndex:t.getUint32(8),defaultSampleDuration:t.getUint32(12),defaultSampleSize:t.getUint32(16),sampleDependsOn:3&e[20],sampleIsDependedOn:(192&e[21])>>6,sampleHasRedundancy:(48&e[21])>>4,samplePaddingValue:(14&e[21])>>1,sampleIsDifferenceSample:!!(1&e[21]),sampleDegradationPriority:t.getUint16(22)}},trun:function(e){var t,o={version:e[0],flags:new Uint8Array(e.subarray(1,4)),samples:[]},n=new DataView(e.buffer,e.byteOffset,e.byteLength),r=1&o.flags[2],i=4&o.flags[2],a=1&o.flags[1],s=2&o.flags[1],l=4&o.flags[1],c=8&o.flags[1],u=n.getUint32(4),d=8;for(r&&(o.dataOffset=n.getInt32(d),d+=4),i&&u&&(t={flags:p(e.subarray(d,d+4))},d+=4,a&&(t.duration=n.getUint32(d),d+=4),s&&(t.size=n.getUint32(d),d+=4),c&&(t.compositionTimeOffset=n.getUint32(d),d+=4),o.samples.push(t),u--);u--;)t={},a&&(t.duration=n.getUint32(d),d+=4),s&&(t.size=n.getUint32(d),d+=4),l&&(t.flags=p(e.subarray(d,d+4)),d+=4),c&&(t.compositionTimeOffset=n.getUint32(d),d+=4),o.samples.push(t);return o},"url ":function(e){return{version:e[0],flags:new Uint8Array(e.subarray(1,4))}},vmhd:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength);return{version:e[0],flags:new Uint8Array(e.subarray(1,4)),graphicsmode:t.getUint16(4),opcolor:new Uint16Array([t.getUint16(6),t.getUint16(8),t.getUint16(10)])}}};n=function(e){for(var t,o,n,r,i,a=0,s=[],l=new ArrayBuffer(e.length),c=new Uint8Array(l),u=0;u<e.length;++u)c[u]=e[u];for(t=new DataView(l);a<e.byteLength;)o=t.getUint32(a),n=d(e.subarray(a+4,a+8)),r=1<o?a+o:e.byteLength,(i=(h[n]||function(e){return{data:e}})(e.subarray(a+8,r))).size=o,i.type=n,s.push(i),a=r;return s},a=function(e,t){var i;return t=t||0,i=new Array(2*t+1).join(" "),e.map(function(r,e){return i+r.type+"\n"+Object.keys(r).filter(function(e){return"type"!==e&&"boxes"!==e}).map(function(e){var t=i+"  "+e+": ",o=r[e];if(o instanceof Uint8Array||o instanceof Uint32Array){var n=Array.prototype.slice.call(new Uint8Array(o.buffer,o.byteOffset,o.byteLength)).map(function(e){return" "+("00"+e.toString(16)).slice(-2)}).join("").match(/.{1,24}/g);return n?1===n.length?t+"<"+n.join("").slice(1)+">":t+"<\n"+n.map(function(e){return i+"  "+e}).join("\n")+"\n"+i+"  >":t+"<>"}return t+JSON.stringify(o,null,2).split("\n").map(function(e,t){return 0===t?e:i+"  "+e}).join("\n")}).join("\n")+(r.boxes?"\n"+a(r.boxes,t+1):"")}).join("\n")},e.exports={inspect:n,textify:a,parseTfdt:h.tfdt,parseHdlr:h.hdlr,parseTfhd:h.tfhd,parseTrun:h.trun,parseSidx:h.sidx}},850:function(e,t,o){"use strict";var n=o(3),r=o(1786),m=o(1787),i=o(41);function a(e,t,o){var n=e;return r(t)?(o=t,"string"==typeof e&&(n={uri:e})):n=i(t,{uri:e}),n.callback=o,n}function y(e,t,o){return s(t=a(e,t,o))}function s(n){if(void 0===n.callback)throw new Error("callback argument missing");var r=!1,i=function(e,t,o){r||(r=!0,n.callback(e,t,o))};function t(e){return clearTimeout(l),e instanceof Error||(e=new Error(""+(e||"Unknown XMLHttpRequest Error"))),e.statusCode=0,i(e,f)}function e(){if(!a){var e;clearTimeout(l),e=n.useXDR&&void 0===s.status?200:1223===s.status?204:s.status;var t=f,o=null;return 0!==e?(t={body:function(){var e=void 0;if(e=s.response?s.response:s.responseText||function(e){if("document"===e.responseType)return e.responseXML;var t=e.responseXML&&"parsererror"===e.responseXML.documentElement.nodeName;return""!==e.responseType||t?null:e.responseXML}(s),g)try{e=JSON.parse(e)}catch(e){}return e}(),statusCode:e,method:u,headers:{},url:c,rawRequest:s},s.getAllResponseHeaders&&(t.headers=m(s.getAllResponseHeaders()))):o=new Error("Internal XMLHttpRequest Error"),i(o,t,t.body)}}var o,a,s=n.xhr||null;s||(s=n.cors||n.useXDR?new y.XDomainRequest:new y.XMLHttpRequest);var l,c=s.url=n.uri||n.url,u=s.method=n.method||"GET",d=n.body||n.data,p=s.headers=n.headers||{},h=!!n.sync,g=!1,f={body:void 0,headers:{},statusCode:0,method:u,url:c,rawRequest:s};if("json"in n&&!1!==n.json&&(g=!0,p.accept||p.Accept||(p.Accept="application/json"),"GET"!==u&&"HEAD"!==u&&(p["content-type"]||p["Content-Type"]||(p["Content-Type"]="application/json"),d=JSON.stringify(!0===n.json?d:n.json))),s.onreadystatechange=function(){4===s.readyState&&setTimeout(e,0)},s.onload=e,s.onerror=t,s.onprogress=function(){},s.onabort=function(){a=!0},s.ontimeout=t,s.open(u,c,!h,n.username,n.password),h||(s.withCredentials=!!n.withCredentials),!h&&0<n.timeout&&(l=setTimeout(function(){if(!a){a=!0,s.abort("timeout");var e=new Error("XMLHttpRequest timeout");e.code="ETIMEDOUT",t(e)}},n.timeout)),s.setRequestHeader)for(o in p)p.hasOwnProperty(o)&&s.setRequestHeader(o,p[o]);else if(n.headers&&!function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}(n.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in n&&(s.responseType=n.responseType),"beforeSend"in n&&"function"==typeof n.beforeSend&&n.beforeSend(s),s.send(d||null),s}(e.exports=y).XMLHttpRequest=n.XMLHttpRequest||function(){},y.XDomainRequest="withCredentials"in new y.XMLHttpRequest?y.XMLHttpRequest:n.XDomainRequest,function(e,t){for(var o=0;o<e.length;o++)t(e[o])}(["get","put","post","patch","head","delete"],function(n){y["delete"===n?"del":n]=function(e,t,o){return(t=a(e,t,o)).method=n.toUpperCase(),s(t)}})},851:function(e,t,o){var n=o(1788),r=e.exports={WebVTT:o(1789),VTTCue:o(1790),VTTRegion:o(1791)};n.vttjs=r,n.WebVTT=r.WebVTT;var i=r.VTTCue,a=r.VTTRegion,s=n.VTTCue,l=n.VTTRegion;r.shim=function(){n.VTTCue=i,n.VTTRegion=a},r.restore=function(){n.VTTCue=s,n.VTTRegion=l},n.VTTCue||r.shim()},852:function(e,t,o){var n,u,r,i,d;n=/^((?:[a-zA-Z0-9+\-.]+:)?)(\/\/[^\/?#]*)?((?:[^\/\?#]*\/)*.*?)??(;.*?)?(\?.*?)?(#.*?)?$/,u=/^([^\/?#]*)(.*)$/,r=/(?:\/|^)\.(?=\/)/g,i=/(?:\/|^)\.\.\/(?!\.\.\/).*?(?=\/)/g,d={buildAbsoluteURL:function(e,t,o){if(o=o||{},e=e.trim(),!(t=t.trim())){if(!o.alwaysNormalize)return e;var n=d.parseURL(e);if(!n)throw new Error("Error trying to parse base URL.");return n.path=d.normalizePath(n.path),d.buildURLFromParts(n)}var r=d.parseURL(t);if(!r)throw new Error("Error trying to parse relative URL.");if(r.scheme)return o.alwaysNormalize?(r.path=d.normalizePath(r.path),d.buildURLFromParts(r)):t;var i=d.parseURL(e);if(!i)throw new Error("Error trying to parse base URL.");if(!i.netLoc&&i.path&&"/"!==i.path[0]){var a=u.exec(i.path);i.netLoc=a[1],i.path=a[2]}i.netLoc&&!i.path&&(i.path="/");var s={scheme:i.scheme,netLoc:r.netLoc,path:null,params:r.params,query:r.query,fragment:r.fragment};if(!r.netLoc&&(s.netLoc=i.netLoc,"/"!==r.path[0]))if(r.path){var l=i.path,c=l.substring(0,l.lastIndexOf("/")+1)+r.path;s.path=d.normalizePath(c)}else s.path=i.path,r.params||(s.params=i.params,r.query||(s.query=i.query));return null===s.path&&(s.path=o.alwaysNormalize?d.normalizePath(r.path):r.path),d.buildURLFromParts(s)},parseURL:function(e){var t=n.exec(e);return t?{scheme:t[1]||"",netLoc:t[2]||"",path:t[3]||"",params:t[4]||"",query:t[5]||"",fragment:t[6]||""}:null},normalizePath:function(e){for(e=e.split("").reverse().join("").replace(r,"");e.length!==(e=e.replace(i,"")).length;);return e.split("").reverse().join("")},buildURLFromParts:function(e){return e.scheme+e.netLoc+e.path+e.params+e.query+e.fragment}},e.exports=d},854:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:r,t=1<arguments.length?arguments[1]:void 0;if(t.type===i){if(!0===e.open)throw new Error("dialog is already open");if(t.imgOnly&&t.hintsOnly)throw new Error("cant have imgOnly and hintsOnly");return{open:!0,autoClose:t.autoClose,imgOnly:t.imgOnly,hintsOnly:t.hintsOnly,imgUrl:t.imgUrl}}if(t.type!==n)return e;if(!1!==e.open)return{open:!1};throw new Error("dialog is already closed")},t.closeDialog=t.openDialog=void 0;var i="instructionsDialog/OPEN_DIALOG",n="instructionsDialog/CLOSE_DIALOG",r={open:!1,autoClose:!1,imgOnly:!1,hintsOnly:!1};t.openDialog=function(e){var t=e.autoClose,o=e.imgOnly,n=e.hintsOnly,r=e.imgUrl;return{type:i,autoClose:t,imgOnly:o,hintsOnly:n,imgUrl:r}};t.closeDialog=function(){return{type:n}}},855:function(e,t,o){"use strict";var l=k(o(10)),d=k(o(1)),p=k(o(8)),h=o(9),g=k(o(15)),r=k(o(86)),c=k(o(347)),f=k(o(748)),i=o(82),a=k(o(623)),s=k(o(1079)),u=k(o(1081)),n=k(o(1082)),m=o(596),y=o(59),_=o(147),v=o(37),b=o(95),E=o(348),T=o(56),S=o(1047);function k(e){return e&&e.__esModule?e:{default:e}}function C(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var o=[],n=!0,r=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(o.push(a.value),!t||o.length!==t);n=!0);}catch(e){r=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(r)throw i}}return o}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var A=e.exports;function O(i,a,s){var e=c.default.queryParams("user_id");i.dispatch((0,b.queryUserProgress)(e)).then(function(e){var t=!s;if(t){var o=0<Object.keys(e).length,n=i.getState().progress.postMilestoneDisabled;if(o&&n&&!a.isHocScript&&function(){var e=(0,l.default)("<div>");(0,l.default)(document.body).append(e),p.default.render(d.default.createElement(u.default,null),e[0])}(),(e.isTeacher||e.teacherViewingStudent)&&!e.professionalLearningCourse){var r=s?"level":"script_overview";(0,S.queryLockStatus)(i,a.id,r),(0,S.renderTeacherPanel)(i,a.id,a.section,a.name,null,r,t)}}})}function w(t,o,e,n){var r=4<arguments.length&&void 0!==arguments[4]&&arguments[4];t.dispatch((0,b.initProgress)({currentLevelId:e,professionalLearningCourse:o.plc,saveAnswersBeforeNavigation:r,stages:o.stages,peerReviewStage:o.peerReviewStage,scriptId:o.id,scriptName:o.name,scriptTitle:o.title,scriptDescription:o.description,betaTitle:o.beta_title,courseId:o.course_id,isFullProgress:n})),o.disablePostMilestone&&t.dispatch((0,b.disablePostMilestone)());var i,a=!!c.default.queryParams("user_id");(a||t.dispatch((0,b.mergeProgress)(c.default.allLevelsProgress()[o.name]||{})),o.hideable_stages&&t.dispatch((0,_.getHiddenStages)(o.name,!0)),t.dispatch((0,b.setIsAge13Required)(o.age_13_required)),a)||t.subscribe(function(){var e=t.getState().progress.levelProgress;e!==i&&(i=e,c.default.batchTrackProgress(o.name,e))})}A.showDisabledBubblesAlert=function(){if((0,m.getStore)().getState().progress.postMilestoneDisabled){var e=(0,l.default)("<div>").css({position:"absolute",left:0,right:0,top:45,zIndex:1e3});(0,l.default)(document.body).append(e),p.default.render(d.default.createElement(n.default,null),e[0])}},A.renderStageProgress=function(e,t,o,n,r,i,a){var s=(0,m.getStore)(),l=e.name,c=e.disablePostMilestone,u=e.isHocScript;w(s,{name:l,stages:[t],disablePostMilestone:c,age_13_required:e.age_13_required,id:t.script_id},n,!1,r),s.dispatch((0,b.mergeProgress)(g.default.mapValues(o.levels,function(e){return e.submitted?v.TestResults.SUBMITTED_RESULT:e.result}))),s.dispatch((0,b.setIsHocScript)(u)),i&&A.showDisabledBubblesAlert(),a&&s.dispatch((0,b.setStageExtrasEnabled)(!0)),o.isVerifiedTeacher&&s.dispatch((0,E.setVerified)()),p.default.render(d.default.createElement(h.Provider,{store:s},d.default.createElement(f.default,null)),document.querySelector(".progress_container"))},A.renderCourseProgress=function(e){var t=(0,m.getStore)();w(t,e,null,!0),e.student_detail_progress_view&&t.dispatch((0,b.setStudentDefaultsSummaryView)(!1)),function(e,t){var o=y.ViewType.Student;if("teacher"===t.user_type){var n=r.default.parse(location.search);o=n.viewAs||y.ViewType.Teacher}e.dispatch((0,y.setViewType)(o))}(t,e),O(t,e,null);var o=(e.teacher_resources||[]).map(function(e){var t=C(e,2);return{type:t[0],link:t[1]}});t.dispatch((0,_.initializeHiddenScripts)(e.section_hidden_unit_info)),e.sections&&t.dispatch((0,T.setSections)(e.sections)),t.dispatch(T.setPageType,T.pageTypes.scriptOverview);var n=document.createElement("div");(0,l.default)(".user-stats-block").prepend(n),p.default.render(d.default.createElement(h.Provider,{store:t},d.default.createElement(a.default,{id:e.id,courseId:e.course_id,onOverviewPage:!0,excludeCsfColumnInLegend:!e.csf,teacherResources:o,showCourseUnitVersionWarning:e.show_course_unit_version_warning,showScriptVersionWarning:e.show_script_version_warning,showRedirectWarning:e.show_redirect_warning,redirectScriptUrl:e.redirect_script_url,versions:(0,i.convertAssignmentVersionShapeFromServer)(e.versions),courseName:e.course_name,showAssignButton:e.show_assign_button,userId:e.user_id,assignedSectionId:e.assigned_section_id})),n)},A.renderMiniView=function(e,t,o,n,r){var i=(0,m.getStore)();r&&i.dispatch((0,b.setStudentDefaultsSummaryView)(!1)),p.default.render(d.default.createElement(h.Provider,{store:i},d.default.createElement(s.default,{linesOfCodeText:n})),e),l.default.getJSON("/api/script_structure/".concat(t),function(e){w(i,e,o,!0),O(i,e,o)})}},856:function(e,t,o){"use strict";function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var t=d();if(t&&t.has(e))return t.get(e);var o={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(o,r,i):o[r]=e[r]}o.default=e,t&&t.set(e,o);return o}(o(1)),i=u(o(8)),n=u(o(0)),r=u(o(14)),l=u(o(6)),c=u(o(23));function u(e){return e&&e.__esModule?e:{default:e}}function d(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return d=function(){return e},e}function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e}).apply(this,arguments)}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var f={main:{display:"inline-block"},icon:{fontSize:24,position:"relative",top:3},dropdown:{border:"1px solid ".concat(l.default.charcoal),position:"absolute",zIndex:1e3},anchor:{padding:10,color:l.default.charcoal,backgroundColor:l.default.white,fontFamily:'"Gotham 5r", sans-serif',display:"block",textDecoration:"none",lineHeight:"20px",transition:"background-color .2s ease-out",":hover":{backgroundColor:l.default.lightest_gray,cursor:"pointer"}},nonFirstAnchor:{borderTop:"1px solid ".concat(l.default.charcoal)}},m=function(r){function e(){for(var o,e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return g(h(o=r.call.apply(r,[this].concat(t))||this),"state",{dropdownOpen:!1}),g(h(o),"expandDropdown",function(){document.addEventListener("click",o.onClickDocument,!1),o.setState({dropdownOpen:!0})}),g(h(o),"collapseDropdown",function(){document.removeEventListener("click",o.onClickDocument,!1),o.setState({dropdownOpen:!1})}),g(h(o),"onClickDocument",function(e){i.default.findDOMNode(h(o)).contains(e.target)||o.state.dropdownOpen&&o.collapseDropdown()}),g(h(o),"toggleDropdown",function(){o.state.dropdownOpen?o.collapseDropdown():o.expandDropdown()}),g(h(o),"onClickChild",function(e,t){o.collapseDropdown(),t.onClick&&t.onClick(e)}),o}!function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(e,r);var t=e.prototype;return t.onComponentDidUnmount=function(){document.removeEventListener("click",this.onClickDocument,!1)},t.render=function(){var o=this,e=this.props,t=e.text,n=e.color,r=e.size,i=this.state.dropdownOpen;return s.default.createElement("div",{style:f.main},s.default.createElement(c.default,{__useDeprecatedTag:!0,text:t,size:r,onClick:this.toggleDropdown,icon:i?"caret-up":"caret-down",iconStyle:f.icon,color:n}),i&&s.default.createElement("div",{style:f.dropdown},this.props.children.map(function(t,e){return s.default.createElement("a",p({},t.props,{onClick:function(e){return o.onClickChild(e,t.props)},key:e,style:function(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{},n=Object.keys(Object(o));"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(o).filter(function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable}))),n.forEach(function(e){g(t,e,o[e])})}return t}({},f.anchor,0<e&&f.nonFirstAnchor)}))})))},e}(s.Component);g(m,"propTypes",{text:n.default.string.isRequired,color:n.default.oneOf(Object.values(c.default.ButtonColor)).isRequired,size:n.default.string,children:function(e){s.default.Children.map(e.children,function(e){if("a"!==e.type)throw new Error("only accepts children of type <a/>");if(!e.props.href&&!e.props.onClick)throw new Error("each child must have an href or onclick")})}});var y=(0,r.default)(m);t.default=y,e.exports=t.default},857:function(e,t,o){"use strict";function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=p(o(0)),r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var t=d();if(t&&t.has(e))return t.get(e);var o={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(o,r,i):o[r]=e[r]}o.default=e,t&&t.set(e,o);return o}(o(1)),i=p(o(6)),s=p(o(4)),l=p(o(365)),c=p(o(18)),u=o(61);function d(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return d=function(){return e},e}function p(e){return e&&e.__esModule?e:{default:e}}function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e}).apply(this,arguments)}function g(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function f(e,t){if(null==e)return{};var o,n,r=function(e,t){if(null==e)return{};var o,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)o=i[n],0<=t.indexOf(o)||(r[o]=e[o]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)o=i[n],0<=t.indexOf(o)||Object.prototype.propertyIsEnumerable.call(e,o)&&(r[o]=e[o])}return r}var m={table:{textAlign:"center",width:"100%",marginLeft:3,marginRight:3,marginTop:60},tdStyle:{padding:10,borderStyle:"none"},header:{backgroundColor:i.default.white,color:i.default.charcoal,whiteSpace:"nowrap"},secondRow:{backgroundColor:i.default.lightest_gray,color:i.default.charcoal,borderWidth:2,borderColor:i.default.lightest_gray,borderStyle:"solid",verticalAlign:"top"},subsequentRow:{backgroundColor:i.default.white,borderWidth:2,borderColor:i.default.lightest_gray,borderStyle:"solid"},rightBorder:{borderRightStyle:"solid",borderWidth:2,borderColor:i.default.lightest_gray},headerCell:{fontWeight:"bold",fontSize:18},secondaryText:{fontSize:10},iconAndText:{whiteSpace:"nowrap"},iconAndTextDiv:{whiteSpace:"nowrap",paddingBottom:16},iconAndTextDivTop:{whiteSpace:"nowrap",paddingTop:10,paddingBottom:16},iconAndTextDivBottom:{whiteSpace:"nowrap",paddingBottom:10},icon:{marginRight:5,size:20},center:{display:"flex",alignItems:"center",justifyContent:"center"}},y=function(e){var t=e.style,o=f(e,["style"]);return r.default.createElement("td",h({style:function(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{},n=Object.keys(Object(o));"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(o).filter(function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable}))),n.forEach(function(e){g(t,e,o[e])})}return t}({},m.tdStyle,t)},o))};y.propTypes={style:n.default.object};var _=function(e){function t(){return e.apply(this,arguments)||this}return function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(t,e),t.prototype.render=function(){var e=this.props.excludeCsfColumn;return r.default.createElement("table",{style:m.table},r.default.createElement("thead",null,r.default.createElement("tr",{style:m.header},r.default.createElement(y,{style:m.headerCell},s.default.levelType()),r.default.createElement(y,{style:m.headerCell,colSpan:3},s.default.levelDetails()),r.default.createElement(y,{style:m.headerCell,colSpan:e?4:5},s.default.levelStatus())),r.default.createElement("tr",{style:m.secondRow},r.default.createElement(y,{colSpan:4}),r.default.createElement(y,null,s.default.notStarted()),r.default.createElement(y,null,s.default.inProgress()),!e&&r.default.createElement(y,null,r.default.createElement("div",null,s.default.completed()),r.default.createElement("div",{style:m.secondaryText},"(",s.default.tooManyBlocks(),")")),r.default.createElement(y,null,r.default.createElement("div",null,s.default.completed()),!e&&r.default.createElement("div",{style:m.secondaryText},"(",s.default.perfect(),")")),r.default.createElement(y,null,s.default.assessmentAndSurvey()))),r.default.createElement("tbody",null,r.default.createElement("tr",{style:m.subsequentRow},r.default.createElement(y,{style:m.rightBorder},s.default.concept()),r.default.createElement(y,null,r.default.createElement("div",{style:m.iconAndText},r.default.createElement(c.default,{icon:"file-text",style:m.icon}),s.default.text())),r.default.createElement(y,null,r.default.createElement("div",{style:m.iconAndText},r.default.createElement(c.default,{icon:"video-camera",style:m.icon}),s.default.video())),r.default.createElement(y,{style:m.rightBorder},r.default.createElement("div",{style:m.iconAndText},r.default.createElement(c.default,{icon:"map",style:m.icon}),s.default.map())),r.default.createElement(y,null,r.default.createElement("div",{style:m.center},r.default.createElement(l.default,{level:{status:u.LevelStatus.not_tried,isConceptLevel:!0,name:"".concat(s.default.concept(),": ").concat(s.default.notStarted())},disabled:!1}))),r.default.createElement(y,null,r.default.createElement("div",{style:m.center},r.default.createElement(l.default,{level:{status:u.LevelStatus.attempted,isConceptLevel:!0,name:"".concat(s.default.concept(),": ").concat(s.default.inProgress())},disabled:!1}))),!e&&r.default.createElement(y,null,"N/A"),r.default.createElement(y,null,r.default.createElement("div",{style:m.center},r.default.createElement(l.default,{level:{status:u.LevelStatus.perfect,isConceptLevel:!0,name:"".concat(s.default.concept(),": ").concat(s.default.completed()," (").concat(s.default.perfect(),")")},disabled:!1}))),r.default.createElement(y,null,"N/A")),r.default.createElement("tr",{style:m.subsequentRow},r.default.createElement(y,{style:m.rightBorder,rowSpan:2},s.default.activity()),r.default.createElement(y,null,r.default.createElement("div",{style:m.iconAndTextDivTop},r.default.createElement(c.default,{icon:"scissors",style:m.icon}),s.default.unplugged()),r.default.createElement("div",{style:m.iconAndTextDivBottom},r.default.createElement(c.default,{icon:"flag-checkered",style:m.icon}),s.default.stageExtras())),r.default.createElement(y,null,r.default.createElement("div",{style:m.iconAndTextDivTop},r.default.createElement(c.default,{icon:"desktop",style:m.icon}),s.default.online()),r.default.createElement("div",{style:m.iconAndTextDivBottom},r.default.createElement(c.default,{icon:"check-circle",style:m.icon}),s.default.progressLegendAssessment())),r.default.createElement(y,{style:m.rightBorder},r.default.createElement("div",{style:m.iconAndTextDiv},r.default.createElement(c.default,{icon:"list-ul",style:m.icon}),s.default.question()),r.default.createElement("div",{style:m.conAndTextDivBottom},r.default.createElement(c.default,{icon:"",style:m.icon})," ")),r.default.createElement(y,{rowSpan:2},r.default.createElement("div",{style:m.center},r.default.createElement(l.default,{level:{status:u.LevelStatus.not_tried,isConceptLevel:!1,name:"".concat(s.default.activity(),": ").concat(s.default.notStarted())},disabled:!1}))),r.default.createElement(y,{rowSpan:2},r.default.createElement("div",{style:m.center},r.default.createElement(l.default,{level:{status:u.LevelStatus.attempted,isConceptLevel:!1,name:"".concat(s.default.activity(),": ").concat(s.default.inProgress())},disabled:!1}))),!e&&r.default.createElement(y,{rowSpan:2},r.default.createElement("div",{style:m.center},r.default.createElement(l.default,{level:{status:u.LevelStatus.passed,isConceptLevel:!1,name:"".concat(s.default.activity(),": ").concat(s.default.completed()," (").concat(s.default.tooManyBlocks(),")")},disabled:!1}))),r.default.createElement(y,{rowSpan:2},r.default.createElement("div",{style:m.center},r.default.createElement(l.default,{level:{status:u.LevelStatus.perfect,isConceptLevel:!1,name:"".concat(s.default.activity(),": ").concat(s.default.completed()," (").concat(s.default.perfect(),")")},disabled:!1}))),r.default.createElement(y,{rowSpan:2},r.default.createElement("div",{style:m.center},r.default.createElement(l.default,{level:{status:u.LevelStatus.submitted,isConceptLevel:!1,name:"".concat(s.default.activity(),": ").concat(s.default.submitted())},disabled:!1}))))))},t}(r.Component);g(t.default=_,"propTypes",{excludeCsfColumn:n.default.bool.isRequired}),e.exports=t.default},858:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:d,t=1<arguments.length?arguments[1]:void 0;switch(t.type){case a:return n({},e,{isOpen:!0,projectId:t.projectId});case s:return n({},e,{isOpen:!1});case l:return n({},e,{isDeletePending:!0});case c:return n({},e,{isOpen:!1,isDeletePending:!1});case u:return n({},e,{isDeletePending:!1});default:return e}},t.showDeleteDialog=function(e){return{type:a,projectId:e}},t.hideDeleteDialog=function(){return{type:s}},t.deleteProject=function(r){return function(n){return n({type:l}),new Promise(function(t,o){i.channels.withProjectId(r).ajax("DELETE","",function(e){n({type:c,projectId:r}),t()},function(e){n({type:u}),o(e)},null)})}},t.DELETE_FAILURE=t.DELETE_SUCCESS=t.DELETE_REQUEST=void 0;var i=o(126);function n(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{},n=Object.keys(Object(o));"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(o).filter(function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable}))),n.forEach(function(e){r(t,e,o[e])})}return t}function r(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var a="deleteDialog/SHOW_DELETE_DIALOG",s="deleteDialog/HIDE_DELETE_DIALOG",l="deleteDialog/DELETE_REQUEST";t.DELETE_REQUEST=l;var c="deleteDialog/DELETE_SUCCESS";t.DELETE_SUCCESS=c;var u="deleteDialog/DELETE_FAILURE";t.DELETE_FAILURE=u;var d={isOpen:!1,projectId:null,isDeletePending:!1}},859:function(e,t,o){"use strict";function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var E=f(o(657)),c=r(o(1577)),i=f(o(11)),n=r(o(1277)),u=o(46),s=r(o(751)),d=r(o(1279)),l=o(1278),p=r(o(4)),h=o(597);function r(e){return e&&e.__esModule?e:{default:e}}function g(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return g=function(){return e},e}function f(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var t=g();if(t&&t.has(e))return t.get(e);var o={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(o,r,i):o[r]=e[r]}return o.default=e,t&&t.set(e,o),o}function m(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var T={RUN:0,IN:1,OVER:2,OUT:3},S={Program:!0,BlockStatement:!0,SwitchStatement:!0};function k(e){try{e.interpreter.step()}catch(e){return e}}function C(e,t){return-1!==e&&!t}function y(e){return e.loc&&!!e.loc.source}function _(e,t){return 0<=e&&e<t}var v=function(){function o(e){var t=this,o=e.studioApp,n=e.shouldRunAtMaxSpeed,r=e.maxInterpreterStepsPerTick,i=e.customMarshalGlobalProperties,a=e.customMarshalBlockedProperties,s=e.customMarshalObjectList,l=e.logExecution;m(this,"nativeGetCallback",function(){t.startedHandlingEvents=!0;var e=t.eventQueue.shift();return void 0===e&&t.yield(),e}),m(this,"nativeSetCallbackRetVal",function(e){0===t.eventQueue.length&&(t.seenReturnFromCallbackDuringExecution=!0,t.lastCallbackRetVal=e,t.paused&&(t.nextStep=T.RUN,t.onNextStepChanged.notifyObservers(),t.handlePauseContinue())),t.runUntilCallbackReturn||void 0===t.lastCallbackRetVal||(t.onExecutionWarning.notifyObservers("Function passed to onEvent() has taken too long - the return value was ignored."),t.shouldRunAtMaxSpeed()||t.onExecutionWarning.notifyObservers("  (try moving the speed slider to its maximum value)"))}),this.studioApp=o,this.shouldRunAtMaxSpeed=n||function(){return!0},this.maxInterpreterStepsPerTick=r||1e4,this.customMarshaler=new d.default({globalProperties:i,blockedProperties:a,objectList:s}),this.onNextStepChanged=new c.default,this._runStateUpdater=this.onNextStepChanged.register(function(){(0,u.getStore)().dispatch((0,h.setIsDebuggerPaused)(t.paused,t.nextStep))}),this.onPause=new c.default,this.onExecutionError=new c.default,this.onExecutionWarning=new c.default,this.paused=!1,this.yieldExecution=!1,this.startedHandlingEvents=!1,this.executionError=null,this.nextStep=T.RUN,this.maxValidCallExpressionDepth=0,this.isExecuting=!1,this.callExpressionSeenAtDepth=[],this.stoppedAtBreakpointRows=[],this.logExecution=l,this.executionLog=[]}var e=o.prototype;return e.addCustomMarshalObject=function(e){this.customMarshaler.objectList.push(e)},e.parse=function(o){var r=this;if(this.calculateCodeInfo(o),!this.studioApp.hideSource&&this.studioApp.editor){var t=this.studioApp.editor.aceEditor.getSession();this.isBreakpointRow=function(e){return E.isAceBreakpointRow(t,e)}}else this.isBreakpointRow=function(){return!1};o.enableEvents&&(this.eventQueue=[],o.code+="\n;while(true){var __jsCB=getCallback();if(__jsCB){setCallbackRetVal(__jsCB.fn.apply(null,__jsCB.arguments || null));}}",s.default.createNativeFunctionFromInterpreterFunction=function(n){var e=function(){if(r.initialized()){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];if(r.eventQueue.push({fn:n,arguments:t}),!r.isExecuting)return r.executeInterpreter(!1,!0),r.lastCallbackRetVal}};return n&&n.node&&n.node.id&&(e.funcName=n.node.id.name),e});try{new s.default("",this.customMarshaler,function(e,t){r.interpreter=e,r.globalScope=t,E.initJSInterpreter(e,o.blocks,o.blockFilter,t,o.globalFunctions),o.initGlobals&&o.initGlobals(),e.setProperty(t,"getCallback",e.createNativeFunction(e.makeNativeMemberFunction({nativeFunc:r.nativeGetCallback,maxDepth:5}))),e.setProperty(t,"setCallbackRetVal",e.createNativeFunction(e.makeNativeMemberFunction({nativeFunc:r.nativeSetCallbackRetVal})))});var e=null;Array.isArray(o.projectLibraries)&&o.projectLibraries.forEach(function(t){try{e=n.default.parse(t.code,{ecmaVersion:5,locations:!0,sourceFile:t.name,program:e})}catch(e){throw e.message=p.default.errorParsingLibrary({libraryName:t.name,errorMessage:e.message}),e}}),this.interpreter.appendCode(o.code,{program:e}),this.interpreter.populateScope_(this.interpreter.ast,this.globalScope)}catch(e){this.executionError=e,this.handleError()}},o.getFunctionsAndMetadata=function(e){function r(e,t){return e.find(function(e){return e.endLocation===t-1})}var i=[],a=[],t={onComment:function(e,t,o,n){a.push({isBlockComment:e,text:t,startLocation:o,endLocation:n})}};return e=e.split("\n").map(function(e){return e.replace(/\s+$/gm,"")}).join("\n"),(0,l.generateAST)(e,t).body.filter(function(e){return"FunctionDeclaration"===e.type}).forEach(function(e){var t="",o=r(a,e.start);if(o&&o.isBlockComment)"*"===(t=o.text)[0]&&(t=t.substr(1).split("\n * ").join("\n"));else for(;o;)t=o.text.trim()+"\n"+t,o=r(a,o.startLocation);t=t.trim();var n=e.params.map(function(e){return e.name});i.push({functionName:e.id.name,parameters:n,comment:t})}),i},e.calculateCodeInfo=function(e){var t=e.code,o=e.userCodeStartOffset,n=void 0===o?0:o;this.codeInfo={},this.codeInfo.code=t,this.codeInfo.userCodeStartOffset=n,this.codeInfo.userCodeLength=t.length-n,this.codeInfo.cumulativeLength=E.calculateCumulativeLength(t.slice(n))},e.initialized=function(){return!!this.interpreter},e.deinitialize=function(){this.onNextStepChanged.unregister(this._runStateUpdater),this.interpreter=null},e.yield=function(){this.yieldExecution=!0},e.findStoppedAtBreakpointRow=function(e,t){for(var o=0;o<this.stoppedAtBreakpointRows.length;o++){var n=this.stoppedAtBreakpointRows[o];if(n.scope===e&&(void 0===t||t===n.row))return n}},e.replaceStoppedAtBreakpointRowForScope=function(e,t){if("number"!=typeof t||t<0)throw new TypeError("Row "+t+" is not a valid row in user code.");for(var o=0;o<this.stoppedAtBreakpointRows.length;o++){var n=this.stoppedAtBreakpointRows[o];if(n.scope===e)return void(n.row=t)}this.stoppedAtBreakpointRows.unshift({row:t,scope:e})},e.removeStoppedAtBreakpointRowForScope=function(e){for(var t=0;t<this.stoppedAtBreakpointRows.length;t++){if(this.stoppedAtBreakpointRows[t].scope===e)return void this.stoppedAtBreakpointRows.splice(t,1)}},e.isProgramDone=function(){if(!this.interpreter)return!0;var e=this.interpreter.peekStackFrame();return this.executionError||!e||"Program"===e.node.type&&e.done},e.executeInterpreter=function(e,t){if(this.isExecuting)console.error("Attempt to call executeInterpreter while already executing ignored");else{this.isExecuting=!0,(this.runUntilCallbackReturn=t)&&delete this.lastCallbackRetVal,this.yieldExecution=!1,this.seenReturnFromCallbackDuringExecution=!1;var o=this.paused&&this.nextStep===T.IN&&e,n=!1;if(this.paused)switch(this.nextStep){case T.RUN:return void(this.isExecuting=!1);case T.OUT:if(this.interpreter&&void 0===this.stepOutToStackDepth){this.stepOutToStackDepth=0;for(var r=this.maxValidCallExpressionDepth;0<r;r--)if(this.callExpressionSeenAtDepth[r]){this.stepOutToStackDepth=r;break}}}for(var i,a,s=!1,l=!1,c=!1,u=0;u<this.maxInterpreterStepsPerTick||c;u++){n=this.shouldRunAtMaxSpeed();var d=void 0,p=void 0;d=this.studioApp.hideSource&&n?function(){return-1}:this.studioApp.hideSource||n?this.getUserCodeLine:this.selectCurrentCode;var h=this.interpreter.getScope();if(l&&!c||s&&!c&&!n||this.yieldExecution||this.interpreter.paused_||t&&this.seenReturnFromCallbackDuringExecution)break;if(!(i=C(a=d.call(this),p=this.getLibraryName()))||c||this.atInterstitialNode||!(o||this.isBreakpointRow(a)&&!this.findStoppedAtBreakpointRow(h,a))){if(i&&!this.findStoppedAtBreakpointRow(h,a)&&this.removeStoppedAtBreakpointRowForScope(h),i&&c&&this.replaceStoppedAtBreakpointRowForScope(h,a),this.logExecution&&this.logStep_(),this.executionError=k(this),1e4<this.interpreter.getStackDepth()&&(this.executionError=new Error("Maximum call stack size exceeded.")),this.executionError||!this.interpreter.getStackDepth()){if(this.executionError){var g=i||!!p?a+1:void 0;this.handleError(g,p)}return void(this.isExecuting=!1)}var f=this.interpreter.peekStackFrame(),m=f.node.type;this.atInterstitialNode=S.hasOwnProperty(m),i&&!s&&(s=this.atInterstitialNode||f.done_||"UpdateExpression"===f.node.type&&f.doneLeft_);for(var y=this.interpreter.getStackDepth(),_=y+1;_<=this.maxValidCallExpressionDepth;_++)this.callExpressionSeenAtDepth[_]=!1;this.maxValidCallExpressionDepth=y;var v=i&&"CallExpression"===this.interpreter.peekStackFrame().node.type;if(v&&(this.callExpressionSeenAtDepth[y]=!0),this.paused){if(v&&void 0===this.firstCallStackDepthThisStep&&(this.firstCallStackDepthThisStep=y),!s&&i&&this.nextStep===T.IN&&y>this.firstCallStackDepthThisStep&&(l=!0),s||l){var b=c;c=E.isNextStepSafeWhileUnwinding(this.interpreter),b&&!c&&((i=C(a=d.call(this),p=this.getLibraryName()))||(c=!0))}if((l||s)&&!c)if(this.nextStep===T.OUT&&y>this.stepOutToStackDepth);else if(!(this.nextStep===T.OVER&&void 0!==this.firstCallStackDepthThisStep&&y>this.firstCallStackDepthThisStep)){l=!0,this.nextStep=T.RUN,this.onNextStepChanged.notifyObservers(),i&&this.replaceStoppedAtBreakpointRowForScope(this.interpreter.getScope(),a),delete this.stepOutToStackDepth,delete this.firstCallStackDepthThisStep;break}}}else this.paused?(this.nextStep=T.RUN,this.onNextStepChanged.notifyObservers()):this.onPause.notifyObservers(),this.replaceStoppedAtBreakpointRowForScope(h,a),l=!0,c=E.isNextStepSafeWhileUnwinding(this.interpreter)}n&&(l?this.selectCurrentCode():this.studioApp.editor&&E.clearDropletAceHighlighting(this.studioApp.editor)),this.isExecuting=!1}},e.isOffsetInUserCode_=function(e){return void 0!==e&&void 0!==this.codeInfo&&_(e-this.codeInfo.userCodeStartOffset,this.codeInfo.userCodeLength)},o.getMemberExpressionName_=function(e){var t,o;switch(e.object.type){case"MemberExpression":t=this.getMemberExpressionName_(e.object);break;case"Identifier":t=e.object.name;break;default:throw"Unexpected MemberExpression node object type: "+e.object.type}switch(e.property.type){case"Identifier":o="."+e.property.name;break;case"Literal":o="["+e.property.value+"]";break;default:throw"Unexpected MemberExpression node property type: "+e.object.type}return t+o},e.logStep_=function(){var e=this.interpreter.peekStackFrame(),t=e.node;if(this.isOffsetInUserCode_(t.start)||y(t))if("CallExpression"!==t.type&&"NewExpression"!==t.type||!e.doneCallee_||e.doneExec_||t.arguments[e.n_||0]){if("ForStatement"===t.type){switch(e.mode_||0){case E.ForStatementMode.INIT:this.executionLog.push("[forInit]");break;case E.ForStatementMode.TEST:this.executionLog.push("[forTest]");break;case E.ForStatementMode.UPDATE:this.executionLog.push("[forUpdate]")}}}else switch(t.callee.type){case"Identifier":this.executionLog.push(t.callee.name+":"+t.arguments.length);break;case"MemberExpression":this.executionLog.push(o.getMemberExpressionName_(t.callee)+":"+t.arguments.length);break;default:throw"Unexpected callee node property type: "+t.object.type}},e.getLibraryName=function(){var e;if(this.interpreter.peekStackFrame()){var t=this.interpreter.peekStackFrame().node;t.loc&&(e=t.loc.source)}return e},e.handleError=function(e,t){!e&&this.executionError instanceof SyntaxError&&(e=this.executionError.loc.line,E.selectEditorRowColError(this.studioApp.editor,e-1,this.executionError.loc.column)),this.selectCurrentCode("ace_error"),e||(e=1+this.getNearestUserCodeLine());var o=String(this.executionError);if(t&&(o=p.default.library()+": "+t+": "+o),this.executionError instanceof ReferenceError&&this.executionError.message){var n=/(.*) is not defined/.exec(this.executionError.message);if(n&&n[1]){var r=n[1];o="__"===r?"It looks like you left one of the parameters empty.":"Oops, we can’t figure out what ".concat(r," is - perhaps you ")+"meant the string “".concat(r,"” with quotes? If this is meant to be a ")+"variable, make sure you declared a variable: var ".concat(r)}}this.onExecutionError.notifyObservers(this.executionError,e,o,t)},e.createPrimitive=function(e){if(this.interpreter)return this.interpreter.createPrimitive(e)},e.selectCurrentCode=function(e){return this.studioApp.hideSource||!this.studioApp.editCode?-1:E.selectCurrentCode(this.interpreter,this.codeInfo.cumulativeLength,this.codeInfo.userCodeStartOffset,this.codeInfo.userCodeLength,this.studioApp.editor,e)},e.getUserCodeLine=function(){var e=-1;if(this.interpreter.peekStackFrame()){var t=this.interpreter.peekStackFrame().node;if(y(t))return t.loc.start.line-1;var o=t.start-this.codeInfo.userCodeStartOffset;_(o,this.codeInfo.userCodeLength)&&(e=E.aceFindRow(this.codeInfo.cumulativeLength,0,this.codeInfo.cumulativeLength.length,o))}return e},e.getNearestUserCodeLine=function(){if(this.studioApp.hideSource)return-1;for(var e=-1,t=0;t<this.interpreter.getStackDepth();t++){var o=this.interpreter.peekStackFrame(t).node;if(y(o))return o.loc.start.line-1;var n=o.start-this.codeInfo.userCodeStartOffset;if(_(n,this.codeInfo.userCodeLength)){e=E.aceFindRow(this.codeInfo.cumulativeLength,0,this.codeInfo.cumulativeLength.length,n);break}}return e},e.createGlobalProperty=function(e,t,o){var n;if("function"==typeof t){var r=this.interpreter.makeNativeMemberFunction({nativeFunc:t,nativeParentObj:o});n=this.interpreter.createNativeFunction(r)}else n=this.interpreter.marshalNativeToInterpreter(t,i.valueOr(o,window));this.interpreter.setPropertyWithoutCustomMarshaling(this.globalScope,e,n)},e.getValueFromScope=function(e){for(var t=this.interpreter.getScope();t;){if(this.interpreter.hasProperty(t,e))return this.interpreter.getProperty(t,e);t=t.parentScope}throw new ReferenceError("Unknown identifier: "+e)},e.getWatchValueFromNode_=function(e){if("MemberExpression"===e.type)return this.getValueFromMemberExpression_(e);if("Identifier"===e.type)return this.getValueFromScope(e.name);throw new Error("Invalid")},e.getValueFromMemberExpression_=function(e){var t=this.getWatchValueFromNode_(e.object);return"Identifier"===e.property.type?this.interpreter.getValue([t,e.property.name]):"Literal"===e.property.type?this.interpreter.getValue([t,this.interpreter.createPrimitive(e.property.value)]):void 0},e.evaluateWatchExpression=function(e){var t;try{var o=n.default.parse(e);if("Program"!==o.type||"ExpressionStatement"!==o.body[0].type)throw new Error("Invalid");t=this.getWatchValueFromNode_(o.body[0].expression)}catch(e){return e instanceof Error?e:new Error(e)}return this.interpreter.marshalInterpreterToNative(t)},e.findGlobalFunction=function(e){var t=this.interpreter.getProperty(this.globalScope,e);if("function"===t.type)return t},e.getGlobalFunctionNames=function(){var e=["eval","getCallback","setCallbackRetVal"],t=[];for(var o in this.globalScope.properties){var n=this.globalScope.properties[o];"function"!==n.type||n.nativeFunc||-1!==e.indexOf(o)||t.push(o)}return t},e.getLocalFunctionNames=function(e){e||(e=this.globalScope);var t=[];for(var o in e.properties){var n=e.properties[o];if("function"===n.type&&!n.nativeFunc&&n.node){e!==this.globalScope&&t.push(o);var r=this.interpreter.createScope(n.node.body,n.parentScope),i=this.getLocalFunctionNames(r);t=t.concat(i)}}return t},e.getCurrentState=function(){var e=this.currentEvalInterpreter||this.interpreter;return e&&e.peekStackFrame()},e.evalInCurrentScope=function(e){var t=this.interpreter.getScope(),o=new s.default(e,this.customMarshaler);o.global=this.interpreter.global,o.populateScope_(o.ast,t),o.setStack([{node:o.ast,scope:t,thisExpression:t}]),["ARRAY","BOOLEAN","DATE","FUNCTION","NUMBER","OBJECT","STRING","UNDEFINED"].forEach(function(e){o[e]=this.interpreter[e]},this);try{(this.currentEvalInterpreter=o).run()}finally{this.currentEvalInterpreter=null}return o.value},e.handlePauseContinue=function(){this.paused&&this.nextStep===T.RUN?this.paused=!1:(this.paused=!0,this.nextStep=T.RUN),(0,u.getStore)().dispatch((0,h.setIsDebuggerPaused)(this.paused,this.nextStep))},e.handleStepOver=function(){this.paused=!0,this.nextStep=T.OVER,(0,u.getStore)().dispatch((0,h.setIsDebuggerPaused)(this.paused,this.nextStep))},e.handleStepIn=function(){this.paused=!0,this.nextStep=T.IN,(0,u.getStore)().dispatch((0,h.setIsDebuggerPaused)(this.paused,this.nextStep))},e.handleStepOut=function(){this.paused=!0,this.nextStep=T.OUT,(0,u.getStore)().dispatch((0,h.setIsDebuggerPaused)(this.paused,this.nextStep))},o}();m(t.default=v,"StepType",T),e.exports=t.default},86:function(e,t,o){"use strict";var n=o(346);function i(e,t){return t?n(e):encodeURIComponent(e)}t.extract=function(e){return e.split("?")[1]||""},t.parse=function(e){var r=Object.create(null);return"string"!=typeof e||(e=e.trim().replace(/^(\?|#|&)/,""))&&e.split("&").forEach(function(e){var t=e.replace(/\+/g," ").split("="),o=t.shift(),n=0<t.length?t.join("="):void 0;o=decodeURIComponent(o),n=void 0===n?null:decodeURIComponent(n),void 0===r[o]?r[o]=n:Array.isArray(r[o])?r[o].push(n):r[o]=[r[o],n]}),r},t.stringify=function(n,e){var r=!1!==(e=e||{}).strict;return n?Object.keys(n).sort().map(function(t){var e=n[t];if(void 0===e)return"";if(null===e)return t;if(Array.isArray(e)){var o=[];return e.slice().sort().forEach(function(e){void 0!==e&&(null===e?o.push(i(t,r)):o.push(i(t,r)+"="+i(e,r)))}),o.join("&")}return i(t,r)+"="+i(e,r)}).filter(function(e){return 0<e.length}).join("&"):""}},87:function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},895:function(e,t,o){"use strict";function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(o(658)),n=r(o(0)),l=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var t=d();if(t&&t.has(e))return t.get(e);var o={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(o,r,i):o[r]=e[r]}o.default=e,t&&t.set(e,o);return o}(o(1)),c=r(o(4)),u=r(o(1265));function d(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return d=function(){return e},e}function r(e){return e&&e.__esModule?e:{default:e}}var i,p,h,g={confirmButton:{float:"right"},nextButton:{float:"right"},lightbulb:{margin:"-9px 0px -9px -5px"},hintButton:{marginRight:10}},f=function(e){function t(){return e.apply(this,arguments)||this}return function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(t,e),t.prototype.render=function(){var e,t,o,n,r,i;return this.props.ok&&(e=l.default.createElement("div",{className:"farSide"},l.default.createElement(s.default,{type:"primary",id:"ok-button"},c.default.dialogOK()))),this.props.cancelText&&(t=l.default.createElement(s.default,{type:"cancel",id:"again-button",className:this.props.cancelButtonClass||""},this.props.cancelText)),this.props.confirmText&&(o=l.default.createElement(s.default,{type:"primary",id:"confirm-button",className:"launch",style:g.confirmButton},this.props.confirmText)),this.props.tryAgain&&(r=this.props.isK1&&!this.props.freePlay?l.default.createElement(s.default,{type:"cancel",size:"large",arrow:"left",id:"again-button",className:"launch"},this.props.tryAgain):(this.props.shouldPromptForHint&&(n=l.default.createElement(s.default,{type:"default",id:"hint-request-button",style:g.hintButton},l.default.createElement(u.default,{size:32,style:g.lightbulb}),c.default.hintRequest())),l.default.createElement(s.default,{type:"cancel",id:"again-button",className:"launch"},this.props.tryAgain))),this.props.nextLevel&&(i=this.props.isK1&&!this.props.freePlay?l.default.createElement(s.default,{type:"primary",size:"large",arrow:"right",id:"continue-button",className:"launch",style:g.nextButton},this.props.continueText):l.default.createElement(s.default,{type:"primary",id:"continue-button",className:"launch",style:g.nextButton},this.props.continueText)),l.default.createElement("div",null,e,t,o,n,r,i)},t}(l.Component);t.default=f,i=f,p="propTypes",h={assetUrl:n.default.func,cancelButtonClass:n.default.string,cancelText:n.default.string,confirmText:n.default.string,continueText:n.default.string,freePlay:n.default.bool,isK1:n.default.bool,nextLevel:n.default.bool,ok:n.default.bool,shouldPromptForHint:n.default.bool,tryAgain:n.default.string},p in i?Object.defineProperty(i,p,{value:h,enumerable:!0,configurable:!0,writable:!0}):i[p]=h,e.exports=t.default},896:function(e,t,o){var n;e.exports=(n=n||function(d,e){var o=Object.create||function(){function o(){}return function(e){var t;return o.prototype=e,t=new o,o.prototype=null,t}}(),t={},n=t.lib={},r=n.Base={extend:function(e){var t=o(this);return e&&t.mixIn(e),t.hasOwnProperty("init")&&this.init!==t.init||(t.init=function(){t.$super.init.apply(this,arguments)}),(t.init.prototype=t).$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},p=n.WordArray=r.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:4*e.length},toString:function(e){return(e||a).stringify(this)},concat:function(e){var t=this.words,o=e.words,n=this.sigBytes,r=e.sigBytes;if(this.clamp(),n%4)for(var i=0;i<r;i++){var a=o[i>>>2]>>>24-i%4*8&255;t[n+i>>>2]|=a<<24-(n+i)%4*8}else for(var i=0;i<r;i+=4)t[n+i>>>2]=o[i>>>2];return this.sigBytes+=r,this},clamp:function(){var e=this.words,t=this.sigBytes;e[t>>>2]&=4294967295<<32-t%4*8,e.length=d.ceil(t/4)},clone:function(){var e=r.clone.call(this);return e.words=this.words.slice(0),e},random:function(e){for(var t,o=[],n=function(t){var t=t,o=987654321,n=4294967295;return function(){var e=((o=36969*(65535&o)+(o>>16)&n)<<16)+(t=18e3*(65535&t)+(t>>16)&n)&n;return e/=4294967296,(e+=.5)*(.5<d.random()?1:-1)}},r=0;r<e;r+=4){var i=n(4294967296*(t||d.random()));t=987654071*i(),o.push(4294967296*i()|0)}return new p.init(o,e)}}),i=t.enc={},a=i.Hex={stringify:function(e){for(var t=e.words,o=e.sigBytes,n=[],r=0;r<o;r++){var i=t[r>>>2]>>>24-r%4*8&255;n.push((i>>>4).toString(16)),n.push((15&i).toString(16))}return n.join("")},parse:function(e){for(var t=e.length,o=[],n=0;n<t;n+=2)o[n>>>3]|=parseInt(e.substr(n,2),16)<<24-n%8*4;return new p.init(o,t/2)}},s=i.Latin1={stringify:function(e){for(var t=e.words,o=e.sigBytes,n=[],r=0;r<o;r++){var i=t[r>>>2]>>>24-r%4*8&255;n.push(String.fromCharCode(i))}return n.join("")},parse:function(e){for(var t=e.length,o=[],n=0;n<t;n++)o[n>>>2]|=(255&e.charCodeAt(n))<<24-n%4*8;return new p.init(o,t)}},l=i.Utf8={stringify:function(e){try{return decodeURIComponent(escape(s.stringify(e)))}catch(e){throw new Error("Malformed UTF-8 data")}},parse:function(e){return s.parse(unescape(encodeURIComponent(e)))}},c=n.BufferedBlockAlgorithm=r.extend({reset:function(){this._data=new p.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=l.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(e){var t=this._data,o=t.words,n=t.sigBytes,r=this.blockSize,i=4*r,a=n/i,s=(a=e?d.ceil(a):d.max((0|a)-this._minBufferSize,0))*r,l=d.min(4*s,n);if(s){for(var c=0;c<s;c+=r)this._doProcessBlock(o,c);var u=o.splice(0,s);t.sigBytes-=l}return new p.init(u,l)},clone:function(){var e=r.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0}),u=(n.Hasher=c.extend({cfg:r.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){c.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){e&&this._append(e);var t=this._doFinalize();return t},blockSize:16,_createHelper:function(o){return function(e,t){return new o.init(t).finalize(e)}},_createHmacHelper:function(o){return function(e,t){return new u.HMAC.init(o,t).finalize(e)}}}),t.algo={});return t}(Math),n)},897:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,l=(n=o(10))&&n.__esModule?n:{default:n};t.default=function(t){if((0,l.default)(".project_admin").length&&t.isProjectLevel()&&t.isOwner()&&(t.isFrozen()?((0,l.default)(".project_admin").html((0,l.default)('<span>&#x2744; Frozen! To use as an example, copy this id: <input type="text" disabled value="'+t.getCurrentId()+'"/><div><button id="unfreeze" class="btn btn-default btn-sm">Unfreeze</button><div></span>')),(0,l.default)("#unfreeze").click(function(){t.unfreeze(function(){window.location.reload()})})):((0,l.default)(".project_admin").html((0,l.default)('<button id="freeze" class="btn btn-default btn-sm">Freeze for use as an exemplar &#x2744;</button>')),(0,l.default)("#freeze").click(function(){t.freeze(function(){window.location.reload()})}))),t.isPublished()||(0,l.default)("#unpublished_warning").show(),(0,l.default)("#feature_project").length&&t.isProjectLevel()&&((0,l.default)("#feature_project").click(function(){var e="/featured_projects/".concat(t.getCurrentId(),"/feature");l.default.ajax({url:e,type:"PUT",dataType:"json",success:function(e){(0,l.default)("#unfeature_project").show(),(0,l.default)("#feature_project").hide()},error:function(e){alert("Shucks. Something went wrong - this project wasn't featured.")}})}),(0,l.default)("#unfeature_project").click(function(){var e="/featured_projects/".concat(t.getCurrentId(),"/unfeature");l.default.ajax({url:e,type:"PUT",dataType:"json",success:function(e){(0,l.default)("#unfeature_project").hide(),(0,l.default)("#feature_project").show()},error:function(e){alert("Shucks. Something went wrong - this project is still featured.")}})})),(0,l.default)(".admin-project-sharing").length&&(t.isProjectLevel()||!t.shouldHideShareAndRemix())){var e=t.getSharingDisabled(),o=t.hasPrivacyProfanityViolation(),n=t.getAbuseScore(),r=t.exceedsAbuseThreshold();if(e||o||r){if((0,l.default)(".blocked").show(),(0,l.default)(".blocked-reasons").show(),(0,l.default)(".unblocked").hide(),e&&(0,l.default)(".admin-sharing").show(),o){(0,l.default)(".privacy-profanity").show();var i=t.privacyProfanityDetailsEnglish();i&&((0,l.default)(".eng-flagged-text").text(i),(0,l.default)(".privacy-profanity-details-english").show());var a=t.privacyProfanityDetailsIntl(),s=t.privacyProfanitySecondLanguage();a&&s&&((0,l.default)(".intl-flagged-text").text(a),(0,l.default)(".intl-flagged-language").text(s),(0,l.default)(".privacy-profanity-details-intl").show())}r&&(15===n?((0,l.default)(".abusive-image").show(),(0,l.default)(".image-mod-controls").show()):(0,l.default)(".reported-abuse").show(),(0,l.default)(".admin-abuse").show(),(0,l.default)(".admin-abuse-score").text(n),(0,l.default)(".admin-abuse-reset").click(function(){t.adminResetAbuseScore()}))}else(0,l.default)(".unblocked").show(),(0,l.default)(".blocked").hide(),(0,l.default)(".blocked-reasons").hide()}(0,l.default)("#disable-auto-moderation").click(function(){return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,regeneratorRuntime.awrap(t.disableAutoContentModeration());case 2:(0,l.default)("#disable-auto-moderation").hide(),(0,l.default)("#moderation-explanation").hide(),(0,l.default)("#enable-auto-moderation").show();case 5:case"end":return e.stop()}})}),(0,l.default)("#enable-auto-moderation").click(function(){return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,regeneratorRuntime.awrap(t.enableAutoContentModeration());case 2:(0,l.default)("#disable-auto-moderation").show(),(0,l.default)("#moderation-explanation").show(),(0,l.default)("#enable-auto-moderation").hide();case 5:case"end":return e.stop()}})})},e.exports=t.default},898:function(e,t,o){"use strict";function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var t=c();if(t&&t.has(e))return t.get(e);var o={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(o,r,i):o[r]=e[r]}o.default=e,t&&t.set(e,o);return o}(o(1)),r=l(o(0)),i=l(o(14)),s=l(o(899));function l(e){return e&&e.__esModule?e:{default:e}}function c(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return c=function(){return e},e}var u,d,p,h=function(e){function t(){return e.apply(this,arguments)||this}!function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(t,e);var o=t.prototype;return o.render=function(){return n.default.createElement("button",{type:"button",id:this.props.id,style:this.getStyle(),className:"no-outline "+(this.props.className||""),title:this.props.title,onClick:this.props.onClick},this.props.children)},o.getStyle=function(){return Object.assign({},{":focus":{outline:"none"}},s.default.buttonStyle,s.default.toggleButtonStyle,this.props.active?s.default.activeStyle:s.default.inactiveStyle,this.props.active&&this.props.activeColor&&{backgroundColor:this.props.activeColor},this.props.first?s.default.firstButtonStyle:null,this.props.last?s.default.lastButtonStyle:null,this.props.style)},t}(n.Component);u=h,d="propTypes",p={id:r.default.string,className:r.default.string,active:r.default.bool.isRequired,first:r.default.bool,last:r.default.bool,activeColor:r.default.string,title:r.default.string,style:r.default.object,onClick:r.default.func,children:r.default.node},d in u?Object.defineProperty(u,d,{value:p,enumerable:!0,configurable:!0,writable:!0}):u[d]=p;var g=(0,i.default)(h);t.default=g,e.exports=t.default},899:function(e,t,o){var n=o(6);e.exports={buttonStyle:{display:"inline-block",verticalAlign:"top",borderStyle:"solid",borderColor:n.light_gray,borderTopWidth:1,borderRightWidth:1,borderBottomWidth:1,borderLeftWidth:1,margin:"0 0 8px 0",padding:"2px 6px",fontSize:14},toggleButtonStyle:{borderRightWidth:"0 !important",borderTopLeftRadius:0,borderTopRightRadius:0,borderBottomRightRadius:0,borderBottomLeftRadius:0},firstButtonStyle:{borderBottomLeftRadius:4,borderTopLeftRadius:4},lastButtonStyle:{borderRightWidth:"1px !important",borderBottomRightRadius:4,borderTopRightRadius:4},activeStyle:{backgroundColor:n.orange,color:n.white,boxShadow:"2px 2px 5px "+n.shadow+" inset"},inactiveStyle:{backgroundColor:n.white,color:n.light_gray,boxShadow:"0px 1px 5px "+n.shadow},hiddenStyle:{display:"none"},iconStyle:{margin:"0 0.3em"}}},9:function(e,t,o){"use strict";t.__esModule=!0,t.connect=t.Provider=void 0;var n=i(o(614)),r=i(o(617));function i(e){return e&&e.__esModule?e:{default:e}}t.Provider=n.default,t.connect=r.default},900:function(e,t,o){"use strict";function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.UnconnectedSectionAssigner=void 0;var n=g(o(0)),c=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var t=l();if(t&&t.has(e))return t.get(e);var o={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(o,r,i):o[r]=e[r]}o.default=e,t&&t.set(e,o);return o}(o(1)),r=o(9),u=g(o(4)),i=o(82),d=g(o(1065)),p=g(o(1040)),h=g(o(1042)),s=o(56);function l(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return l=function(){return e},e}function g(e){return e&&e.__esModule?e:{default:e}}function f(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var m={content:{display:"flex"},label:{width:"100%",fontSize:16,fontFamily:'"Gotham 5r", sans-serif',paddingTop:10,paddingBottom:10}},y=function(r){function e(){for(var t,e=arguments.length,o=new Array(e),n=0;n<e;n++)o[n]=arguments[n];return f(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t=r.call.apply(r,[this].concat(o))||this),"onChangeSection",function(e){t.props.selectSection(e)}),t}return function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(e,r),e.prototype.render=function(){var e=this.props,t=e.sections,o=e.showAssignButton,n=e.courseId,r=e.scriptId,i=e.selectedSectionId,a=e.forceReload,s=e.assignmentName,l=t.find(function(e){return e.id===i});return c.default.createElement("div",null,c.default.createElement("div",{style:m.label},u.default.currentSection()),c.default.createElement("div",{style:m.content},c.default.createElement(d.default,{sections:t,onChangeSection:this.onChangeSection,selectedSection:l,forceReload:a,courseId:n,scriptId:r}),l&&l.isAssigned&&c.default.createElement(h.default,{sectionId:l.id}),l&&!l.isAssigned&&o&&c.default.createElement(p.default,{sectionId:l.id,courseId:n,scriptId:r,assignmentName:s,sectionName:l.name})))},e}(c.Component);f(y,"propTypes",{sections:n.default.arrayOf(i.sectionForDropdownShape).isRequired,showAssignButton:n.default.bool,courseId:n.default.number,scriptId:n.default.number,forceReload:n.default.bool,selectSection:n.default.func.isRequired,selectedSectionId:n.default.number,assignmentName:n.default.string});var _=y;t.UnconnectedSectionAssigner=_;var v=(0,r.connect)(function(e){return{selectedSectionId:parseInt(e.teacherSections.selectedSectionId)}},function(t){return{selectSection:function(e){t((0,s.selectSection)(e))}}})(y);t.default=v},901:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(o(0)),i=r(o(1)),a=r(o(4)),s=r(o(66)),l=r(o(23)),c=r(o(287)),u=o(11);function r(e){return e&&e.__esModule?e:{default:e}}function d(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var p={dialog:{padding:20},dialogHeader:{marginTop:0}},h=function(r){function e(){for(var e,t=arguments.length,o=new Array(t),n=0;n<t;n++)o[n]=arguments[n];return d(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e=r.call.apply(r,[this].concat(o))||this),"redirect",function(){(0,u.navigateToHref)(e.props.redirectUrl)}),e}return function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(e,r),e.prototype.render=function(){var e=this.props,t=e.isOpen,o=e.details,n=e.handleClose,r=e.redirectButtonText;return i.default.createElement(s.default,{useUpdatedStyles:!0,isOpen:t,style:p.dialog,handleClose:n},i.default.createElement("div",null,i.default.createElement("h2",{style:p.dialogHeader},a.default.notInRightPlace()),o),i.default.createElement(c.default,null,i.default.createElement(l.default,{__useDeprecatedTag:!0,text:a.default.stayHere(),onClick:n,color:l.default.ButtonColor.gray}),i.default.createElement(l.default,{__useDeprecatedTag:!0,text:r,onClick:this.redirect,color:l.default.ButtonColor.orange})))},e}(i.default.Component);d(t.default=h,"propTypes",{isOpen:n.default.bool.isRequired,details:n.default.string.isRequired,handleClose:n.default.func.isRequired,redirectUrl:n.default.string.isRequired,redirectButtonText:n.default.string.isRequired}),e.exports=t.default},902:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(o(0)),r=a(o(1)),i=a(o(6));function a(e){return e&&e.__esModule?e:{default:e}}var s,l,c,u={container:{marginBottom:20},icon:{margin:5,color:i.default.charcoal},currentPage:{color:i.default.orange}},d=function(e){function t(){return e.apply(this,arguments)||this}return function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(t,e),t.prototype.render=function(){return r.default.createElement("div",{style:u.container,className:"uitest-plcbreadcrumb"},r.default.createElement("a",{href:this.props.course_view_path},"My Learning Plan"),r.default.createElement("span",{className:"fa fa-caret-right",style:u.icon}),this.props.page_name?r.default.createElement("span",null,r.default.createElement("a",{href:this.props.unit_view_path},this.props.unit_name),r.default.createElement("span",{className:"fa fa-caret-right",style:u.icon}),r.default.createElement("span",{style:u.currentPage},this.props.page_name)):r.default.createElement("span",{style:u.currentPage},this.props.unit_name))},t}(r.default.Component);t.default=d,s=d,l="propTypes",c={unit_name:n.default.string,unit_view_path:n.default.string,course_view_path:n.default.string,page_name:n.default.string},l in s?Object.defineProperty(s,l,{value:c,enumerable:!0,configurable:!0,writable:!0}):s[l]=c,e.exports=t.default},903:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=c;var n=l(o(0)),r=l(o(1)),i=o(595),a=l(o(179)),s=l(o(4));function l(e){return e&&e.__esModule?e:{default:e}}function c(e){var t=e.announcements,o=e.width;return r.default.createElement("div",null,t.map(function(e,t){return r.default.createElement(a.default,{key:t,type:e.type,notice:e.notice,details:e.details,buttonText:s.default.learnMore(),buttonLink:e.link,dismissible:!0,width:o})}))}c.propTypes={announcements:n.default.arrayOf(i.announcementShape).isRequired,width:n.default.oneOfType([n.default.number,n.default.string])},e.exports=t.default},904:function(e,t,o){"use strict";function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.setRecommendedAndSelectedVersions=void 0;var n=g(o(0)),s=h(o(1)),l=g(o(4)),r=o(82),c=h(o(176)),u=h(o(629)),d=g(o(1078)),i=g(o(15));function p(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return p=function(){return e},e}function h(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var t=p();if(t&&t.has(e))return t.get(e);var o={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(o,r,i):o[r]=e[r]}return o.default=e,t&&t.set(e,o),o}function g(e){return e&&e.__esModule?e:{default:e}}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var y=(0,i.default)(u.columnWidths).values().reduce(i.default.add)+2*c.STANDARD_PADDING,_={version:{display:"inline-block",marginTop:4},dropdownLabel:{fontFamily:'"Gotham 5r", sans-serif'},popUpMenuStyle:{zIndex:1051,maxWidth:null,width:y}};t.setRecommendedAndSelectedVersions=function(e){var t,o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;e=e.sort(function(e,t){return parseInt(e.year)-parseInt(t.year)}).reverse(),o&&(t=e.find(function(e){var t=(e.locales||[]).includes(o)||o.toLowerCase().startsWith("en");return e.isStable&&t})),(t=t||e.find(function(e){return e.isStable}))&&(t.isRecommended=!0);var r=e.find(function(e){return e.year===n})||t||e[0];return r&&(r.isSelected=!0),e};var v=function(r){function e(){for(var o,e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return m(f(o=r.call.apply(r,[this].concat(t))||this),"state",{isMenuOpen:!1,canMenuOpen:!0,targetPoint:{top:0,left:0}}),m(f(o),"handleMouseDown",function(e){e.preventDefault()}),m(f(o),"handleClick",function(){!o.state.isMenuOpen&&o.state.canMenuOpen&&o.openMenu()}),m(f(o),"beforeClose",function(e,t){t(),o.closeMenu(),window.setTimeout(function(){o.setState({canMenuOpen:!0})})}),m(f(o),"handleNativeDropdownChange",function(e){var t=e.target.value;o.props.onChangeVersion(t)}),m(f(o),"chooseMenuItem",function(e){o.props.onChangeVersion(e),o.closeMenu()}),o}!function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(e,r);var t=e.prototype;return t.openMenu=function(){var e=this.select.getBoundingClientRect(),t={top:e.bottom+window.pageYOffset,left:e.left+window.pageXOffset};this.setState({isMenuOpen:!0,canMenuOpen:!1,targetPoint:t})},t.closeMenu=function(){this.setState({isMenuOpen:!1})},t.render=function(){var t=this,e=this.props,o=e.dropdownStyle,n=e.versions,r=e.disabled,i=n.find(function(e){return e.isSelected}).year,a={x:this.props.rightJustifiedPopupMenu?-y/2:0,y:0};return s.default.createElement("span",{style:_.version,id:"uitest-version-selector"},s.default.createElement("div",{style:_.dropdownLabel},l.default.assignmentSelectorVersion()),s.default.createElement("select",{id:"assignment-version-year",value:i,onChange:this.handleNativeDropdownChange,onMouseDown:this.handleMouseDown,onClick:this.handleClick,style:o,disabled:r,ref:function(e){return t.select=e}},n.map(function(e){return s.default.createElement("option",{key:e.year,value:e.year},e.isRecommended?"".concat(e.title," (").concat(l.default.recommended(),")"):e.title)})),s.default.createElement(c.default,{isOpen:this.state.isMenuOpen,targetPoint:this.state.targetPoint,offset:a,style:_.popUpMenuStyle,beforeClose:this.beforeClose},s.default.createElement(d.default,null),n.map(function(e){return s.default.createElement(u.default,{version:e,onClick:function(){return t.chooseMenuItem(e.year)},key:e.year})})))},e}(s.Component);m(t.default=v,"propTypes",{dropdownStyle:n.default.object,onChangeVersion:n.default.func.isRequired,versions:n.default.arrayOf(r.assignmentVersionShape),disabled:n.default.bool,rightJustifiedPopupMenu:n.default.bool})},905:function(e,t,o){"use strict";function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=d(o(1)),r=c(o(0)),i=d(o(179)),s=c(o(4)),l=c(o(10));function c(e){return e&&e.__esModule?e:{default:e}}function u(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return u=function(){return e},e}function d(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var t=u();if(t&&t.has(e))return t.get(e);var o={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(o,r,i):o[r]=e[r]}return o.default=e,t&&t.set(e,o),o}var p,h,g,f=function(o){function e(e){var t;return(t=o.call(this,e)||this).state={numFeedbackLevels:0},t}!function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(e,o);var t=e.prototype;return t.componentWillMount=function(){var t=this,e=this.props.studentId;l.default.ajax({url:"/api/v1/teacher_feedbacks/count?student_id=".concat(e),method:"GET",dataType:"json"}).done(function(e){t.setState({numFeedbackLevels:e})})},t.render=function(){var e=s.default.feedbackNotificationDetails({numFeedbackLevels:this.state.numFeedbackLevels});return n.default.createElement("div",null,0<this.state.numFeedbackLevels&&n.default.createElement(i.default,{type:i.NotificationType.feedback,notice:s.default.feedbackNotification(),details:e,buttonText:s.default.feedbackNotificationButton(),buttonLink:"/feedback",dismissible:!1,analyticId:"student-feedback"}))},e}(n.Component);t.default=f,p=f,h="propTypes",g={studentId:r.default.number.isRequired},h in p?Object.defineProperty(p,h,{value:g,enumerable:!0,configurable:!0,writable:!0}):p[h]=g,e.exports=t.default},906:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(o(18)),r=s(o(0)),i=s(o(14)),a=s(o(1));function s(e){return e&&e.__esModule?e:{default:e}}var l,c,u,d=function(e){function t(){return e.apply(this,arguments)||this}return function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(t,e),t.prototype.render=function(){var e=this.props.isPending?[this.props.style,this.props.pendingStyle]:this.props.style;return a.default.createElement("button",{type:"button",id:this.props.id,style:e,className:this.props.className,onClick:this.props.isPending?function(){}:this.props.onClick},this.props.isPending?a.default.createElement("span",null,this.props.pendingText," ",a.default.createElement(n.default,{icon:"spinner",className:"fa-spin"})):this.props.text)},t}(a.default.Component);l=d,c="propTypes",u={className:r.default.string,id:r.default.string,isPending:r.default.bool.isRequired,onClick:r.default.func.isRequired,pendingStyle:r.default.any,pendingText:r.default.string.isRequired,style:r.default.any,text:r.default.string.isRequired},c in l?Object.defineProperty(l,c,{value:u,enumerable:!0,configurable:!0,writable:!0}):l[c]=u;var p=(0,i.default)(d);t.default=p,e.exports=t.default},907:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=l(o(393)),r=l(o(1245)),y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e},i=function(){function n(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,o){return t&&n(e.prototype,t),o&&n(e,o),e}}(),_=l(o(1)),a=l(o(908)),v=l(o(698)),b=l(o(699)),E=l(o(520)),s=o(361);function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,_.default.Component),i(t,[{key:"shouldComponentUpdate",value:function(e){var t=this.props,o=e.renderers;return o&&o.row&&o.row.shouldComponentUpdate?!(0,n.default)(o.row.shouldComponentUpdate)||o.row.shouldComponentUpdate.call(this,e):!((0,a.default)(t.columns,e.columns)&&(0,r.default)(t.rowData,e.rowData))}},{key:"render",value:function(){var e=this.props,t=e.columns,h=e.renderers,o=e.onRow,g=e.rowKey,f=e.rowIndex,m=e.rowData;return _.default.createElement(h.row,o(m,{rowIndex:f,rowKey:g}),t.map(function(e,t){var o=e.property,n=e.cell,r=e.props,i=o||n&&n.property,a=n||{},s=a.transforms,l=void 0===s?[]:s,c=a.formatters,u=void 0===c?[]:c,d={columnIndex:t,property:i,column:e,rowData:m,rowIndex:f,rowKey:g},p=(0,b.default)(l,m[i],d);return p||console.warn("Table.Body - Failed to receive a transformed result"),_.default.createElement(h.cell,y({key:t+"-cell"},(0,E.default)(r,n&&n.props,p)),p.children||(0,v.default)(u)(m["_"+i]||m[i],d))}))}}]),t}();c.defaultProps=s.tableBodyRowDefaults,t.default=c},908:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(o(2334)),r=i(o(393));function i(e){return e&&e.__esModule?e:{default:e}}t.default=function(e,t){return(0,n.default)(e,t,function(e,t){if((0,r.default)(e)&&(0,r.default)(t))return!0})}},909:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,r=o(634);(n=r)&&n.__esModule;t.default=function(e){var t=e.rowData,o=e.rowIndex,n=e.rowKey;return"function"==typeof n?n({rowData:t,rowIndex:o})+"-row":0===t[n]?t[n]+"-row":(t[n]||o)+"-row"}},92:function(e){e.exports={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"}},93:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=f(o(0)),r=f(o(1)),i=f(o(398)),a=f(o(363)),s=f(o(428)),l=f(o(456)),c=f(o(364)),u=f(o(252)),d=f(o(469)),p=f(o(470)),h=f(o(471)),g=f(o(472));function f(e){return e&&e.__esModule?e:{default:e}}var m=Object.assign({},u.default);m.attributes.img.push("height","width"),m.tagNames.push("span"),m.attributes.span=["dataUrl","className"],m.attributes["*"].push("style","className"),m.clobber=[];var y=["block","functional_input","mutation","next","statement","title","value","xml"];m.tagNames=m.tagNames.concat(y),y.forEach(function(e){m.attributes[e]=["block_text","id","inline","name","type"]});var _,v,b,E=i.default.create().getParser().use([g.default,p.default,d.default]).use(a.default,{allowDangerousHTML:!0}).use(s.default).use(l.default,m).use(c.default,{createElement:r.default.createElement}),T=E().use(h.default,{links:"all"}),S=function(e){function t(){return e.apply(this,arguments)||this}return function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(t,e),t.prototype.render=function(){var e=(this.props.openExternalLinksInNewTab?T:E).processSync(this.props.markdown).contents;return e&&"div"===e.type?e:r.default.createElement("div",null,e)},t}(r.default.Component);t.default=S,_=S,v="propTypes",b={markdown:n.default.string.isRequired,openExternalLinksInNewTab:n.default.bool},v in _?Object.defineProperty(_,v,{value:b,enumerable:!0,configurable:!0,writable:!0}):_[v]=b,e.exports=t.default},95:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:B,o=1<arguments.length?arguments[1]:void 0;if(o.type===f){var e=o.stages,n=t.currentStageId||(1===e.length?e[0].id:void 0);return h({},t,{currentLevelId:o.currentLevelId,professionalLearningCourse:o.professionalLearningCourse,saveAnswersBeforeNavigation:o.saveAnswersBeforeNavigation,stages:R(e,o.professionalLearningCourse),peerReviewStage:o.peerReviewStage,scriptId:o.scriptId,scriptName:o.scriptName,scriptTitle:o.scriptTitle,scriptDescription:o.scriptDescription,betaTitle:o.betaTitle,courseId:o.courseId,currentStageId:n,hasFullProgress:o.isFullProgress})}if(o.type===m)return h({},t,{levelProgress:B.levelProgress});if(o.type===y){var r={},i=Object.keys(h({},t.levelProgress,o.levelProgress));return i.forEach(function(e){r[e]=(0,s.mergeActivityResult)(t.levelProgress[e],o.levelProgress[e])}),h({},t,{levelProgress:r})}if(o.type===_)return h({},t,{peerReviewStage:h({},t.peerReviewStage,{levels:t.peerReviewStage.levels.map(function(e,t){return h({},e,o.peerReviewsPerformed[t])})})});if(o.type===v)return h({},t,{changeFocusAreaPath:o.changeFocusAreaPath,focusAreaStageIds:o.focusAreaStageIds});if(o.type===b)return h({},t,{showTeacherInfo:!0});if(o.type===E)return h({},t,{postMilestoneDisabled:!0});if(o.type===T)return h({},t,{isHocScript:o.isHocScript});if(o.type===S)return h({},t,{isAge13Required:o.isAge13Required});if(o.type===k)return h({},t,{isSummaryView:o.isSummaryView});if(o.type===C)return h({},t,{studentDefaultsSummaryView:o.studentDefaultsSummaryView});if(o.type===l.SET_VIEW_TYPE){var a=o.viewType;return h({},t,{isSummaryView:a===l.ViewType.Student&&t.studentDefaultsSummaryView})}if(o.type!==A)return o.type!==O?o.type!==w?t:h({},t,{stageExtrasEnabled:o.stageExtrasEnabled}):h({},t,{scriptCompleted:!0});if(t.currentStageId)return t;return h({},t,{currentStageId:o.stageId})},t.processedStages=R,t.statusForLevel=V,t.__testonly__=t.progressionsFromLevels=t.categorizedLessons=t.getPercentPerfect=t.isPerfect=t.stageExtrasUrl=t.levelsForLessonId=t.levelsByLesson=t.lessons=t.hasGroups=t.hasLockableStages=t.queryUserProgress=t.setStageExtrasEnabled=t.setScriptCompleted=t.setCurrentStageId=t.setStudentDefaultsSummaryView=t.setIsSummaryView=t.setIsAge13Required=t.setIsHocScript=t.disablePostMilestone=t.showTeacherInfo=t.updateFocusArea=t.mergePeerReviewProgress=t.mergeProgress=t.initProgress=t.getLevelResult=t.INIT_PROGRESS=void 0;var i=n(o(10)),c=n(o(15)),s=o(604),u=o(61),r=o(37),l=o(59),a=o(128),d=o(348),p=o(136);function n(e){return e&&e.__esModule?e:{default:e}}function h(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{},n=Object.keys(Object(o));"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(o).filter(function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable}))),n.forEach(function(e){g(t,e,o[e])})}return t}function g(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var f="progress/INIT_PROGRESS";t.INIT_PROGRESS=f;var m="progress/CLEAR_PROGRESS",y="progress/MERGE_PROGRESS",_="progress/MERGE_PEER_REVIEW_PROGRESS",v="progress/UPDATE_FOCUS_AREAS",b="progress/SHOW_TEACHER_INFO",E="progress/DISABLE_POST_MILESTONE",T="progress/SET_IS_HOC_SCRIPT",S="progress/SET_IS_AGE_13_REQUIRED",k="progress/SET_IS_SUMMARY_VIEW",C="progress/SET_STUDENT_DEFAULTS_SUMMARY_VIEW",A="progress/SET_CURRENT_STAGE_ID",O="progress/SET_SCRIPT_COMPLETED",w="progress/SET_STAGE_EXTRAS_ENABLED",B={currentLevelId:null,currentStageId:null,professionalLearningCourse:null,saveAnswersBeforeNavigation:null,stages:null,scriptId:null,scriptName:null,scriptTitle:null,courseId:null,levelProgress:{},focusAreaStageIds:[],peerReviewStage:null,peerReviewsPerformed:[],showTeacherInfo:!1,postMilestoneDisabled:!1,isHocScript:null,isAge13Required:!1,studentDefaultsSummaryView:!0,isSummaryView:!0,hasFullProgress:!1,stageExtrasEnabled:!1};var I=function(e){return e.status===u.LevelStatus.locked?r.TestResults.LOCKED_RESULT:e.readonly_answers?r.TestResults.READONLY_SUBMISSION_RESULT:e.submitted?r.TestResults.SUBMITTED_RESULT:e.result};function R(e,o){var n=0;return e.map(function(e){var t;return o||e.lockable||(t=++n),h({},c.default.omit(e,"hidden"),{stageNumber:t})})}t.getLevelResult=I;t.initProgress=function(e){var t=e.currentLevelId,o=e.professionalLearningCourse,n=e.saveAnswersBeforeNavigation,r=e.stages,i=e.peerReviewStage,a=e.scriptId,s=e.scriptName,l=e.scriptTitle,c=e.scriptDescription,u=e.betaTitle,d=e.courseId,p=e.isFullProgress;return{type:f,currentLevelId:t,professionalLearningCourse:o,saveAnswersBeforeNavigation:n,stages:r,peerReviewStage:i,scriptId:a,scriptName:s,scriptTitle:l,scriptDescription:c,betaTitle:u,courseId:d,isFullProgress:p}};var N=function(e){return{type:y,levelProgress:e}};t.mergeProgress=N;var P=function(e){return{type:_,peerReviewsPerformed:e}};t.mergePeerReviewProgress=P;var L=function(e,t){return{type:v,changeFocusAreaPath:e,focusAreaStageIds:t}};t.updateFocusArea=L;var x=function(){return{type:b}};t.showTeacherInfo=x;t.disablePostMilestone=function(){return{type:E}};t.setIsHocScript=function(e){return{type:T,isHocScript:e}};t.setIsAge13Required=function(e){return{type:S,isAge13Required:e}};var D=function(e){return{type:k,isSummaryView:e}};t.setIsSummaryView=D;t.setStudentDefaultsSummaryView=function(e){return{type:C,studentDefaultsSummaryView:e}};var M=function(e){return{type:A,stageId:e}};t.setCurrentStageId=M;var U=function(){return{type:O}};t.setScriptCompleted=U;t.setStageExtrasEnabled=function(e){return{type:w,stageExtrasEnabled:e}};t.queryUserProgress=function(o){return function(e,t){return function(n,r){var e=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(n.scriptName)return e&&r({type:m}),i.default.ajax({url:"/api/user_progress/".concat(n.scriptName),method:"GET",data:{user_id:e}}).done(function(e){(e=e||{}).isVerifiedTeacher&&r((0,d.setVerified)());var t=!n.currentLevelId;if((e.isTeacher||e.teacherViewingStudent)&&!e.professionalLearningCourse&&t&&(r(D(e.teacherViewingStudent)),r(x())),e.focusAreaStageIds&&r(L(e.changeFocusAreaPath,e.focusAreaStageIds)),e.lockableAuthorized&&r((0,p.authorizeLockable)()),e.completed&&r(U()),e.levels){var o=c.default.mapValues(e.levels,I);r(N(o)),e.peerReviewsPerformed&&r(P(e.peerReviewsPerformed)),e.current_stage&&r(M(e.current_stage))}});var t="Could not request progress for user ID ".concat(e," from server: scriptName must be present in progress redux.");throw new Error(t)}(t().progress,e,o)}};t.hasLockableStages=function(e){return e.stages.some(function(e){return e.lockable})};t.hasGroups=function(e){return 1<Object.keys(W(e)).length};var F=function(e,t){return h({},H(e.stages[t]),{isFocusArea:e.focusAreaStageIds.includes(e.stages[t].id)})},H=function(e){return c.default.pick(e,["name","id","lockable","stageNumber","lesson_plan_html_url","description_student","description_teacher"])};t.lessons=function(o){return o.stages.map(function(e,t){return F(o,t)})};var j=function(e,t){var o=e.levelProgress,n=e.levelPairing,r=void 0===n?{}:n,i=e.currentLevelId;if(t.kind!==u.LevelKind.unplugged&&(!t.title||"number"!=typeof t.title))throw new Error("Expect all non-unplugged levels to have a numerical title");return h({},(0,a.processedLevel)(t),{status:V(t,o),isCurrentLevel:function(e,t){return!!e&&(t.ids&&-1!==t.ids.map(function(e){return e.toString()}).indexOf(e)||t.uid===e)}(i,t),paired:r[t.activeId],readonlyAnswers:t.readonly_answers})},G=function(e){var t=e.stages,o=e.levelProgress,n=e.levelPairing,r=e.currentLevelId;return t.map(function(e){return e.levels.map(function(e){return j({levelProgress:o,levelPairing:n,currentLevelId:r},e)})})};t.levelsByLesson=G;t.levelsForLessonId=function(t,o){return t.stages.find(function(e){return e.id===o}).levels.map(function(e){return j(t,e)})};t.stageExtrasUrl=function(e,t){return e.stageExtrasEnabled?e.stages.find(function(e){return e.id===t}).stage_extras_level_url:""};t.isPerfect=function(e,t){return!!e.levelProgress&&e.levelProgress[t]>=r.TestResults.MINIMUM_OPTIMAL_RESULT};function V(e,t){if(e.kind===u.LevelKind.peer_review)return e.locked?u.LevelStatus.locked:e.status;var o=e.uid||function(e,o){if(1===e.length)return e[0];var t=e.filter(function(e){return o[e]});if(0===t.length)return e[0];var n=t[0],r=o[n];return t.forEach(function(e){var t=o[e];r<t&&(n=e,r=t)}),n}(e.ids,t),n=(0,s.activityCssClass)(t[o]);return e.uid&&e.ids.every(function(e){return t[e]===r.TestResults.LOCKED_RESULT})&&(n=u.LevelStatus.locked),e.kind===u.LevelKind.assessment&&[u.LevelStatus.free_play_complete,u.LevelStatus.perfect,u.LevelStatus.passed].includes(n)?u.LevelStatus.completed_assessment:n}t.getPercentPerfect=function(e){var t=e.filter(function(e){return!e.isConceptLevel});return 0===t.length?0:t.reduce(function(e,t){return e+(t.status===u.LevelStatus.perfect)},0)/t.length};var W=function(i){var a=1<arguments.length&&void 0!==arguments[1]&&arguments[1],s={},l=G(i);return i.stages.forEach(function(e,t){var o=e.flex_category,n=F(i,t),r=l[t];a||(r=r.filter(function(e){return!e.bonus})),s[o]=s[o]||{category:o,lessons:[],levels:[]},s[o].lessons.push(n),s[o].levels.push(r)}),i.peerReviewStage&&(s["Peer Review"]={category:"Peer Review",lessons:[function(e){return h({},H(e.peerReviewStage),{id:-1,lockable:!1,isFocusArea:!1})}(i)],levels:[function(e){return e.peerReviewStage.levels.map(function(e,t){return{id:-1,status:e.locked?u.LevelStatus.locked:e.status,url:e.url,name:e.name,icon:e.locked?e.icon:void 0,levelNumber:t+1}})}(i)]}),c.default.values(s)};t.categorizedLessons=W;t.progressionsFromLevels=function(e){var o=[],n={start:0,name:e[0].progression||e[0].name,levels:[e[0]]};return e.slice(1).forEach(function(e,t){(e.progression||e.name)===n.name?n.levels.push(e):(o.push(n),n={start:t+1,name:e.progression||e.name,levels:[e]})}),o.push(n),o};var z={};t.__testonly__=z},96:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setWindowLocation=function(e){l=e},t.resetWindowLocation=function(){l=window.location},t.hasQueryParam=function(e){var t=r();return Object.prototype.hasOwnProperty.call(t,e)},t.queryParams=r,t.updateQueryParam=function(e,t){var o=2<arguments.length&&void 0!==arguments[2]&&arguments[2],n=a.default.stringify(function(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{},n=Object.keys(Object(o));"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(o).filter(function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable}))),n.forEach(function(e){s(t,e,o[e])})}return t}({},a.default.parse(l.search),s({},e,t))),r=l.pathname;n&&(r+="?"+n);var i=o?"replaceState":"pushState";window.history[i](null,document.title,r)},t.environmentSpecificCookieName=function(e){var t=window.dashboard.rack_env;return"production"!==t?"".concat(e,"_").concat(t):e},t.getRootDomainFromHostname=function(e){return e.split(".").slice(-2).join(".")};var n,a=(n=o(86))&&n.__esModule?n:{default:n};function s(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var l=window.location;function r(e){var t=a.default.parse(l.search);return e?t[e]:t}}}]);
